"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6504],{33839:(e,t,n)=>{let l,a;n.r(t),n.d(t,{Account:()=>fF,ActionsProvider:()=>fB,AnimateHeight:()=>aX,AppHeader:()=>f7,ArrayField:()=>hI,AuthProvider:()=>lh,Banner:()=>tn,BlockSelector:()=>od,BlocksDrawer:()=>op,BlocksField:()=>oy,BrowseByFolderButton:()=>vb,BulkUploadDrawer:()=>hp,BulkUploadProvider:()=>hb,Button:()=>tS,CalendarIcon:()=>s.m,Card:()=>me,CheckIcon:()=>aB,CheckboxField:()=>aq,CheckboxInput:()=>aV,ChevronIcon:()=>tl,ClientFunctionProvider:()=>ba,CloseMenuIcon:()=>fz,CodeBlockIcon:()=>v1,CodeEdiftor:()=>i.l,CodeEditorLazy:()=>ow,CodeField:()=>oC,Collapsible:()=>a1,CollapsibleField:()=>oN,Combobox:()=>vv,ConfigProvider:()=>i.b,ConfirmPasswordField:()=>hB,ConfirmationModal:()=>ls,CopyIcon:()=>tD,CopyLocaleData:()=>ml,CopyToClipboard:()=>pB,DateCell:()=>cz,DateCondition:()=>gC,DatePicker:()=>s.n,DateTimeField:()=>sV,DefaultBlockImage:()=>or,DefaultBrowseByFolderView:()=>b9,DefaultCell:()=>c$,DefaultCollectionFolderView:()=>b3,DefaultEditView:()=>yN,DefaultListView:()=>bI,DeleteMany:()=>mh,DocumentControls:()=>mQ,DocumentEventsProvider:()=>uC,DocumentFields:()=>dG,DocumentIcon:()=>vx,DocumentInfoProvider:()=>a_,DocumentLocked:()=>fD,DocumentTakeOver:()=>fN,DragHandleIcon:()=>aG,Drawer:()=>ll,DrawerContentContainer:()=>d4,DrawerToggler:()=>ln,Dropzone:()=>dw,EditDepthProvider:()=>nt,EditIcon:()=>ta,EditMany:()=>gt,EditUpload:()=>pO,EmailAndUsernameFields:()=>bT,EmailField:()=>sH,EntityVisibilityProvider:()=>bf,ErrorIcon:()=>v7,ErrorPill:()=>t4,ExternalLinkIcon:()=>mA,FieldContext:()=>aT,FieldDescription:()=>t7,FieldDiffContainer:()=>yD,FieldDiffLabel:()=>yE,FieldError:()=>t9,FieldLabel:()=>lC,FieldPathContext:()=>aP,File:()=>cU,FileDetails:()=>pq,FolderFileTable:()=>vL,FolderIcon:()=>dX,FolderProvider:()=>dZ,FolderTypeField:()=>vy,Form:()=>u9,FormLoadingOverlayToggle:()=>cb,FormSubmit:()=>d2,FullscreenModal:()=>gl,GearIcon:()=>v6,GenerateConfirmation:()=>ga,GridViewIcon:()=>v4,GroupByHeader:()=>vl,GroupByPageControls:()=>vd,GroupField:()=>s$,Gutter:()=>n7,Hamburger:()=>fH,HiddenField:()=>sZ,HydrateAuthProvider:()=>gr,InfoIcon:()=>v9,ItemCardGrid:()=>vV,ItemsDrawer:()=>vZ,JSONField:()=>ua,JoinField:()=>ul,LeaveWithoutSaving:()=>fC,LineIcon:()=>az,Link:()=>te,LinkIcon:()=>to,ListControls:()=>gV,ListDrawerContextProvider:()=>s1,ListHeader:()=>vt,ListQueryProvider:()=>s7,ListSelection:()=>gZ,ListViewIcon:()=>v8,LivePreviewProvider:()=>bu,LivePreviewWindow:()=>yg,LoadingOverlay:()=>cg,LoadingOverlayToggle:()=>cv,LocaleProvider:()=>lb,Locked:()=>mD,LogOutIcon:()=>vp,Logout:()=>vh,MenuIcon:()=>fU,MinimizeMaximizeIcon:()=>v2,Modal:()=>nI,MoreIcon:()=>tP,MoveDocToFolder:()=>px,MoveDocToFolderButton:()=>pj,MoveFolderIcon:()=>v5,NavContext:()=>fY,NavGroup:()=>vm,NavProvider:()=>f$,NavToggler:()=>fJ,NullifyLocaleField:()=>aW,NumberCondition:()=>gS,NumberField:()=>uo,OperationProvider:()=>aN,OrderableTable:()=>fe,PageConfigProvider:()=>i.d,PageControls:()=>vc,PageControlsComponent:()=>vs,Pagination:()=>c8,ParamsProvider:()=>bv,PasswordField:()=>hV,PayloadIcon:()=>f0,PerPage:()=>vr,Pill:()=>a4,PillSelector:()=>cr,PlusIcon:()=>tr,PointField:()=>ui,Popup:()=>ty,PopupList:()=>ts,PreferencesProvider:()=>ag,PreviewButton:()=>mR,PreviewSizes:()=>pY,ProgressBar:()=>bp,PublishButton:()=>mB,PublishMany:()=>gq,QueryPresetsAccessCell:()=>fl,QueryPresetsColumnField:()=>fb,QueryPresetsColumnsCell:()=>ft,QueryPresetsGroupByCell:()=>fv,QueryPresetsGroupByField:()=>fw,QueryPresetsWhereCell:()=>fn,QueryPresetsWhereField:()=>fx,RadioGroupField:()=>ud,ReactSelect:()=>sI,RelationshipCondition:()=>gD,RelationshipField:()=>uV,RelationshipInput:()=>uU,RelationshipProvider:()=>cA,RelationshipTable:()=>ue,RenderCustomComponent:()=>ed,RenderDefaultCell:()=>c1,RenderFields:()=>hL,RenderTitle:()=>vK,RichTextField:()=>uH,RootProvider:()=>bD,RouteCacheProvider:()=>d1,RouteTransitionProvider:()=>e6,RowField:()=>uq,RowLabel:()=>eU,RowLabelProvider:()=>eB,SaveButton:()=>mV,SaveDraftButton:()=>mH,ScrollInfoProvider:()=>bj,SearchFilter:()=>gx,SearchIcon:()=>oi,SearchParamsProvider:()=>bN,SectionTitle:()=>om,Select:()=>sI,SelectAll:()=>bR,SelectCondition:()=>gT,SelectField:()=>uQ,SelectInput:()=>uW,SelectMany:()=>bF,SelectRow:()=>bO,SelectionProvider:()=>ms,ServerFunctionsContext:()=>s9,ServerFunctionsProvider:()=>ct,SetDocumentStepNav:()=>yS,SetDocumentTitle:()=>y_,SetStepNav:()=>f6,ShimmerEffect:()=>i.f,SlugField:()=>vJ,SortColumn:()=>vY,SortHeader:()=>h6,SortRow:()=>h4,StaggeredShimmers:()=>i.g,StickyToolbar:()=>vu,SuccessIcon:()=>be,SwapIcon:()=>ti,TabComponent:()=>dt,Table:()=>mO,TableColumnsProvider:()=>ca,TabsField:()=>da,TabsProvider:()=>sQ,TextCondition:()=>gR,TextField:()=>dh,TextInput:()=>du,TextareaField:()=>dm,TextareaInput:()=>df,ThemeProvider:()=>i.i,Thumbnail:()=>cH,TimezonePicker:()=>sz,Tooltip:()=>tw,Translation:()=>pn,TranslationProvider:()=>s.c,UIField:()=>dg,UnpublishMany:()=>gX,Upload:()=>p0,UploadEditsProvider:()=>ay,UploadField:()=>hT,UploadHandlersProvider:()=>uJ,UploadInput:()=>hD,ViewDescription:()=>fT,WarningIcon:()=>bt,WatchChildErrors:()=>o_,WatchCondition:()=>aL,WindowInfoProvider:()=>bS,XIcon:()=>s.a,allFieldComponents:()=>hq,defaultTheme:()=>i.h,documentDrawerBaseClass:()=>c_,fieldBaseClass:()=>aM,fieldComponents:()=>hH,fieldReducer:()=>u8,formatDrawerSlug:()=>lt,formatTimeToNow:()=>ai,getHTMLDiffComponents:()=>m1,parseSearchParams:()=>s2,toast:()=>eZ,useActions:()=>fI,useAddClientFunction:()=>bo,useAllFormFields:()=>eM,useAuth:()=>lf,useBulkUpload:()=>hy,useBulkUploadDrawerSlug:()=>hx,useCellProps:()=>c0,useClickOutside:()=>m5,useClickOutsideContext:()=>m6,useClientFunctions:()=>br,useCollapsible:()=>aJ,useConfig:()=>i.c,useControllableState:()=>i.a,useDebounce:()=>cP,useDebouncedCallback:()=>ux,useDebouncedEffect:()=>u$,useDelay:()=>i.e,useDelayedRender:()=>cc,useDocumentDrawer:()=>cE,useDocumentDrawerContext:()=>cC,useDocumentEvents:()=>uS,useDocumentForm:()=>eP,useDocumentInfo:()=>aC,useDocumentTitle:()=>ap,useDrawerSlug:()=>n9,useEditDepth:()=>nn,useEffectEvent:()=>tf,useEntityVisibility:()=>bm,useField:()=>aA,useFieldPath:()=>aD,useFolder:()=>dJ,useForm:()=>eE,useFormBackgroundProcessing:()=>eR,useFormFields:()=>eF,useFormInitializing:()=>eO,useFormModified:()=>eL,useFormProcessing:()=>eA,useFormSubmitted:()=>eT,useHotkey:()=>hY,useIntersect:()=>tx,useListDrawer:()=>ub,useListDrawerContext:()=>s3,useListQuery:()=>s5,useListRelationships:()=>cR,useLivePreviewContext:()=>mg,useLocale:()=>lx,useModal:()=>nj,useNav:()=>fG,useOperation:()=>aE,useParams:()=>bb,usePayloadAPI:()=>hZ,usePreferences:()=>av,useQueue:()=>uw,useResize:()=>hJ,useRouteCache:()=>d3,useRouteTransition:()=>e4,useRowLabel:()=>ez,useScrollInfo:()=>bx,useSearchParams:()=>bE,useSelection:()=>mc,useServerFunctions:()=>ce,useStepNav:()=>f1,useTableColumns:()=>cl,useTheme:()=>i.j,useThrottledEffect:()=>lk,useTranslation:()=>s.d,useUploadControls:()=>dy,useUploadEdits:()=>ax,useUploadHandlers:()=>u0,useUseTitleField:()=>h0,useWatchForm:()=>eD,useWindowInfo:()=>b_,withCondition:()=>aO});var o=n(91403),r=n(84362),i=n(84274),s=n(94490),c=n(66457),u=n(73627),d=n(87101),p=n(38476),h=n(833),f=n(96221),m=n(28130),g=n(25179),v=n(58230),b=n(72968),y=n(2185),x=n(59517),w=n(22087),j=n(31358),C=n(30523),S=n(52903),_=n(64725),k=n(91390),N=n(64845),E=n(82489),P=n(90036),D=n(94170),T=n(54148),A=n(54418),R=n(45212),L=n(6285),O=n(31856),F=n(80917),M=n(30397),I=n(24671),B=n(10445),z=n(86195),U=n(98016),V=n(9547),H=n(27104);n(27993);var q=n(84727),W=n(13308),K=n(87114),Q=n(74205),Y=n(7171),G=n(28526),X=n(75310),$=n(68785),Z=n(28735),J=n(4563).Buffer,ee=(0,c.c)(e=>{function t(e,t){var n=e.length;for(e.push(t);0<n;){var l=n-1>>>1,o=e[l];if(0<a(o,t))e[l]=t,e[n]=o,n=l;else break}}function n(e){return 0===e.length?null:e[0]}function l(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var l=0,o=e.length,r=o>>>1;l<r;){var i=2*(l+1)-1,s=e[i],c=i+1,u=e[c];if(0>a(s,n))c<o&&0>a(u,s)?(e[l]=u,e[c]=n,l=c):(e[l]=s,e[i]=n,l=i);else if(c<o&&0>a(u,n))e[l]=u,e[c]=n,l=c;else break}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now?(s=performance,e.unstable_now=function(){return s.now()}):(u=(c=Date).now(),e.unstable_now=function(){return c.now()-u});var o,r,i,s,c,u,d=[],p=[],h=1,f=null,m=3,g=!1,v=!1,b=!1,y="function"==typeof setTimeout?setTimeout:null,x="function"==typeof clearTimeout?clearTimeout:null,w="u">typeof setImmediate?setImmediate:null;function j(e){for(var a=n(p);null!==a;){if(null===a.callback)l(p);else if(a.startTime<=e)l(p),a.sortIndex=a.expirationTime,t(d,a);else break;a=n(p)}}function C(e){if(b=!1,j(e),!v)if(null!==n(d))v=!0,D();else{var t=n(p);null!==t&&T(C,t.startTime-e)}}var S=!1,_=-1,k=5,N=-1;function E(){return!(e.unstable_now()-N<k)}function P(){if(S){var t=e.unstable_now();N=t;var a=!0;try{e:{v=!1,b&&(b=!1,x(_),_=-1),g=!0;var r=m;try{t:{for(j(t),f=n(d);null!==f&&!(f.expirationTime>t&&E());){var i=f.callback;if("function"==typeof i){f.callback=null,m=f.priorityLevel;var s=i(f.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof s){f.callback=s,j(t),a=!0;break t}f===n(d)&&l(d),j(t)}else l(d);f=n(d)}if(null!==f)a=!0;else{var c=n(p);null!==c&&T(C,c.startTime-t),a=!1}}break e}finally{f=null,m=r,g=!1}}}finally{a?o():S=!1}}}function D(){S||(S=!0,o())}function T(t,n){_=y(function(){t(e.unstable_now())},n)}"function"==typeof w?o=function(){w(P)}:"u">typeof MessageChannel?(i=(r=new MessageChannel).port2,r.port1.onmessage=P,o=function(){i.postMessage(null)}):o=function(){y(P,0)},e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,D())},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},e.unstable_scheduleCallback=function(l,a,o){var r=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?r+o:r,l){case 1:var i=-1;break;case 2:i=250;break;case 5:i=0x3fffffff;break;case 4:i=1e4;break;default:i=5e3}return i=o+i,l={id:h++,callback:a,priorityLevel:l,startTime:o,expirationTime:i,sortIndex:-1},o>r?(l.sortIndex=o,t(p,l),null===n(d)&&l===n(p)&&(b?(x(_),_=-1):b=!0,T(C,o-r))):(l.sortIndex=i,t(d,l),v||g||(v=!0,D())),l},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}}),et=(0,c.c)((e,t)=>{t.exports=ee()}),en=(0,c.c)(e=>{var t="function"==typeof Symbol&&Symbol.for,n=t?Symbol.for("react.element"):60103,l=t?Symbol.for("react.portal"):60106,a=t?Symbol.for("react.fragment"):60107,o=t?Symbol.for("react.strict_mode"):60108,r=t?Symbol.for("react.profiler"):60114,i=t?Symbol.for("react.provider"):60109,s=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,f=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,g=t?Symbol.for("react.block"):60121,v=t?Symbol.for("react.fundamental"):60117,b=t?Symbol.for("react.responder"):60118,y=t?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case u:case a:case r:case o:case p:return e;default:switch(e=e&&e.$$typeof){case s:case d:case m:case f:case i:return e;default:return t}}case l:return t}}}function w(e){return x(e)===u}e.AsyncMode=c,e.ConcurrentMode=u,e.ContextConsumer=s,e.ContextProvider=i,e.Element=n,e.ForwardRef=d,e.Fragment=a,e.Lazy=m,e.Memo=f,e.Portal=l,e.Profiler=r,e.StrictMode=o,e.Suspense=p,e.isAsyncMode=function(e){return w(e)||x(e)===c},e.isConcurrentMode=w,e.isContextConsumer=function(e){return x(e)===s},e.isContextProvider=function(e){return x(e)===i},e.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},e.isForwardRef=function(e){return x(e)===d},e.isFragment=function(e){return x(e)===a},e.isLazy=function(e){return x(e)===m},e.isMemo=function(e){return x(e)===f},e.isPortal=function(e){return x(e)===l},e.isProfiler=function(e){return x(e)===r},e.isStrictMode=function(e){return x(e)===o},e.isSuspense=function(e){return x(e)===p},e.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===u||e===r||e===o||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===f||e.$$typeof===i||e.$$typeof===s||e.$$typeof===d||e.$$typeof===v||e.$$typeof===b||e.$$typeof===y||e.$$typeof===g)},e.typeOf=x}),el=(0,c.c)((e,t)=>{t.exports=en()}),ea=(0,c.c)((e,t)=>{var n=el(),l={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r={};function i(e){return n.isMemo(e)?o:r[e.$$typeof]||l}r[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r[n.Memo]=o;var s=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;t.exports=function e(t,n,l){if("string"!=typeof n){if(h){var o=p(n);o&&o!==h&&e(t,o,l)}var r=c(n);u&&(r=r.concat(u(n)));for(var f=i(t),m=i(n),g=0;g<r.length;++g){var v=r[g];if(!a[v]&&!(l&&l[v])&&!(m&&m[v])&&!(f&&f[v])){var b=d(n,v);try{s(t,v,b)}catch(e){}}}}return t}}),eo=(0,c.c)((e,t)=>{var n=Math.floor(0xffffff*Math.random()),l=d.index=parseInt(0xffffff*Math.random(),10),a=(typeof Z>"u"||"number"!=typeof Z.pid?Math.floor(1e5*Math.random()):Z.pid)%65535,o=(()=>{try{return _Buffer}catch(e){try{return J}catch(e){return null}}})(),r=function(e){return!!(null!=e&&e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))},i=[];for(s=0;s<256;s++)i[s]=(s<=15?"0":"")+s.toString(16);var s,c=RegExp("^[0-9a-fA-F]{24}$"),u=[];for(s=0;s<10;)u[48+s]=s++;for(;s<16;)u[55+s]=u[87+s]=s++;function d(e){if(!(this instanceof d))return new d(e);if(e&&(e instanceof d||"ObjectID"===e._bsontype))return e;if(this._bsontype="ObjectID",null==e||"number"==typeof e){this.id=this.generate(e);return}var t=d.isValid(e);if(!t&&null!=e)throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(t&&"string"==typeof e&&24===e.length)return d.createFromHexString(e);if(null!=e&&12===e.length)this.id=e;else{if(null!=e&&"function"==typeof e.toHexString)return e;throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}}t.exports=d,d.default=d,d.createFromTime=function(e){var t,n;return new d((t=8,(8===(n=(n=e=parseInt(e,10)%0xffffffff).toString(16)).length?n:"00000000".substring(n.length,t)+n)+"0000000000000000"))},d.createFromHexString=function(e){if(typeof e>"u"||null!=e&&24!==e.length)throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var t="",n=0;n<24;)t+=String.fromCharCode(u[e.charCodeAt(n++)]<<4|u[e.charCodeAt(n++)]);return new d(t)},d.isValid=function(e){return null!=e&&("number"==typeof e||("string"==typeof e?12===e.length||24===e.length&&c.test(e):e instanceof d||(r(e)?d.isValid(e.toString("hex")):"function"==typeof e.toHexString&&!!o&&(e.id instanceof o||"string"==typeof e.id)&&(12===e.id.length||24===e.id.length&&c.test(e.id)))))},d.prototype={constructor:d,toHexString:function(){if(!this.id||!this.id.length)throw Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(24===this.id.length)return this.id;if(r(this.id))return this.id.toString("hex");for(var e="",t=0;t<this.id.length;t++)e+=i[this.id.charCodeAt(t)];return e},equals:function(e){return e instanceof d?this.toString()===e.toString():"string"==typeof e&&d.isValid(e)&&12===e.length&&r(this.id)?e===this.id.toString("binary"):"string"==typeof e&&d.isValid(e)&&24===e.length?e.toLowerCase()===this.toHexString():"string"==typeof e&&d.isValid(e)&&12===e.length?e===this.id:null!=e&&(e instanceof d||!!e.toHexString)&&e.toHexString()===this.toHexString()},getTimestamp:function(){var e,t=new Date;return e=r(this.id)?this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24:this.id.charCodeAt(3)|this.id.charCodeAt(2)<<8|this.id.charCodeAt(1)<<16|this.id.charCodeAt(0)<<24,t.setTime(1e3*Math.floor(e)),t},generate:function(e){"number"!=typeof e&&(e=~~(Date.now()/1e3)),e=parseInt(e,10)%0xffffffff;var t=l=(l+1)%0xffffff;return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e,n>>16&255,n>>8&255,255&n,a>>8&255,255&a,t>>16&255,t>>8&255,255&t)}};var p=Symbol&&Symbol.for&&Symbol.for("nodejs.util.inspect.custom")||"inspect";d.prototype[p]=function(){return"ObjectID("+this+")"},d.prototype.toJSON=d.prototype.toHexString,d.prototype.toString=d.prototype.toHexString}),er=(0,c.c)((e,t)=>{function n(e){return void 0===e}function l(e){return e===Object(e)}function a(e){return Array.isArray(e)}function o(e,t){return t?l(e)&&!n(e.uri):l(e)&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.slice}function r(e){return!n(e)&&e}t.exports={serialize:function e(t,i,s,c){i=i||{},s=s||new FormData,i.indices=r(i.indices),i.nullsAsUndefineds=r(i.nullsAsUndefineds),i.booleansAsIntegers=r(i.booleansAsIntegers),i.allowEmptyArrays=r(i.allowEmptyArrays),i.noAttributesWithArrayNotation=r(i.noAttributesWithArrayNotation),i.noFilesWithArrayNotation=r(i.noFilesWithArrayNotation),i.dotsForObjectNotation=r(i.dotsForObjectNotation);let u="function"==typeof s.getParts;return n(t)||(null===t?i.nullsAsUndefineds||s.append(c,""):"boolean"==typeof t?i.booleansAsIntegers?s.append(c,+!!t):s.append(c,t):a(t)?t.length?t.forEach((t,n)=>{var a;let r=c+"["+(i.indices?n:"")+"]";(i.noAttributesWithArrayNotation||i.noFilesWithArrayNotation&&o(a=t,u)&&"string"==typeof a.name&&(l(a.lastModifiedDate)||"number"==typeof a.lastModified))&&(r=c),e(t,i,s,r)}):i.allowEmptyArrays&&s.append(i.noAttributesWithArrayNotation?c:c+"[]",""):t instanceof Date?s.append(c,t.toISOString()):l(t)&&!o(t,u)?Object.keys(t).forEach(n=>{let l=t[n];if(a(l))for(;n.length>2&&n.lastIndexOf("[]")===n.length-2;)n=n.substring(0,n.length-2);let o=c?i.dotsForObjectNotation?c+"."+n:c+"["+n+"]":n;e(l,i,s,o)}):s.append(c,t)),s}}}),ei=(0,c.c)((e,t)=>{!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 0xff00ff&n.rotl(e,8)|0xff00ff00&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,l=0;n<e.length;n++,l+=8)t[l>>>5]|=e[n]<<24-l%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(t){for(var n=[],l=0;l<t.length;l+=3)for(var a=t[l]<<16|t[l+1]<<8|t[l+2],o=0;o<4;o++)8*l+6*o<=8*t.length?n.push(e.charAt(a>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/ig,"");for(var n=[],l=0,a=0;l<t.length;a=++l%4)0!=a&&n.push((e.indexOf(t.charAt(l-1))&Math.pow(2,-2*a+8)-1)<<2*a|e.indexOf(t.charAt(l))>>>6-2*a);return n}};t.exports=n}()}),es=(0,c.c)((e,t)=>{var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};t.exports=n}),ec=(0,c.c)((e,t)=>{function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){var t;return null!=e&&(n(e)||"function"==typeof(t=e).readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))||!!e._isBuffer)}}),eu=(0,c.c)((e,t)=>{!function(){var e=ei(),n=es().utf8,l=ec(),a=es().bin,o=function(t,r){t.constructor==String?t=r&&"binary"===r.encoding?a.stringToBytes(t):n.stringToBytes(t):l(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var i=e.bytesToWords(t),s=8*t.length,c=0x67452301,u=-0x10325477,d=-0x67452302,p=0x10325476,h=0;h<i.length;h++)i[h]=(i[h]<<8|i[h]>>>24)&0xff00ff|(i[h]<<24|i[h]>>>8)&0xff00ff00;i[s>>>5]|=128<<s%32,i[(s+64>>>9<<4)+14]=s;for(var f=o._ff,m=o._gg,g=o._hh,v=o._ii,h=0;h<i.length;h+=16){var b=c,y=u,x=d,w=p;c=f(c,u,d,p,i[h+0],7,-0x28955b88),p=f(p,c,u,d,i[h+1],12,-0x173848aa),d=f(d,p,c,u,i[h+2],17,0x242070db),u=f(u,d,p,c,i[h+3],22,-0x3e423112),c=f(c,u,d,p,i[h+4],7,-0xa83f051),p=f(p,c,u,d,i[h+5],12,0x4787c62a),d=f(d,p,c,u,i[h+6],17,-0x57cfb9ed),u=f(u,d,p,c,i[h+7],22,-0x2b96aff),c=f(c,u,d,p,i[h+8],7,0x698098d8),p=f(p,c,u,d,i[h+9],12,-0x74bb0851),d=f(d,p,c,u,i[h+10],17,-42063),u=f(u,d,p,c,i[h+11],22,-0x76a32842),c=f(c,u,d,p,i[h+12],7,0x6b901122),p=f(p,c,u,d,i[h+13],12,-0x2678e6d),d=f(d,p,c,u,i[h+14],17,-0x5986bc72),u=f(u,d,p,c,i[h+15],22,0x49b40821),c=m(c,u,d,p,i[h+1],5,-0x9e1da9e),p=m(p,c,u,d,i[h+6],9,-0x3fbf4cc0),d=m(d,p,c,u,i[h+11],14,0x265e5a51),u=m(u,d,p,c,i[h+0],20,-0x16493856),c=m(c,u,d,p,i[h+5],5,-0x29d0efa3),p=m(p,c,u,d,i[h+10],9,0x2441453),d=m(d,p,c,u,i[h+15],14,-0x275e197f),u=m(u,d,p,c,i[h+4],20,-0x182c0438),c=m(c,u,d,p,i[h+9],5,0x21e1cde6),p=m(p,c,u,d,i[h+14],9,-0x3cc8f82a),d=m(d,p,c,u,i[h+3],14,-0xb2af279),u=m(u,d,p,c,i[h+8],20,0x455a14ed),c=m(c,u,d,p,i[h+13],5,-0x561c16fb),p=m(p,c,u,d,i[h+2],9,-0x3105c08),d=m(d,p,c,u,i[h+7],14,0x676f02d9),u=m(u,d,p,c,i[h+12],20,-0x72d5b376),c=g(c,u,d,p,i[h+5],4,-378558),p=g(p,c,u,d,i[h+8],11,-0x788e097f),d=g(d,p,c,u,i[h+11],16,0x6d9d6122),u=g(u,d,p,c,i[h+14],23,-0x21ac7f4),c=g(c,u,d,p,i[h+1],4,-0x5b4115bc),p=g(p,c,u,d,i[h+4],11,0x4bdecfa9),d=g(d,p,c,u,i[h+7],16,-0x944b4a0),u=g(u,d,p,c,i[h+10],23,-0x41404390),c=g(c,u,d,p,i[h+13],4,0x289b7ec6),p=g(p,c,u,d,i[h+0],11,-0x155ed806),d=g(d,p,c,u,i[h+3],16,-0x2b10cf7b),u=g(u,d,p,c,i[h+6],23,0x4881d05),c=g(c,u,d,p,i[h+9],4,-0x262b2fc7),p=g(p,c,u,d,i[h+12],11,-0x1924661b),d=g(d,p,c,u,i[h+15],16,0x1fa27cf8),u=g(u,d,p,c,i[h+2],23,-0x3b53a99b),c=v(c,u,d,p,i[h+0],6,-0xbd6ddbc),p=v(p,c,u,d,i[h+7],10,0x432aff97),d=v(d,p,c,u,i[h+14],15,-0x546bdc59),u=v(u,d,p,c,i[h+5],21,-0x36c5fc7),c=v(c,u,d,p,i[h+12],6,0x655b59c3),p=v(p,c,u,d,i[h+3],10,-0x70f3336e),d=v(d,p,c,u,i[h+10],15,-1051523),u=v(u,d,p,c,i[h+1],21,-0x7a7ba22f),c=v(c,u,d,p,i[h+8],6,0x6fa87e4f),p=v(p,c,u,d,i[h+15],10,-0x1d31920),d=v(d,p,c,u,i[h+6],15,-0x5cfebcec),u=v(u,d,p,c,i[h+13],21,0x4e0811a1),c=v(c,u,d,p,i[h+4],6,-0x8ac817e),p=v(p,c,u,d,i[h+11],10,-0x42c50dcb),d=v(d,p,c,u,i[h+2],15,0x2ad7d2bb),u=v(u,d,p,c,i[h+9],21,-0x14792c6f),c=c+b>>>0,u=u+y>>>0,d=d+x>>>0,p=p+w>>>0}return e.endian([c,u,d,p])};o._ff=function(e,t,n,l,a,o,r){var i=e+(t&n|~t&l)+(a>>>0)+r;return(i<<o|i>>>32-o)+t},o._gg=function(e,t,n,l,a,o,r){var i=e+(t&l|n&~l)+(a>>>0)+r;return(i<<o|i>>>32-o)+t},o._hh=function(e,t,n,l,a,o,r){var i=e+(t^n^l)+(a>>>0)+r;return(i<<o|i>>>32-o)+t},o._ii=function(e,t,n,l,a,o,r){var i=e+(n^(t|~l))+(a>>>0)+r;return(i<<o|i>>>32-o)+t},o._blocksize=16,o._digestsize=16,t.exports=function(t,n){if(null==t)throw Error("Illegal argument "+t);var l=e.wordsToBytes(o(t,n));return n&&n.asBytes?l:n&&n.asString?a.bytesToString(l):e.bytesToHex(l)}}()});function ed(e){let{CustomComponent:t,Fallback:n}=e;return void 0!==t?t:n}var ep=(0,c.e)(et(),1),eh=Symbol(),ef=Symbol(),em=typeof window>"u"||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?o.useEffect:o.useLayoutEffect,eg=ep.unstable_runWithPriority?e=>{try{(0,ep.unstable_runWithPriority)(ep.unstable_NormalPriority,e)}catch(t){if("Not implemented."===t.message)e();else throw t}}:e=>e(),ev=e=>e;function eb(e,t){let{v:{current:n},n:{current:l},l:a}=(0,o.useContext)(e)[eh],r=t(n),[i,s]=(0,o.useReducer)((e,a)=>{if(!a)return[n,r];if("p"in a)throw a.p;if(a.n===l)return Object.is(e[1],r)?e:[n,r];try{if("v"in a){if(Object.is(e[0],a.v))return e;let n=t(a.v);return Object.is(e[1],n)?e:[a.v,n]}}catch(e){}return[...e]},[n,r]);return Object.is(i[1],r)||s(),em(()=>(a.add(s),()=>{a.delete(s)}),[a]),i[1]}var ey=(0,o.createContext)({}),ex=(0,o.createContext)({}),ew=(0,o.createContext)({}),ej=(0,o.createContext)(!1),eC=(0,o.createContext)(!1),eS=(0,o.createContext)(!1),e_=(0,o.createContext)(!1),ek=(0,o.createContext)(!1),eN=function(e){let t,n=(0,o.createContext)({[eh]:{v:{current:e},n:{current:-1},l:new Set,u:e=>e()}});return n[ef]=n.Provider,t=n.Provider,n.Provider=e=>{let{value:n,children:l}=e,a=(0,o.useRef)(n),r=(0,o.useRef)(0),[i,s]=(0,o.useState)(null);i&&(i(n),s(null));let c=(0,o.useRef)();if(!c.current){let e=new Set;c.current={[eh]:{v:a,n:r,l:e,u:(t,n)=>{r.current+=1;let l={n:r.current};(null==n?void 0:n.suspense)&&(l.n*=-1,l.p=new Promise(e=>{s(()=>t=>{l.v=t,delete l.p,e(t)})})),e.forEach(e=>e(l)),t()}}}}return em(()=>{a.current=n,r.current+=1,eg(()=>{c.current[eh].l.forEach(e=>{e({n:r.current,v:n})})})},[n]),(0,o.createElement)(t,{value:c.current},l)},delete n.Consumer,n}([{},()=>null]),eE=()=>(0,o.use)(ey),eP=()=>(0,o.use)(ex),eD=()=>(0,o.use)(ew),eT=()=>(0,o.use)(ej),eA=()=>(0,o.use)(eC),eR=()=>(0,o.use)(eS),eL=()=>(0,o.use)(e_),eO=()=>(0,o.use)(ek),eF=e=>eb(eN,e),eM=()=>eb(eN,ev),eI=o.createContext({data:{},path:"",rowNumber:void 0}),eB=e=>{let{children:t,path:n,rowNumber:l}=e,{getDataByPath:a,getSiblingData:r}=eD(),i=r(n),s=a(n)||i,c=o.useMemo(()=>({data:s,path:n,rowNumber:l}),[s,n,l]);return(0,u.jsx)(eI,{value:c,children:t})},ez=()=>o.use(eI),eU=e=>{let{className:t,CustomComponent:n,label:l,path:a,rowNumber:o}=e;return(0,u.jsx)(eB,{path:a,rowNumber:o,children:(0,u.jsx)(ed,{CustomComponent:n,Fallback:"string"==typeof l?(0,u.jsx)("span",{className:["row-label",t].filter(Boolean).join(" "),style:{pointerEvents:"none"},children:l}):l})})},eV=Array(12).fill(0),eH=e=>{let{visible:t,className:n}=e;return o.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":t},o.createElement("div",{className:"sonner-spinner"},eV.map((e,t)=>o.createElement("div",{className:"sonner-loading-bar",key:"spinner-bar-".concat(t)}))))},eq=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},o.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),eW=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},o.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),eK=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},o.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),eQ=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},o.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),eY=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},o.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),eG=1,eX=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...l}=e,a="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:eG++,o=this.toasts.find(e=>e.id===a),r=void 0===e.dismissible||e.dismissible;return o?this.toasts=this.toasts.map(t=>t.id===a?(this.publish({...t,...e,id:a,title:n}),{...t,...e,id:a,dismissible:r,title:n}):t):this.addToast({title:n,...l,dismissible:r,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{let n;if(!t)return;void 0!==t.loading&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let l=e instanceof Promise?e:e(),a=void 0!==n,r,i=l.then(async e=>{if(r=["resolve",e],o.isValidElement(e))a=!1,this.create({id:n,type:"default",message:e});else if(e$(e)&&!e.ok){a=!1;let l="function"==typeof t.error?await t.error("HTTP error! status: ".concat(e.status)):t.error,o="function"==typeof t.description?await t.description("HTTP error! status: ".concat(e.status)):t.description;this.create({id:n,type:"error",message:l,description:o})}else if(void 0!==t.success){a=!1;let l="function"==typeof t.success?await t.success(e):t.success,o="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"success",message:l,description:o})}}).catch(async e=>{if(r=["reject",e],void 0!==t.error){a=!1;let l="function"==typeof t.error?await t.error(e):t.error,o="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"error",message:l,description:o})}}).finally(()=>{var e;a&&(this.dismiss(n),n=void 0),null==(e=t.finally)||e.call(t)}),s=()=>new Promise((e,t)=>i.then(()=>"reject"===r[0]?t(r[1]):e(r[1])).catch(t));return"string"!=typeof n&&"number"!=typeof n?{unwrap:s}:Object.assign(n,{unwrap:s})},this.custom=(e,t)=>{let n=(null==t?void 0:t.id)||eG++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},e$=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,eZ=Object.assign((e,t)=>{let n=(null==t?void 0:t.id)||eG++;return eX.addToast({title:e,...t,id:n}),n},{success:eX.success,info:eX.info,warning:eX.warning,error:eX.error,custom:eX.custom,message:eX.message,promise:eX.promise,dismiss:eX.dismiss,loading:eX.loading},{getHistory:()=>eX.toasts});function eJ(e){return void 0!==e.label}function e0(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}!function(e){let{insertAt:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css","top"===t&&n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var e1=e=>{var t,n,l,a,r,i,s,c,u,d,p;let{invert:h,toast:f,unstyled:m,interacting:g,setHeights:v,visibleToasts:b,heights:y,index:x,toasts:w,expanded:j,removeToast:C,defaultRichColors:S,closeButton:_,style:k,cancelButtonStyle:N,actionButtonStyle:E,className:P="",descriptionClassName:D="",duration:T,position:A,gap:R,loadingIcon:L,expandByDefault:O,classNames:F,icons:M,closeButtonAriaLabel:I="Close toast",pauseWhenPageIsHidden:B}=e,[z,U]=o.useState(null),[V,H]=o.useState(null),[q,W]=o.useState(!1),[K,Q]=o.useState(!1),[Y,G]=o.useState(!1),[X,$]=o.useState(!1),[Z,J]=o.useState(!1),[ee,et]=o.useState(0),[en,el]=o.useState(0),ea=o.useRef(f.duration||T||4e3),eo=o.useRef(null),er=o.useRef(null),ei=0===x,es=x+1<=b,ec=f.type,eu=!1!==f.dismissible,ed=f.className||"",ep=f.descriptionClassName||"",eh=o.useMemo(()=>y.findIndex(e=>e.toastId===f.id)||0,[y,f.id]),ef=o.useMemo(()=>{var e;return null!=(e=f.closeButton)?e:_},[f.closeButton,_]),em=o.useMemo(()=>f.duration||T||4e3,[f.duration,T]),eg=o.useRef(0),ev=o.useRef(0),eb=o.useRef(0),ey=o.useRef(null),[ex,ew]=A.split("-"),ej=o.useMemo(()=>y.reduce((e,t,n)=>n>=eh?e:e+t.height,0),[y,eh]),eC=(()=>{let[e,t]=o.useState(document.hidden);return o.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),eS=f.invert||h,e_="loading"===ec;ev.current=o.useMemo(()=>eh*R+ej,[eh,ej]),o.useEffect(()=>{ea.current=em},[em]),o.useEffect(()=>{W(!0)},[]),o.useEffect(()=>{let e=er.current;if(e){let t=e.getBoundingClientRect().height;return el(t),v(e=>[{toastId:f.id,height:t,position:f.position},...e]),()=>v(e=>e.filter(e=>e.toastId!==f.id))}},[v,f.id]),o.useLayoutEffect(()=>{if(!q)return;let e=er.current,t=e.style.height;e.style.height="auto";let n=e.getBoundingClientRect().height;e.style.height=t,el(n),v(e=>e.find(e=>e.toastId===f.id)?e.map(e=>e.toastId===f.id?{...e,height:n}:e):[{toastId:f.id,height:n,position:f.position},...e])},[q,f.title,f.description,v,f.id]);let ek=o.useCallback(()=>{Q(!0),et(ev.current),v(e=>e.filter(e=>e.toastId!==f.id)),setTimeout(()=>{C(f)},200)},[f,C,v,ev]);return o.useEffect(()=>{let e;if((!f.promise||"loading"!==ec)&&f.duration!==1/0&&"loading"!==f.type)return j||g||B&&eC?(()=>{if(eb.current<eg.current){let e=new Date().getTime()-eg.current;ea.current=ea.current-e}eb.current=new Date().getTime()})():ea.current!==1/0&&(eg.current=new Date().getTime(),e=setTimeout(()=>{var e;null==(e=f.onAutoClose)||e.call(f,f),ek()},ea.current)),()=>clearTimeout(e)},[j,g,f,ec,B,eC,ek]),o.useEffect(()=>{f.delete&&ek()},[ek,f.delete]),o.createElement("li",{tabIndex:0,ref:er,className:e0(P,ed,null==F?void 0:F.toast,null==(t=null==f?void 0:f.classNames)?void 0:t.toast,null==F?void 0:F.default,null==F?void 0:F[ec],null==(n=null==f?void 0:f.classNames)?void 0:n[ec]),"data-sonner-toast":"","data-rich-colors":null!=(l=f.richColors)?l:S,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":q,"data-promise":!!f.promise,"data-swiped":Z,"data-removed":K,"data-visible":es,"data-y-position":ex,"data-x-position":ew,"data-index":x,"data-front":ei,"data-swiping":Y,"data-dismissible":eu,"data-type":ec,"data-invert":eS,"data-swipe-out":X,"data-swipe-direction":V,"data-expanded":!!(j||O&&q),style:{"--index":x,"--toasts-before":x,"--z-index":w.length-x,"--offset":"".concat(K?ee:ev.current,"px"),"--initial-height":O?"auto":"".concat(en,"px"),...k,...f.style},onPointerDown:e=>{e_||!eu||(eo.current=new Date,et(ev.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(G(!0),ey.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,n,l;if(X||!eu)return;ey.current=null;let a=Number((null==(e=er.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),o=Number((null==(t=er.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),r=new Date().getTime()-(null==(n=eo.current)?void 0:n.getTime()),i="x"===z?a:o,s=Math.abs(i)/r;if(Math.abs(i)>=20||s>.11){et(ev.current),null==(l=f.onDismiss)||l.call(f,f),H("x"===z?a>0?"right":"left":o>0?"down":"up"),ek(),$(!0),J(!1);return}G(!1),U(null)},onPointerMove:t=>{var n,l,a,o;if(!ey.current||!eu||(null==(n=window.getSelection())?void 0:n.toString().length)>0)return;let r=t.clientY-ey.current.y,i=t.clientX-ey.current.x,s=null!=(l=e.swipeDirections)?l:function(e){let[t,n]=e.split("-"),l=[];return t&&l.push(t),n&&l.push(n),l}(A);!z&&(Math.abs(i)>1||Math.abs(r)>1)&&U(Math.abs(i)>Math.abs(r)?"x":"y");let c={x:0,y:0};"y"===z?(s.includes("top")||s.includes("bottom"))&&(s.includes("top")&&r<0||s.includes("bottom")&&r>0)&&(c.y=r):"x"===z&&(s.includes("left")||s.includes("right"))&&(s.includes("left")&&i<0||s.includes("right")&&i>0)&&(c.x=i),(Math.abs(c.x)>0||Math.abs(c.y)>0)&&J(!0),null==(a=er.current)||a.style.setProperty("--swipe-amount-x","".concat(c.x,"px")),null==(o=er.current)||o.style.setProperty("--swipe-amount-y","".concat(c.y,"px"))}},ef&&!f.jsx?o.createElement("button",{"aria-label":I,"data-disabled":e_,"data-close-button":!0,onClick:e_||!eu?()=>{}:()=>{var e;ek(),null==(e=f.onDismiss)||e.call(f,f)},className:e0(null==F?void 0:F.closeButton,null==(a=null==f?void 0:f.classNames)?void 0:a.closeButton)},null!=(r=null==M?void 0:M.close)?r:eY):null,f.jsx||(0,o.isValidElement)(f.title)?f.jsx?f.jsx:"function"==typeof f.title?f.title():f.title:o.createElement(o.Fragment,null,ec||f.icon||f.promise?o.createElement("div",{"data-icon":"",className:e0(null==F?void 0:F.icon,null==(i=null==f?void 0:f.classNames)?void 0:i.icon)},f.promise||"loading"===f.type&&!f.icon?f.icon||function(){var e,t,n;return null!=M&&M.loading?o.createElement("div",{className:e0(null==F?void 0:F.loader,null==(e=null==f?void 0:f.classNames)?void 0:e.loader,"sonner-loader"),"data-visible":"loading"===ec},M.loading):L?o.createElement("div",{className:e0(null==F?void 0:F.loader,null==(t=null==f?void 0:f.classNames)?void 0:t.loader,"sonner-loader"),"data-visible":"loading"===ec},L):o.createElement(eH,{className:e0(null==F?void 0:F.loader,null==(n=null==f?void 0:f.classNames)?void 0:n.loader),visible:"loading"===ec})}():null,"loading"!==f.type?f.icon||(null==M?void 0:M[ec])||(e=>{switch(e){case"success":return eq;case"info":return eK;case"warning":return eW;case"error":return eQ;default:return null}})(ec):null):null,o.createElement("div",{"data-content":"",className:e0(null==F?void 0:F.content,null==(s=null==f?void 0:f.classNames)?void 0:s.content)},o.createElement("div",{"data-title":"",className:e0(null==F?void 0:F.title,null==(c=null==f?void 0:f.classNames)?void 0:c.title)},"function"==typeof f.title?f.title():f.title),f.description?o.createElement("div",{"data-description":"",className:e0(D,ep,null==F?void 0:F.description,null==(u=null==f?void 0:f.classNames)?void 0:u.description)},"function"==typeof f.description?f.description():f.description):null),(0,o.isValidElement)(f.cancel)?f.cancel:f.cancel&&eJ(f.cancel)?o.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||N,onClick:e=>{var t,n;eJ(f.cancel)&&eu&&(null==(n=(t=f.cancel).onClick)||n.call(t,e),ek())},className:e0(null==F?void 0:F.cancelButton,null==(d=null==f?void 0:f.classNames)?void 0:d.cancelButton)},f.cancel.label):null,(0,o.isValidElement)(f.action)?f.action:f.action&&eJ(f.action)?o.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||E,onClick:e=>{var t,n;eJ(f.action)&&(null==(n=(t=f.action).onClick)||n.call(t,e),e.defaultPrevented||ek())},className:e0(null==F?void 0:F.actionButton,null==(p=null==f?void 0:f.classNames)?void 0:p.actionButton)},f.action.label):null))};function e3(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}var e2=(0,o.forwardRef)(function(e,t){let{invert:n,position:l="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:s,className:c,offset:u,mobileOffset:d,theme:p="light",richColors:h,duration:f,style:m,visibleToasts:g=3,toastOptions:v,dir:b=e3(),gap:y=14,loadingIcon:x,icons:w,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:C}=e,[S,_]=o.useState([]),k=o.useMemo(()=>Array.from(new Set([l].concat(S.filter(e=>e.position).map(e=>e.position)))),[S,l]),[N,E]=o.useState([]),[P,D]=o.useState(!1),[T,A]=o.useState(!1),[R,L]=o.useState("system"!==p?p:"u">typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=o.useRef(null),F=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=o.useRef(null),I=o.useRef(!1),B=o.useCallback(e=>{_(t=>{var n;return null!=(n=t.find(t=>t.id===e.id))&&n.delete||eX.dismiss(e.id),t.filter(t=>{let{id:n}=t;return n!==e.id})})},[]);return o.useEffect(()=>eX.subscribe(e=>{if(e.dismiss)return void _(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t));setTimeout(()=>{r.flushSync(()=>{_(t=>{let n=t.findIndex(t=>t.id===e.id);return -1!==n?[...t.slice(0,n),{...t[n],...e},...t.slice(n+1)]:[e,...t]})})})}),[]),o.useEffect(()=>{if("system"!==p)return void L(p);if("system"===p&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",e=>{let{matches:t}=e;L(t?"dark":"light")})}catch(t){e.addListener(e=>{let{matches:t}=e;try{L(t?"dark":"light")}catch(e){console.error(e)}})}},[p]),o.useEffect(()=>{S.length<=1&&D(!1)},[S]),o.useEffect(()=>{let e=e=>{var t,n;a.every(t=>e[t]||e.code===t)&&(D(!0),null==(t=O.current)||t.focus()),"Escape"===e.code&&(document.activeElement===O.current||null!=(n=O.current)&&n.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[a]),o.useEffect(()=>{if(O.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,I.current=!1)}},[O.current]),o.createElement("section",{ref:t,"aria-label":"".concat(j," ").concat(F),tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((t,l)=>{var a;let r,[p,j]=t.split("-");return S.length?o.createElement("ol",{key:t,dir:"auto"===b?e3():b,tabIndex:-1,ref:O,className:c,"data-sonner-toaster":!0,"data-theme":R,"data-y-position":p,"data-lifted":P&&S.length>1&&!i,"data-x-position":j,style:{"--front-toast-height":"".concat((null==(a=N[0])?void 0:a.height)||0,"px"),"--width":"".concat(356,"px"),"--gap":"".concat(y,"px"),...m,...(r={},[u,d].forEach((e,t)=>{let n=1===t,l=n?"--mobile-offset":"--offset",a=n?"16px":"32px";function o(e){["top","right","bottom","left"].forEach(t=>{r["".concat(l,"-").concat(t)]="number"==typeof e?"".concat(e,"px"):e})}"number"==typeof e||"string"==typeof e?o(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?r["".concat(l,"-").concat(t)]=a:r["".concat(l,"-").concat(t)]="number"==typeof e[t]?"".concat(e[t],"px"):e[t]}):o(a)}),r)},onBlur:e=>{I.current&&!e.currentTarget.contains(e.relatedTarget)&&(I.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||I.current||(I.current=!0,M.current=e.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{T||D(!1)},onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||A(!0)},onPointerUp:()=>A(!1)},S.filter(e=>!e.position&&0===l||e.position===t).map((l,a)=>{var r,c;return o.createElement(e1,{key:l.id,icons:w,index:a,toast:l,defaultRichColors:h,duration:null!=(r=null==v?void 0:v.duration)?r:f,className:null==v?void 0:v.className,descriptionClassName:null==v?void 0:v.descriptionClassName,invert:n,visibleToasts:g,closeButton:null!=(c=null==v?void 0:v.closeButton)?c:s,interacting:T,position:t,style:null==v?void 0:v.style,unstyled:null==v?void 0:v.unstyled,classNames:null==v?void 0:v.classNames,cancelButtonStyle:null==v?void 0:v.cancelButtonStyle,actionButtonStyle:null==v?void 0:v.actionButtonStyle,removeToast:B,toasts:S.filter(e=>e.position==l.position),heights:N.filter(e=>e.position==l.position),setHeights:E,expandByDefault:i,gap:y,loadingIcon:x,expanded:P,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))}),e6=e=>{let t,n=(0,f.c)(11),{children:l}=e,[a,r]=(0,o.useOptimistic)(!1),[i,s]=o.useState(0),c=(0,o.useRef)(i),d=(0,o.useRef)(null),p;n[0]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{d.current=setInterval(()=>{let e=c.current+(.93-c.current)*Math.random()*.2*Math.pow(Math.log(1+(1-c.current)*.75),.75);s(e),c.current=e},250)},n[0]=p):p=n[0];let h=p,m,g;n[1]!==a?(m=()=>{s(0),c.current=0,a?h():d.current&&clearInterval(d.current)},g=[a,h],n[1]=a,n[2]=m,n[3]=g):(m=n[2],g=n[3]),(0,o.useEffect)(m,g),n[4]!==r?(t=e=>{(0,o.startTransition)(()=>{r(!0),"function"==typeof e&&e()})},n[4]=r,n[5]=t):t=n[5];let v=t,b;return n[6]!==l||n[7]!==a||n[8]!==v||n[9]!==i?(b=(0,u.jsx)(e5,{value:{isTransitioning:a,startRouteTransition:v,transitionProgress:i},children:l}),n[6]=l,n[7]=a,n[8]=v,n[9]=i,n[10]=b):b=n[10],b},e5=o.createContext({isTransitioning:!1,startRouteTransition:e=>{"function"==typeof e&&e()},transitionProgress:0}),e4=()=>o.use(e5),e8=/https?|ftp|gopher|file/;function e7(e){return"string"!=typeof e&&("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}var e9="default"in p?p.default:p,te=e=>{let{children:t,href:n,onClick:l,preventDefault:a=!0,ref:o,replace:r,scroll:i,...s}=e,c=(0,h.useRouter)(),{startRouteTransition:d}=e4();return(0,u.jsx)(e9,{href:n,onClick:e=>{if(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e))return;l&&l(e),a&&e.preventDefault();let t="string"==typeof n?n:function(e){var t;let n,{auth:l}=e,{hostname:a}=e,o=e.protocol||"",r=e.pathname||"",i=e.hash||"",s=e.query||"",c=!1;l=l?encodeURIComponent(l).replace(/%3A/i,":")+"@":"",e.host?c=l+e.host:a&&(c=l+(~a.indexOf(":")?"[".concat(a,"]"):a),e.port&&(c+=":"+e.port)),s&&"object"==typeof s&&(s=String((t=s,n=new URLSearchParams,Object.entries(t).forEach(e=>{let[t,l]=e;Array.isArray(l)?l.forEach(e=>n.append(t,e7(e))):n.set(t,e7(l))}),n)));let u=e.search||s&&"?".concat(s)||"";return o&&!o.endsWith(":")&&(o+=":"),e.slashes||(!o||e8.test(o))&&!1!==c?(c="//"+(c||""),r&&"/"!==r[0]&&(r="/"+r)):c||(c=""),i&&"#"!==i[0]&&(i="#"+i),u&&"?"!==u[0]&&(u="?"+u),r=r.replace(/[?#]/g,encodeURIComponent),u=u.replace("#","%23"),"".concat(o).concat(c).concat(r).concat(u).concat(i)}(n);d(()=>{r?c.replace(t,{scroll:i}):c.push(t,{scroll:i})})},ref:o,...s,children:t})},tt="banner",tn=e=>{let{type:t="default",alignIcon:n="right",children:l,className:a,icon:r,onClick:i,to:s}=e,c=[tt,"".concat(tt,"--type-").concat(t),a&&a,s&&"".concat(tt,"--has-link"),(s||i)&&"".concat(tt,"--has-action"),r&&"".concat(tt,"--has-icon"),r&&"".concat(tt,"--align-icon-").concat(n)].filter(Boolean).join(" "),d="div";return i&&!s&&(d="button"),s&&(d=te),(0,u.jsxs)(d,{className:c,href:s||null,onClick:i,children:[r&&"left"===n&&(0,u.jsx)(o.Fragment,{children:r}),(0,u.jsx)("span",{className:"".concat(tt,"__content"),children:l}),r&&"right"===n&&(0,u.jsx)(o.Fragment,{children:r})]})},tl=e=>{let{ariaLabel:t,className:n,direction:l,size:a}=e;return(0,u.jsx)("svg",{"aria-label":t,className:["icon icon--chevron",n,a&&"icon--size-".concat(a)].filter(Boolean).join(" "),height:"100%",style:{transform:"left"===l?"rotate(90deg)":"right"===l?"rotate(-90deg)":"up"===l?"rotate(180deg)":void 0},viewBox:"0 0 20 20",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M14 8L10 12L6 8",strokeLinecap:"square"})})},ta=e=>{let{className:t}=e;return(0,u.jsx)("svg",{className:[t,"icon icon--edit"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M9.68531 4.62938H5.2634C4.92833 4.62938 4.60698 4.76248 4.37004 4.99942C4.13311 5.23635 4 5.5577 4 5.89278V14.7366C4 15.0717 4.13311 15.393 4.37004 15.63C4.60698 15.8669 4.92833 16 5.2634 16H14.1072C14.4423 16 14.7636 15.8669 15.0006 15.63C15.2375 15.393 15.3706 15.0717 15.3706 14.7366V10.3147M13.7124 4.39249C13.9637 4.14118 14.3046 4 14.66 4C15.0154 4 15.3562 4.14118 15.6075 4.39249C15.8588 4.6438 16 4.98464 16 5.34004C16 5.69544 15.8588 6.03629 15.6075 6.28759L9.91399 11.9817C9.76399 12.1316 9.57868 12.2413 9.37515 12.3008L7.56027 12.8314C7.50591 12.8472 7.44829 12.8482 7.39344 12.8341C7.33859 12.8201 7.28853 12.7915 7.24849 12.7515C7.20845 12.7115 7.17991 12.6614 7.16586 12.6066C7.15181 12.5517 7.15276 12.4941 7.16861 12.4397L7.69924 10.6249C7.75896 10.4215 7.86888 10.2364 8.01888 10.0866L13.7124 4.39249Z",strokeLinecap:"square"})})},to=()=>(0,u.jsx)("svg",{"aria-hidden":"true",className:"graphic link icon icon--link",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M7.99999 13.3333H6.66666C5.78261 13.3333 4.93476 12.9821 4.30964 12.357C3.68452 11.7319 3.33333 10.884 3.33333 9.99999C3.33333 9.11593 3.68452 8.26809 4.30964 7.64297C4.93476 7.01785 5.78261 6.66666 6.66666 6.66666H7.99999M12 6.66666H13.3333C14.2174 6.66666 15.0652 7.01785 15.6904 7.64297C16.3155 8.26809 16.6667 9.11593 16.6667 9.99999C16.6667 10.884 16.3155 11.7319 15.6904 12.357C15.0652 12.9821 14.2174 13.3333 13.3333 13.3333H12M7.33333 9.99999H12.6667",strokeLinecap:"square"})}),tr=()=>(0,u.jsx)("svg",{className:"icon icon--plus",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M5.33333 9.99998H14.6667M9.99999 5.33331V14.6666",strokeLinecap:"square"})}),ti=()=>(0,u.jsx)("svg",{className:"icon icon--swap",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M7.33334 4L4.66667 6.66667M4.66667 6.66667L7.33334 9.33333M4.66667 6.66667H15.3333M12.6667 16L15.3333 13.3333M15.3333 13.3333L12.6667 10.6667M15.3333 13.3333H4.66667",strokeLinecap:"square"})}),ts={};(0,c.d)(ts,{Button:()=>th,ButtonGroup:()=>tp,Divider:()=>tc,GroupLabel:()=>tu});var tc=()=>(0,u.jsx)("hr",{className:"popup-divider"}),tu=e=>{let{label:t}=e;return(0,u.jsx)("p",{className:"popup-list-group-label",children:t})},td="popup-button-list",tp=e=>{let{buttonSize:t="default",children:n,className:l,textAlign:a="left"}=e,o=[td,l,"".concat(td,"__text-align--").concat(a),"".concat(td,"__button-size--").concat(t)].filter(Boolean).join(" ");return(0,u.jsx)("div",{className:o,children:n})},th=e=>{let{id:t,active:n,children:l,className:a,disabled:o,href:r,onClick:i}=e,s=["".concat(td,"__button"),o&&"".concat(td,"__disabled"),n&&"".concat(td,"__button--selected"),a].filter(Boolean).join(" ");if(!o){if(r)return(0,u.jsx)(te,{className:s,href:r,id:t,onClick:e=>{i&&i(e)},prefetch:!1,children:l});if(i)return(0,u.jsx)("button",{className:s,id:t,onClick:e=>{i&&i(e)},type:"button",children:l})}return(0,u.jsx)("div",{className:s,id:t,children:l})};function tf(e){let t,n=(0,f.c)(4),l=(0,o.useRef)(e),a,r;return n[0]!==e?(a=()=>{l.current=e},r=[e],n[0]=e,n[1]=a,n[2]=r):(a=n[1],r=n[2]),(0,o.useInsertionEffect)(a,r),n[3]===Symbol.for("react.memo_cache_sentinel")?(t=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,l.current)(...t)},n[3]=t):t=n[3],t}var tm="popup-button",tg=e=>{let{active:t,button:n,buttonType:l,className:a,disabled:o,noBackground:r,setActive:i,size:s}=e,c=[tm,a,"".concat(tm,"--").concat(l),!r&&"".concat(tm,"--background"),s&&"".concat(tm,"--size-").concat(s),o&&"".concat(tm,"--disabled")].filter(Boolean).join(" "),d=()=>{i(!t,!1)},p=e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),i(!t,!0))};return"none"===l?null:"custom"===l?(0,u.jsx)("div",{className:c,onClick:d,onKeyDown:p,role:"button",tabIndex:0,children:n}):(0,u.jsx)("button",{className:c,disabled:o,onClick:d,onKeyDown:p,tabIndex:0,type:"button",children:n})},tv="popup",tb=["a[href]","button:not(:disabled)",'input:not(:disabled):not([type="hidden"])',"select:not(:disabled)","textarea:not(:disabled)","[tabindex]",'[contenteditable]:not([contenteditable="false"])',"audio[controls]","video[controls]","summary"].map(e=>"".concat(e,':not([tabindex="-1"])')).join(", "),ty=e=>{let{id:t,button:n,buttonClassName:l,buttonSize:a,buttonType:i="default",caret:s=!0,children:c,className:d,disabled:p,forceOpen:h,horizontalAlign:f="left",initActive:m=!1,noBackground:g,onToggleClose:v,onToggleOpen:b,render:y,showOnHover:x=!1,showScrollbar:w=!1,size:j="medium",verticalAlign:C="bottom"}=e,S=(0,o.useRef)(null),_=(0,o.useRef)(null),k=(0,o.useRef)(!1),[N,E]=(0,o.useState)(!1),[P,D]=(0,o.useState)(m),[T,A]=(0,o.useState)("top"===C);(0,o.useEffect)(()=>{E(!0)},[]);let R=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(k.current=t,null==b||b(!0)):null==v||v(),D(e)},[v,b]),L=tf(()=>{let e=_.current,t=S.current;if(!e||!t)return;let n=e.getBoundingClientRect(),l=t.getBoundingClientRect(),a,o="top"===C;"bottom"===C?(a=n.bottom+window.scrollY+10,n.bottom+l.height+10>window.innerHeight&&(a=n.top+window.scrollY-l.height-10,o=!0)):(a=n.top+window.scrollY-l.height-10,n.top-l.height-10<0&&(a=n.bottom+window.scrollY+10,o=!1)),A(o);let r="right"===f?n.right-l.width:"center"===f?n.left+n.width/2-l.width/2:n.left;r=Math.max(10,Math.min(r,window.innerWidth-l.width-10));let i=Math.max(12,Math.min(n.left+n.width/2-r,l.width-12)),s="".concat(Math.round(a),"px"),c="".concat(Math.round(r+window.scrollX),"px"),u="".concat(Math.round(i),"px");t.style.top!==s&&(t.style.top=s),t.style.left!==c&&(t.style.left=c),t.style.getPropertyValue("--caret-left")!==u&&t.style.setProperty("--caret-left",u)}),O=tf(e=>{var t,n;let l=!(null==(t=S.current)?void 0:t.contains(e.target)),a=!(null==(n=_.current)?void 0:n.contains(e.target));l&&a&&R(!1)}),F=tf(e=>{let t=S.current;if(!(!t||!P)){if("Escape"===e.key){var n,l;e.preventDefault(),R(!1),null==(l=_.current)||null==(n=l.querySelector('button, [tabindex="0"]'))||n.focus();return}if("Tab"===e.key||"ArrowDown"===e.key||"ArrowUp"===e.key){let n=Array.from(t.querySelectorAll(tb));if(0===n.length)return;e.preventDefault();let l=n.findIndex(e=>e===document.activeElement),a="ArrowUp"===e.key||"Tab"===e.key&&e.shiftKey,o;o=-1===l?a?n.length-1:0:a?0===l?n.length-1:l-1:l===n.length-1?0:l+1,n[o].focus()}}}),M=tf(e=>{var t;let n=e.target.closest('button, a[href], [role="button"], [role="menuitem"]');n&&(null==(t=S.current)?void 0:t.contains(n))&&R(!1)});(0,o.useEffect)(()=>{if(!P)return;let e=S.current;if(e)return L(),k.current&&requestAnimationFrame(()=>{var t;null==(t=e.querySelector(tb))||t.focus()}),window.addEventListener("resize",L),window.addEventListener("scroll",L,{capture:!0,passive:!0}),document.addEventListener("mousedown",O),document.addEventListener("keydown",F),e.addEventListener("click",M),()=>{window.removeEventListener("resize",L),window.removeEventListener("scroll",L,{capture:!0}),document.removeEventListener("mousedown",O),document.removeEventListener("keydown",F),e.removeEventListener("click",M)}},[P]),(0,o.useEffect)(()=>{void 0!==h&&R(h)},[h,R]);let I=(0,u.jsx)(tg,{active:P,button:n,buttonType:i,className:l,disabled:p,noBackground:g,setActive:R,size:a});return(0,u.jsxs)("div",{className:[tv,d].filter(Boolean).join(" "),id:t,children:[(0,u.jsx)("div",{className:"".concat(tv,"__trigger-wrap"),ref:_,children:x?(0,u.jsx)("div",{className:"".concat(tv,"__on-hover-watch"),onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),role:"button",tabIndex:0,children:I}):I}),N?(0,r.createPortal)((0,u.jsxs)("div",{className:P?["".concat(tv,"__content"),"".concat(tv,"--size-").concat(j),T?"".concat(tv,"--v-top"):"".concat(tv,"--v-bottom")].filter(Boolean).join(" "):"".concat(tv,"__hidden-content"),"data-popup-id":t||void 0,ref:S,children:[(0,u.jsxs)("div",{className:"".concat(tv,"__scroll-container").concat(w?" ".concat(tv,"__scroll-container--show-scrollbar"):""),children:[null==y?void 0:y({close:()=>R(!1)}),c]}),s&&(0,u.jsx)("div",{className:"".concat(tv,"__caret")})]}),document.body):null]})},tx=(e,t)=>{let n,l=(0,f.c)(8),{root:a,rootMargin:r,threshold:i}=void 0===e?{}:e,[s,c]=(0,o.useState)(),[u,d]=(0,o.useState)(null),p=(0,o.useRef)("u">typeof window&&"IntersectionObserver"in window&&!t?new window.IntersectionObserver(e=>{let[t]=e;return c(t)},{root:void 0===a?null:a,rootMargin:void 0===r?"0px":r,threshold:void 0===i?0:i}):null),h,m;return l[0]!==t||l[1]!==u?(h=()=>{if(t)return;let{current:e}=p;return e.disconnect(),u&&e.observe(u),()=>e.disconnect()},m=[u,t],l[0]=t,l[1]=u,l[2]=h,l[3]=m):(h=l[2],m=l[3]),(0,o.useEffect)(h,m),l[4]!==s||l[5]!==u||l[6]!==d?(n=[d,s,u],l[4]=s,l[5]=u,l[6]=d,l[7]=n):n=l[7],n},tw=e=>{let{alignCaret:t="center",boundingRef:n,children:l,className:a,delay:r=350,position:i,show:s=!0,staticPositioning:c=!1}=e,[d,p]=o.useState(s),[h,f]=o.useState("top"),[m,g]=tx({root:(null==n?void 0:n.current)||null,rootMargin:"-145px 0px 0px 100px",threshold:0},c);return(0,o.useEffect)(()=>{let e;return r&&s?e=setTimeout(()=>{p(s)},r):p(s),()=>{e&&clearTimeout(e)}},[s,r]),(0,o.useEffect)(()=>{c||f((null==g?void 0:g.isIntersecting)?"top":"bottom")},[g,c]),(0,u.jsxs)(o.Fragment,{children:[!c&&(0,u.jsx)("aside",{"aria-hidden":"true",className:["tooltip",a,"tooltip--caret-".concat(t),"tooltip--position-top"].filter(Boolean).join(" "),ref:m,style:{opacity:"0"},children:(0,u.jsx)("div",{className:"tooltip-content",children:l})}),(0,u.jsx)("aside",{className:["tooltip",a,d&&"tooltip--show","tooltip--caret-".concat(t),"tooltip--position-".concat(i||h)].filter(Boolean).join(" "),title:(e=>"string"==typeof e?e:"")(l),children:(0,u.jsx)("div",{className:"tooltip-content",children:l})})]})},tj={chevron:tl,edit:ta,link:to,plus:tr,swap:ti,x:s.a},tC=e=>{let{children:t,icon:n,showTooltip:l,tooltip:a}=e,r=tj[n];return(0,u.jsxs)(o.Fragment,{children:[a&&(0,u.jsx)(tw,{className:"".concat("btn","__tooltip"),show:l,children:a}),(0,u.jsxs)("span",{className:"".concat("btn","__content"),children:[t&&(0,u.jsx)("span",{className:"".concat("btn","__label"),children:t}),n&&(0,u.jsxs)("span",{className:"".concat("btn","__icon"),children:[(0,o.isValidElement)(n)&&n,r&&(0,u.jsx)(r,{})]})]})]})},tS=e=>{let{id:t,type:n="button","aria-label":l,buttonStyle:a="primary",children:r,className:i,disabled:s,el:c="button",enableSubMenu:d,extraButtonProps:p={},icon:h,iconPosition:f="right",iconStyle:m="without-border",margin:g=!0,newTab:v,onClick:b,onMouseDown:y,ref:x,round:w,size:j="medium",SubMenuPopupContent:C,to:S,tooltip:_,url:k}=e,[N,E]=o.useState(!1),P=["btn",i&&i,h&&"".concat("btn","--icon"),m&&"".concat("btn","--icon-style-").concat(m),h&&!r&&"".concat("btn","--icon-only"),j&&"".concat("btn","--size-").concat(j),h&&f&&"".concat("btn","--icon-position-").concat(f),_&&"".concat("btn","--has-tooltip"),!C&&"".concat("btn","--withoutPopup"),!g&&"".concat("btn","--no-margin")].filter(Boolean).join(" "),D=[a&&"".concat("btn","--style-").concat(a),s&&"".concat("btn","--disabled"),w&&"".concat("btn","--round"),C?"".concat("btn","--withPopup"):"".concat("btn","--withoutPopup")].filter(Boolean).join(" "),T={id:t,type:n,"aria-disabled":s,"aria-label":l,className:C?P:[P,D].join(" "),disabled:s,onClick:s?void 0:function(e){E(!1),"submit"!==n&&b&&e.preventDefault(),b&&b(e)},onMouseDown:s?void 0:y,onPointerEnter:_?()=>E(!0):void 0,onPointerLeave:_?()=>E(!1):void 0,rel:v?"noopener noreferrer":void 0,target:v?"_blank":void 0,title:l,...p},A;switch(c){case"anchor":A=(0,u.jsx)("a",{...T,href:s?void 0:k,ref:x,children:(0,u.jsx)(tC,{icon:h,showTooltip:N,tooltip:_,children:r})});break;case"link":s&&(A=(0,u.jsx)("div",{...T,children:(0,u.jsx)(tC,{icon:h,showTooltip:N,tooltip:_,children:r})})),A=(0,u.jsx)(te,{...T,href:S||k,prefetch:!1,children:(0,u.jsx)(tC,{icon:h,showTooltip:N,tooltip:_,children:r})});break;default:A=(0,u.jsx)(c,{ref:x,...T,children:(0,u.jsx)(tC,{icon:h,showTooltip:N,tooltip:_,children:r})})}return C?(0,u.jsxs)("div",{className:D,children:[A,(0,u.jsx)(ty,{button:(0,u.jsx)(tl,{}),buttonSize:j,className:s&&!d?"".concat("btn","--popup-disabled"):"",disabled:s&&!d,horizontalAlign:"right",id:"".concat(t,"-popup"),noBackground:!0,render:e=>{let{close:t}=e;return C({close:()=>t()})},size:"large",verticalAlign:"bottom"})]}):A};function t_(e){let{fieldsFromClipboard:t,fieldsFromConfig:n}=e;return!!n&&t.length===(null==n?void 0:n.length)&&t.every((e,t)=>{let l=n[t];if(e.type!==l.type||(0,m.Z7)(e)&&(0,m.Z7)(l)&&e.name!==l.name)return!1;let a=(0,m.sd)(l),o=(0,m.sd)(e);return o===a&&(!o||!a||t_({fieldsFromClipboard:e.fields,fieldsFromConfig:l.fields}))})}var tk="_payloadClipboard";function tN(e){let{getDataToCopy:t,t:n,...l}=e,a={data:t(),...l};try{return localStorage.setItem(tk,JSON.stringify(a)),!0}catch(e){return n("error:unableToCopy")}}function tE(e){let t,{onPaste:n,path:l,t:a,...o}=e;try{let e=localStorage.getItem(tk);if(!e)return a("error:invalidClipboardData");t=JSON.parse(e)}catch(e){return a("error:invalidClipboardData")}return!function(e){let{data:t,path:n,...l}=e;return!(typeof t>"u")&&!!n&&!!l.type&&("blocks"===l.type?function(e){let{blocksFromClipboard:t,blocksFromConfig:n}=e,l=new Map(null==n?void 0:n.map(e=>[e.slug,e]));if(!l.size)return!1;let a=new Set;for(let e of t){let t=e.slug;if(!a.has(t)){let n=l.get(t);if(!n||!t_({fieldsFromClipboard:e.fields,fieldsFromConfig:n.fields}))return!1;a.add(t)}}return!0}({blocksFromClipboard:l.blocks,blocksFromConfig:l.schemaBlocks}):t_({fieldsFromClipboard:l.fields,fieldsFromConfig:l.schemaFields}))}({...t,...o,fieldPath:l})?a("error:invalidClipboardData"):(n(t),!0)}var tP=e=>{let{className:t}=e;return(0,u.jsxs)("svg",{className:["icon icon--more",t].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{className:"fill",d:"M10 10.6666C10.3682 10.6666 10.6667 10.3682 10.6667 9.99998C10.6667 9.63179 10.3682 9.33331 10 9.33331C9.63182 9.33331 9.33334 9.63179 9.33334 9.99998C9.33334 10.3682 9.63182 10.6666 10 10.6666Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M14.6667 10.6666C15.0349 10.6666 15.3333 10.3682 15.3333 9.99998C15.3333 9.63179 15.0349 9.33331 14.6667 9.33331C14.2985 9.33331 14 9.63179 14 9.99998C14 10.3682 14.2985 10.6666 14.6667 10.6666Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M5.33334 10.6666C5.70153 10.6666 6.00001 10.3682 6.00001 9.99998C6.00001 9.63179 5.70153 9.33331 5.33334 9.33331C4.96515 9.33331 4.66667 9.63179 4.66667 9.99998C4.66667 10.3682 4.96515 10.6666 5.33334 10.6666Z",strokeLinecap:"square"})]})},tD=()=>(0,u.jsx)("svg",{className:"icon icon--copy",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M4.66666 12.6667C3.93333 12.6667 3.33333 12.0667 3.33333 11.3333V4.66668C3.33333 3.93334 3.93333 3.33334 4.66666 3.33334H11.3333C12.0667 3.33334 12.6667 3.93334 12.6667 4.66668M8.66666 7.33334H15.3333C16.0697 7.33334 16.6667 7.9303 16.6667 8.66668V15.3333C16.6667 16.0697 16.0697 16.6667 15.3333 16.6667H8.66666C7.93028 16.6667 7.33333 16.0697 7.33333 15.3333V8.66668C7.33333 7.9303 7.93028 7.33334 8.66666 7.33334Z",strokeLinecap:"square"})}),tT=e=>{let t=(0,f.c)(4),{isPaste:n,isRow:l}=e,{t:a}=(0,s.d)(),r;if(t[0]!==n||t[1]!==l||t[2]!==a){let e=a("general:copyField");!l&&n?e=a("general:pasteField"):l&&!n?e=a("general:copyRow"):l&&n&&(e=a("general:pasteRow")),r=(0,u.jsxs)(o.Fragment,{children:[n?(0,u.jsx)(ta,{}):(0,u.jsx)(tD,{})," ",e]}),t[0]=n,t[1]=l,t[2]=a,t[3]=r}else r=t[3];return r},tA=e=>{let{allowCopy:t,allowPaste:n,className:l,copyClassName:a,disabled:r,isRow:i,onPaste:c,pasteClassName:d,path:p,...h}=e,{t:f}=(0,s.d)(),m=["".concat("clipboard-action","__popup"),l].filter(Boolean).join(" "),g=(0,o.useCallback)(()=>{let e=tN({path:p,t:f,...h});"string"==typeof e?eZ.error(e):eZ.success(f("general:copied"))},[f,h,p]),v=(0,o.useCallback)(()=>{let e=tE("array"===h.type?{onPaste:c,path:p,schemaFields:h.fields,t:f}:{onPaste:c,path:p,schemaBlocks:h.blocks,t:f});"string"==typeof e&&eZ.error(e)},[c,h,p,f]);return n||t?(0,u.jsx)(ty,{button:(0,u.jsx)(tP,{}),className:m,disabled:r,horizontalAlign:"center",render:e=>{let{close:l}=e;return(0,u.jsxs)(ts.ButtonGroup,{children:[(0,u.jsx)(ts.Button,{className:a,disabled:!t,onClick:()=>{g(),l()},children:(0,u.jsx)(tT,{isRow:i})}),(0,u.jsx)(ts.Button,{className:d,disabled:!n,onClick:()=>{v(),l()},children:(0,u.jsx)(tT,{isPaste:!0,isRow:i})})]})},size:"large",verticalAlign:"bottom"}):null};function tR(e){let{formState:t,path:n,rowIndex:l}=e,a={},o="number"!=typeof l?n:"".concat(n,".").concat(l);for(let e in t){if(!e.startsWith(o))continue;let{customComponents:n,validate:l,...r}=t[e];Array.isArray(r.rows)&&(r.rows=r.rows.map(e=>{if(!e||"object"!=typeof e)return e;let{customComponents:t,...n}=e;return n})),a[e]=r}return a}function tL(e){var t,n,l;let a,{dataFromClipboard:o,formState:r,path:i,rowIndex:s}=e,{type:c,data:u,path:d,rowIndex:p}=o,h="number"!=typeof p,f="number"!=typeof s,m=!h&&f,g="array"===c,v;if(v=h&&f?d:h?"".concat(d,".").concat(s):"".concat(d,".").concat(p),a=f?m?"".concat(i,".0"):i:"".concat(i,".").concat(s),m){let e="".concat(i,".0"),n=u["".concat(v,".id")].value,l=null==(t=r[i].rows)?void 0:t.length;for(let t in r[i].rows=[{...l&&g?r[i].rows[0]:{},id:n,isLoading:!1,lastRenderedPath:e}],r[i].value=1,r[i].initialValue=1,r[i].disableFormData=!0,r)t!==i&&!t.startsWith(e)&&t.startsWith(i)&&delete r[t]}for(let e in u){if(!f&&e.endsWith(".id")||!e.startsWith(v))continue;let t=e.replace(v,a),o=g?null==(n=r[t])?void 0:n.customComponents:void 0,i=g?null==(l=r[t])?void 0:l.validate:void 0;r[t]={customComponents:o,validate:i,...u[e]}}return r}function tO(e){var t,n;let l;return e?"[object Window]"===(l=Object.prototype.toString.call(e))||"[object global]"===l?e:"nodeType"in e&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}var tF="u">typeof window&&"u">typeof window.document&&"u">typeof window.document.createElement?o.useLayoutEffect:o.useEffect,tM={},tI=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];return n.reduce((e,t)=>{for(let[n,l]of Object.entries(t)){let t=e[n];null!=t&&(e[n]=t+-1*l)}return e},{...e})},tB=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[tB.Translate.toString(e),tB.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:l}=e;return t+" "+n+"ms "+l}}});function tz(e,t,n){let l=e.slice();return l.splice(n<0?l.length+n:n,0,l.splice(t,1)[0]),l}function tU(e){return null!==e&&e>=0}var tV=e=>{let{rects:t,activeIndex:n,overIndex:l,index:a}=e,o=tz(t,l,n),r=t[a],i=o[a];return i&&r?{x:i.left-r.left,y:i.top-r.top,scaleX:i.width/r.width,scaleY:i.height/r.height}:null},tH="Sortable",tq=o.createContext({activeIndex:-1,containerId:tH,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:tV,disabled:{draggable:!1,droppable:!1}});function tW(e){let{children:t,id:n,items:l,strategy:a=tV,disabled:r=!1}=e,{active:i,dragOverlay:s,droppableRects:c,over:u,measureDroppableContainers:d}=(0,g.fF)(),p=(0,o.useMemo)(()=>{if(n)return n;let e=null==tM[tH]?0:tM[tH]+1;return tM[tH]=e,tH+"-"+e},[tH,n]),h=null!==s.rect,f=(0,o.useMemo)(()=>l.map(e=>"object"==typeof e&&"id"in e?e.id:e),[l]),m=null!=i,v=i?f.indexOf(i.id):-1,b=u?f.indexOf(u.id):-1,y=(0,o.useRef)(f),x=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(f,y.current),w=-1!==b&&-1===v||x,j="boolean"==typeof r?{draggable:r,droppable:r}:r;tF(()=>{x&&m&&d(f)},[x,f,m,d]),(0,o.useEffect)(()=>{y.current=f},[f]);let C=(0,o.useMemo)(()=>({activeIndex:v,containerId:p,disabled:j,disableTransforms:w,items:f,overIndex:b,useDragOverlay:h,sortedRects:f.reduce((e,t,n)=>{let l=c.get(t);return l&&(e[n]=l),e},Array(f.length)),strategy:a}),[v,p,j.draggable,j.droppable,w,f,b,c,h,a]);return o.createElement(tq.Provider,{value:C},t)}var tK=e=>{let{id:t,items:n,activeIndex:l,overIndex:a}=e;return tz(n,l,a).indexOf(t)},tQ=e=>{let{containerId:t,isSorting:n,wasDragging:l,index:a,items:o,newIndex:r,previousItems:i,previousContainerId:s,transition:c}=e;return!!c&&!!l&&(i===o||a!==r)&&(!!n||r!==a&&t===s)},tY={duration:200,easing:"ease"},tG="transform",tX=tB.Transition.toString({property:tG,duration:0,easing:"linear"}),t$={roleDescription:"sortable"};function tZ(e){if(!e)return!1;let t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}var tJ=[g.vL.Down,g.vL.Right,g.vL.Up,g.vL.Left],t0=(e,t)=>{let{context:{active:n,collisionRect:l,droppableRects:a,droppableContainers:o,over:r,scrollableAncestors:i}}=t;if(tJ.includes(e.code)){if(e.preventDefault(),!n||!l)return;let t=[];o.getEnabled().forEach(n=>{if(!n||null!=n&&n.disabled)return;let o=a.get(n.id);if(o)switch(e.code){case g.vL.Down:l.top<o.top&&t.push(n);break;case g.vL.Up:l.top>o.top&&t.push(n);break;case g.vL.Left:l.left>o.left&&t.push(n);break;case g.vL.Right:l.left<o.left&&t.push(n)}});let s=(0,g.y$)({active:n,collisionRect:l,droppableRects:a,droppableContainers:t,pointerCoordinates:null}),c=(0,g.Vy)(s,"id");if(c===(null==r?void 0:r.id)&&s.length>1&&(c=s[1].id),null!=c){let e=o.get(n.id),t=o.get(c),r=t?a.get(t.id):null,s=null==t?void 0:t.node.current;if(s&&r&&e&&t){let n=(0,g.sl)(s).some((e,t)=>i[t]!==e),a=t1(e,t),o=function(e,t){return!!tZ(e)&&!!tZ(t)&&!!t1(e,t)&&e.data.current.sortable.index<t.data.current.sortable.index}(e,t),c=n||!a?{x:0,y:0}:{x:o?l.width-r.width:0,y:o?l.height-r.height:0},u={x:r.left,y:r.top};return c.x&&c.y?u:tI(u,c)}}}};function t1(e,t){return!!tZ(e)&&!!tZ(t)&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}var t3=e=>{let t,n,l=(0,f.c)(17),{id:a,disabled:r}=e,i;l[0]===Symbol.for("react.memo_cache_sentinel")?(i={duration:250,easing:"cubic-bezier(0, 0.2, 0.2, 1)"},l[0]=i):i=l[0],l[1]!==r||l[2]!==a?(t={id:a,disabled:r,transition:i},l[1]=r,l[2]=a,l[3]=t):t=l[3];let{attributes:s,isDragging:c,listeners:u,setNodeRef:d,transform:p,transition:h}=function(e){var t,n,l,a;let{animateLayoutChanges:r=tQ,attributes:i,disabled:s,data:c,getNewIndex:u=tK,id:d,strategy:p,resizeObserverConfig:h,transition:f=tY}=e,{items:m,containerId:v,activeIndex:b,disabled:y,disableTransforms:x,sortedRects:w,overIndex:j,useDragOverlay:C,strategy:S}=(0,o.useContext)(tq),_=(t=s,n=y,"boolean"==typeof t?{draggable:t,droppable:!1}:{draggable:null!=(l=null==t?void 0:t.draggable)?l:n.draggable,droppable:null!=(a=null==t?void 0:t.droppable)?a:n.droppable}),k=m.indexOf(d),N=(0,o.useMemo)(()=>({sortable:{containerId:v,index:k,items:m},...c}),[v,c,k,m]),E=(0,o.useMemo)(()=>m.slice(m.indexOf(d)),[m,d]),{rect:P,node:D,isOver:T,setNodeRef:A}=(0,g.zM)({id:d,data:N,disabled:_.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...h}}),{active:R,activatorEvent:L,activeNodeRect:O,attributes:F,setNodeRef:M,listeners:I,isDragging:B,over:z,setActivatorNodeRef:U,transform:V}=(0,g.PM)({id:d,data:N,attributes:{...t$,...i},disabled:_.draggable}),H=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(A,M),q=!!R,W=q&&!x&&tU(b)&&tU(j),K=!C&&B,Q=K&&W?V:null,Y=W?null!=Q?Q:(null!=p?p:S)({rects:w,activeNodeRect:O,activeIndex:b,overIndex:j,index:k}):null,G=tU(b)&&tU(j)?u({id:d,items:m,activeIndex:b,overIndex:j}):k,X=null==R?void 0:R.id,$=(0,o.useRef)({activeId:X,items:m,newIndex:G,containerId:v}),Z=m!==$.current.items,J=r({active:R,containerId:v,isDragging:B,isSorting:q,id:d,index:k,items:m,newIndex:$.current.newIndex,previousItems:$.current.items,previousContainerId:$.current.containerId,transition:f,wasDragging:null!=$.current.activeId}),ee=function(e){let{disabled:t,index:n,node:l,rect:a}=e,[r,i]=(0,o.useState)(null),s=(0,o.useRef)(n);return tF(()=>{if(!t&&n!==s.current&&l.current){let e=a.current;if(e){let t=(0,g.Sj)(l.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&i(n)}}n!==s.current&&(s.current=n)},[t,n,l,a]),(0,o.useEffect)(()=>{r&&i(null)},[r]),r}({disabled:!J,index:k,node:D,rect:P});return(0,o.useEffect)(()=>{q&&$.current.newIndex!==G&&($.current.newIndex=G),v!==$.current.containerId&&($.current.containerId=v),m!==$.current.items&&($.current.items=m)},[q,G,v,m]),(0,o.useEffect)(()=>{if(X===$.current.activeId)return;if(X&&!$.current.activeId){$.current.activeId=X;return}let e=setTimeout(()=>{$.current.activeId=X},50);return()=>clearTimeout(e)},[X]),{active:R,activeIndex:b,attributes:F,data:N,rect:P,index:k,newIndex:G,items:m,isOver:T,isSorting:q,isDragging:B,listeners:I,node:D,overIndex:j,over:z,setNodeRef:H,setActivatorNodeRef:U,setDroppableNodeRef:A,setDraggableNodeRef:M,transform:null!=ee?ee:Y,transition:ee||Z&&$.current.newIndex===k?tX:!(K&&!function(e){if(!e)return!1;let{KeyboardEvent:t}=tO(e.target);return t&&e instanceof t}(L)||!f)&&(q||J)?tB.Transition.toString({...f,property:tG}):void 0}}(t),m=c?"grabbing":"grab",v;l[4]!==m||l[5]!==h?(v={cursor:m,transition:h},l[4]=m,l[5]=h,l[6]=v):v=l[6],l[7]!==s||l[8]!==v?(n={...s,style:v},l[7]=s,l[8]=v,l[9]=n):n=l[9];let b=p&&"translate3d(".concat(p.x,"px, ").concat(p.y,"px, 0)"),y;return l[10]!==c||l[11]!==u||l[12]!==d||l[13]!==n||l[14]!==b||l[15]!==h?(y={attributes:n,isDragging:c,listeners:u,setNodeRef:d,transform:b,transition:h},l[10]=c,l[11]=u,l[12]=d,l[13]=n,l[14]=b,l[15]=h,l[16]=y):y=l[16],y},t2=e=>{let t=(0,f.c)(12),{id:n,children:l,disabled:a}=e,r;t[0]!==a||t[1]!==n?(r={id:n,disabled:a},t[0]=a,t[1]=n,t[2]=r):r=t[2];let{attributes:i,isDragging:s,listeners:c,setNodeRef:d,transform:p,transition:h}=t3(r),m=s?"grabbing":"grab",g;return t[3]!==i||t[4]!==l||t[5]!==s||t[6]!==c||t[7]!==d||t[8]!==m||t[9]!==p||t[10]!==h?(g=(0,u.jsx)(o.Fragment,{children:l({attributes:{...i,style:{cursor:m}},isDragging:s,listeners:c,setNodeRef:d,transform:p,transition:h})}),t[3]=i,t[4]=l,t[5]=s,t[6]=c,t[7]=d,t[8]=m,t[9]=p,t[10]=h,t[11]=g):g=t[11],g},t6=e=>{let t,n=(0,f.c)(18),{children:l,className:a,ids:r,onDragEnd:i,onDragStart:s}=e,c=(0,o.useId)(),d;n[0]!==c?(d={id:c},n[0]=c,n[1]=d):d=n[1];let{setNodeRef:p}=(0,g.zM)(d),h;n[2]===Symbol.for("react.memo_cache_sentinel")?(h={activationConstraint:{distance:5}},n[2]=h):h=n[2],n[3]===Symbol.for("react.memo_cache_sentinel")?(t={coordinateGetter:t0},n[3]=t):t=n[3];let m=(0,g.FR)((0,g.MS)(g.AN,h),(0,g.MS)(g.uN,t)),v;n[4]!==r||n[5]!==i?(v=e=>{let{active:t,over:n}=e;e.activatorEvent.stopPropagation(),t&&n&&"function"==typeof i&&i({event:e,moveFromIndex:r.findIndex(e=>e===t.id),moveToIndex:r.findIndex(e=>e===n.id)})},n[4]=r,n[5]=i,n[6]=v):v=n[6];let b=v,y;n[7]!==s?(y=e=>{let{active:t}=e;t&&"function"==typeof s&&s({id:t.id,event:e})},n[7]=s,n[8]=y):y=n[8];let x=y,w;return n[9]!==l||n[10]!==a||n[11]!==b||n[12]!==x||n[13]!==c||n[14]!==r||n[15]!==m||n[16]!==p?(w=(0,u.jsx)(g.Mp,{collisionDetection:g.fp,id:c,onDragEnd:b,onDragStart:x,sensors:m,children:(0,u.jsx)(tW,{items:r,children:(0,u.jsx)("div",{className:a,ref:p,children:l})})}),n[9]=l,n[10]=a,n[11]=b,n[12]=x,n[13]=c,n[14]=r,n[15]=m,n[16]=p,n[17]=w):w=n[17],w},t5="error-pill",t4=e=>{let{className:t,count:n,i18n:l,withMessage:a}=e,o=[t5,!a&&n<99&&"".concat(t5,"--fixed-width"),t&&t].filter(Boolean).join(" ");return 0===n?null:(0,u.jsx)("div",{className:o,children:(0,u.jsxs)("div",{className:"".concat(t5,"__content"),children:[(0,u.jsx)("span",{className:"".concat(t5,"__count"),children:n}),a&&" ".concat(n>1?l.t("general:errors"):l.t("general:error"))]})})},t8="field-description",t7=e=>{let t=(0,f.c)(8),{className:n,description:l,marginPlacement:a,path:o}=e,{i18n:r}=(0,s.d)();if(l){let e="field-description-".concat(null==o?void 0:o.replace(/\./g,"__")),i=a&&"".concat(t8,"--margin-").concat(a),s;t[0]!==n||t[1]!==e||t[2]!==i?(s=[t8,n,e,i].filter(Boolean),t[0]=n,t[1]=e,t[2]=i,t[3]=s):s=t[3];let c=s.join(" "),p;return t[4]!==l||t[5]!==r||t[6]!==c?(p=(0,u.jsx)("div",{className:c,children:(0,d.s)(l,r)}),t[4]=l,t[5]=r,t[6]=c,t[7]=p):p=t[7],p}return null},t9=e=>{let t=(0,f.c)(8),{alignCaret:n,message:l,path:a,showError:o}=e,r=void 0===n?"right":n,i=eT(),s;t[0]!==a?(s=e=>{let[t]=e;return t&&(null==t?void 0:t[a])||null},t[0]=a,t[1]=s):s=t[1];let c=eF(s),d;if(t[2]!==r||t[3]!==c||t[4]!==i||t[5]!==l||t[6]!==o){d=Symbol.for("react.early_return_sentinel");e:{let{errorMessage:e,valid:t}=c||{},n=l||e;if((o||i&&!1===t)&&(null==n?void 0:n.length)){d=(0,u.jsx)(tw,{alignCaret:r,className:"field-error",delay:0,staticPositioning:!0,children:n});break e}}t[2]=r,t[3]=c,t[4]=i,t[5]=l,t[6]=o,t[7]=d}else d=t[7];return d!==Symbol.for("react.early_return_sentinel")?d:null},ne=(0,o.createContext)(0),nt=e=>{let t=(0,f.c)(3),{children:n}=e,l=nn()+1,a;return t[0]!==n||t[1]!==l?(a=(0,u.jsx)(ne,{value:l,children:n}),t[0]=n,t[1]=l,t[2]=a):a=t[2],a},nn=()=>(0,o.use)(ne),nl=(e,t)=>(null==e?void 0:e.locales)&&0!==e.locales.length?e.locales.find(e=>(null==e?void 0:e.code)===t):null;function na(){return(na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(null,arguments)}function no(e,t){if(null==e)return{};var n={};for(var l in e)if(({}).hasOwnProperty.call(e,l)){if(t.includes(l))continue;n[l]=e[l]}return n}function nr(e,t){return(nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ni(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,nr(e,t)}function ns(e,t){return e.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var nc={disabled:!1},nu=o.createContext(null),nd=function(e){return e.scrollTop},np="unmounted",nh="exited",nf="entering",nm="entered",ng="exiting",nv=function(e){function t(t,n){var l,a=e.call(this,t,n)||this,o=n&&!n.isMounting?t.enter:t.appear;return a.appearStatus=null,t.in?o?(l=nh,a.appearStatus=nf):l=nm:l=t.unmountOnExit||t.mountOnEnter?np:nh,a.state={status:l},a.nextCallback=null,a}ni(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===np?{status:nh}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==nf&&n!==nm&&(t=nf):(n===nf||n===nm)&&(t=ng)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,l=this.props.timeout;return e=t=n=l,null!=l&&"number"!=typeof l&&(e=l.exit,t=l.enter,n=void 0!==l.appear?l.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===nf){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this);n&&nd(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===nh&&this.setState({status:np})},n.performEnter=function(e){var t=this,n=this.props.enter,l=this.context?this.context.isMounting:e,a=this.props.nodeRef?[l]:[r.findDOMNode(this),l],o=a[0],i=a[1],s=this.getTimeouts(),c=l?s.appear:s.enter;if(!e&&!n||nc.disabled)return void this.safeSetState({status:nm},function(){t.props.onEntered(o)});this.props.onEnter(o,i),this.safeSetState({status:nf},function(){t.props.onEntering(o,i),t.onTransitionEnd(c,function(){t.safeSetState({status:nm},function(){t.props.onEntered(o,i)})})})},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),l=this.props.nodeRef?void 0:r.findDOMNode(this);if(!t||nc.disabled)return void this.safeSetState({status:nh},function(){e.props.onExited(l)});this.props.onExit(l),this.safeSetState({status:ng},function(){e.props.onExiting(l),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:nh},function(){e.props.onExited(l)})})})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(l){n&&(n=!1,t.nextCallback=null,e(l))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this),l=null==e&&!this.props.addEndListener;if(!n||l)return void setTimeout(this.nextCallback,0);if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],i=a[1];this.props.addEndListener(o,i)}null!=e&&setTimeout(this.nextCallback,e)},n.render=function(){var e=this.state.status;if(e===np)return null;var t=this.props,n=t.children,l=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,no(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.createElement(nu.Provider,{value:null},"function"==typeof n?n(e,l):o.cloneElement(o.Children.only(n),l))},t}(o.Component);function nb(){}nv.contextType=nu,nv.propTypes={},nv.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:nb,onEntering:nb,onEntered:nb,onExit:nb,onExiting:nb,onExited:nb},nv.UNMOUNTED=np,nv.EXITED=nh,nv.ENTERING=nf,nv.ENTERED=nm,nv.EXITING=ng;var ny=function(e,t){return e&&t&&t.split(" ").forEach(function(t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=ns(e.className,t):e.setAttribute("class",ns(e.className&&e.className.baseVal||"",t))})},nx=function(e){function t(){for(var t,n=arguments.length,l=Array(n),a=0;a<n;a++)l[a]=arguments[a];return(t=e.call.apply(e,[this].concat(l))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var l=t.resolveArguments(e,n),a=l[0],o=l[1];t.removeClasses(a,"exit"),t.addClass(a,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var l=t.resolveArguments(e,n),a=l[0],o=l[1];t.addClass(a,o?"appear":"enter","active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var l=t.resolveArguments(e,n),a=l[0],o=l[1]?"appear":"enter";t.removeClasses(a,o),t.addClass(a,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,l="string"==typeof n,a=l&&n?n+"-":"",o=l?""+a+e:n[e],r=l?o+"-active":n[e+"Active"],i=l?o+"-done":n[e+"Done"];return{baseClassName:o,activeClassName:r,doneClassName:i}},t}ni(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var l,a=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(a+=" "+o),"active"===n&&e&&nd(e),a&&(this.appliedClasses[t][n]=a,l=a,e&&l&&l.split(" ").forEach(function(t){e.classList?e.classList.add(t):(e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" "))||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],l=n.base,a=n.active,o=n.done;this.appliedClasses[t]={},l&&ny(e,l),a&&ny(e,a),o&&ny(e,o)},n.render=function(){var e=this.props,t=(e.classNames,no(e,["classNames"]));return o.createElement(nv,na({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(o.Component);nx.defaultProps={classNames:""},nx.propTypes={};var nw=(0,o.createContext)({}),nj=()=>(0,o.useContext)(nw),nC=e=>e?{appear:"".concat(e,"--appear"),appearActive:"".concat(e,"--appearActive"),appearDone:"".concat(e,"--appearDone"),enter:"".concat(e,"--enter"),enterActive:"".concat(e,"--enterActive"),enterDone:"".concat(e,"--enterDone"),exit:"".concat(e,"--exit"),exitActive:"".concat(e,"--exitActive"),exitDone:"".concat(e,"--exitDone")}:{};function nS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,l)}return n}function n_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nS(Object(n),!0).forEach(function(t){var l,a,o;l=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(a))in l?Object.defineProperty(l,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[a]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,s.j)();var nk={activateTrap:function(e,t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var l=e.indexOf(t);-1===l||e.splice(l,1),e.push(t)},deactivateTrap:function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},nN=function(e){return(null==e?void 0:e.key)==="Tab"||(null==e?void 0:e.keyCode)===9},nE=function(e){return nN(e)&&!e.shiftKey},nP=function(e){return nN(e)&&e.shiftKey},nD=function(e){return setTimeout(e,0)},nT=function(e,t){var n=-1;return e.every(function(e,l){return!t(e)||(n=l,!1)}),n},nA=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];return"function"==typeof e?e.apply(void 0,n):e},nR=function(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target},nL=[],nO=function(e,t){var n,l=(null==t?void 0:t.document)||document,a=(null==t?void 0:t.trapStack)||nL,o=n_({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:nE,isKeyBackward:nP},t),r={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},i=function(e,t,n){return e&&void 0!==e[t]?e[t]:o[n||t]},c=function(e,t){var n="function"==typeof(null==t?void 0:t.composedPath)?t.composedPath():void 0;return r.containerGroups.findIndex(function(t){var l=t.container,a=t.tabbableNodes;return l.contains(e)||(null==n?void 0:n.includes(l))||a.find(function(t){return t===e})})},u=function(e){var t=o[e];if("function"==typeof t){for(var n=arguments.length,a=Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];t=t.apply(void 0,a)}if(!0===t&&(t=void 0),!t){if(void 0===t||!1===t)return t;throw Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var i=t;if("string"==typeof t&&!(i=l.querySelector(t)))throw Error("`".concat(e,"` as selector refers to no known node"));return i},d=function(){var e=u("initialFocus");if(!1===e)return!1;if(void 0===e||!(0,s.i)(e,o.tabbableOptions))if(c(l.activeElement)>=0)e=l.activeElement;else{var t=r.tabbableGroups[0];e=t&&t.firstTabbableNode||u("fallbackFocus")}if(!e)throw Error("Your focus-trap needs to have at least one focusable element");return e},p=function(){if(r.containerGroups=r.containers.map(function(e){var t=(0,s.f)(e,o.tabbableOptions),n=(0,s.g)(e,o.tabbableOptions),l=t.length>0?t[0]:void 0,a=t.length>0?t[t.length-1]:void 0,r=n.find(function(e){return(0,s.h)(e)}),i=n.slice().reverse().find(function(e){return(0,s.h)(e)}),c=!!t.find(function(e){return(0,s.e)(e)>0});return{container:e,tabbableNodes:t,focusableNodes:n,posTabIndexesFound:c,firstTabbableNode:l,lastTabbableNode:a,firstDomTabbableNode:r,lastDomTabbableNode:i,nextTabbableNode:function(e){var l=!(arguments.length>1)||void 0===arguments[1]||arguments[1],a=t.indexOf(e);return a<0?l?n.slice(n.indexOf(e)+1).find(function(e){return(0,s.h)(e)}):n.slice(0,n.indexOf(e)).reverse().find(function(e){return(0,s.h)(e)}):t[a+(l?1:-1)]}}}),r.tabbableGroups=r.containerGroups.filter(function(e){return e.tabbableNodes.length>0}),r.tabbableGroups.length<=0&&!u("fallbackFocus"))throw Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(r.containerGroups.find(function(e){return e.posTabIndexesFound})&&r.containerGroups.length>1)throw Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},h=function e(t){var n=t.activeElement;if(n)return n.shadowRoot&&null!==n.shadowRoot.activeElement?e(n.shadowRoot):n},f=function e(t){if(!1!==t&&t!==h(document)){if(!t||!t.focus)return void e(d());t.focus({preventScroll:!!o.preventScroll}),r.mostRecentlyFocusedNode=t,t.tagName&&"input"===t.tagName.toLowerCase()&&"function"==typeof t.select&&t.select()}},m=function(e){var t=u("setReturnFocus",e);return t||!1!==t&&e},g=function(e){var t=e.target,n=e.event,l=e.isBackward,a=void 0!==l&&l;t=t||nR(n),p();var i=null;if(r.tabbableGroups.length>0){var d=c(t,n),h=d>=0?r.containerGroups[d]:void 0;if(d<0)i=a?r.tabbableGroups[r.tabbableGroups.length-1].lastTabbableNode:r.tabbableGroups[0].firstTabbableNode;else if(a){var f=nT(r.tabbableGroups,function(e){var n=e.firstTabbableNode;return t===n});if(f<0&&(h.container===t||(0,s.i)(t,o.tabbableOptions)&&!(0,s.h)(t,o.tabbableOptions)&&!h.nextTabbableNode(t,!1))&&(f=d),f>=0){var m=0===f?r.tabbableGroups.length-1:f-1,g=r.tabbableGroups[m];i=(0,s.e)(t)>=0?g.lastTabbableNode:g.lastDomTabbableNode}else nN(n)||(i=h.nextTabbableNode(t,!1))}else{var v=nT(r.tabbableGroups,function(e){var n=e.lastTabbableNode;return t===n});if(v<0&&(h.container===t||(0,s.i)(t,o.tabbableOptions)&&!(0,s.h)(t,o.tabbableOptions)&&!h.nextTabbableNode(t))&&(v=d),v>=0){var b=v===r.tabbableGroups.length-1?0:v+1,y=r.tabbableGroups[b];i=(0,s.e)(t)>=0?y.firstTabbableNode:y.firstDomTabbableNode}else nN(n)||(i=h.nextTabbableNode(t))}}else i=u("fallbackFocus");return i},v=function(e){if(!(c(nR(e),e)>=0)){if(nA(o.clickOutsideDeactivates,e))return void n.deactivate({returnFocus:o.returnFocusOnDeactivate});nA(o.allowOutsideClick,e)||e.preventDefault()}},b=function(e){var t=nR(e),n=c(t,e)>=0;if(n||t instanceof Document)n&&(r.mostRecentlyFocusedNode=t);else{e.stopImmediatePropagation();var l,a=!0;if(r.mostRecentlyFocusedNode)if((0,s.e)(r.mostRecentlyFocusedNode)>0){var i=c(r.mostRecentlyFocusedNode),u=r.containerGroups[i].tabbableNodes;if(u.length>0){var p=u.findIndex(function(e){return e===r.mostRecentlyFocusedNode});p>=0&&(o.isKeyForward(r.recentNavEvent)?p+1<u.length&&(l=u[p+1],a=!1):p-1>=0&&(l=u[p-1],a=!1))}}else r.containerGroups.some(function(e){return e.tabbableNodes.some(function(e){return(0,s.e)(e)>0})})||(a=!1);else a=!1;a&&(l=g({target:r.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(r.recentNavEvent)})),f(l||r.mostRecentlyFocusedNode||d())}r.recentNavEvent=void 0},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.recentNavEvent=e;var n=g({event:e,isBackward:t});n&&(nN(e)&&e.preventDefault(),f(n))},x=function(e){if(((null==e?void 0:e.key)==="Escape"||(null==e?void 0:e.key)==="Esc"||(null==e?void 0:e.keyCode)===27)&&!1!==nA(o.escapeDeactivates,e)){e.preventDefault(),n.deactivate();return}(o.isKeyForward(e)||o.isKeyBackward(e))&&y(e,o.isKeyBackward(e))},w=function(e){c(nR(e),e)>=0||nA(o.clickOutsideDeactivates,e)||nA(o.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},j=function(){if(r.active)return nk.activateTrap(a,n),r.delayInitialFocusTimer=o.delayInitialFocus?nD(function(){f(d())}):f(d()),l.addEventListener("focusin",b,!0),l.addEventListener("mousedown",v,{capture:!0,passive:!1}),l.addEventListener("touchstart",v,{capture:!0,passive:!1}),l.addEventListener("click",w,{capture:!0,passive:!1}),l.addEventListener("keydown",x,{capture:!0,passive:!1}),n},C=function(){if(r.active)return l.removeEventListener("focusin",b,!0),l.removeEventListener("mousedown",v,!0),l.removeEventListener("touchstart",v,!0),l.removeEventListener("click",w,!0),l.removeEventListener("keydown",x,!0),n},S="u">typeof window&&"MutationObserver"in window?new MutationObserver(function(e){e.some(function(e){return Array.from(e.removedNodes).some(function(e){return e===r.mostRecentlyFocusedNode})})&&f(d())}):void 0,_=function(){S&&(S.disconnect(),r.active&&!r.paused&&r.containers.map(function(e){S.observe(e,{subtree:!0,childList:!0})}))};return(n={get active(){return r.active},get paused(){return r.paused},activate:function(e){if(r.active)return this;var t=i(e,"onActivate"),n=i(e,"onPostActivate"),a=i(e,"checkCanFocusTrap");a||p(),r.active=!0,r.paused=!1,r.nodeFocusedBeforeActivation=l.activeElement,null==t||t();var o=function(){a&&p(),j(),_(),null==n||n()};return a?a(r.containers.concat()).then(o,o):o(),this},deactivate:function(e){if(!r.active)return this;var t=n_({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},e);clearTimeout(r.delayInitialFocusTimer),r.delayInitialFocusTimer=void 0,C(),r.active=!1,r.paused=!1,_(),nk.deactivateTrap(a,n);var l=i(t,"onDeactivate"),s=i(t,"onPostDeactivate"),c=i(t,"checkCanReturnFocus"),u=i(t,"returnFocus","returnFocusOnDeactivate");null==l||l();var d=function(){nD(function(){u&&f(m(r.nodeFocusedBeforeActivation)),null==s||s()})};return u&&c?c(m(r.nodeFocusedBeforeActivation)).then(d,d):d(),this},pause:function(e){if(r.paused||!r.active)return this;var t=i(e,"onPause"),n=i(e,"onPostPause");return r.paused=!0,null==t||t(),C(),_(),null==n||n(),this},unpause:function(e){if(!r.paused||!r.active)return this;var t=i(e,"onUnpause"),n=i(e,"onPostUnpause");return r.paused=!1,null==t||t(),p(),j(),_(),null==n||n(),this},updateContainerElements:function(e){return r.containers=[].concat(e).filter(Boolean).map(function(e){return"string"==typeof e?l.querySelector(e):e}),r.active&&p(),_(),this}}).updateContainerElements(e),n},nF=function(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(n[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,l=Object.getOwnPropertySymbols(e);a<l.length;a++)0>t.indexOf(l[a])&&Object.prototype.propertyIsEnumerable.call(e,l[a])&&(n[l[a]]=e[l[a]]);return n},nM="modal-item",nI=(l=e=>{let{children:t}=e;return t?"function"==typeof t?(0,u.jsx)(o.Fragment,{children:t(e)}):(0,u.jsx)(o.Fragment,{children:t}):null},e=>{let t=nj(),n=(0,o.useRef)(null),[i,s]=(0,o.useState)(!1),c=(0,o.useRef)(!1),[d,p]=(0,o.useState)(null),{modalState:h,classPrefix:f,containerRef:m,transTime:g,setCloseOnBlur:v,setBodyScrollLock:b,openModal:y}=t,{className:x,htmlElement:w="dialog",slug:j="",closeOnBlur:C=!0,lockBodyScroll:S=!0,classPrefix:_,onEnter:k,onEntering:N,onEntered:E,onExit:P,onExiting:D,onExited:T,openOnInit:A,trapFocus:R=!0,focusTrapOptions:L={}}=e,O=nF(e,["className","htmlElement","slug","closeOnBlur","lockBodyScroll","classPrefix","onEnter","onEntering","onEntered","onExit","onExiting","onExited","openOnInit","trapFocus","focusTrapOptions"]),F=_||f,M=a||j,I=h[M]&&h[M].isOpen;(0,o.useEffect)(()=>{if(R){let e=n.current;!1===c.current&&e&&(p(nO(e,Object.assign(Object.assign({},L),{fallbackFocus:(null==L?void 0:L.fallbackFocus)||e,allowOutsideClick:!("u">typeof L.allowOutsideClick)||L.allowOutsideClick}))),c.current=!0)}},[R,i,L]),(0,o.useEffect)(()=>{s(!0)},[]),(0,o.useEffect)(()=>(d&&(I?d.activate():d.deactivate()),()=>{d&&d.deactivate()}),[I,d]),(0,o.useEffect)(()=>{I&&v(C)},[I,C,v]),(0,o.useEffect)(()=>{let e=n.current;return e&&b(!!(I&&S),e),()=>{e&&b(!1,e)}},[I,S,b]);let[B,z]=(0,o.useState)(I);if((0,o.useEffect)(()=>{I?z(I):setTimeout(()=>z(!1),g)},[I,g]),(0,o.useEffect)(()=>{A&&y(M)},[M,A,y]),m.current){let a=F?"".concat(F,"__").concat(nM):nM,o=[a,"".concat(a,"--slug-").concat(M),x].filter(Boolean).join(" "),i=Object.assign({role:"dialog"!==w?"dialog":void 0,open:"dialog"===w?B||I:void 0,"aria-modal":!0,"aria-label":O["aria-labelledby"]?void 0:M},O);return r.createPortal((0,u.jsx)(nx,{nodeRef:n,timeout:g,in:I,classNames:nC(a),appear:!0,onEnter:k,onEntering:N,onEntered:E,onExit:P,onExiting:D,onExited:T,children:(0,u.jsx)(w,Object.assign({ref:n,id:(null==O?void 0:O.id)||M,className:o},i,{children:(0,u.jsx)(l,Object.assign({},e,{isOpen:I,modal:t}))}))}),m.current)}return null}),nB=function(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(n[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,l=Object.getOwnPropertySymbols(e);a<l.length;a++)0>t.indexOf(l[a])&&Object.prototype.propertyIsEnumerable.call(e,l[a])&&(n[l[a]]=e[l[a]]);return n},nz="modal-container",nU=e=>{let{oneModalIsOpen:t,classPrefix:n,transTime:l,setContainerRef:a,containerRef:o,closeAllModals:r,closeOnBlur:i}=nj(),{className:s,htmlElement:c="div",children:d,onClick:p}=e,h=nB(e,["className","htmlElement","children","onClick"]),f=n?"".concat(n,"__").concat(nz):nz,m=[f,s].filter(Boolean).join(" "),g=Object.assign(Object.assign({},h),{onClick:e=>{i&&r(),"function"==typeof p&&p(e)}});return(0,u.jsx)(nx,{nodeRef:o,in:t,timeout:l,classNames:nC(f),appear:!0,children:(0,u.jsx)(c,Object.assign({className:m,ref:a},g,{children:d&&d}))})},nV=!1;"u">typeof window&&(nH={get passive(){nV=!0}},window.addEventListener("testPassive",null,nH),window.removeEventListener("testPassive",null,nH));var nH,nq="u">typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),nW=[],nK=!1,nQ=-1,nY=void 0,nG=void 0,nX=void 0,n$=function(e){return nW.some(function(t){return!!(t.options.allowTouchMove&&t.options.allowTouchMove(e))})},nZ=function(e){var t=e||window.event;return!!n$(t.target)||t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1)},nJ=function(e){if(void 0===nX){var t=!!e&&!0===e.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;if(t&&n>0){var l=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);nX=document.body.style.paddingRight,document.body.style.paddingRight=l+n+"px"}}void 0===nY&&(nY=document.body.style.overflow,document.body.style.overflow="hidden")},n0=function(){void 0!==nX&&(document.body.style.paddingRight=nX,nX=void 0),void 0!==nY&&(document.body.style.overflow=nY,nY=void 0)},n1=function(){if(void 0!==nG){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=nG.position,document.body.style.top=nG.top,document.body.style.left=nG.left,window.scrollTo(t,e),nG=void 0}},n3=function(e,t){var n=e.targetTouches[0].clientY-nQ;return!n$(e.target)&&(t&&0===t.scrollTop&&n>0||t&&t.scrollHeight-t.scrollTop<=t.clientHeight&&n<0?nZ(e):(e.stopPropagation(),!0))},n2=function(e,t){if(!e)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");!nW.some(function(t){return t.targetElement===e})&&(nW=[].concat(function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}(nW),[{targetElement:e,options:t||{}}]),nq?window.requestAnimationFrame(function(){if(void 0===nG){nG={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,t=e.scrollY,n=e.scrollX,l=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-n,setTimeout(function(){return window.requestAnimationFrame(function(){var e=l-window.innerHeight;e&&t>=l&&(document.body.style.top=-(t+e))})},300)}}):nJ(t),nq&&(e.ontouchstart=function(e){1===e.targetTouches.length&&(nQ=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&n3(t,e)},nK||(document.addEventListener("touchmove",nZ,nV?{passive:!1}:void 0),nK=!0)))},n6=function(e){if(!e)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");nW=nW.filter(function(t){return t.targetElement!==e}),nq&&(e.ontouchstart=null,e.ontouchmove=null,nK&&0===nW.length&&(document.removeEventListener("touchmove",nZ,nV?{passive:!1}:void 0),nK=!1)),nq?n1():n0()},n5=(e,t)=>{let n=Object.assign({},e),{type:l,payload:a}=t;switch(l){case"UPDATE_MODAL":{let{slug:e}=a;e&&(n[e]=Object.assign(Object.assign({},n[e]),a));break}case"OPEN_MODAL":{let{slug:e}=a;e&&(e in n&&n[e].isOpen||(n[e]=Object.assign(Object.assign({},n[e]),{slug:e,openedOn:Date.now(),isOpen:!0})));break}case"TOGGLE_MODAL":{let{slug:e}=a;if(e){let t=e in n&&n[e].isOpen;n[e]=Object.assign(Object.assign({},n[e]),{slug:e,openedOn:t?void 0:Date.now(),isOpen:!t})}break}case"CLOSE_MODAL":{let{slug:e}=a;e&&(n[e]=Object.assign(Object.assign({},n[e]),{slug:e,openedOn:void 0,isOpen:!1}));break}case"REMOVE_MODAL":{let{slug:e}=a;e&&e in n&&delete n[e];break}case"CLOSE_LATEST_MODAL":{let e=Object.keys(n).reduce((e,t)=>{let l=n[t];return l.isOpen&&"number"==typeof l.openedOn&&(!e||"number"==typeof e.openedOn&&l.openedOn>e.openedOn)?l:e},void 0);e&&(n[e.slug]=Object.assign(Object.assign({},n[e.slug]),{isOpen:!1,openedOn:void 0}));break}case"CLOSE_ALL_MODALS":n=Object.entries(n).reduce((e,t)=>{let[n,l]=t;return e[n]=Object.assign(Object.assign({},l),{isOpen:!1,openedOn:void 0}),e},{})}return n},n4=e=>{let{classPrefix:t,minifyCSS:n=!0,generateCSS:l=!0,zIndex:a=9999,handleParamChange:r,children:i,transTime:s=250}=e,c=(0,o.useRef)(null),[d,p]=(0,o.useReducer)(n5,{},()=>(()=>{let e=(()=>{if("u">typeof window)return new URLSearchParams(window.location.search)})(),t=[];if(e){let n=e.get("modal");n&&(t=n.includes(",")?n.split(","):[n])}return t})().reduce((e,t)=>(e[t]={slug:t,isOpen:!0,openedOn:Date.now()},e),{})),[h,f]=(0,o.useState)(!1),[m,g]=(0,o.useState)(!1),[v,b]=(0,o.useState)(!1),[y,x]=(0,o.useState)(""),w=(0,o.useRef)(!1),j=(0,o.useCallback)(e=>{27===e.keyCode&&p({type:"CLOSE_LATEST_MODAL"})},[]);(0,o.useEffect)(()=>(w.current||(document.addEventListener("keydown",e=>j(e),!1),w.current=!0),()=>{w.current&&document.removeEventListener("keydown",e=>j(e),!1)}),[j]),(0,o.useEffect)(()=>{if(l){let e="";e=(e=>{let{classPrefix:t,zIndex:n}=e,l=t?"".concat(t,"__"):"";return"\n    .".concat(l).concat(nz," {\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      position: fixed;\n      pointer-events: none;\n      visibility: hidden;\n      z-index: -1;\n    }\n\n    .").concat(l).concat(nz,"--appear,\n    .").concat(l).concat(nz,"--appearDone,\n    .").concat(l).concat(nz,"--enter,\n    .").concat(l).concat(nz,"--enterDone,\n    .").concat(l).concat(nz,"--exit {\n      pointer-events: all;\n      visibility: visible;\n      z-index: ").concat(n,";\n    }\n\n    .").concat(l).concat(nM," {\n      position: absolute;\n      visibility: hidden;\n    }\n\n    .").concat(l).concat(nM,"--appear,\n    .").concat(l).concat(nM,"--appearDone,\n    .").concat(l).concat(nM,"--enter,\n    .").concat(l).concat(nM,"--enterDone,\n    .").concat(l).concat(nM,"--exit {\n      visibility: visible;\n    }\n  ")})({classPrefix:t,zIndex:a}),n&&(e=e.replace(/\n/g,"").replace(/\s\s+/g," ")),x(e)}},[l,n,a,t]),(0,o.useEffect)(()=>{if("function"==typeof r&&r(d),"boolean"==typeof r&&r){let e=Object.keys(d).filter(e=>d[e].isOpen),t=new URLSearchParams;for(let n of e)t.append("modal",n);let n=t.toString()?"?".concat(t):"",l="".concat(window.location.pathname).concat(n);window.history.pushState({},"",l)}},[d,r]),(0,o.useEffect)(()=>{f(Object.keys(d).some(e=>d[e].isOpen))},[d]);let C=(0,o.useCallback)((e,t)=>{t&&(e?(n2(t),b(!0)):(n6(t),b(!1)))},[]),S=(0,o.useCallback)(e=>{c.current=e},[]),_=(0,o.useCallback)(e=>{p({type:"OPEN_MODAL",payload:{slug:e}})},[]),k=(0,o.useCallback)(e=>{p({type:"CLOSE_MODAL",payload:{slug:e}})},[]),N=(0,o.useCallback)(()=>{p({type:"CLOSE_ALL_MODALS"})},[]),E=(0,o.useCallback)(e=>{p({type:"TOGGLE_MODAL",payload:{slug:e}})},[]),P=(0,o.useCallback)(e=>d[e]&&d[e].isOpen,[d]),D=Object.assign({},e);return delete D.children,(0,u.jsxs)(o.Fragment,{children:[l&&(0,u.jsx)("style",{dangerouslySetInnerHTML:{__html:y}}),(0,u.jsx)(nw.Provider,{value:Object.assign(Object.assign({},D),{transTime:s,containerRef:c,modalState:d,oneModalIsOpen:h,isModalOpen:P,closeOnBlur:m,bodyScrollIsLocked:v,classPrefix:t,closeAllModals:N,setCloseOnBlur:g,openModal:_,closeModal:k,toggleModal:E,setBodyScrollLock:C,setContainerRef:S}),children:i})]})},n8="gutter",n7=e=>{let{children:t,className:n,left:l=!0,negativeLeft:a=!1,negativeRight:o=!1,ref:r,right:i=!0}=e,s=l&&!a,c=i&&!o;return(0,u.jsx)("div",{className:[n8,s&&"".concat(n8,"--left"),c&&"".concat(n8,"--right"),a&&"".concat(n8,"--negative-left"),o&&"".concat(n8,"--negative-right"),n].filter(Boolean).join(" "),ref:r,children:t})},n9=e=>{let t=(0,f.c)(3),n=(0,o.useId)(),l=nn(),a="".concat(e,"-").concat(n),r;return t[0]!==l||t[1]!==a?(r=lt({slug:a,depth:l}),t[0]=l,t[1]=a,t[2]=r):r=t[2],r},le="drawer",lt=e=>{let{slug:t,depth:n}=e;return"drawer_".concat(n,"_").concat(t)},ln=e=>{let t=(0,f.c)(4),{slug:n,children:l,className:a,disabled:o,onClick:r,...i}=e,{openModal:s}=nj(),c;return t[0]!==r||t[1]!==s||t[2]!==n?(c=e=>{s(n),"function"==typeof r&&r(e)},t[0]=r,t[1]=s,t[2]=n,t[3]=c):c=t[3],(0,u.jsx)("button",{className:a,disabled:o,onClick:c,type:"button",...i,children:l})},ll=e=>{var t;let n=(0,f.c)(22),{slug:l,children:a,className:r,gutter:i,Header:c,hoverTitle:d,title:p}=e,h=void 0===i||i,{t:m}=(0,s.d)(),{closeModal:g,modalState:v}=nj(),b=lr(),y=!!(null==(t=v[l])?void 0:t.isOpen),[x,w]=(0,o.useState)(y),j,C;if(n[0]!==y?(j=()=>{w(y)},C=[y],n[0]=y,n[1]=j,n[2]=C):(j=n[1],C=n[2]),(0,o.useLayoutEffect)(j,C),y){let e=x&&"".concat(le,"--is-open"),t=b>1&&"".concat(le,"--nested"),o;n[3]!==r||n[4]!==e||n[5]!==t?(o=[r,le,e,t].filter(Boolean),n[3]=r,n[4]=e,n[5]=t,n[6]=o):o=n[6];let i=o.join(" "),f=100+b,v;if(n[7]!==c||n[8]!==a||n[9]!==g||n[10]!==b||n[11]!==h||n[12]!==d||n[13]!==l||n[14]!==m||n[15]!==i||n[16]!==f||n[17]!==p){let e;n[19]!==g||n[20]!==l?(e=()=>g(l),n[19]=g,n[20]=l,n[21]=e):e=n[21],v=(0,u.jsx)(lo,{children:(0,u.jsxs)(nI,{className:i,closeOnBlur:!1,slug:l,style:{zIndex:f},children:[(!b||1===b)&&(0,u.jsx)("div",{className:"".concat(le,"__blur-bg")}),(0,u.jsx)("button",{"aria-label":m("general:close"),className:"".concat(le,"__close"),id:"close-drawer__".concat(l),onClick:e,type:"button"}),(0,u.jsxs)("div",{className:"".concat(le,"__content"),style:{width:"calc(100% - (".concat(b," * var(--gutter-h)))")},children:[(0,u.jsx)("div",{className:"".concat(le,"__blur-bg-content")}),(0,u.jsxs)(n7,{className:"".concat(le,"__content-children"),left:h,right:h,children:[c,void 0===c&&(0,u.jsxs)("div",{className:"".concat(le,"__header"),children:[(0,u.jsx)("h2",{className:"".concat(le,"__header__title"),title:d?p:null,children:p}),(0,u.jsx)("button",{"aria-label":m("general:close"),className:"".concat(le,"__header__close"),id:"close-drawer__".concat(l),onClick:()=>g(l),type:"button",children:(0,u.jsx)(s.a,{})})]}),a]})]})]})}),n[7]=c,n[8]=a,n[9]=g,n[10]=b,n[11]=h,n[12]=d,n[13]=l,n[14]=m,n[15]=i,n[16]=f,n[17]=p,n[18]=v}else v=n[18];return v}return null},la=(0,o.createContext)(1),lo=e=>{let t=(0,f.c)(3),{children:n}=e,l=lr()+1,a;return t[0]!==n||t[1]!==l?(a=(0,u.jsx)(la,{value:l,children:n}),t[0]=n,t[1]=l,t[2]=a):a=t[2],a},lr=()=>(0,o.use)(la),li="confirmation-modal";function ls(e){let t,n=(0,f.c)(25),{body:l,cancelLabel:a,className:r,confirmingLabel:i,confirmLabel:c,heading:d,modalSlug:p,onCancel:h,onConfirm:m}=e,g=lr(),[v,b]=o.useState(!1),{closeModal:y,isModalOpen:x}=nj(),{t:w}=(0,s.d)(),j;n[0]!==y||n[1]!==v||n[2]!==p||n[3]!==m?(j=async()=>{v||(b(!0),"function"==typeof m&&await m(),b(!1),y(p))},n[0]=y,n[1]=v,n[2]=p,n[3]=m,n[4]=j):j=n[4];let C=j,S;n[5]!==y||n[6]!==v||n[7]!==p||n[8]!==h?(S=()=>{v||(y(p),"function"==typeof h&&h())},n[5]=y,n[6]=v,n[7]=p,n[8]=h,n[9]=S):S=n[9];let _=S;if(!x(p))return null;n[10]!==r?(t=[li,r].filter(Boolean),n[10]=r,n[11]=t):t=n[11];let k=t.join(" "),N=100+g,E;return n[12]!==l||n[13]!==a||n[14]!==c||n[15]!==v||n[16]!==i||n[17]!==d||n[18]!==p||n[19]!==_||n[20]!==C||n[21]!==w||n[22]!==k||n[23]!==N?(E=(0,u.jsx)(nI,{className:k,closeOnBlur:!1,slug:p,style:{zIndex:N},children:(0,u.jsxs)("div",{className:"".concat(li,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(li,"__content"),children:["string"==typeof d?(0,u.jsx)("h1",{children:d}):d,"string"==typeof l?(0,u.jsx)("p",{children:l}):l]}),(0,u.jsxs)("div",{className:"".concat(li,"__controls"),children:[(0,u.jsx)(tS,{buttonStyle:"secondary",disabled:v,id:"confirm-cancel",onClick:_,size:"large",type:"button",children:a||w("general:cancel")}),(0,u.jsx)(tS,{id:"confirm-action",onClick:C,size:"large",children:v?i||"".concat(w("general:loading"),"..."):c||w("general:confirm")})]})]})}),n[12]=l,n[13]=a,n[14]=c,n[15]=v,n[16]=i,n[17]=d,n[18]=p,n[19]=_,n[20]=C,n[21]=w,n[22]=k,n[23]=N,n[24]=E):E=n[24],E}var lc="stay-logged-in",lu=()=>{let e=(0,f.c)(11),{refreshCookie:t}=lf(),n=(0,h.useRouter)(),{config:l}=(0,i.c)(),{admin:a,routes:o}=l,{routes:r}=a,{logout:c}=r,{admin:d}=o,{t:p}=(0,s.d)(),{startRouteTransition:m}=e4(),g;e[0]!==d||e[1]!==c||e[2]!==n||e[3]!==m?(g=()=>m(()=>n.push((0,v.Q)({adminRoute:d,path:c}))),e[0]=d,e[1]=c,e[2]=n,e[3]=m,e[4]=g):g=e[4];let b=g,y;e[5]!==t?(y=()=>{t()},e[5]=t,e[6]=y):y=e[6];let x=y,w;return e[7]!==x||e[8]!==b||e[9]!==p?(w=(0,u.jsx)(ls,{body:p("authentication:youAreInactive"),cancelLabel:p("authentication:stayLoggedIn"),confirmLabel:p("authentication:logOut"),heading:p("authentication:stayLoggedIn"),modalSlug:lc,onCancel:x,onConfirm:b}),e[7]=x,e[8]=b,e[9]=p,e[10]=w):w=e[10],w},ld={delete:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n=t&&t.headers?{...t.headers}:{};return fetch(e,{...t,credentials:"include",headers:{...n},method:"delete"})},get:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n="";return t.params&&(n=b.A(t.params,{addQueryPrefix:!0})),fetch("".concat(e).concat(n),{credentials:"include",...t})},patch:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n=t&&t.headers?{...t.headers}:{};return fetch(e,{...t,credentials:"include",headers:{...n},method:"PATCH"})},post:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n=t&&t.headers?{...t.headers}:{},l={...t,credentials:"include",headers:{...n},method:"post"};return fetch("".concat(e),l)},put:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n=t&&t.headers?{...t.headers}:{};return fetch(e,{...t,credentials:"include",headers:{...n},method:"put"})}},lp=(0,o.createContext)({});function lh(e){let{children:t,permissions:n,user:l}=e,a=(0,h.usePathname)(),r=(0,h.useRouter)(),{config:c}=(0,i.c)(),{admin:{autoLogin:d,autoRefresh:p,routes:{inactivity:f},user:m},routes:{admin:g,api:y}}=c,{i18n:x}=(0,s.d)(),{closeAllModals:w,openModal:j}=nj(),{startRouteTransition:C}=e4(),[S,_]=(0,o.useState)(l),[k,N]=(0,o.useState)(),[E,P]=(0,o.useState)(),[D,T]=(0,o.useState)(n),[A,R]=(0,o.useState)(12e4),[L,O]=(0,o.useState)(!1),F=o.useRef(null),M=o.useRef(null),I=o.useRef(null),B=null==S?void 0:S.id,z=(0,o.useCallback)(()=>{let e=(0,v.Q)({adminRoute:g,path:""});C(()=>r.replace((0,v.Q)({adminRoute:g,path:"".concat(f).concat(window.location.pathname.startsWith(e)?"?redirect=".concat(encodeURIComponent(window.location.pathname)):"")}))),w()},[r,g,f,w,C]),U=(0,o.useCallback)(()=>{_(null),N(void 0),P(void 0),clearTimeout(F.current)},[]),V=tf(()=>{p?G():j(lc)}),H=(0,o.useCallback)(e=>{if(clearTimeout(M.current),clearTimeout(I.current),null==e?void 0:e.user){var t;_(e.user),N(e.token),P(1e3*e.exp);let n=Math.max(0,Math.min((null!=(t=e.exp)?t:0)*1e3-Date.now(),0x7fffffff));if(n){let e=Math.min(6e4,n/2);R(e),M.current=setTimeout(V,Math.max(n-e,0)),I.current=setTimeout(()=>{U(),z()},n)}}else U()},[z,U]),q=(0,o.useCallback)(e=>{if(!B)return;let t=Math.max(0,(null!=E?E:0)-Date.now());(e||E&&t<2*A)&&(clearTimeout(F.current),F.current=setTimeout(async()=>{try{let e=await ld.post((0,v.Q)({apiRoute:y,path:"/".concat(m,"/refresh-token?refresh")}),{headers:{"Accept-Language":x.language}});if(200===e.status){let t=await e.json();H(t)}else H(null),z()}catch(e){eZ.error(e.message)}},1e3))},[y,x.language,z,H,E,m,A,B]),W=(0,o.useCallback)(async e=>{try{let t=await ld.post((0,v.Q)({apiRoute:y,path:"/".concat(m,"/refresh-token")}),{headers:{"Accept-Language":x.language}});if(200===t.status){let n=await t.json();return e||H(n),n.user}S&&(H(null),z())}catch(e){eZ.error("Refreshing token failed: ".concat(e.message))}return null},[y,x.language,z,H,m,S]),K=(0,o.useCallback)(async()=>{try{S&&S.collection&&(H(null),await ld.post((0,v.Q)({apiRoute:y,path:"/".concat(S.collection,"/logout")})))}catch(e){}return!0},[y,H,S]),Q=(0,o.useCallback)(async function(){let{locale:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=b.A({locale:e},{addQueryPrefix:!0});try{let e=await ld.get((0,v.Q)({apiRoute:y,path:"/access".concat(t)}),{headers:{"Accept-Language":x.language}});if(200===e.status){let t=await e.json();T(t)}else throw Error("Fetching permissions failed with status code ".concat(e.status))}catch(e){eZ.error("Refreshing permissions failed: ".concat(e.message))}},[y,x]),Y=o.useCallback(async()=>{try{let e=await ld.get((0,v.Q)({apiRoute:y,path:"/".concat(m,"/me")}),{credentials:"include",headers:{"Accept-Language":x.language}});if(200===e.status){let t=await e.json();return H(t),(null==t?void 0:t.user)||null}}catch(e){eZ.error("Fetching user failed: ".concat(e.message))}return null},[y,m,x.language,H]),G=tf(q);(0,o.useEffect)(()=>{G()},[a]);let X=tf(Y);return(0,o.useEffect)(()=>{!async function(){await X(),O(!0)}()},[]),(0,o.useEffect)(()=>{S||!d||d.prefillOnly||X()},[S,d]),(0,o.useEffect)(()=>()=>{clearTimeout(F.current),clearTimeout(M.current),clearTimeout(I.current)},[]),S||L?(0,u.jsx)(lp,{value:{fetchFullUser:Y,logOut:K,permissions:D,refreshCookie:q,refreshCookieAsync:W,refreshPermissions:Q,setPermissions:T,setUser:H,token:k,tokenExpirationMs:E,user:S},children:t}):null}var lf=()=>(0,o.use)(lp),lm=(0,o.createContext)({}),lg=(0,o.createContext)({localeIsLoading:!1,setLocaleIsLoading:e=>{}}),lv=async(e,t)=>{var n;return await (null==(n=fetch("".concat(t,"/payload-preferences/").concat(e),{credentials:"include",headers:{"Content-Type":"application/json"},method:"GET"}))?void 0:n.then(e=>e.json()))},lb=e=>{let t,n,l=(0,f.c)(28),{children:a,locale:r}=e,{config:s}=(0,i.c)(),{localization:c,routes:d}=s,p=void 0!==c&&c,{api:m}=d,{user:g}=lf(),b=p?p.defaultLocale:"en",y=(0,h.useSearchParams)(),x;l[0]!==y?(x=y.get("locale"),l[0]=y,l[1]=x):x=l[1];let w=x,j;l[2]!==b||l[3]!==r||l[4]!==w||l[5]!==p?(j=()=>p&&(!p||p.locales.length)?nl(p,w)||nl(p,r)||nl(p,b)||nl(p,p.locales[0].code):{},l[2]=b,l[3]=r,l[4]=w,l[5]=p,l[6]=j):j=l[6];let[C,S]=o.useState(j),[_,k]=(0,o.useState)(!1),N=(0,o.useRef)(C),E,P;l[7]!==C?(E=()=>{C.code!==N.current.code&&k(!1),N.current=C},P=[C],l[7]=C,l[8]=E,l[9]=P):(E=l[8],P=l[9]),(0,o.useEffect)(E,P),l[10]!==m?(t=(0,v.Q)({apiRoute:m,path:""}),l[10]=m,l[11]=t):t=l[11];let D=t,T;l[12]!==b||l[13]!==D||l[14]!==w||l[15]!==p||l[16]!==(null==g?void 0:g.id)?(T=()=>{!async function(){if(p&&(null==g?void 0:g.id)){var e,t,n;let l=nl(p,w||await (null==(e=lv("locale",D))?void 0:e.then(lw)))||nl(p,b)||nl(p,null==p||null==(n=p.locales)||null==(t=n[0])?void 0:t.code);l&&S(l)}}()},l[12]=b,l[13]=D,l[14]=w,l[15]=p,l[16]=null==g?void 0:g.id,l[17]=T):T=l[17];let A=null==g?void 0:g.id,R;return l[18]!==b||l[19]!==D||l[20]!==w||l[21]!==p||l[22]!==A?(R=[b,p,D,w,A],l[18]=b,l[19]=D,l[20]=w,l[21]=p,l[22]=A,l[23]=R):R=l[23],(0,o.useEffect)(T,R),l[24]!==a||l[25]!==_||l[26]!==C?(n=(0,u.jsx)(lm,{value:C,children:(0,u.jsx)(lg,{value:{localeIsLoading:_,setLocaleIsLoading:k},children:a})}),l[24]=a,l[25]=_,l[26]=C,l[27]=n):n=l[27],n},ly=()=>(0,o.use)(lg),lx=()=>(0,o.use)(lm);function lw(e){return e.value}var lj=(e,t,n)=>{if(e)return"field-".concat(e.replace(/\./g,"__")).concat(t>1?"-".concat(t):"").concat(n?"-".concat(n):"")},lC=e=>{let{as:t,hideLocale:n,htmlFor:l,label:a,localized:o,path:r,required:i,unstyled:c}=e,p=void 0===t?"label":t,h=void 0!==c&&c,{uuid:f}=eE(),m=nn(),g=l||lj(r,m,f),{i18n:v}=(0,s.d)(),{code:b,label:y}=lx();return a?(0,u.jsxs)("label"===p?g?"label":"span":p||"span",{className:"field-label".concat(h?" unstyled":""),htmlFor:g,children:[(0,d.s)(a,v),void 0!==i&&i&&!h&&(0,u.jsx)("span",{className:"required",children:"*"}),void 0!==o&&o&&!(void 0!==n&&n)&&(0,u.jsxs)("span",{className:"localized",children:[" ","string"==typeof y?y:b]})]}):null},lS=e=>{let{collapsed:t,rowID:n,rows:l}=e;return l.reduce((e,l)=>(n===l.id&&(l.collapsed=t),l.collapsed&&e.collapsedIDs.push(l.id),e.updatedRows.push(l),e),{collapsedIDs:[],updatedRows:[]})},l_=e=>{let{collapsed:t,rows:n}=e;return n.reduce((e,n)=>(n.collapsed=t,t&&e.collapsedIDs.push(n.id),e.updatedRows.push(n),e),{collapsedIDs:[],updatedRows:[]})},lk=(e,t,n)=>{let l,a=(0,f.c)(9),r;a[0]!==n?(r=void 0===n?[]:n,a[0]=n,a[1]=r):r=a[1];let i=r,s;a[2]===Symbol.for("react.memo_cache_sentinel")?(s=Date.now(),a[2]=s):s=a[2];let c=(0,o.useRef)(s),u;a[3]!==e||a[4]!==t?(u=()=>{let n=setTimeout(()=>{Date.now()-c.current>=t&&(e(),c.current=Date.now())},t-(Date.now()-c.current));return()=>{clearTimeout(n)}},a[3]=e,a[4]=t,a[5]=u):u=a[5],a[6]!==t||a[7]!==i?(l=[t,...i],a[6]=t,a[7]=i,a[8]=l):l=a[8],(0,o.useEffect)(u,l)},lN={},lE={};function lP(e,t){try{let n=(lN[e]||(lN[e]=new Intl.DateTimeFormat("en-GB",{timeZone:e,hour:"numeric",timeZoneName:"longOffset"}).format))(t).split("GMT")[1]||"";return n in lE?lE[n]:lT(n,n.split(":"))}catch(n){if(e in lE)return lE[e];let t=null==e?void 0:e.match(lD);return t?lT(e,t.slice(1)):NaN}}var lD=/([+-]\d\d):?(\d\d)?/;function lT(e,t){let n=+t[0],l=+(t[1]||0);return lE[e]=n>0?60*n+l:60*n-l}var lA=class e extends Date{static tz(t){for(var n=arguments.length,l=Array(n>1?n-1:0),a=1;a<n;a++)l[a-1]=arguments[a];return l.length?new e(...l,t):new e(Date.now(),t)}withTimeZone(t){return new e(+this,t)}getTimezoneOffset(){return-lP(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),lL(this),+this}[Symbol.for("constructDateFrom")](t){return new e(+new Date(t),this.timeZone)}constructor(...e){super(),e.length>1&&"string"==typeof e[e.length-1]&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(lP(this.timeZone,this))?this.setTime(NaN):e.length?"number"==typeof e[0]&&(1===e.length||2===e.length&&"number"!=typeof e[1])?this.setTime(e[0]):"string"==typeof e[0]?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),lO(this,NaN),lL(this)):this.setTime(Date.now())}},lR=/^(get|set)(?!UTC)/;function lL(e){e.internal.setTime(+e),e.internal.setUTCMinutes(e.internal.getUTCMinutes()-e.getTimezoneOffset())}function lO(e){let t=lP(e.timeZone,e),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);let l=-new Date(+e).getTimezoneOffset(),a=l- -new Date(+n).getTimezoneOffset(),o=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();a&&o&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+a);let r=l-t;r&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+r);let i=lP(e.timeZone,e),s=-new Date(+e).getTimezoneOffset()-i-r;if(i!==t&&s){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+s);let t=i-lP(e.timeZone,e);t&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+t),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+t))}}Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!lR.test(e))return;let t=e.replace(lR,"$1UTC");lA.prototype[t]&&(e.startsWith("get")?lA.prototype[e]=function(){return this.internal[t]()}:(lA.prototype[e]=function(){var e;return Date.prototype[t].apply(this.internal,arguments),e=this,Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),lO(e),+this},lA.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),lL(this),+this}))});var lF=Symbol.for("constructDateFrom");function lM(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&lF in e?e[lF](t):e instanceof Date?new e.constructor(t):new Date(t)}function lI(e,t){return lM(t||e,e)}var lB={};function lz(e,t){var n,l,a,o,r,i,s,c;let u=null!=(c=null!=(s=null!=(i=null!=(r=null==t?void 0:t.weekStartsOn)?r:null==t||null==(l=t.locale)||null==(n=l.options)?void 0:n.weekStartsOn)?i:lB.weekStartsOn)?s:null==(o=lB.locale)||null==(a=o.options)?void 0:a.weekStartsOn)?c:0,d=lI(e,null==t?void 0:t.in),p=d.getDay();return d.setDate(d.getDate()-(7*(p<u)+p-u)),d.setHours(0,0,0,0),d}function lU(e,t){return lz(e,{...t,weekStartsOn:1})}function lV(e,t){let n=lI(e,null==t?void 0:t.in),l=n.getFullYear(),a=lM(n,0);a.setFullYear(l+1,0,4),a.setHours(0,0,0,0);let o=lU(a),r=lM(n,0);r.setFullYear(l,0,4),r.setHours(0,0,0,0);let i=lU(r);return n.getTime()>=o.getTime()?l+1:n.getTime()>=i.getTime()?l:l-1}function lH(e){let t=lI(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),e-n}function lq(e){for(var t=arguments.length,n=Array(t>1?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];let a=lM.bind(null,e||n.find(e=>"object"==typeof e));return n.map(a)}function lW(e,t){let n=lI(e,null==t?void 0:t.in);return n.setHours(0,0,0,0),n}function lK(e,t){let n=lI(e)-lI(t);return n<0?-1:n>0?1:n}function lQ(e){return lM(e,Date.now())}function lY(e,t){let n=lI(e,null==t?void 0:t.in);return n.setHours(23,59,59,999),n}function lG(e,t){var n,l,a,o,r,i,s,c;let u=lI(e,null==t?void 0:t.in),d=u.getFullYear(),p=null!=(c=null!=(s=null!=(i=null!=(r=null==t?void 0:t.firstWeekContainsDate)?r:null==t||null==(l=t.locale)||null==(n=l.options)?void 0:n.firstWeekContainsDate)?i:lB.firstWeekContainsDate)?s:null==(o=lB.locale)||null==(a=o.options)?void 0:a.firstWeekContainsDate)?c:1,h=lM((null==t?void 0:t.in)||e,0);h.setFullYear(d+1,0,p),h.setHours(0,0,0,0);let f=lz(h,t),m=lM((null==t?void 0:t.in)||e,0);m.setFullYear(d,0,p),m.setHours(0,0,0,0);let g=lz(m,t);return+u>=+f?d+1:+u>=+g?d:d-1}function lX(e,t){let n=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+n}var l$={y(e,t){let n=e.getFullYear(),l=n>0?n:1-n;return lX("yy"===t?l%100:l,t.length)},M(e,t){let n=e.getMonth();return"M"===t?String(n+1):lX(n+1,2)},d:(e,t)=>lX(e.getDate(),t.length),a(e,t){let n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>lX(e.getHours()%12||12,t.length),H:(e,t)=>lX(e.getHours(),t.length),m:(e,t)=>lX(e.getMinutes(),t.length),s:(e,t)=>lX(e.getSeconds(),t.length),S(e,t){let n=t.length;return lX(Math.trunc(e.getMilliseconds()*Math.pow(10,n-3)),t.length)}},lZ={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lJ={G:function(e,t,n){let l=+(e.getFullYear()>0);switch(t){case"G":case"GG":case"GGG":return n.era(l,{width:"abbreviated"});case"GGGGG":return n.era(l,{width:"narrow"});default:return n.era(l,{width:"wide"})}},y:function(e,t,n){if("yo"===t){let t=e.getFullYear();return n.ordinalNumber(t>0?t:1-t,{unit:"year"})}return l$.y(e,t)},Y:function(e,t,n,l){let a=lG(e,l),o=a>0?a:1-a;return"YY"===t?lX(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):lX(o,t.length)},R:function(e,t){return lX(lV(e),t.length)},u:function(e,t){return lX(e.getFullYear(),t.length)},Q:function(e,t,n){let l=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(l);case"QQ":return lX(l,2);case"Qo":return n.ordinalNumber(l,{unit:"quarter"});case"QQQ":return n.quarter(l,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(l,{width:"narrow",context:"formatting"});default:return n.quarter(l,{width:"wide",context:"formatting"})}},q:function(e,t,n){let l=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(l);case"qq":return lX(l,2);case"qo":return n.ordinalNumber(l,{unit:"quarter"});case"qqq":return n.quarter(l,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(l,{width:"narrow",context:"standalone"});default:return n.quarter(l,{width:"wide",context:"standalone"})}},M:function(e,t,n){let l=e.getMonth();switch(t){case"M":case"MM":return l$.M(e,t);case"Mo":return n.ordinalNumber(l+1,{unit:"month"});case"MMM":return n.month(l,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(l,{width:"narrow",context:"formatting"});default:return n.month(l,{width:"wide",context:"formatting"})}},L:function(e,t,n){let l=e.getMonth();switch(t){case"L":return String(l+1);case"LL":return lX(l+1,2);case"Lo":return n.ordinalNumber(l+1,{unit:"month"});case"LLL":return n.month(l,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(l,{width:"narrow",context:"standalone"});default:return n.month(l,{width:"wide",context:"standalone"})}},w:function(e,t,n,l){var a,o,r,i,s,c,u,d;let p,h,f,m,g=Math.round((lz(m=lI(e,null==l?void 0:l.in),l)-(p=null!=(d=null!=(u=null!=(c=null!=(s=null==l?void 0:l.firstWeekContainsDate)?s:null==l||null==(o=l.locale)||null==(a=o.options)?void 0:a.firstWeekContainsDate)?c:lB.firstWeekContainsDate)?u:null==(i=lB.locale)||null==(r=i.options)?void 0:r.firstWeekContainsDate)?d:1,h=lG(m,l),(f=lM((null==l?void 0:l.in)||m,0)).setFullYear(h,0,p),f.setHours(0,0,0,0),lz(f,l)))/6048e5)+1;return"wo"===t?n.ordinalNumber(g,{unit:"week"}):lX(g,t.length)},I:function(e,t,n){var l;let a,o,r,i=Math.round((lU(r=lI(e,void 0))-(a=lV(r,void 0),(o=lM((null==l?void 0:l.in)||r,0)).setFullYear(a,0,4),o.setHours(0,0,0,0),lU(o)))/6048e5)+1;return"Io"===t?n.ordinalNumber(i,{unit:"week"}):lX(i,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):l$.d(e,t)},D:function(e,t,n){let l,a,o=function(e,t,n){let[l,a]=lq(void 0,e,t),o=lW(l),r=lW(a);return Math.round((o-lH(o)-(r-lH(r)))/864e5)}(l=lI(e,void 0),((a=lI(l,void 0)).setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a))+1;return"Do"===t?n.ordinalNumber(o,{unit:"dayOfYear"}):lX(o,t.length)},E:function(e,t,n){let l=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(l,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(l,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(l,{width:"short",context:"formatting"});default:return n.day(l,{width:"wide",context:"formatting"})}},e:function(e,t,n,l){let a=e.getDay(),o=(a-l.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return lX(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,l){let a=e.getDay(),o=(a-l.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return lX(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){let l=e.getDay(),a=0===l?7:l;switch(t){case"i":return String(a);case"ii":return lX(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(l,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(l,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(l,{width:"short",context:"formatting"});default:return n.day(l,{width:"wide",context:"formatting"})}},a:function(e,t,n){let l=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(l,{width:"narrow",context:"formatting"});default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,t,n){let l=e.getHours(),a;switch(a=12===l?lZ.noon:0===l?lZ.midnight:l/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){let l=e.getHours(),a;switch(a=l>=17?lZ.evening:l>=12?lZ.afternoon:l>=4?lZ.morning:lZ.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return l$.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):l$.H(e,t)},K:function(e,t,n){let l=e.getHours()%12;return"Ko"===t?n.ordinalNumber(l,{unit:"hour"}):lX(l,t.length)},k:function(e,t,n){let l=e.getHours();return 0===l&&(l=24),"ko"===t?n.ordinalNumber(l,{unit:"hour"}):lX(l,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):l$.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):l$.s(e,t)},S:function(e,t){return l$.S(e,t)},X:function(e,t,n){let l=e.getTimezoneOffset();if(0===l)return"Z";switch(t){case"X":return l1(l);case"XXXX":case"XX":return l3(l);default:return l3(l,":")}},x:function(e,t,n){let l=e.getTimezoneOffset();switch(t){case"x":return l1(l);case"xxxx":case"xx":return l3(l);default:return l3(l,":")}},O:function(e,t,n){let l=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+l0(l,":");default:return"GMT"+l3(l,":")}},z:function(e,t,n){let l=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+l0(l,":");default:return"GMT"+l3(l,":")}},t:function(e,t,n){return lX(Math.trunc(e/1e3),t.length)},T:function(e,t,n){return lX(+e,t.length)}};function l0(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e>0?"-":"+",l=Math.abs(e),a=Math.trunc(l/60),o=l%60;return 0===o?n+String(a):n+String(a)+t+lX(o,2)}function l1(e,t){return e%60==0?(e>0?"-":"+")+lX(Math.abs(e)/60,2):l3(e,t)}function l3(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Math.abs(e);return(e>0?"-":"+")+lX(Math.trunc(n/60),2)+t+lX(n%60,2)}var l2=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},l6=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},l5={p:l6,P:(e,t)=>{let n,l=e.match(/(P+)(p+)?/)||[],a=l[1],o=l[2];if(!o)return l2(e,t);switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",l2(a,t)).replace("{{time}}",l6(o,t))}},l4=/^D+$/,l8=/^Y+$/,l7=["D","DD","YY","YYYY"],l9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,at=/^'([^]*?)'?$/,an=/''/g,al=/[a-zA-Z]/;function aa(e,t,n){var l,a,o,r,i,c,u,d,p,h,f,m,g,v,b,y,x,w;let j=null!=(h=null!=(p=null==n?void 0:n.locale)?p:lB.locale)?h:s.b,C=null!=(v=null!=(g=null!=(m=null!=(f=null==n?void 0:n.firstWeekContainsDate)?f:null==n||null==(a=n.locale)||null==(l=a.options)?void 0:l.firstWeekContainsDate)?m:lB.firstWeekContainsDate)?g:null==(r=lB.locale)||null==(o=r.options)?void 0:o.firstWeekContainsDate)?v:1,S=null!=(w=null!=(x=null!=(y=null!=(b=null==n?void 0:n.weekStartsOn)?b:null==n||null==(c=n.locale)||null==(i=c.options)?void 0:i.weekStartsOn)?y:lB.weekStartsOn)?x:null==(d=lB.locale)||null==(u=d.options)?void 0:u.weekStartsOn)?w:0,_=lI(e,null==n?void 0:n.in);if(!(_ instanceof Date||"object"==typeof _&&"[object Date]"===Object.prototype.toString.call(_))&&"number"!=typeof _||isNaN(+lI(_)))throw RangeError("Invalid time value");let k=t.match(ae).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,l5[t])(e,j.formatLong):e}).join("").match(l9).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t){var n;let t;return{isToken:!1,value:(t=(n=e).match(at))?t[1].replace(an,"'"):n}}if(lJ[t])return{isToken:!0,value:e};if(t.match(al))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});j.localize.preprocessor&&(k=j.localize.preprocessor(_,k));let N={firstWeekContainsDate:C,weekStartsOn:S,locale:j};return k.map(l=>{if(!l.isToken)return l.value;let a=l.value;return(!(null==n?void 0:n.useAdditionalWeekYearTokens)&&l8.test(a)||!(null==n?void 0:n.useAdditionalDayOfYearTokens)&&l4.test(a))&&function(e,t,n){var l,a,o;let r,i=(l=e,a=t,o=n,r="Y"===l[0]?"years":"days of the month","Use `".concat(l.toLowerCase(),"` instead of `").concat(l,"` (in `").concat(a,"`) for formatting ").concat(r," to the input `").concat(o,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(console.warn(i),l7.includes(e))throw RangeError(i)}(a,t,String(e)),(0,lJ[a[0]])(_,a,j.localize,N)}).join("")}function ao(e,t){var n,l;let a="function"==typeof(n=t)&&(null==(l=n.prototype)?void 0:l.constructor)===n?new t(0):lM(t,0);return a.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),a.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),a}var ar=e=>{let{date:t,i18n:n,pattern:l,timezone:a}=e,o=new lA(new Date(t));if(a){let e=lA.tz(a),t=ao(o.withTimeZone(a),e);return n.dateFNS?aa(t,l,{locale:n.dateFNS}):"".concat(n.t("general:loading"),"...")}return n.dateFNS?aa(o,l,{locale:n.dateFNS}):"".concat(n.t("general:loading"),"...")},ai=e=>{let{date:t,i18n:n}=e,l="string"==typeof t?new Date(t):t;return(null==n?void 0:n.dateFNS)?function(e,t){return function(e,t,n){var l,a,o;let r=null!=(a=null!=(l=null==n?void 0:n.locale)?l:lB.locale)?a:s.b,i=lK(e,t);if(isNaN(i))throw RangeError("Invalid time value");let c=Object.assign({},n,{addSuffix:null==n?void 0:n.addSuffix,comparison:i}),[u,d]=lq(null==n?void 0:n.in,...i>0?[t,e]:[e,t]),p=(o=void 0,e=>{let t=(o?Math[o]:Math.trunc)(e);return 0===t?0:t})((lI(d)-lI(u))/1e3),h=Math.round((p-(lH(d)-lH(u))/1e3)/60),f;if(h<2)return(null==n?void 0:n.includeSeconds)?p<5?r.formatDistance("lessThanXSeconds",5,c):p<10?r.formatDistance("lessThanXSeconds",10,c):p<20?r.formatDistance("lessThanXSeconds",20,c):p<40?r.formatDistance("halfAMinute",0,c):p<60?r.formatDistance("lessThanXMinutes",1,c):r.formatDistance("xMinutes",1,c):0===h?r.formatDistance("lessThanXMinutes",1,c):r.formatDistance("xMinutes",h,c);if(h<45)return r.formatDistance("xMinutes",h,c);if(h<90)return r.formatDistance("aboutXHours",1,c);if(h<1440){let e=Math.round(h/60);return r.formatDistance("aboutXHours",e,c)}if(h<2520)return r.formatDistance("xDays",1,c);if(h<43200){let e=Math.round(h/1440);return r.formatDistance("xDays",e,c)}if(h<86400)return f=Math.round(h/43200),r.formatDistance("aboutXMonths",f,c);if((f=function(e,t,n){var l;let a,o,r,[i,s,c]=lq(void 0,e,e,t),u=lK(s,c),d=Math.abs(function(e,t,n){let[l,a]=lq(void 0,e,t);return 12*(l.getFullYear()-a.getFullYear())+(l.getMonth()-a.getMonth())}(s,c));if(d<1)return 0;1===s.getMonth()&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-u*d);let p=lK(s,c)===-u;+lY(a=lI(i,void 0),l)==+(r=(o=lI(a,null==l?void 0:l.in)).getMonth(),o.setFullYear(o.getFullYear(),r+1,0),o.setHours(23,59,59,999),o)&&1===d&&1===lK(i,c)&&(p=!1);let h=u*(d-p);return 0===h?0:h}(d,u))<12){let e=Math.round(h/43200);return r.formatDistance("xMonths",e,c)}{let e=f%12,t=Math.trunc(f/12);return e<3?r.formatDistance("aboutXYears",t,c):e<9?r.formatDistance("overXYears",t,c):r.formatDistance("almostXYears",t+1,c)}}(e,lQ(e),t)}(l,{locale:n.dateFNS}):"".concat(n.t("general:loading"),"...")};function as(e){return"object"==typeof e&&"root"in e}function ac(e,t){for(let n of e)"text"in n&&n.text?t+=n.text:"children"in n||(t+="[".concat(n.type,"]")),"children"in n&&n.children&&(t+=ac(n.children,t));return t}var au=e=>{var t,n,l,a,o,r,i;let s,{collectionConfig:c,data:u,dateFormat:p,fallback:h,globalConfig:f,i18n:m}=e;if(c){let e=null==c||null==(o=c.admin)?void 0:o.useAsTitle;if(e&&(s=null==u?void 0:u[e])){let t=c.fields.find(t=>"name"in t&&t.name===e),n=(null==t?void 0:t.type)==="date",l=(null==t?void 0:t.type)==="relationship";n&&(s=ar({date:s,i18n:m,pattern:"date"in t.admin&&(null==t||null==(i=t.admin)||null==(r=i.date)?void 0:r.displayFormat)||p})||s),l&&(s=(e=>Array.isArray(e)?e.map(e=>"object"==typeof e&&null!==e?e.id:String(e)).filter(Boolean).join(", "):"object"==typeof e&&null!==e?e.id||"":String(e))(u[e]))}}return f&&(s=(0,d.s)(null==f?void 0:f.label,m)||(null==f?void 0:f.slug)),s&&as(s)&&(s=ac((null==(n=s.root.children)||null==(t=n[0])?void 0:t.children)||[],"")),!s&&as(h)&&(s=ac((null==(a=h.root.children)||null==(l=a[0])?void 0:l.children)||[],"")),s||(s="string"==typeof h?h:"[".concat(m.t("general:untitled"),"]")),s},ad=(0,o.createContext)({}),ap=()=>(0,o.use)(ad),ah=e=>{let{children:t}=e,{id:n,collectionSlug:l,data:a,docConfig:r,globalSlug:c,initialData:d}=aC(),{config:{admin:{dateFormat:p}}}=(0,i.c)(),{i18n:h}=(0,s.d)(),[f,m]=(0,o.useState)(()=>au({collectionConfig:l?r:void 0,data:{...d||{},id:n},dateFormat:p,fallback:null==n?void 0:n.toString(),globalConfig:c?r:void 0,i18n:h}));return(0,o.useEffect)(()=>{m(au({collectionConfig:l?r:void 0,data:{...a,id:n},dateFormat:p,fallback:null==n?void 0:n.toString(),globalConfig:c?r:void 0,i18n:h}))},[a,p,h,n,l,r,c]),(0,u.jsx)(ad,{value:{setDocumentTitle:m,title:f},children:t})},af=(0,o.createContext)({}),am=(e,t)=>({body:JSON.stringify({value:e}),headers:{"Accept-Language":t,"Content-Type":"application/json"}}),ag=e=>{let{children:t}=e,n=(0,o.useRef)({}),l=(0,o.useRef)({}),a=(0,o.useRef)({}),{config:r}=(0,i.c)(),{user:c}=lf(),{i18n:d}=(0,s.d)(),{routes:{api:p}}=r;(0,o.useEffect)(()=>{c||(l.current={})},[c]);let h=(0,o.useCallback)(async e=>{let t=l.current;if("u">typeof t[e])return t[e];let n=new Promise(t=>{(async()=>{let n=await ld.get((0,v.Q)({apiRoute:p,path:"/payload-preferences/".concat(e)}),{credentials:"include",headers:{"Accept-Language":d.language}}),a=null;200===n.status&&(a=(await n.json()).value),l.current[e]=a,t(a)})()});return t[e]=n,n},[d.language,p,l]),f=(0,o.useCallback)(async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!1===n){l.current[e]=t,await ld.post((0,v.Q)({apiRoute:p,path:"/payload-preferences/".concat(e)}),am(t,d.language));return}let o=t,r=await h(e);if("object"==typeof t&&"object"==typeof r&&"object"==typeof o){if(r&&(o=function e(t,n){let l={...t};for(let a in n)Object.prototype.hasOwnProperty.call(n,a)&&("object"==typeof n[a]&&!Array.isArray(n[a])&&t[a]?l[a]=e(t[a],n[a]):l[a]=n[a]);return l}(r,o)),(0,x.j)(o,r))return;a.current[e]={...a.current[e],...o}}else{if(o===r)return;a.current[e]=o}let i=async()=>{(0,x.j)(a.current[e],l.current[e])||(l.current[e]=a.current[e],await ld.post((0,v.Q)({apiRoute:p,path:"/payload-preferences/".concat(e)}),am(l.current[e],d.language)),delete a.current[e])};setTimeout(()=>{i()})},[p,h,d.language,a]);return n.current.getPreference=h,n.current.setPreference=f,(0,u.jsx)(af,{value:n.current,children:t})},av=()=>(0,o.use)(af),ab=o.createContext({getUploadEdits:()=>{},resetUploadEdits:void 0,updateUploadEdits:void 0,uploadEdits:void 0}),ay=e=>{let t=(0,f.c)(10),{children:n,initialUploadEdits:l}=e,a;t[0]!==l?(a=l||{},t[0]=l,t[1]=a):a=t[1];let[r,i]=o.useState(a),s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{i({})},t[2]=s):s=t[2];let c=s,d;t[3]===Symbol.for("react.memo_cache_sentinel")?(d=e=>{i(t=>({...t||{},...e||{}}))},t[3]=d):d=t[3];let p=d,h;t[4]!==r?(h=()=>r,t[4]=r,t[5]=h):h=t[5];let m=h,g;return t[6]!==n||t[7]!==m||t[8]!==r?(g=(0,u.jsx)(ab,{value:{getUploadEdits:m,resetUploadEdits:c,updateUploadEdits:p,uploadEdits:r},children:n}),t[6]=n,t[7]=m,t[8]=r,t[9]=g):g=t[9],g},ax=()=>o.use(ab),aw=e=>{let{collectionSlug:t,docPermissions:n,globalSlug:l,isEditing:a}=e;return t?!!(a&&(null==n?void 0:n.update)||!a&&(null==n?void 0:n.create)):!!l&&!!(null==n?void 0:n.update)},aj=(0,o.createContext)({}),aC=()=>(0,o.use)(aj),aS=e=>{let{children:t,...n}=e,{id:l,collectionSlug:a,currentEditor:r,docPermissions:c,globalSlug:d,hasPublishedDoc:p,hasPublishPermission:h,hasSavePermission:f,initialData:m,initialState:g,isLocked:y,lastUpdateTime:x,mostRecentVersionIsAutosaved:w,unpublishedVersionCount:j,versionCount:C}=n,[S,_]=(0,i.a)(c),[k,N]=(0,i.a)(f),[E,P]=(0,i.a)(h),{permissions:D}=lf(),{config:{admin:{dateFormat:T},routes:{api:A}},getEntityConfig:R}=(0,i.c)(),L=R({collectionSlug:a}),O=R({globalSlug:d}),F=(0,o.useRef)(new AbortController),M=L||O,{i18n:I}=(0,s.d)(),{uploadEdits:B}=ax(),[z,U]=(0,o.useState)(()=>au({collectionConfig:L,data:{...m||{},id:l},dateFormat:T,fallback:null==l?void 0:l.toString(),globalConfig:O,i18n:I})),[V,H]=(0,o.useState)(w),[q,W]=(0,o.useState)(C),[K,Q]=(0,o.useState)(p),[Y,G]=(0,o.useState)(j),[X,$]=(0,i.a)(y),[Z,J]=(0,i.a)(r),[ee,et]=(0,i.a)(x),[en,el]=(0,i.a)(m),[ea,eo]=(0,i.a)("idle"),er=(0,o.useRef)({hasShownLockedModal:!1,isLocked:!1,user:null}),ei=(0,o.useCallback)(e=>{eo(e)},[eo]),{getPreference:es,setPreference:ec}=av(),{code:eu}=lx(),{localeIsLoading:ed}=ly(),ep=(0,o.useMemo)(()=>void 0===g||void 0===m||ed,[m,g,ed]),eh=(0,v.Q)({apiRoute:A,path:""}),ef,em,eg;d&&(ef=d,em="globals",eg="global-".concat(ef)),a&&(ef=a,em="collections",l&&(eg="collection-".concat(ef,"-").concat(l)));let ev=(0,o.useCallback)(async(e,t)=>{try{let n=t===d,l=await ld.get("".concat(eh,"/payload-locked-documents"),{credentials:"include",params:n?{"where[globalSlug][equals]":t}:{"where[document.relationTo][equals]":t,"where[document.value][equals]":e}}),{docs:a}=await l.json();if((null==a?void 0:a.length)>0){let e=a[0].id;await ld.delete("".concat(eh,"/payload-locked-documents/").concat(e),{credentials:"include",headers:{"Content-Type":"application/json"}}),$(!1)}}catch(e){console.error("Failed to unlock the document",e)}},[eh,d,$]),eb=(0,o.useCallback)(async(e,t,n)=>{try{let l=t===d,a=await ld.get("".concat(eh,"/payload-locked-documents"),{credentials:"include",params:l?{"where[globalSlug][equals]":t}:{"where[document.relationTo][equals]":t,"where[document.value][equals]":e}}),{docs:o}=await a.json();if((null==o?void 0:o.length)>0){let e=o[0].id,t="object"==typeof n?{relationTo:n.collection,value:n.id}:{relationTo:"users",value:n};await ld.patch("".concat(eh,"/payload-locked-documents/").concat(e),{body:JSON.stringify({user:t}),credentials:"include",headers:{"Content-Type":"application/json"}})}}catch(e){console.error("Failed to update the document editor",e)}},[eh,d]),ey=(e=>{let{id:t,api:n,collectionSlug:l,globalSlug:a,i18n:r,locale:i,permissions:s,setDocPermissions:c,setHasPublishPermission:u,setHasSavePermission:d}=e;return o.useCallback(async e=>{let o={locale:i||void 0},p=(null==e?void 0:e.id)||t,h=(e=>{let{id:t,collectionSlug:n,globalSlug:l}=e;return!!(l||n&&t)})({id:p,collectionSlug:l,globalSlug:a});if(h){let t=l?"/".concat(l,"/access/").concat(p):a?"/globals/".concat(a,"/access"):null;if(t){let i=await (await fetch((0,v.Q)({apiRoute:n,path:"".concat(t).concat(b.A(o,{addQueryPrefix:!0}))}),{body:JSON.stringify({...e||{},_status:"draft"}),credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"post"})).json(),s=await fetch((0,v.Q)({apiRoute:n,path:"".concat(t).concat(b.A(o,{addQueryPrefix:!0}))}),{body:JSON.stringify({...e||{},_status:"published"}),credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"POST"}).then(e=>e.json());c(i),d(aw({collectionSlug:l,docPermissions:i,globalSlug:a,isEditing:h})),u(null==s?void 0:s.update)}}else{var f,m;let e=l?null==s||null==(f=s.collections)?void 0:f[l]:null==s||null==(m=s.globals)?void 0:m[a];c(e),d(aw({collectionSlug:l,docPermissions:e,globalSlug:a,isEditing:h}))}},[i,t,l,a,n,r.language,c,d,u,null==s?void 0:s.collections,null==s?void 0:s.globals])})({id:l,api:A,collectionSlug:a,globalSlug:d,i18n:I,locale:eu,permissions:D,setDocPermissions:_,setHasPublishPermission:P,setHasSavePermission:N}),ex=(0,o.useCallback)(()=>es(eg),[es,eg]),ew=(0,o.useCallback)(async(e,t)=>{let n=await ex();if(eg)try{var l;await ec(eg,{...n,fields:{...(null==n?void 0:n.fields)||{},[e]:{...null==n||null==(l=n.fields)?void 0:l[e],...t}}})}catch(e){console.error(e)}},[ec,eg,ex]),ej=(0,o.useCallback)(()=>{let e=q+1;L&&L.versions?L.versions.maxPerDoc>0?W(Math.min(e,L.versions.maxPerDoc)):W(e):O&&O.versions&&(O.versions.max>0?W(Math.min(e,O.versions.max)):W(e))},[L,O,q]);(0,o.useEffect)(()=>{U(au({collectionConfig:L,data:{...en,id:l},dateFormat:T,fallback:null==l?void 0:l.toString(),globalConfig:O,i18n:I}))},[L,O,en,T,I,l]),(0,o.useEffect)(()=>{let e=F.current;return()=>{if(e)try{e.abort()}catch(e){}}},[]);let eC=o.useMemo(()=>{let e="".concat("globals"===em?"/globals":"","/").concat(ef).concat(l?"/".concat(l):"");return"".concat(eh).concat(e).concat(b.A({depth:0,"fallback-locale":"null",locale:eu,uploadEdits:B||void 0},{addQueryPrefix:!0}))},[eh,eu,em,l,ef,B]),eS={...n,action:eC,currentEditor:Z,data:en,docConfig:M,docPermissions:S,documentIsLocked:X,documentLockState:er,getDocPermissions:ey,getDocPreferences:ex,hasPublishedDoc:K,hasPublishPermission:E,hasSavePermission:k,incrementVersionCount:ej,initialData:m,initialState:g,isInitializing:ep,lastUpdateTime:ee,mostRecentVersionIsAutosaved:V,preferencesKey:eg,savedDocumentData:en,setCurrentEditor:J,setData:el,setDocFieldPreferences:ew,setDocumentIsLocked:$,setDocumentTitle:U,setHasPublishedDoc:Q,setLastUpdateTime:et,setMostRecentVersionIsAutosaved:H,setUnpublishedVersionCount:G,setUploadStatus:ei,title:z,unlockDocument:ev,unpublishedVersionCount:Y,updateDocumentEditor:eb,updateSavedDocumentData:el,uploadStatus:ea,versionCount:q};return(0,u.jsx)(aj,{value:eS,children:(0,u.jsx)(ah,{children:t})})},a_=e=>(0,u.jsx)(ay,{children:(0,u.jsx)(aS,{...e})}),ak=(0,o.createContext)(""),aN=e=>{let{children:t,operation:n}=e;return(0,u.jsx)(ak,{value:n,children:t})},aE=()=>(0,o.use)(ak),aP=o.createContext(void 0),aD=()=>{let e=o.useContext(aP);if(e)return e},aT=o.createContext(void 0),aA=e=>{let t=aD(),n=o.use(aT),l=o.useRef(null);if(null===l.current){let a=(null==e?void 0:e.path)||t||e.potentiallyStalePath;l.current=!!(n&&a&&n.path===a)}if(!0===l.current){if(!n)throw Error("FieldContext was removed after mount. This breaks hook ordering.");return n}return(e=>{let t=(0,f.c)(65),n;t[0]!==e?(n=e||{},t[0]=e,t[1]=n):n=t[1];let{disableFormData:l,hasRows:a,path:r,potentiallyStalePath:c,validate:u}=n,d=void 0!==l&&l,p=aD(),h=r||p||c,m=eT(),g=eA(),v=eO(),{user:b}=lf(),{id:y,collectionSlug:x}=aC(),w=aE(),j=eF(aR),C;t[2]!==h?(C=e=>{let[t]=e;return t&&(null==t?void 0:t[h])||null},t[2]=h,t[3]=C):C=t[3];let S=eF(C),{t:_}=(0,s.d)(),{config:k}=(0,i.c)(),{getData:N,getDataByPath:E,getSiblingData:P,setModified:D}=eE(),T=eP(),A=null==S?void 0:S.filterOptions,R=null==S?void 0:S.value,L=null==S?void 0:S.initialValue,O="boolean"!=typeof(null==S?void 0:S.valid)||S.valid,F=!1===O&&m,M=(0,o.useRef)(O),I=(0,o.useRef)(null==S?void 0:S.errorMessage),B;t[4]!==h?(B=h?h.split("."):[],t[4]=h,t[5]=B):B=t[5];let z=B,U;t[6]!==d||t[7]!==j||t[8]!==a||t[9]!==h||t[10]!==D?(U=(e,t)=>{let n=e&&"object"==typeof e&&"function"==typeof e.preventDefault&&"function"==typeof e.stopPropagation?e.target.value:e;j({type:"UPDATE",disableFormData:d||a&&n>0,path:h,value:n}),void 0!==t&&t||D(!0)},t[6]=d,t[7]=j,t[8]=a,t[9]=h,t[10]=D,t[11]=U):U=t[11];let V=U,H=null==S?void 0:S.blocksFilterOptions,q=null==S?void 0:S.customComponents,W=g||v,K=null==S?void 0:S.errorMessage,Q;t[12]!==(null==S?void 0:S.errorPaths)?(Q=(null==S?void 0:S.errorPaths)||[],t[12]=null==S?void 0:S.errorPaths,t[13]=Q):Q=t[13];let Y=null==S?void 0:S.rows,G=null==S?void 0:S.selectFilterOptions,X=null==S?void 0:S.valid,$;t[14]!==A||t[15]!==L||t[16]!==v||t[17]!==h||t[18]!==g||t[19]!==V||t[20]!==F||t[21]!==m||t[22]!==Y||t[23]!==G||t[24]!==X||t[25]!==H||t[26]!==q||t[27]!==W||t[28]!==K||t[29]!==Q||t[30]!==R?($={blocksFilterOptions:H,customComponents:q,disabled:W,errorMessage:K,errorPaths:Q,filterOptions:A,formInitializing:v,formProcessing:g,formSubmitted:m,initialValue:L,path:h,rows:Y,selectFilterOptions:G,setValue:V,showError:F,valid:X,value:R},t[14]=A,t[15]=L,t[16]=v,t[17]=h,t[18]=g,t[19]=V,t[20]=F,t[21]=m,t[22]=Y,t[23]=G,t[24]=X,t[25]=H,t[26]=q,t[27]=W,t[28]=K,t[29]=Q,t[30]=R,t[31]=$):$=t[31];let Z=$,J;t[32]!==x||t[33]!==k||t[34]!==d||t[35]!==j||t[36]!==T||t[37]!==S||t[38]!==N||t[39]!==E||t[40]!==P||t[41]!==a||t[42]!==y||t[43]!==w||t[44]!==h||t[45]!==z||t[46]!==_||t[47]!==b||t[48]!==u||t[49]!==R?(J=()=>{(async()=>{let e=R;(null==S?void 0:S.rows)&&Array.isArray(S.rows)&&(e=E(h));let t=I.current,n=M.current,l=N(),o="function"==typeof u?await u(e,{id:y,blockData:void 0,collectionSlug:x,data:(null==T?void 0:T.getData)?T.getData():l,event:"onChange",operation:w,path:z,preferences:{},req:{payload:{config:k},t:_,user:b},siblingData:P(h)}):"string"==typeof I.current?I.current:M.current;if("string"==typeof o?(n=!1,t=o):"boolean"==typeof o&&(n=o,t=void 0),n!==M.current||t!==I.current){M.current=n,I.current=t;let e={type:"UPDATE",errorMessage:t,path:h,rows:null==S?void 0:S.rows,valid:n,validate:u,value:R};(d||a&&"number"==typeof R&&R>0)&&(e.disableFormData=!0),"function"==typeof j&&j(e)}})()},t[32]=x,t[33]=k,t[34]=d,t[35]=j,t[36]=T,t[37]=S,t[38]=N,t[39]=E,t[40]=P,t[41]=a,t[42]=y,t[43]=w,t[44]=h,t[45]=z,t[46]=_,t[47]=b,t[48]=u,t[49]=R,t[50]=J):J=t[50];let ee=null==S?void 0:S.rows,et;return t[51]!==x||t[52]!==d||t[53]!==j||t[54]!==N||t[55]!==E||t[56]!==P||t[57]!==y||t[58]!==w||t[59]!==h||t[60]!==ee||t[61]!==b||t[62]!==u||t[63]!==R?(et=[R,d,j,N,P,E,y,w,h,b,u,ee,x],t[51]=x,t[52]=d,t[53]=j,t[54]=N,t[55]=E,t[56]=P,t[57]=y,t[58]=w,t[59]=h,t[60]=ee,t[61]=b,t[62]=u,t[63]=R,t[64]=et):et=t[64],lk(J,150,et),Z})(e)};function aR(e){let[,t]=e;return t}var aL=e=>{let t=(0,f.c)(2),{children:n,path:l}=e,a;t[0]!==l?(a=e=>{let[t]=e;return t&&(null==t?void 0:t[l])||null},t[0]=l,t[1]=a):a=t[1];let{passesCondition:o}=eF(a)||{};return!1===o?null:n},aO=e=>t=>{let{path:n}=t;return(0,u.jsx)(aL,{path:n,children:(0,u.jsx)(e,{...t})})},aF=e=>{var t,n,l,a;return{...(null==e||null==(t=e.admin)?void 0:t.style)||{},...(null==e||null==(n=e.admin)?void 0:n.width)?{"--field-width":e.admin.width}:{flex:"1 1 auto"},...(null==e||null==(a=e.admin)||null==(l=a.style)?void 0:l.flex)?{flex:e.admin.style.flex}:{}}},aM="field-type";function aI(e){let{fieldLocalized:t,fieldRTL:n,locale:l,localizationConfig:a}=e,o=l&&a&&a.locales&&a.locales.length>1,r=(null==l?void 0:l.code)===(null==a?void 0:a.defaultLocale);return!1!==n&&(null==l?void 0:l.rtl)===!0&&(t||!t&&!o||!t&&r)||!0===n}var aB=()=>(0,u.jsx)("svg",{className:"icon icon--check",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M15.3333 6.00001L8.00001 13.3333L4.66667 10",strokeLinecap:"square"})}),az=()=>(0,u.jsx)("svg",{className:"icon icon--line",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M5.33333 10H14.6667",strokeLinecap:"square"})}),aU="checkbox-input",aV=e=>{let t=(0,f.c)(22),{id:n,name:l,AfterInput:a,BeforeInput:r,checked:i,className:s,inputRef:c,Label:d,label:p,localized:h,onToggle:m,partialChecked:g,readOnly:v,required:b}=e,y=(0,o.useId)(),x=n||y,w=i&&"".concat(aU,"--checked"),j=v&&"".concat(aU,"--read-only"),C;t[0]!==s||t[1]!==w||t[2]!==j?(C=[s,aU,w,j].filter(Boolean),t[0]=s,t[1]=w,t[2]=j,t[3]=C):C=t[3];let S=C.join(" "),_=!!i,k;if(t[4]!==a||t[5]!==r||t[6]!==d||t[7]!==i||t[8]!==x||t[9]!==c||t[10]!==p||t[11]!==h||t[12]!==l||t[13]!==m||t[14]!==g||t[15]!==v||t[16]!==b||t[17]!==S||t[18]!==_){let e=(0,u.jsx)("input",{"aria-label":"","aria-labelledby":l,defaultChecked:_,disabled:v,id:x,name:l,onInput:m,ref:c,required:b,title:l,type:"checkbox"}),n=!i&&g?"partial":"check",o;t[20]!==n?(o=["".concat(aU,"__icon"),n].filter(Boolean),t[20]=n,t[21]=o):o=t[21],k=(0,u.jsxs)("div",{className:S,children:[(0,u.jsxs)("div",{className:"".concat(aU,"__input"),children:[r,e,(0,u.jsxs)("span",{className:o.join(" "),children:[i&&(0,u.jsx)(aB,{}),!i&&g&&(0,u.jsx)(az,{})]}),a]}),(0,u.jsx)(ed,{CustomComponent:d,Fallback:(0,u.jsx)(lC,{htmlFor:x,label:p,localized:h,required:b})})]}),t[4]=a,t[5]=r,t[6]=d,t[7]=i,t[8]=x,t[9]=c,t[10]=p,t[11]=h,t[12]=l,t[13]=m,t[14]=g,t[15]=v,t[16]=b,t[17]=S,t[18]=_,t[19]=k}else k=t[19];return k},aH="checkbox",aq=aO(e=>{let{id:t,checked:n,disableFormData:l,field:a,field:{admin:{className:r,description:i}={},label:c,required:d}={},onChange:p,partialChecked:h,path:f,readOnly:m,validate:g}=e,{uuid:v}=eE(),b=nn(),{i18n:{language:x}}=(0,s.d)(),w=y.aG.includes(x),{customComponents:{AfterInput:j,BeforeInput:C,Description:S,Error:_,Label:k}={},disabled:N,path:E,setValue:P,showError:D,value:T}=aA({disableFormData:l,potentiallyStalePath:f,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof g)return g(e,{...t,required:d})},[g,d])}),A=(0,o.useCallback)(()=>{m||(P(!T),"function"==typeof p&&p(!T))},[p,m,P,T]),R=n||!!T,L=t||lj(E,b,v),O=(0,o.useMemo)(()=>aF(a),[a]);return(0,u.jsxs)("div",{className:[aM,aH,D&&"error",r,T&&"".concat(aH,"--checked"),(m||N)&&"".concat(aH,"--read-only")].filter(Boolean).join(" "),style:O,children:[(0,u.jsx)(ed,{CustomComponent:_,Fallback:(0,u.jsx)(t9,{alignCaret:w?"right":"left",path:E,showError:D})}),(0,u.jsx)(aV,{AfterInput:j,BeforeInput:C,checked:R,id:L,inputRef:null,Label:k,label:c,name:E,onToggle:A,partialChecked:h,readOnly:m||N,required:d}),(0,u.jsx)(ed,{CustomComponent:S,Fallback:(0,u.jsx)(t7,{description:i,path:E})})]})}),aW=e=>{let t,n,l=(0,f.c)(13),{fieldValue:a,localized:r,path:c,readOnly:d}=e,p=void 0!==d&&d,{code:h}=lx(),{config:m}=(0,i.c)(),{localization:g}=m,[v,b]=o.useState("number"!=typeof a),{t:y}=(0,s.d)(),{dispatchFields:x,setModified:w}=eE();if(!r||!g||g.defaultLocale===h||!g.fallback)return null;l[0]!==v||l[1]!==x||l[2]!==a||l[3]!==c||l[4]!==w?(t=()=>{let e=!v;x({type:"UPDATE",path:c,value:e?null:a||0}),w(!0),b(e)},l[0]=v,l[1]=x,l[2]=a,l[3]=c,l[4]=w,l[5]=t):t=l[5];let j=t;if(a){let e=!1;if("number"==typeof a&&a>0&&(e=!0),Array.isArray(a)&&a.length>0&&(e=!0),e)return v&&b(!1),null}return l[6]!==v||l[7]!==a||l[8]!==j||l[9]!==c||l[10]!==p||l[11]!==y?(n=(0,u.jsx)(tn,{className:"nullify-locale-field",children:!a&&p?y("general:fallbackToDefaultLocale"):(0,u.jsx)(aq,{checked:v,field:{name:"",label:y("general:fallbackToDefaultLocale")},id:"field-".concat(c.replace(/\./g,"__")),onChange:j,path:c,schemaPath:""})}),l[6]=v,l[7]=a,l[8]=j,l[9]=c,l[10]=p,l[11]=y,l[12]=n):n=l[12],n},aK=e=>{let t=document.getElementById(e);if(t){let e=t.getBoundingClientRect();window.scrollBy({behavior:"smooth",top:e.top-100})}},aQ="array-actions",aY=e=>{let t=(0,f.c)(12),{addRow:n,copyRow:l,duplicateRow:a,hasMaxRows:r,index:i,isSortable:c,moveRow:d,pasteRow:p,removeRow:h,rowCount:m}=e,{t:g}=(0,s.d)(),v;return t[0]!==n||t[1]!==l||t[2]!==a||t[3]!==r||t[4]!==i||t[5]!==c||t[6]!==d||t[7]!==p||t[8]!==h||t[9]!==m||t[10]!==g?(v=(0,u.jsx)(ty,{button:(0,u.jsx)(tP,{}),buttonClassName:"".concat(aQ,"__button"),className:aQ,horizontalAlign:"center",render:e=>{let{close:t}=e;return(0,u.jsxs)(ts.ButtonGroup,{buttonSize:"small",children:[c&&0!==i&&(0,u.jsxs)(ts.Button,{className:"".concat(aQ,"__action ").concat(aQ,"__move-up"),onClick:()=>{d(i,i-1),t()},children:[(0,u.jsx)("div",{className:"".concat(aQ,"__action-chevron"),children:(0,u.jsx)(tl,{direction:"up"})}),g("general:moveUp")]}),c&&i<m-1&&(0,u.jsxs)(ts.Button,{className:"".concat(aQ,"__action"),onClick:()=>{d(i,i+1),t()},children:[(0,u.jsx)("div",{className:"".concat(aQ,"__action-chevron"),children:(0,u.jsx)(tl,{})}),g("general:moveDown")]}),!r&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)(ts.Button,{className:"".concat(aQ,"__action ").concat(aQ,"__add"),onClick:()=>{n(i+1),t()},children:[(0,u.jsx)(tr,{}),g("general:addBelow")]}),(0,u.jsxs)(ts.Button,{className:"".concat(aQ,"__action ").concat(aQ,"__duplicate"),onClick:()=>{a(i),t()},children:[(0,u.jsx)(tD,{}),g("general:duplicate")]})]}),(0,u.jsx)(ts.Button,{className:"".concat(aQ,"__action ").concat(aQ,"__copy"),onClick:()=>{l(i),t()},children:(0,u.jsx)(tT,{isRow:!0})}),(0,u.jsx)(ts.Button,{className:"".concat(aQ,"__action ").concat(aQ,"__paste"),onClick:()=>{p(i),t()},children:(0,u.jsx)(tT,{isPaste:!0,isRow:!0})}),(0,u.jsxs)(ts.Button,{className:"".concat(aQ,"__action ").concat(aQ,"__remove"),onClick:()=>{h(i),t()},children:[(0,u.jsx)(s.a,{}),g("general:remove")]})]})},size:"medium"}),t[0]=n,t[1]=l,t[2]=a,t[3]=r,t[4]=i,t[5]=c,t[6]=d,t[7]=p,t[8]=h,t[9]=m,t[10]=g,t[11]=v):v=t[11],v},aG=e=>{let{className:t}=e;return(0,u.jsxs)("svg",{className:["icon icon--drag-handle",t].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{className:"fill",d:"M7.99999 10.6667C8.36818 10.6667 8.66666 10.3682 8.66666 9.99999C8.66666 9.6318 8.36818 9.33332 7.99999 9.33332C7.63181 9.33332 7.33333 9.6318 7.33333 9.99999C7.33333 10.3682 7.63181 10.6667 7.99999 10.6667Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M7.99999 5.99999C8.36818 5.99999 8.66666 5.70151 8.66666 5.33332C8.66666 4.96513 8.36818 4.66666 7.99999 4.66666C7.63181 4.66666 7.33333 4.96513 7.33333 5.33332C7.33333 5.70151 7.63181 5.99999 7.99999 5.99999Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M7.99999 15.3333C8.36818 15.3333 8.66666 15.0348 8.66666 14.6667C8.66666 14.2985 8.36818 14 7.99999 14C7.63181 14 7.33333 14.2985 7.33333 14.6667C7.33333 15.0348 7.63181 15.3333 7.99999 15.3333Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M12 10.6667C12.3682 10.6667 12.6667 10.3682 12.6667 9.99999C12.6667 9.6318 12.3682 9.33332 12 9.33332C11.6318 9.33332 11.3333 9.6318 11.3333 9.99999C11.3333 10.3682 11.6318 10.6667 12 10.6667Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M12 5.99999C12.3682 5.99999 12.6667 5.70151 12.6667 5.33332C12.6667 4.96513 12.3682 4.66666 12 4.66666C11.6318 4.66666 11.3333 4.96513 11.3333 5.33332C11.3333 5.70151 11.6318 5.99999 12 5.99999Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M12 15.3333C12.3682 15.3333 12.6667 15.0348 12.6667 14.6667C12.6667 14.2985 12.3682 14 12 14C11.6318 14 11.3333 14.2985 11.3333 14.6667C11.3333 15.0348 11.6318 15.3333 12 15.3333Z",strokeLinecap:"square"})]})},aX=e=>{let{id:t,children:n,className:l,duration:a=300,height:r}=e,[i,s]=o.useState(()=>!!r),c=(0,o.useRef)(i),[d,p]=o.useState(()=>i?"":"none"),[h,f]=o.useState(()=>i?"":"hidden"),[m,g]=o.useState(!1),v=(0,o.useRef)(null),b=(0,o.useRef)(null);return(0,o.useEffect)(()=>{let e,t,n=!!r,l=c.current!==n;return c.current=n,l&&(g(!0),f("hidden"),n?p(""):e=window.setTimeout(()=>{p("none")},a),s(n),t=window.setTimeout(()=>{f(""),g(!1)},a)),()=>{e&&clearTimeout(e),t&&clearTimeout(t)}},[r,a]),(e=>{let{containerRef:t,contentRef:n,duration:l,open:a}=e,r=(0,o.useMemo)(()=>!!("u">typeof CSS&&CSS)&&!!CSS.supports&&CSS.supports("interpolate-size","allow-keywords"),[]),i=(0,o.useRef)(!1),s=(0,o.useRef)(a),[c,u]=(0,o.useState)(!1),d=(0,o.useRef)(null);return(0,o.useEffect)(()=>{let e=t.current,o=n.current;if(!e||!o||r)return;let p=t=>{e.style.height=t};return(()=>{if(!i.current&&a){p("auto"),u(!1);return}i.current=!0,s.current!==a&&p(a?"0px":"".concat(o.scrollHeight,"px")),e.offsetHeight,u(!0),e.style.transition="height ".concat(l,"ms ease"),p(a?"".concat(o.scrollHeight,"px"):"0px");let t=()=>{e&&(e.style.transition="",e.style.height=a?"auto":"0px",u(!1)),e.removeEventListener("transitionend",t)};e.addEventListener("transitionend",t)})(),s.current=a,d.current=new ResizeObserver(()=>{c&&(e.style.height=a?"".concat(o.scrollHeight,"px"):"0px")}),d.current.observe(o),()=>{var t;e&&(e.style.transition="",e.style.height=""),null==(t=d.current)||t.disconnect()}},[a,l,t,n,r])})({containerRef:v,contentRef:b,duration:a,open:i}),(0,u.jsx)("div",{"aria-hidden":!i,className:[l,"rah-static",i&&"auto"===r&&"rah-static--height-auto",m&&"rah-animating--".concat(i?"down":"up"),m&&"auto"===r&&"rah-animating--to-height-auto"].filter(Boolean).join(" "),id:t,ref:v,style:{overflow:h,transition:"height ".concat(a,"ms ease")},children:(0,u.jsx)("div",{ref:b,...d?{style:{display:d}}:{},children:n})})},a$=(0,o.createContext)({isCollapsed:void 0,isVisible:void 0,isWithinCollapsible:void 0,toggle:()=>{}}),aZ=e=>{let{children:t,isCollapsed:n,isWithinCollapsible:l=!0,toggle:a}=e,{isCollapsed:r,isVisible:i}=aJ(),s=o.useMemo(()=>({isCollapsed:n,isVisible:i&&!r,isWithinCollapsible:l,toggle:a}),[n,l,a,r,i]);return(0,u.jsx)(a$,{value:s,children:t})},aJ=()=>(0,o.use)(a$),a0="collapsible",a1=e=>{let t,n=(0,f.c)(25),{actions:l,AfterCollapsible:a,children:r,className:i,collapsibleStyle:c,disableHeaderToggle:d,disableToggleIndicator:p,dragHandleProps:h,header:m,initCollapsed:g,isCollapsed:v,onToggle:b}=e,y=void 0!==d&&d,x=void 0!==p&&p,[w,j]=(0,o.useState)(!!g),[C,S]=(0,o.useState)(!1),{isWithinCollapsible:_}=aJ(),{t:k}=(0,s.d)(),N="boolean"==typeof v?v:w,E;n[0]!==N||n[1]!==b?(E=()=>{"function"==typeof b&&b(!N),j(!N)},n[0]=N,n[1]=b,n[2]=E):E=n[2];let P=E,D=h&&"".concat(a0,"--has-drag-handle"),T=N&&"".concat(a0,"--collapsed"),A=_&&"".concat(a0,"--nested"),R=C&&!y&&"".concat(a0,"--hovered"),L="".concat(a0,"--style-").concat(void 0===c?"default":c),O;n[3]!==i||n[4]!==D||n[5]!==T||n[6]!==A||n[7]!==R||n[8]!==L?(O=[a0,i,D,T,A,R,L].filter(Boolean),n[3]=i,n[4]=D,n[5]=T,n[6]=A,n[7]=R,n[8]=L,n[9]=O):O=n[9];let F=O.join(" "),M="".concat(a0,"__toggle-wrap").concat(y?" toggle-disabled":""),I,B;return n[10]===Symbol.for("react.memo_cache_sentinel")?(I=()=>S(!0),B=()=>S(!1),n[10]=I,n[11]=B):(I=n[10],B=n[11]),n[12]!==a||n[13]!==l||n[14]!==r||n[15]!==y||n[16]!==x||n[17]!==h||n[18]!==m||n[19]!==N||n[20]!==k||n[21]!==F||n[22]!==M||n[23]!==P?(t=(0,u.jsx)("div",{className:F,children:(0,u.jsxs)(aZ,{isCollapsed:N,toggle:P,children:[(0,u.jsxs)("div",{className:M,onMouseEnter:I,onMouseLeave:B,children:[!y&&(0,u.jsx)("button",{className:["".concat(a0,"__toggle"),"".concat(a0,"__toggle--").concat(N?"collapsed":"open")].filter(Boolean).join(" "),onClick:P,type:"button",children:(0,u.jsx)("span",{children:k("fields:toggleBlock")})}),h&&(0,u.jsx)("div",{className:"".concat(a0,"__drag"),...h.attributes,...h.listeners,children:(0,u.jsx)(aG,{})}),m?(0,u.jsx)("div",{className:["".concat(a0,"__header-wrap"),h&&"".concat(a0,"__header-wrap--has-drag-handle")].filter(Boolean).join(" "),children:m}):null,(0,u.jsxs)("div",{className:"".concat(a0,"__actions-wrap"),children:[l?(0,u.jsx)("div",{className:"".concat(a0,"__actions"),children:l}):null,!x&&(0,u.jsx)("div",{className:"".concat(a0,"__indicator"),children:(0,u.jsx)(tl,{direction:N?void 0:"up"})})]})]}),(0,u.jsx)(aX,{height:N?0:"auto",children:(0,u.jsx)("div",{className:"".concat(a0,"__content"),children:r})}),a]})}),n[12]=a,n[13]=l,n[14]=r,n[15]=y,n[16]=x,n[17]=h,n[18]=m,n[19]=N,n[20]=k,n[21]=F,n[22]=M,n[23]=P,n[24]=t):t=n[24],t},a3=e=>{var t;let n=(0,f.c)(9),{children:l,className:a,forceRender:r}=e,[i,s]=o.useState(!!r),c;n[0]===Symbol.for("react.memo_cache_sentinel")?(c={rootMargin:"1000px"},n[0]=c):c=n[0];let[d,p]=tx(c,!!r),h=!!(null==p?void 0:p.isIntersecting),m=(null==p||null==(t=p.boundingClientRect)?void 0:t.top)<0,g=r||h||m,v,b;n[1]!==i||n[2]!==g?(v=()=>{g&&!i&&s(!0)},b=[g,i],n[1]=i,n[2]=g,n[3]=v,n[4]=b):(v=n[3],b=n[4]),o.useEffect(v,b);let y=i?l:null,x;return n[5]!==a||n[6]!==d||n[7]!==y?(x=(0,u.jsx)("div",{className:a,ref:d,children:y}),n[5]=a,n[6]=d,n[7]=y,n[8]=x):x=n[8],x},a2="pill",a6=e=>{let t=(0,f.c)(12),{id:n,className:l}=e,a;t[0]!==n?(a={id:n},t[0]=n,t[1]=a):a=t[1];let{attributes:o,isDragging:r,listeners:i,setNodeRef:s,transform:c}=t3(a),d=r&&"".concat(a2,"--is-dragging"),p;t[2]!==l||t[3]!==d?(p=[d,l].filter(Boolean),t[2]=l,t[3]=d,t[4]=p):p=t[4];let h=p.join(" "),m;return t[5]!==o||t[6]!==i||t[7]!==e||t[8]!==s||t[9]!==h||t[10]!==c?(m=(0,u.jsx)(a5,{...e,className:h,elementProps:{...i,...o,ref:s,style:{transform:c}}}),t[5]=o,t[6]=i,t[7]=e,t[8]=s,t[9]=h,t[10]=c,t[11]=m):m=t[11],m},a5=e=>{let{id:t,alignIcon:n="right","aria-checked":l,"aria-controls":a,"aria-expanded":o,"aria-label":r,children:i,className:s,draggable:c,elementProps:d,icon:p,onClick:h,pillStyle:f="light",rounded:m,size:g="medium",to:v}=e,b=[a2,"".concat(a2,"--style-").concat(f),"".concat(a2,"--size-").concat(g),s&&s,v&&"".concat(a2,"--has-link"),(v||h)&&"".concat(a2,"--has-action"),p&&"".concat(a2,"--has-icon"),p&&"".concat(a2,"--align-icon-").concat(n),c&&"".concat(a2,"--draggable"),m&&"".concat(a2,"--rounded")].filter(Boolean).join(" "),y="div";return h&&!v&&(y="button"),v&&(y=te),(0,u.jsxs)(y,{...d,"aria-checked":l,"aria-controls":a,"aria-expanded":o,"aria-label":r,className:b,href:v||null,id:t,onClick:h,type:"button"===y?"button":void 0,children:[(0,u.jsx)("span",{className:"".concat(a2,"__label"),children:i}),!!p&&(0,u.jsx)("span",{className:"".concat(a2,"__icon"),children:p})]})},a4=e=>{let{draggable:t}=e;return t?(0,u.jsx)(a6,{...e}):(0,u.jsx)(a5,{...e})};function a8(e,t){let[n,l]=(0,o.useState)(e);return(0,o.useEffect)(()=>{let n=setTimeout(()=>{l(e)},t);return()=>{clearTimeout(n)}},[e,t]),n}var a7="thumbnail-card",a9=e=>{let t=(0,f.c)(13),{alignLabel:n,className:l,collection:a,doc:o,label:r,onClick:c,thumbnail:d}=e,{config:p}=(0,i.c)(),{i18n:h}=(0,s.d)(),m="function"==typeof c&&"".concat(a7,"--has-on-click"),g=n&&"".concat(a7,"--align-label-").concat(n),v;t[0]!==l||t[1]!==m||t[2]!==g?(v=[a7,l,m,g].filter(Boolean),t[0]=l,t[1]=m,t[2]=g,t[3]=v):v=t[3];let b=v.join(" "),y;if(t[4]!==b||t[5]!==a||t[6]!==p||t[7]!==o||t[8]!==h||t[9]!==r||t[10]!==c||t[11]!==d){let e=r;e||(e=au({collectionConfig:a,data:o,dateFormat:p.admin.dateFormat,fallback:null==o?void 0:o.filename,i18n:h})),y=(0,u.jsxs)("button",{className:b,onClick:c,title:e,type:"button",children:[(0,u.jsx)("div",{className:"".concat(a7,"__thumbnail"),children:d}),(0,u.jsx)("div",{className:"".concat(a7,"__label"),children:e})]}),t[4]=b,t[5]=a,t[6]=p,t[7]=o,t[8]=h,t[9]=r,t[10]=c,t[11]=d,t[12]=y}else y=t[12];return y},oe=[];for(ot=0;ot<256;++ot)oe.push((ot+256).toString(16).slice(1));var ot,on,ol=new Uint8Array(16),oa={randomUUID:"u">typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},oo=function(e,t,n){if(oa.randomUUID&&!t&&!e)return oa.randomUUID();var l=(e=e||{}).random||(e.rng||function(){if(!on&&!(on="u">typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return on(ol)})();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=l[a];return t}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(oe[e[t+0]]+oe[e[t+1]]+oe[e[t+2]]+oe[e[t+3]]+"-"+oe[e[t+4]]+oe[e[t+5]]+"-"+oe[e[t+6]]+oe[e[t+7]]+"-"+oe[e[t+8]]+oe[e[t+9]]+"-"+oe[e[t+10]]+oe[e[t+11]]+oe[e[t+12]]+oe[e[t+13]]+oe[e[t+14]]+oe[e[t+15]]).toLowerCase()}(l)},or=()=>{let[e]=(0,o.useState)(()=>"pattern".concat(oo()));return(0,u.jsxs)("svg",{fill:"none",height:"151",preserveAspectRatio:"xMidYMid slice",viewBox:"0 0 231 151",width:"231",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsxs)("g",{clipPath:"url(#".concat(e,")"),children:[(0,u.jsx)("rect",{fill:"#D9D9D9",height:"100%",rx:"2",width:"100%"}),(0,u.jsx)("rect",{fill:"#BCBCBC",height:"116.063",transform:"rotate(52.0687 33.7051 79.3051)",width:"85.8593",x:"33.7051",y:"79.3051"}),(0,u.jsx)("rect",{fill:"#BCBCBC",height:"116.063",transform:"rotate(52.0687 86.1219 92.6272)",width:"85.8593",x:"86.1219",y:"92.6272"}),(0,u.jsx)("circle",{cx:"189",cy:"45",fill:"#BCBCBC",r:"19"}),(0,u.jsx)("rect",{fill:"#B8B8B8",height:"5",rx:"2.5",width:"98",x:"66",y:"70"}),(0,u.jsx)("rect",{fill:"#B8B8B8",height:"5",rx:"2.5",width:"76",x:"77",y:"82"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"".concat(e),children:(0,u.jsx)("rect",{fill:"white",height:"151",width:"231"})})})]})},oi=()=>(0,u.jsx)("svg",{className:"icon icon--search",fill:"none",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M16 16L13.1333 13.1333M14.6667 9.33333C14.6667 12.2789 12.2789 14.6667 9.33333 14.6667C6.38781 14.6667 4 12.2789 4 9.33333C4 6.38781 6.38781 4 9.33333 4C12.2789 4 14.6667 6.38781 14.6667 9.33333Z",strokeLinecap:"square"})}),os="block-search",oc=e=>{let t=(0,f.c)(5),{setSearchTerm:n}=e,{t:l}=(0,s.d)(),a;t[0]!==n?(a=e=>{n(e.target.value)},t[0]=n,t[1]=a):a=t[1];let o=a,r;return t[2]!==o||t[3]!==l?(r=(0,u.jsxs)("div",{className:os,children:[(0,u.jsx)("input",{className:"".concat(os,"__input"),onChange:o,placeholder:l("fields:searchForBlock")}),(0,u.jsx)(oi,{})]}),t[2]=o,t[3]=l,t[4]=r):r=t[4],r},ou="blocks-drawer",od=e=>{let{blocks:t,onSelect:n,searchTerm:l}=e,[a,r]=(0,i.a)(null!=l?l:""),[c,p]=(0,o.useState)(t),{i18n:h}=(0,s.d)(),{config:f}=(0,i.c)(),m=(0,o.useMemo)(()=>{let e={_none:[]};return c.forEach(t=>{var n;if("object"==typeof t&&(null==(n=t.admin)?void 0:n.group)){let n=t.admin.group,l="string"==typeof n?n:(0,d.s)(n,h);Object.hasOwn(e,l)?e[l].push(t):e[l]=[t]}else e._none.push(t)}),e},[c,h]);return(0,o.useEffect)(()=>{let e=a.toLowerCase();p(null==t?void 0:t.reduce((t,n)=>{let l="string"==typeof n?f.blocksMap[n]:n;return((e,t)=>"string"==typeof e.labels.singular?e.labels.singular.toLowerCase():"object"==typeof e.labels.singular?(0,d.s)(e.labels.singular,t).toLowerCase():"")(l,h).includes(e)&&t.push(l),t},[]))},[a,t,h,f.blocksMap]),(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(oc,{setSearchTerm:r}),(0,u.jsx)("div",{className:"".concat(ou,"__blocks-wrapper"),children:(0,u.jsx)("ul",{className:"".concat(ou,"__block-groups"),children:Object.entries(m).map(e=>{let[t,l]=e;return l.length?(0,u.jsxs)("li",{className:["".concat(ou,"__block-group"),"_none"===t&&"".concat(ou,"__block-group-none")].filter(Boolean).join(" "),children:["_none"!==t&&(0,u.jsx)("h3",{className:"".concat(ou,"__block-group-label"),children:t}),(0,u.jsx)("ul",{className:"".concat(ou,"__blocks"),children:l.map((e,t)=>{let{slug:l,imageAltText:a,imageURL:o,labels:r}="string"==typeof e?f.blocksMap[e]:e;return(0,u.jsx)("li",{className:"".concat(ou,"__block"),children:(0,u.jsx)(a9,{alignLabel:"center",label:(0,d.s)(null==r?void 0:r.singular,h),onClick:()=>{"function"==typeof n&&n(l)},thumbnail:(0,u.jsx)("div",{className:"".concat(ou,"__default-image"),children:o?(0,u.jsx)("img",{alt:a,src:o}):(0,u.jsx)(or,{})})})},t)})})]},t):null})})})]})},op=e=>{let t,n=(0,f.c)(19),{addRow:l,addRowIndex:a,blocks:r,drawerSlug:i,labels:c}=e,{closeModal:p,isModalOpen:h}=nj(),{i18n:m,t:g}=(0,s.d)(),[v,b]=o.useState(""),y,x;if(n[0]!==i||n[1]!==h?(y=()=>{h(i)||b("")},x=[h,i],n[0]=i,n[1]=h,n[2]=y,n[3]=x):(y=n[2],x=n[3]),(0,o.useEffect)(y,x),n[4]!==l||n[5]!==a||n[6]!==r||n[7]!==p||n[8]!==i||n[9]!==m||n[10]!==c.singular||n[11]!==v||n[12]!==g){let e;n[14]!==l||n[15]!==a||n[16]!==p||n[17]!==i?(e=e=>{l(a,e),p(i)},n[14]=l,n[15]=a,n[16]=p,n[17]=i,n[18]=e):e=n[18],t=(0,u.jsx)(ll,{slug:i,title:g("fields:addLabel",{label:(0,d.s)(c.singular,m)}),children:(0,u.jsx)(od,{blocks:r,onSelect:e,searchTerm:v})}),n[4]=l,n[5]=a,n[6]=r,n[7]=p,n[8]=i,n[9]=m,n[10]=c.singular,n[11]=v,n[12]=g,n[13]=t}else t=n[13];return t},oh=e=>{let t,n=(0,f.c)(28),{addRow:l,blocks:a,blockType:r,copyRow:i,duplicateRow:s,hasMaxRows:c,isSortable:d,labels:p,moveRow:h,pasteRow:m,removeRow:g,rowCount:v,rowIndex:b}=e,{closeModal:y,openModal:x}=nj(),w=n9("blocks-drawer"),[j,C]=o.useState(null),S;if(n[0]!==l||n[1]!==y||n[2]!==w||n[3]!==j?(S=(e,t)=>{"function"==typeof l&&l(j,t),y(w)},n[0]=l,n[1]=y,n[2]=w,n[3]=j,n[4]=S):S=n[4],n[5]!==r||n[6]!==a||n[7]!==i||n[8]!==w||n[9]!==s||n[10]!==c||n[11]!==d||n[12]!==p||n[13]!==h||n[14]!==x||n[15]!==m||n[16]!==g||n[17]!==v||n[18]!==b||n[19]!==S){let e,l;n[21]!==w||n[22]!==x?(e=e=>{C(e),x(w)},n[21]=w,n[22]=x,n[23]=e):e=n[23],n[24]!==r||n[25]!==s||n[26]!==b?(l=()=>s(b,r),n[24]=r,n[25]=s,n[26]=b,n[27]=l):l=n[27],t=(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(op,{addRow:S,addRowIndex:b,blocks:a,drawerSlug:w,labels:p}),(0,u.jsx)(aY,{addRow:e,copyRow:i,duplicateRow:l,hasMaxRows:c,index:b,isSortable:d,moveRow:h,pasteRow:m,removeRow:g,rowCount:v})]}),n[5]=r,n[6]=a,n[7]=i,n[8]=w,n[9]=s,n[10]=c,n[11]=d,n[12]=p,n[13]=h,n[14]=x,n[15]=m,n[16]=g,n[17]=v,n[18]=b,n[19]=S,n[20]=t}else t=n[20];return t},of="section-title",om=e=>{let t=(0,f.c)(14),{customOnChange:n,customValue:l,path:a,readOnly:o}=e,r;t[0]!==a?(r={path:a},t[0]=a,t[1]=r):r=t[1];let{setValue:i,value:c}=aA(r),{t:d}=(0,s.d)(),p;t[2]===Symbol.for("react.memo_cache_sentinel")?(p=[of].filter(Boolean),t[2]=p):p=t[2];let h=p.join(" "),m;t[3]!==n||t[4]!==i?(m=n||(e=>{e.stopPropagation(),e.preventDefault(),i(e.target.value)}),t[3]=n,t[4]=i,t[5]=m):m=t[5];let g=m,v=l||c,b;return t[6]!==l||t[7]!==g||t[8]!==a||t[9]!==o||t[10]!==d||t[11]!==v||t[12]!==c?(b=(0,u.jsx)("div",{className:h,"data-value":v,children:(0,u.jsx)("input",{className:"".concat(of,"__input"),id:a,name:a,onChange:g,placeholder:d("general:untitled"),readOnly:o,type:"text",value:l||c||""})}),t[6]=l,t[7]=g,t[8]=a,t[9]=o,t[10]=d,t[11]=v,t[12]=c,t[13]=b):b=t[13],b},og="blocks-field",ov=e=>{var t,n;let l=(0,f.c)(42),{addRow:a,attributes:o,block:r,blocks:c,copyRow:p,duplicateRow:h,errorCount:m,fields:g,hasMaxRows:v,isLoading:b,isSortable:y,Label:x,labels:w,listeners:j,moveRow:C,parentPath:S,pasteRow:_,path:k,permissions:N,readOnly:E,removeRow:P,row:D,rowCount:T,rowIndex:A,schemaPath:R,setCollapse:L,setNodeRef:O,transform:F}=e,M=a8(b,500),{i18n:I}=(0,s.d)(),B=eT()&&m>0,z=!(null==(t=r.admin)?void 0:t.disableBlockName),U=B?"".concat(og,"__row--has-errors"):"".concat(og,"__row--no-errors"),V;l[0]!==U?(V=["".concat(og,"__row"),U].filter(Boolean),l[0]=U,l[1]=V):V=l[1];let H=V.join(" "),q;if(l[2]!==x||l[3]!==a||l[4]!==o||l[5]!==r.fields||l[6]!==r.labels||l[7]!==r.slug||l[8]!==c||l[9]!==H||l[10]!==p||l[11]!==h||l[12]!==m||l[13]!==B||l[14]!==g||l[15]!==v||l[16]!==I||l[17]!==M||l[18]!==y||l[19]!==w||l[20]!==j||l[21]!==C||l[22]!==S||l[23]!==_||l[24]!==k||l[25]!==N||l[26]!==E||l[27]!==P||l[28]!==D.blockType||l[29]!==D.collapsed||l[30]!==D.id||l[31]!==T||l[32]!==A||l[33]!==R||l[34]!==L||l[35]!==O||l[36]!==z||l[37]!==F){let e,t;if(!0===N)e=!0;else{let t=(null==N||null==(n=N.blocks)?void 0:n[r.slug])||(null==N?void 0:N.blocks);if(!0===t)e=!0;else if(null==t?void 0:t.fields)e=t.fields;else if("object"==typeof N&&N&&!t){let n=!0===N.read,l=!N.create||!N.update;e=n&&(l||"object"==typeof N&&1===Object.keys(N).length&&N.read)?{read:!0}:null==t?void 0:t.fields}else e=null==t?void 0:t.fields}l[39]!==D.id||l[40]!==L?(t=e=>L(D.id,e),l[39]=D.id,l[40]=L,l[41]=t):t=l[41],q=(0,u.jsx)("div",{id:"".concat(null==S?void 0:S.split(".").join("-"),"-row-").concat(A),ref:O,style:{transform:F},children:(0,u.jsx)(a1,{actions:E?void 0:(0,u.jsx)(oh,{addRow:a,blocks:c,blockType:D.blockType,copyRow:p,duplicateRow:h,fields:r.fields,hasMaxRows:v,isSortable:y,labels:w,moveRow:C,pasteRow:_,removeRow:P,rowCount:T,rowIndex:A}),className:H,collapsibleStyle:B?"error":"default",dragHandleProps:y?{id:D.id,attributes:o,listeners:j}:void 0,header:M?(0,u.jsx)(i.f,{height:"1rem",width:"8rem"}):(0,u.jsxs)("div",{className:"".concat(og,"__block-header"),children:[(0,u.jsx)(eU,{CustomComponent:x,label:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:"".concat(og,"__block-number"),children:String(A+1).padStart(2,"0")}),(0,u.jsx)(a4,{className:"".concat(og,"__block-pill ").concat(og,"__block-pill-").concat(D.blockType),pillStyle:"white",size:"small",children:(0,d.s)(r.labels.singular,I)}),z&&(0,u.jsx)(om,{path:"".concat(k,".blockName"),readOnly:E})]}),path:k,rowNumber:A}),B&&(0,u.jsx)(t4,{count:m,i18n:I,withMessage:!0})]}),isCollapsed:D.collapsed,onToggle:t,children:M?(0,u.jsx)(i.f,{}):(0,u.jsx)(hL,{className:"".concat(og,"__fields"),fields:g,margins:"small",parentIndexPath:"",parentPath:k,parentSchemaPath:R,permissions:e,readOnly:E})},D.id)},"".concat(S,"-row-").concat(A)),l[2]=x,l[3]=a,l[4]=o,l[5]=r.fields,l[6]=r.labels,l[7]=r.slug,l[8]=c,l[9]=H,l[10]=p,l[11]=h,l[12]=m,l[13]=B,l[14]=g,l[15]=v,l[16]=I,l[17]=M,l[18]=y,l[19]=w,l[20]=j,l[21]=C,l[22]=S,l[23]=_,l[24]=k,l[25]=N,l[26]=E,l[27]=P,l[28]=D.blockType,l[29]=D.collapsed,l[30]=D.id,l[31]=T,l[32]=A,l[33]=R,l[34]=L,l[35]=O,l[36]=z,l[37]=F,l[38]=q}else q=l[38];return q},ob="blocks-field",oy=aO(e=>{let{i18n:t,t:n}=(0,s.d)(),{field:l,field:{name:a,type:r,admin:{className:c,description:p,isSortable:h=!0}={},blockReferences:f,blocks:m,label:g,labels:v,localized:b,maxRows:y,minRows:x,required:w},path:j,permissions:C,readOnly:S,schemaPath:_,validate:k}=e,N=null!=_?_:a,E=+(null!=x?!!x:!!w),{setDocFieldPreferences:P}=aC(),{addFieldRow:D,dispatchFields:T,getFields:A,moveFieldRow:R,removeFieldRow:L,replaceState:O,setModified:F}=eE(),{code:M}=lx(),{config:{localization:I},config:B}=(0,i.c)(),z=n9("blocks-drawer"),U=eT(),V={plural:n("fields:blocks"),singular:n("fields:block"),...v},H=!I||!I.fallback||M===I.defaultLocale,{blocksFilterOptions:q,customComponents:{AfterInput:W,BeforeInput:K,Description:Q,Error:Y,Label:G}={},disabled:X,errorPaths:$,path:Z,rows:J=[],showError:ee,valid:et,value:en}=aA({hasRows:!0,potentiallyStalePath:j,validate:(0,o.useCallback)((e,t)=>!H&&null===e||("function"==typeof k?k(e,{...t,maxRows:y,minRows:E,required:w}):void 0),[y,E,w,k,H])}),{clientBlocks:el,clientBlocksAfterFilter:ea}=(0,o.useMemo)(()=>{let e=[];if(f)for(let t of f){let n="string"==typeof t?B.blocksMap[t]:t;n&&e.push(n)}else e=m;if(Array.isArray(q)){let t=e.filter(e=>{let t="string"==typeof e?e:e.slug;return q.includes(t)});return{clientBlocks:e,clientBlocksAfterFilter:t}}return{clientBlocks:e,clientBlocksAfterFilter:e}},[f,m,q,B.blocksMap]),eo=(0,o.useCallback)((e,t)=>{D({blockType:t,path:Z,rowIndex:e,schemaPath:N}),setTimeout(()=>{aK("".concat(Z,"-row-").concat(e+1))},0)},[D,Z,N]),er=(0,o.useCallback)(e=>{T({type:"DUPLICATE_ROW",path:Z,rowIndex:e}),F(!0),setTimeout(()=>{aK("".concat(Z,"-row-").concat(e+1))},0)},[T,Z,F]),ei=(0,o.useCallback)(e=>{L({path:Z,rowIndex:e})},[Z,L]),es=(0,o.useCallback)((e,t)=>{R({moveFromIndex:e,moveToIndex:t,path:Z})},[R,Z]),ec=(0,o.useCallback)(e=>{let{collapsedIDs:t,updatedRows:n}=l_({collapsed:e,rows:J});T({type:"SET_ALL_ROWS_COLLAPSED",path:Z,updatedRows:n}),P(Z,{collapsed:t})},[T,Z,J,P]),eu=(0,o.useCallback)((e,t)=>{let{collapsedIDs:n,updatedRows:l}=lS({collapsed:t,rowID:e,rows:J});T({type:"SET_ROW_COLLAPSED",path:Z,updatedRows:l}),P(Z,{collapsed:n})},[T,Z,J,P]),ep=(0,o.useCallback)(e=>{let t=tN({type:r,blocks:el,getDataToCopy:()=>tR({formState:{...A()},path:Z,rowIndex:e}),path:Z,rowIndex:e,t:n});"string"==typeof t?eZ.error(t):eZ.success(n("general:copied"))},[el,Z,n,r,A]),eh=(0,o.useCallback)(e=>{let t=tE({onPaste:t=>{O(tL({dataFromClipboard:t,formState:{...A()},path:Z,rowIndex:e})),F(!0)},path:Z,schemaBlocks:el,t:n});"string"==typeof t&&eZ.error(t)},[el,A,Z,O,F,n]),ef=(0,o.useCallback)(e=>{O(tL({dataFromClipboard:e,formState:{...A()},path:Z})),F(!0)},[A,Z,O,F]),em=y&&J.length>=y,eg=$.length,ev=U&&eg+ +!et>0,eb=J.length<E||w&&0===J.length,ey=S&&0===J.length,ex=(0,o.useMemo)(()=>aF(l),[l]);return(0,u.jsxs)("div",{className:[aM,ob,c,ev?"".concat(ob,"--has-error"):"".concat(ob,"--has-no-error")].filter(Boolean).join(" "),id:"field-".concat(null==Z?void 0:Z.replace(/\./g,"__")),style:ex,children:[ee&&(0,u.jsx)(ed,{CustomComponent:Y,Fallback:(0,u.jsx)(t9,{path:Z,showError:ee})}),(0,u.jsxs)("header",{className:"".concat(ob,"__header"),children:[(0,u.jsxs)("div",{className:"".concat(ob,"__header-wrap"),children:[(0,u.jsxs)("div",{className:"".concat(ob,"__heading-with-error"),children:[(0,u.jsx)("h3",{children:(0,u.jsx)(ed,{CustomComponent:G,Fallback:(0,u.jsx)(lC,{as:"span",label:g,localized:b,path:Z,required:w})})}),ev&&eg>0&&(0,u.jsx)(t4,{count:eg,i18n:t,withMessage:!0})]}),(0,u.jsxs)("ul",{className:"".concat(ob,"__header-actions"),children:[J.length>0&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"".concat(ob,"__header-action"),onClick:()=>ec(!0),type:"button",children:n("fields:collapseAll")})}),(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"".concat(ob,"__header-action"),onClick:()=>ec(!1),type:"button",children:n("fields:showAll")})})]}),(0,u.jsx)("li",{children:(0,u.jsx)(tA,{allowCopy:(null==J?void 0:J.length)>0,allowPaste:!S,blocks:el,className:"".concat(ob,"__header-action"),disabled:X,getDataToCopy:()=>tR({formState:{...A()},path:Z}),onPaste:ef,path:Z,type:r})})]})]}),(0,u.jsx)(ed,{CustomComponent:Q,Fallback:(0,u.jsx)(t7,{description:p,path:Z})})]}),K,(0,u.jsx)(aW,{fieldValue:en,localized:b,path:Z,readOnly:S}),(J.length>0||!et&&(ey||eb))&&(0,u.jsxs)(t6,{className:"".concat(ob,"__rows"),ids:J.map(e=>e.id),onDragEnd:e=>{let{moveFromIndex:t,moveToIndex:n}=e;return es(t,n)},children:[J.map((e,t)=>{var n;let{blockType:l,isLoading:a}=e,o=null!=(n=B.blocksMap[l])?n:el.find(e=>e.slug===l);if(o){let n="".concat(Z,".").concat(t),l=$.filter(e=>e.startsWith(n+".")).length;return(0,u.jsx)(t2,{disabled:S||X||!h,id:e.id,children:r=>{var i,s;return(0,u.jsx)(ov,{...r,addRow:eo,block:o,blocks:el,copyRow:ep,duplicateRow:er,errorCount:l,fields:o.fields,hasMaxRows:em,isLoading:a,isSortable:h,Label:null==J||null==(s=J[t])||null==(i=s.customComponents)?void 0:i.RowLabel,labels:V,moveRow:es,parentPath:Z,pasteRow:eh,path:n,permissions:C,readOnly:S||X,removeRow:ei,row:e,rowCount:J.length,rowIndex:t,schemaPath:N+o.slug,setCollapse:eu})}},e.id)}return null}),!H&&(0,u.jsxs)(o.Fragment,{children:[eb&&(0,u.jsx)(tn,{type:"error",children:n("validation:requiresAtLeast",{count:E,label:(0,d.s)(E>1?V.plural:V.singular,t)||n(E>1?"general:row":"general:rows")})}),ey&&(0,u.jsx)(tn,{children:n("validation:fieldHasNo",{label:(0,d.s)(V.plural,t)})})]})]}),!em&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(ln,{className:"".concat(ob,"__drawer-toggler"),disabled:S||X,slug:z,children:(0,u.jsx)(tS,{buttonStyle:"icon-label",disabled:S||X,el:"span",icon:"plus",iconPosition:"left",iconStyle:"with-border",children:n("fields:addLabel",{label:(0,d.s)(V.singular,t)})})}),(0,u.jsx)(op,{addRow:eo,addRowIndex:(null==J?void 0:J.length)||0,blocks:ea,drawerSlug:z,labels:V})]}),W]})}),ox=(0,o.lazy)(()=>n.e(5972).then(n.bind(n,75972))),ow=e=>(0,u.jsx)(o.Suspense,{fallback:(0,u.jsx)(i.f,{}),children:(0,u.jsx)(ox,{...e})}),oj={js:"javascript",ts:"typescript",tsx:"typescript"},oC=aO(e=>{let{field:t,field:{admin:{className:n,description:l,editorOptions:a,editorProps:r,language:i="javascript"}={},label:s,localized:c,required:d},onMount:p,path:h,readOnly:f,validate:m}=e,g=o.useRef("formState"),[v,b]=(0,o.useState)(Date.now()),{customComponents:{AfterInput:y,BeforeInput:x,Description:w,Error:j,Label:C}={},disabled:S,initialValue:_,path:k,setValue:N,showError:E,value:P}=aA({potentiallyStalePath:h,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof m)return m(e,{...t,required:d})},[m,d])}),D=o.useRef((P||_)!==void 0?null!=P?P:_:void 0),T=(0,o.useCallback)(e=>{if(!(f||S)){g.current="internalEditor";try{N(e||null),D.current=e}catch(t){N(e||null),D.current=e}}},[f,S,N]);(0,o.useEffect)(()=>{"formState"===g.current&&(D.current=(P||_)!==void 0?null!=P?P:_:void 0,b(Date.now())),g.current="formState"},[_,k,P]);let A=(0,o.useMemo)(()=>aF(t),[t]);return(0,u.jsxs)("div",{className:[aM,"code-field",n,E&&"error",(f||S)&&"read-only"].filter(Boolean).join(" "),style:A,children:[(0,u.jsx)(ed,{CustomComponent:C,Fallback:(0,u.jsx)(lC,{label:s,localized:c,path:k,required:d})}),(0,u.jsxs)("div",{className:"".concat(aM,"__wrap"),children:[(0,u.jsx)(ed,{CustomComponent:j,Fallback:(0,u.jsx)(t9,{path:k,showError:E})}),x,(0,u.jsx)(ow,{defaultLanguage:oj[i]||i,onChange:T,onMount:p,options:a,readOnly:f||S,recalculatedHeightAt:v,value:D.current,wrapperProps:{id:"field-".concat(null==k?void 0:k.replace(/\./g,"__"))},...r||{}}),y]}),(0,u.jsx)(ed,{CustomComponent:w,Fallback:(0,u.jsx)(t7,{description:l,path:k})})]})}),oS=e=>e.reduce((e,t)=>{var n;let l="fields"in t?t.fields:void 0;return l?(0,m.Z7)(t)?e.push("".concat(t.name,".")):e.push(...oS(l)):"tabs"===t.type?"tabs"in t&&(null==(n=t.tabs)||n.forEach(t=>{"name"in t?e.push("".concat(t.name,".")):e.push(...oS(t.fields))})):(0,m.Z7)(t)&&e.push(t.name),e},[]),o_=e=>{let t,n=(0,f.c)(12),{fields:l,path:a,setErrorCount:o}=e,[r]=eM(),i=eT(),s;n[0]!==l?(s=oS(l),n[0]=l,n[1]=s):s=n[1];let c=s,u;return n[2]!==r||n[3]!==i||n[4]!==a||n[5]!==c||n[6]!==o?(u=()=>{if(i){let e=0;Object.entries(r).forEach(t=>{let[n]=t;if(null==c?void 0:c.some(e=>{let t=[...a,e].join(".");return t.endsWith(".")?n.startsWith(t):n===t})){let t=r[n];"valid"in t&&!t.valid&&(e+=1)}}),o(e)}},n[2]=r,n[3]=i,n[4]=a,n[5]=c,n[6]=o,n[7]=u):u=n[7],n[8]!==l||n[9]!==r||n[10]!==i?(t=[r,i,l],n[8]=l,n[9]=r,n[10]=i,n[11]=t):t=n[11],lk(u,250,t),null},ok="collapsible-field",oN=aO(e=>{let{field:t,field:{admin:{className:n,description:l,initCollapsed:a=!1}={},fields:r,label:i}={},indexPath:c,parentPath:p,parentSchemaPath:h,path:f,permissions:m,readOnly:g}=e,{i18n:v}=(0,s.d)(),{getPreference:b,setPreference:y}=av(),{preferencesKey:x}=aC(),[w,j]=(0,o.useState)(),C="collapsible-".concat(null==f?void 0:f.replace(/\./g,"__")),[S,_]=(0,o.useState)(0),k=S>0,{customComponents:{AfterInput:N,BeforeInput:E,Description:P,Label:D}={},disabled:T}=aA({path:f}),A=(0,o.useCallback)(async e=>{var t,n;let l=await b(x);x&&y(x,{...l,...f?{fields:{...(null==l?void 0:l.fields)||{},[f]:{...null==l||null==(t=l.fields)?void 0:t[f],collapsed:e}}}:{fields:{...(null==l?void 0:l.fields)||{},[C]:{...null==l||null==(n=l.fields)?void 0:n[C],collapsed:e}}}})},[x,C,b,y,f]);(0,o.useEffect)(()=>{(async()=>{if(x){var e,t,n,l;let o=await b(x),r=f?null==o||null==(t=o.fields)||null==(e=t[f])?void 0:e.collapsed:null==o||null==(l=o.fields)||null==(n=l[C])?void 0:n.collapsed;j(void 0!==r?!!r:"boolean"==typeof a&&a)}else j("boolean"==typeof a&&a)})()},[b,x,C,a,f]);let R=(0,o.useMemo)(()=>aF(t),[t]);return"boolean"!=typeof w?null:(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(o_,{fields:r,path:f.split(".").slice(0,-1),setErrorCount:_}),(0,u.jsxs)("div",{className:[aM,ok,n,k?"".concat(ok,"--has-error"):"".concat(ok,"--has-no-error")].filter(Boolean).join(" "),id:"field-".concat(C),style:R,children:[E,(0,u.jsx)(a1,{className:"".concat(ok,"__collapsible"),collapsibleStyle:k?"error":"default",header:(0,u.jsxs)("div",{className:"".concat(ok,"__row-label-wrap"),children:[(0,u.jsx)(eU,{CustomComponent:D,label:(0,d.s)(i,v),path:f}),k&&(0,u.jsx)(t4,{count:S,i18n:v,withMessage:!0})]}),initCollapsed:w,onToggle:A,children:(0,u.jsx)(hL,{fields:r,margins:"small",parentIndexPath:c,parentPath:p,parentSchemaPath:h,permissions:m,readOnly:g||T})}),N,(0,u.jsx)(ed,{CustomComponent:P,Fallback:(0,u.jsx)(t7,{description:l,path:f})})]})]})}),oE=(0,o.lazy)(()=>n.e(5507).then(n.bind(n,35507))),oP=e=>(0,u.jsx)(o.Suspense,{fallback:(0,u.jsx)(i.f,{height:50}),children:(0,u.jsx)(oE,{...e})});function oD(e){return(oD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oT(e){var t=function(e,t){if("object"!=oD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!=oD(l))return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oD(t)?t:t+""}function oA(e,t,n){return(t=oT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,l)}return n}function oL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oR(Object(n),!0).forEach(function(t){oA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=Array(t);n<t;n++)l[n]=e[n];return l}function oF(e,t){if(e){if("string"==typeof e)return oO(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oO(e,t):void 0}}function oM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var l,a,o,r,i=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(l=o.call(n)).done)&&(i.push(l.value),i.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(c)throw a}}return i}}(e,t)||oF(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oI(e,t){if(null==e)return{};var n,l,a=no(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(l=0;l<o.length;l++)n=o[l],t.includes(n)||({}).propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var oB=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function oz(e){var t=e.defaultInputValue,n=e.defaultMenuIsOpen,l=e.defaultValue,a=e.inputValue,r=e.menuIsOpen,i=e.onChange,s=e.onInputChange,c=e.onMenuClose,u=e.onMenuOpen,d=e.value,p=oI(e,oB),h=oM((0,o.useState)(void 0!==a?a:void 0===t?"":t),2),f=h[0],m=h[1],g=oM((0,o.useState)(void 0!==r?r:void 0!==n&&n),2),v=g[0],b=g[1],y=oM((0,o.useState)(void 0!==d?d:void 0===l?null:l),2),x=y[0],w=y[1],j=(0,o.useCallback)(function(e,t){"function"==typeof i&&i(e,t),w(e)},[i]),C=(0,o.useCallback)(function(e,t){var n;"function"==typeof s&&(n=s(e,t)),m(void 0!==n?n:e)},[s]),S=(0,o.useCallback)(function(){"function"==typeof u&&u(),b(!0)},[u]),_=(0,o.useCallback)(function(){"function"==typeof c&&c(),b(!1)},[c]),k=void 0!==a?a:f,N=void 0!==r?r:v,E=void 0!==d?d:x;return oL(oL({},p),{},{inputValue:k,menuIsOpen:N,onChange:j,onInputChange:C,onMenuClose:_,onMenuOpen:S,value:E})}function oU(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,oT(l.key),l)}}function oV(e){return(oV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(oH=function(){return!!e})()}function oq(e){return function(e){if(Array.isArray(e))return oO(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||oF(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var oW=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(((t=document.createElement("style")).setAttribute("data-emotion",this.key),void 0!==this.nonce&&t.setAttribute("nonce",this.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t));var t,n=this.tags[this.tags.length-1];if(this.isSpeedy){var l=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{l.insertRule(e,l.cssRules.length)}catch(e){}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),oK="-ms-",oQ="-moz-",oY="-webkit-",oG="comm",oX="rule",o$="decl",oZ="@keyframes",oJ=Math.abs,o0=String.fromCharCode,o1=Object.assign;function o3(e,t,n){return e.replace(t,n)}function o2(e,t){return e.indexOf(t)}function o6(e,t){return 0|e.charCodeAt(t)}function o5(e,t,n){return e.slice(t,n)}function o4(e){return e.length}function o8(e,t){return t.push(e),e}var o7=1,o9=1,re=0,rt=0,rn=0,rl="";function ra(e,t,n,l,a,o,r){return{value:e,root:t,parent:n,type:l,props:a,children:o,line:o7,column:o9,length:r,return:""}}function ro(e,t){return o1(ra("",null,null,"",null,null,0),e,{length:-e.length},t)}function rr(){return rn=rt<re?o6(rl,rt++):0,o9++,10===rn&&(o9=1,o7++),rn}function ri(){return o6(rl,rt)}function rs(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rc(e){return o7=o9=1,re=o4(rl=e),rt=0,[]}function ru(e){var t,n;return(t=rt-1,n=function e(t){for(;rr();)switch(rn){case t:return rt;case 34:case 39:34!==t&&39!==t&&e(rn);break;case 40:41===t&&e(t);break;case 92:rr()}return rt}(91===e?e+2:40===e?e+1:e),o5(rl,t,n)).trim()}function rd(e,t,n,l,a,o,r,i,s,c,u){for(var d=a-1,p=0===a?o:[""],h=p.length,f=0,m=0,g=0;f<l;++f)for(var v=0,b=o5(e,d+1,d=oJ(m=r[f])),y=e;v<h;++v)(y=(m>0?p[v]+" "+b:o3(b,/&\f/g,p[v])).trim())&&(s[g++]=y);return ra(e,t,n,0===a?oX:i,s,c,u)}function rp(e,t,n,l){return ra(e,t,n,o$,o5(e,0,l),o5(e,l+1,-1),l)}function rh(e,t){for(var n="",l=e.length,a=0;a<l;a++)n+=t(e[a],a,e,t)||"";return n}function rf(e,t,n,l){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case o$:return e.return=e.return||e.value;case oG:return"";case oZ:return e.return=e.value+"{"+rh(e.children,l)+"}";case oX:e.value=e.props.join(",")}return o4(n=rh(e.children,l))?e.return=e.value+"{"+n+"}":""}var rm=function(e,t,n){for(var l=0,a=0;l=a,a=ri(),38===l&&12===a&&(t[n]=1),!rs(a);)rr();return o5(rl,e,rt)},rg=function(e,t){var n=-1,l=44;do switch(rs(l)){case 0:38===l&&12===ri()&&(t[n]=1),e[n]+=rm(rt-1,t,n);break;case 2:e[n]+=ru(l);break;case 4:if(44===l){e[++n]=58===ri()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o0(l)}while(l=rr());return e},rv=function(e,t){var n;return n=rg(rc(e),t),rl="",n},rb=new WeakMap,ry=function(e){if(!("rule"!==e.type||!e.parent||e.length<1)){for(var t=e.value,n=e.parent,l=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if(!(1===e.props.length&&58!==t.charCodeAt(0)&&!rb.get(n))&&!l){rb.set(e,!0);for(var a=[],o=rv(t,a),r=n.props,i=0,s=0;i<o.length;i++)for(var c=0;c<r.length;c++,s++)e.props[s]=a[i]?o[i].replace(/&\f/g,r[c]):r[c]+" "+o[i]}}},rx=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},rw=[function(e,t,n,l){if(e.length>-1&&!e.return)switch(e.type){case o$:e.return=function e(t,n){switch(45^o6(t,0)?(((n<<2^o6(t,0))<<2^o6(t,1))<<2^o6(t,2))<<2^o6(t,3):0){case 5103:return oY+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return oY+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return oY+t+oQ+t+oK+t+t;case 6828:case 4268:return oY+t+oK+t+t;case 6165:return oY+t+oK+"flex-"+t+t;case 5187:return oY+t+o3(t,/(\w+).+(:[^]+)/,oY+"box-$1$2"+oK+"flex-$1$2")+t;case 5443:return oY+t+oK+"flex-item-"+o3(t,/flex-|-self/,"")+t;case 4675:return oY+t+oK+"flex-line-pack"+o3(t,/align-content|flex-|-self/,"")+t;case 5548:return oY+t+oK+o3(t,"shrink","negative")+t;case 5292:return oY+t+oK+o3(t,"basis","preferred-size")+t;case 6060:return oY+"box-"+o3(t,"-grow","")+oY+t+oK+o3(t,"grow","positive")+t;case 4554:return oY+o3(t,/([^-])(transform)/g,"$1"+oY+"$2")+t;case 6187:return o3(o3(o3(t,/(zoom-|grab)/,oY+"$1"),/(image-set)/,oY+"$1"),t,"")+t;case 5495:case 3959:return o3(t,/(image-set\([^]*)/,oY+"$1$`$1");case 4968:return o3(o3(t,/(.+:)(flex-)?(.*)/,oY+"box-pack:$3"+oK+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+oY+t+t;case 4095:case 3583:case 4068:case 2532:return o3(t,/(.+)-inline(.+)/,oY+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(o4(t)-1-n>6)switch(o6(t,n+1)){case 109:if(45!==o6(t,n+4))break;case 102:return o3(t,/(.+:)(.+)-([^]+)/,"$1"+oY+"$2-$3$1"+oQ+(108==o6(t,n+3)?"$3":"$2-$3"))+t;case 115:return~o2(t,"stretch")?e(o3(t,"stretch","fill-available"),n)+t:t}break;case 4949:if(115!==o6(t,n+1))break;case 6444:switch(o6(t,o4(t)-3-(~o2(t,"!important")&&10))){case 107:return o3(t,":",":"+oY)+t;case 101:return o3(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+oY+(45===o6(t,14)?"inline-":"")+"box$3$1"+oY+"$2$3$1"+oK+"$2box$3")+t}break;case 5936:switch(o6(t,n+11)){case 114:return oY+t+oK+o3(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return oY+t+oK+o3(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return oY+t+oK+o3(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return oY+t+oK+t+t}return t}(e.value,e.length);break;case oZ:return rh([ro(e,{value:o3(e.value,"@","@"+oY)})],l);case oX:if(e.length){var a,o;return a=e.props,o=function(t){var n;switch(n=t,(n=/(::plac\w+|:read-\w+)/.exec(n))?n[0]:n){case":read-only":case":read-write":return rh([ro(e,{props:[o3(t,/:(read-\w+)/,":"+oQ+"$1")]})],l);case"::placeholder":return rh([ro(e,{props:[o3(t,/:(plac\w+)/,":"+oY+"input-$1")]}),ro(e,{props:[o3(t,/:(plac\w+)/,":"+oQ+"$1")]}),ro(e,{props:[o3(t,/:(plac\w+)/,oK+"input-$1")]})],l)}return""},a.map(o).join("")}}}],rj=function(e,t,n){var l=e.key+"-"+t.name;!1===n&&void 0===e.registered[l]&&(e.registered[l]=t.styles)},rC=function(e,t,n){rj(e,t,n);var l=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do e.insert(t===a?"."+l:"",a,e.sheet,!0),a=a.next;while(void 0!==a)}},rS={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},r_=/[A-Z]|^ms/g,rk=/_EMO_([^_]+?)_([^]*?)_EMO_/g,rN=function(e){return 45===e.charCodeAt(1)},rE=function(e){return null!=e&&"boolean"!=typeof e},rP=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){return rN(e)?e:e.replace(r_,"-$&").toLowerCase()}),rD=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(rk,function(e,t,n){return rA={name:t,styles:n,next:rA},t})}return 1===rS[e]||rN(e)||"number"!=typeof t||0===t?t:t+"px"};function rT(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return rA={name:n.name,styles:n.styles,next:rA},n.name;if(void 0!==n.styles){var l=n.next;if(void 0!==l)for(;void 0!==l;)rA={name:l.name,styles:l.styles,next:rA},l=l.next;return n.styles+";"}return function(e,t,n){var l="";if(Array.isArray(n))for(var a=0;a<n.length;a++)l+=rT(e,t,n[a])+";";else for(var o in n){var r=n[o];if("object"!=typeof r)null!=t&&void 0!==t[r]?l+=o+"{"+t[r]+"}":rE(r)&&(l+=rP(o)+":"+rD(o,r)+";");else if(Array.isArray(r)&&"string"==typeof r[0]&&(null==t||void 0===t[r[0]]))for(var i=0;i<r.length;i++)rE(r[i])&&(l+=rP(o)+":"+rD(o,r[i])+";");else{var s=rT(e,t,r);switch(o){case"animation":case"animationName":l+=rP(o)+":"+s+";";break;default:l+=o+"{"+s+"}"}}}return l}(e,t,n);case"function":if(void 0!==e){var a=rA,o=n(e);return rA=a,rT(e,t,o)}}if(null==t)return n;var r=t[n];return void 0!==r?r:n}var rA,rR=/label:\s*([^\s;{]+)\s*(;|$)/g;function rL(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var l=!0,a="";rA=void 0;var o=e[0];null==o||void 0===o.raw?(l=!1,a+=rT(n,t,o)):a+=o[0];for(var r=1;r<e.length;r++)a+=rT(n,t,e[r]),l&&(a+=o[r]);rR.lastIndex=0;for(var i,s="";null!==(i=rR.exec(a));)s+="-"+i[1];return{name:function(e){for(var t,n=0,l=0,a=e.length;a>=4;++l,a-=4)t=(65535&(t=255&e.charCodeAt(l)|(255&e.charCodeAt(++l))<<8|(255&e.charCodeAt(++l))<<16|(255&e.charCodeAt(++l))<<24))*0x5bd1e995+((t>>>16)*59797<<16),t^=t>>>24,n=(65535&t)*0x5bd1e995+((t>>>16)*59797<<16)^(65535&n)*0x5bd1e995+((n>>>16)*59797<<16);switch(a){case 3:n^=(255&e.charCodeAt(l+2))<<16;case 2:n^=(255&e.charCodeAt(l+1))<<8;case 1:n^=255&e.charCodeAt(l),n=(65535&n)*0x5bd1e995+((n>>>16)*59797<<16)}return n^=n>>>13,(((n=(65535&n)*0x5bd1e995+((n>>>16)*59797<<16))^n>>>15)>>>0).toString(36)}(a)+s,styles:a,next:rA}}var rO=!!o.useInsertionEffect&&o.useInsertionEffect||function(e){return e()},rF=o.createContext("u">typeof HTMLElement?function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var l,a=e.stylisPlugins||rw,o={},r=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;r.push(e)});var i,s,c,u,d=(s=(i=[ry,rx].concat(a,[rf,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})])).length,function(e,t,n,l){for(var a="",o=0;o<s;o++)a+=i[o](e,t,n,l)||"";return a}),p=function(e){var t,n;return rh((n=function e(t,n,l,a,o,r,i,s,c){for(var u,d=0,p=0,h=i,f=0,m=0,g=0,v=1,b=1,y=1,x=0,w="",j=o,C=r,S=a,_=w;b;)switch(g=x,x=rr()){case 40:if(108!=g&&58==o6(_,h-1)){-1!=o2(_+=o3(ru(x),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:_+=ru(x);break;case 9:case 10:case 13:case 32:_+=function(e){for(;(rn=ri())&&rn<33;)rr();return rs(e)>2||rs(rn)>3?"":" "}(g);break;case 92:_+=function(e,t){for(var n;--t&&rr()&&!(rn<48||rn>102||rn>57&&rn<65||rn>70&&rn<97););return n=rt+(t<6&&32==ri()&&32==rr()),o5(rl,e,n)}(rt-1,7);continue;case 47:switch(ri()){case 42:case 47:o8((u=function(e,t){for(;rr()&&e+rn!==57&&(e+rn!==84||47!==ri()););return"/*"+o5(rl,t,rt-1)+"*"+o0(47===e?e:rr())}(rr(),rt),ra(u,n,l,oG,o0(rn),o5(u,2,-2),0)),c);break;default:_+="/"}break;case 123*v:s[d++]=o4(_)*y;case 125*v:case 59:case 0:switch(x){case 0:case 125:b=0;case 59+p:-1==y&&(_=o3(_,/\f/g,"")),m>0&&o4(_)-h&&o8(m>32?rp(_+";",a,l,h-1):rp(o3(_," ","")+";",a,l,h-2),c);break;case 59:_+=";";default:if(o8(S=rd(_,n,l,d,p,o,s,w,j=[],C=[],h),r),123===x)if(0===p)e(_,n,S,S,j,r,h,s,C);else switch(99===f&&110===o6(_,3)?100:f){case 100:case 108:case 109:case 115:e(t,S,S,a&&o8(rd(t,S,S,0,0,o,s,w,o,j=[],h),C),o,C,h,s,a?j:C);break;default:e(_,S,S,S,[""],C,0,s,C)}}d=p=m=0,v=y=1,w=_="",h=i;break;case 58:h=1+o4(_),m=g;default:if(v<1){if(123==x)--v;else if(125==x&&0==v++&&125==(rn=rt>0?o6(rl,--rt):0,o9--,10===rn&&(o9=1,o7--),rn))continue}switch(_+=o0(x),x*v){case 38:y=p>0?1:(_+="\f",-1);break;case 44:s[d++]=(o4(_)-1)*y,y=1;break;case 64:45===ri()&&(_+=ru(rr())),f=ri(),p=h=o4(w=_+=function(e){for(;!rs(ri());)rr();return o5(rl,e,rt)}(rt)),x++;break;case 45:45===g&&2==o4(_)&&(v=0)}}return r}("",null,null,null,[""],t=rc(t=e),0,[0],t),rl="",n),d)},h={key:t,sheet:new oW({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:function(e,t,n,l){u=n,p(e?e+"{"+t.styles+"}":t.styles),l&&(h.inserted[t.name]=!0)}};return h.sheet.hydrate(r),h}({key:"css"}):null);rF.Provider;var rM=o.createContext({}),rI={}.hasOwnProperty,rB="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",rz=function(e,t){var n={};for(var l in t)rI.call(t,l)&&(n[l]=t[l]);return n[rB]=e,n},rU=function(e){var t=e.cache,n=e.serialized,l=e.isStringTag;return rj(t,n,l),rO(function(){return rC(t,n,l)}),null},rV=(r7=function(e,t,n){var l,a,r,i=e.css;"string"==typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var s=e[rB],c=[i],u="";"string"==typeof e.className?(l=t.registered,a=e.className,r="",a.split(" ").forEach(function(e){void 0!==l[e]?c.push(l[e]+";"):e&&(r+=e+" ")}),u=r):null!=e.className&&(u=e.className+" ");var d=rL(c,void 0,o.useContext(rM));u+=t.key+"-"+d.name;var p={};for(var h in e)rI.call(e,h)&&"css"!==h&&h!==rB&&(p[h]=e[h]);return p.className=u,n&&(p.ref=n),o.createElement(o.Fragment,null,o.createElement(rU,{cache:t,serialized:d,isStringTag:"string"==typeof s}),o.createElement(s,p))},(0,o.forwardRef)(function(e,t){return r7(e,(0,o.useContext)(rF),t)}));(0,c.e)(ea());var rH=function(e,t){var n=arguments;if(null==t||!rI.call(t,"css"))return o.createElement.apply(void 0,n);var l=n.length,a=Array(l);a[0]=rV,a[1]=rz(e,t);for(var r=2;r<l;r++)a[r]=n[r];return o.createElement.apply(null,a)};function rq(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return rL(t)}!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(rH||(rH={})),(0,s.l)();var rW=o.useLayoutEffect,rK=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],rQ=function(){};function rY(e,t){for(var n=arguments.length,l=Array(n>2?n-2:0),a=2;a<n;a++)l[a-2]=arguments[a];var o=[].concat(l);if(t&&e)for(var r in t)t.hasOwnProperty(r)&&t[r]&&o.push("".concat(r?"-"===r[0]?e+r:e+"__"+r:e));return o.filter(function(e){return e}).map(function(e){return String(e).trim()}).join(" ")}var rG=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===oD(e)&&null!==e?[e]:[]},rX=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,oL({},oI(e,rK))},r$=function(e,t,n){var l=e.cx,a=e.getStyles,o=e.getClassNames,r=e.className;return{css:a(t,e),className:l(null!=n?n:{},o(t,e),r)}};function rZ(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function rJ(e){return rZ(e)?window.pageYOffset:e.scrollTop}function r0(e,t){if(rZ(e))return void window.scrollTo(0,t);e.scrollTop=t}function r1(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:rQ,a=rJ(e),o=t-a,r=0;!function t(){var i;r+=10,r0(e,o*((i=(i=r)/n-1)*i*i+1)+a),r<n?window.requestAnimationFrame(t):l(e)}()}function r3(e,t){var n=e.getBoundingClientRect(),l=t.getBoundingClientRect(),a=t.offsetHeight/3;l.bottom+a>n.bottom?r0(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+a,e.scrollHeight)):l.top-a<n.top&&r0(e,Math.max(t.offsetTop-a,0))}function r2(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var r6=!1,r5="u">typeof window?window:{};r5.addEventListener&&r5.removeEventListener&&(r5.addEventListener("p",rQ,{get passive(){return r6=!0}}),r5.removeEventListener("p",rQ,!1));var r4=r6;function r8(e){return null!=e}var r7,r9,ie=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];return Object.entries(e).filter(function(e){var t=oM(e,1)[0];return!n.includes(t)}).reduce(function(e,t){var n=oM(t,2),l=n[0],a=n[1];return e[l]=a,e},{})},it=["children","innerProps"],il=["children","innerProps"],ia=function(e){return"auto"===e?"bottom":e},io=(0,o.createContext)(null),ir=function(e){var t=e.children,n=e.minMenuHeight,l=e.maxMenuHeight,a=e.menuPlacement,r=e.menuPosition,i=e.menuShouldScrollIntoView,s=e.theme,c=((0,o.useContext)(io)||{}).setPortalPlacement,u=(0,o.useRef)(null),d=oM((0,o.useState)(l),2),p=d[0],h=d[1],f=oM((0,o.useState)(null),2),m=f[0],g=f[1],v=s.spacing.controlHeight;return rW(function(){var e=u.current;if(e){var t="fixed"===r,o=function(e){var t,n=e.maxHeight,l=e.menuEl,a=e.minHeight,o=e.placement,r=e.shouldScroll,i=e.isFixedPosition,s=e.controlHeight,c=function(e){var t=getComputedStyle(e),n="absolute"===t.position,l=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var a=e;a=a.parentElement;)if(t=getComputedStyle(a),!(n&&"static"===t.position)&&l.test(t.overflow+t.overflowY+t.overflowX))return a;return document.documentElement}(l),u={placement:"bottom",maxHeight:n};if(!l||!l.offsetParent)return u;var d=c.getBoundingClientRect().height,p=l.getBoundingClientRect(),h=p.bottom,f=p.height,m=p.top,g=l.offsetParent.getBoundingClientRect().top,v=i||rZ(t=c)?window.innerHeight:t.clientHeight,b=rJ(c),y=parseInt(getComputedStyle(l).marginBottom,10),x=parseInt(getComputedStyle(l).marginTop,10),w=g-x,j=v-m,C=w+b,S=d-b-m,_=h-v+b+y,k=b+m-x;switch(o){case"auto":case"bottom":if(j>=f)return{placement:"bottom",maxHeight:n};if(S>=f&&!i)return r&&r1(c,_,160),{placement:"bottom",maxHeight:n};if(!i&&S>=a||i&&j>=a)return r&&r1(c,_,160),{placement:"bottom",maxHeight:i?j-y:S-y};if("auto"===o||i){var N=n,E=i?w:C;return E>=a&&(N=Math.min(E-y-s,n)),{placement:"top",maxHeight:N}}if("bottom"===o)return r&&r0(c,_),{placement:"bottom",maxHeight:n};break;case"top":if(w>=f)return{placement:"top",maxHeight:n};if(C>=f&&!i)return r&&r1(c,k,160),{placement:"top",maxHeight:n};if(!i&&C>=a||i&&w>=a){var P=n;return(!i&&C>=a||i&&w>=a)&&(P=i?w-x:C-x),r&&r1(c,k,160),{placement:"top",maxHeight:P}}return{placement:"bottom",maxHeight:n};default:throw Error('Invalid placement provided "'.concat(o,'".'))}return u}({maxHeight:l,menuEl:e,minHeight:n,placement:a,shouldScroll:i&&!t,isFixedPosition:t,controlHeight:v});h(o.maxHeight),g(o.placement),null==c||c(o.placement)}},[l,a,r,i,n,c,v]),t({ref:u,placerProps:oL(oL({},e),{},{placement:m||ia(a),maxHeight:p})})},ii=function(e,t){var n=e.theme,l=n.spacing.baseUnit,a=n.colors;return oL({textAlign:"center"},t?{}:{color:a.neutral40,padding:"".concat(2*l,"px ").concat(3*l,"px")})},is=["size"],ic=["innerProps","isRtl","size"],iu={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},id=function(e){var t=e.size,n=oI(e,is);return rH("svg",na({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:iu},n))},ip=function(e){return rH(id,na({size:20},e),rH("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},ih=function(e){return rH(id,na({size:20},e),rH("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},im=function(e,t){var n=e.isFocused,l=e.theme,a=l.spacing.baseUnit,o=l.colors;return oL({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*a,":hover":{color:n?o.neutral80:o.neutral40}})},ig=function(){var e=rq.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(r9||(r9=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]))),iv=function(e){var t=e.delay,n=e.offset;return rH("span",{css:rq({animation:"".concat(ig," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},ib=["data"],iy=["innerRef","isDisabled","isHidden","inputClassName"],ix={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},iw={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":oL({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},ix)},ij=function(e){var t=e.children,n=e.innerProps;return rH("div",n,t)},iC={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return rH("div",na({},r$(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||rH(ip,null))},Control:function(e){var t=e.children,n=e.isDisabled,l=e.isFocused,a=e.innerRef,o=e.innerProps,r=e.menuIsOpen;return rH("div",na({ref:a},r$(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":l,"control--menu-is-open":r}),o,{"aria-disabled":n||void 0}),t)},DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return rH("div",na({},r$(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||rH(ih,null))},DownChevron:ih,CrossIcon:ip,Group:function(e){var t=e.children,n=e.cx,l=e.getStyles,a=e.getClassNames,o=e.Heading,r=e.headingProps,i=e.innerProps,s=e.label,c=e.theme,u=e.selectProps;return rH("div",na({},r$(e,"group",{group:!0}),i),rH(o,na({},r,{selectProps:u,theme:c,getStyles:l,getClassNames:a,cx:n}),s),rH("div",null,t))},GroupHeading:function(e){var t=rX(e);t.data;var n=oI(t,ib);return rH("div",na({},r$(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return rH("div",na({},r$(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return rH("span",na({},t,r$(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,l=rX(e),a=l.innerRef,o=l.isDisabled,r=l.isHidden,i=l.inputClassName,s=oI(l,iy);return rH("div",na({},r$(e,"input",{"input-container":!0}),{"data-value":n||""}),rH("input",na({className:t({input:!0},i),ref:a,style:oL({label:"input",color:"inherit",background:0,opacity:+!r,width:"100%"},ix),disabled:o},s)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,l=e.size,a=oI(e,ic);return rH("div",na({},r$(oL(oL({},a),{},{innerProps:t,isRtl:n,size:void 0===l?4:l}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),rH(iv,{delay:0,offset:n}),rH(iv,{delay:160,offset:!0}),rH(iv,{delay:320,offset:!n}))},Menu:function(e){var t=e.children,n=e.innerRef,l=e.innerProps;return rH("div",na({},r$(e,"menu",{menu:!0}),{ref:n},l),t)},MenuList:function(e){var t=e.children,n=e.innerProps,l=e.innerRef,a=e.isMulti;return rH("div",na({},r$(e,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:l},n),t)},MenuPortal:function(e){var t=e.appendTo,n=e.children,l=e.controlElement,a=e.innerProps,i=e.menuPlacement,c=e.menuPosition,u=(0,o.useRef)(null),d=(0,o.useRef)(null),p=oM((0,o.useState)(ia(i)),2),h=p[0],f=p[1],m=(0,o.useMemo)(function(){return{setPortalPlacement:f}},[]),g=oM((0,o.useState)(null),2),v=g[0],b=g[1],y=(0,o.useCallback)(function(){if(l){var e,t={bottom:(e=l.getBoundingClientRect()).bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width},n="fixed"===c?0:window.pageYOffset,a=t[h]+n;(a!==(null==v?void 0:v.offset)||t.left!==(null==v?void 0:v.rect.left)||t.width!==(null==v?void 0:v.rect.width))&&b({offset:a,rect:t})}},[l,c,h,null==v?void 0:v.offset,null==v?void 0:v.rect.left,null==v?void 0:v.rect.width]);rW(function(){y()},[y]);var x=(0,o.useCallback)(function(){"function"==typeof d.current&&(d.current(),d.current=null),l&&u.current&&(d.current=(0,s.k)(l,u.current,y,{elementResize:"ResizeObserver"in window}))},[l,y]);rW(function(){x()},[x]);var w=(0,o.useCallback)(function(e){u.current=e,x()},[x]);if(!t&&"fixed"!==c||!v)return null;var j=rH("div",na({ref:w},r$(oL(oL({},e),{},{offset:v.offset,position:c,rect:v.rect}),"menuPortal",{"menu-portal":!0}),a),n);return rH(io.Provider,{value:m},t?(0,r.createPortal)(j,t):j)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,l=e.innerProps,a=oI(e,il);return rH("div",na({},r$(oL(oL({},a),{},{children:n,innerProps:l}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),l),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,l=e.innerProps,a=oI(e,it);return rH("div",na({},r$(oL(oL({},a),{},{children:n,innerProps:l}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),l),n)},MultiValue:function(e){var t=e.children,n=e.components,l=e.data,a=e.innerProps,o=e.isDisabled,r=e.removeProps,i=e.selectProps,s=n.Container,c=n.Label,u=n.Remove;return rH(s,{data:l,innerProps:oL(oL({},r$(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),a),selectProps:i},rH(c,{data:l,innerProps:oL({},r$(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:i},t),rH(u,{data:l,innerProps:oL(oL({},r$(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},r),selectProps:i}))},MultiValueContainer:ij,MultiValueLabel:ij,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return rH("div",na({role:"button"},n),t||rH(ip,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,l=e.isFocused,a=e.isSelected,o=e.innerRef,r=e.innerProps;return rH("div",na({},r$(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":l,"option--is-selected":a}),{ref:o,"aria-disabled":n},r),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return rH("div",na({},r$(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,l=e.isDisabled,a=e.isRtl;return rH("div",na({},r$(e,"container",{"--is-disabled":l,"--is-rtl":a}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,l=e.innerProps;return rH("div",na({},r$(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),l),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,l=e.isMulti,a=e.hasValue;return rH("div",na({},r$(e,"valueContainer",{"value-container":!0,"value-container--is-multi":l,"value-container--has-value":a}),n),t)}},iS=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function i_(e,t){if(e.length!==t.length)return!1;for(var n,l,a=0;a<e.length;a++)if(!((n=e[a])===(l=t[a])||iS(n)&&iS(l)))return!1;return!0}var ik={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},iN=function(e){return rH("span",na({css:ik},e))},iE={guidance:function(e){var t=e.isSearchable,n=e.isMulti,l=e.tabSelectsValue,a=e.context,o=e.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(l?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,l=void 0===n?"":n,a=e.labels,o=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(l,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return o?"option ".concat(l," is disabled. Select another option."):"option ".concat(l,", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,l=e.options,a=e.label,o=void 0===a?"":a,r=e.selectValue,i=e.isDisabled,s=e.isSelected,c=e.isAppleDevice,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&r)return"value ".concat(o," focused, ").concat(u(r,n),".");if("menu"===t&&c){var d="".concat(s?" selected":"").concat(i?" disabled":"");return"".concat(o).concat(d,", ").concat(u(l,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},iP=function(e){var t=e.ariaSelection,n=e.focusedOption,l=e.focusedValue,a=e.focusableOptions,r=e.isFocused,i=e.selectValue,s=e.selectProps,c=e.id,u=e.isAppleDevice,d=s.ariaLiveMessages,p=s.getOptionLabel,h=s.inputValue,f=s.isMulti,m=s.isOptionDisabled,g=s.isSearchable,v=s.menuIsOpen,b=s.options,y=s.screenReaderStatus,x=s.tabSelectsValue,w=s.isLoading,j=s["aria-label"],C=s["aria-live"],S=(0,o.useMemo)(function(){return oL(oL({},iE),d||{})},[d]),_=(0,o.useMemo)(function(){var e="";if(t&&S.onChange){var n=t.option,l=t.options,a=t.removedValue,o=t.removedValues,r=t.value,s=a||n||(Array.isArray(r)?null:r),c=s?p(s):"",u=l||o||void 0,d=u?u.map(p):[],h=oL({isDisabled:s&&m(s,i),label:c,labels:d},t);e=S.onChange(h)}return e},[t,S,m,i,p]),k=(0,o.useMemo)(function(){var e="",t=n||l,o=!!(n&&i&&i.includes(n));if(t&&S.onFocus){var r={focused:t,label:p(t),isDisabled:m(t,i),isSelected:o,options:a,context:t===n?"menu":"value",selectValue:i,isAppleDevice:u};e=S.onFocus(r)}return e},[n,l,p,m,S,a,i,u]),N=(0,o.useMemo)(function(){var e="";if(v&&b.length&&!w&&S.onFilter){var t=y({count:a.length});e=S.onFilter({inputValue:h,resultsMessage:t})}return e},[a,h,v,S,b,y,w]),E=(null==t?void 0:t.action)==="initial-input-focus",P=(0,o.useMemo)(function(){var e="";if(S.guidance){var t=l?"value":v?"menu":"input";e=S.guidance({"aria-label":j,context:t,isDisabled:n&&m(n,i),isMulti:f,isSearchable:g,tabSelectsValue:x,isInitialFocus:E})}return e},[j,n,l,f,m,g,v,S,i,x,E]),D=rH(o.Fragment,null,rH("span",{id:"aria-selection"},_),rH("span",{id:"aria-focused"},k),rH("span",{id:"aria-results"},N),rH("span",{id:"aria-guidance"},P));return rH(o.Fragment,null,rH(iN,{id:c},E&&D),rH(iN,{"aria-live":C,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},r&&!E&&D))},iD=[{base:"A",letters:"A\xc0\xc1\xc2\xc3\xc4\xc5"},{base:"AA",letters:""},{base:"AE",letters:"\xc6"},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C\xc7"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E\xc8\xc9\xca\xcb"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I\xcc\xcd\xce\xcf"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N\xd1"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O\xd2\xd3\xd4\xd5\xd6\xd8"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U\xd9\xda\xdb\xdc"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y\xdd"},{base:"Z",letters:"Z"},{base:"a",letters:"a\xe0\xe1\xe2\xe3\xe4\xe5"},{base:"aa",letters:""},{base:"ae",letters:"\xe6"},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c\xe7"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e\xe8\xe9\xea\xeb"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i\xec\xed\xee\xef"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n\xf1"},{base:"nj",letters:""},{base:"o",letters:"o\xf2\xf3\xf4\xf5\xf6\xf8"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s\xdf"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u\xf9\xfa\xfb\xfc"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y\xfd\xff"},{base:"z",letters:"z"}],iT=RegExp("["+iD.map(function(e){return e.letters}).join("")+"]","g"),iA={};for(iO=0;iO<iD.length;iO++)for(iR=iD[iO],iL=0;iL<iR.letters.length;iL++)iA[iR.letters[iL]]=iR.base;var iR,iL,iO,iF=function(e){return e.replace(iT,function(e){return iA[e]})},iM=function(e,t){void 0===t&&(t=i_);var n=null;function l(){for(var l=[],a=0;a<arguments.length;a++)l[a]=arguments[a];if(n&&n.lastThis===this&&t(l,n.lastArgs))return n.lastResult;var o=e.apply(this,l);return n={lastResult:o,lastArgs:l,lastThis:this},o}return l.clear=function(){n=null},l}(iF),iI=function(e){return e.replace(/^\s+|\s+$/g,"")},iB=function(e){return"".concat(e.label," ").concat(e.value)},iz=["innerRef"];function iU(e){var t=e.innerRef,n=ie(oI(e,iz),"onExited","in","enter","exit","appear");return rH("input",na({ref:t},n,{css:rq({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var iV=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()},iH=["boxSizing","height","overflow","paddingRight","position"],iq={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function iW(e){e.cancelable&&e.preventDefault()}function iK(e){e.stopPropagation()}function iQ(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function iY(){return"ontouchstart"in window||navigator.maxTouchPoints}var iG=!!("u">typeof window&&window.document&&window.document.createElement),iX=0,i$={capture:!1,passive:!1},iZ=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},iJ={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function i0(e){var t,n,l,a,r,i,s,c,u,d,p,h,f,m,g,v,b,y,x,w,j,C,S,_,k=e.children,N=e.lockEnabled,E=e.captureEnabled,P=(n=(t={isEnabled:void 0===E||E,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}).isEnabled,l=t.onBottomArrive,a=t.onBottomLeave,r=t.onTopArrive,i=t.onTopLeave,s=(0,o.useRef)(!1),c=(0,o.useRef)(!1),u=(0,o.useRef)(0),d=(0,o.useRef)(null),p=(0,o.useCallback)(function(e,t){if(null!==d.current){var n=d.current,o=n.scrollTop,u=n.scrollHeight,p=n.clientHeight,h=d.current,f=t>0,m=u-p-o,g=!1;m>t&&s.current&&(a&&a(e),s.current=!1),f&&c.current&&(i&&i(e),c.current=!1),f&&t>m?(l&&!s.current&&l(e),h.scrollTop=u,g=!0,s.current=!0):!f&&-t>o&&(r&&!c.current&&r(e),h.scrollTop=0,g=!0,c.current=!0),g&&iV(e)}},[l,a,r,i]),h=(0,o.useCallback)(function(e){p(e,e.deltaY)},[p]),f=(0,o.useCallback)(function(e){u.current=e.changedTouches[0].clientY},[]),m=(0,o.useCallback)(function(e){var t=u.current-e.changedTouches[0].clientY;p(e,t)},[p]),g=(0,o.useCallback)(function(e){if(e){var t=!!r4&&{passive:!1};e.addEventListener("wheel",h,t),e.addEventListener("touchstart",f,t),e.addEventListener("touchmove",m,t)}},[m,f,h]),v=(0,o.useCallback)(function(e){e&&(e.removeEventListener("wheel",h,!1),e.removeEventListener("touchstart",f,!1),e.removeEventListener("touchmove",m,!1))},[m,f,h]),(0,o.useEffect)(function(){if(n){var e=d.current;return g(e),function(){v(e)}}},[n,g,v]),function(e){d.current=e}),D=(y=(b={isEnabled:N}).isEnabled,w=void 0===(x=b.accountForScrollbars)||x,j=(0,o.useRef)({}),C=(0,o.useRef)(null),S=(0,o.useCallback)(function(e){if(iG){var t=document.body,n=t&&t.style;if(w&&iH.forEach(function(e){var t=n&&n[e];j.current[e]=t}),w&&iX<1){var l=parseInt(j.current.paddingRight,10)||0,a=document.body?document.body.clientWidth:0,o=window.innerWidth-a+l||0;Object.keys(iq).forEach(function(e){var t=iq[e];n&&(n[e]=t)}),n&&(n.paddingRight="".concat(o,"px"))}t&&iY()&&(t.addEventListener("touchmove",iW,i$),e&&(e.addEventListener("touchstart",iQ,i$),e.addEventListener("touchmove",iK,i$))),iX+=1}},[w]),_=(0,o.useCallback)(function(e){if(iG){var t=document.body,n=t&&t.style;iX=Math.max(iX-1,0),w&&iX<1&&iH.forEach(function(e){var t=j.current[e];n&&(n[e]=t)}),t&&iY()&&(t.removeEventListener("touchmove",iW,i$),e&&(e.removeEventListener("touchstart",iQ,i$),e.removeEventListener("touchmove",iK,i$)))}},[w]),(0,o.useEffect)(function(){if(y){var e=C.current;return S(e),function(){_(e)}}},[y,S,_]),function(e){C.current=e});return rH(o.Fragment,null,N&&rH("div",{onClick:iZ,css:iJ}),k(function(e){P(e),D(e)}))}var i1={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},i3=function(e){var t=e.name,n=e.onFocus;return rH("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:i1,value:"",onChange:function(){}})};function i2(e){var t;return"u">typeof window&&null!=window.navigator&&e.test((null==(t=window.navigator.userAgentData)?void 0:t.platform)||window.navigator.platform)}var i6=function(e){return e.label},i5=function(e){return e.value},i4={clearIndicator:im,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,l=e.isFocused,a=e.theme,o=a.colors,r=a.borderRadius;return oL({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:l?o.primary:o.neutral20,borderRadius:r,borderStyle:"solid",borderWidth:1,boxShadow:l?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:l?o.primary:o.neutral30}})},dropdownIndicator:im,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,l=n.colors,a=n.spacing;return oL({label:"group",cursor:"default",display:"block"},t?{}:{color:l.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*a.baseUnit,paddingRight:3*a.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,l=e.theme,a=l.spacing.baseUnit,o=l.colors;return oL({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:2*a,marginTop:2*a})},input:function(e,t){var n=e.isDisabled,l=e.value,a=e.theme,o=a.spacing,r=a.colors;return oL(oL({visibility:n?"hidden":"visible",transform:l?"translateZ(0)":""},iw),t?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:r.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,l=e.size,a=e.theme,o=a.colors,r=a.spacing.baseUnit;return oL({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:l,lineHeight:1,marginRight:l,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*r})},loadingMessage:ii,menu:function(e,t){var n,l=e.placement,a=e.theme,o=a.borderRadius,r=a.spacing,i=a.colors;return oL((oA(n={label:"menu"},l?({bottom:"top",top:"bottom"})[l]:"bottom","100%"),oA(n,"position","absolute"),oA(n,"width","100%"),oA(n,"zIndex",1),n),t?{}:{backgroundColor:i.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:r.menuGutter,marginTop:r.menuGutter})},menuList:function(e,t){var n=e.maxHeight,l=e.theme.spacing.baseUnit;return oL({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:l,paddingTop:l})},menuPortal:function(e){var t=e.rect,n=e.offset,l=e.position;return{left:t.left,position:l,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,l=n.spacing,a=n.borderRadius,o=n.colors;return oL({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:o.neutral10,borderRadius:a/2,margin:l.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,l=n.borderRadius,a=n.colors,o=e.cropWithEllipsis;return oL({overflow:"hidden",textOverflow:o||void 0===o?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:l/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,l=n.spacing,a=n.borderRadius,o=n.colors,r=e.isFocused;return oL({alignItems:"center",display:"flex"},t?{}:{borderRadius:a/2,backgroundColor:r?o.dangerLight:void 0,paddingLeft:l.baseUnit,paddingRight:l.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},noOptionsMessage:ii,option:function(e,t){var n=e.isDisabled,l=e.isFocused,a=e.isSelected,o=e.theme,r=o.spacing,i=o.colors;return oL({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:a?i.primary:l?i.primary25:"transparent",color:n?i.neutral20:a?i.neutral0:"inherit",padding:"".concat(2*r.baseUnit,"px ").concat(3*r.baseUnit,"px"),":active":{backgroundColor:n?void 0:a?i.primary:i.primary50}})},placeholder:function(e,t){var n=e.theme,l=n.spacing,a=n.colors;return oL({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:a.neutral50,marginLeft:l.baseUnit/2,marginRight:l.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,l=e.theme,a=l.spacing,o=l.colors;return oL({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?o.neutral40:o.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,l=e.isMulti,a=e.hasValue,o=e.selectProps.controlShouldRenderValue;return oL({alignItems:"center",display:l&&a&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}},i8={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},i7={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:r2(),captureMenuScroll:!r2(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=oL({ignoreCase:!0,ignoreAccents:!0,stringify:iB,trim:!0,matchFrom:"any"},void 0),l=n.ignoreCase,a=n.ignoreAccents,o=n.stringify,r=n.trim,i=n.matchFrom,s=r?iI(t):t,c=r?iI(o(e)):o(e);return l&&(s=s.toLowerCase(),c=c.toLowerCase()),a&&(s=iM(s),c=iF(c)),"start"===i?c.substr(0,s.length)===s:c.indexOf(s)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:i6,getOptionValue:i5,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function i9(e,t,n,l){var a=si(e,t,n),o=ss(e,t,n),r=so(e,t),i=sr(e,t);return{type:"option",data:t,isDisabled:a,isSelected:o,label:r,value:i,index:l}}function se(e,t){return e.options.map(function(n,l){if("options"in n){var a=n.options.map(function(n,l){return i9(e,n,t,l)}).filter(function(t){return sl(e,t)});return a.length>0?{type:"group",data:n,options:a,index:l}:void 0}var o=i9(e,n,t,l);return sl(e,o)?o:void 0}).filter(r8)}function st(e){return e.reduce(function(e,t){return"group"===t.type?e.push.apply(e,oq(t.options.map(function(e){return e.data}))):e.push(t.data),e},[])}function sn(e,t){return e.reduce(function(e,n){return"group"===n.type?e.push.apply(e,oq(n.options.map(function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}}))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e},[])}function sl(e,t){var n=e.inputValue,l=t.data,a=t.isSelected,o=t.label,r=t.value;return(!su(e)||!a)&&sc(e,{label:o,value:r,data:l},void 0===n?"":n)}var sa=function(e,t){var n;return(null==(n=e.find(function(e){return e.data===t}))?void 0:n.id)||null},so=function(e,t){return e.getOptionLabel(t)},sr=function(e,t){return e.getOptionValue(t)};function si(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function ss(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var l=sr(e,t);return n.some(function(t){return sr(e,t)===l})}function sc(e,t,n){return!e.filterOption||e.filterOption(t,n)}var su=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},sd=1,sp=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&nr(r,e);var t,n,l,a=(t=oH(),function(){var e,n=oV(r);e=t?Reflect.construct(n,arguments,oV(this).constructor):n.apply(this,arguments);if(e&&("object"==oD(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return this});function r(e){var t;if(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),(t=a.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.isAppleDevice=i2(/^Mac/i)||i2(/^iPhone/i)||i2(/^iPad/i)||i2(/^Mac/i)&&navigator.maxTouchPoints>1,t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var l=t.props,a=l.onChange;n.name=l.name,t.ariaOnChange(e,n),a(e,n)},t.setValue=function(e,n,l){var a=t.props,o=a.closeMenuOnSelect,r=a.isMulti,i=a.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:i}),o&&(t.setState({inputIsHiddenAfterUpdate:!r}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:l})},t.selectOption=function(e){var n=t.props,l=n.blurInputOnSelect,a=n.isMulti,o=n.name,r=t.state.selectValue,i=a&&t.isOptionSelected(e,r),s=t.isOptionDisabled(e,r);if(i){var c=t.getOptionValue(e);t.setValue(r.filter(function(e){return t.getOptionValue(e)!==c}),"deselect-option",e)}else{if(s)return void t.ariaOnChange(e,{action:"select-option",option:e,name:o});a?t.setValue([].concat(oq(r),[e]),"select-option",e):t.setValue(e,"select-option")}l&&t.blurInput()},t.removeValue=function(e){var n,l=t.props.isMulti,a=t.state.selectValue,o=t.getOptionValue(e),r=a.filter(function(e){return t.getOptionValue(e)!==o}),i=(n=r[0]||null,l?r:n);t.onChange(i,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e,n,l=t.state.selectValue;t.onChange((e=t.props.isMulti,n=[],e?n:null),{action:"clear",removedValues:l})},t.popValue=function(){var e,n=t.props.isMulti,l=t.state.selectValue,a=l[l.length-1],o=l.slice(0,l.length-1),r=(e=o[0]||null,n?o:e);a&&t.onChange(r,{action:"pop-value",removedValue:a})},t.getFocusedOptionId=function(e){return sa(t.state.focusableOptionsWithIds,e)},t.getFocusableOptionsWithIds=function(){return sn(se(t.props,t.state.selectValue),t.getElementId("option"))},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=Array(e),l=0;l<e;l++)n[l]=arguments[l];return rY.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return so(t.props,e)},t.getOptionValue=function(e){return sr(t.props,e)},t.getStyles=function(e,n){var l=t.props.unstyled,a=i4[e](n,l);a.boxSizing="border-box";var o=t.props.styles[e];return o?o(a,n):a},t.getClassNames=function(e,n){var l,a;return null==(l=(a=t.props.classNames)[e])?void 0:l.call(a,n)},t.getElementId=function(e){return"".concat(t.state.instancePrefix,"-").concat(e)},t.getComponents=function(){var e;return e=t.props,oL(oL({},iC),e.components)},t.buildCategorizedOptions=function(){return se(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return st(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:oL({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button)&&!t.props.isDisabled){var n=t.props,l=n.isMulti,a=n.menuIsOpen;t.focusInput(),a?(t.setState({inputIsHiddenAfterUpdate:!l}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout(function(){return t.focusInput()}))},t.onScroll=function(e){"boolean"==typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&rZ(e.target)&&t.props.onMenuClose():"function"==typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,l=n&&n.item(0);l&&(t.initialTouchX=l.clientX,t.initialTouchY=l.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,l=n&&n.item(0);if(l){var a=Math.abs(l.clientX-t.initialTouchX),o=Math.abs(l.clientY-t.initialTouchY);t.userIsDragging=a>5||o>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=t.props.inputValue,l=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(l,{action:"input-change",prevInputValue:n}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var n=t.props.inputValue;if(t.menuListRef&&t.menuListRef.contains(document.activeElement))return void t.inputRef.focus();t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:n}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1})},t.onOptionHover=function(e){if(!(t.blockOptionHover||t.state.focusedOption===e)){var n=t.getFocusableOptions().indexOf(e);t.setState({focusedOption:e,focusedOptionId:n>-1?t.getFocusedOptionId(e):null})}},t.shouldHideSelectedOptions=function(){return su(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var n=t.props,l=n.isMulti,a=n.backspaceRemovesValue,o=n.escapeClearsValue,r=n.inputValue,i=n.isClearable,s=n.isDisabled,c=n.menuIsOpen,u=n.onKeyDown,d=n.tabSelectsValue,p=n.openMenuOnFocus,h=t.state,f=h.focusedOption,m=h.focusedValue,g=h.selectValue;if(!s&&!("function"==typeof u&&(u(e),e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!l||r)return;t.focusValue("previous");break;case"ArrowRight":if(!l||r)return;t.focusValue("next");break;case"Delete":case"Backspace":if(r)return;if(m)t.removeValue(m);else{if(!a)return;l?t.popValue():i&&t.clearValue()}break;case"Tab":if(t.isComposing||e.shiftKey||!c||!d||!f||p&&t.isOptionSelected(f,g))return;t.selectOption(f);break;case"Enter":if(229===e.keyCode)break;if(c){if(!f||t.isComposing)return;t.selectOption(f);break}return;case"Escape":c?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:r}),t.onMenuClose()):i&&o&&t.clearValue();break;case" ":if(r)return;if(!c){t.openMenu("first");break}if(!f)return;t.selectOption(f);break;case"ArrowUp":c?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":c?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!c)return;t.focusOption("pageup");break;case"PageDown":if(!c)return;t.focusOption("pagedown");break;case"Home":if(!c)return;t.focusOption("first");break;case"End":if(!c)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.state.instancePrefix="react-select-"+(t.props.instanceId||++sd),t.state.selectValue=rG(e.value),e.menuIsOpen&&t.state.selectValue.length){var n=t.getFocusableOptionsWithIds(),l=t.buildFocusableOptions(),o=l.indexOf(t.state.selectValue[0]);t.state.focusableOptionsWithIds=n,t.state.focusedOption=l[o],t.state.focusedOptionId=sa(n,l[o])}return t}return n=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&r3(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,l=t.menuIsOpen,a=this.state.isFocused;(a&&!n&&e.isDisabled||a&&l&&!e.menuIsOpen)&&this.focusInput(),a&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):a||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(r3(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,l=n.selectValue,a=n.isFocused,o=this.buildFocusableOptions(),r="first"===e?0:o.length-1;if(!this.props.isMulti){var i=o.indexOf(l[0]);i>-1&&(r=i)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[r],focusedOptionId:this.getFocusedOptionId(o[r])},function(){return t.onMenuOpen()})}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,l=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var a=n.indexOf(l);l||(a=-1);var o=n.length-1,r=-1;if(n.length){switch(e){case"previous":r=0===a?0:-1===a?o:a-1;break;case"next":a>-1&&a<o&&(r=a+1)}this.setState({inputIsHidden:-1!==r,focusedValue:n[r]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var a=0,o=l.indexOf(n);n||(o=-1),"up"===e?a=o>0?o-1:l.length-1:"down"===e?a=(o+1)%l.length:"pageup"===e?(a=o-t)<0&&(a=0):"pagedown"===e?(a=o+t)>l.length-1&&(a=l.length-1):"last"===e&&(a=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[a],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[a])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(i8):oL(oL({},i8),this.props.theme):i8}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,l=this.getClassNames,a=this.getValue,o=this.selectOption,r=this.setValue,i=this.props,s=i.isMulti,c=i.isRtl,u=i.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:l,getValue:a,hasValue:this.hasValue(),isMulti:s,isRtl:c,options:u,selectOption:o,selectProps:i,setValue:r,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return si(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return ss(this.props,e,t)}},{key:"filterOption",value:function(e,t){return sc(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"!=typeof this.props.formatOptionLabel)return this.getOptionLabel(e);var n=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:l})}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,l=e.inputId,a=e.inputValue,r=e.tabIndex,i=e.form,s=e.menuIsOpen,c=e.required,u=this.getComponents().Input,d=this.state,p=d.inputIsHidden,h=d.ariaSelection,f=this.commonProps,m=l||this.getElementId("input"),g=oL(oL(oL({"aria-autocomplete":"list","aria-expanded":s,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},s&&{"aria-controls":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?(null==h?void 0:h.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?o.createElement(u,na({},f,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:t,isHidden:p,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:r,form:i,type:"text",value:a},g)):o.createElement(iU,na({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:rQ,onFocus:this.onInputFocus,disabled:t,tabIndex:r,inputMode:"none",form:i,value:""},g))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,l=t.MultiValueContainer,a=t.MultiValueLabel,r=t.MultiValueRemove,i=t.SingleValue,s=t.Placeholder,c=this.commonProps,u=this.props,d=u.controlShouldRenderValue,p=u.isDisabled,h=u.isMulti,f=u.inputValue,m=u.placeholder,g=this.state,v=g.selectValue,b=g.focusedValue,y=g.isFocused;if(!this.hasValue()||!d)return f?null:o.createElement(s,na({},c,{key:"placeholder",isDisabled:p,isFocused:y,innerProps:{id:this.getElementId("placeholder")}}),m);if(h)return v.map(function(t,i){var s=t===b,u="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return o.createElement(n,na({},c,{components:{Container:l,Label:a,Remove:r},isFocused:s,isDisabled:p,key:u,index:i,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))});if(f)return null;var x=v[0];return o.createElement(i,na({},c,{data:x,isDisabled:p}),this.formatOptionLabel(x,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,l=n.isDisabled,a=n.isLoading,r=this.state.isFocused;if(!this.isClearable()||!e||l||!this.hasValue()||a)return null;var i={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return o.createElement(e,na({},t,{innerProps:i,isFocused:r}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,l=n.isDisabled,a=n.isLoading,r=this.state.isFocused;return e&&a?o.createElement(e,na({},t,{innerProps:{"aria-hidden":"true"},isDisabled:l,isFocused:r})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var l=this.commonProps,a=this.props.isDisabled,r=this.state.isFocused;return o.createElement(n,na({},l,{isDisabled:a,isFocused:r}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,l=this.state.isFocused,a={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return o.createElement(e,na({},t,{innerProps:a,isDisabled:n,isFocused:l}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,l=t.GroupHeading,a=t.Menu,r=t.MenuList,i=t.MenuPortal,s=t.LoadingMessage,c=t.NoOptionsMessage,u=t.Option,d=this.commonProps,p=this.state.focusedOption,h=this.props,f=h.captureMenuScroll,m=h.inputValue,g=h.isLoading,v=h.loadingMessage,b=h.minMenuHeight,y=h.maxMenuHeight,x=h.menuIsOpen,w=h.menuPlacement,j=h.menuPosition,C=h.menuPortalTarget,S=h.menuShouldBlockScroll,_=h.menuShouldScrollIntoView,k=h.noOptionsMessage,N=h.onMenuScrollToTop,E=h.onMenuScrollToBottom;if(!x)return null;var P,D=function(t,n){var l=t.type,a=t.data,r=t.isDisabled,i=t.isSelected,s=t.label,c=t.value,h=p===a,f=r?void 0:function(){return e.onOptionHover(a)},m=r?void 0:function(){return e.selectOption(a)},g="".concat(e.getElementId("option"),"-").concat(n),v={id:g,onClick:m,onMouseMove:f,onMouseOver:f,tabIndex:-1,role:"option","aria-selected":e.isAppleDevice?void 0:i};return o.createElement(u,na({},d,{innerProps:v,data:a,isDisabled:r,isSelected:i,key:g,label:s,type:l,value:c,isFocused:h,innerRef:h?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())P=this.getCategorizedOptions().map(function(t){if("group"===t.type){var a=t.data,r=t.options,i=t.index,s="".concat(e.getElementId("group"),"-").concat(i),c="".concat(s,"-heading");return o.createElement(n,na({},d,{key:s,data:a,options:r,Heading:l,headingProps:{id:c,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map(function(e){return D(e,"".concat(i,"-").concat(e.index))}))}if("option"===t.type)return D(t,"".concat(t.index))});else if(g){var T=v({inputValue:m});if(null===T)return null;P=o.createElement(s,d,T)}else{var A=k({inputValue:m});if(null===A)return null;P=o.createElement(c,d,A)}var R={minMenuHeight:b,maxMenuHeight:y,menuPlacement:w,menuPosition:j,menuShouldScrollIntoView:_},L=o.createElement(ir,na({},d,R),function(t){var n=t.ref,l=t.placerProps,i=l.placement,s=l.maxHeight;return o.createElement(a,na({},d,R,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:g,placement:i}),o.createElement(i0,{captureEnabled:f,onTopArrive:N,onBottomArrive:E,lockEnabled:S},function(t){return o.createElement(r,na({},d,{innerRef:function(n){e.getMenuListRef(n),t(n)},innerProps:{role:"listbox","aria-multiselectable":d.isMulti,id:e.getElementId("listbox")},isLoading:g,maxHeight:s,focusedOption:p}),P)}))});return C||"fixed"===j?o.createElement(i,na({},d,{appendTo:C,controlElement:this.controlRef,menuPlacement:w,menuPosition:j}),L):L}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,l=t.isDisabled,a=t.isMulti,r=t.name,i=t.required,s=this.state.selectValue;if(i&&!this.hasValue()&&!l)return o.createElement(i3,{name:r,onFocus:this.onValueInputFocus});if(!(!r||l))if(a)if(n){var c=s.map(function(t){return e.getOptionValue(t)}).join(n);return o.createElement("input",{name:r,type:"hidden",value:c})}else{var u=s.length>0?s.map(function(t,n){return o.createElement("input",{key:"i-".concat(n),name:r,type:"hidden",value:e.getOptionValue(t)})}):o.createElement("input",{name:r,type:"hidden",value:""});return o.createElement("div",null,u)}else{var d=s[0]?this.getOptionValue(s[0]):"";return o.createElement("input",{name:r,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,l=t.focusedOption,a=t.focusedValue,r=t.isFocused,i=t.selectValue,s=this.getFocusableOptions();return o.createElement(iP,na({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:l,focusedValue:a,isFocused:r,selectValue:i,focusableOptions:s,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,l=e.SelectContainer,a=e.ValueContainer,r=this.props,i=r.className,s=r.id,c=r.isDisabled,u=r.menuIsOpen,d=this.state.isFocused,p=this.commonProps=this.getCommonProps();return o.createElement(l,na({},p,{className:i,innerProps:{id:s,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:d}),this.renderLiveRegion(),o.createElement(t,na({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:d,menuIsOpen:u}),o.createElement(a,na({},p,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),o.createElement(n,na({},p,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],l=[{key:"getDerivedStateFromProps",value:function(e,t){var n,l=t.prevProps,a=t.clearFocusValueOnUpdate,o=t.inputIsHiddenAfterUpdate,r=t.ariaSelection,i=t.isFocused,s=t.prevWasFocused,c=t.instancePrefix,u=e.options,d=e.value,p=e.menuIsOpen,h=e.inputValue,f=e.isMulti,m=rG(d),g={};if(l&&(d!==l.value||u!==l.options||p!==l.menuIsOpen||h!==l.inputValue)){var v,b=p?st(se(e,m)):[],y=p?sn(se(e,m),"".concat(c,"-option")):[],x=a?function(e,t){var n=e.focusedValue,l=e.selectValue.indexOf(n);if(l>-1){if(t.indexOf(n)>-1)return n;if(l<t.length)return t[l]}return null}(t,m):null,w=(v=t.focusedOption)&&b.indexOf(v)>-1?v:b[0],j=sa(y,w);g={selectValue:m,focusedOption:w,focusedOptionId:j,focusableOptionsWithIds:y,focusedValue:x,clearFocusValueOnUpdate:!1}}var C=null!=o&&e!==l?{inputIsHidden:o,inputIsHiddenAfterUpdate:void 0}:{},S=r,_=i&&s;return i&&!_&&(S={value:(n=m[0]||null,f?m:n),options:m,action:"initial-input-focus"},_=!s),(null==r?void 0:r.action)==="initial-input-focus"&&(S=null),oL(oL(oL({},g),C),{},{prevProps:e,ariaSelection:S,prevWasFocused:_})}}],n&&oU(r.prototype,n),l&&oU(r,l),Object.defineProperty(r,"prototype",{writable:!1}),r}(o.Component);sp.defaultProps=i7;var sh=(0,o.forwardRef)(function(e,t){var n=oz(e);return o.createElement(sp,na({ref:t},n))}),sf=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],sm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,l=String(e).toLowerCase(),a=String(n.getOptionValue(t)).toLowerCase(),o=String(n.getOptionLabel(t)).toLowerCase();return a===l||o===l},sg={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n,l){return!(!e||t.some(function(t){return sm(e,t,l)})||n.some(function(t){return sm(e,t,l)}))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}},sv=(0,o.forwardRef)(function(e,t){var n,l,a,r,i,s,c,u,d,p,h,f,m,g,v,b,y,x,w,j,C,S,_,k,N,E,P,D,T=(a=void 0!==(l=(n=oz(e)).allowCreateWhileLoading)&&l,i=void 0===(r=n.createOptionPosition)?"last":r,c=void 0===(s=n.formatCreateLabel)?sg.formatCreateLabel:s,d=void 0===(u=n.isValidNewOption)?sg.isValidNewOption:u,h=void 0===(p=n.getNewOptionData)?sg.getNewOptionData:p,f=n.onCreateOption,g=void 0===(m=n.options)?[]:m,v=n.onChange,x=void 0===(y=(b=oI(n,sf)).getOptionValue)?i5:y,j=void 0===(w=b.getOptionLabel)?i6:w,C=b.inputValue,S=b.isLoading,_=b.isMulti,k=b.value,N=b.name,E=(0,o.useMemo)(function(){return d(C,rG(k),g,{getOptionValue:x,getOptionLabel:j})?h(C,c(C)):void 0},[c,h,j,x,C,d,g,k]),P=(0,o.useMemo)(function(){return(a||!S)&&E?"first"===i?[E].concat(oq(g)):[].concat(oq(g),[E]):g},[a,i,S,E,g]),D=(0,o.useCallback)(function(e,t){if("select-option"!==t.action)return v(e,t);var n=Array.isArray(e)?e:[e];if(n[n.length-1]===E){if(f)f(C);else{var l,a=h(C,C);v((l=[].concat(oq(rG(k)),[a]),_?l:a),{action:"create-option",name:N,option:a})}return}v(e,t)},[h,C,_,N,E,f,v,k]),oL(oL({},b),{},{options:P,onChange:D}));return o.createElement(sp,na({ref:t},T))}),sb="clear-indicator",sy=e=>{let{clearValue:t,innerProps:{ref:n,...l}}=e;return(0,u.jsx)("div",{className:sb,ref:"string"==typeof n?null:n,...l,onKeyDown:e=>{"Enter"===e.key&&(t(),e.stopPropagation())},role:"button",tabIndex:0,children:(0,u.jsx)(s.a,{className:"".concat(sb,"__icon")})})},sx=e=>{let{children:t,innerProps:n,selectProps:{customProps:{disableKeyDown:l,disableMouseDown:a}={}}={}}=e;return(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(iC.Control,{...e,innerProps:{...n,onKeyDown:e=>{if(l){e.stopPropagation();let t=new CustomEvent("bypassKeyDown",{detail:e});document.dispatchEvent(t)}},onMouseDown:e=>{a||n.onMouseDown(e)}},children:t})})},sw="dropdown-indicator",sj=e=>{let{innerProps:{ref:t,...n}}=e;return(0,u.jsx)("button",{className:sw,ref:t,...n,onKeyDown:e=>{"Enter"===e.key&&(e.key=" ")},type:"button",children:(0,u.jsx)(tl,{className:"".concat(sw,"__icon")})})},sC=e=>(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(iC.Input,{...e,"aria-activedescendant":void 0})}),sS="multi-value";function s_(e,t){return"function"==typeof t?t(e):null==e?void 0:e.value}var sk=e=>{let t=(0,f.c)(26),{className:n,data:l,innerProps:a,isDisabled:r,selectProps:i}=e,s;t[0]!==i?(s=void 0===i?{}:i,t[0]=i,t[1]=s):s=t[1];let{customProps:c,getOptionValue:d,isSortable:p}=s,h;t[2]!==c?(h=void 0===c?{}:c,t[2]=c,t[3]=h):h=t[3];let{disableMouseDown:m}=h,g;t[4]!==l||t[5]!==d?(g=s_(l,d),t[4]=l,t[5]=d,t[6]=g):g=t[6];let v=g,b=!p,y;t[7]!==v||t[8]!==b?(y={id:v,disabled:b},t[7]=v,t[8]=b,t[9]=y):y=t[9];let{attributes:x,isDragging:w,listeners:j,setNodeRef:C,transform:S}=t3(y),_=!r&&p&&"draggable",k=w&&"".concat(sS,"--is-dragging"),N;t[10]!==n||t[11]!==_||t[12]!==k?(N=[sS,n,_,k].filter(Boolean),t[10]=n,t[11]=_,t[12]=k,t[13]=N):N=t[13];let E=N.join(" "),P;if(t[14]!==x||t[15]!==E||t[16]!==m||t[17]!==a||t[18]!==p||t[19]!==j||t[20]!==e||t[21]!==C||t[22]!==S){let n;t[24]!==m?(n=e=>{m||e.stopPropagation()},t[24]=m,t[25]=n):n=t[25],P=(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(iC.MultiValue,{...e,className:E,innerProps:{...p?{...x,...j}:{},...a,onMouseDown:n,ref:C,style:p?{transform:S,...null==x?void 0:x.style}:{}}})}),t[14]=x,t[15]=E,t[16]=m,t[17]=a,t[18]=p,t[19]=j,t[20]=e,t[21]=C,t[22]=S,t[23]=P}else P=t[23];return P},sN="multi-value-label",sE=e=>{let{data:t,selectProps:n}=e,{customProps:l}=void 0===n?{}:n,{draggableProps:a,editableProps:o}=void 0===l?{}:l,{i18n:r}=(0,s.d)(),i="".concat(sN,"__text"),c=t.label?(0,d.s)(t.label,r):"";return(0,u.jsx)("div",{className:sN,title:"string"==typeof c?c:"",children:(0,u.jsx)(iC.MultiValueLabel,{...e,innerProps:{className:i,...o&&o(t,i,e.selectProps)||{},...a||{}}})})},sP="multi-value-remove",sD=e=>{let t=(0,f.c)(12),{innerProps:n}=e,{className:l,onClick:a,onTouchEnd:r}=n,[i,c]=o.useState(!1),{t:d}=(0,s.d)(),p;if(t[0]!==l||t[1]!==a||t[2]!==r||t[3]!==i||t[4]!==d){let e,n,o,h=d("general:remove"),f;t[6]!==l?(f=[sP,l].filter(Boolean),t[6]=l,t[7]=f):f=t[7],t[8]!==a?(e=e=>{c(!1),a(e)},t[8]=a,t[9]=e):e=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(n=()=>c(!0),o=()=>c(!1),t[10]=n,t[11]=o):(n=t[10],o=t[11]),p=(0,u.jsxs)("button",{"aria-label":h,className:f.join(" "),onClick:e,onKeyDown:sT,onMouseDown:sA,onMouseEnter:n,onMouseLeave:o,onTouchEnd:r,type:"button",children:[(0,u.jsx)(tw,{className:"".concat(sP,"__tooltip"),show:i,children:d("general:remove")}),(0,u.jsx)(s.a,{className:"".concat(sP,"__icon")})]}),t[0]=l,t[1]=a,t[2]=r,t[3]=i,t[4]=d,t[5]=p}else p=t[5];return p};function sT(e){"Enter"===e.key&&e.stopPropagation()}function sA(e){return e.stopPropagation()}var sR=e=>{let{children:t,className:n}=e;return(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(iC.SingleValue,{...e,className:["react-select--single-value",n].filter(Boolean).join(" "),children:t})})},sL="value-container",sO=e=>{let{selectProps:t}=e,{customProps:n,value:l}=void 0===t?{}:t,{i18n:a}=(0,s.d)(),o="";if(l&&!Array.isArray(l)&&"object"==typeof l&&"label"in l){let e=l.label?(0,d.s)(l.label,a):"";o="string"==typeof e?e:""}return(0,u.jsxs)("div",{className:sL,ref:null==n?void 0:n.droppableRef,title:o,children:[(null==n?void 0:n.valueContainerLabel)&&(0,u.jsx)("span",{className:"".concat(sL,"__label"),children:null==n?void 0:n.valueContainerLabel}),(0,u.jsx)(iC.ValueContainer,{...e})]})},sF=e=>{let{i18n:t,t:n}=(0,s.d)(),[l,a]=o.useState(""),r=(0,o.useId)(),[c,p]=o.useState(!1);(0,o.useEffect)(()=>{p(!0)},[]);let{className:h,components:f,customProps:m,disabled:g=!1,filterOption:v,getOptionValue:b,isClearable:y=!0,isCreatable:x,isLoading:w,isSearchable:j=!0,noOptionsMessage:C=()=>n("general:noOptions"),numberOnly:S=!1,onChange:_,onMenuClose:k,onMenuOpen:N,options:E,placeholder:P=n("general:selectValue"),showError:D,value:T}=e,A=()=>n("general:loading")+"...",R=[h,"react-select",D&&"react-select--error"].filter(Boolean).join(" "),L={menu:e=>({...e,zIndex:void 0})};return c?x?(0,u.jsx)(sv,{captureMenuScroll:!0,isLoading:w,...e,className:R,classNamePrefix:"rs",components:{ClearIndicator:sy,Control:sx,DropdownIndicator:sj,Input:sC,MultiValue:sk,MultiValueLabel:sE,MultiValueRemove:sD,SingleValue:sR,ValueContainer:sO,...f},filterOption:v,inputValue:l,instanceId:r,isClearable:y,isDisabled:g,isSearchable:j,loadingMessage:A,menuPlacement:"auto",noOptionsMessage:C,onChange:_,onInputChange:e=>a(e),onKeyDown:e=>{if(!0===S){let t=!/\D/.test(e.key),n=["Tab","Escape","Backspace","Enter","ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(e.key);if(!t&&!n)return void e.preventDefault()}if(!(!T||!l||""===l.trim())&&!(v&&!v(null,l)))switch(e.key){case"Enter":case"Tab":_([...T,(e=>({label:e,value:e}))(l)]),a(""),e.preventDefault()}},onMenuClose:k,onMenuOpen:N,options:E,placeholder:(0,d.s)(P,t),styles:L,unstyled:!0,value:T}):(0,u.jsx)(sh,{captureMenuScroll:!0,customProps:m,isLoading:w,...e,className:R,classNamePrefix:"rs",components:{ClearIndicator:sy,Control:sx,DropdownIndicator:sj,Input:sC,MultiValue:sk,MultiValueLabel:sE,MultiValueRemove:sD,SingleValue:sR,ValueContainer:sO,...f},filterOption:v,getOptionValue:b,instanceId:r,isClearable:y,isDisabled:g,isSearchable:j,loadingMessage:A,menuPlacement:"auto",noOptionsMessage:C,onChange:_,onMenuClose:k,onMenuOpen:N,options:E,placeholder:(0,d.s)(P,t),styles:L,unstyled:!0,value:T}):(0,u.jsx)(i.f,{height:"calc(var(--base) * 2 + 2px)"})},sM=e=>{let{getOptionValue:t,onChange:n,value:l}=e,a=[];return l&&(a=(Array.isArray(l)?l:[l]).map(e=>s_(e,t))),(0,u.jsx)(t6,{className:"react-select-container",ids:a,onDragEnd:e=>{let{moveFromIndex:t,moveToIndex:a}=e,o=l;l&&Array.isArray(l)&&(o=tz(l,t,a)),n(o)},children:(0,u.jsx)(sF,{...e})})},sI=e=>{let{isMulti:t,isSortable:n}=e;return t&&n?(0,u.jsx)(sM,{...e}):(0,u.jsx)(sF,{...e})},sB=e=>e.map(e=>"object"==typeof e&&(e.value||""===e.value)?e:{label:e,value:e}),sz=e=>{let{id:t,onChange:n,options:l,readOnly:a,required:r,selectedTimezone:i}=e,{t:c}=(0,s.d)(),d=sB(l),p=(0,o.useMemo)(()=>d.find(e=>("string"==typeof e?e:e.value)===(i||"UTC")),[d,i]),h=!!a||1===d.length;return(0,u.jsxs)("div",{className:"timezone-picker-wrapper",children:[(0,u.jsx)(lC,{htmlFor:t,label:"".concat(c("general:timezone")," ").concat(r?"*":""),required:r,unstyled:!0}),(0,u.jsx)(sI,{className:"timezone-picker",disabled:h,inputId:t,isClearable:!r,isCreatable:!1,onChange:e=>{n&&n((null==e?void 0:e.value)||"")},options:d,value:p})]})},sU="date-time-field",sV=aO(e=>{let{field:t,field:{admin:{className:n,date:l,description:a,placeholder:r}={},label:c,localized:p,required:h,timezone:f},path:m,readOnly:g,validate:v}=e,b=(null==l?void 0:l.pickerAppearance)||"default",y=Intl.DateTimeFormat().resolvedOptions().timeZone,{config:x}=(0,i.c)(),{i18n:w}=(0,s.d)(),{dispatchFields:j,setModified:C}=eE(),{customComponents:{AfterInput:S,BeforeInput:_,Description:k,Error:N,Label:E}={},disabled:P,path:D,setValue:T,showError:A,value:R}=aA({potentiallyStalePath:m,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof v)return v(e,{...t,required:h})},[v,h])}),L=D+"_tz",O=eF(e=>{let[t,n]=e;return null==t?void 0:t[L]}),F=(0,o.useMemo)(()=>f&&"object"==typeof f&&f.supportedTimezones?f.supportedTimezones:x.admin.timezones.supportedTimezones,[x.admin.timezones.supportedTimezones,f]),M=["dayOnly","default","monthOnly"].includes(b),I=null==O?void 0:O.value,B=h||f&&"object"==typeof f&&f.required,z=(0,o.useMemo)(()=>{if(f&&I&&y&&R){let e=lA.tz(I),t=lA.tz(y),n=ao(new lA(R).withTimeZone(I),e);return ao(n,t).toISOString()}return R},[f,I,R,y]),U=(0,o.useMemo)(()=>aF(t),[t]),V=(0,o.useCallback)(e=>{if(!(g||P))if(f&&I&&e){let t=lA.tz(I);if(M){let n=e.getTimezoneOffset()/60,l=e.getHours()+n;e.setHours(l),T(ao(e,t).toISOString()||null)}else T(ao(new lA(e),t).toISOString()||null)}else T((null==e?void 0:e.toISOString())||null)},[g,P,f,I,M,T]),H=(0,o.useCallback)(e=>{L&&(j({type:"UPDATE",path:L,value:e}),C(!0))},[j,C,L]);return(0,u.jsxs)("div",{className:[aM,sU,n,A&&"".concat(sU,"--has-error"),(g||P)&&"read-only"].filter(Boolean).join(" "),style:U,children:[(0,u.jsx)(ed,{CustomComponent:E,Fallback:(0,u.jsx)(lC,{label:c,localized:p,path:D,required:h})}),(0,u.jsxs)("div",{className:"".concat(aM,"__wrap"),id:"field-".concat(D.replace(/\./g,"__")),children:[(0,u.jsx)(ed,{CustomComponent:N,Fallback:(0,u.jsx)(t9,{path:D,showError:A})}),_,(0,u.jsx)(oP,{...l,onChange:V,overrides:{...null==l?void 0:l.overrides},placeholder:(0,d.s)(r,w),readOnly:g||P,value:z}),f&&F.length>0&&(0,u.jsx)(sz,{id:"".concat(D,"-timezone-picker"),onChange:H,options:F,readOnly:g||P,required:B,selectedTimezone:I}),S]}),(0,u.jsx)(ed,{CustomComponent:k,Fallback:(0,u.jsx)(t7,{description:a,path:D})})]})}),sH=aO(e=>{let{field:t,field:{admin:{autoComplete:n,className:l,description:a,placeholder:r}={},label:i,localized:c,required:p}={},path:h,readOnly:f,validate:m}=e,{i18n:g}=(0,s.d)(),{customComponents:{AfterInput:v,BeforeInput:b,Description:y,Error:x,Label:w}={},disabled:j,path:C,setValue:S,showError:_,value:k}=aA({potentiallyStalePath:h,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof m)return m(e,{...t,required:p})},[m,p])}),N=(0,o.useMemo)(()=>aF(t),[t]);return(0,u.jsxs)("div",{className:[aM,"email",l,_&&"error",(f||j)&&"read-only"].filter(Boolean).join(" "),style:N,children:[(0,u.jsx)(ed,{CustomComponent:w,Fallback:(0,u.jsx)(lC,{label:i,localized:c,path:C,required:p})}),(0,u.jsxs)("div",{className:"".concat(aM,"__wrap"),children:[(0,u.jsx)(ed,{CustomComponent:x,Fallback:(0,u.jsx)(t9,{path:C,showError:_})}),b,(0,u.jsx)("input",{autoComplete:n,disabled:f||j,id:"field-".concat(C.replace(/\./g,"__")),name:C,onChange:S,placeholder:(0,d.s)(r,g),required:p,type:"email",value:k||""}),v]}),(0,u.jsx)(ed,{CustomComponent:y,Fallback:(0,u.jsx)(t7,{description:a,path:C})})]})}),sq=(0,o.createContext)(!1),sW=e=>{let{children:t,withinRow:n=!0}=e;return(0,u.jsx)(sq,{value:n,children:t})},sK=(0,o.createContext)(!1),sQ=e=>{let{children:t,withinTab:n=!0}=e;return(0,u.jsx)(sK,{value:n,children:t})},sY=(0,o.createContext)(!1),sG=e=>{let{children:t,withinGroup:n=!0}=e;return(0,u.jsx)(sY,{value:n,children:t})},sX="group-field",s$=aO(e=>{let{field:t,field:{admin:{className:n,description:l,hideGutter:a}={},fields:r,label:i},indexPath:c,parentPath:p,parentSchemaPath:h,path:f,permissions:g,readOnly:v,schemaPath:b}=e,y=null!=b?b:"group"===t.type&&(0,m.jY)(t)?t.name:f,{i18n:x}=(0,s.d)(),{isWithinCollapsible:w}=aJ(),j=(0,o.use)(sY),C=(0,o.use)(sq),S=(0,o.use)(sK),{customComponents:{AfterInput:_,BeforeInput:k,Description:N,Label:E}={},errorPaths:P}=aA({path:f}),D=eT(),T=P.length,A=D&&T>0,R=!(w||j||C),L=(0,o.useMemo)(()=>aF(t),[t]);return(0,u.jsxs)("div",{className:[aM,sX,R&&"".concat(sX,"--top-level"),w&&"".concat(sX,"--within-collapsible"),j&&"".concat(sX,"--within-group"),C&&"".concat(sX,"--within-row"),S&&"".concat(sX,"--within-tab"),!a&&j&&"".concat(sX,"--gutter"),A&&"".concat(sX,"--has-error"),n].filter(Boolean).join(" "),id:"field-".concat(null==f?void 0:f.replace(/\./g,"__")),style:L,children:[(0,u.jsx)(sG,{children:(0,u.jsxs)("div",{className:"".concat(sX,"__wrap"),children:[!!(E||N||i||A)&&(0,u.jsxs)("div",{className:"".concat(sX,"__header"),children:[!!(E||N||i)&&(0,u.jsxs)("header",{children:[(0,u.jsx)(ed,{CustomComponent:E,Fallback:(0,u.jsx)("h3",{className:"".concat(sX,"__title"),children:(0,u.jsx)(lC,{as:"span",label:(0,d.s)(i,x),localized:!1,path:f,required:!1})})}),(0,u.jsx)(ed,{CustomComponent:N,Fallback:(0,u.jsx)(t7,{description:l,path:f})})]}),A&&(0,u.jsx)(t4,{count:T,i18n:x,withMessage:!0})]}),k,(0,m.jY)(t)?(0,u.jsx)(hL,{fields:r,margins:"small",parentIndexPath:"",parentPath:f,parentSchemaPath:y,permissions:!0===g?g:null==g?void 0:g.fields,readOnly:v}):(0,u.jsx)(hL,{fields:r,margins:"small",parentIndexPath:c,parentPath:p,parentSchemaPath:h,permissions:g,readOnly:v})]})}),_]})}),sZ=aO(e=>{let t=(0,f.c)(13),{disableModifyingForm:n,path:l,value:a}=e,r=void 0===n||n,i;t[0]!==l?(i={potentiallyStalePath:l},t[0]=l,t[1]=i):i=t[1];let{formInitializing:s,path:c,setValue:d,value:p}=aA(i),h,m;t[2]!==r||t[3]!==s||t[4]!==d||t[5]!==a?(h=()=>{void 0===a||s||d(a,r)},m=[a,d,r,s],t[2]=r,t[3]=s,t[4]=d,t[5]=a,t[6]=h,t[7]=m):(h=t[6],m=t[7]),(0,o.useEffect)(h,m);let g="field-".concat(null==c?void 0:c.replace(/\./g,"__")),v=p||"",b;return t[8]!==c||t[9]!==d||t[10]!==g||t[11]!==v?(b=(0,u.jsx)("input",{id:g,name:c,onChange:d,type:"hidden",value:v}),t[8]=c,t[9]=d,t[10]=g,t[11]=v,t[12]=b):b=t[12],b}),sJ=(0,c.e)(eo(),1),s0=(0,o.createContext)({}),s1=e=>{let{children:t,...n}=e;return(0,u.jsx)(s0,{value:{isInDrawer:!!n.drawerSlug,...n},children:t})},s3=()=>{let e=(0,o.use)(s0);if(!e)throw Error("useListDrawerContext must be used within a ListDrawerContextProvider");return e};function s2(e){let t=e.toString();return k.q(t,{depth:10,ignoreQueryPrefix:!0})}var s6=(0,o.createContext)({}),s5=()=>(0,o.use)(s6),s4=(0,o.createContext)(!1),s8=e=>{let t={...e};return Object.entries(t).forEach(e=>{let[n,l]=e;if("columns"===n&&("[]"===l||Array.isArray(t[n])&&0===t[n].length)&&delete t[n],"where"!==n||"object"!=typeof l||null===l||Object.keys(l).length||delete t[n],("limit"===n||"page"===n)&&"string"==typeof l){let e=parseInt(l,10);t[n]=Number.isNaN(e)?void 0:e}"page"===n&&0===l&&delete t[n],""===l&&delete t[n]}),t},s7=e=>{var t;let{children:n,collectionSlug:l,data:a,modifySearchParams:r,onQueryChange:s,orderableFieldName:c,query:d}=e,p=(0,h.useRouter)(),f=(0,h.useSearchParams)(),{startRouteTransition:m}=e4(),[g,v]=(0,o.useState)(!1),{getEntityConfig:y}=(0,i.c)(),x=y({collectionSlug:l}),w=(0,o.useMemo)(()=>s8(s2(f)),[f]),j=(0,o.useRef)({});j.current.modified=g;let{onQueryChange:C}=s3(),[S,_]=(0,o.useState)(()=>r?w:{limit:d.limit,sort:d.sort}),k=(0,o.useCallback)(async(e,t)=>{v(void 0===t||t);let n=((e,t,n)=>{var l,a,o,r,i,s;let c,u="page"in t?t.page:null==e?void 0:e.page;return["where","search","groupBy"].some(e=>e in t&&!["limit","page"].includes(e))&&(u=1),["where","search","page","limit","groupBy","sort"].some(e=>e in t)||(c={...(null==e?void 0:e.queryByGroup)||{},...t.queryByGroup?Object.fromEntries(Object.entries(t.queryByGroup).map(t=>{var n;let[l,a]=t;return[l,{...(null==e||null==(n=e.queryByGroup)?void 0:n[l])||{},...a}]})):{}}),{...e,...t,columns:"columns"in t?t.columns:e.columns,groupBy:"groupBy"in t?t.groupBy:null!=(r=null==e?void 0:e.groupBy)?r:null==n||null==(l=n.defaults)?void 0:l.groupBy,limit:"limit"in t?t.limit:null!=(i=null==e?void 0:e.limit)?i:null==n||null==(a=n.defaults)?void 0:a.limit,page:u,preset:"preset"in t?t.preset:null==e?void 0:e.preset,queryByGroup:c,search:"search"in t?t.search:null==e?void 0:e.search,sort:"sort"in t?t.sort:null!=(s=null==e?void 0:e.sort)?s:null==n||null==(o=n.defaults)?void 0:o.sort,where:"where"in t?t.where:null==e?void 0:e.where}})(S,e,{defaults:{limit:d.limit,sort:d.sort}});r?m(()=>p.replace("".concat(b.A({...n,columns:JSON.stringify(n.columns),queryByGroup:JSON.stringify(n.queryByGroup)},{addQueryPrefix:!0})))):("function"==typeof C||"function"==typeof s)&&(C||s)(n),_(n)},[S,d.limit,d.sort,r,C,s,m,p]),N=(0,o.useCallback)(async e=>{await k({page:e})},[k]),E=o.useCallback(async e=>{await k({limit:e,page:1})},[k]),P=(0,o.useCallback)(async e=>{await k({search:""===e?void 0:e})},[k]),D=(0,o.useCallback)(async e=>{await k({sort:e})},[k]),T=(0,o.useCallback)(async e=>{await k({where:e})},[k]),A=tf(()=>{let e=s8({...S||{},...d||{}}),t="?".concat(b.A({...e,columns:JSON.stringify(e.columns),queryByGroup:JSON.stringify(e.queryByGroup)}));window.location.search!==t&&(_(e),window.history.replaceState(null,"",t))});return(0,o.useEffect)(()=>{r&&A()},[r,d]),(0,u.jsx)(s6,{value:{collectionSlug:l,data:a,defaultLimit:null==a?void 0:a.limit,handlePageChange:N,handlePerPageChange:E,handleSearchChange:P,handleSortChange:D,handleWhereChange:T,isGroupingBy:!!((null==x||null==(t=x.admin)?void 0:t.groupBy)&&(null==S?void 0:S.groupBy)),orderableFieldName:c,query:S,refineListData:k,setModified:v,...j.current},children:(0,u.jsx)(s4,{value:g,children:n})})},s9=(0,o.createContext)(void 0),ce=()=>{let e=o.use(s9);if(void 0===e)throw Error("useServerFunctions must be used within a ServerFunctionsProvider");return e},ct=e=>{let{children:t,serverFunction:n}=e;if(!n)throw Error("ServerFunctionsProvider requires a serverFunction prop");let l=(0,o.useCallback)(async e=>await n({name:"render-document-slots",args:e}),[n]),a=(0,o.useCallback)(async e=>{let{signal:t,...l}=e;try{if(!(null==t?void 0:t.aborted)){let e=await n({name:"schedule-publish",args:{...l}});if(!(null==t?void 0:t.aborted))return e}}catch(e){console.error(e)}let a="Error scheduling ".concat(l.type);return l.doc&&(a+=" for document with ID ".concat(l.doc.value," in collection ").concat(l.doc.relationTo)),{error:a}},[n]),r=(0,o.useCallback)(async e=>{let{signal:t,...l}=e||{};try{if(!(null==t?void 0:t.aborted)){let e=await n({name:"form-state",args:{fallbackLocale:!1,...l}});if(!(null==t?void 0:t.aborted))return e}}catch(e){console.error(e)}return{state:null}},[n]),i=(0,o.useCallback)(async e=>{let{signal:t,...l}=e||{};try{if(!(null==t?void 0:t.aborted)){let e=await n({name:"table-state",args:{fallbackLocale:!1,...l}});if(!(null==t?void 0:t.aborted))return e}}catch(e){console.error(e)}},[n]),s=(0,o.useCallback)(async e=>{let{signal:t,...l}=e||{};try{return await n({name:"render-document",args:{fallbackLocale:!1,...l}})}catch(e){console.error(e)}},[n]),c=(0,o.useCallback)(async e=>{let{signal:t,...l}=e||{};try{let e=await n({name:"copy-data-from-locale",args:l});if(!(null==t?void 0:t.aborted))return e}catch(e){console.error(e)}},[n]),d=(0,o.useCallback)(async e=>{let{signal:t,...l}=e||{};try{let e=await n({name:"get-folder-results-component-and-data",args:l});if(!(null==t?void 0:t.aborted))return e}catch(e){console.error(e)}},[n]),p=(0,o.useCallback)(async e=>{try{return await n({name:"render-field",args:e})}catch(e){console.error(e)}},[n]),h=(0,o.useCallback)(async e=>{let{signal:t,...l}=e||{};try{return await n({name:"slugify",args:{...l}})}catch(e){console.error(e)}},[n]);return(0,u.jsx)(s9,{value:{_internal_renderField:p,copyDataFromLocale:c,getDocumentSlots:l,getFolderResultsComponentAndData:d,getFormState:r,getTableState:i,renderDocument:s,schedulePublish:a,serverFunction:n,slugify:h},children:t})},cn=(0,o.createContext)({}),cl=()=>(0,o.use)(cn),ca=e=>{let{children:t,collectionSlug:n,columnState:l,LinkedCellOverride:a}=e,{getEntityConfig:r}=(0,i.c)(),{query:s,refineListData:c}=s5(),{admin:{defaultColumns:d}={}}=r({collectionSlug:n}),[p,h]=o.useOptimistic(l,(e,t)=>t),f=(0,o.useRef)({}),m=(0,o.useCallback)(async e=>{let t=(p||[]).map(t=>t.accessor===e?{...t,active:!t.active}:t);(0,o.startTransition)(()=>{h(t)}),await c({columns:(0,_.F)(t)})},[c,p,h]),g=(0,o.useCallback)(async e=>{let{fromIndex:t,toIndex:n}=e,l=[...p||[]],[a]=l.splice(t,1);l.splice(n,0,a),(0,o.startTransition)(()=>{h(l)}),await c({columns:(0,_.F)(l)})},[p,c,h]),v=(0,o.useCallback)(async e=>{let t=s.columns;e.forEach(e=>{let n=t.findIndex(t=>e===t);void 0!==n&&"-"===t[n][0]&&(t[n]=e.slice(1))}),await c({columns:t})},[s,c]),b=o.useCallback(async()=>{await c({columns:d||[]})},[d,c]);return(0,u.jsx)(cn,{value:{columns:p,LinkedCellOverride:a,moveColumn:g,resetColumnsState:b,setActiveColumns:v,toggleColumn:m,...f.current},children:t})},co="pill-selector",cr=e=>{let{draggable:t,onClick:n,pills:l}=e,a=o.useMemo(()=>l.map((e,l)=>{var a,o;return(0,u.jsx)(a4,{alignIcon:"left","aria-checked":e.selected,className:["".concat(co,"__pill"),e.selected&&"".concat(co,"__pill--selected")].filter(Boolean).join(" "),draggable:!!t,icon:e.selected?(0,u.jsx)(s.a,{}):(0,u.jsx)(tr,{}),id:e.name,onClick:()=>{n&&n({pill:e})},size:"small",children:null!=(a=e.Label)?a:(0,u.jsx)("span",{className:"".concat(co,"__pill-label"),children:e.name})},null!=(o=e.key)?o:"".concat(e.name,"-").concat(l))}),[l,n,t]);return t?(0,u.jsx)(t6,{className:co,ids:l.map(e=>e.name),onDragEnd:e=>{let{moveFromIndex:n,moveToIndex:l}=e;t.onDragEnd({moveFromIndex:n,moveToIndex:l})},children:a}):(0,u.jsx)("div",{className:co,children:a})},ci=e=>{let{collectionSlug:t}=e,{columns:n,moveColumn:l,toggleColumn:a}=cl(),r=(0,o.useId)(),i=nn(),s=(0,o.useMemo)(()=>null==n?void 0:n.filter(e=>{var t,n;return!((0,m.I2)(e.field)&&!(0,m.uT)(e.field))&&!(null==e||null==(n=e.field)||null==(t=n.admin)?void 0:t.disableListColumn)}),[n]),c=(0,o.useMemo)(()=>s?s.map((e,n)=>{let{accessor:l,active:a,field:o}=e,s="labelWithPrefix"in o&&void 0!==o.labelWithPrefix?o.labelWithPrefix:"label"in o&&void 0!==o.label?o.label:"name"in o&&void 0!==o.name?o.name:void 0;return{name:l,key:"".concat(t,"-").concat(l,"-").concat(n).concat(i?"-".concat(i,"-"):"").concat(r),Label:(0,u.jsx)(lC,{label:s,unstyled:!0}),selected:a}}):null,[t,i,s,r]);return c?(0,u.jsx)(cr,{draggable:{onDragEnd:e=>{let{moveFromIndex:t,moveToIndex:n}=e;l({fromIndex:t,toIndex:n})}},onClick:e=>{let{pill:t}=e;a(t.name)},pills:c}):null},cs=e=>{let t=(0,f.c)(3),{getEntityConfig:n}=(0,i.c)(),l;t[0]!==n||t[1]!==e?(l=()=>e?("string"==typeof e?[e]:e).map(e=>n({collectionSlug:e})):[],t[0]=n,t[1]=e,t[2]=l):l=t[2];let[a]=(0,o.useState)(l);return a},cc=e=>{let t,n=(0,f.c)(13),{delayBeforeShow:l,inTimeout:a,minShowTime:r,outTimeout:s,show:c}=e,u=a+r+s,[d,p]=(0,i.e)(l),[h,m]=o.useState(!1),[g,v]=o.useState(!1),b=o.useRef(0),y=o.useRef(void 0),x;n[0]!==s?(x=()=>{v(!0),y.current=setTimeout(()=>{m(!1),v(!1)},s)},n[0]=s,n[1]=x):x=n[1];let w=x,j,C;return n[2]!==d||n[3]!==h||n[4]!==c||n[5]!==u||n[6]!==w?(j=()=>{let e=d&&!h&&c,t=h&&!c;if(e)b.current=Date.now(),m(!0);else if(t){let e=u-(Date.now()-b.current);clearTimeout(y.current),y.current=setTimeout(w,Math.max(0,e))}},C=[h,c,w,u,d],n[2]=d,n[3]=h,n[4]=c,n[5]=u,n[6]=w,n[7]=j,n[8]=C):(j=n[7],C=n[8]),o.useEffect(j,C),n[9]!==h||n[10]!==g||n[11]!==p?(t={isMounted:h,isUnmounting:g,triggerDelayedRender:p},n[9]=h,n[10]=g,n[11]=p,n[12]=t):t=n[12],t},cu={isLoading:!1,loaders:[],loadingText:"",overlayType:null},cd=(e,t)=>{let n=[...e.loaders],{type:l="fullscreen",key:a="user",loadingText:o}=t.payload;if("add"===t.type)n.push({type:l,key:a,loadingText:o});else if("remove"===t.type){let e=n.findIndex(e=>e.key===a&&e.type===l);n.splice(e,1)}let r=(null==n?void 0:n.length)>0?n[n.length-1]:null;return{isLoading:!!r,loaders:n,loadingText:(null==r?void 0:r.loadingText)||(null==e?void 0:e.loadingText),overlayType:(null==r?void 0:r.type)||(null==e?void 0:e.overlayType)}},cp=(0,o.createContext)({isOnScreen:!1,toggleLoadingOverlay:void 0}),ch=e=>{let{children:t}=e,{t:n}=(0,s.d)(),l=n("general:loading"),[a,r]=o.useReducer(cd,cu),{isMounted:i,isUnmounting:c,triggerDelayedRender:d}=cc({delayBeforeShow:1e3,inTimeout:250,minShowTime:500,outTimeout:250,show:a.isLoading}),p=o.useCallback(e=>{let{type:t,isLoading:n,key:a,loadingText:o=l}=e;n?(d(),r({type:"add",payload:{type:t,key:a,loadingText:o}})):r({type:"remove",payload:{type:t,key:a}})},[d,l]);return(0,u.jsxs)(cp,{value:{isOnScreen:i,toggleLoadingOverlay:p},children:[i&&(0,u.jsx)(cg,{animationDuration:"".concat(250,"ms"),loadingText:a.loadingText||l,overlayType:a.overlayType,show:!c}),t]})},cf=()=>{let e=o.use(cp);if(void 0===e)throw Error("useLoadingOverlay must be used within a LoadingOverlayProvider");return e},cm="loading-overlay",cg=e=>{let t=(0,f.c)(8),{animationDuration:n,loadingText:l,overlayType:a,show:o}=e,{t:r}=(0,s.d)(),i=void 0===o||o?"".concat(cm,"--entering"):"".concat(cm,"--exiting"),c=a?"".concat(cm,"--").concat(a):"",d;t[0]!==i||t[1]!==c?(d=[cm,i,c].filter(Boolean),t[0]=i,t[1]=c,t[2]=d):d=t[2];let p=d.join(" "),h=n||"500ms",m;return t[3]!==l||t[4]!==r||t[5]!==p||t[6]!==h?(m=(0,u.jsxs)("div",{className:p,style:{animationDuration:h},children:[(0,u.jsxs)("div",{className:"".concat(cm,"__bars"),children:[(0,u.jsx)("div",{className:"".concat(cm,"__bar")}),(0,u.jsx)("div",{className:"".concat(cm,"__bar")}),(0,u.jsx)("div",{className:"".concat(cm,"__bar")}),(0,u.jsx)("div",{className:"".concat(cm,"__bar")}),(0,u.jsx)("div",{className:"".concat(cm,"__bar")})]}),(0,u.jsx)("span",{className:"".concat(cm,"__text"),children:l||r("general:loading")})]}),t[3]=l,t[4]=r,t[5]=p,t[6]=h,t[7]=m):m=t[7],m},cv=e=>{let t=(0,f.c)(7),{name:n,type:l,loadingText:a,show:r}=e,i=void 0===l?"fullscreen":l,{toggleLoadingOverlay:s}=cf(),c,u;return t[0]!==n||t[1]!==a||t[2]!==r||t[3]!==s||t[4]!==i?(c=()=>(s({type:i,isLoading:r,key:n,loadingText:a||void 0}),()=>{s({type:i,isLoading:!1,key:n})}),u=[r,s,n,i,a],t[0]=n,t[1]=a,t[2]=r,t[3]=s,t[4]=i,t[5]=c,t[6]=u):(c=t[5],u=t[6]),o.useEffect(c,u),null},cb=e=>{let t=(0,f.c)(6),{name:n,type:l,action:a,formIsLoading:o,loadingSuffix:r}=e,i=void 0===l?"fullscreen":l,c=void 0!==o&&o,p=eA(),{i18n:h,t:m}=(0,s.d)(),g="".concat({create:m("general:creating"),loading:m("general:loading"),update:m("general:updating")}[a]," ").concat(r?(0,d.s)(r,h):""),v;return t[0]!==c||t[1]!==p||t[2]!==n||t[3]!==g||t[4]!==i?(v=(0,u.jsx)(cv,{loadingText:g.trim(),name:n,show:c||p,type:i}),t[0]=c,t[1]=p,t[2]=n,t[3]=g,t[4]=i,t[5]=v):v=t[5],v};function cy(e){if(e)try{e.abort()}catch(e){}}function cx(e){let t=new AbortController;if(e.current)try{e.current.abort()}catch(e){}return e.current=t,t}var cw=(0,o.createContext)({}),cj=e=>{let{children:t,...n}=e;return(0,u.jsx)(cw,{value:{...n},children:t})},cC=()=>{let e=(0,o.use)(cw);if(!e)throw Error("useDocumentDrawerContext must be used within a DocumentDrawerProvider");return e},cS=e=>{let{id:t,collectionSlug:n,disableActions:l,drawerSlug:a,initialData:r,onDelete:c,onDuplicate:d,onSave:p,overrideEntityVisibility:h=!0,redirectAfterCreate:f,redirectAfterDelete:m,redirectAfterDuplicate:g,redirectAfterRestore:v}=e,{getEntityConfig:b}=(0,i.c)(),y=lx(),[x]=(0,o.useState)(()=>b({collectionSlug:n})),w=o.useRef(null),{closeModal:j}=nj(),{t:C}=(0,s.d)(),{renderDocument:S}=ce(),[_,k]=(0,o.useState)(void 0),[N,E]=(0,o.useState)(!0),P=(0,o.useRef)(!1),D=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=cx(w);(async()=>{t&&E(!0);try{let t=await S({collectionSlug:n,disableActions:l,docID:e,drawerSlug:a,initialData:r,locale:y,overrideEntityVisibility:h,redirectAfterCreate:f,redirectAfterDelete:void 0!==m&&m,redirectAfterDuplicate:void 0!==g&&g,redirectAfterRestore:void 0!==v&&v,signal:o.signal});(null==t?void 0:t.Document)&&(k(t.Document),E(!1))}catch(e){eZ.error((null==e?void 0:e.message)||C("error:unspecific")),j(a)}w.current=null})()},[n,l,a,r,m,g,v,S,f,j,h,C,y]),T=(0,o.useCallback)(e=>{"create"===e.operation&&D(e.doc.id),"function"==typeof p&&p({...e,collectionConfig:x})},[p,x,D]),A=(0,o.useCallback)(e=>{D(e.doc.id),"function"==typeof d&&d({...e,collectionConfig:x})},[d,x,D]),R=(0,o.useCallback)(e=>{"function"==typeof c&&c({...e,collectionConfig:x}),j(a)},[c,j,a,x]),L=(0,o.useCallback)(()=>{D(void 0,!0)},[D]);return(0,o.useEffect)(()=>{_||P.current||(D(t,!0),P.current=!0)},[_,D,t]),(0,o.useEffect)(()=>{let e=w.current;return()=>{cy(e)}},[]),N?(0,u.jsx)(cg,{}):(0,u.jsx)(cj,{clearDoc:L,drawerSlug:a,onDelete:R,onDuplicate:A,onSave:T,children:_})},c_="doc-drawer",ck=e=>{let t=(0,f.c)(2),{children:n,className:l,collectionSlug:a,disabled:o,drawerSlug:r,onClick:i,operation:c,...d}=e,{t:p}=(0,s.d)(),[h]=cs(a),m=p("create"===c?"fields:addNewLabel":"general:editLabel",{label:null==h?void 0:h.labels.singular}),g;return t[0]!==l?(g=[l,"".concat(c_,"__toggler")].filter(Boolean),t[0]=l,t[1]=g):g=t[1],(0,u.jsx)(ln,{"aria-label":m,className:g.join(" "),disabled:o,onClick:i,slug:r,...d,children:n})},cN=e=>{let{drawerSlug:t}=e;return(0,u.jsx)(ll,{className:c_,gutter:!1,Header:null,slug:t,children:(0,u.jsx)(cS,{...e})})},cE=e=>{let t,n=(0,f.c)(38),{id:l,collectionSlug:a,overrideEntityVisibility:r}=e,i=nn(),s=(0,o.useId)(),{closeModal:c,modalState:d,openModal:p,toggleModal:h}=nj(),[m,g]=(0,o.useState)(!1),v;n[0]!==a||n[1]!==i||n[2]!==l||n[3]!==s?(v=(e=>{let{id:t,collectionSlug:n,depth:l,uuid:a}=e;return"doc-drawer_".concat(n,"_").concat(l).concat(t?"_".concat(t):"","_").concat(a)})({id:l,collectionSlug:a,depth:i,uuid:s}),n[0]=a,n[1]=i,n[2]=l,n[3]=s,n[4]=v):v=n[4];let b=v,y,x;n[5]!==b||n[6]!==d?(y=()=>{var e;g(!!(null==(e=d[b])?void 0:e.isOpen))},x=[d,b],n[5]=b,n[6]=d,n[7]=y,n[8]=x):(y=n[7],x=n[8]),(0,o.useEffect)(y,x),n[9]!==b||n[10]!==h?(t=()=>{h(b)},n[9]=b,n[10]=h,n[11]=t):t=n[11];let w=t,j;n[12]!==c||n[13]!==b?(j=()=>{c(b)},n[12]=c,n[13]=b,n[14]=j):j=n[14];let C=j,S;n[15]!==b||n[16]!==p?(S=()=>{p(b)},n[15]=b,n[16]=p,n[17]=S):S=n[17];let _=S,k;n[18]!==a||n[19]!==b||n[20]!==l||n[21]!==r?(k=e=>(0,o.createElement)(cN,{...e,collectionSlug:a,drawerSlug:b,id:l,key:b,overrideEntityVisibility:r}),n[18]=a,n[19]=b,n[20]=l,n[21]=r,n[22]=k):k=n[22];let N=k,E;n[23]!==a||n[24]!==b||n[25]!==l?(E=e=>(0,u.jsx)(ck,{...e,collectionSlug:a,drawerSlug:b,operation:l?"update":"create"}),n[23]=a,n[24]=b,n[25]=l,n[26]=E):E=n[26];let P=E,D;n[27]!==C||n[28]!==b||n[29]!==i||n[30]!==m||n[31]!==_||n[32]!==w?(D={closeDrawer:C,drawerDepth:i,drawerSlug:b,isDrawerOpen:m,openDrawer:_,toggleDrawer:w},n[27]=C,n[28]=b,n[29]=i,n[30]=m,n[31]=_,n[32]=w,n[33]=D):D=n[33];let T=D,A;return n[34]!==N||n[35]!==T||n[36]!==P?(A=[N,P,T],n[34]=N,n[35]=T,n[36]=P,n[37]=A):A=n[37],A};function cP(e,t){let n=(0,f.c)(4),[l,a]=(0,o.useState)(e),r,i;return n[0]!==t||n[1]!==e?(r=()=>{let n=setTimeout(()=>{a(e)},t);return()=>{clearTimeout(n)}},i=[e,t],n[0]=t,n[1]=e,n[2]=r,n[3]=i):(r=n[2],i=n[3]),(0,o.useEffect)(r,i),l}function cD(e,t){switch(t.type){case"ADD_LOADED":{let n={...e};"object"!=typeof n[t.relationTo]&&(n[t.relationTo]={});let l=[...t.idsToLoad];return Array.isArray(t.docs)&&t.docs.forEach(e=>{l.splice(l.indexOf(e.id),1),n[t.relationTo][e.id]=e}),l.forEach(e=>{n[t.relationTo][e]=!1}),n}case"REQUEST":{let n={...e};return t.docs.forEach(e=>{let{relationTo:t,value:l}=e;"object"!=typeof n[t]&&(n[t]={}),n[t][l]=null}),n}default:return e}}var cT=(0,o.createContext)({}),cA=e=>{let t,n=(0,f.c)(15),{children:l}=e,a;n[0]===Symbol.for("react.memo_cache_sentinel")?(a={},n[0]=a):a=n[0];let[r,c]=(0,o.useReducer)(cD,a),d=cP(r,100),{config:p}=(0,i.c)(),{collections:h,routes:m}=p,{api:g}=m,{i18n:y}=(0,s.d)(),{code:x}=lx(),w=(0,o.useRef)(x),j;n[1]!==g||n[2]!==h||n[3]!==d||n[4]!==y||n[5]!==x?(j=e=>{let t=void 0!==e&&e;Object.entries(d).forEach(async e=>{let[n,l]=e,a=[];if(Object.entries(l).forEach(e=>{let[n,l]=e;(null===l||t)&&a.push(n)}),a.length>0){let e=(0,v.Q)({apiRoute:g,path:"/".concat(n)}),t=new URLSearchParams,l={};t.append("depth","0"),t.append("limit","250");let r=h.find(e=>e.slug===n);if(r.admin.enableListViewSelectAPI){var o;l[null!=(o=r.admin.useAsTitle)?o:"id"]=!0,r.upload&&(0,N.f)({collectionConfig:r,select:l})}x&&t.append("locale",x);let i=a.map(cL);t.append("where[id][in]",i.join(","));let s="?".concat(t.toString(),"&").concat(b.A({select:l})),u=await fetch("".concat(e).concat(s),{credentials:"include",headers:{"Accept-Language":y.language}});if(u.ok){let e=await u.json();e.docs&&c({type:"ADD_LOADED",docs:e.docs,idsToLoad:a,relationTo:n})}else c({type:"ADD_LOADED",docs:[],idsToLoad:a,relationTo:n})}})},n[1]=g,n[2]=h,n[3]=d,n[4]=y,n[5]=x,n[6]=j):j=n[6];let C=j,S,_;n[7]!==C||n[8]!==x?(S=()=>{C(x&&w.current!==x),w.current=x},_=[x,C],n[7]=C,n[8]=x,n[9]=S,n[10]=_):(S=n[9],_=n[10]),(0,o.useEffect)(S,_),n[11]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{c({type:"REQUEST",docs:e})},n[11]=t):t=n[11];let k=t,E;return n[12]!==l||n[13]!==r?(E=(0,u.jsx)(cT,{value:{documents:r,getRelationships:k},children:l}),n[12]=l,n[13]=r,n[14]=E):E=n[14],E},cR=()=>(0,o.use)(cT);function cL(e){return String(e)}var cO=e=>{let{allowCreate:t,baseClass:n,buttonStyle:l,className:a,collections:o,i18n:r,icon:i,label:s,onClick:c,permissions:p,relationTo:h}=e;return t?Array.isArray(h)?(0,u.jsx)("div",{className:"".concat(n,"__add-new-polymorphic-wrapper"),children:(0,u.jsx)(ty,{button:(0,u.jsx)(tS,{buttonStyle:l,className:a,icon:i,children:s}),buttonType:"custom",horizontalAlign:"center",render:e=>{let{close:t}=e;return(0,u.jsx)(ts.ButtonGroup,{children:h.map(e=>{var l;return(null==(l=p.collections[e])?void 0:l.create)?(0,u.jsx)(ts.Button,{className:"".concat(n,"__relation-button--").concat(e),onClick:()=>{t(),c(e)},children:(0,d.s)(o.find(t=>t.slug===e).labels.singular,r)},e):null})})},size:"medium"})}):(0,u.jsx)(tS,{buttonStyle:l,className:a,onClick:()=>c(),children:s}):null},cF=Symbol.for("react.lazy");function cM(e){return o.isValidElement(e)||(null==e?void 0:e.$$typeof)===cF}var cI=e=>{let{cellData:t,nowrap:n}=e,l=(null==t?void 0:t.length)>100?"".concat(t.substring(0,100),""):t;return(0,u.jsx)("code",{className:"code-cell",style:n?{whiteSpace:"nowrap"}:{},children:(0,u.jsx)("span",{children:l})})};function cB(e){let{blockType:t}=e;return t}var cz=e=>{let{cellData:t,field:n,rowData:l}=e,{name:a,accessor:o,admin:r,timezone:c}=n,{date:d}=void 0===r?{}:r,{config:p}=(0,i.c)(),{admin:h}=p,{dateFormat:f}=h,{i18n:m}=(0,s.d)(),g=c&&l?(0,E.v)(l,"".concat(o||a,"_tz"),void 0):void 0,v=(null==d?void 0:d.displayFormat)||f;return(0,u.jsx)("span",{children:!!t&&ar({date:t,i18n:m,pattern:v,timezone:g})})},cU=()=>(0,u.jsxs)("svg",{height:"150",style:{backgroundColor:"#333333"},viewBox:"0 0 150 150",width:"150",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M82.8876 50.5H55.5555V100.5H94.4444V61.9818H82.8876V50.5Z",fill:"white"}),(0,u.jsx)("path",{d:"M82.8876 61.9818H94.4444L82.8876 50.5V61.9818Z",fill:"#9A9A9A"})]}),cV="thumbnail",cH=e=>{let t=(0,f.c)(6),{className:n,doc:l,fileSrc:a,height:r,imageCacheTag:s,size:c,width:d}=e,p=void 0===n?"":n,{filename:h}=void 0===l?{}:l,[m,g]=o.useState(void 0),v="".concat(cV,"--size-").concat(c||"medium"),b;t[0]!==p||t[1]!==v?(b=[cV,v,p],t[0]=p,t[1]=v,t[2]=b):b=t[2];let y=b.join(" "),x,w;t[3]!==a?(x=()=>{if(!a)return void g(!1);g(void 0);let e=new Image;e.src=a,e.onload=()=>{g(!0)},e.onerror=()=>{g(!1)}},w=[a],t[3]=a,t[4]=x,t[5]=w):(x=t[4],w=t[5]),o.useEffect(x,w);let j=null;if(a){let e=(null==a?void 0:a.includes("?"))?"&":"?";j=s?"".concat(a).concat(e).concat(encodeURIComponent(s)):a}return(0,u.jsxs)("div",{className:y,children:[void 0===m&&(0,u.jsx)(i.f,{height:"100%"}),m&&(0,u.jsx)("img",{alt:h,height:r,src:j,width:d}),!1===m&&(0,u.jsx)(cU,{})]})};function cq(e){let t,n=(0,f.c)(12),{alt:l,className:a,filename:r,fileSrc:s,imageCacheTag:c,size:d}=e,p=void 0===a?"":a,[h,m]=o.useState(void 0),g="".concat(cV,"--size-").concat(d||"medium"),v;n[0]!==p||n[1]!==g?(v=[cV,g,p],n[0]=p,n[1]=g,n[2]=v):v=n[2];let b=v.join(" "),y,x;n[3]!==s?(y=()=>{if(!s)return void m(!1);m(void 0);let e=new Image;e.src=s,e.onload=()=>{m(!0)},e.onerror=()=>{m(!1)}},x=[s],n[3]=s,n[4]=y,n[5]=x):(y=n[4],x=n[5]),o.useEffect(y,x);let w="";if(s){let e=(null==s?void 0:s.includes("?"))?"&":"?";w=c?"".concat(s).concat(e).concat(encodeURIComponent(c)):s}return n[6]!==l||n[7]!==b||n[8]!==h||n[9]!==r||n[10]!==w?(t=(0,u.jsxs)("div",{className:b,children:[void 0===h&&(0,u.jsx)(i.f,{height:"100%"}),h&&(0,u.jsx)("img",{alt:l||r,src:w}),!1===h&&(0,u.jsx)(cU,{})]}),n[6]=l,n[7]=b,n[8]=h,n[9]=r,n[10]=w,n[11]=t):t=n[11],t}var cW="file",cK=e=>{var t,n,l;let{cellData:a,collectionConfig:o,field:r,rowData:i}=e;if(null!=(l=null!=(n="displayPreview"in r?r.displayPreview:void 0)?n:null==(t=o.upload)?void 0:t.displayPreview)&&!l)return(0,u.jsx)(u.Fragment,{children:String(a)});{let e=(0,P.w)(null==i?void 0:i.mimeType),t=e?(null==i?void 0:i.thumbnailURL)||(null==i?void 0:i.url):null==i?void 0:i.thumbnailURL;return e&&(t=(0,D.k)({sizes:null==i?void 0:i.sizes,thumbnailURL:null==i?void 0:i.thumbnailURL,url:null==i?void 0:i.url,width:null==i?void 0:i.width})),(0,u.jsxs)("div",{className:cW,children:[(0,u.jsx)(cH,{className:"".concat(cW,"__thumbnail"),collectionSlug:null==o?void 0:o.slug,doc:{...i,filename:a},fileSrc:t,size:"small",uploadConfig:null==o?void 0:o.upload}),(0,u.jsx)("span",{className:"".concat(cW,"__filename"),children:String(a)})]})}},cQ=!!("u">typeof window&&window.document&&window.document.createElement),cY=e=>{var t;let n,l,a,r,c=(0,f.c)(39),{cellData:p,customCellProps:h,field:m,field:g}=e,{label:v}=g,b="relationTo"in m&&m.relationTo||"collection"in m&&m.collection,y="collection"in m?null==p?void 0:p.docs:p,{config:x,getEntityConfig:w}=(0,i.c)(),{collections:j}=x,[C,S]=tx(),_;c[0]===Symbol.for("react.memo_cache_sentinel")?(_=[],c[0]=_):_=c[0];let[k,N]=(0,o.useState)(_),{documents:E,getRelationships:P}=cR(),[D,T]=(0,o.useState)(!1),{i18n:A,t:R}=(0,s.d)(),L=!!cQ&&(null==S||null==(t=S.boundingClientRect)?void 0:t.top)<window.innerHeight,O;if(c[1]!==y||c[2]!==P||c[3]!==D||c[4]!==L||c[5]!==b?(O=()=>{if((y||"number"==typeof y)&&L&&!D){let e=[],t=Array.isArray(y)?y:[y];t.slice(0,t.length<3?t.length:3).forEach(t=>{"object"==typeof t&&"relationTo"in t&&"value"in t&&e.push(t),("number"==typeof t||"string"==typeof t)&&"string"==typeof b&&e.push({relationTo:b,value:t})}),P(e),T(!0),N(e)}},c[1]=y,c[2]=P,c[3]=D,c[4]=L,c[5]=b,c[6]=O):O=c[6],c[7]!==y||c[8]!==j||c[9]!==P||c[10]!==D||c[11]!==L||c[12]!==b?(n=[y,b,j,L,D,P],c[7]=y,c[8]=j,c[9]=P,c[10]=D,c[11]=L,c[12]=b,c[13]=n):n=c[13],(0,o.useEffect)(O,n),c[14]!==D?(l=()=>{D&&T(!1)},c[14]=D,c[15]=l):l=c[15],c[16]!==y?(a=[y],c[16]=y,c[17]=a):a=c[17],(0,o.useEffect)(l,a),c[18]!==y||c[19]!==x.admin||c[20]!==h||c[21]!==E||c[22]!==m||c[23]!==w||c[24]!==A||c[25]!==C||c[26]!==v||c[27]!==R||c[28]!==k){let e;c[30]!==x.admin||c[31]!==h||c[32]!==E||c[33]!==m||c[34]!==w||c[35]!==A||c[36]!==R||c[37]!==k.length?(e=(e,t)=>{var n,l,a;let{relationTo:r,value:i}=e,s=E[r][i],c=w({collectionSlug:r}),d=au({collectionConfig:c,data:s||null,dateFormat:x.admin.dateFormat,fallback:"".concat(R("general:untitled")," - ID: ").concat(i),i18n:A}),p=null;return"upload"===m.type&&(null==(a=null!=(l="displayPreview"in m?m.displayPreview:void 0)?l:null==(n=c.upload)?void 0:n.displayPreview)||a)&&s&&(p=(0,u.jsx)(cK,{cellData:d,collectionConfig:c,collectionSlug:c.slug,customCellProps:h,field:m,rowData:s})),(0,u.jsxs)(o.Fragment,{children:[!1===s&&"".concat(R("general:untitled")," - ID: ").concat(i),null===s&&"".concat(R("general:loading"),"..."),s?p||d:null,k.length>t+1&&", "]},t)},c[30]=x.admin,c[31]=h,c[32]=E,c[33]=m,c[34]=w,c[35]=A,c[36]=R,c[37]=k.length,c[38]=e):e=c[38],r=(0,u.jsxs)("div",{className:"relationship-cell",ref:C,children:[k.map(e),Array.isArray(y)&&y.length>3&&R("fields:itemsAndMore",{count:y.length-3,items:""}),0===k.length&&R("general:noLabel",{label:(0,d.s)(v||"",A)})]}),c[18]=y,c[19]=x.admin,c[20]=h,c[21]=E,c[22]=m,c[23]=w,c[24]=A,c[25]=C,c[26]=v,c[27]=R,c[28]=k,c[29]=r}else r=c[29];return r},cG=e=>{let t=(0,f.c)(7),{cellData:n,field:l}=e,{options:a}=l,{i18n:o}=(0,s.d)(),r;t[0]!==o||t[1]!==a?(r=e=>e.map(e=>{var t,n;let l=null==(n=a.filter(t=>t.value===e))||null==(t=n[0])?void 0:t.label;return(0,d.s)(l,o)}).join(", "),t[0]=o,t[1]=a,t[2]=r):r=t[2];let i=r,c;if(t[3]!==n||t[4]!==i||t[5]!==a){let e;e=(0,m.Vh)(a)?i(Array.isArray(n)?n:[n]):Array.isArray(n)?n.join(", "):n,c=(0,u.jsx)("span",{children:e}),t[3]=n,t[4]=i,t[5]=a,t[6]=c}else c=t[6];return c},cX={array:e=>{let t=(0,f.c)(2),{cellData:n,field:l}=e,{labels:a}=l,{i18n:o}=(0,s.d)(),r=null!=n?n:[],i=1===r.length?"".concat(r.length," ").concat((0,d.s)((null==a?void 0:a.singular)||o.t("general:rows"),o)):"".concat(r.length," ").concat((0,d.s)((null==a?void 0:a.plural)||o.t("general:rows"),o)),c;return t[0]!==i?(c=(0,u.jsx)("span",{children:i}),t[0]=i,t[1]=c):c=t[1],c},blocks:e=>{var t;let n,l=(0,f.c)(2),{cellData:a,field:o}=e,{blockReferences:r,blocks:c,labels:p}=o,{i18n:h}=(0,s.d)(),{config:m}=(0,i.c)(),g=Array.isArray(a)?a.map(cB):[],v=null==(t=null!=r?r:c)?void 0:t.map(e=>{let t="string"==typeof e?m.blocksMap[e]:e;return{slug:t.slug,label:(0,d.s)(t.labels.singular,h)}}),b="0 ".concat((0,d.s)(null==p?void 0:p.plural,h)),y=e=>e.map(e=>{var t,n;return null==(n=v.filter(t=>t.slug===e))||null==(t=n[0])?void 0:t.label}).join(", ");if(g.length>5){let e=g.length-5;b="".concat(g.length," ").concat((0,d.s)(null==p?void 0:p.plural,h)," - ").concat(h.t("fields:itemsAndMore",{count:e,items:y(g.slice(0,5))}))}else g.length>0&&(b="".concat(g.length," ").concat((0,d.s)(1===g.length?null==p?void 0:p.singular:null==p?void 0:p.plural,h)," - ").concat(y(g)));return l[0]!==b?(n=(0,u.jsx)("span",{children:b}),l[0]=b,l[1]=n):n=l[1],n},checkbox:e=>{let t=(0,f.c)(3),{cellData:n}=e,{t:l}=(0,s.d)(),a="general:".concat(n),o;return t[0]!==l||t[1]!==a?(o=(0,u.jsx)("code",{className:"bool-cell",children:(0,u.jsx)("span",{children:l(a).toLowerCase()})}),t[0]=l,t[1]=a,t[2]=o):o=t[2],o},code:cI,date:cz,File:cK,join:cY,json:e=>{let{cellData:t}=e,n=(null==t?void 0:t.length)>100?"".concat(t.substring(0,100),""):t;return(0,u.jsx)("code",{className:"json-cell",children:(0,u.jsx)("span",{children:JSON.stringify(n)})})},radio:cG,relationship:cY,select:cG,textarea:e=>{let{cellData:t}=e,n=(null==t?void 0:t.length)>100?"".concat(t.substring(0,100),""):t;return(0,u.jsx)("span",{children:n})},upload:cY},c$=e=>{let t=(0,f.c)(16),{cellData:n,className:l,collectionSlug:a,field:o,field:r,link:c,linkURL:p,onClick:h,rowData:g,viewType:b}=e,{admin:y}=r,{i18n:x}=(0,s.d)(),{config:w,getEntityConfig:j}=(0,i.c)(),{routes:C}=w,{admin:S}=C,_,k;if(t[0]!==y||t[1]!==S||t[2]!==n||t[3]!==l||t[4]!==a||t[5]!==o||t[6]!==j||t[7]!==x||t[8]!==c||t[9]!==p||t[10]!==h||t[11]!==e||t[12]!==g||t[13]!==b){k=Symbol.for("react.early_return_sentinel");e:{let t=j({collectionSlug:a}),r=y&&"className"in y?y.className:void 0,i=l||(o.admin&&"className"in o.admin?o.admin.className:null)||r,s="span",f={className:i};if(c&&(f.prefetch=!1,s=te,p?f.href=p:f.href=(null==t?void 0:t.slug)?(0,v.Q)({adminRoute:S,path:"/collections/".concat(null==t?void 0:t.slug).concat("trash"===b?"/trash":"","/").concat(encodeURIComponent(g.id))}):""),"function"==typeof h&&(s="button",f.type="button",f.onClick=()=>{h({cellData:n,collectionSlug:null==t?void 0:t.slug,rowData:g})}),(0,m.uT)(o)){k=(0,u.jsx)(s,{...f,children:(0,u.jsx)(cI,{cellData:"ID: ".concat(n),collectionConfig:t,collectionSlug:a,field:{...o,type:"code"},nowrap:!0,rowData:g})});break e}let w=((e,t,n)=>{if(((null==t?void 0:t.type)==="select"||(null==t?void 0:t.type)==="radio")&&Array.isArray(t.options)){let l=t.options.find(t=>"object"==typeof t?t.value===e:t===e);if(l)return"object"==typeof l&&"label"in l?cM(l.label)?l.label:(0,d.s)(l.label,n)||l.value:l}return e})(n,o,x),C="u">typeof n&&cX[o.type],N=null;if(cM(w))N=w;else if(C)N=(0,u.jsx)(C,{cellData:n,rowData:g,...e});else if(!C)if((null==t?void 0:t.upload)&&(0,m.Z7)(o)&&"filename"===o.name&&"text"===o.type){let l=cX.File;N=(0,u.jsx)(l,{cellData:n,rowData:g,...e,collectionConfig:t,field:o})}else{k=(0,u.jsxs)(s,{...f,children:[(""===w||typeof w>"u"||null===w)&&x.t("general:noLabel",{label:(0,d.s)(("label"in o?o.label:null)||"data",x)}),"string"==typeof w&&w,"number"==typeof w&&w,"object"==typeof w&&null!==w&&JSON.stringify(w)]});break e}if(("select"===o.type||"radio"===o.type)&&o.options.length&&n){let e=Array.isArray(n)?n.map(cZ).join(" "):"selected--".concat(n),t=[f.className,e].filter(Boolean).join(" ");k=(0,u.jsx)(s,{...f,className:t,children:N});break e}_=(0,u.jsx)(s,{...f,children:N})}t[0]=y,t[1]=S,t[2]=n,t[3]=l,t[4]=a,t[5]=o,t[6]=j,t[7]=x,t[8]=c,t[9]=p,t[10]=h,t[11]=e,t[12]=g,t[13]=b,t[14]=_,t[15]=k}else _=t[14],k=t[15];return k!==Symbol.for("react.early_return_sentinel")?k:_};function cZ(e){return"selected--".concat(e)}var cJ=o.createContext(null),c0=()=>o.use(cJ),c1=e=>{let t=(0,f.c)(9),{clientProps:n,columnIndex:l,isLinkedColumn:a}=e,{drawerSlug:o,onSelect:r}=s3(),{LinkedCellOverride:i}=cl(),s;if(t[0]!==i||t[1]!==n||t[2]!==l||t[3]!==o||t[4]!==a||t[5]!==r){let e={...n,columnIndex:l};if(a&&o){let n;e.className="".concat("default-cell","__first-cell"),e.link=!1,t[7]!==r?(n=e=>{let{collectionSlug:t,rowData:n}=e;"function"==typeof r&&r({collectionSlug:t,doc:n,docID:n.id})},t[7]=r,t[8]=n):n=t[8],e.onClick=n}s=(0,u.jsx)(cJ,{value:e,children:a&&i?i:(0,u.jsx)(c$,{...e})}),t[0]=i,t[1]=n,t[2]=l,t[3]=o,t[4]=a,t[5]=r,t[6]=s}else s=t[6];return s},c3=e=>{let t=(0,f.c)(3),{onDrawerOpen:n}=e,l=c0(),a;return t[0]!==l||t[1]!==n?(a=(0,u.jsxs)("div",{className:"drawer-link",children:[(0,u.jsx)(c$,{...l,className:"drawer-link__cell",link:!1,onClick:null}),(0,u.jsx)("button",{className:"drawer-link__doc-drawer-toggler",onClick:()=>{n(l.rowData.id)},type:"button",children:(0,u.jsx)(ta,{})})]}),t[0]=l,t[1]=n,t[2]=a):a=t[2],a},c2="clickable-arrow",c6="paginator__page",c5=e=>{let{isCurrent:t,isFirstPage:n=!1,isLastPage:l=!1,page:a=1,updatePage:o}=e,r=[c6,t&&"".concat(c6,"--is-current"),n&&"".concat(c6,"--is-first-page"),l&&"".concat(c6,"--is-last-page")].filter(Boolean).join(" ");return(0,u.jsx)("button",{className:r,onClick:()=>o(a),type:"button",children:a})},c4={ClickableArrow:e=>{let{direction:t="right",isDisabled:n=!1,updatePage:l}=e,a=[c2,n&&"".concat(c2,"--is-disabled"),t&&"".concat(c2,"--").concat(t)].filter(Boolean).join(" ");return(0,u.jsx)("button",{className:a,disabled:n,onClick:n?void 0:l,type:"button",children:(0,u.jsx)(tl,{})})},Page:c5,Separator:()=>(0,u.jsx)("span",{className:"paginator__separator",children:""})},c8=e=>{let{hasNextPage:t=!1,hasPrevPage:n=!1,nextPage:l=null,numberOfNeighbors:a=1,onChange:o,page:r,prevPage:i=null,totalPages:s=null}=e;if(!n&&!t)return null;let c=e=>{"function"==typeof o&&o(e)},d=Array.from({length:s},(e,t)=>t+1),p=r-1-a;p<=0&&(p=0);let h=r-1+a+1,f=d.slice(p,h);return r-a-1>=2&&f.unshift({type:"Separator"}),r>a+1&&f.unshift({type:"Page",props:{isFirstPage:!0,page:1,updatePage:c}}),r+a+1<s&&f.push({type:"Separator"}),h<s&&f.push({type:"Page",props:{isLastPage:!0,page:s,updatePage:c}}),f.unshift({type:"ClickableArrow",props:{direction:"right",isDisabled:!t,updatePage:()=>c(null!=l?l:r+1)}}),f.unshift({type:"ClickableArrow",props:{direction:"left",isDisabled:!n,updatePage:()=>c(null!=i?i:Math.max(1,r-1))}}),(0,u.jsx)("div",{className:"paginator",children:f.map((e,t)=>{if("number"==typeof e)return(0,u.jsx)(c5,{isCurrent:r===e,page:e,updatePage:c},t);let n=c4[e.type];return(0,u.jsx)(n,{...e.props},t)})})},c7=()=>{let e=(0,f.c)(11),{data:t,handlePageChange:n}=s5(),l=t.nextPage||2,a;e[0]!==n?(a=e=>{n(e)},e[0]=n,e[1]=a):a=e[1];let o=t.page||1,r=t.prevPage||void 0,i;return e[2]!==t.hasNextPage||e[3]!==t.hasPrevPage||e[4]!==t.limit||e[5]!==t.totalPages||e[6]!==l||e[7]!==a||e[8]!==o||e[9]!==r?(i=(0,u.jsx)(c8,{hasNextPage:t.hasNextPage,hasPrevPage:t.hasPrevPage,limit:t.limit,nextPage:l,numberOfNeighbors:1,onChange:a,page:o,prevPage:r,totalPages:t.totalPages}),e[2]=t.hasNextPage,e[3]=t.hasPrevPage,e[4]=t.limit,e[5]=t.totalPages,e[6]=l,e[7]=a,e[8]=o,e[9]=r,e[10]=i):i=e[10],i},c9="relationship-table",ue=e=>{var t,n,l,a,r,c;let{AfterInput:p,allowCreate:h=!0,BeforeInput:f,disableTable:m=!1,field:g,fieldPath:v,filterOptions:b,initialData:y,initialDrawerData:x,Label:w,parent:j,relationTo:C}=e,[k,N]=(0,o.useState)(null),{config:E,getEntityConfig:P}=(0,i.c)(),{i18n:D,t:T}=(0,s.d)(),[A,R]=(0,o.useState)(),[L,O]=(0,o.useState)(!1),[F]=(0,o.useState)(()=>P({collectionSlug:C})),M=Array.isArray(C),[I,B]=(0,o.useState)(M?void 0:C),{permissions:z}=lf(),U=(0,o.useRef)(!1),[V,H]=(0,o.useState)(void 0),[q,,{closeDrawer:W,isDrawerOpen:K,openDrawer:Q}]=cE({id:V,collectionSlug:I}),[Y,G]=(0,o.useState)(!m),[X,$]=(0,o.useState)(()=>y?{...y,docs:Array.isArray(y.docs)?y.docs.reduce((e,t)=>"string"==typeof t||"number"==typeof t?[...e,{id:t}]:[...e,t],[]):[]}:void 0),[Z,J]=(0,o.useState)(),{getTableState:ee}=ce(),et=(0,o.useCallback)(async e=>{var t,n;let l={limit:(null==g?void 0:g.defaultLimit)||(null==F||null==(n=F.admin)||null==(t=n.pagination)?void 0:t.defaultLimit),sort:g.defaultSort||(null==F?void 0:F.defaultSort),...A||{},where:{...(null==A?void 0:A.where)||{}}};b&&(l.where=(0,S.Y)(l.where,b));let a=g.admin.defaultColumns?g.admin.defaultColumns.map(e=>({accessor:e,active:!0})):void 0,o="boolean"==typeof g.admin.disableRowTypes?!g.admin.disableRowTypes:Array.isArray(C),{data:r,state:i,Table:s}=await ee({collectionSlug:C,columns:(0,_.l)(null==A?void 0:A.columns)||a,data:e,enableRowSelections:!1,orderableFieldName:!g.orderable||Array.isArray(g.collection)?void 0:"_".concat(g.collection,"_").concat(g.name,"_order"),parent:j,query:l,renderRowTypes:o,tableAppearance:"condensed"});$(r),N(s),J(i),G(!1)},[g.defaultLimit,g.defaultSort,g.admin.defaultColumns,g.admin.disableRowTypes,g.collection,g.name,g.orderable,null==F||null==(n=F.admin)||null==(t=n.pagination)?void 0:t.defaultLimit,null==F?void 0:F.defaultSort,A,b,ee,C,j]),en=tf((e,t)=>{t||k&&!e||et()});(0,o.useEffect)(()=>{en(A,m)},[A,m]);let el=(0,o.useCallback)(e=>{var t;let{doc:n,operation:l}=e;"create"===l&&W();let a=null==X||null==(t=X.docs)?void 0:t.findIndex(e=>e.id===n.id),o={docs:[]};if(-1!==a){let e=[...X.docs];e[a]=n,o.docs=e}else o.docs=[n,...X.docs];et(o)},[null==X?void 0:X.docs,et,W]),ea=(0,o.useCallback)(e=>{let t=X.docs.filter(t=>t.id!==e.id);et({...X,docs:t}),H(void 0)},[X,et]),eo=(0,o.useCallback)(e=>{U.current=!0,H(e||void 0)},[]);(0,o.useEffect)(()=>{U.current&&(U.current=!1,Q())},[Q]),(0,o.useEffect)(()=>{K||H(void 0)},[K]);let er=!1!==h&&(null==z||null==(a=z.collections)||null==(l=a[M?C[0]:C])?void 0:l.create);(0,o.useEffect)(()=>{M&&I&&Q()},[I,Q,M]),(0,o.useEffect)(()=>{M&&!K&&I&&B(void 0)},[K]);let ei=o.useMemo(()=>{var e,t,n,l,a;return{columns:null==(e=(0,_.l)(Z))?void 0:e.map(e=>{let{accessor:t}=e;return t}),limit:null!=(l=g.defaultLimit)?l:null==F||null==(n=F.admin)||null==(t=n.pagination)?void 0:t.defaultLimit,sort:null!=(a=g.defaultSort)?a:null==F?void 0:F.defaultSort}},[Z,g,F]);return(0,u.jsxs)("div",{className:c9,children:[(0,u.jsxs)("div",{className:"".concat(c9,"__header"),children:[w,(0,u.jsxs)("div",{className:"".concat(c9,"__actions"),children:[(0,u.jsx)(cO,{allowCreate:!1!==h,baseClass:c9,buttonStyle:"none",className:"".concat(c9,"__add-new").concat(M?"-polymorphic":" doc-drawer__toggler"),collections:E.collections,i18n:D,icon:M?"plus":void 0,label:D.t("fields:addNew"),onClick:M?B:Q,permissions:z,relationTo:C}),(0,u.jsx)(a4,{"aria-controls":"".concat(c9,"-columns"),"aria-expanded":L,className:"".concat(c9,"__toggle-columns ").concat(L?"".concat(c9,"__buttons-active"):""),icon:(0,u.jsx)(tl,{direction:L?"up":"down"}),onClick:()=>O(!L),pillStyle:"light",size:"small",children:T("general:columns")})]})]}),f,Y?(0,u.jsx)("p",{children:T("general:loading")}):(0,u.jsxs)(o.Fragment,{children:[(null==X?void 0:X.docs)&&0===X.docs.length&&(0,u.jsxs)("div",{className:"".concat(c9,"__no-results"),children:[(0,u.jsx)("p",{children:D.t("general:noResults",{label:M?D.t("general:documents"):(0,d.s)(null==F||null==(r=F.labels)?void 0:r.plural,D)})}),(0,u.jsx)(cO,{allowCreate:er,baseClass:c9,collections:E.collections,i18n:D,label:D.t("general:createNewLabel",{label:M?D.t("general:document"):(0,d.s)(null==F||null==(c=F.labels)?void 0:c.singular,D)}),onClick:M?B:Q,permissions:z,relationTo:C})]}),(null==X?void 0:X.docs)&&X.docs.length>0&&(0,u.jsx)(cA,{children:(0,u.jsx)(s7,{data:X,modifySearchParams:!1,onQueryChange:R,orderableFieldName:!g.orderable||Array.isArray(g.collection)?void 0:"_".concat(g.collection,"_").concat(v.replaceAll(".","_"),"_order"),query:ei,children:(0,u.jsxs)(ca,{collectionSlug:M?C[0]:C,columnState:Z,LinkedCellOverride:(0,u.jsx)(c3,{currentDrawerID:V,onDrawerOpen:eo}),children:[(0,u.jsx)(aX,{className:"".concat(c9,"__columns"),height:L?"auto":0,id:"".concat(c9,"-columns"),children:(0,u.jsx)("div",{className:"".concat(c9,"__columns-inner"),children:F&&(0,u.jsx)(ci,{collectionSlug:F.slug})})}),k,(0,u.jsx)(c7,{})]})})})]}),p,(0,u.jsx)(q,{initialData:x,onDelete:ea,onSave:el})]})},ut="default"in sJ.default?sJ.default.default:sJ.default,un=e=>{var t;let{collectionSlug:n,config:l,docID:a,fields:o,segments:r}=e,i=(0,C.L)(o,{keepPresentationalFields:!0}),s=r[0],c=i.find(e=>e.name===s);if(!c)return null;if("relationship"===c.type||"upload"===c.type){let e=a;return Array.isArray(c.relationTo)&&(e={relationTo:n,value:a}),{[c.name]:c.hasMany?[e]:e}}let u=r.slice(1,r.length);if("tab"===c.type||"group"===c.type&&(0,m.Z7)(c))return{[c.name]:un({collectionSlug:n,config:l,docID:a,fields:c.fields,segments:u})};if("array"===c.type){let e=un({collectionSlug:n,config:l,docID:a,fields:c.fields,segments:u});return e.id=ut().toHexString(),{[c.name]:[e]}}if("blocks"===c.type)for(let e of null!=(t=c.blockReferences)?t:c.blocks){let t="string"==typeof e?l.blocksMap[e]:e,o=un({collectionSlug:n,config:l,docID:a,fields:t.fields,segments:u});if(o)return o.id=ut().toHexString(),o.blockType=t.slug,{[c.name]:[o]}}},ul=aO(e=>{let{field:t,field:{admin:{allowCreate:n,description:l},collection:a,label:r,localized:s,on:c,required:d},path:p}=e,{id:h,docConfig:f}=aC(),{config:m,getEntityConfig:g}=(0,i.c)(),{customComponents:{AfterInput:v,BeforeInput:b,Description:y,Error:x,Label:w}={},path:j,showError:C,value:S}=aA({potentiallyStalePath:p}),_=(0,o.useMemo)(()=>{if(!h)return null;let e=h;Array.isArray(t.targetField.relationTo)&&(e={relationTo:f.slug,value:e});let n=Array.isArray(a)?{}:{[c]:{equals:e}};return t.where?{and:[n,t.where]}:n},[h,a,t.targetField.relationTo,t.where,c,null==f?void 0:f.slug]),k=(0,o.useMemo)(()=>{let e=g({collectionSlug:Array.isArray(t.collection)?t.collection[0]:t.collection});return un({collectionSlug:null==f?void 0:f.slug,config:m,docID:h,fields:null==e?void 0:e.fields,segments:t.on.split(".")})},[g,t.collection,t.on,null==f?void 0:f.slug,h,m]);return f?(0,u.jsxs)("div",{className:[aM,C&&"error","join"].filter(Boolean).join(" "),id:"field-".concat(null==j?void 0:j.replace(/\./g,"__")),children:[(0,u.jsx)(ed,{CustomComponent:x,Fallback:(0,u.jsx)(t9,{path:j,showError:C})}),(0,u.jsx)(ue,{AfterInput:v,allowCreate:"u">typeof h&&n,BeforeInput:b,disableTable:null===_,field:t,fieldPath:j,filterOptions:_,initialData:h&&S?S:{docs:[]},initialDrawerData:k,Label:(0,u.jsx)("h4",{style:{margin:0},children:w||(0,u.jsx)(lC,{label:r,localized:s,path:j,required:d})}),parent:Array.isArray(a)?{id:h,collectionSlug:f.slug,joinPath:j}:void 0,relationTo:a}),(0,u.jsx)(ed,{CustomComponent:y,Fallback:(0,u.jsx)(t7,{description:l,path:j})})]}):null}),ua=aO(e=>{let{field:t,field:{admin:{className:n,description:l,editorOptions:a,maxHeight:r}={},jsonSchema:s,label:c,localized:d,required:p},path:h,readOnly:f,validate:m}=e,{insertSpaces:g=i.k.insertSpaces,tabSize:v=i.k.tabSize}=a||{},b=(0,o.useCallback)(e=>{if(void 0!==e)return null===e?"":g?JSON.stringify(e,null,v):JSON.stringify(e,null,"	")},[v,g]),[y,x]=(0,o.useState)(),w=o.useRef("formState"),[j,C]=(0,o.useState)(Date.now()),{customComponents:{AfterInput:S,BeforeInput:_,Description:k,Error:N,Label:E}={},disabled:P,initialValue:D,path:T,setValue:A,showError:R,value:L}=aA({potentiallyStalePath:h,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof m)return m(e,{...t,jsonError:y,required:p})},[m,p,y])}),O=o.useRef(b(null!=L?L:D)),F=(0,o.useCallback)((e,t)=>{if(!s)return;t.languages.json.jsonDefaults.setDiagnosticsOptions({enableSchemaRequest:!0,schemas:[...t.languages.json.jsonDefaults.diagnosticsOptions.schemas||[],s],validate:!0});let n=s.uri,l=n.includes("?")?"".concat(n,"&").concat(crypto.randomUUID?crypto.randomUUID():oo()):"".concat(n,"?").concat(crypto.randomUUID?crypto.randomUUID():oo());e.setModel(t.editor.createModel(b(L)||"","json",t.Uri.parse(l)))},[s,b,L]),M=(0,o.useCallback)(e=>{if(!(f||P)){w.current="internalEditor";try{A(e?JSON.parse(e):null),O.current=e,x(void 0)}catch(t){A(e||null),O.current=e,x(t)}}},[f,P,A]);(0,o.useEffect)(()=>{if("formState"===w.current){let e=b(null!=L?L:D);e!==O.current&&(O.current=e,C(Date.now()))}w.current="formState"},[D,T,b,L]);let I=(0,o.useMemo)(()=>aF(t),[t]);return(0,u.jsxs)("div",{className:[aM,"json-field",n,R&&"error",(f||P)&&"read-only"].filter(Boolean).join(" "),style:I,children:[(0,u.jsx)(ed,{CustomComponent:E,Fallback:(0,u.jsx)(lC,{label:c,localized:d,path:T,required:p})}),(0,u.jsxs)("div",{className:"".concat(aM,"__wrap"),children:[(0,u.jsx)(ed,{CustomComponent:N,Fallback:(0,u.jsx)(t9,{message:y,path:T,showError:R})}),_,(0,u.jsx)(ow,{defaultLanguage:"json",maxHeight:r,onChange:M,onMount:F,options:a,readOnly:f||P,recalculatedHeightAt:j,value:O.current,wrapperProps:{id:"field-".concat(null==T?void 0:T.replace(/\./g,"__"))}}),S]}),(0,u.jsx)(ed,{CustomComponent:k,Fallback:(0,u.jsx)(t7,{description:l,path:T})})]})}),uo=aO(e=>{let{field:t,field:{admin:{className:n,description:l,placeholder:a,step:r=1}={},hasMany:i=!1,label:c,localized:p,max:h=1/0,maxRows:f=1/0,min:m=-1/0,required:g},onChange:v,path:b,readOnly:y,validate:x}=e,{i18n:w,t:j}=(0,s.d)(),{customComponents:{AfterInput:C,BeforeInput:S,Description:_,Error:k,Label:N}={},disabled:E,path:P,setValue:D,showError:A,value:R}=aA({potentiallyStalePath:b,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof x)return x(e,{...t,max:h,min:m,required:g})},[x,m,h,g])}),L=(0,o.useCallback)(e=>{let t=parseFloat(e.target.value),n=t;Number.isNaN(t)&&(n=null),"function"==typeof v&&v(n),D(n)},[v,D]),[O,F]=(0,o.useState)([]),M=(0,o.useCallback)(e=>{if(!(y||E)){var t;D(e?Array.isArray(e)?e.map(e=>{var t;return Number((null==(t=e.value)?void 0:t.value)||e.value)}):[Number((null==(t=e.value)?void 0:t.value)||e.value)]:[])}},[y,E,D]);(0,o.useEffect)(()=>{i&&Array.isArray(R)&&F(R.map((e,t)=>({id:"".concat(e).concat(t),label:"".concat(e),value:{toString:()=>"".concat(e).concat(t),value:(null==e?void 0:e.value)||e}})))},[R,i]);let I=(0,o.useMemo)(()=>aF(t),[t]),B=(0,d.s)(a,w);return(0,u.jsxs)("div",{className:[aM,"number",n,A&&"error",(y||E)&&"read-only",i&&"has-many"].filter(Boolean).join(" "),style:I,children:[(0,u.jsx)(ed,{CustomComponent:N,Fallback:(0,u.jsx)(lC,{label:c,localized:p,path:P,required:g})}),(0,u.jsxs)("div",{className:"".concat(aM,"__wrap"),children:[(0,u.jsx)(ed,{CustomComponent:k,Fallback:(0,u.jsx)(t9,{path:P,showError:A})}),S,i?(0,u.jsx)(sI,{className:"field-".concat(P.replace(/\./g,"__")),disabled:y||E,filterOption:(e,t)=>{let n=Array.isArray(R)&&R.length>=f;return(0,T.E)(t)&&!n},isClearable:!0,isCreatable:!0,isMulti:!0,isSortable:!0,noOptionsMessage:()=>Array.isArray(R)&&R.length>=f?j("validation:limitReached",{max:f,value:R.length+1}):null,onChange:M,options:[],placeholder:B,showError:A,value:O}):(0,u.jsx)("div",{children:(0,u.jsx)("input",{disabled:y||E,id:"field-".concat(P.replace(/\./g,"__")),max:h,min:m,name:P,onChange:L,onWheel:e=>{e.target.blur()},placeholder:B,step:r,type:"number",value:"number"==typeof R?R:""})}),C,(0,u.jsx)(ed,{CustomComponent:_,Fallback:(0,u.jsx)(t7,{description:l,path:P})})]})]})}),ur="point",ui=aO(e=>{let{field:t,field:{admin:{className:n,description:l,placeholder:a,step:r}={},label:i,localized:c,required:p},path:h,readOnly:f,validate:m}=e,{i18n:g,t:v}=(0,s.d)(),{customComponents:{AfterInput:b,BeforeInput:y,Description:x,Error:w,Label:j}={},disabled:C,path:S,setValue:_,showError:k,value:N=[null,null]}=aA({potentiallyStalePath:h,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof m)return m(e,{...t,required:p})},[m,p])}),E=(0,o.useCallback)((e,t)=>{let n=parseFloat(e.target.value);Number.isNaN(n)&&(n=e.target.value);let l=[...N];l[t]=n,_(l)},[_,N]),P=e=>{let t=v("longitude"===e?"fields:longitude":"fields:latitude"),n=i?(0,d.s)(i,g):"";return"".concat(n).concat(n?" - ":"").concat(t)},D=(0,o.useMemo)(()=>aF(t),[t]);return(0,u.jsxs)("div",{className:[aM,ur,n,k&&"error",(f||C)&&"read-only"].filter(Boolean).join(" "),style:D,children:[(0,u.jsxs)("ul",{className:"".concat(ur,"__wrap"),children:[(0,u.jsxs)("li",{children:[(0,u.jsx)(ed,{CustomComponent:j,Fallback:(0,u.jsx)(lC,{label:P("longitude"),localized:c,path:S,required:p})}),(0,u.jsxs)("div",{className:"input-wrapper",children:[y,(0,u.jsx)("input",{disabled:f||C,id:"field-longitude-".concat(null==S?void 0:S.replace(/\./g,"__")),name:"".concat(S,".longitude"),onChange:e=>E(e,0),placeholder:(0,d.s)(a,g),step:r,type:"number",value:N&&"number"==typeof N[0]?N[0]:""}),b]})]}),(0,u.jsxs)("li",{children:[(0,u.jsx)(ed,{CustomComponent:j,Fallback:(0,u.jsx)(lC,{label:P("latitude"),localized:c,path:S,required:p})}),(0,u.jsxs)("div",{className:"input-wrapper",children:[(0,u.jsx)(ed,{CustomComponent:w,Fallback:(0,u.jsx)(t9,{path:S,showError:k})}),y,(0,u.jsx)("input",{disabled:f||C,id:"field-latitude-".concat(null==S?void 0:S.replace(/\./g,"__")),name:"".concat(S,".latitude"),onChange:e=>E(e,1),placeholder:(0,d.s)(a,g),step:r,type:"number",value:N&&"number"==typeof N[1]?N[1]:""}),b]})]})]}),(0,u.jsx)(ed,{CustomComponent:x,Fallback:(0,u.jsx)(t7,{description:l,path:S})})]})}),us="radio-input",uc=e=>{let t,n=(0,f.c)(16),{isSelected:l,onChange:a,option:o,path:r,readOnly:i,uuid:c}=e,{i18n:p}=(0,s.d)(),h=nn(),m="field-".concat(r,"-").concat(o.value).concat(h>1?"-".concat(h):"").concat(c?"-".concat(c):""),g=l&&"".concat(us,"--is-selected"),v;n[0]!==g?(v=[us,g].filter(Boolean),n[0]=g,n[1]=v):v=n[1];let b=v.join(" "),y;if(n[2]!==a||n[3]!==o.value?(y=()=>"function"==typeof a?a(o.value):null,n[2]=a,n[3]=o.value,n[4]=y):y=n[4],n[5]!==p||n[6]!==m||n[7]!==l||n[8]!==o.label||n[9]!==r||n[10]!==i||n[11]!==b||n[12]!==y){let e=(0,u.jsx)("input",{checked:l,disabled:i,id:m,name:r,onChange:y,type:"radio"}),a=i&&"".concat(us,"__styled-radio--disabled"),s;n[14]!==a?(s=["".concat(us,"__styled-radio"),a].filter(Boolean),n[14]=a,n[15]=s):s=n[15],t=(0,u.jsx)("label",{htmlFor:m,children:(0,u.jsxs)("div",{className:b,children:[e,(0,u.jsx)("span",{className:s.join(" ")}),(0,u.jsx)("span",{className:"".concat(us,"__label"),children:(0,d.s)(o.label,p)})]})}),n[5]=p,n[6]=m,n[7]=l,n[8]=o.label,n[9]=r,n[10]=i,n[11]=b,n[12]=y,n[13]=t}else t=n[13];return t},uu="radio-group",ud=aO(e=>{let{disableModifyingForm:t,field:n,field:{admin:{className:l,description:a,layout:r="horizontal"}={},label:i,localized:s,options:c=[],required:d}={},onChange:p,path:h,readOnly:f,validate:g,value:v}=e,{uuid:b}=eE(),{customComponents:{AfterInput:y,BeforeInput:x,Description:w,Error:j,Label:C}={},disabled:S,path:_,setValue:k,showError:N,value:E}=aA({potentiallyStalePath:h,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof g)return g(e,{...t,options:c,required:d})},[g,c,d])}),P=E||v,D=(0,o.useMemo)(()=>aF(n),[n]);return(0,u.jsxs)("div",{className:[aM,uu,l,"".concat(uu,"--layout-").concat(r),N&&"error",(f||S)&&"".concat(uu,"--read-only")].filter(Boolean).join(" "),style:D,children:[(0,u.jsx)(ed,{CustomComponent:j,Fallback:(0,u.jsx)(t9,{path:_,showError:N})}),(0,u.jsx)(ed,{CustomComponent:C,Fallback:(0,u.jsx)(lC,{label:i,localized:s,path:_,required:d})}),(0,u.jsxs)("div",{className:"".concat(aM,"__wrap"),children:[x,(0,u.jsx)("ul",{className:"".concat(uu,"--group"),id:"field-".concat(_.replace(/\./g,"__")),children:c.map(e=>{let n="",l=String(n=(0,m.vs)(e)?e.value:e)===String(P),a="field-".concat(_,"-").concat(n).concat(b?"-".concat(b):"");return(0,u.jsx)("li",{children:(0,u.jsx)(uc,{id:a,isSelected:l,onChange:()=>{"function"==typeof p&&p(n),f||S||k(n,!!t)},option:(0,m.vs)(e)?e:{label:e,value:e},path:_,readOnly:f||S,uuid:b})},"".concat(_," - ").concat(n))})}),y,(0,u.jsx)(ed,{CustomComponent:w,Fallback:(0,u.jsx)(t7,{description:a,path:_})})]})]})}),up="relationship-add-new",uh=e=>{var t,n;let l,a,r,i,c,p,h=(0,f.c)(46),{Button:m,hasMany:g,onChange:v,path:b,relationTo:y,unstyled:x,value:w}=e,j=cs(y),{permissions:C}=lf(),[S,_]=(0,o.useState)(!1),[k,N]=(0,o.useState)(),E=j.length>1,P;h[0]!==j[0]||h[1]!==E?(P=()=>E?void 0:j[0],h[0]=j[0],h[1]=E,h[2]=P):P=h[2];let[D,T]=(0,o.useState)(P),[A,L]=(0,o.useState)(!1),{i18n:O,t:F}=(0,s.d)(),[M,I]=(0,o.useState)(!1),B=null==D?void 0:D.slug,z;h[3]!==B?(z={collectionSlug:B},h[3]=B,h[4]=z):z=h[4];let[U,V,H]=cE(z),{isDrawerOpen:q,toggleDrawer:W}=H,K;h[5]!==D||h[6]!==g||h[7]!==v||h[8]!==w?(K=e=>{let{doc:t,operation:n}=e;("create"===n||"update"===n&&(0,R.s8)(D))&&(w&&(Array.isArray(w)?w.some(e=>e&&e.value===t.id):w.value===t.id)||v(!0===g?[...Array.isArray(w)?w:[],{relationTo:null==D?void 0:D.slug,value:t.id}]:{relationTo:null==D?void 0:D.slug,value:t.id}),N(void 0))},h[5]=D,h[6]=g,h[7]=v,h[8]=w,h[9]=K):K=h[9];let Q=K,Y;h[10]===Symbol.for("react.memo_cache_sentinel")?(Y=e=>{L(e)},h[10]=Y):Y=h[10];let G=Y,X,$;h[11]!==C||h[12]!==j?(X=()=>{var e,t;C&&(1===j.length?_(null==(e=C.collections[null==(t=j[0])?void 0:t.slug])?void 0:e.create):_(j.some(e=>{var t;return null==(t=C.collections[null==e?void 0:e.slug])?void 0:t.create})))},$=[C,j],h[11]=C,h[12]=j,h[13]=X,h[14]=$):(X=h[13],$=h[14]),(0,o.useEffect)(X,$),h[15]!==j||h[16]!==E||h[17]!==k?(a=()=>{E&&k&&T(j.find(e=>(null==e?void 0:e.slug)===k))},l=[k,E,j],h[15]=j,h[16]=E,h[17]=k,h[18]=l,h[19]=a):(l=h[18],a=h[19]),(0,o.useEffect)(a,l),h[20]!==D||h[21]!==E||h[22]!==W?(r=()=>{E&&D&&(W(),N(void 0))},i=[W,E,D],h[20]=D,h[21]=E,h[22]=W,h[23]=r,h[24]=i):(r=h[23],i=h[24]),(0,o.useEffect)(r,i),h[25]!==q||h[26]!==E?(c=()=>{E&&!q&&T(void 0)},p=[q,E],h[25]=q,h[26]=E,h[27]=c,h[28]=p):(c=h[27],p=h[28]),(0,o.useEffect)(c,p);let Z=null==(t=j[0])?void 0:t.labels.singular,J,ee;if(h[29]!==m||h[30]!==U||h[31]!==V||h[32]!==D||h[33]!==O||h[34]!==Q||h[35]!==b||h[36]!==C||h[37]!==A||h[38]!==j||h[39]!==S||h[40]!==M||h[41]!==F||h[42]!==Z||h[43]!==x){ee=Symbol.for("react.early_return_sentinel");e:{let e=F("fields:addNewLabel",{label:(0,d.s)(Z,O)});if(!S){ee=null;break e}J=(0,u.jsxs)("div",{className:up,id:"".concat(b,"-add-new"),children:[1===j.length&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(V,{className:["".concat(up,"__add-button"),x&&"".concat(up,"__add-button--unstyled")].filter(Boolean).join(" "),onClick:()=>{I(!1)},onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),children:m||(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(tw,{className:"".concat(up,"__tooltip"),show:M,children:e}),(0,u.jsx)(tr,{})]})}),(0,u.jsx)(U,{onSave:Q})]}),j.length>1&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(ty,{button:m||(0,u.jsx)(tS,{buttonStyle:"none",className:"".concat(up,"__add-button"),tooltip:A?void 0:F("fields:addNew"),children:(0,u.jsx)(tr,{})}),buttonType:"custom",horizontalAlign:"center",onToggleOpen:G,render:e=>{let{close:t}=e;return(0,u.jsx)(tp,{children:j.map(e=>{var n,l;return(null==(n=C.collections[null==e?void 0:e.slug])?void 0:n.create)?(0,u.jsx)(th,{className:"".concat(up,"__relation-button--").concat(null==e?void 0:e.slug),onClick:()=>{t(),N(null==e?void 0:e.slug)},children:(0,d.s)(null==e||null==(l=e.labels)?void 0:l.singular,O)},null==e?void 0:e.slug):null})})},size:"medium"}),D&&(null==(n=C.collections[null==D?void 0:D.slug])?void 0:n.create)&&(0,u.jsx)(U,{onSave:Q})]})]})}h[29]=m,h[30]=U,h[31]=V,h[32]=D,h[33]=O,h[34]=Q,h[35]=b,h[36]=C,h[37]=A,h[38]=j,h[39]=S,h[40]=M,h[41]=F,h[42]=Z,h[43]=x,h[44]=J,h[45]=ee}else J=h[44],ee=h[45];return ee!==Symbol.for("react.early_return_sentinel")?ee:J},uf=e=>{let{allowCreate:t=!0,collectionSlugs:n,disableQueryPresets:l,drawerSlug:a,enableRowSelections:r,filterOptions:s,onBulkSelect:c,onSelect:d,overrideEntityVisibility:p=!0,selectedCollection:h}=e,{closeModal:f,isModalOpen:m}=nj(),{serverFunction:g}=ce(),[v,b]=(0,o.useState)(void 0),[y,x]=(0,o.useState)(!0),{config:{collections:w},getEntityConfig:j}=(0,i.c)(),C=m(a),_=w.filter(e=>{let{slug:t}=e;return n.includes(t)}),[k,N]=(0,o.useState)(()=>{var e;let t=j({collectionSlug:h||(null==(e=_[0])?void 0:e.slug)});return t?{label:t.labels,value:t.slug}:void 0}),[E,P,{drawerSlug:D}]=cE({collectionSlug:k.value}),T=tf(e=>{var t;e&&e!==(null==k?void 0:k.value)&&N({label:null==(t=j({collectionSlug:e}))?void 0:t.labels,value:e})});(0,o.useEffect)(()=>{T(h)},[h]);let A=(0,o.useCallback)(async e=>{let{slug:t,query:n}=e;try{let e={...n||{},where:{...(null==n?void 0:n.where)||{}}},o=null==s?void 0:s[t];if(s&&"boolean"!=typeof o&&(e.where=(0,S.Y)(e.where,o)),t){let n=await g({name:"render-list",args:{collectionSlug:t,disableBulkDelete:!0,disableBulkEdit:!0,disableQueryPresets:l,drawerSlug:a,enableRowSelections:r,overrideEntityVisibility:p,query:e}});b((null==n?void 0:n.List)||null)}else b(null);x(!1)}catch(e){console.error("Error rendering List View: ",e),C&&f(a)}},[g,f,a,C,r,s,p,l]);(0,o.useEffect)(()=>{v||A({slug:null==k?void 0:k.value})},[A,v,k.value]);let R=(0,o.useCallback)(e=>{let{doc:t}=e;"function"==typeof d&&d({collectionSlug:null==k?void 0:k.value,doc:t,docID:t.id}),f(D),f(a)},[f,D,a,d,k.value]),L=(0,o.useCallback)(e=>{A({slug:null==k?void 0:k.value,query:e})},[A,k.value]),O=(0,o.useCallback)(e=>{N(e),A({slug:null==e?void 0:e.value})},[A]),F=(0,o.useCallback)(async e=>{var t;e&&N({label:null==(t=j({collectionSlug:e}))?void 0:t.labels,value:e}),await A({slug:k.value||e})},[j,A,k.value]);return y?(0,u.jsx)(cg,{}):(0,u.jsxs)(s1,{allowCreate:t,createNewDrawerSlug:D,DocumentDrawerToggler:P,drawerSlug:a,enabledCollections:n,onBulkSelect:c,onQueryChange:L,onSelect:d,refresh:F,selectedOption:k,setSelectedOption:O,children:[v,(0,u.jsx)(E,{onSave:R})]})},um="list-drawer",ug=e=>{let{children:t,className:n,disabled:l,drawerSlug:a,onClick:o,...r}=e;return(0,u.jsx)(ln,{className:[n,"".concat(um,"__toggler")].filter(Boolean).join(" "),disabled:l,onClick:o,slug:a,...r,children:t})},uv=e=>{let{drawerSlug:t}=e;return(0,u.jsx)(ll,{className:um,gutter:!1,Header:null,slug:t,children:(0,u.jsx)(uf,{...e})})},ub=e=>{let t,n,l,a=(0,f.c)(42),{collectionSlugs:r,filterOptions:s,selectedCollection:c,uploads:d}=e,{config:p}=(0,i.c)(),{collections:h}=p,m=nn(),g=(0,o.useId)(),{closeModal:v,modalState:b,openModal:y,toggleModal:x}=nj(),[w,j]=(0,o.useState)(!1),[C,S]=(0,o.useState)(r),_;a[0]!==m||a[1]!==g?(_=(e=>{let{depth:t,uuid:n}=e;return"list-drawer_".concat(t,"_").concat(n)})({depth:m,uuid:g}),a[0]=m,a[1]=g,a[2]=_):_=a[2];let k=_,N,E;a[3]!==k||a[4]!==b?(N=()=>{var e;j(!!(null==(e=b[k])?void 0:e.isOpen))},E=[b,k],a[3]=k,a[4]=b,a[5]=N,a[6]=E):(N=a[5],E=a[6]),(0,o.useEffect)(N,E),a[7]!==C||a[8]!==h||a[9]!==d?(t=()=>{C&&0!==C.length||S(h.filter(e=>{let{upload:t}=e;return!d||!!t}).map(uy))},n=[C,d,h],a[7]=C,a[8]=h,a[9]=d,a[10]=t,a[11]=n):(t=a[10],n=a[11]),(0,o.useEffect)(t,n),a[12]!==k||a[13]!==x?(l=()=>{x(k)},a[12]=k,a[13]=x,a[14]=l):l=a[14];let P=l,D;a[15]!==v||a[16]!==k?(D=()=>{v(k)},a[15]=v,a[16]=k,a[17]=D):D=a[17];let T=D,A;a[18]!==k||a[19]!==y?(A=()=>{y(k)},a[18]=k,a[19]=y,a[20]=A):A=a[20];let R=A,L;a[21]!==T||a[22]!==C||a[23]!==k||a[24]!==s||a[25]!==c||a[26]!==d?(L=e=>(0,o.createElement)(uv,{...e,closeDrawer:T,collectionSlugs:C,drawerSlug:k,filterOptions:s,key:k,selectedCollection:c,uploads:d}),a[21]=T,a[22]=C,a[23]=k,a[24]=s,a[25]=c,a[26]=d,a[27]=L):L=a[27];let O=L,F;a[28]!==k?(F=e=>(0,u.jsx)(ug,{...e,drawerSlug:k}),a[28]=k,a[29]=F):F=a[29];let M=F,I;a[30]!==T||a[31]!==C||a[32]!==m||a[33]!==k||a[34]!==w||a[35]!==R||a[36]!==P?(I={closeDrawer:T,collectionSlugs:C,drawerDepth:m,drawerSlug:k,isDrawerOpen:w,openDrawer:R,setCollectionSlugs:S,toggleDrawer:P},a[30]=T,a[31]=C,a[32]=m,a[33]=k,a[34]=w,a[35]=R,a[36]=P,a[37]=I):I=a[37];let B=I,z;return a[38]!==O||a[39]!==B||a[40]!==M?(z=[O,M,B],a[38]=O,a[39]=B,a[40]=M,a[41]=z):z=a[41],z};function uy(e){let{slug:t}=e;return t}var ux=(e,t)=>{let n=(0,f.c)(3),l=(0,o.useRef)(void 0),a;return n[0]!==e||n[1]!==t?(a=function(){for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];clearTimeout(l.current),l.current=setTimeout(()=>{clearTimeout(l.current),e(...a)},t)},n[0]=e,n[1]=t,n[2]=a):a=n[2],a};function uw(){let e=(0,o.useRef)([]),t=(0,o.useRef)(!1);return{queueTask:(0,o.useCallback)((n,l)=>{e.current.push(n),async function(){if(!t.current&&("function"!=typeof(null==l?void 0:l.beforeProcess)||!1!==l.beforeProcess()))for(;e.current.length>0;){let n=e.current.pop();e.current=[],t.current=!0;try{await n()}catch(e){console.error("Error in queued function:",e)}finally{t.current=!1,"function"==typeof(null==l?void 0:l.afterProcess)&&l.afterProcess()}}}()},[])}}var uj=(0,o.createContext)({mostRecentUpdate:null,reportUpdate:()=>null}),uC=e=>{let t=(0,f.c)(3),{children:n}=e,[l,a]=(0,o.useState)(null),r;return t[0]!==n||t[1]!==l?(r=(0,u.jsx)(uj,{value:{mostRecentUpdate:l,reportUpdate:a},children:n}),t[0]=n,t[1]=l,t[2]=r):r=t[2],r},uS=()=>(0,o.use)(uj),u_=e=>{for(let t in e){let n=e[t];if(("and"===t.toLowerCase()||"or"===t.toLowerCase())&&Array.isArray(n))for(let e of n)u_(e);else n&&"object"==typeof n&&"in"in n&&Array.isArray(n.in)&&0===n.in.length&&(e[t]={exists:!1})}return e},uk=e=>{let{hasMany:t,relationTo:n,value:l}=e,a=n.reduce((e,t)=>({...e,[t]:[]}),{});if(null===l)return a;if(l){let e=(e,t)=>{("string"==typeof t||"number"==typeof t)&&"string"==typeof e&&(a[e]?a[e].push(t):a[e]=[t])};!0===t?l.forEach(t=>{t&&e(t.relationTo,t.value)}):e(l.relationTo,l.value)}return a},uN=e=>e.reduce((e,t)=>t.options?[...e,...uN(t.options)]:[...e,{id:t.value,relationTo:t.relationTo}],[]),uE=e=>e.sort((e,t)=>{var n,l;return"function"==typeof(null==e||null==(n=e.label)?void 0:n.localeCompare)&&"function"==typeof(null==t||null==(l=t.label)?void 0:l.localeCompare)?e.label.localeCompare(t.label):0}),uP=(e,t)=>{switch(t.type){case"ADD":{let{collection:n,config:l,docs:a,i18n:o,ids:r=[],sort:i}=t,s=n.slug,c=uN(e),u=[...e],p=u.find(e=>e.label===n.labels.plural),h=a.reduce((e,t)=>0===c.filter(e=>e.id===t.id&&e.relationTo===s).length?(c.push({id:t.id,relationTo:s}),[...e,{label:au({collectionConfig:n,data:t,dateFormat:l.admin.dateFormat,fallback:"".concat(o.t("general:untitled")," - ID: ").concat(t.id),i18n:o}),relationTo:s,value:t.id}]):e,[]);if(r.forEach(e=>{0===c.filter(t=>t.id===e&&t.relationTo===s).length&&(c.push({id:e,relationTo:s}),h.push({allowEdit:!1,label:"".concat(o.t("general:untitled")," - ID: ").concat(e),relationTo:s,value:e}))}),p){let e=[...p.options,...h];p.options=i?uE(e):e}else u.push({label:(0,d.s)(n.labels.plural,o),options:i?uE(h):h});return u}case"CLEAR":{let n=t.exemptValues?Array.isArray(t.exemptValues)?t.exemptValues:[t.exemptValues]:[];return e.filter(e=>{let t=e.options.filter(e=>!!n&&n.some(t=>t&&e.value===t.value));return e.options=t,t.length>0})}case"REMOVE":{let{id:n,collection:l}=t,a=[...e],o=a.findIndex(e=>e.label===l.labels.plural);return -1===o||(a[o]={...a[o],options:a[o].options.filter(e=>e.value!==n)}),a}case"UPDATE":{var n,l;let{collection:a,config:o,doc:r,i18n:i}=t,s=a.slug,c=[...e],u=au({collectionConfig:a,data:r,dateFormat:o.admin.dateFormat,fallback:"".concat(i.t("general:untitled")," - ID: ").concat(r.id),i18n:i}),d=null==(l=c.find(e=>e.label===a.labels.plural))||null==(n=l.options)?void 0:n.find(e=>e.value===r.id);return d&&(d.label=u,d.relationTo=s),c}default:return e}},uD="relationship--multi-value-label",uT=e=>{var t,n;let{data:l,selectProps:a}=e,{allowEdit:r,label:i,relationTo:c,value:d}=l,{customProps:p}=void 0===a?{}:a,{draggableProps:h,onDocumentOpen:f}=void 0===p?{}:p,{permissions:m}=lf(),[g,v]=(0,o.useState)(!1),{t:b}=(0,s.d)(),y=!!(null==m||null==(n=m.collections)||null==(t=n[c])?void 0:t.read);return(0,u.jsxs)("div",{className:uD,title:i||"",children:[(0,u.jsx)("div",{className:"".concat(uD,"__content"),children:(0,u.jsx)(iC.MultiValueLabel,{...e,innerProps:{className:"".concat(uD,"__text"),...h||{}}})}),c&&y&&!1!==r&&(0,u.jsx)(o.Fragment,{children:(0,u.jsxs)("button",{"aria-label":"Edit ".concat(i),className:"".concat(uD,"__drawer-toggler"),onClick:e=>{v(!1),f({id:d,collectionSlug:c,hasReadPermission:y,openInNewTab:e.metaKey||e.ctrlKey})},onKeyDown:uA,onMouseDown:uR,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),onTouchEnd:uL,type:"button",children:[(0,u.jsx)(tw,{className:"".concat(uD,"__tooltip"),show:g,children:b("general:editLabel",{label:""})}),(0,u.jsx)(ta,{className:"".concat(uD,"__icon")})]})})]})};function uA(e){"Enter"===e.key&&e.stopPropagation()}function uR(e){return e.stopPropagation()}function uL(e){return e.stopPropagation()}var uO="relationship--single-value",uF=e=>{var t,n;let l=(0,f.c)(16),{children:a,data:r,selectProps:i}=e,{allowEdit:c,label:d,relationTo:p,value:h}=r,m;l[0]!==i?(m=void 0===i?{}:i,l[0]=i,l[1]=m):m=l[1];let{customProps:g}=m,v;l[2]!==g?(v=void 0===g?{}:g,l[2]=g,l[3]=v):v=l[3];let{onDocumentOpen:b}=v,[y,x]=(0,o.useState)(!1),{t:w}=(0,s.d)(),{permissions:j}=lf(),C=!!(null==j||null==(n=j.collections)||null==(t=n[p])?void 0:t.read),S=d||"",_;return l[4]!==c||l[5]!==a||l[6]!==C||l[7]!==d||l[8]!==b||l[9]!==e||l[10]!==p||l[11]!==y||l[12]!==w||l[13]!==S||l[14]!==h?(_=(0,u.jsx)(iC.SingleValue,{...e,className:uO,children:(0,u.jsx)("div",{className:"".concat(uO,"__label"),title:S,children:(0,u.jsxs)("div",{className:"".concat(uO,"__label-text"),children:[(0,u.jsx)("div",{className:"".concat(uO,"__text"),children:a}),p&&C&&!1!==c&&(0,u.jsx)(o.Fragment,{children:(0,u.jsxs)("button",{"aria-label":w("general:editLabel",{label:d}),className:"".concat(uO,"__drawer-toggler"),onClick:e=>{x(!1),b({id:h,collectionSlug:p,hasReadPermission:C,openInNewTab:e.metaKey||e.ctrlKey})},onKeyDown:uM,onMouseDown:uI,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),onTouchEnd:uB,type:"button",children:[(0,u.jsx)(tw,{className:"".concat(uO,"__tooltip"),show:y,children:w("general:edit")}),(0,u.jsx)(ta,{})]})})]})})}),l[4]=c,l[5]=a,l[6]=C,l[7]=d,l[8]=b,l[9]=e,l[10]=p,l[11]=y,l[12]=w,l[13]=S,l[14]=h,l[15]=_):_=l[15],_};function uM(e){"Enter"===e.key&&e.stopPropagation()}function uI(e){return e.stopPropagation()}function uB(e){return e.stopPropagation()}var uz="relationship",uU=e=>{let{AfterInput:t,allowCreate:n=!0,allowEdit:l=!0,appearance:a="select",BeforeInput:r,className:c,description:d,Description:p,Error:h,filterOptions:f,formatDisplayedOptions:m,hasMany:g,initialValue:y,isSortable:w=!0,label:j,Label:C,localized:S,maxResultsPerRequest:_=10,onChange:k,path:N,placeholder:E,readOnly:P,relationTo:D,required:T,showError:R,sortOptions:L,style:O,value:F}=e,{config:M,getEntityConfig:I}=(0,i.c)(),{routes:{api:B},serverURL:z}=M,{i18n:U,t:V}=(0,s.d)(),{permissions:H}=lf(),{code:q}=lx(),[W,K]=(0,o.useState)({id:void 0,collectionSlug:void 0,hasReadPermission:!1}),[Q,Y]=(0,o.useState)(-1),[G,X]=(0,o.useState)({}),[$,Z]=(0,o.useState)(""),[J,ee]=(0,o.useState)(""),[et,en]=(0,o.useState)(!1),[el,ea]=(0,o.useState)(!1),[eo,er]=(0,o.useState)(!1),ei=(0,o.useRef)(!1),{queueTask:es}=uw(),[ec,eu]=(0,o.useReducer)(uP,[]),ep=(0,o.useRef)(F),[eh,,{drawerSlug:ef,isDrawerOpen:em,openDrawer:eg}]=cE({id:W.id,collectionSlug:W.collectionSlug}),ev=(0,o.useMemo)(()=>{let e=f;if(F){let t=(!1===g?[F]:F).reduce((e,t)=>(e[t.relationTo]||(e[t.relationTo]=[]),e[t.relationTo].push(t.value),e),{});(Array.isArray(D)?D:[D]).forEach(n=>{e={...e||{},[n]:{..."object"==typeof(null==f?void 0:f[n])?f[n]:{},...t[n]?{id:{not_in:t[n]}}:{}}}})}return e},[f,F,g,D]),[eb,,{closeDrawer:ey,isDrawerOpen:ex,openDrawer:ew}]=ub({collectionSlugs:D,filterOptions:ev}),ej=(0,o.useCallback)(e=>{let{collectionSlug:t,doc:n}=e;g?k([...Array.isArray(F)?F:[],{relationTo:t,value:n.id}]):!1===g&&k({relationTo:t,value:n.id}),ey()},[g,k,ey,F]),eC=(0,o.useRef)(!1),eS=(0,o.useCallback)(e=>{let{filterOptions:t,hasMany:n,lastFullyLoadedRelation:l,lastLoadedPage:a,onSuccess:o,search:r,sort:i,value:s}=e;H&&es(async()=>{let e="u">typeof l?l:-1,c=Array.isArray(D)?D:[D],u=-1===e?c:c.slice(e+1),d=0,p=uk(!0===n?{hasMany:!0,relationTo:D,value:s}:{hasMany:!1,relationTo:D,value:s});$||(await u.reduce(async(e,n)=>{let l=null==t?void 0:t[n],o;if(o=J!==r?1:(a[n]||0)+1,await e,!1===l)return Y(c.indexOf(n)),Promise.resolve();if(d<10){var s;let e=I({collectionSlug:n}),t=(null==e||null==(s=e.admin)?void 0:s.useAsTitle)||"id",a=(null==e?void 0:e.defaultSort)||"id";"string"==typeof L?a=L:(null==L?void 0:L[n])&&(a=L[n]);let u={depth:0,draft:!0,limit:_,locale:q,page:o,select:{[t]:!0},sort:a,where:{and:[{id:{not_in:p[n]}}]}};r&&u.where.and.push({[t]:{like:r}}),l&&"boolean"!=typeof l&&u.where.and.push(l),u_(u.where);let h=await fetch((0,v.Q)({apiRoute:B,path:"/".concat(n)}),{body:b.A(u),credentials:"include",headers:{"Accept-Language":U.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"});if(h.ok){let t=await h.json();X(e=>({...e,[n]:o})),t.nextPage||Y(c.indexOf(n)),t.docs.length>0&&(d+=t.docs.length,eu({type:"ADD",collection:e,config:M,docs:t.docs,i18n:U,sort:i}))}else 403===h.status?(Y(c.indexOf(n)),eu({type:"ADD",collection:e,config:M,docs:[],i18n:U,ids:p[n],sort:i})):Z(V("error:unspecific"))}},Promise.resolve()),"function"==typeof o&&o())})},[H,es,D,$,J,I,L,_,q,B,U,M,V]),e_=ux(e=>{let{hasMany:t,search:n,value:l}=e;eL({filterOptions:f,lastLoadedPage:{},onSuccess:()=>{en(!1)},search:n,sort:!0,hasMany:t,value:l}),ee(n)},300),ek=(0,o.useCallback)(e=>{J!==e.search&&(en(!0),X({}),e_(e))},[J,e_]),eN=tf(e=>{let{hasMany:t,value:n}=e;Object.entries(uk({hasMany:t,relationTo:D,value:n})).reduce(async(e,t)=>{let[n,l]=t;await e;let a=l.filter(e=>!ec.find(t=>{var l;return null==t||null==(l=t.options)?void 0:l.find(t=>t.value===e&&t.relationTo===n)}));if(a.length>0){var o;let e=I({collectionSlug:n}),t=(null==e||null==(o=e.admin)?void 0:o.useAsTitle)||"id",l={depth:0,draft:!0,limit:a.length,locale:q,select:{[t]:!0},where:{id:{in:a}}};if(!$){let t=await fetch((0,v.Q)({apiRoute:B,path:"/".concat(n)}),{body:b.A(l),credentials:"include",headers:{"Accept-Language":U.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"}),o=[];t.ok&&(o=(await t.json()).docs),eu({type:"ADD",collection:e,config:M,docs:o,i18n:U,ids:a,sort:!0})}}},Promise.resolve())}),{mostRecentUpdate:eE}=uS(),eP=tf(e=>{if(!F)return!1;let t=e.doc.id,n=!1;"update"===e.operation?!0===g?n=(Array.isArray(F)?F:[F]).some(n=>n.value===t&&n.relationTo===e.entitySlug):!1===g&&(n=(null==F?void 0:F.value)===t&&(null==F?void 0:F.relationTo)===e.entitySlug):"create"===e.operation&&(n=e.drawerSlug===ef),n&&((eu({type:"UPDATE",collection:I({collectionSlug:e.entitySlug}),config:M,doc:e.doc,i18n:U}),g)?k((F?Array.isArray(F)?F:[F]:[]).map(n=>({relationTo:n.value===t?e.entitySlug:n.relationTo,value:n.value}))):!1===g&&k({relationTo:e.entitySlug,value:t}))});(0,o.useEffect)(()=>{eE&&eP(eE)},[eE]);let eD=(0,o.useCallback)(e=>{eu({type:"ADD",collection:e.collectionConfig,config:M,docs:[e.doc],i18n:U,sort:!0}),g?k(F?F.concat({relationTo:e.collectionConfig.slug,value:e.doc.id}):null):!1===g&&k({relationTo:e.collectionConfig.slug,value:e.doc.id})},[U,M,g,k,F]),eT=(0,o.useCallback)(e=>{eu({id:e.id,type:"REMOVE",collection:e.collectionConfig,config:M,i18n:U}),k(g&&F?F.filter(t=>t.value!==e.id):null)},[U,M,g,k,F]),eA=(0,o.useCallback)((e,t)=>{if(!t)return!0;let n=(0,A.m)(t||""),l=String(e.label);for(;l.length>250;){let e=l.indexOf(" ",t.length);if(n.test(l.slice(0,-1===e?t.length:e+1)))return!0;l=l.slice(-1===e?t.length:e+1)}return n.test(l.slice(-250))},[]),eR=(0,o.useCallback)(e=>{let{id:t,collectionSlug:n,hasReadPermission:l,openInNewTab:a}=e;if(a){if(l&&t&&n){let e=(0,v.Q)({adminRoute:M.routes.admin,path:"/collections/".concat(n,"/").concat(t),serverURL:z});window.open(e,"_blank")}}else eC.current=!0,K({id:t,collectionSlug:n,hasReadPermission:l})},[M.routes.admin,z]),eL=tf(e=>eS(e));(0,o.useEffect)(()=>{ei.current&&eo&&(en(!0),eL({filterOptions:f,lastLoadedPage:{},onSuccess:()=>{ei.current=!0,en(!1)},...{hasMany:g,value:ep.current}})),eu({type:"CLEAR",exemptValues:ep.current}),Y(-1),X({})},[D,f,q,N,eo,g]);let eO=(0,o.useRef)(F),eF=(0,o.useRef)(!0);(0,o.useEffect)(()=>{(eF.current||!(0,x.j)(F,eO.current))&&eN({hasMany:g,value:F}),eF.current=!1,eO.current=F},[F,g]),(0,o.useEffect)(()=>{ea(!(Array.isArray(D)?D:[D]).reduce((e,t)=>{var n,l;return"id"===((null==(l=I({collectionSlug:t}))||null==(n=l.admin)?void 0:n.useAsTitle)||"id")&&e},!0))},[D,I]),(0,o.useEffect)(()=>{eC.current&&(eg(),eC.current=!1)},[eg,W]),(0,o.useEffect)(()=>{ep.current=F},[F]);let eM=(e=>{let{allowEdit:t,options:n,value:l}=e;if(l||"number"==typeof l){let e;return Array.isArray(l)?l.map(e=>{let l;return n.forEach(t=>{l||(l=t.options.find(t=>t.value===e.value&&t.relationTo===e.relationTo))}),l?{allowEdit:t,...l}:void 0}):(n.forEach(t=>{e||(e=t.options.find(e=>e.value===l.value&&e.relationTo===l.relationTo))}),e?{allowEdit:t,...e}:void 0)}})({allowEdit:l,options:ec,value:F});return Array.isArray(eM)||(null==eM?void 0:eM.value)!=="null"||(eM.value=null),(0,u.jsxs)("div",{className:[aM,uz,c,R&&"error",$&&"error-loading",P&&"".concat(uz,"--read-only"),!P&&n&&"".concat(uz,"--allow-create")].filter(Boolean).join(" "),id:"field-".concat(N.replace(/\./g,"__")),style:O,children:[(0,u.jsx)(ed,{CustomComponent:C,Fallback:(0,u.jsx)(lC,{label:j,localized:S,path:N,required:T})}),(0,u.jsxs)("div",{className:"".concat(aM,"__wrap"),children:[(0,u.jsx)(ed,{CustomComponent:h,Fallback:(0,u.jsx)(t9,{path:N,showError:R})}),r,$?(0,u.jsx)("div",{className:"".concat(uz,"__error-loading"),children:$}):(0,u.jsxs)("div",{className:"".concat(uz,"__wrap"),children:[(0,u.jsx)(sI,{backspaceRemovesValue:!(em||ex),components:{MultiValueLabel:uT,SingleValue:uF,..."select"!==a&&{DropdownIndicator:null}},customProps:{disableKeyDown:em||ex,disableMouseDown:em||ex,onDocumentOpen:eR},disabled:P||em||ex,filterOption:el?eA:void 0,getOptionValue:e=>{if(e)return g&&Array.isArray(D)?"".concat(e.relationTo,"_").concat(e.value):e.value},isLoading:"select"===a&&et,isMulti:g,isSearchable:"select"===a,isSortable:w,menuIsOpen:"select"===a&&eo,onChange:P?void 0:e=>{g?null===e?(ep.current=[],k([])):(ep.current=e,k(e)):!1===g&&(null===e?(ep.current=null,k(null)):(ep.current=e,k(e)))},onInputChange:e=>ek({search:e,hasMany:g,value:F}),onMenuClose:()=>{er(!1)},onMenuOpen:()=>{"drawer"===a?ew():"select"===a&&(er(!0),ei.current||(en(!0),eL({filterOptions:f,lastLoadedPage:{},onSuccess:()=>{ei.current=!0,en(!1)},hasMany:g,value:F})))},onMenuScrollToBottom:()=>{en(!0),eL({filterOptions:f,lastFullyLoadedRelation:Q,lastLoadedPage:G,onSuccess:()=>{en(!1)},search:J,sort:!1,hasMany:g,value:y})},options:"function"==typeof m?m(ec):ec,placeholder:E,showError:R,value:null!=eM?eM:null}),!P&&n&&(0,u.jsx)(uh,{path:N,relationTo:D,hasMany:g,onChange:k,value:F})]}),t,(0,u.jsx)(ed,{CustomComponent:p,Fallback:(0,u.jsx)(t7,{description:d,path:N})})]}),W.collectionSlug&&W.hasReadPermission&&(0,u.jsx)(eh,{onDelete:eT,onDuplicate:eD}),"drawer"===a&&!P&&(0,u.jsx)(eb,{allowCreate:n,enableRowSelections:!1,onSelect:ej})]})},uV=aO(e=>{let{field:t,field:{admin:{allowCreate:n=!0,allowEdit:l=!0,appearance:a="select",className:r,description:i,isSortable:s=!0,placeholder:c,sortOptions:d}={},hasMany:p,label:h,localized:f,relationTo:m,required:g},path:v,readOnly:b,validate:y}=e,{customComponents:{AfterInput:x,BeforeInput:w,Description:j,Error:C,Label:S}={},disabled:_,filterOptions:k,initialValue:N,path:E,setValue:P,showError:D,value:T}=aA({potentiallyStalePath:v,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof y)return y(e,{...t,required:g})},[y,g])}),A=(0,o.useMemo)(()=>aF(t),[t]),R=Array.isArray(m),[L]=o.useState(()=>Array.isArray(m)?m:[m]),O=(0,o.useCallback)(e=>{if(!e)return void P(null,e===T);let t=!1;t=R?Array.isArray(T)&&Array.isArray(e)&&T.length===e.length&&T.every((t,n)=>{let l=e[n];return t.value===l.value&&t.relationTo===l.relationTo}):Array.isArray(T)&&Array.isArray(e)&&T.length===e.length&&T.every((t,n)=>t===e[n].value),P(e.map(e=>R?e:e.value),t)},[R,P,T]),F=(0,o.useCallback)(e=>{if(!e)return void P(null,e===T);let t=!1;t=R?T&&e&&T.value===e.value&&T.relationTo===e.relationTo:T&&e&&T===e.value,P(R?e:e.value,t)},[R,P,T]),M=o.useMemo(()=>!0===p?Array.isArray(T)?T.map(e=>R?e:{relationTo:Array.isArray(L)?L[0]:L,value:e}):T:T&&(R?T:{relationTo:Array.isArray(L)?L[0]:L,value:T}),[p,T,R,L]),I=o.useMemo(()=>!0===p?Array.isArray(N)?N.map(e=>R?e:{relationTo:Array.isArray(L)?L[0]:L,value:e}):N:N&&(R?N:{relationTo:Array.isArray(L)?L[0]:L,value:N}),[N,R,L,p]);return(0,u.jsx)(uU,{AfterInput:x,allowCreate:n,allowEdit:l,appearance:a,BeforeInput:w,className:r,Description:j,description:i,Error:C,filterOptions:k,formatDisplayedOptions:R?void 0:e=>e.map(e=>e.options).flat(),isSortable:s,Label:S,label:h,localized:f,maxResultsPerRequest:10,maxRows:null==t?void 0:t.maxRows,minRows:null==t?void 0:t.minRows,path:E,placeholder:c,readOnly:b||_,relationTo:L,required:g,showError:D,sortOptions:d,style:A,...!0===p?{hasMany:!0,initialValue:I,onChange:O,value:M}:{hasMany:!1,initialValue:I,onChange:F,value:M}})}),uH=()=>null,uq=aO(e=>{let{field:{admin:{className:t,style:n}={},fields:l},forceRender:a=!1,indexPath:o="",parentPath:r="",parentSchemaPath:i="",permissions:s,readOnly:c}=e;return(0,u.jsx)(sW,{children:(0,u.jsx)("div",{className:[aM,"row",t].filter(Boolean).join(" "),style:n||void 0,children:(0,u.jsx)(hL,{className:"".concat("row","__fields"),fields:l,forceRender:a,margins:!1,parentIndexPath:o,parentPath:r,parentSchemaPath:i,permissions:s,readOnly:c})})})}),uW=e=>{let t=(0,f.c)(37),{id:n,AfterInput:l,BeforeInput:a,className:o,Description:r,description:i,Error:c,filterOption:p,hasMany:h,isClearable:m,isSortable:g,label:v,Label:b,localized:y,onChange:x,onInputChange:w,options:j,path:C,placeholder:S,readOnly:_,required:k,showError:N,style:E,value:P}=e,D=void 0!==h&&h,T=void 0===m||m,A=void 0===g||g,{i18n:R}=(0,s.d)(),L;if(t[0]!==l||t[1]!==a||t[2]!==r||t[3]!==c||t[4]!==b||t[5]!==o||t[6]!==i||t[7]!==p||t[8]!==D||t[9]!==R||t[10]!==n||t[11]!==T||t[12]!==A||t[13]!==v||t[14]!==y||t[15]!==x||t[16]!==w||t[17]!==j||t[18]!==C||t[19]!==S||t[20]!==_||t[21]!==k||t[22]!==N||t[23]!==E||t[24]!==P){let e,s;if(D&&Array.isArray(P)){let n;t[26]!==R||t[27]!==j?(n=e=>{var t;let n=j.find(t=>t.value===e);return{label:n?(0,d.s)(n.label,R):e,value:null!=(t=null==n?void 0:n.value)?t:e}},t[26]=R,t[27]=j,t[28]=n):n=t[28],e=P.map(n)}else if(P){var O;let n;t[29]!==P?(n=e=>e.value===P,t[29]=P,t[30]=n):n=t[30];let l=j.find(n);e={label:l?(0,d.s)(l.label,R):P,value:null!=(O=null==l?void 0:l.value)?O:P}}else e=null;let h=N&&"error",f=_&&"read-only",m;t[31]!==o||t[32]!==h||t[33]!==f?(m=[aM,"select",o,h,f].filter(Boolean),t[31]=o,t[32]=h,t[33]=f,t[34]=m):m=t[34],t[35]!==R?(s=e=>({...e,label:(0,d.s)(e.label,R)}),t[35]=R,t[36]=s):s=t[36],L=(0,u.jsxs)("div",{className:m.join(" "),id:"field-".concat(C.replace(/\./g,"__")),style:E,children:[(0,u.jsx)(ed,{CustomComponent:b,Fallback:(0,u.jsx)(lC,{label:v,localized:y,path:C,required:k})}),(0,u.jsxs)("div",{className:"".concat(aM,"__wrap"),children:[(0,u.jsx)(ed,{CustomComponent:c,Fallback:(0,u.jsx)(t9,{path:C,showError:N})}),a,(0,u.jsx)(sI,{disabled:_,filterOption:p,id:n,isClearable:T,isMulti:D,isSortable:A,onChange:x,onInputChange:w,options:j.map(s),placeholder:S,showError:N,value:e}),l]}),(0,u.jsx)(ed,{CustomComponent:r,Fallback:(0,u.jsx)(t7,{description:i,path:C})})]}),t[0]=l,t[1]=a,t[2]=r,t[3]=c,t[4]=b,t[5]=o,t[6]=i,t[7]=p,t[8]=D,t[9]=R,t[10]=n,t[11]=T,t[12]=A,t[13]=v,t[14]=y,t[15]=x,t[16]=w,t[17]=j,t[18]=C,t[19]=S,t[20]=_,t[21]=k,t[22]=N,t[23]=E,t[24]=P,t[25]=L}else L=t[25];return L},uK=e=>e.map(e=>"object"==typeof e&&(e.value||""===e.value)?e:{label:e,value:e}),uQ=aO(e=>{let{field:t,field:{name:n,admin:{className:l,description:a,isClearable:r=!0,isSortable:i=!0,placeholder:s}={},hasMany:c=!1,label:d,localized:p,options:h=[],required:f},onChange:m,path:g,readOnly:v,validate:b}=e,y=o.useMemo(()=>uK(h),[h]),{customComponents:{AfterInput:x,BeforeInput:w,Description:j,Error:C,Label:S}={},disabled:_,path:k,selectFilterOptions:N,setValue:E,showError:P,value:D}=aA({potentiallyStalePath:g,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof b)return b(e,{...t,hasMany:c,options:y,required:f})},[b,f,c,y])}),T=(0,o.useCallback)(e=>{if(!v||_){let t=null;e&&c?t=Array.isArray(e)?e.map(e=>e.value):[]:e&&!Array.isArray(e)&&(t=e.value),"function"==typeof m&&m(t),E(t)}},[v,_,c,E,m]),A=(0,o.useMemo)(()=>aF(t),[t]);return(0,u.jsx)(uW,{AfterInput:x,BeforeInput:w,className:l,Description:j,description:a,Error:C,filterOption:N?(e,t)=>{let{label:n,value:l}=e;return(null==N?void 0:N.some(e=>("string"==typeof e?e:e.value)===l))&&n.toLowerCase().includes(t.toLowerCase())}:void 0,hasMany:c,isClearable:r,isSortable:i,Label:S,label:d,localized:p,name:n,onChange:T,options:y,path:k,placeholder:s,readOnly:v||_,required:f,showError:P,style:A,value:D})}),uY=(0,c.e)(er(),1);function uG(e){let t=(0,f.c)(5),{errorMessage:n}=e,l;t[0]!==n?(l=()=>(function(e){let[t,n]=e.split(":");if(!n)return{message:t};let l=n.split(",").map(e=>e.replaceAll(" > ","  ").trim());return 1===l.length?{errors:l,message:"".concat(t,": ")}:{errors:function(e){let t=[];for(let n of e)if(n){let e=n.split("  "),l=!1;for(let a=0;a<t.length;a++)if(t[a].startsWith(e[0])){t.splice(a+1,0,n),l=!0;break}l||t.push(n)}return t}(l),message:"".concat(t," (").concat(l.length,"):")}})(n),t[0]=n,t[1]=l):l=t[1];let[a]=o.useState(l),{errors:r,message:i}=a,s;return t[2]!==r||t[3]!==i?(s=(0,u.jsxs)("div",{children:[i,Array.isArray(r)&&r.length>0?1===r.length?(0,u.jsx)("span",{"data-testid":"field-error",children:r[0]}):(0,u.jsx)("ul",{"data-testid":"field-errors",children:r.map(uX)}):null]}),t[2]=r,t[3]=i,t[4]=s):s=t[4],s}function uX(e,t){return(0,u.jsx)("li",{children:e},t)}function u$(e,t,n){let l,a,r,i=(0,f.c)(11),s;i[0]!==e?(s=()=>e,i[0]=e,i[1]=s):s=i[1];let[c,u]=(0,o.useState)(s),d;i[2]!==n||i[3]!==e?(d=()=>{let t=setTimeout(()=>{u(()=>e)},n);return()=>{clearTimeout(t)}},i[2]=n,i[3]=e,i[4]=d):d=i[4],i[5]!==n||i[6]!==t?(l=[...t,n],i[5]=n,i[6]=t,i[7]=l):l=i[7],(0,o.useEffect)(d,l),i[8]!==c?(a=()=>{c()},r=[c],i[8]=c,i[9]=a,i[10]=r):(a=i[9],r=i[10]),(0,o.useEffect)(a,r)}var uZ=o.createContext(null),uJ=e=>{let t=(0,f.c)(6),{children:n}=e,[l,a]=(0,o.useState)(u1),r;t[0]!==l?(r=e=>{let{collectionSlug:t}=e;return l.get(t)},t[0]=l,t[1]=r):r=t[1];let i=r,s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=e=>{let{collectionSlug:t,handler:n}=e;a(e=>{let l=new Map(e);return l.set(t,n),l})},t[2]=s):s=t[2];let c=s,d;return t[3]!==n||t[4]!==i?(d=(0,u.jsx)(uZ,{value:{getUploadHandler:i,setUploadHandler:c},children:n}),t[3]=n,t[4]=i,t[5]=d):d=t[5],d},u0=()=>{let e=o.use(uZ);if(null===e)throw Error("useUploadHandlers must be used within UploadHandlersProvider");return e};function u1(){return new Map}var u3={413:"Your request was too large to submit successfully."},u2=(0,c.e)(eo(),1),u6=(e,t)=>{let n={},l=Object.entries(t).reduce((t,l)=>{let[a,o]=l;if(0===a.indexOf("".concat(e,"."))){let[n]=a.replace("".concat(e,"."),"").split(".");t[n]||(t[n]={}),t[n][a.replace("".concat(e,".").concat(String(n),"."),"")]={...o}}else n[a]=o;return t},[]);return{remainingFields:n,rows:l}},u5=(e,t)=>t.reduce((t,n,l)=>({...t,...Object.entries(n).reduce((t,n)=>{let[a,o]=n;return{...t,["".concat(e,".").concat(l,".").concat(a)]:{...o}}},{})}),{}),u4="default"in u2.default?u2.default.default:u2.default;function u8(e,t){var n,l,a,o,r,i,s,c,u,d;switch(t.type){case"ADD_ROW":{let{blockType:r,path:i,rowIndex:s,subFieldState:c={}}=t,u="number"==typeof s?s:(null==(l=e[i])||null==(n=l.rows)?void 0:n.length)||0,d=[...(null==(a=e[i])?void 0:a.rows)||[]],p={id:(null==c||null==(o=c.id)?void 0:o.value)||new u4().toHexString(),isLoading:!0};r&&(p.blockType=r),d.splice(u,0,p),r&&(c.blockType={initialValue:r,valid:!0,value:r});let{remainingFields:h,rows:f}=u6(i,e);return f.splice(u,0,c),{...h,...u5(i,f),["".concat(i,".").concat(u,".id")]:{initialValue:p.id,passesCondition:!0,valid:!0,value:p.id},[i]:{...e[i],disableFormData:!0,rows:d,value:f.length}}}case"ADD_SERVER_ERRORS":{let n={...e},l=[];return t.errors.forEach(e=>{let{message:t,path:a}=e;n[a]={...n[a]||{initialValue:null,value:null},errorMessage:t,valid:!1};let o=a.split(".");o.length>1&&l.push({fieldErrorPath:a,parentPath:o.slice(0,o.length-1).join(".")})}),n=Object.entries(n).reduce((e,t)=>{let[n,a]=t,o=l.reduce((e,t)=>{let{fieldErrorPath:l,parentPath:a}=t;return a.startsWith(n)&&e.push(l),e},[]),r=!1;if(o.length>0){let t=Array.isArray(a.errorPaths)?a.errorPaths:[];o.forEach(e=>{t.includes(e)||(t.push(e),r=!0)}),r&&(e[n]={...a,errorPaths:t})}return r||(e[n]=a),e},{})}case"DUPLICATE_ROW":{let{path:n,rowIndex:l}=t,{remainingFields:a,rows:o}=u6(n,e),c=[...e[n].rows||[]],u=(0,M.KS)(c[l]),d=new u4().toHexString();u.id&&(u.id=d),(null==(i=c[l])||null==(r=i.customComponents)?void 0:r.RowLabel)&&(u.customComponents={RowLabel:c[l].customComponents.RowLabel});let p=(0,M.KS)(o[l]);for(let e of(p.id&&(p.id.value=d,p.id.initialValue=d),Object.keys(p).filter(e=>e.endsWith(".id")))){let t=p[e],n=new u4().toHexString();if(t&&"string"==typeof t.value&&u4.isValid(t.value)){p[e].value=n,p[e].initialValue=n;let t=e.split("."),l=parseInt(t[t.length-2],10),a=t.slice(0,t.length-2).join("."),o=null==p||null==(s=p[a])?void 0:s.rows;p[a]&&Array.isArray(o)&&(o[l]?o[l].id=n:o[l]={id:n})}}return Object.keys(p).length>0&&(o.splice(l+1,0,p),c.splice(l+1,0,u)),{...a,...u5(n,o),[n]:{...e[n],disableFormData:!0,rows:c,value:o.length}}}case"MERGE_SERVER_STATE":{let{acceptValues:n,prevStateRef:l,serverState:a}=t,o=(e=>{let{acceptValues:t,currentState:n={},incomingState:l}=e,a={...n};for(let[e,i]of Object.entries(l||{})){var o,r;if(!(e in n)&&!i.addedByServer)continue;let l=i.addedByServer||!0===t||"object"==typeof t&&null!==t&&!1===t.overrideLocalChanges&&!(null==(o=n[e])?void 0:o.isModified),s=i;if(!l){let{initialValue:e,value:t,...n}=i;s=n}a[e]={...n[e],...s},n[e]&&"errorPaths"in n[e]&&!("errorPaths"in i)&&(a[e].errorPaths=[]),Array.isArray(i.rows)&&e in n&&(a[e].rows=[...(null==(r=n[e])?void 0:r.rows)||[]],i.rows.forEach(t=>{var l;let o=null==(l=n[e].rows)?void 0:l.findIndex(e=>e.id===t.id);if(o>-1)a[e].rows[o]={...n[e].rows[o],...t};else if(t.addedByServer){let n={...t};delete n.addedByServer,a[e].rows.push(n)}})),!1!==i.valid&&(a[e].valid=!0),!1!==i.passesCondition&&(a[e].passesCondition=!0),i.blocksFilterOptions||delete a[e].blocksFilterOptions,delete a[e].addedByServer}return(0,x.j)(a,n)?n:a})({acceptValues:n,currentState:e||{},incomingState:a});return l.current=o,o}case"MOVE_ROW":{let{moveFromIndex:n,moveToIndex:l,path:a}=t,{remainingFields:o,rows:r}=u6(a,e),i=r[n];r.splice(n,1),r.splice(l,0,i);let s=[...(null==(c=e[a])?void 0:c.rows)||[]],u={...s[n]};return s.splice(n,1),s.splice(l,0,u),{...o,...u5(a,r),[a]:{...e[a],rows:s}}}case"REMOVE":{let n={...e};return n[t.path]&&delete n[t.path],n}case"REMOVE_ROW":{let{path:n,rowIndex:l}=t,{remainingFields:a,rows:o}=u6(n,e),r=[...(null==(u=e[n])?void 0:u.rows)||[]];return o.splice(l,1),r.splice(l,1),{...a,[n]:{...e[n],disableFormData:o.length>0,rows:r,value:o.length},...u5(n,o)}}case"REPLACE_ROW":{let{blockType:n,path:l,rowIndex:a,subFieldState:o={}}=t,{remainingFields:r,rows:i}=u6(l,e),s=Math.max(0,Math.min(a,(null==i?void 0:i.length)-1||0)),c=[...(null==(d=e[l])?void 0:d.rows)||[]];return c[s]={id:new u4().toHexString(),blockType:n||void 0,collapsed:!1},n&&(o.blockType={initialValue:n,valid:!0,value:n}),i[s]=o,{...r,...u5(l,i),[l]:{...e[l],disableFormData:!0,rows:c,value:i.length}}}case"REPLACE_STATE":if(!1!==t.optimize){let n={};for(let[l,a]of Object.entries(t.state)){let t=e[l];!1!==a.valid&&(a.valid=!0),!1!==a.passesCondition&&(a.passesCondition=!0),(0,x.j)(t,a)?t&&(n[l]=t):n[l]=a}return n}if(t.sanitize)for(let e of Object.values(t.state))!1!==e.valid&&(e.valid=!0),!1!==e.passesCondition&&(e.passesCondition=!0);return t.state;case"SET_ALL_ROWS_COLLAPSED":{let{path:n,updatedRows:l}=t;return{...e,[n]:{...e[n],rows:l}}}case"SET_ROW_COLLAPSED":{let{path:n,updatedRows:l}=t;return{...e,[n]:{...e[n],rows:l}}}case"UPDATE":{let n=Object.entries(t).reduce((e,t)=>{let[n,l]=t;return["disableFormData","errorMessage","initialValue","rows","valid","validate","value"].includes(n)?{...e,[n]:l,..."value"===n?{isModified:!0}:{}}:e},(null==e?void 0:e[t.path])||{}),l={...e,[t.path]:n};if("value"in t)for(let[e,n]of Object.entries(l))e!==t.path&&"isModified"in n&&delete l[e].isModified;return l}case"UPDATE_MANY":{let n={...e};return Object.entries(t.formState).forEach(e=>{let[t,l]=e;n[t]=l}),n}default:return e}}var u7={addFieldRow:()=>{},buildRowErrors:()=>{},createFormData:()=>{},disabled:!1,dispatchFields:()=>{},fields:{},formRef:null,getData:()=>{},getDataByPath:()=>{},getField:()=>{},getFields:()=>({}),getSiblingData:()=>{},initializing:void 0,isValid:!0,moveFieldRow:()=>{},removeFieldRow:()=>{},replaceFieldRow:()=>{},replaceState:()=>{},reset:()=>{},setBackgroundProcessing:()=>{},setDisabled:()=>{},setIsValid:()=>{},setModified:()=>{},setProcessing:()=>{},setSubmitted:()=>{},submit:()=>{},validateForm:()=>{}},u9=e=>{let{id:t,collectionSlug:n,docConfig:l,docPermissions:a,getDocPreferences:r,globalSlug:c}=aC(),d=(0,R.wA)(l),{action:p,beforeSubmit:f,children:m,className:g,disabled:v,disableSuccessStatus:b,disableValidationOnSubmit:y,el:w,handleResponse:j,initialState:C,isDocumentForm:S,isInitializing:_,onChange:k,onSubmit:N,onSuccess:E,redirect:P,submitted:D,uuid:T,waitForAutocomplete:A}=e,L="method"in e?null==e?void 0:e.method:void 0,z=(0,h.useRouter)(),U=eP(),{code:V}=lx(),{i18n:H,t:q}=(0,s.d)(),{refreshCookie:W,user:K}=lf(),Q=aE(),{queueTask:Y}=uw(),{getFormState:G}=ce(),{startRouteTransition:X}=e4(),{getUploadHandler:$}=u0(),{config:Z}=(0,i.c)(),[J,ee]=(0,o.useState)(v||!1),[et,en]=(0,o.useState)(!1),[el,ea]=(0,o.useState)(!1),[eo,er]=(0,o.useState)(!0),[ei,es]=(0,o.useState)(_),[ec,eu]=(0,o.useState)(!1),[ed,ep]=(0,o.useState)(!1),eh=(0,o.useRef)(ed),ef=(0,o.useRef)(!1),em=(0,o.useCallback)(e=>{eh.current=e,ep(e)},[]),[eg,ev]=(0,o.useState)(!1),eb=(0,o.useCallback)(e=>{eh.current&&(ef.current=!0),ev(e)},[]),eE=(0,o.useRef)(null),eD=(0,o.useRef)({}),eT=(0,o.useRef)(null),eA=(0,o.useRef)(!0),eR=(0,o.useReducer)(u8,{},()=>C),[eL,eO]=eR;eD.current.fields=eL;let eF=(0,o.useRef)(eL),eM=(0,o.useCallback)(async()=>{let e={},l=!0,a=eD.current.getData(),o=Object.entries(eD.current.fields).map(async o=>{let[r,i]=o,s=r?r.split("."):[];if(!1!==i.passesCondition){let e=i.valid;if("validate"in i&&"function"==typeof i.validate){let l=i.value;(null==i?void 0:i.rows)&&Array.isArray(i.rows)&&(l=eD.current.getDataByPath(r)),"string"==typeof(e=await i.validate(l,{...i,id:t,collectionSlug:n,blockData:void 0,data:(null==U?void 0:U.getData)?U.getData():a,event:"submit",operation:Q,path:s,preferences:{},req:{payload:{config:Z},t:q,user:K},siblingData:eD.current.getSiblingData(r)}))?(i.errorMessage=e,i.valid=!1):(i.valid=!0,i.errorMessage=void 0)}!1===i.valid&&(l=!1)}e[r]=i});return await Promise.all(o),(0,x.j)(eD.current.fields,e)||eO({type:"REPLACE_STATE",state:e}),er(l),l},[n,Z,eO,t,Q,q,K,U]),eI=(0,o.useCallback)(async(e,t)=>{let{acceptValues:n=!0,action:l=p,context:a,disableFormWhileProcessing:o=!0,disableSuccessStatus:r,method:i=L,overrides:s={},skipValidation:c}=e||{},h=null!=r?r:b;if(J){t&&t.preventDefault();return}let m,g,v=new Promise((e,t)=>{g=e,m=t}),x=l||"string"==typeof p||"function"==typeof p;P||h||!x?(g=e=>eZ.success(e),m=e=>eZ.error(e)):eZ.promise(v,{error:e=>e,loading:q("general:submitting"),success:e=>e}),t&&(t.stopPropagation(),t.preventDefault()),o&&(eu(!0),ee(!0)),A&&await (0,O.u)(100);let w=(0,F.r)(eD.current.fields,!0),C=(0,M.KS)(eD.current.fields);if(Array.isArray(f)){let e;await f.reduce(async(t,n)=>{await t,e=await n({formState:C})},Promise.resolve());let t=Object.entries(e).every(e=>{let[,t]=e;return!1!==t.valid});if(er(t),!t)return eu(!1),ea(!0),ee(!1),eO({type:"REPLACE_STATE",state:e})}let S=!!c||!!y||await eD.current.validateForm();if(er(S),!S){m(q("error:correctInvalidFields")),eu(!1),ea(!0),ee(!1);return}let _={};if("function"==typeof s?_=s(eD.current.fields):"object"==typeof s&&(_=s),N){for(let[e,t]of Object.entries(_))w[e]=t;N(eD.current.fields,w)}if(!x){eu(!1),ea(!0),ee(!1);return}let k=await eD.current.createFormData(_,{data:w,mergeOverrideData:"function"!=typeof s});try{let e;if("string"==typeof l?e=await ld[i.toLowerCase()](l,{body:k,headers:{"Accept-Language":H.language}}):"function"==typeof p&&(e=await p(k)),ef.current?ef.current=!1:eb(!1),ee(!1),"function"==typeof j)return void j(e,g,m);let t=e.headers.get("content-type"),o=t&&-1!==t.indexOf("application/json"),r={};if(o&&(r=await e.json()),e.status<400){if("function"==typeof E){let e=await E(r,{context:a,formState:C});e&&eO({type:"MERGE_SERVER_STATE",acceptValues:n,prevStateRef:eF,serverState:e})}ea(!1),eu(!1),P?X(()=>z.push(P)):h||g(r.message||q("general:submissionSuccessful"))}else{if(eu(!1),ea(!0),"draft"===s._status&&(eb(!0),d||ea(!1)),eD.current={...eD.current},r.message)return void m(r.message);if(Array.isArray(r.errors)){let[e,t]=r.errors.reduce((e,t)=>{var n,l;let[a,o]=e,r=[],i=[];return(null==t?void 0:t.message)&&i.push(t),Array.isArray(null==t||null==(n=t.data)?void 0:n.errors)&&(null==(l=t.data)||l.errors.forEach(e=>{(null==e?void 0:e.path)?r.push(e):i.push(e)})),[[...a,...r],[...o,...i]]},[[],[]]);er(!1),eO({type:"ADD_SERVER_ERRORS",errors:e}),t.forEach(e=>{m((0,u.jsx)(uG,{errorMessage:e.message||q("error:unknown")}))});return}let t=(null==u3?void 0:u3[e.status])||(null==e?void 0:e.statusText)||q("error:unknown");m(t)}return{formState:eD.current.fields,res:e}}catch(e){console.error("Error submitting form",e),eu(!1),ea(!0),ee(!1),m(e.message)}},[f,X,p,b,y,J,eO,j,L,N,E,P,z,q,H,d,A,eb,ea]),eB=(0,o.useCallback)(()=>eD.current.fields,[]),ez=(0,o.useCallback)(e=>eD.current.fields[e],[]),eU=(0,o.useCallback)(()=>(0,F.r)(eD.current.fields,!0),[]),eV=(0,o.useCallback)(e=>(0,I.d)(eD.current.fields,e),[]),eH=(0,o.useCallback)(e=>(0,B.Z)(eD.current.fields,e),[]),eq=(0,o.useCallback)(async(e,t)=>{let{data:a,mergeOverrideData:o=!0}=t,r=a||(0,F.r)(eD.current.fields,!0),i=null==r?void 0:r.file;if(l&&"upload"in l&&l.upload&&i){delete r.file;let e=$({collectionSlug:n});if("function"==typeof e){let t=i.name;i=JSON.stringify({clientUploadContext:await e({file:i,updateFilename:e=>{t=e}}),collectionSlug:n,filename:t,mimeType:i.type,size:i.size})}}let s={_payload:JSON.stringify(r=o?{...r,...e}:e)};return l&&"upload"in l&&l.upload&&i&&(s.file=i),(0,uY.serialize)(s,{indices:!0,nullsAsUndefineds:!1})},[n,l,$]),eW=(0,o.useCallback)(async e=>{let l=cx(eT),o=await r(),{state:i}=await G({id:t,collectionSlug:n,data:e,docPermissions:a,docPreferences:o,globalSlug:c,locale:V,operation:Q,renderAllFields:!0,schemaPath:n||c,signal:l.signal,skipValidation:!0});eD.current={...u7},eb(!1),eO({type:"REPLACE_STATE",state:i}),eT.current=null},[n,eO,c,t,Q,G,a,r,V,eb]),eK=(0,o.useCallback)(e=>{eD.current={...u7},eb(!1),eO({type:"REPLACE_STATE",state:e})},[eO,eb]),eQ=(0,o.useCallback)(e=>{let{blockType:t,path:n,rowIndex:l,subFieldState:a}=e,o=eH(n)||[];eO({type:"ADD_ROW",blockType:t,path:n,rowIndex:void 0===l?o.length:l,subFieldState:a}),eb(!0)},[eO,eH,eb]),eY=(0,o.useCallback)(e=>{let{moveFromIndex:t,moveToIndex:n,path:l}=e;eO({type:"MOVE_ROW",moveFromIndex:t,moveToIndex:n,path:l}),eb(!0)},[eO,eb]),eG=(0,o.useCallback)(e=>{let{path:t,rowIndex:n}=e;eO({type:"REMOVE_ROW",path:t,rowIndex:n}),eb(!0)},[eO,eb]),eX=(0,o.useCallback)(e=>{let{blockType:t,path:n,rowIndex:l,subFieldState:a}=e,o=eH(n);eO({type:"REPLACE_ROW",blockType:t,path:n,rowIndex:void 0===l?o.length:l,subFieldState:a}),eb(!0)},[eO,eH,eb]);(0,o.useEffect)(()=>{let e=eT.current;return()=>{cy(e)}},[]),(0,o.useEffect)(()=>{void 0!==_&&es(_)},[_]),eD.current.submit=eI,eD.current.getFields=eB,eD.current.getField=ez,eD.current.getData=eU,eD.current.getSiblingData=eV,eD.current.getDataByPath=eH,eD.current.validateForm=eM,eD.current.createFormData=eq,eD.current.setModified=eb,eD.current.setProcessing=eu,eD.current.setBackgroundProcessing=em,eD.current.setSubmitted=ea,eD.current.setIsValid=er,eD.current.disabled=J,eD.current.setDisabled=ee,eD.current.formRef=eE,eD.current.reset=eW,eD.current.replaceState=eK,eD.current.dispatchFields=eO,eD.current.addFieldRow=eQ,eD.current.removeFieldRow=eG,eD.current.moveFieldRow=eY,eD.current.replaceFieldRow=eX,eD.current.uuid=T,eD.current.initializing=ei,eD.current.isValid=eo,(0,o.useEffect)(()=>{en(!0)},[]),(0,o.useEffect)(()=>{"boolean"==typeof v&&ee(v)},[v]),(0,o.useEffect)(()=>{"boolean"==typeof D&&ea(D)},[D]),(0,o.useEffect)(()=>{C&&(eD.current={...u7},eO({type:"REPLACE_STATE",optimize:!1,sanitize:!0,state:C}))},[C,eO]),lk(()=>{W()},15e3,[eL]);let e$=tf(()=>{eD.current={...eD.current},eb(!1)});(0,o.useEffect)(()=>{e$()},[V]);let eJ=[g,"form"].filter(Boolean).join(" "),e0=tf(e=>{Y(async()=>{if(Array.isArray(k)){let t;for(let n of k)t=await n({formState:(0,M.KS)(eL),submitted:e});eO({type:"MERGE_SERVER_STATE",prevStateRef:eF,serverState:t})}})});u$(()=>{(eA.current||!(0,x.j)(eL,eF.current))&&eg&&e0(el),eF.current=eL,eA.current=!1},[eg,el,eL],250);let e1=S?ex:o.Fragment,e3=S?{value:eD.current}:{};return(0,u.jsx)(w||"form",{action:"function"==typeof p?void 0:p,className:eJ,method:L,noValidate:!0,onSubmit:e=>void eD.current.submit({},e),ref:eE,children:(0,u.jsx)(e1,{...e3,children:(0,u.jsx)(ey,{value:eD.current,children:(0,u.jsx)(ew,{value:{fields:eL,...eD.current},children:(0,u.jsx)(ej,{value:el,children:(0,u.jsx)(ek,{value:!et||et&&ei,children:(0,u.jsx)(eC,{value:ec,children:(0,u.jsx)(eS,{value:ed,children:(0,u.jsx)(e_,{value:eg,children:(0,u.jsx)(eN.Provider,{value:eR,children:m})})})})})})})})})})},de="tabs-field__tab-button",dt=e=>{let t=(0,f.c)(12),{hidden:n,isActive:l,parentPath:a,setIsActive:r,tab:i}=e,{i18n:c}=(0,s.d)(),[p,h]=(0,o.useState)(void 0),g;if(t[0]!==p||t[1]!==n||t[2]!==c||t[3]!==l||t[4]!==a||t[5]!==r||t[6]!==i){let e=[...a?a.split(".").slice(0,-1):[],...(0,m.pz)(i)?[i.name]:[]],s=p>0,f=(0,u.jsx)(o_,{fields:i.fields,path:e,setErrorCount:h}),v=s&&"".concat(de,"--has-error"),b=l&&"".concat(de,"--active"),y=n&&"".concat(de,"--hidden"),x;t[8]!==v||t[9]!==b||t[10]!==y?(x=[de,v,b,y].filter(Boolean),t[8]=v,t[9]=b,t[10]=y,t[11]=x):x=t[11],g=(0,u.jsxs)(o.Fragment,{children:[f,(0,u.jsxs)("button",{className:x.join(" "),onClick:r,type:"button",children:[i.label?(0,d.s)(i.label,c):(0,m.pz)(i)?i.name:"",s&&(0,u.jsx)(t4,{count:p,i18n:c})]})]}),t[0]=p,t[1]=n,t[2]=c,t[3]=l,t[4]=a,t[5]=r,t[6]=i,t[7]=g}else g=t[7];return g},dn="tabs-field";function dl(e){let{activeTabConfig:t,path:n}=e,l=n;return(0,m.pz)(t)&&t.name&&(l=n?"".concat(n,".").concat(t.name):t.name),l}var da=aO(e=>{var t,n;let l,a,r,i=(0,f.c)(59),{field:c,forceRender:d,indexPath:p,parentPath:h,parentSchemaPath:g,path:v,permissions:b,readOnly:y}=e,{admin:x,tabs:w}=c,j;i[0]!==x?(j=void 0===x?{}:x,i[0]=x,i[1]=j):j=i[1];let{className:C}=j,S;i[2]!==w?(S=void 0===w?[]:w,i[2]=w,i[3]=S):S=i[3];let _=S,k=void 0===p?"":p,N=void 0===h?"":h,E=void 0===g?"":g,P=void 0===v?"":v,{getPreference:D,setPreference:T}=av(),{preferencesKey:A}=aC(),{i18n:R}=(0,s.d)(),{isWithinCollapsible:L}=aJ(),O;i[4]!==_?(O=e=>{let[t]=e;return _.map((e,n)=>{var l,a;let o=null==e?void 0:e.id;return{index:n,passesCondition:null==(a=null==t||null==(l=t[o])?void 0:l.passesCondition)||a,tab:e}})},i[4]=_,i[5]=O):O=i[5];let F=eF(O),M;i[6]!==F?(M=()=>{var e,t,n;return null!=(n=null==(t=F.filter(di))||null==(e=t[0])?void 0:e.index)?n:0},i[6]=F,i[7]=M):M=i[7];let[I,B]=(0,o.useState)(M),z="tabs-".concat(k),U;i[8]!==I||i[9]!==N||i[10]!==_?(U=()=>dl({activeTabConfig:_[I],path:N}),i[8]=I,i[9]=N,i[10]=_,i[11]=U):U=i[11];let[V,H]=(0,o.useState)(U),q;i[12]!==E||i[13]!==_[0]?(q=()=>dl({activeTabConfig:_[0],path:E}),i[12]=E,i[13]=_[0],i[14]=q):q=i[14];let[W,K]=(0,o.useState)(q),Q;i[15]!==I||i[16]!==V||i[17]!==N||i[18]!==_?(Q=(0,m.pz)(_[I])?V:N,i[15]=I,i[16]=V,i[17]=N,i[18]=_,i[19]=Q):Q=i[19];let Y=Q,G=F[I],X=null==G?void 0:G.tab,$;i[20]!==I||i[21]!==W||i[22]!==E||i[23]!==_?($=(0,m.pz)(_[I])?W:E,i[20]=I,i[21]=W,i[22]=E,i[23]=_,i[24]=$):$=i[24];let Z=$,J=null!=(n=null==(t=X.admin)?void 0:t.description)?n:X.description,ee="function"==typeof J?J({i18n:R,t:R.t}):J,et=F.some(ds),en;i[25]!==D||i[26]!==N||i[27]!==E||i[28]!==P||i[29]!==A||i[30]!==T||i[31]!==_||i[32]!==z?(en=async e=>{var t,n;B(e),H(dl({activeTabConfig:_[e],path:N})),K(dl({activeTabConfig:_[e],path:E}));let l=await D(A);A&&T(A,{...l,...P?{fields:{...(null==l?void 0:l.fields)||{},[P]:{...null==l||null==(t=l.fields)?void 0:t[P],tabIndex:e}}}:{fields:{...null==l?void 0:l.fields,[z]:{...null==l||null==(n=l.fields)?void 0:n[z],tabIndex:e}}}})},i[25]=D,i[26]=N,i[27]=E,i[28]=P,i[29]=A,i[30]=T,i[31]=_,i[32]=z,i[33]=en):en=i[33];let el=en,ea,eo;i[34]!==D||i[35]!==N||i[36]!==E||i[37]!==P||i[38]!==A||i[39]!==_||i[40]!==z?(ea=()=>{A&&(async()=>{var e,t,n,l;let a=await D(A),o=(P?null==a||null==(t=a.fields)||null==(e=t[P])?void 0:e.tabIndex:null==a||null==(l=a.fields)||null==(n=l[z])?void 0:n.tabIndex)||0;B(o),H(dl({activeTabConfig:_[o],path:N})),K(dl({activeTabConfig:_[o],path:E}))})()},eo=[P,D,A,z,_,N,E],i[34]=D,i[35]=N,i[36]=E,i[37]=P,i[38]=A,i[39]=_,i[40]=z,i[41]=ea,i[42]=eo):(ea=i[41],eo=i[42]),(0,o.useEffect)(ea,eo),i[43]!==(null==G?void 0:G.passesCondition)||i[44]!==el||i[45]!==F?(l=()=>{if((null==G?void 0:G.passesCondition)===!1){let e=F.find(dc);e&&el(e.index)}},i[43]=null==G?void 0:G.passesCondition,i[44]=el,i[45]=F,i[46]=l):l=i[46],i[47]!==G||i[48]!==el||i[49]!==F?(a=[G,F,el],i[47]=G,i[48]=el,i[49]=F,i[50]=a):a=i[50],(0,o.useEffect)(l,a);let er=L&&"".concat(dn,"--within-collapsible"),ei=!et&&"".concat(dn,"--hidden"),es;return i[51]!==C||i[52]!==er||i[53]!==ei?(es=[aM,C,dn,er,ei].filter(Boolean),i[51]=C,i[52]=er,i[53]=ei,i[54]=es):es=i[54],i[55]!==I||i[56]!==el||i[57]!==P?(r=e=>{let{index:t,passesCondition:n,tab:l}=e;return(0,u.jsx)(dt,{hidden:!n,isActive:I===t,parentPath:P,setIsActive:()=>{el(t)},tab:l},t)},i[55]=I,i[56]=el,i[57]=P,i[58]=r):r=i[58],(0,u.jsx)("div",{className:es.join(" "),children:(0,u.jsxs)(sQ,{children:[(0,u.jsx)("div",{className:"".concat(dn,"__tabs-wrap"),children:(0,u.jsx)("div",{className:"".concat(dn,"__tabs"),children:F.map(r)})}),(0,u.jsx)("div",{className:"".concat(dn,"__content-wrap"),children:X&&(0,u.jsx)(dr,{description:ee,fields:X.fields,forceRender:void 0!==d&&d,hidden:!1,parentIndexPath:(0,m.pz)(X)?"":"".concat(k?k+"-":"")+String(G.index),parentPath:Y,parentSchemaPath:Z,path:V,permissions:b&&"object"==typeof b&&"name"in X?b[X.name]&&"object"==typeof b[X.name]&&"fields"in b[X.name]?b[X.name].fields:b[X.name]:b,readOnly:y})})]})})});function dr(e){let t=(0,f.c)(21),{description:n,fields:l,forceRender:a,hidden:o,label:r,parentIndexPath:i,parentPath:c,parentSchemaPath:p,permissions:h,readOnly:m}=e,{i18n:g}=(0,s.d)(),{customComponents:v,path:b}=aA(),y,x;if(t[0]!==n||t[1]!==l||t[2]!==a||t[3]!==o||t[4]!==g||t[5]!==r||t[6]!==i||t[7]!==c||t[8]!==p||t[9]!==b||t[10]!==h||t[11]!==m||t[12]!==v){x=Symbol.for("react.early_return_sentinel");e:{let e,{AfterInput:s,BeforeInput:f,Description:w,Field:j}=void 0===v?{}:v;if(j){x=j;break e}let C=o&&"".concat(dn,"__tab--hidden"),S;t[15]!==g||t[16]!==r?(S=r&&"".concat(dn,"__tabConfigLabel-").concat((0,L.f)((0,d.s)(r,g))),t[15]=g,t[16]=r,t[17]=S):S=t[17],t[18]!==C||t[19]!==S?(e=[C,"".concat(dn,"__tab"),S].filter(Boolean),t[18]=C,t[19]=S,t[20]=e):e=t[20],y=(0,u.jsxs)("div",{className:e.join(" "),children:[(0,u.jsx)(ed,{CustomComponent:w,Fallback:(0,u.jsx)(t7,{description:n,marginPlacement:"bottom",path:b})}),f,(0,u.jsx)(hL,{fields:l,forceRender:a,parentIndexPath:i,parentPath:c,parentSchemaPath:p,permissions:h,readOnly:m}),s]})}t[0]=n,t[1]=l,t[2]=a,t[3]=o,t[4]=g,t[5]=r,t[6]=i,t[7]=c,t[8]=p,t[9]=b,t[10]=h,t[11]=m,t[12]=v,t[13]=y,t[14]=x}else y=t[13],x=t[14];return x!==Symbol.for("react.early_return_sentinel")?x:y}function di(e){let{passesCondition:t}=e;return t}function ds(e){let{passesCondition:t}=e;return t}function dc(e){let{passesCondition:t}=e;return t}var du=e=>{let t=(0,f.c)(32),{AfterInput:n,BeforeInput:l,className:a,Description:o,description:r,Error:i,hasMany:c,htmlAttributes:p,inputRef:h,Label:m,label:g,localized:v,maxRows:b,onChange:y,onKeyDown:x,path:w,placeholder:j,readOnly:C,required:S,rtl:_,showError:k,style:N,value:E,valueToRender:P}=e,{i18n:D,t:T}=(0,s.d)(),A;if(t[0]!==n||t[1]!==l||t[2]!==o||t[3]!==i||t[4]!==m||t[5]!==a||t[6]!==r||t[7]!==c||t[8]!==p||t[9]!==D||t[10]!==h||t[11]!==g||t[12]!==v||t[13]!==b||t[14]!==y||t[15]!==x||t[16]!==w||t[17]!==j||t[18]!==C||t[19]!==S||t[20]!==_||t[21]!==k||t[22]!==N||t[23]!==T||t[24]!==E||t[25]!==P){let e=(0,d.s)(j,D),s=k&&"error",f=C&&"read-only",R=c&&"has-many",L;t[27]!==a||t[28]!==s||t[29]!==f||t[30]!==R?(L=[aM,"text",a,s,f,R].filter(Boolean),t[27]=a,t[28]=s,t[29]=f,t[30]=R,t[31]=L):L=t[31],A=(0,u.jsxs)("div",{className:L.join(" "),style:N,children:[(0,u.jsx)(ed,{CustomComponent:m,Fallback:(0,u.jsx)(lC,{label:g,localized:v,path:w,required:S})}),(0,u.jsxs)("div",{className:"".concat(aM,"__wrap"),children:[(0,u.jsx)(ed,{CustomComponent:i,Fallback:(0,u.jsx)(t9,{path:w,showError:k})}),l,c?(0,u.jsx)(sI,{className:"field-".concat(w.replace(/\./g,"__")),components:{DropdownIndicator:null},customProps:{editableProps:dp},disabled:C,filterOption:()=>!b||!(Array.isArray(E)&&b&&E.length>=b),isClearable:!1,isCreatable:!0,isMulti:!0,isSortable:!0,menuIsOpen:!1,noOptionsMessage:()=>Array.isArray(E)&&E.length>=b?T("validation:limitReached",{max:b,value:E.length+1}):null,onChange:y,options:[],placeholder:e,showError:k,value:P}):(0,u.jsx)("input",{"data-rtl":_,disabled:C,id:"field-".concat(null==w?void 0:w.replace(/\./g,"__")),name:w,onChange:y,onKeyDown:x,placeholder:e,ref:h,type:"text",value:E||"",...null!=p?p:{}}),n,(0,u.jsx)(ed,{CustomComponent:o,Fallback:(0,u.jsx)(t7,{description:r,path:w})})]})]}),t[0]=n,t[1]=l,t[2]=o,t[3]=i,t[4]=m,t[5]=a,t[6]=r,t[7]=c,t[8]=p,t[9]=D,t[10]=h,t[11]=g,t[12]=v,t[13]=b,t[14]=y,t[15]=x,t[16]=w,t[17]=j,t[18]=C,t[19]=S,t[20]=_,t[21]=k,t[22]=N,t[23]=T,t[24]=E,t[25]=P,t[26]=A}else A=t[26];return A};function dd(e){e.currentTarget.contentEditable="false"}function dp(e,t,n){let l="".concat(t,"--editable");return{onBlur:dd,onClick:e=>{e.currentTarget.contentEditable="true",e.currentTarget.classList.add(l),e.currentTarget.focus()},onKeyDown:t=>{if("Enter"===t.key||"Tab"===t.key||"Escape"===t.key){if(t.currentTarget.contentEditable="false",t.currentTarget.classList.remove(l),e.value.value=t.currentTarget.innerText,e.label=t.currentTarget.innerText,e.value.value.replaceAll("\n",""))n.onChange(n.value,{action:"create-option",option:e});else if(Array.isArray(n.value)){let t=n.value.filter(t=>t.id!==e.id);n.onChange(t,{action:"pop-value",removedValue:e})}t.preventDefault()}t.stopPropagation()}}}var dh=aO(e=>{let{field:t,field:{admin:{autoComplete:n,className:l,description:a,placeholder:r,rtl:s}={},hasMany:c,label:d,localized:p,maxLength:h,maxRows:f,minLength:m,minRows:g,required:v},inputRef:b,path:y,readOnly:x,validate:w}=e,j=lx(),{config:{localization:C}}=(0,i.c)(),{customComponents:{AfterInput:S,BeforeInput:_,Description:k,Error:N,Label:E}={},disabled:P,path:D,setValue:T,showError:A,value:R}=aA({potentiallyStalePath:y,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof w)return w(e,{...t,maxLength:h,minLength:m,required:v})},[w,m,h,v])}),L=aI({fieldLocalized:p,fieldRTL:s,locale:j,localizationConfig:C||void 0}),[O,F]=(0,o.useState)([]),M=(0,o.useCallback)(e=>{if(!(x||P)){var t;T(e?Array.isArray(e)?e.map(e=>{var t;return(null==(t=e.value)?void 0:t.value)||e.value}):[(null==(t=e.value)?void 0:t.value)||e.value]:[])}},[x,T,P]);(0,o.useEffect)(()=>{c&&Array.isArray(R)&&F(R.map((e,t)=>({id:"".concat(e).concat(t),label:"".concat(e),value:{toString:()=>"".concat(e).concat(t),value:(null==e?void 0:e.value)||e}})))},[R,c]);let I=(0,o.useMemo)(()=>aF(t),[t]);return(0,u.jsx)(du,{AfterInput:S,BeforeInput:_,className:l,Description:k,description:a,Error:N,hasMany:c,htmlAttributes:{autoComplete:n||void 0},inputRef:b,Label:E,label:d,localized:p,maxRows:f,minRows:g,onChange:c?M:e=>{T(e.target.value)},path:D,placeholder:r,readOnly:x||P,required:v,rtl:L,showError:A,style:I,value:R||"",valueToRender:O})}),df=e=>{let t=(0,f.c)(26),{AfterInput:n,BeforeInput:l,className:a,Description:o,description:r,Error:i,Label:c,label:p,localized:h,onChange:m,path:g,placeholder:v,readOnly:b,required:y,rows:x,rtl:w,showError:j,style:C,value:S}=e,{i18n:_}=(0,s.d)(),k=j&&"error",N=b&&"read-only",E;t[0]!==a||t[1]!==k||t[2]!==N?(E=[aM,"textarea",a,k,N].filter(Boolean),t[0]=a,t[1]=k,t[2]=N,t[3]=E):E=t[3];let P=E.join(" "),D="field-".concat(g.replace(/\./g,"__")),T;return t[4]!==n||t[5]!==l||t[6]!==o||t[7]!==i||t[8]!==c||t[9]!==r||t[10]!==_||t[11]!==p||t[12]!==h||t[13]!==m||t[14]!==g||t[15]!==v||t[16]!==b||t[17]!==y||t[18]!==x||t[19]!==w||t[20]!==j||t[21]!==C||t[22]!==P||t[23]!==D||t[24]!==S?(T=(0,u.jsxs)("div",{className:P,style:C,children:[(0,u.jsx)(ed,{CustomComponent:c,Fallback:(0,u.jsx)(lC,{htmlFor:D,label:p,localized:h,path:g,required:y})}),(0,u.jsxs)("div",{className:"".concat(aM,"__wrap"),children:[(0,u.jsx)(ed,{CustomComponent:i,Fallback:(0,u.jsx)(t9,{path:g,showError:j})}),l,(0,u.jsx)("div",{className:"textarea-outer",children:(0,u.jsx)("textarea",{"data-rtl":w,disabled:b,id:"field-".concat(g.replace(/\./g,"__")),name:g,onChange:m,placeholder:(0,d.s)(v,_),rows:x,style:{"--rows":x},value:S||""})}),n,(0,u.jsx)(ed,{CustomComponent:o,Fallback:(0,u.jsx)(t7,{description:r,path:g})})]})]}),t[4]=n,t[5]=l,t[6]=o,t[7]=i,t[8]=c,t[9]=r,t[10]=_,t[11]=p,t[12]=h,t[13]=m,t[14]=g,t[15]=v,t[16]=b,t[17]=y,t[18]=x,t[19]=w,t[20]=j,t[21]=C,t[22]=P,t[23]=D,t[24]=S,t[25]=T):T=t[25],T},dm=aO(e=>{let{field:t,field:{admin:{className:n,description:l,placeholder:a,rows:r,rtl:c}={},label:p,localized:h,maxLength:f,minLength:m,required:g},path:v,readOnly:b,validate:y}=e,{i18n:x}=(0,s.d)(),{config:{localization:w}}=(0,i.c)(),j=aI({fieldLocalized:h,fieldRTL:c,locale:lx(),localizationConfig:w||void 0}),{customComponents:{AfterInput:C,BeforeInput:S,Description:_,Error:k,Label:N}={},disabled:E,path:P,setValue:D,showError:T,value:A}=aA({potentiallyStalePath:v,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof y)return y(e,{...t,maxLength:f,minLength:m,required:g})},[y,g,f,m])}),R=(0,o.useMemo)(()=>aF(t),[t]);return(0,u.jsx)(df,{AfterInput:C,BeforeInput:S,className:n,Description:_,description:l,Error:k,Label:N,label:p,localized:h,onChange:e=>{D(e.target.value)},path:P,placeholder:(0,d.s)(a,x),readOnly:b||E,required:g,rows:r,rtl:j,showError:T,style:R,value:A})}),dg=()=>null,dv=(0,o.createContext)(void 0),db=e=>{let t=(0,f.c)(5),{children:n}=e,[l,a]=(0,o.useState)(null),[r,i]=(0,o.useState)(""),[s,c]=(0,o.useState)(null),d;return t[0]!==n||t[1]!==s||t[2]!==l||t[3]!==r?(d=(0,u.jsx)(dv,{value:{setUploadControlFile:c,setUploadControlFileName:a,setUploadControlFileUrl:i,uploadControlFile:s,uploadControlFileName:l,uploadControlFileUrl:r},children:n}),t[0]=n,t[1]=s,t[2]=l,t[3]=r,t[4]=d):d=t[4],d},dy=()=>{let e=(0,o.use)(dv);if(!e)throw Error("useUploadControls must be used within an UploadControlsProvider");return e},dx=e=>{e.preventDefault(),e.stopPropagation()};function dw(e){let{children:t,className:n,disabled:l=!1,dropzoneStyle:a="default",multipleFiles:r,onChange:i}=e,s=o.useRef(null),[c,d]=o.useState(!1),p=o.useCallback(e=>{if(!r&&e.length>1){let t=new DataTransfer;t.items.add(e[0]),i(t.files)}else i(e)},[r,i]),h=o.useCallback(e=>{e.preventDefault(),e.stopPropagation(),e.clipboardData.files&&e.clipboardData.files.length>0&&p(e.clipboardData.files)},[p]),f=o.useCallback(e=>{e.preventDefault(),e.stopPropagation(),d(!0)},[]),m=o.useCallback(e=>{e.preventDefault(),e.stopPropagation(),d(!1)},[]),g=o.useCallback(e=>{e.preventDefault(),e.stopPropagation(),d(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&(p(e.dataTransfer.files),d(!1),e.dataTransfer.clearData())},[p]);o.useEffect(()=>{let e=s.current;return e&&!l?(e.addEventListener("dragenter",f),e.addEventListener("dragleave",m),e.addEventListener("dragover",dx),e.addEventListener("drop",g),e.addEventListener("paste",h),()=>{e.removeEventListener("dragenter",f),e.removeEventListener("dragleave",m),e.removeEventListener("dragover",dx),e.removeEventListener("drop",g),e.removeEventListener("paste",h)}):()=>null},[l,f,m,g,h]);let v=["dropzone",n,c?"dragging":"","dropzoneStyle--".concat(a)].filter(Boolean).join(" ");return(0,u.jsx)("div",{className:v,ref:s,children:t})}function dj(e){let t=(0,f.c)(3),{onClick:n}=e,{t:l}=(0,s.d)(),a;return t[0]!==n||t[1]!==l?(a=(0,u.jsx)("button",{"aria-label":l("general:close"),className:"drawer-close-button",onClick:n,type:"button",children:(0,u.jsx)(s.a,{})}),t[0]=n,t[1]=l,t[2]=a):a=t[2],a}function dC(e){let{onClose:t,title:n}=e;return(0,u.jsxs)("div",{className:"bulk-upload--drawer-header",children:[(0,u.jsx)("h2",{title:n,children:n}),(0,u.jsx)(dj,{onClick:t})]})}var dS="bulk-upload--add-files";function d_(e){let{acceptMimeTypes:t,onCancel:n,onDrop:l}=e,{t:a}=(0,s.d)(),r=o.useRef(null);return(0,u.jsxs)("div",{className:dS,children:[(0,u.jsx)(dC,{onClose:n,title:a("upload:addFiles")}),(0,u.jsx)("div",{className:"".concat(dS,"__dropArea"),children:(0,u.jsxs)(dw,{multipleFiles:!0,onChange:l,children:[(0,u.jsx)(tS,{buttonStyle:"subtle",iconPosition:"left",onClick:()=>{r.current&&r.current.click()},size:"small",children:a("upload:selectFile")}),(0,u.jsx)("input",{accept:t,"aria-hidden":"true",className:"".concat(dS,"__hidden-input"),hidden:!0,multiple:!0,onChange:e=>{e.target.files&&e.target.files.length>0&&l(e.target.files)},ref:r,type:"file"}),(0,u.jsxs)("p",{className:"".concat(dS,"__dragAndDropText"),children:[a("general:or")," ",a("upload:dragAndDrop")]})]})})]})}var dk=(0,c.e)(er(),1);async function dN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,a=(0,F.r)(e,!0),o=null==a?void 0:a.file;if(o&&delete a.file,o&&"function"==typeof l){let e=o.name;o=JSON.stringify({clientUploadContext:await l({file:o,updateFilename:t=>{e=t}}),collectionSlug:n,filename:e,mimeType:o.type,size:o.size})}let r={_payload:JSON.stringify({...a,...t}),file:o};return(0,dk.serialize)(r,{indices:!0,nullsAsUndefineds:!1})}function dE(e,t){switch(t.type){case"ADD_FORMS":{var n;let l=[];for(let e=0;e<t.forms.length;e++)l[e]={errorCount:0,formID:null!=(n=t.forms[e].formID)?n:crypto.randomUUID?crypto.randomUUID():oo(),formState:{...t.forms[e].initialState||{},file:{initialValue:t.forms[e].file,valid:!0,value:t.forms[e].file}},uploadEdits:{}};return{...e,activeIndex:0,forms:[...l,...e.forms]}}case"REMOVE_FORM":{let n=[...e.forms],[l]=n.splice(t.index,1),a=e.activeIndex>=t.index,o=Math.min(n.length-1,e.activeIndex===t.index?t.index:a?e.activeIndex-1:e.activeIndex);return{...e,activeIndex:a?o:e.activeIndex,forms:n,totalErrorCount:e.totalErrorCount-l.errorCount}}case"REPLACE":return{...e,...t.state};case"SET_ACTIVE_INDEX":return{...e,activeIndex:t.index};case"UPDATE_ERROR_COUNT":{let n=[...e.forms];return n[t.index].errorCount=t.count,{...e,forms:n,totalErrorCount:e.forms.reduce((e,t)=>e+t.errorCount,0)}}case"UPDATE_FORM":{let n=[...e.forms];return n[t.index].errorCount=t.errorCount,n[t.index]={...n[t.index],formState:{...n[t.index].formState,...t.formState},uploadEdits:{...n[t.index].uploadEdits,...t.uploadEdits}},{...e,forms:n,totalErrorCount:e.forms.reduce((e,t)=>e+t.errorCount,0)}}default:return e}}var dP=o.createContext({activeIndex:0,addFiles:()=>Promise.resolve(),bulkUpdateForm:()=>null,collectionSlug:"",docPermissions:void 0,documentSlots:{},forms:[],getFormDataRef:{current:()=>({})},hasPublishPermission:!1,hasSavePermission:!1,hasSubmitted:!1,isInitializing:!1,removeFile:()=>{},saveAllDocs:()=>Promise.resolve(),setActiveIndex:()=>0,setFormTotalErrorCount:()=>{},totalErrorCount:0,updateUploadEdits:()=>{}}),dD={activeIndex:0,forms:[],totalErrorCount:0};function dT(e){let{children:t}=e,{config:n}=(0,i.c)(),{routes:{api:l}}=n,{code:a}=lx(),{i18n:r,t:c}=(0,s.d)(),{getDocumentSlots:d,getFormState:p}=ce(),{getUploadHandler:h}=u0(),[f,m]=o.useState({}),[g,y]=o.useState(!1),[x,w]=o.useState(),[j,C]=o.useState(!1),[S,_]=o.useState(!1),[k,N]=o.useState(!1),[E,P]=o.useState(!1),[D,T]=o.useState(!1),[A,R]=o.useReducer(dE,dD),{activeIndex:L,forms:O,totalErrorCount:F}=A;o.useRef(O).current=O;let{toggleLoadingOverlay:M}=cf(),{closeModal:I}=nj(),{collectionSlug:B,drawerSlug:z,initialFiles:U,initialForms:V,onSuccess:H,setInitialFiles:q,setInitialForms:W,setSuccessfullyUploaded:K}=hy(),[Q,Y]=o.useState(!1),[G,X]=o.useState(""),$=o.useRef(!1),Z=o.useRef(null),J=o.useRef(()=>({})),ee=(0,v.Q)({apiRoute:l,path:""}),et="".concat(ee,"/").concat(B),en=o.useCallback(async()=>{let e={locale:a||void 0},t="/".concat(B,"/access"),n=await (await fetch("".concat(ee).concat(t,"?").concat(b.A(e)),{credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"post"})).json(),l=await fetch("".concat(ee).concat(t,"?").concat(b.A(e)),{body:JSON.stringify({_status:"published"}),credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"POST"}).then(e=>e.json());w(n),C(aw({collectionSlug:B,docPermissions:n,isEditing:!1})),_(null==l?void 0:l.update),P(!0)},[ee,a,B,r.language]),el=o.useCallback(async e=>{(null==e?void 0:e.signal)&&e.abort("aborting previous fetch for initial form state without files"),m(await d({collectionSlug:B}));try{let{state:e}=await p({collectionSlug:B,docPermissions:x,docPreferences:{fields:{}},locale:a,operation:"create",renderAllFields:!0,schemaPath:B,skipValidation:!0});Z.current=e,N(!0)}catch(e){}},[d,B,p,x,a]),ea=o.useCallback(e=>{let t=J.current();R({type:"REPLACE",state:{activeIndex:e,forms:O.map((e,n)=>n===L?{errorCount:e.errorCount,formID:e.formID,formState:t,uploadEdits:e.uploadEdits}:e)}})},[O,L]),eo=o.useCallback(async e=>{O.length&&R({type:"UPDATE_FORM",errorCount:O[L].errorCount,formState:J.current(),index:L}),M({isLoading:!0,key:"addingDocs"}),k||await el(),R({type:"ADD_FORMS",forms:Array.from(e).map(e=>({file:e,initialState:Z.current}))}),M({isLoading:!1,key:"addingDocs"})},[el,k,M,L,O]),er=tf(eo),ei=tf(async e=>{M({isLoading:!0,key:"addingDocs"}),k||await el(),R({type:"ADD_FORMS",forms:e.map(e=>({...e,initialState:(null==e?void 0:e.initialState)||Z.current}))}),M({isLoading:!1,key:"addingDocs"})}),es=o.useCallback(e=>{R({type:"REMOVE_FORM",index:e})},[]),ec=o.useCallback(e=>{let{errorCount:t,index:n}=e;R({type:"UPDATE_ERROR_COUNT",count:t,index:n})},[]),eu=o.useCallback(async function(){let{overrides:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=J.current(),n=[...O];n[L]={errorCount:n[L].errorCount,formID:n[L].formID,formState:t,uploadEdits:n[L].uploadEdits};let l=[];Y(!0);for(let t=0;t<n.length;t++)try{var o,r,i;let s=n[t],u=null==(r=s.formState)||null==(o=r.file)?void 0:o.value;if(u&&"object"==typeof u&&"name"in u&&(!u.name||""===u.name)){n[t]={...n[t],errorCount:1};continue}X(c("general:uploadingBulk",{current:t+1,total:n.length}));let d="".concat(et).concat(b.A({locale:a,uploadEdits:(null==s?void 0:s.uploadEdits)||void 0},{addQueryPrefix:!0})),p=await fetch(d,{body:await dN(s.formState,e,B,h({collectionSlug:B})),credentials:"include",method:"POST"}),f=await p.json();201===p.status&&(null==f?void 0:f.doc)&&l.push({collectionSlug:B,doc:f.doc,formID:s.formID});let[m,g]=((null==f?void 0:f.errors)||[]).reduce((e,t)=>{var n,l;let[a,o]=e,r=[],i=[];return(null==t?void 0:t.message)&&i.push(t),Array.isArray(null==t||null==(n=t.data)?void 0:n.errors)&&(null==(l=t.data)||l.errors.forEach(e=>{(null==e?void 0:e.path)?r.push(e):i.push(e)})),[[...a,...r],[...o,...i]]},[[],[]]);n[t]={errorCount:m.length,formID:n[t].formID,formState:u8(n[t].formState,{type:"ADD_SERVER_ERRORS",errors:m})},(413===p.status||400===p.status)&&(n[t]={...n[t],errorCount:n[t].errorCount+1},eZ.error(null==(i=g[0])?void 0:i.message))}catch(e){}y(!0),X(""),Y(!1);let s=[];n.forEach((e,t)=>{let{errorCount:l}=e;l&&s.push(n[t])});let u=Math.max(0,n.length-s.length),d=n.length-u;u&&(eZ.success("Successfully saved ".concat(u," files")),K(!0),"function"==typeof H&&H(l,d)),d?eZ.error("Failed to save ".concat(d," files")):I(z),R({type:"REPLACE",state:{activeIndex:0,forms:s,totalErrorCount:s.reduce((e,t)=>{let{errorCount:n}=t;return e+n},0)}}),0===s.length&&(q(void 0),W(void 0))},[O,L,c,et,a,B,h,H,I,K,z,q,W]),ed=o.useCallback(async(e,t)=>{for(let n=0;n<O.length;n++)if(Object.entries(e).forEach(e=>{let[t,l]=e;O[n].formState[t]&&(O[n].formState[t].value=l,R({type:"UPDATE_FORM",errorCount:O[n].errorCount,formState:O[n].formState,index:n}))}),"function"==typeof t&&t(),g){let{state:e}=await p({collectionSlug:B,docPermissions:x,docPreferences:null,formState:O[n].formState,operation:"create",schemaPath:B});R({type:"UPDATE_FORM",errorCount:Object.values(e).reduce((e,t)=>(null==t?void 0:t.valid)===!1?e+1:e,0),formState:e,index:n})}},[B,x,O,p,g]),ep=o.useCallback(e=>{R({type:"UPDATE_FORM",errorCount:O[L].errorCount,formState:O[L].formState,index:L,uploadEdits:e})},[L,O]),eh=o.useCallback(()=>{R({type:"REPLACE",state:{forms:O.map(e=>({...e,uploadEdits:{}}))}})},[O]);return o.useEffect(()=>{B&&(k||el(),E||en(),(U||V)&&T(!k||!E),k&&((null==V?void 0:V.length)||(null==U?void 0:U.length))&&!$.current&&((null==V?void 0:V.length)&&ei(V),(null==U?void 0:U.length)&&er(U),$.current=!0))},[U,el,en,B,k,E,V]),(0,u.jsxs)(dP,{value:{activeIndex:A.activeIndex,addFiles:eo,bulkUpdateForm:ed,collectionSlug:B,docPermissions:x,documentSlots:f,forms:O,getFormDataRef:J,hasPublishPermission:S,hasSavePermission:j,hasSubmitted:g,isInitializing:D,removeFile:es,resetUploadEdits:eh,saveAllDocs:eu,setActiveIndex:ea,setFormTotalErrorCount:ec,totalErrorCount:F,updateUploadEdits:ep},children:[Q&&(0,u.jsx)(cg,{animationDuration:"250ms",loadingText:G,overlayType:"fullscreen",show:!0}),t]})}function dA(){return o.use(dP)}var dR=(e,t)=>e?(0,m.Z7)(t)&&t.name?"".concat(e,".").concat(t.name):e:(0,m.Z7)(t)?t.name:"",dL=e=>{let{CustomLabel:t,field:n,prefix:l}=e;return(0,u.jsxs)(o.Fragment,{children:[l?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("span",{style:{display:"inline-block"},children:l})," > "]}):null,(0,u.jsx)("span",{style:{display:"inline-block"},children:(0,u.jsx)(ed,{CustomComponent:t,Fallback:(0,u.jsx)(lC,{label:"label"in n&&n.label})})})]})},dO=e=>{var t,n;let{fields:l,formState:a,labelPrefix:o=null,parentPath:r="",path:i="",permissions:s}=e;if(!l)return[];let c=null==a||null==(n=a[i])||null==(t=n.customComponents)?void 0:t.Label;return null==l?void 0:l.reduce((e,t)=>{var n;let{operation:l,permissions:a,read:u}=(0,w.P)({field:t,operation:"update",parentName:(null==r?void 0:r.includes("."))?r.split(".")[r.split(".").length-1]:r,permissions:s});return((0,m.Z7)(t)||"ui"===t.type)&&((null==(n=t.admin)?void 0:n.disableBulkEdit)||t.unique||(0,m.I2)(t)||"readOnly"in t&&t.readOnly||!l||!u)?e:"array"!==t.type&&"blocks"!==t.type&&(0,m.sd)(t)?[...e,...dO({fields:t.fields,labelPrefix:dL({CustomLabel:c,field:t,prefix:o}),parentPath:i,path:dR(i,t),permissions:a})]:"tabs"===t.type&&"tabs"in t?[...e,...t.tabs.reduce((e,n)=>{if("fields"in n){let l="name"in n&&n.name;return[...e,...dO({fields:n.fields,labelPrefix:o,parentPath:i,path:l?dR(i,t):i,permissions:a})]}},[])]:[...e,{label:dL({CustomLabel:c,field:t,prefix:o}),value:{field:t,fieldPermissions:a,path:dR(i,t)}}]},[])},dF=e=>{let t=(0,f.c)(14),{fields:n,onChange:l,permissions:a}=e,{t:r}=(0,s.d)(),{dispatchFields:i,getFields:c}=eE(),d;t[0]!==n||t[1]!==c||t[2]!==a?(d=()=>dO({fields:(e=>{let t=["file","mimeType","thumbnailURL","width","height","filesize","filename","url","focalX","focalY","sizes"];return e.filter(e=>!t.includes("name"in e&&e.name))})(n),formState:c(),permissions:a}),t[0]=n,t[1]=c,t[2]=a,t[3]=d):d=t[3];let[p]=(0,o.useState)(d),h;if(t[4]!==i||t[5]!==c||t[6]!==l||t[7]!==p||t[8]!==r){let e;t[10]!==i||t[11]!==c||t[12]!==l?(e=e=>l({dispatchFields:i,formState:c(),selected:e}),t[10]=i,t[11]=c,t[12]=l,t[13]=e):e=t[13],h=(0,u.jsxs)("div",{className:"field-select",children:[(0,u.jsx)(lC,{label:r("fields:selectFieldsToEdit")}),(0,u.jsx)(sI,{getOptionValue:dM,isMulti:!0,onChange:e,options:p})]}),t[4]=i,t[5]=c,t[6]=l,t[7]=p,t[8]=r,t[9]=h}else h=t[9];return h};function dM(e){return"object"==typeof e.value&&"path"in e.value?String(e.value.path):String(e.value)}var dI=e=>{var t;let{collection:{fields:n,labels:{plural:l,singular:a}}={},collection:r,drawerSlug:i,forms:c}=e,[p,h]=(0,o.useState)(!1),{permissions:f}=lf(),{i18n:m,t:g}=(0,s.d)(),{closeModal:v}=nj(),{bulkUpdateForm:b}=dA(),{getFormState:y}=ce(),x=o.useRef(null),[w,j]=(0,o.useState)([]),C=null==f||null==(t=f.collections)?void 0:t[r.slug],S=(0,o.useMemo)(()=>(0,U.s)(w.reduce((e,t)=>(e[t.value.path]=!0,e),{})),[w]),_=(0,o.useCallback)(async e=>{let{formState:t,submitted:n}=e,l=cx(x),{state:a}=await y({collectionSlug:r.slug,docPermissions:C,docPreferences:null,formState:t,operation:"update",schemaPath:r.slug,select:S,signal:l.signal,skipValidation:!n});return x.current=null,a},[y,r,C,S]);(0,o.useEffect)(()=>{let e=x.current;return()=>{cy(e)}},[]);let k=(0,o.useCallback)(e=>{b(w.reduce((t,n)=>(e[n.value.path]&&(t[n.value.path]=e[n.value.path].value),t),{}),()=>v(i))},[v,i,b,w]),N=(0,o.useCallback)(async e=>{let{dispatchFields:t,formState:n,selected:l}=e;h(!0),j(l||[]);let{state:a}=await y({collectionSlug:r.slug,docPermissions:C,docPreferences:null,formState:n,operation:"update",schemaPath:r.slug,select:(0,U.s)(l.reduce((e,t)=>(e[t.value.path]=!0,e),{})),skipValidation:!0});t({type:"UPDATE_MANY",formState:a}),h(!1)},[y,r,C]);return(0,u.jsxs)("div",{className:"".concat(dB,"__main"),children:[(0,u.jsxs)("div",{className:"".concat(dB,"__header"),children:[(0,u.jsx)("h2",{className:"".concat(dB,"__header__title"),children:g("general:editingLabel",{count:c.length,label:(0,d.s)(c.length>1?l:a,m)})}),(0,u.jsx)("button",{"aria-label":g("general:close"),className:"".concat(dB,"__header__close"),id:"close-drawer__".concat(i),onClick:()=>v(i),type:"button",children:(0,u.jsx)(s.a,{})})]}),(0,u.jsxs)(u9,{className:"".concat(dB,"__form"),isInitializing:p,onChange:[_],onSubmit:k,children:[(0,u.jsx)(dF,{fields:n,onChange:N,permissions:C.fields}),0===w.length?null:(0,u.jsx)("div",{className:"render-fields",children:(0,u.jsx)(aP,{value:void 0,children:w.map((e,t)=>{let{value:{field:n,fieldPermissions:l,path:a}}=e;return(0,u.jsx)(hA,{clientFieldConfig:n,indexPath:"",parentPath:"",parentSchemaPath:"",path:a,permissions:l},"".concat(a,"-").concat(t))})})}),(0,u.jsx)("div",{className:"".concat(dB,"__sidebar-wrap"),children:(0,u.jsx)("div",{className:"".concat(dB,"__sidebar"),children:(0,u.jsx)("div",{className:"".concat(dB,"__sidebar-sticky-wrap"),children:(0,u.jsx)("div",{className:"".concat(dB,"__document-actions"),children:(0,u.jsx)(tS,{type:"submit",children:g("general:applyChanges")})})})})})]})]})},dB="edit-many-bulk-uploads",dz=e=>{var t,n;let l,a=(0,f.c)(5),{collection:o,collection:r}=e,{slug:i}=void 0===o?{}:o,{permissions:c}=lf(),{t:d}=(0,s.d)(),{forms:p}=dA(),h=null==c||null==(n=c.collections)||null==(t=n[i])?void 0:t.update,m="edit-".concat(i,"-bulk-uploads");return h?(a[0]!==r||a[1]!==m||a[2]!==p||a[3]!==d?(l=(0,u.jsxs)("div",{className:dB,children:[(0,u.jsx)(ln,{"aria-label":d("general:editAll"),className:"".concat(dB,"__toggle"),slug:m,children:d("general:editAll")}),(0,u.jsx)(nt,{children:(0,u.jsx)(ll,{Header:null,slug:m,children:(0,u.jsx)(dI,{collection:r,drawerSlug:m,forms:p})})})]}),a[0]=r,a[1]=m,a[2]=p,a[3]=d,a[4]=l):l=a[4],l):null},dU="bulk-upload--actions-bar";function dV(e){let t=(0,f.c)(15),{collectionConfig:n}=e,{activeIndex:l,forms:a,setActiveIndex:o}=dA(),{t:r}=(0,s.d)(),i=l+1,c;if(t[0]!==l||t[1]!==n||t[2]!==a.length||t[3]!==o||t[4]!==r||t[5]!==i){let e,s;t[7]!==l||t[8]!==a.length||t[9]!==o?(e=()=>{let e=l-1;e<0?o(a.length-1):o(e)},t[7]=l,t[8]=a.length,t[9]=o,t[10]=e):e=t[10],t[11]!==l||t[12]!==a.length||t[13]!==o?(s=()=>{let e=l+1;e===a.length?o(0):o(e)},t[11]=l,t[12]=a.length,t[13]=o,t[14]=s):s=t[14],c=(0,u.jsxs)("div",{className:dU,children:[(0,u.jsxs)("div",{className:"".concat(dU,"__navigation"),children:[(0,u.jsxs)("p",{className:"".concat(dU,"__locationText"),children:[(0,u.jsx)("strong",{children:i})," ".concat(r("general:of")," "),(0,u.jsx)("strong",{children:a.length})]}),(0,u.jsxs)("div",{className:"".concat(dU,"__controls"),children:[(0,u.jsx)(tS,{"aria-label":r("general:previous"),buttonStyle:"none",onClick:e,type:"button",children:(0,u.jsx)(tl,{direction:"left"})}),(0,u.jsx)(tS,{"aria-label":r("general:next"),buttonStyle:"none",onClick:s,type:"button",children:(0,u.jsx)(tl,{direction:"right"})})]}),(0,u.jsx)(dz,{collection:n})]}),(0,u.jsx)(dH,{className:"".concat(dU,"__saveButtons")})]}),t[0]=l,t[1]=n,t[2]=a.length,t[3]=o,t[4]=r,t[5]=i,t[6]=c}else c=t[6];return c}function dH(e){var t,n,l,a,o;let r=(0,f.c)(12),{className:c}=e,{getEntityConfig:d}=(0,i.c)(),{t:p}=(0,s.d)(),{collectionSlug:h,hasPublishPermission:m,hasSavePermission:g,saveAllDocs:v}=dA(),b;r[0]!==h||r[1]!==d?(b=d({collectionSlug:h}),r[0]=h,r[1]=d,r[2]=b):b=r[2];let y=b,x;r[3]!==c?(x=["".concat(dU,"__buttons"),c].filter(Boolean),r[3]=c,r[4]=x):x=r[4];let w=x.join(" "),j;return r[5]!==(null==y||null==(t=y.versions)?void 0:t.drafts)||r[6]!==m||r[7]!==g||r[8]!==v||r[9]!==p||r[10]!==w?(j=(0,u.jsxs)("div",{className:w,children:[(null==y||null==(n=y.versions)?void 0:n.drafts)&&g?(0,u.jsx)(tS,{buttonStyle:"secondary",onClick:()=>void v({overrides:{_status:"draft"}}),children:p("version:saveDraft")}):null,(null==y||null==(l=y.versions)?void 0:l.drafts)&&m?(0,u.jsx)(tS,{onClick:()=>void v({overrides:{_status:"published"}}),children:p("version:publish")}):null,(null==y||null==(a=y.versions)?void 0:a.drafts)||!g?null:(0,u.jsx)(tS,{onClick:()=>void v(),children:p("general:save")})]}),r[5]=null==y||null==(o=y.versions)?void 0:o.drafts,r[6]=m,r[7]=g,r[8]=v,r[9]=p,r[10]=w,r[11]=j):j=r[11],j}var dq="bulk-upload--discard-without-saving";function dW(){let e=(0,f.c)(9),{t:t}=(0,s.d)(),{closeModal:n}=nj(),{drawerSlug:l}=hy(),a;e[0]!==n?(a=()=>{n(dq)},e[0]=n,e[1]=a):a=e[1];let o=a,r;e[2]!==n||e[3]!==l?(r=()=>{n(l),n(dq)},e[2]=n,e[3]=l,e[4]=r):r=e[4];let i=r,c;return e[5]!==o||e[6]!==i||e[7]!==t?(c=(0,u.jsx)(ls,{body:t("general:changesNotSaved"),cancelLabel:t("general:stayOnThisPage"),confirmLabel:t("general:leaveAnyway"),heading:t("general:leaveWithoutSaving"),modalSlug:dq,onCancel:o,onConfirm:i}),e[5]=o,e[6]=i,e[7]=t,e[8]=c):c=e[8],c}function dK(e){let{className:t}=e;return(0,u.jsx)("svg",{className:[t,"icon icon--trash"].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M4.1499 6.1H15.8499M14.5499 6.1V15.2C14.5499 15.85 13.8999 16.5 13.2499 16.5H6.7499C6.0999 16.5 5.4499 15.85 5.4499 15.2V6.1M7.3999 6.1V4.8C7.3999 4.15 8.0499 3.5 8.6999 3.5H11.2999C11.9499 3.5 12.5999 4.15 12.5999 4.8V6.1M8.6999 9.35V13.25M11.2999 9.35V13.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})}var dQ=()=>{let{getEntityConfig:e}=(0,i.c)(),{collectionSlug:t}=aC(),{labels:n}=e({collectionSlug:t}),{i18n:l}=(0,s.d)();return(0,u.jsxs)("div",{className:"trash-banner",children:[(0,u.jsx)(dK,{}),(0,u.jsx)("p",{children:l.t("general:documentIsTrashed",{label:"".concat((0,d.s)(null==n?void 0:n.singular,l))})})]})},dY="document-fields",dG=e=>{let{AfterFields:t,BeforeFields:n,docPermissions:l,fields:a,forceSidebarWrap:r,isTrashed:i=!1,readOnly:s,schemaPathSegments:c}=e,{hasSidebarFields:d,mainFields:p,sidebarFields:h}=(0,o.useMemo)(()=>a.reduce((e,t)=>((0,m.zj)(t)?(e.sidebarFields.push(t),e.mainFields.push(null),e.hasSidebarFields=!0):(e.mainFields.push(t),e.sidebarFields.push(null)),e),{hasSidebarFields:!1,mainFields:[],sidebarFields:[]}),[a]);return(0,u.jsxs)("div",{className:[dY,d?"".concat(dY,"--has-sidebar"):"".concat(dY,"--no-sidebar"),r&&"".concat(dY,"--force-sidebar-wrap")].filter(Boolean).join(" "),children:[(0,u.jsx)("div",{className:"".concat(dY,"__main"),children:(0,u.jsxs)(n7,{className:"".concat(dY,"__edit"),children:[i&&(0,u.jsx)(dQ,{}),n,(0,u.jsx)(hL,{className:"".concat(dY,"__fields"),fields:p,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:c.join("."),permissions:null==l?void 0:l.fields,readOnly:s}),t]})}),d?(0,u.jsx)("div",{className:"".concat(dY,"__sidebar-wrap"),children:(0,u.jsx)("div",{className:"".concat(dY,"__sidebar"),children:(0,u.jsx)("div",{className:"".concat(dY,"__sidebar-fields"),children:(0,u.jsx)(hL,{fields:h,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:c.join("."),permissions:null==l?void 0:l.fields,readOnly:s})})})}):null]})};function dX(e){let{className:t}=e;return(0,u.jsx)("svg",{className:[t,"icon icon--folder"].filter(Boolean).join(" "),fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M13.3333 13.3333C13.6869 13.3333 14.026 13.1929 14.2761 12.9428C14.5261 12.6928 14.6666 12.3536 14.6666 12V5.33333C14.6666 4.97971 14.5261 4.64057 14.2761 4.39052C14.026 4.14048 13.6869 4 13.3333 4H8.06659C7.84359 4.00219 7.62362 3.94841 7.42679 3.84359C7.22996 3.73877 7.06256 3.58625 6.93992 3.4L6.39992 2.6C6.27851 2.41565 6.11323 2.26432 5.91892 2.1596C5.7246 2.05488 5.50732 2.00004 5.28659 2H2.66659C2.31296 2 1.97382 2.14048 1.72378 2.39052C1.47373 2.64057 1.33325 2.97971 1.33325 3.33333V12C1.33325 12.3536 1.47373 12.6928 1.72378 12.9428C1.97382 13.1929 2.31296 13.3333 2.66659 13.3333H13.3333Z",fill:"currentColor"})})}var d$=o.createContext({activeCollectionFolderSlugs:[],allCollectionFolderSlugs:[],allowCreateCollectionSlugs:[],breadcrumbs:[],checkIfItemIsDisabled:()=>!1,clearSelections:()=>{},currentFolder:null,documents:[],dragOverlayItem:void 0,focusedRowIndex:-1,folderCollectionConfig:null,folderCollectionSlug:"",folderFieldName:"folder",folderID:void 0,FolderResultsComponent:null,folderType:void 0,getFolderRoute:()=>"",getSelectedItems:()=>[],isDragging:!1,itemKeysToMove:void 0,moveToFolder:()=>Promise.resolve(void 0),onItemClick:()=>{},onItemKeyPress:()=>{},refineFolderData:()=>{},search:"",selectedFolderCollections:void 0,selectedItemKeys:new Set,setBreadcrumbs:()=>{},setFocusedRowIndex:()=>-1,setIsDragging:()=>!1,sort:"name",subfolders:[]});function dZ(e){var t,n;let{activeCollectionFolderSlugs:l,allCollectionFolderSlugs:a=[],allowCreateCollectionSlugs:r,allowMultiSelection:c=!0,baseFolderPath:d,breadcrumbs:p=[],children:f,documents:m,folderFieldName:g,folderID:y,FolderResultsComponent:x,onItemClick:w,search:j,sort:C="name",subfolders:S}=e,_=dJ(),{config:k}=(0,i.c)(),{routes:N}=k,E=lr(),{t:P}=(0,s.d)(),D=(0,h.useRouter)(),{startRouteTransition:T}=e4(),A=lx(),R=A?A.code:void 0,L=o.useRef(new Set),[O,F]=o.useState([]),[M,I]=o.useState(x||(()=>null)),[B]=o.useState(()=>k.collections.find(e=>k.folders&&e.slug===k.folders.slug)),z=B.slug,U=(0,h.useSearchParams)(),q=o.useMemo(()=>s2(U),[U]),[W,K]=o.useState(q),[Q,Y]=o.useState(!1),[G,X]=o.useState(()=>new Set),[$,Z]=o.useState(-1),[J,ee]=o.useState(),[et,en]=o.useState(p),el=o.useRef(null),ea=S.length+m.length,eo=o.useCallback(()=>{Z(-1),X(new Set),ee(void 0),L.current=new Set},[]),er=o.useCallback(function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="page"in t?t.page:null==W?void 0:W.page;return"search"in t&&(n="1"),{...W,...t,locale:R,page:n,relationTo:"relationTo"in t?t.relationTo:null==W?void 0:W.relationTo,search:"search"in t?t.search:null==W?void 0:W.search,sort:"sort"in t?t.sort:null!=(e=null==W?void 0:W.sort)?e:void 0}},[W,R]),ei=o.useCallback(e=>{let{query:t,updateURL:n}=e;if(n){let e=er(t);T(()=>D.replace("".concat(b.A({...e,relationTo:JSON.stringify(e.relationTo)},{addQueryPrefix:!0})))),K(e)}},[er,D,T]),es=o.useCallback(e=>{let t=b.A(er({page:"1",search:""}),{addQueryPrefix:!0});return(0,v.Q)({adminRoute:k.routes.admin,path:"".concat(d).concat(e?"/".concat(e):"").concat(t)})},[d,k.routes.admin,er]),ec=o.useCallback(e=>[...S,...m].find(t=>t.itemKey===e),[m,S]),eu=o.useCallback(()=>Array.from(G).reduce((e,t)=>{let n=ec(t);return n&&e.push(n),e},[]),[G,ec]),ed=o.useCallback(e=>{let{collectionSlug:t,docID:n}=e;1===E?t===z?T(()=>{D.push(es(n)),eo()}):t&&T(()=>{D.push((0,v.Q)({adminRoute:k.routes.admin,path:"/collections/".concat(t,"/").concat(n)})),eo()}):eo(),"function"==typeof w&&w(ec("".concat(t,"-").concat(n)))},[eo,k.routes.admin,E,z,es,ec,w,D,T]),ep=o.useCallback(e=>{let t=[...S,...m].reduce((e,t,n)=>(G.has(t.itemKey)&&e.push(n),e),[]);if(0===t.length)return[e];let n=Math.min(...t),l=Math.max(...t),a=e>=n&&e<=l,o=e,r=Math.min(o=a?e===n||e===l?e:Math.abs(e-n)>=Math.abs(e-l)?n:l:Math.abs(e-n)<=Math.abs(e-l)?n:l,e),i=Array.from({length:Math.max(o,e)-r+1},(e,t)=>r+t);return a?i:[...new Set([...t,...i])]},[S,m,G]),eh=o.useCallback(e=>{let{indexes:t}=e,{newSelectedFolderCollections:n,newSelectedItemKeys:l}=[...S,...m].reduce((e,n,l)=>{var a;return t.includes(l)&&(e.newSelectedItemKeys.add(n.itemKey),n.relationTo===z?null==(a=n.value.folderType)||a.forEach(t=>{e.newSelectedFolderCollections.includes(t)||e.newSelectedFolderCollections.push(t)}):e.newSelectedFolderCollections.includes(n.relationTo)||e.newSelectedFolderCollections.push(n.relationTo)),e},{newSelectedFolderCollections:[],newSelectedItemKeys:new Set});F(n),X(l)},[m,z,S]),ef=o.useCallback(e=>{let{event:t,item:n}=e,{code:l,ctrlKey:a,metaKey:o,shiftKey:r}=t,i=a||o,s=G.has(n.itemKey),u=[...S,...m],d=u.findIndex(e=>e.itemKey===n.itemKey);switch(l){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":{if(t.preventDefault(),-1===d)break;let e="ArrowLeft"===l||"ArrowUp"===l?d-1:d+1;if(e<0||e>ea-1)return;if(Z(e),i)break;if(r&&c)return void eh({indexes:ep(e)});r||X(new Set([u[e].itemKey]));break}case"Enter":if(1===G.size){Z(void 0),ed({collectionSlug:n.relationTo,docID:(0,V.r)(n.value)});return}break;case"Escape":eo();break;case"KeyA":c&&i&&(t.preventDefault(),Z(ea-1),eh({indexes:Array.from({length:ea},(e,t)=>t)}));break;case"Space":c&&r?(t.preventDefault(),eh({indexes:[...S,...m].reduce((e,t,l)=>{if(t.itemKey===n.itemKey){if(s)return e;e.push(l)}else G.has(t.itemKey)&&e.push(l);return e},[])})):(t.preventDefault(),eh({indexes:s?[]:[d]}));break;case"Tab":if(c&&r){let e=d-1;e<0&&(null==G?void 0:G.size)>0&&Z(e)}else d+1===ea&&G.size>0&&Z(ea-1)}},[G,S,m,c,ep,eh,ed,eo,ea]),em=o.useCallback(e=>{let{event:t,item:n}=e,l=!1,a=t.ctrlKey||t.metaKey,o=t.shiftKey,r=G.has(n.itemKey),i=[...S,...m],s=i.findIndex(e=>e.itemKey===n.itemKey);if(c&&a){let e;t.preventDefault(),eh({indexes:i.reduce((l,a,o)=>{if(a.itemKey===n.itemKey){if(r&&"pointermove"!==t.type)return l;l.push(o),e=a.itemKey}else G.has(a.itemKey)&&l.push(o);return l},[])}),e&&ee(ec(e))}else if(c&&o)-1!==s&&eh({indexes:ep(s)});else if(c&&"pointermove"===t.type)r||eh({indexes:i.reduce((e,t,l)=>(t.itemKey===n.itemKey&&e.push(l),e),[])}),ee(ec(n.itemKey));else{let e=Date.now();l=e-el.current<400&&(null==J?void 0:J.itemKey)===n.itemKey,el.current=e,l||eh({indexes:r&&1===G.size?[]:[s]}),ee(ec(n.itemKey))}l&&ed({collectionSlug:n.relationTo,docID:(0,V.r)(n.value)})},[G,S,m,c,J,ec,eh,ed,ep]),eg=o.useCallback(async e=>{let{itemsToMove:t,toFolderID:n}=e;if(t.length){if(1===t.length&&t[0].relationTo===z&&t[0].value.id===y){let e=b.A({depth:0,locale:R},{addQueryPrefix:!0});200!==(await fetch((0,v.Q)({apiRoute:N.api,path:"/".concat(z,"/").concat(y).concat(e)}),{body:JSON.stringify({[g]:n||null}),credentials:"include",headers:{"content-type":"application/json"},method:"PATCH"})).status&&eZ.error(P("general:error"))}else for(let[e,l]of Object.entries(t.reduce((e,t)=>(e[t.relationTo]||(e[t.relationTo]=[]),e[t.relationTo].push(t.value.id),e),{}))){let t=b.A({depth:0,limit:0,locale:R,where:{id:{in:l}}},{addQueryPrefix:!0});try{await fetch((0,v.Q)({apiRoute:N.api,path:"/".concat(e).concat(t)}),{body:JSON.stringify({[g]:n||null}),credentials:"include",headers:{"content-type":"application/json"},method:"PATCH"})}catch(e){eZ.error(P("general:error")),console.error(e);continue}}eo()}},[y,eo,z,g,N.api,P,R]),ev=o.useCallback(e=>{var t;function n(e){let{item:t,selectedFolderCollections:n}=e;return!(!t.value.folderType||Array.isArray(t.value.folderType)&&0===t.value.folderType.length)&&(0===n.length?!!(t.value.folderType||t.value.folderType.length>0):n.some(e=>!t.value.folderType.includes(e)))}return Q?!!G.has(e.itemKey)||e.relationTo!==z||n({item:e,selectedFolderCollections:O}):(null==_||null==(t=_.selectedItemKeys)?void 0:t.size)?!!_.selectedItemKeys.has(e.itemKey)||e.relationTo!==z||n({item:e,selectedFolderCollections:_.selectedFolderCollections}):void 0},[O,Q,G,z,null==_?void 0:_.selectedFolderCollections,null==_?void 0:_.selectedItemKeys]);return o.useEffect(()=>{x&&I(x)},[x]),(0,u.jsx)(d$,{value:{activeCollectionFolderSlugs:l||a,allCollectionFolderSlugs:a,allowCreateCollectionSlugs:r,breadcrumbs:et,checkIfItemIsDisabled:ev,clearSelections:eo,currentFolder:(null==et||null==(t=et[et.length-1])?void 0:t.id)!==void 0?(0,H.p)({folderFieldName:g,isUpload:!1,relationTo:z,useAsTitle:B.admin.useAsTitle,value:et[et.length-1]}):null,documents:m,dragOverlayItem:J,focusedRowIndex:$,folderCollectionConfig:B,folderCollectionSlug:z,folderFieldName:g,folderID:y,FolderResultsComponent:M,folderType:null==et||null==(n=et[et.length-1])?void 0:n.folderType,getFolderRoute:es,getSelectedItems:eu,isDragging:Q,itemKeysToMove:_.selectedItemKeys,moveToFolder:eg,onItemClick:em,onItemKeyPress:ef,refineFolderData:ei,search:j,selectedFolderCollections:O,selectedItemKeys:G,setBreadcrumbs:en,setFocusedRowIndex:Z,setIsDragging:Y,sort:C,subfolders:S},children:f})}function dJ(){let e=o.use(d$);if(void 0===e)throw Error("useFolder must be used within a FolderProvider");return e}var d0=(0,o.createContext)({cachingEnabled:!0,clearRouteCache:()=>{}}),d1=e=>{let t,n,l,a,r=(0,f.c)(17),{cachingEnabled:i,children:s}=e,c=void 0===i||i,d=(0,h.usePathname)(),p=(0,h.useRouter)(),m=(0,o.useRef)(!1),g;r[0]!==p?(g=()=>{p.refresh()},r[0]=p,r[1]=g):g=r[1];let v=g,b;r[2]===Symbol.for("react.memo_cache_sentinel")?(b=()=>{let e=()=>{m.current=!0};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},r[2]=b):b=r[2],r[3]!==p?(t=[p],r[3]=p,r[4]=t):t=r[4],(0,o.useEffect)(b,t),r[5]!==c||r[6]!==v?(n=e=>{(c||m.current)&&(m.current=!1,v())},r[5]=c,r[6]=v,r[7]=n):n=r[7];let y=tf(n),x;return r[8]!==y||r[9]!==d?(x=()=>{y(d)},r[8]=y,r[9]=d,r[10]=x):x=r[10],r[11]!==d?(l=[d],r[11]=d,r[12]=l):l=r[12],(0,o.useEffect)(x,l),r[13]!==c||r[14]!==s||r[15]!==v?(a=(0,u.jsx)(d0,{value:{cachingEnabled:c,clearRouteCache:v},children:s}),r[13]=c,r[14]=s,r[15]=v,r[16]=a):a=r[16],a},d3=()=>(0,o.use)(d0),d2=e=>{let{type:t="submit",buttonId:n,children:l,disabled:a,onClick:o,programmaticSubmit:r,ref:i}=e,s=eA(),c=eR(),d=eO(),{disabled:p,submit:h}=eE();return(0,u.jsx)("div",{className:"form-submit",children:(0,u.jsx)(tS,{ref:i,...e,disabled:!!(a||d||s||c||p)||void 0,id:n,onClick:null!=o?o:r?()=>{h()}:void 0,type:t,children:l})})},d6="drawer-action-header",d5=e=>{let t=(0,f.c)(10),{cancelLabel:n,className:l,onCancel:a,onSave:o,saveLabel:r,title:i}=e,{t:c}=(0,s.d)(),d;t[0]!==l?(d=[d6,l].filter(Boolean),t[0]=l,t[1]=d):d=t[1];let p=d.join(" "),h;return t[2]!==n||t[3]!==a||t[4]!==o||t[5]!==r||t[6]!==c||t[7]!==p||t[8]!==i?(h=(0,u.jsx)("div",{className:p,children:(0,u.jsxs)("div",{className:"".concat(d6,"__content"),children:[(0,u.jsx)("h1",{className:"".concat(d6,"__title"),children:i}),(0,u.jsxs)("div",{className:"".concat(d6,"__actions"),children:[(0,u.jsx)(tS,{"aria-label":c("general:cancel"),buttonStyle:"secondary",onClick:a,children:n||c("general:cancel")}),(0,u.jsx)(d2,{"aria-label":c("general:applyChanges"),onClick:o,children:r||c("general:applyChanges")})]})]})}),t[2]=n,t[3]=a,t[4]=o,t[5]=r,t[6]=c,t[7]=p,t[8]=i,t[9]=h):h=t[9],h};function d4(e){let{children:t,className:n}=e;return(0,u.jsx)("div",{className:["drawer-content-container",n].filter(Boolean).join(" "),children:t})}var d8="create-new-doc-in-folder";function d7(e){let t,n=(0,f.c)(22),{buttonLabel:l,collectionSlugs:a,folderAssignedCollections:r,onCreateSuccess:c,slugPrefix:p}=e,h="".concat(p,"-new-doc-in-folder-drawer"),{i18n:m}=(0,s.d)(),{closeModal:g,openModal:v}=nj(),{config:b}=(0,i.c)(),{folderCollectionConfig:y,folderCollectionSlug:x,folderFieldName:w,folderID:j}=dJ(),C;n[0]!==x?(C={collectionSlug:x},n[0]=x,n[1]=C):C=n[1];let[S,,_]=cE(C),{closeDrawer:k,openDrawer:N}=_,[E,P]=o.useState(),D;n[2]!==a||n[3]!==b?(D=()=>a.reduce((e,t)=>{let n=b.collections.find(e=>{let{slug:n}=e;return n===t});return n&&e.push(n),e},[]),n[2]=a,n[3]=b,n[4]=D):D=n[4];let[T]=o.useState(D);return 0===T.length?null:(n[5]!==S||n[6]!==l||n[7]!==k||n[8]!==g||n[9]!==a||n[10]!==E||n[11]!==T||n[12]!==r||n[13]!==y.slug||n[14]!==w||n[15]!==j||n[16]!==m||n[17]!==h||n[18]!==c||n[19]!==N||n[20]!==v?(t=(0,u.jsxs)(o.Fragment,{children:[1===T.length?(0,u.jsx)(tS,{buttonStyle:"pill",className:"".concat(d8,"__button"),el:"div",onClick:()=>{T[0].slug===y.slug?N():(P(T[0].slug),v(h))},size:"small",children:l}):(0,u.jsx)(ty,{button:(0,u.jsx)(tS,{buttonStyle:"pill",className:"".concat(d8,"__popup-button"),el:"div",icon:"chevron",size:"small",children:l}),buttonType:"default",className:"".concat(d8,"__action-popup"),children:(0,u.jsx)(ts.ButtonGroup,{children:T.map((e,t)=>(0,u.jsx)(ts.Button,{onClick:()=>{e.slug===y.slug?N():(P(e.slug),v(h))},children:(0,d.s)(e.labels.singular,m)},t))})}),E&&(0,u.jsx)(cN,{collectionSlug:E,drawerSlug:h,initialData:{[w]:j},onSave:async e=>{let{doc:t}=e;await c({collectionSlug:E,doc:t}),g(h)},redirectAfterCreate:!1}),a.includes(y.slug)&&(0,u.jsx)(S,{initialData:{[w]:j,folderType:E?r||[E]:r},onSave:async e=>{await c({collectionSlug:y.slug,doc:e.doc}),k()},redirectAfterCreate:!1})]}),n[5]=S,n[6]=l,n[7]=k,n[8]=g,n[9]=a,n[10]=E,n[11]=T,n[12]=r,n[13]=y.slug,n[14]=w,n[15]=j,n[16]=m,n[17]=h,n[18]=c,n[19]=N,n[20]=v,n[21]=t):t=n[21],t)}var d9="no-results";function pe(e){let{Actions:t,Message:n}=e;return(0,u.jsxs)("div",{className:d9,children:[n,t&&t.length>0&&(0,u.jsx)("div",{className:"".concat(d9,"__actions"),children:t.map((e,t)=>(0,u.jsx)(o.Fragment,{children:e},t))})]})}var pt=e=>{let{elements:t,translationString:n}=e,l=n.split(/(<[^>]+>.*?<\/[^>]+>)/g);return(0,u.jsx)("span",{children:l.map((e,n)=>{if(t&&e.startsWith("<")&&e.endsWith(">")){let l=e[1],a=t[l];if(a){let t=RegExp("<".concat(l,">(.*?)</").concat(l,">"),"g"),o=e.replace(t,(e,t)=>t);return(0,u.jsx)(a,{children:(0,u.jsx)(pt,{translationString:o})},n)}}return e})})},pn=e=>{let{elements:t,i18nKey:n,t:l,variables:a}=e,o=l(n,a||{});return t?(0,u.jsx)(pt,{elements:t,translationString:o}):o},pl="folderBreadcrumbs";function pa(e){let{breadcrumbs:t,className:n}=e;return(0,u.jsx)("div",{className:"".concat(pl," ").concat(n||"").trim(),children:null==t?void 0:t.map((e,n)=>(0,u.jsxs)("div",{className:"".concat(pl,"__crumb"),children:[e.onClick?(0,u.jsx)(po,{className:"".concat(pl,"__crumb-item"),id:e.id,onClick:e.onClick,children:e.name}):e.name,t.length>0&&n!==t.length-1&&(0,u.jsx)(tl,{className:"".concat(pl,"__crumb-chevron"),direction:"right"})]},n))})}function po(e){let t,n=(0,f.c)(13),{id:l,children:a,className:o,onClick:r}=e,i="folder-".concat(l),s;n[0]!==l?(s={id:l,type:"folder"},n[0]=l,n[1]=s):s=n[1],n[2]!==i||n[3]!==s?(t={id:i,data:s},n[2]=i,n[3]=s,n[4]=t):t=n[4];let{isOver:c,setNodeRef:d}=(0,g.zM)(t),p=c&&"droppable-button--hover",h;n[5]!==o||n[6]!==p?(h=["droppable-button",o,p].filter(Boolean),n[5]=o,n[6]=p,n[7]=h):h=n[7];let m=h.join(" "),v;return n[8]!==a||n[9]!==r||n[10]!==d||n[11]!==m?(v=(0,u.jsx)("button",{className:m,onClick:r,ref:d,type:"button",children:a}),n[8]=a,n[9]=r,n[10]=d,n[11]=m,n[12]=v):v=n[12],v}function pr(){return(0,u.jsx)(dX,{className:"colored-folder-icon"})}var pi="move-folder-drawer",ps="".concat("move-folder-drawer","-confirm-move");function pc(e){return(0,u.jsx)(ll,{gutter:!1,Header:null,slug:e.drawerSlug,children:(0,u.jsx)(pu,{...e})})}function pu(e){var t;let{permissions:n}=lf(),[l,a]=o.useState([]),[r,i]=o.useState([]),[s,c]=o.useState([]),[d,p]=o.useState(null),[h,f]=o.useState(!1),[m,g]=o.useState(e.fromFolderID||null),v=o.useRef(!1),{getFolderResultsComponentAndData:b}=ce(),y=o.useCallback(async t=>{try{let n=await b({browseByFolder:!1,collectionsToDisplay:[e.folderCollectionSlug],displayAs:"grid",folderAssignedCollections:e.folderAssignedCollections,folderID:t,sort:"name"});c(n.breadcrumbs||[]),a((null==n?void 0:n.subfolders)||[]),i((null==n?void 0:n.documents)||[]),p(n.FolderResultsComponent||null),g(t),f(!0)}catch(e){c([]),a([]),i([])}v.current=!0},[b,e.folderAssignedCollections,e.folderCollectionSlug]);return o.useEffect(()=>{v.current||y(e.fromFolderID)},[y,e.fromFolderID]),h?(0,u.jsx)(dZ,{allCollectionFolderSlugs:[e.folderCollectionSlug],allowCreateCollectionSlugs:(null==(t=n.collections[e.folderCollectionSlug])?void 0:t.create)?[e.folderCollectionSlug]:[],allowMultiSelection:!1,breadcrumbs:s,documents:r,folderFieldName:e.folderFieldName,folderID:m,FolderResultsComponent:d,onItemClick:async e=>{await y(e.value.id)},subfolders:l,children:(0,u.jsx)(pd,{...e,populateMoveToFolderDrawer:y})},m):(0,u.jsx)(cg,{})}function pd(e){var t,n,l;let a,r,i,c,p=(0,f.c)(34),{drawerSlug:h,fromFolderID:m,fromFolderName:g,itemsToMove:v,onConfirm:b,populateMoveToFolderDrawer:y,skipConfirmModal:x,...w}=e,{clearRouteCache:j}=d3(),{closeModal:C,isModalOpen:S,openModal:_}=nj(),k;p[0]!==v?(k=()=>v.length,p[0]=v,p[1]=k):k=p[1];let[N]=o.useState(k),[E,P]=o.useState(!1),{i18n:D,t:T}=(0,s.d)(),{breadcrumbs:A,folderCollectionConfig:R,folderCollectionSlug:L,folderFieldName:O,folderID:F,FolderResultsComponent:M,folderType:I,getSelectedItems:B,subfolders:z}=dJ(),U;p[2]!==L?(U={collectionSlug:L},p[2]=L,p[3]=U):U=p[3];let[H,,q]=cE(U),{closeDrawer:W,openDrawer:K}=q,Q;p[4]!==A||p[5]!==B?(Q=()=>{let e=B();if(0!==e.length)return{id:e[0].value.id,name:e[0].value._folderOrDocumentTitle};{let e=null==A?void 0:A[A.length-1];return{id:(null==e?void 0:e.id)||null,name:(null==e?void 0:e.name)||null}}},p[4]=A,p[5]=B,p[6]=Q):Q=p[6];let Y=Q,G;p[7]!==L||p[8]!==F||p[9]!==m||p[10]!==y?(G=async e=>{let{collectionSlug:t,doc:n}=e;await y(F),t!==L||(null==n||!n.folder||m!==(0,V.r)(null==n?void 0:n.folder))&&(m||(null==n?void 0:n.folder))||P(!0)},p[7]=L,p[8]=F,p[9]=m,p[10]=y,p[11]=G):G=p[11];let X=G,$;p[12]!==Y||p[13]!==b?($=()=>{"function"==typeof b&&b(Y())},p[12]=Y,p[13]=b,p[14]=$):$=p[14];let Z=$,J,ee;return p[15]!==j||p[16]!==h||p[17]!==E||p[18]!==S?(J=()=>{!S(h)&&E&&(P(!1),j())},ee=[h,S,j,E],p[15]=j,p[16]=h,p[17]=E,p[18]=S,p[19]=J,p[20]=ee):(J=p[19],ee=p[20]),o.useEffect(J,ee),p[21]!==C||p[22]!==h?(a=()=>{C(h)},p[21]=C,p[22]=h,p[23]=a):a=p[23],p[24]!==Z||p[25]!==_||p[26]!==x?(r=()=>{x?Z():_(ps)},p[24]=Z,p[25]=_,p[26]=x,p[27]=r):r=p[27],p[28]!==A.length||p[29]!==y?(i=A.length?()=>{y(null)}:void 0,p[28]=A.length,p[29]=y,p[30]=i):i=p[30],p[31]!==A.length||p[32]!==y?(c=(e,t)=>({id:e.id,name:e.name,onClick:t!==A.length-1?()=>{y(e.id)}:void 0}),p[31]=A.length,p[32]=y,p[33]=c):c=p[33],(0,u.jsxs)("div",{className:pi,children:[(0,u.jsx)(d5,{onCancel:a,onSave:r,saveLabel:T("general:select"),title:(0,u.jsx)(pp,{action:w.action,count:N,fromFolderName:m?g:void 0,title:"moveItemToFolder"===w.action?w.title:void 0})}),(0,u.jsxs)("div",{className:"".concat(pi,"__breadcrumbs-section"),children:[(0,u.jsx)(pa,{breadcrumbs:[{id:null,name:(0,u.jsxs)("span",{className:"".concat(pi,"__folder-breadcrumbs-root"),children:[(0,u.jsx)(pr,{}),T("folder:folders")]}),onClick:i},...A.map(c)]}),z.length>0&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(tS,{buttonStyle:"pill",className:"".concat(pi,"__add-folder-button"),margin:!1,onClick:()=>{K()},children:T("fields:addLabel",{label:(0,d.s)(null==(t=R.labels)?void 0:t.singular,D)})}),(0,u.jsx)(H,{initialData:{[O]:F,folderType:I},onSave:e=>{X({collectionSlug:R.slug,doc:e.doc}),W()},redirectAfterCreate:!1})]})]}),(0,u.jsx)(d4,{className:"".concat(pi,"__body-section"),children:z.length>0?M:(0,u.jsx)(pe,{Actions:[(0,u.jsx)(d7,{buttonLabel:"".concat(T("general:create")," ").concat((0,d.s)(null==(n=R.labels)?void 0:n.singular,D).toLowerCase()),collectionSlugs:[L],folderAssignedCollections:w.folderAssignedCollections,onCreateSuccess:X,slugPrefix:"create-new-folder-from-drawer--no-results"},"create-folder")],Message:(0,u.jsx)("p",{children:D.t("general:noResults",{label:"".concat((0,d.s)(null==(l=R.labels)?void 0:l.plural,D))})})})}),!x&&(0,u.jsx)(ls,{body:(0,u.jsx)(ph,{action:w.action,count:N,fromFolderName:g,title:"moveItemToFolder"===w.action?w.title:void 0,toFolderName:Y().name}),confirmingLabel:T("general:moving"),confirmLabel:T("general:move"),heading:T("general:confirmMove"),modalSlug:ps,onConfirm:Z})]})}function pp(e){let t=(0,f.c)(14),{t:n}=(0,s.d)();switch(e.action){case"moveItemToFolder":if(e.fromFolderName){let l;return t[0]!==e.fromFolderName||t[1]!==e.title||t[2]!==n?(l=n("folder:movingFromFolder",{fromFolder:e.fromFolderName,title:e.title}),t[0]=e.fromFolderName,t[1]=e.title,t[2]=n,t[3]=l):l=t[3],l}{let l;return t[4]!==e.title||t[5]!==n?(l=n("folder:selectFolderForItem",{title:e.title}),t[4]=e.title,t[5]=n,t[6]=l):l=t[6],l}case"moveItemsToFolder":if(e.fromFolderName){let l="".concat(e.count," ").concat(n(e.count>1?"general:items":"general:item")),a;return t[7]!==e.fromFolderName||t[8]!==n||t[9]!==l?(a=n("folder:movingFromFolder",{fromFolder:e.fromFolderName,title:l}),t[7]=e.fromFolderName,t[8]=n,t[9]=l,t[10]=a):a=t[10],a}{let l="".concat(e.count," ").concat(n(e.count>1?"general:items":"general:item")),a;return t[11]!==n||t[12]!==l?(a=n("folder:selectFolderForItem",{title:l}),t[11]=n,t[12]=l,t[13]=a):a=t[13],a}}}function ph(e){let t=(0,f.c)(14),{t:n}=(0,s.d)();switch(e.action){case"moveItemToFolder":if(e.toFolderName){let l;return t[0]!==e.title||t[1]!==e.toFolderName||t[2]!==n?(l=(0,u.jsx)(pn,{elements:{1:py,2:pb},i18nKey:"folder:moveItemToFolderConfirmation",t:n,variables:{title:e.title,toFolder:e.toFolderName}}),t[0]=e.title,t[1]=e.toFolderName,t[2]=n,t[3]=l):l=t[3],l}{let l;return t[4]!==e.title||t[5]!==n?(l=(0,u.jsx)(pn,{elements:{1:pv},i18nKey:"folder:moveItemToRootConfirmation",t:n,variables:{title:e.title}}),t[4]=e.title,t[5]=n,t[6]=l):l=t[6],l}case"moveItemsToFolder":if(e.toFolderName){let l;return t[7]!==e.count||t[8]!==e.toFolderName||t[9]!==n?(l=(0,u.jsx)(pn,{elements:{1:pg,2:pm},i18nKey:"folder:moveItemsToFolderConfirmation",t:n,variables:{count:e.count,label:n(e.count>1?"general:items":"general:item"),toFolder:e.toFolderName}}),t[7]=e.count,t[8]=e.toFolderName,t[9]=n,t[10]=l):l=t[10],l}{let l;return t[11]!==e.count||t[12]!==n?(l=(0,u.jsx)(pn,{elements:{1:pf},i18nKey:"folder:moveItemsToRootConfirmation",t:n,variables:{count:e.count,label:n(e.count>1?"general:items":"general:item")}}),t[11]=e.count,t[12]=n,t[13]=l):l=t[13],l}}}function pf(e){let{children:t}=e;return(0,u.jsx)("strong",{children:t})}function pm(e){let{children:t}=e;return(0,u.jsx)("strong",{children:t})}function pg(e){let{children:t}=e;return(0,u.jsx)("strong",{children:t})}function pv(e){let{children:t}=e;return(0,u.jsx)("strong",{children:t})}function pb(e){let{children:t}=e;return(0,u.jsx)("strong",{children:t})}function py(e){let{children:t}=e;return(0,u.jsx)("strong",{children:t})}function px(e){let t=(0,f.c)(29),{buttonProps:n,className:l,folderCollectionSlug:a,folderFieldName:r}=e,c=void 0===l?"":l,{t:d}=(0,s.d)(),p=eF(pw),h;t[0]!==r?(h=e=>{let[t]=e;return t&&(null==t?void 0:t[r])||null},t[0]=r,t[1]=h):h=t[1];let m=eF(h),g=null==m?void 0:m.value,{id:b,collectionSlug:y,initialData:x,title:w}=aC(),{setModified:j}=eE(),C;t[2]!==d?(C=()=>"".concat(d("general:loading"),"..."),t[2]=d,t[3]=C):C=t[3];let[S,_]=o.useState(C),{config:k}=(0,i.c)(),N=(0,o.useId)(),E,P;t[4]!==k.routes.api||t[5]!==a||t[6]!==g||t[7]!==d?(E=()=>{!async function(){if(g&&("string"==typeof g||"number"==typeof g)){let e=await (await fetch((0,v.Q)({apiRoute:k.routes.api,path:"/".concat(a,"/").concat(g)}))).json();_((null==e?void 0:e.name)||d("folder:noFolder"))}else _(d("folder:noFolder"))}()},P=[a,k.routes.api,g,d],t[4]=k.routes.api,t[5]=a,t[6]=g,t[7]=d,t[8]=E,t[9]=P):(E=t[8],P=t[9]),o.useEffect(E,P);let D="move-to-folder-".concat(N),T;t[10]!==m||t[11]!==p||t[12]!==r||t[13]!==j?(T=e=>{let{id:t}=e;m.value!==t&&(p({type:"UPDATE",path:r,value:t}),j(!0))},t[10]=m,t[11]=p,t[12]=r,t[13]=j,t[14]=T):T=t[14];let A=!(null==m?void 0:m.value),R;return t[15]!==n||t[16]!==c||t[17]!==y||t[18]!==a||t[19]!==r||t[20]!==g||t[21]!==S||t[22]!==b||t[23]!==x||t[24]!==D||t[25]!==T||t[26]!==A||t[27]!==w?(R=(0,u.jsx)(pj,{buttonProps:n,className:c,collectionSlug:y,docData:x,docID:b,docTitle:w,folderCollectionSlug:a,folderFieldName:r,fromFolderID:g,fromFolderName:S,modalSlug:D,onConfirm:T,skipConfirmModal:A}),t[15]=n,t[16]=c,t[17]=y,t[18]=a,t[19]=r,t[20]=g,t[21]=S,t[22]=b,t[23]=x,t[24]=D,t[25]=T,t[26]=A,t[27]=w,t[28]=R):R=t[28],R}function pw(e){let[,t]=e;return t}var pj=e=>{let t=(0,f.c)(22),{buttonProps:n,className:l,collectionSlug:a,docData:o,docID:r,docTitle:c,folderCollectionSlug:p,folderFieldName:h,fromFolderID:m,fromFolderName:g,modalSlug:v,onConfirm:b,skipConfirmModal:y}=e,{getEntityConfig:x}=(0,i.c)(),{i18n:w,t:j}=(0,s.d)(),{closeModal:C,openModal:S}=nj(),_=lr(),k;if(t[0]!==n||t[1]!==l||t[2]!==C||t[3]!==a||t[4]!==o||t[5]!==r||t[6]!==c||t[7]!==_||t[8]!==p||t[9]!==h||t[10]!==m||t[11]!==g||t[12]!==x||t[13]!==w||t[14]!==v||t[15]!==b||t[16]!==S||t[17]!==y||t[18]!==j){let e=lt({slug:v,depth:_}),i=c||(0,d.s)(x({collectionSlug:a}).labels.singular,w),s;t[20]!==l?(s=["move-doc-to-folder",l].filter(Boolean),t[20]=l,t[21]=s):s=t[21],k=(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(tS,{buttonStyle:"subtle",className:s.join(" "),icon:(0,u.jsx)(dX,{}),iconPosition:"left",onClick:()=>{S(e)},...n,children:g}),(0,u.jsx)(pc,{action:"moveItemToFolder",drawerSlug:e,folderAssignedCollections:[a],folderCollectionSlug:p,folderFieldName:h,fromFolderID:m,fromFolderName:g,itemsToMove:[{itemKey:"".concat(a,"-").concat(r),relationTo:a,value:{...o,id:r}}],onConfirm:async t=>{if(m!==t.id&&"function"==typeof b)try{await b(t),t.id?eZ.success(j("folder:itemHasBeenMoved",{folderName:'"'.concat(t.name,'"'),title:i})):eZ.success(j("folder:itemHasBeenMovedToRoot",{title:i}))}catch(e){}C(e)},skipConfirmModal:y,title:i})]}),t[0]=n,t[1]=l,t[2]=C,t[3]=a,t[4]=o,t[5]=r,t[6]=c,t[7]=_,t[8]=p,t[9]=h,t[10]=m,t[11]=g,t[12]=x,t[13]=w,t[14]=v,t[15]=b,t[16]=S,t[17]=y,t[18]=j,t[19]=k}else k=t[19];return k},pC={x:0,y:0,width:0,height:0,unit:"px"},pS=(e,t,n)=>Math.min(Math.max(e,t),n),p_=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(e=>e&&"string"==typeof e).join(" ")},pk=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function pN(e,t,n){return"%"===e.unit?{...pC,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/n*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/n*100:0}}function pE(e,t,n){return e.unit?"px"===e.unit?{...pC,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*n/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*n/100:0}:{...pC,...e,unit:"px"}}function pP(e,t,n,l,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:l,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:a,c={...e},u=Math.min(o,l),d=Math.min(r,a),p=Math.min(i,l),h=Math.min(s,a);t&&(t>1?(d=(u=r?r*t:u)/t,p=i*t):(u=(d=o?o/t:d)*t,h=s/t)),c.y<0&&(c.height=Math.max(c.height+c.y,d),c.y=0),c.x<0&&(c.width=Math.max(c.width+c.x,u),c.x=0);let f=l-(c.x+c.width);f<0&&(c.x=Math.min(c.x,l-u),c.width+=f);let m=a-(c.y+c.height);if(m<0&&(c.y=Math.min(c.y,a-d),c.height+=m),c.width<u&&(("sw"===n||"nw"==n)&&(c.x-=u-c.width),c.width=u),c.height<d&&(("nw"===n||"ne"==n)&&(c.y-=d-c.height),c.height=d),c.width>p&&(("sw"===n||"nw"==n)&&(c.x-=p-c.width),c.width=p),c.height>h&&(("nw"===n||"ne"==n)&&(c.y-=h-c.height),c.height=h),t){let e=c.width/c.height;if(e<t){let e=Math.max(c.width/t,d);("nw"===n||"ne"==n)&&(c.y-=e-c.height),c.height=e}else if(e>t){let e=Math.max(c.height*t,u);("sw"===n||"nw"==n)&&(c.x-=e-c.width),c.width=e}}return c}var pD={capture:!0,passive:!1},pT=class e extends o.PureComponent{get document(){return document}getBox(){let e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};let{x:t,y:n,width:l,height:a}=e.getBoundingClientRect();return{x:t,y:n,width:l,height:a}}componentDidUpdate(e){let{crop:t,onComplete:n}=this.props;if(n&&!e.crop&&t){let{width:e,height:l}=this.getBox();e&&l&&n(pE(t,e,l),pN(t,e,l))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,pD),this.document.addEventListener("pointerup",this.onDocPointerDone,pD),this.document.addEventListener("pointercancel",this.onDocPointerDone,pD),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,pD),this.document.removeEventListener("pointerup",this.onDocPointerDone,pD),this.document.removeEventListener("pointercancel",this.onDocPointerDone,pD),this.docMoveBound=!1)}getCropStyle(){let{crop:e}=this.props;if(e)return{top:"".concat(e.y).concat(e.unit),left:"".concat(e.x).concat(e.unit),width:"".concat(e.width).concat(e.unit),height:"".concat(e.height).concat(e.unit)}}dragCrop(){let{evData:e}=this,t=this.getBox(),n=this.makePixelCrop(t),l=e.clientX-e.startClientX,a=e.clientY-e.startClientY;return n.x=pS(e.startCropX+l,0,t.width-n.width),n.y=pS(e.startCropY+a,0,t.height-n.height),n}getPointRegion(e,t,n,l){let{evData:a}=this,o=a.clientX-e.x,r=a.clientY-e.y,i;return i=l&&t?"nw"===t||"n"===t||"ne"===t:r<a.startCropY,(n&&t?"nw"===t||"w"===t||"sw"===t:o<a.startCropX)?i?"nw":"sw":i?"ne":"se"}resolveMinDimensions(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=Math.min(n,e.width),o=Math.min(l,e.height);return t&&(a||o)?t>1?a?[a,a/t]:[o*t,o]:o?[o*t,o]:[a,a/t]:[a,o]}resizeCrop(){let{evData:t}=this,{aspect:n=0,maxWidth:l,maxHeight:a}=this.props,o=this.getBox(),[r,i]=this.resolveMinDimensions(o,n,this.props.minWidth,this.props.minHeight),s=this.makePixelCrop(o),c=this.getPointRegion(o,t.ord,r,i),u=t.ord||c,d=t.clientX-t.startClientX,p=t.clientY-t.startClientY;(r&&"nw"===u||"w"===u||"sw"===u)&&(d=Math.min(d,-r)),(i&&"nw"===u||"n"===u||"ne"===u)&&(p=Math.min(p,-i));let h={unit:"px",x:0,y:0,width:0,height:0};"ne"===c?(h.x=t.startCropX,h.width=d,n?h.height=h.width/n:h.height=Math.abs(p),h.y=t.startCropY-h.height):"se"===c?(h.x=t.startCropX,h.y=t.startCropY,h.width=d,n?h.height=h.width/n:h.height=p):"sw"===c?(h.x=t.startCropX+d,h.y=t.startCropY,h.width=Math.abs(d),n?h.height=h.width/n:h.height=p):"nw"===c&&(h.x=t.startCropX+d,h.width=Math.abs(d),n?(h.height=h.width/n,h.y=t.startCropY-h.height):(h.height=Math.abs(p),h.y=t.startCropY+p));let f=pP(h,n,c,o.width,o.height,r,i,l,a);return n||e.xyOrds.indexOf(u)>-1?s=f:e.xOrds.indexOf(u)>-1?(s.x=f.x,s.width=f.width):e.yOrds.indexOf(u)>-1&&(s.y=f.y,s.height=f.height),s.x=pS(s.x,0,o.width-s.width),s.y=pS(s.y,0,o.height-s.height),s}createCropSelection(){let{ariaLabels:t=e.defaultProps.ariaLabels,disabled:n,locked:l,renderSelectionAddon:a,ruleOfThirds:r,crop:i}=this.props,s=this.getCropStyle();if(i)return o.createElement("div",{style:s,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!l&&o.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},o.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),o.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),o.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),o.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"nw"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"n"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"ne"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"e"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"se"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"s"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"sw"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"w"),role:"button"})),a&&o.createElement("div",{className:"ReactCrop__selection-addon",onMouseDown:e=>e.stopPropagation()},a(this.state)),r&&o.createElement(o.Fragment,null,o.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),o.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){return pE({...pC,...this.props.crop||{}},e.width,e.height)}render(){let{aspect:e,children:t,circularCrop:n,className:l,crop:a,disabled:r,locked:i,style:s,ruleOfThirds:c}=this.props,{cropIsActive:u,newCropIsBeingDrawn:d}=this.state,p=a?this.createCropSelection():null,h=p_("ReactCrop",l,u&&"ReactCrop--active",r&&"ReactCrop--disabled",i&&"ReactCrop--locked",d&&"ReactCrop--new-crop",a&&e&&"ReactCrop--fixed-aspect",a&&n&&"ReactCrop--circular-crop",a&&c&&"ReactCrop--rule-of-thirds",!this.dragStarted&&a&&!a.width&&!a.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return o.createElement("div",{ref:this.componentRef,className:h,style:s},o.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},t),p)}constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=(0,o.createRef)(),this.mediaRef=(0,o.createRef)(),this.initChangeCalled=!1,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=e=>{let{crop:t,disabled:n}=this.props,l=this.getBox();if(!t)return;let a=pE(t,l.width,l.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let o=e.target.dataset.ord,r=e.clientX,i=e.clientY,s=a.x,c=a.y;if(o){let t=e.clientX-l.x,n=e.clientY-l.y,u=0,d=0;"ne"===o||"e"==o?(u=t-(a.x+a.width),d=n-a.y,s=a.x,c=a.y+a.height):"se"===o||"s"===o?(u=t-(a.x+a.width),d=n-(a.y+a.height),s=a.x,c=a.y):"sw"===o||"w"==o?(u=t-a.x,d=n-(a.y+a.height),s=a.x+a.width,c=a.y):("nw"===o||"n"==o)&&(u=t-a.x,d=n-a.y,s=a.x+a.width,c=a.y+a.height),r=s+l.x+u,i=c+l.y+d}this.evData={startClientX:r,startClientY:i,startCropX:s,startCropY:c,clientX:e.clientX,clientY:e.clientY,isResize:!!o,ord:o},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=e=>{let{crop:t,disabled:n,locked:l,keepSelection:a,onChange:o}=this.props,r=this.getBox();if(n||l||a&&t)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let i=e.clientX-r.x,s=e.clientY-r.y,c={unit:"px",x:i,y:s,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:i,startCropY:s,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,o(pE(c,r.width,r.height),pN(c,r.width,r.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=e=>{let t,{crop:n,disabled:l,onChange:a,onDragStart:o}=this.props,r=this.getBox();if(l||!n||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,o&&o(e));let{evData:i}=this;i.clientX=e.clientX,i.clientY=e.clientY,pk(n,t=i.isResize?this.resizeCrop():this.dragCrop())||a(pE(t,r.width,r.height),pN(t,r.width,r.height))},this.onComponentKeyDown=t=>{let{crop:n,disabled:l,onChange:a,onComplete:o}=this.props;if(l)return;let r=t.key,i=!1;if(!n)return;let s=this.getBox(),c=this.makePixelCrop(s),u=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep;if("ArrowLeft"===r?(c.x-=u,i=!0):"ArrowRight"===r?(c.x+=u,i=!0):"ArrowUp"===r?(c.y-=u,i=!0):"ArrowDown"===r&&(c.y+=u,i=!0),i){t.cancelable&&t.preventDefault(),c.x=pS(c.x,0,s.width-c.width),c.y=pS(c.y,0,s.height-c.height);let e=pE(c,s.width,s.height),n=pN(c,s.width,s.height);a(e,n),o&&o(e,n)}},this.onHandlerKeyDown=(t,n)=>{let{aspect:l=0,crop:a,disabled:o,minWidth:r=0,minHeight:i=0,maxWidth:s,maxHeight:c,onChange:u,onComplete:d}=this.props,p=this.getBox();if(o||!a||"ArrowUp"!==t.key&&"ArrowDown"!==t.key&&"ArrowLeft"!==t.key&&"ArrowRight"!==t.key)return;t.stopPropagation(),t.preventDefault();let h=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep,f=pP(function(e,t,n,l){let a={...e};return"ArrowLeft"===t?"nw"===l?(a.x-=n,a.y-=n,a.width+=n,a.height+=n):"w"===l?(a.x-=n,a.width+=n):"sw"===l?(a.x-=n,a.width+=n,a.height+=n):"ne"===l?(a.y+=n,a.width-=n,a.height-=n):"e"===l?a.width-=n:"se"===l&&(a.width-=n,a.height-=n):"ArrowRight"===t&&("nw"===l?(a.x+=n,a.y+=n,a.width-=n,a.height-=n):"w"===l?(a.x+=n,a.width-=n):"sw"===l?(a.x+=n,a.width-=n,a.height-=n):"ne"===l?(a.y-=n,a.width+=n,a.height+=n):"e"===l?a.width+=n:"se"===l&&(a.width+=n,a.height+=n)),"ArrowUp"===t?"nw"===l?(a.x-=n,a.y-=n,a.width+=n,a.height+=n):"n"===l?(a.y-=n,a.height+=n):"ne"===l?(a.y-=n,a.width+=n,a.height+=n):"sw"===l?(a.x+=n,a.width-=n,a.height-=n):"s"===l?a.height-=n:"se"===l&&(a.width-=n,a.height-=n):"ArrowDown"===t&&("nw"===l?(a.x+=n,a.y+=n,a.width-=n,a.height-=n):"n"===l?(a.y+=n,a.height-=n):"ne"===l?(a.y+=n,a.width-=n,a.height-=n):"sw"===l?(a.x-=n,a.width+=n,a.height+=n):"s"===l?a.height+=n:"se"===l&&(a.width+=n,a.height+=n)),a}(pE(a,p.width,p.height),t.key,h,n),l,n,p.width,p.height,r,i,s,c);if(!pk(a,f)){let e=pN(f,p.width,p.height);u(f,e),d&&d(f,e)}},this.onDocPointerDone=e=>{let{crop:t,disabled:n,onComplete:l,onDragEnd:a}=this.props,o=this.getBox();this.unbindDocMove(),!(n||!t)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,a&&a(e),l&&l(pE(t,o.width,o.height),pN(t,o.width,o.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=e=>{var t;null==(t=this.componentRef.current)||t.scrollTo(0,0)}}};pT.xOrds=["e","w"],pT.yOrds=["n","s"],pT.xyOrds=["nw","ne","se","sw"],pT.nudgeStep=1,pT.nudgeStepMedium=10,pT.nudgeStepLarge=100,pT.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}};var pA="edit-upload",pR=e=>{let{name:t,onChange:n,ref:l,value:a}=e;return(0,u.jsxs)("div",{className:"".concat(pA,"__input"),children:[t,(0,u.jsx)("input",{name:t,onChange:e=>n(e.target.value),ref:l,type:"number",value:a})]})},pL={height:100,unit:"%",width:100,x:0,y:0},pO=e=>{let{fileName:t,fileSrc:n,imageCacheTag:l,initialCrop:a,initialFocalPoint:r,onSave:i,showCrop:c,showFocalPoint:d}=e,{closeModal:p}=nj(),{t:h}=(0,s.d)(),[f,m]=(0,o.useState)(()=>({...pL,...a||{}})),g={x:50,y:50},[v,b]=(0,o.useState)(()=>({...g,...r})),[y,x]=(0,o.useState)(!1),[w,j]=(0,o.useState)(0),[C,S]=(0,o.useState)(0),_=(0,o.useRef)(void 0),k=(0,o.useRef)(void 0),N=(0,o.useRef)(void 0),E=(0,o.useRef)(null),P=(0,o.useRef)(null),[D,T]=(0,o.useState)(!1),A=e=>{j(e.currentTarget.naturalHeight),S(e.currentTarget.naturalWidth),T(!0)},R=e=>{let{dimension:t,value:n}=e,l=parseInt(n);if("width"===t&&l>=C||"height"===t&&l>=w)return null;let a=l/("width"===t?C:w)*100;if(100===a||0===a)return null;m({...f,[t]:a})},L=e=>{let{coordinate:t,value:n}=e,l=parseInt(n);l>=0&&l<=100&&b(e=>({...e,[t]:l}))},O=o.useCallback(e=>{let{x:t,y:n}=e;b({x:t,y:n}),x(!1)},[]),F=l?"".concat(n,"?").concat(encodeURIComponent(l)):n;return(0,u.jsxs)("div",{className:pA,children:[(0,u.jsxs)("div",{className:"".concat(pA,"__header"),children:[(0,u.jsxs)("h2",{title:"".concat(h("general:editing")," ").concat(t),children:[h("general:editing")," ",t]}),(0,u.jsxs)("div",{className:"".concat(pA,"__actions"),children:[(0,u.jsx)(tS,{"aria-label":h("general:cancel"),buttonStyle:"secondary",className:"".concat(pA,"__cancel"),onClick:()=>p(pX),children:h("general:cancel")}),(0,u.jsx)(tS,{"aria-label":h("general:applyChanges"),buttonStyle:"primary",className:"".concat(pA,"__save"),disabled:!D,onClick:()=>{var e,t,n,l;"function"==typeof i&&i({crop:f||void 0,focalPoint:v,heightInPixels:Number(null!=(n=null==E||null==(e=E.current)?void 0:e.value)?n:w),widthInPixels:Number(null!=(l=null==P||null==(t=P.current)?void 0:t.value)?l:C)}),p(pX)},children:h("general:applyChanges")})]})]}),(0,u.jsxs)("div",{className:"".concat(pA,"__toolWrap"),children:[(0,u.jsx)("div",{className:"".concat(pA,"__crop"),children:(0,u.jsxs)("div",{className:"".concat(pA,"__focal-wrapper"),ref:_,style:{aspectRatio:"".concat(C/w)},children:[c?(0,u.jsx)(pT,{className:"".concat(pA,"__reactCrop"),crop:f,onChange:(e,t)=>m(t),onComplete:()=>x(!0),renderSelectionAddon:()=>(0,u.jsx)("div",{className:"".concat(pA,"__crop-window"),ref:N}),children:(0,u.jsx)("img",{alt:h("upload:setCropArea"),onLoad:A,ref:k,src:F})}):(0,u.jsx)("img",{alt:h("upload:setFocalPoint"),onLoad:A,ref:k,src:F}),d&&(0,u.jsx)(pF,{boundsRef:c?N:k,checkBounds:!!c&&y,className:"".concat(pA,"__focalPoint"),containerRef:_,initialPosition:v,onDragEnd:O,setCheckBounds:!!c&&x,children:(0,u.jsx)(tr,{})})]})}),(c||d)&&(0,u.jsxs)("div",{className:"".concat(pA,"__sidebar"),children:[c&&(0,u.jsxs)("div",{className:"".concat(pA,"__groupWrap"),children:[(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"".concat(pA,"__titleWrap"),children:[(0,u.jsx)("h3",{children:h("upload:crop")}),(0,u.jsx)(tS,{buttonStyle:"none",className:"".concat(pA,"__reset"),onClick:()=>m({height:100,unit:"%",width:100,x:0,y:0}),children:h("general:reset")})]})}),(0,u.jsx)("span",{className:"".concat(pA,"__description"),children:h("upload:cropToolDescription")}),(0,u.jsxs)("div",{className:"".concat(pA,"__inputsWrap"),children:[(0,u.jsx)(pR,{name:"".concat(h("upload:width")," (px)"),onChange:e=>R({dimension:"width",value:e}),ref:P,value:(f.width/100*C).toFixed(0)}),(0,u.jsx)(pR,{name:"".concat(h("upload:height")," (px)"),onChange:e=>R({dimension:"height",value:e}),ref:E,value:(f.height/100*w).toFixed(0)})]})]}),d&&(0,u.jsxs)("div",{className:"".concat(pA,"__groupWrap"),children:[(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"".concat(pA,"__titleWrap"),children:[(0,u.jsx)("h3",{children:h("upload:focalPoint")}),(0,u.jsx)(tS,{buttonStyle:"none",className:"".concat(pA,"__reset"),onClick:()=>{let e=_.current.getBoundingClientRect(),t=c?N.current.getBoundingClientRect():k.current.getBoundingClientRect();b({x:(t.left-e.left+t.width/2)/e.width*100,y:(t.top-e.top+t.height/2)/e.height*100})},children:h("general:reset")})]})}),(0,u.jsx)("span",{className:"".concat(pA,"__description"),children:h("upload:focalPointDescription")}),(0,u.jsxs)("div",{className:"".concat(pA,"__inputsWrap"),children:[(0,u.jsx)(pR,{name:"X %",onChange:e=>L({coordinate:"x",value:e}),value:v.x.toFixed(0)}),(0,u.jsx)(pR,{name:"Y %",onChange:e=>L({coordinate:"y",value:e}),value:v.y.toFixed(0)})]})]})]})]})]})},pF=e=>{let{boundsRef:t,checkBounds:n,children:l,className:a,containerRef:r,initialPosition:i={x:50,y:50},onDragEnd:s,setCheckBounds:c}=e,[d,p]=(0,o.useState)({x:i.x,y:i.y}),[h,f]=(0,o.useState)(!1),m=(0,o.useRef)(void 0),g=o.useCallback((e,n,l)=>{let a=r.current.getBoundingClientRect(),o=t.current.getBoundingClientRect(),i=null!=e?e:o.left,s=null!=n?n:o.top,c=i<o.left||i>o.right,u=s<o.top||s>o.bottom,d=(i-a.left)/a.width*100,p=(s-a.top)/a.height*100,h=(o.left-a.left+o.width/2)/a.width*100,m=(o.top-a.top+o.height/2)/a.height*100;return(c||u)&&(f(!1),i<o.left?d=(o.left-a.left)/a.width*100:i>o.right&&(d=(a.width-(a.right-o.right))/a.width*100),s<o.top?p=(o.top-a.top)/a.height*100:s>o.bottom&&(p=(a.height-(a.bottom-o.bottom))/a.height*100),l&&(d=c?h:d,p=u?m:p)),{x:d,y:p}},[t,r]);return o.useEffect(()=>{if(!(h||!m.current)&&n){let{height:e,left:t,top:n,width:l}=m.current.getBoundingClientRect(),{x:a,y:o}=g(t+l/2,n+e/2,!0);s({x:a,y:o}),p({x:a,y:o}),c(!1);return}},[g,h,n,c,d.x,d.y,s]),o.useEffect(()=>{p({x:i.x,y:i.y})},[i.x,i.y]),(0,u.jsxs)("div",{className:["".concat(pA,"__draggable-container"),h&&"".concat(pA,"__draggable-container--dragging")].filter(Boolean).join(" "),onMouseMove:e=>{if(!h)return null;let{x:t,y:n}=g(e.clientX,e.clientY);p({x:t,y:n})},children:[(0,u.jsx)("button",{className:["".concat(pA,"__draggable"),a].filter(Boolean).join(" "),onMouseDown:e=>{e.preventDefault(),f(!0)},onMouseUp:()=>{f(!1),s(d)},ref:m,style:{left:"".concat(d.x,"%"),top:"".concat(d.y,"%")},type:"button",children:l}),(0,u.jsx)("div",{})]})},pM="file-details-draggable",pI=e=>{let t,n=(0,f.c)(20),{collectionSlug:l,doc:a,hideRemoveFile:o,imageCacheTag:r,isSortable:i,removeItem:s,rowIndex:c,uploadConfig:d}=e,{id:p,filename:h,thumbnailURL:m,url:g}=a,v;n[0]!==l||n[1]!==p?(v={id:p,collectionSlug:l},n[0]=l,n[1]=p,n[2]=v):v=n[2];let[b,y]=cE(v),x;return n[3]!==b||n[4]!==y||n[5]!==l||n[6]!==a||n[7]!==h||n[8]!==o||n[9]!==r||n[10]!==i||n[11]!==s||n[12]!==c||n[13]!==m||n[14]!==d||n[15]!==g?(x=e=>(0,u.jsxs)("div",{className:[pM,e&&i&&"".concat(pM,"--has-drag-handle")].filter(Boolean).join(" "),ref:e.setNodeRef,style:{transform:e.transform,transition:e.transition,zIndex:e.isDragging?1:void 0},children:[(0,u.jsxs)("div",{className:"".concat(pM,"--drag-wrapper"),children:[i&&e&&(0,u.jsx)("div",{className:"".concat(pM,"__drag"),...e.attributes,...e.listeners,children:(0,u.jsx)(aG,{})}),(0,u.jsx)(cH,{className:"".concat(pM,"__thumbnail"),collectionSlug:l,doc:a,fileSrc:m||g,imageCacheTag:r,uploadConfig:d})]}),(0,u.jsx)("div",{className:"".concat(pM,"__main-detail"),children:h}),(0,u.jsxs)("div",{className:"".concat(pM,"__actions"),children:[(0,u.jsx)(b,{}),(0,u.jsx)(y,{children:(0,u.jsx)(ta,{})}),!o&&s&&(0,u.jsx)(tS,{buttonStyle:"icon-label",className:"".concat(pM,"__remove"),icon:"x",iconStyle:"none",onClick:()=>s(c),round:!0})]})]}),n[3]=b,n[4]=y,n[5]=l,n[6]=a,n[7]=h,n[8]=o,n[9]=r,n[10]=i,n[11]=s,n[12]=c,n[13]=m,n[14]=d,n[15]=g,n[16]=x):x=n[16],n[17]!==p||n[18]!==x?(t=(0,u.jsx)(t2,{id:p,children:x},p),n[17]=p,n[18]=x,n[19]=t):t=n[19],t},pB=e=>{let t=(0,f.c)(11),{defaultMessage:n,successMessage:l,value:a}=e,[r,i]=(0,o.useState)(!1),[c,d]=(0,o.useState)(!1),{t:p}=(0,s.d)();if(a){let e,o,s,h;return t[0]!==a?(e=async()=>{await navigator.clipboard.writeText(a),i(!0)},t[0]=a,t[1]=e):e=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{d(!0),i(!1)},s=()=>{d(!1),i(!1)},t[2]=o,t[3]=s):(o=t[2],s=t[3]),t[4]!==r||t[5]!==n||t[6]!==c||t[7]!==l||t[8]!==p||t[9]!==e?(h=(0,u.jsxs)("button",{className:"copy-to-clipboard",onClick:e,onMouseEnter:o,onMouseLeave:s,type:"button",children:[(0,u.jsx)(tD,{}),(0,u.jsxs)(tw,{delay:r?0:void 0,show:c||r,children:[r&&(null!=l?l:p("general:copied")),!r&&(null!=n?n:p("general:copy"))]})]}),t[4]=r,t[5]=n,t[6]=c,t[7]=l,t[8]=p,t[9]=e,t[10]=h):h=t[10],h}return null},pz="file-meta",pU=e=>{let{filename:t,filesize:n,height:l,mimeType:a,url:r,width:i}=e;return(0,u.jsxs)("div",{className:pz,children:[(0,u.jsxs)("div",{className:"".concat(pz,"__url"),children:[(0,u.jsx)("a",{href:r,rel:"noopener noreferrer",target:"_blank",children:t}),(0,u.jsx)(pB,{defaultMessage:"Copy URL",value:r})]}),(0,u.jsxs)("div",{className:"".concat(pz,"__size-type"),children:[(0,q.B)(n),"number"==typeof i&&"number"==typeof l&&(0,u.jsxs)(o.Fragment,{children:["\xa0-\xa0",i,"x",l]}),a&&(0,u.jsxs)(o.Fragment,{children:["\xa0-\xa0",a]})]})]})},pV="file-details",pH=e=>{var t;let{customUploadActions:n,doc:l,enableAdjustments:a,handleRemove:o,hasImageSizes:r,hideRemoveFile:i,imageCacheTag:s,uploadConfig:c}=e,{filename:d,filesize:p,height:h,mimeType:f,thumbnailURL:m,url:g,width:v}=l,b=null==(t=c.displayPreview)||t;return(0,u.jsx)("div",{className:pV,children:(0,u.jsxs)("header",{children:[b&&(0,u.jsx)(cH,{className:"".concat(pV,"__thumbnail"),doc:l,fileSrc:m||g,imageCacheTag:s,uploadConfig:c}),(0,u.jsxs)("div",{className:"".concat(pV,"__main-detail"),children:[(0,u.jsx)(pU,{filename:d,filesize:p,height:h,mimeType:f,url:g,width:v}),(a||r&&l.filename||n)&&(0,u.jsx)(pJ,{customActions:n,enableAdjustments:!!a,enablePreviewSizes:r&&l.filename,mimeType:f})]}),!i&&o&&(0,u.jsx)(tS,{buttonStyle:"icon-label",className:"".concat(pV,"__remove"),icon:"x",iconStyle:"with-border",onClick:o,round:!0})]})})},pq=e=>{let{hasMany:t}=e;return t?(0,u.jsx)(pI,{...e}):(0,u.jsx)(pH,{...e})},pW="preview-sizes",pK=(e,t)=>{if(!t||0===t.length)return e;let n={};return t.forEach(t=>{let{name:l}=t;e[l]&&(n[l]=e[l])}),n},pQ=e=>{let{name:t,active:n,meta:l,onClick:a,previewSrc:o}=e;return(0,u.jsxs)("div",{className:["".concat(pW,"__sizeOption"),n&&"".concat(pW,"--selected")].filter(Boolean).join(" "),onClick:"function"==typeof a?a:void 0,onKeyDown:e=>{"function"==typeof a&&"Enter"===e.key&&a()},role:"button",tabIndex:0,children:[(0,u.jsx)("div",{className:"".concat(pW,"__image"),children:(0,u.jsx)("img",{alt:l.filename,src:o})}),(0,u.jsxs)("div",{className:"".concat(pW,"__sizeMeta"),children:[(0,u.jsx)("div",{className:"".concat(pW,"__sizeName"),children:t}),(0,u.jsx)(pU,{...l})]})]})},pY=e=>{let{doc:t,imageCacheTag:n,uploadConfig:l}=e,{imageSizes:a}=l,{sizes:r}=t,[i,s]=(0,o.useState)(()=>pK(r,a)),[c,d]=(0,o.useState)(null),p=e=>e.filename?e.url?"".concat(e.url).concat(n?"?".concat(encodeURIComponent(n)):""):void 0:null;(0,o.useEffect)(()=>{s(pK(r,a))},[r,a,n]);let h=p(c?t.sizes[c]:t),f=(0,o.useMemo)(()=>({filename:t.filename,filesize:t.filesize,height:t.height,mimeType:t.mimeType,url:t.url,width:t.width}),[t]),m="Original";return(0,u.jsxs)("div",{className:pW,children:[(0,u.jsxs)("div",{className:"".concat(pW,"__imageWrap"),children:[(0,u.jsxs)("div",{className:"".concat(pW,"__meta"),children:[(0,u.jsx)("div",{className:"".concat(pW,"__sizeName"),children:c||m}),(0,u.jsx)(pU,{...c?i[c]:f})]}),(0,u.jsx)("img",{alt:t.filename,className:"".concat(pW,"__preview"),src:h})]}),(0,u.jsx)("div",{className:"".concat(pW,"__listWrap"),children:(0,u.jsxs)("div",{className:"".concat(pW,"__list"),children:[(0,u.jsx)(pQ,{active:!c,meta:f,name:m,onClick:()=>d(null),previewSrc:p(t)}),Object.entries(i).map(e=>{let[t,n]=e,l=c===t,a=p(n);return a?(0,u.jsx)(pQ,{active:l,meta:n,name:t,onClick:()=>d(t),previewSrc:a},t):null})]})})]})},pG="file-field",pX="edit-upload",p$="preview-sizes",pZ=e=>e||void 0===e?!e||!!e.name&&""!==e.name||"A file name is required.":"A file is required.",pJ=e=>{let t=(0,f.c)(8),{customActions:n,enableAdjustments:l,enablePreviewSizes:a,mimeType:r}=e,{t:i}=(0,s.d)(),{openModal:c}=nj(),d,p;if(t[0]!==n||t[1]!==l||t[2]!==a||t[3]!==r||t[4]!==c||t[5]!==i){p=Symbol.for("react.early_return_sentinel");e:{let e=(0,P.w)(r)&&"image/svg+xml"!==r&&"image/jxl"!==r;if(!e&&(!n||0===n.length)){p=null;break e}d=(0,u.jsxs)("div",{className:"".concat(pG,"__upload-actions"),children:[e&&(0,u.jsxs)(o.Fragment,{children:[a&&(0,u.jsx)(tS,{buttonStyle:"pill",className:"".concat(pG,"__previewSizes"),margin:!1,onClick:()=>{c(p$)},size:"small",children:i("upload:previewSizes")}),l&&(0,u.jsx)(tS,{buttonStyle:"pill",className:"".concat(pG,"__edit"),margin:!1,onClick:()=>{c(pX)},size:"small",children:i("upload:editImage")})]}),n&&n.map(p3)]})}t[0]=n,t[1]=l,t[2]=a,t[3]=r,t[4]=c,t[5]=i,t[6]=d,t[7]=p}else d=t[6],p=t[7];return p!==Symbol.for("react.early_return_sentinel")?p:d},p0=e=>{let t=(0,f.c)(5),{resetUploadEdits:n,updateUploadEdits:l,uploadEdits:a}=ax(),o;return t[0]!==e||t[1]!==n||t[2]!==l||t[3]!==a?(o=(0,u.jsx)(db,{children:(0,u.jsx)(p1,{...e,resetUploadEdits:n,updateUploadEdits:l,uploadEdits:a})}),t[0]=e,t[1]=n,t[2]=l,t[3]=a,t[4]=o):o=t[4],o},p1=e=>{var t,n,l,a,r,c;let{collectionSlug:d,customActions:p,initialState:h,onChange:f,resetUploadEdits:m,updateUploadEdits:g,uploadConfig:b,UploadControls:y,uploadEdits:x}=e,{setUploadControlFile:w,setUploadControlFileName:j,setUploadControlFileUrl:C,uploadControlFile:S,uploadControlFileName:_,uploadControlFileUrl:k}=dy(),{config:{routes:{api:N}}}=(0,i.c)(),{t:E}=(0,s.d)(),{setModified:D}=eE(),{id:T,data:A,docPermissions:R,setUploadStatus:L}=aC(),O=eA(),{errorMessage:F,setValue:M,showError:I,value:B}=aA({path:"file",validate:pZ}),[z,U]=(0,o.useState)(null),[V,H]=(0,o.useState)(!1),[q,W]=(0,o.useState)((null==B?void 0:B.name)||""),[K,Q]=(0,o.useState)(!1),[Y,G]=(0,o.useState)(""),X=(0,o.useRef)(null),$=(0,o.useRef)(null),Z="object"==typeof(null==b?void 0:b.pasteURL)&&(null==(t=b.pasteURL.allowList)?void 0:t.length)>0,J=(0,o.useCallback)(e=>{let{file:t,isNewFile:n=!0}=e;n&&t instanceof File&&U(URL.createObjectURL(t)),M(t),Q(!1),C(""),j(null),w(null),"function"==typeof f&&f(t)},[f,M,w,j,C]),ee=o.useCallback(e=>{let t=e.target.value;B&&(J({file:((e,t)=>new File([e],t,{type:e.type,lastModified:e.lastModified}))(B,t),isNewFile:!1}),W(t))},[J,B]),et=(0,o.useCallback)(e=>{J({file:null==e?void 0:e[0]})},[J]),en=(0,o.useCallback)(()=>{H(!0),J({file:null}),U(""),G(""),m(),Q(!1),C(""),j(null),w(null)},[J,m,w,j,C]),el=(0,o.useCallback)(e=>{D(!0),g(e)},[D,g]),ea=(0,o.useCallback)(async()=>{if(!(!Y||(null==b?void 0:b.pasteURL)===!1)){L("uploading");try{let e=await fetch(Y);if(!e.ok)throw Error("Fetch failed with status: ".concat(e.status));let t=await e.blob(),n=_||decodeURIComponent(Y.split("/").pop()||""),l=new File([t],n,{type:t.type});J({file:l}),L("idle");return}catch(e){if(!Z){eZ.error("Failed to fetch the file."),L("failed");return}}try{let e="/".concat(d,"/paste-url").concat(T?"/".concat(T,"?"):"?","src=").concat(encodeURIComponent(Y)),t=await fetch((0,v.Q)({apiRoute:N,path:e}));if(!t.ok)throw Error("Fetch failed with status: ".concat(t.status));let n=await t.blob(),l=decodeURIComponent(Y.split("/").pop()||""),a=new File([n],l,{type:n.type});J({file:a}),L("idle")}catch(e){eZ.error("The provided URL is not allowed."),L("failed")}}},[N,d,Y,J,T,L,b,_,Z]);(0,o.useEffect)(()=>{var e;(null==h||null==(e=h.file)?void 0:e.value)instanceof File&&(U(URL.createObjectURL(h.file.value)),H(!1))},[h]),(0,o.useEffect)(()=>{K&&X.current},[K]),(0,o.useEffect)(()=>{O&&H(!1)},[O]);let eo=null==R?void 0:R.update,er=(null==b||null==(n=b.imageSizes)?void 0:n.length)>0,ei=!!(null==b?void 0:b.resizeOptions),es=(null==b?void 0:b.focalPoint)===!0,{crop:ec=!0,focalPoint:eu=!0}=b,ed=eu&&(er||ei||es),ep=null==(l=b.mimeTypes)?void 0:l.join(", "),eh=(null==b?void 0:b.cacheTags)&&(null==A?void 0:A.updatedAt);return(0,o.useEffect)(()=>{(async()=>{k&&(G(k),await ea())})()},[k,ea]),(0,o.useEffect)(()=>{S&&J({file:S})},[S,J]),(0,u.jsxs)("div",{className:[aM,pG].filter(Boolean).join(" "),children:[(0,u.jsx)(t9,{message:F,showError:I}),A&&A.filename&&!V&&(0,u.jsx)(pq,{collectionSlug:d,customUploadActions:p,doc:A,enableAdjustments:ec||ed,handleRemove:eo?en:void 0,hasImageSizes:er,hideRemoveFile:b.hideRemoveFile,imageCacheTag:eh,uploadConfig:b}),(!b.hideFileInputOnCreate&&!(null==A?void 0:A.filename)||V)&&(0,u.jsxs)("div",{className:"".concat(pG,"__upload"),children:[!B&&!K&&(0,u.jsx)(dw,{onChange:et,children:(0,u.jsxs)("div",{className:"".concat(pG,"__dropzoneContent"),children:[(0,u.jsxs)("div",{className:"".concat(pG,"__dropzoneButtons"),children:[(0,u.jsx)(tS,{buttonStyle:"pill",onClick:()=>{$.current&&$.current.click()},size:"small",children:E("upload:selectFile")}),(0,u.jsx)("input",{accept:ep,"aria-hidden":"true",className:"".concat(pG,"__hidden-input"),hidden:!0,onChange:e=>{e.target.files&&e.target.files.length>0&&et(e.target.files)},ref:$,type:"file"}),(null==b?void 0:b.pasteURL)!==!1&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("span",{className:"".concat(pG,"__orText"),children:E("general:or")}),(0,u.jsx)(tS,{buttonStyle:"pill",onClick:()=>{Q(!0),C(""),w(null),j(null)},size:"small",children:E("upload:pasteURL")})]}),y||null]}),(0,u.jsxs)("p",{className:"".concat(pG,"__dragAndDropText"),children:[E("general:or")," ",E("upload:dragAndDrop")]})]})}),K&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("div",{className:"".concat(pG,"__remote-file-wrap"),children:[(0,u.jsx)("input",{className:"".concat(pG,"__remote-file"),onChange:e=>{G(e.target.value)},ref:X,title:Y,type:"text",value:Y}),(0,u.jsx)("div",{className:"".concat(pG,"__add-file-wrap"),children:(0,u.jsx)("button",{className:"".concat(pG,"__add-file"),onClick:()=>{ea()},type:"button",children:E("upload:addFile")})})]}),(0,u.jsx)(tS,{buttonStyle:"icon-label",className:"".concat(pG,"__remove"),icon:"x",iconStyle:"with-border",onClick:()=>{Q(!1),C(""),w(null),j(null)},round:!0,tooltip:E("general:cancel")})]}),B&&z&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("div",{className:"".concat(pG,"__thumbnail-wrap"),children:(0,u.jsx)(cH,{collectionSlug:d,fileSrc:(0,P.w)(B.type)?z:null})}),(0,u.jsxs)("div",{className:"".concat(pG,"__file-adjustments"),children:[(0,u.jsx)("input",{className:"".concat(pG,"__filename"),onChange:ee,title:q||B.name,type:"text",value:q||B.name}),(0,u.jsx)(pJ,{customActions:p,enableAdjustments:ec||ed,enablePreviewSizes:er&&(null==A?void 0:A.filename)&&!V,mimeType:B.type})]}),(0,u.jsx)(tS,{buttonStyle:"icon-label",className:"".concat(pG,"__remove"),icon:"x",iconStyle:"with-border",onClick:en,round:!0,tooltip:E("general:cancel")})]})]}),(B||(null==A?void 0:A.filename))&&(0,u.jsx)(nt,{children:(0,u.jsx)(ll,{Header:null,slug:pX,children:(0,u.jsx)(pO,{fileName:(null==B?void 0:B.name)||(null==A?void 0:A.filename),fileSrc:(null==A?void 0:A.url)||z,imageCacheTag:eh,initialCrop:null!=(c=null==x?void 0:x.crop)?c:void 0,initialFocalPoint:{x:(null==x||null==(a=x.focalPoint)?void 0:a.x)||(null==A?void 0:A.focalX)||50,y:(null==x||null==(r=x.focalPoint)?void 0:r.y)||(null==A?void 0:A.focalY)||50},onSave:el,showCrop:ec,showFocalPoint:ed})})}),A&&er&&(0,u.jsx)(ll,{className:"".concat(pG,"__previewDrawer"),hoverTitle:!0,slug:p$,title:E("upload:sizesFor",{label:A.filename}),children:(0,u.jsx)(pY,{doc:A,imageCacheTag:eh,uploadConfig:b})})]})};function p3(e,t){return(0,u.jsx)(o.Fragment,{children:e},t)}function p2(e){let{resetUploadEdits:t,submitted:n,updateUploadEdits:l,uploadEdits:a}=e,{action:r,collectionSlug:s,docPermissions:c,getDocPreferences:d,hasSavePermission:p,initialState:h,isInitializing:f,Upload:m}=aC(),{drawerSlug:g,onSave:v}=cC(),{getFormState:b}=ce(),{config:{folders:y},getEntityConfig:x}=(0,i.c)(),w=o.useRef(null),j=x({collectionSlug:s}),{reportUpdate:C}=uS(),S=j.slug,[_]=o.useState(S),k=(0,o.useCallback)(e=>{var n;C({doc:(null==e?void 0:e.doc)||(null==e?void 0:e.result),drawerSlug:g,entitySlug:S,operation:"create",updatedAt:(null==e||null==(n=e.result)?void 0:n.updatedAt)||new Date().toISOString()}),"function"==typeof v&&v({...e,operation:"create"}),t()},[S,v,C,t,g]),N=(0,o.useCallback)(async e=>{let{formState:t,submitted:n}=e,l=cx(w),a=await d(),{state:o}=await b({collectionSlug:S,docPermissions:c,docPreferences:a,formState:t,operation:"create",schemaPath:_,signal:l.signal,skipValidation:!n});return w.current=null,o},[S,_,d,b,c]);return(0,o.useEffect)(()=>{let e=w.current;return()=>{cy(e)}},[]),(0,u.jsx)(aN,{operation:"create",children:(0,u.jsxs)(u9,{action:r,className:"".concat("collection-edit","__form"),disabled:f||!p,initialState:f?void 0:h,isInitializing:f,method:"POST",onChange:[N],onSuccess:k,submitted:n,children:[(0,u.jsx)(dG,{BeforeFields:(0,u.jsx)(o.Fragment,{children:m||(0,u.jsx)(p1,{collectionSlug:j.slug,customActions:[y&&j.folders&&(0,u.jsx)(px,{buttonProps:{buttonStyle:"pill",size:"small"},folderCollectionSlug:y.slug,folderFieldName:y.fieldName},"move-doc-to-folder")].filter(Boolean),initialState:h,resetUploadEdits:t,updateUploadEdits:l,uploadConfig:j.upload,uploadEdits:a})}),docPermissions:c,fields:j.fields,schemaPathSegments:[j.slug]}),(0,u.jsx)(p5,{}),(0,u.jsx)(p6,{})]})})}function p6(){let e=(0,f.c)(4),{getFields:t}=eE(),{getFormDataRef:n}=dA(),l,a;return e[0]!==t||e[1]!==n?(l=()=>{n.current=t},a=[t,n],e[0]=t,e[1]=n,e[2]=l,e[3]=a):(l=e[2],a=e[3]),(0,o.useEffect)(l,a),null}function p5(){let{docConfig:e}=aC(),{activeIndex:t,setFormTotalErrorCount:n}=dA(),l=o.useRef(0),a=o.useCallback(e=>{e!==l.current&&(n({errorCount:e,index:t}),l.current=e)},[t,n]);return e?(0,u.jsx)(o_,{fields:e.fields,path:[],setErrorCount:a}):null}var p4={};(0,c.d)(p4,{WindowInfo:()=>p9,WindowInfoContext:()=>p8,WindowInfoProvider:()=>ht,useWindowInfo:()=>p7,withWindowInfo:()=>hn});var p8=(0,o.createContext)({}),p7=()=>(0,o.useContext)(p8),p9=e=>{let{children:t}=e,n=p7();return t?"function"==typeof t?o.createElement(o.Fragment,null,t(n)):o.createElement(o.Fragment,null,t):null},he=(e,t)=>{let{payload:{breakpoints:n,animationRef:l}}=t;l.current=null;let{eventsFired:a}=e,{documentElement:{style:o,clientWidth:r,clientHeight:i}}=document,{innerWidth:s,innerHeight:c}=window,u="".concat(r/100,"px"),d="".concat(i/100,"px"),p=n?Object.keys(n).reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:window.matchMedia(n[t]).matches}),{}):{};return o.setProperty("--vw",u),o.setProperty("--vh",d),{width:s,height:c,"--vw":u,"--vh":d,breakpoints:p,eventsFired:a+1}},ht=e=>{let{breakpoints:t,children:n}=e,l=(0,o.useRef)(null),[a,r]=(0,o.useReducer)(he,{width:void 0,height:void 0,"--vw":"","--vh":"",breakpoints:{},eventsFired:0}),i=(0,o.useCallback)(()=>{l.current&&cancelAnimationFrame(l.current),l.current=requestAnimationFrame(()=>r({type:"UPDATE",payload:{breakpoints:t,animationRef:l}}))},[t]),s=(0,o.useCallback)(()=>{setTimeout(()=>{i()},500)},[i]);return(0,o.useEffect)(()=>(window.addEventListener("resize",i),window.addEventListener("orientationchange",s),()=>{window.removeEventListener("resize",i),window.removeEventListener("orientationchange",s)}),[i,s]),(0,o.useEffect)(()=>{0===a.eventsFired&&r({type:"UPDATE",payload:{breakpoints:t,animationRef:l}})},[t,a]),o.createElement(p8.Provider,{value:Object.assign({},a)},n&&n)},hn=e=>t=>{let n=p7();return o.createElement(e,Object.assign({},t,{windowInfo:n}))},hl="bulk-upload-drawer--add-more-files",ha="file-selections";function ho(){var e;let t=(0,f.c)(39),{activeIndex:n,addFiles:l,forms:a,isInitializing:r,removeFile:c,setActiveIndex:d,totalErrorCount:p}=dA(),{initialFiles:h,initialForms:m,maxFiles:g}=hy(),{i18n:v,t:b}=(0,s.d)(),{closeModal:y,openModal:x}=nj(),[w,j]=o.useState(!1),{breakpoints:C}=p7(),S;t[0]!==c?(S=e=>{c(e)},t[0]=c,t[1]=S):S=t[1];let _=S,k;t[2]!==l||t[3]!==y?(k=e=>{l(e),y(hl)},t[2]=l,t[3]=y,t[4]=k):k=t[4];let N=k,E=r?null!=(e=null==h?void 0:h.length)?e:null==m?void 0:m.length:a.length,{collectionSlug:P,selectableCollections:D,setCollectionSlug:T}=hy(),{getEntityConfig:A}=(0,i.c)(),R=w&&"".concat(ha,"__showingFiles"),L;t[5]!==R?(L=[ha,R].filter(Boolean),t[5]=R,t[6]=L):L=t[6];let O=L.join(" "),F;if(t[7]!==n||t[8]!==C.m||t[9]!==P||t[10]!==y||t[11]!==a||t[12]!==A||t[13]!==N||t[14]!==_||t[15]!==v||t[16]!==h||t[17]!==m||t[18]!==r||t[19]!==g||t[20]!==x||t[21]!==D||t[22]!==d||t[23]!==T||t[24]!==w||t[25]!==b||t[26]!==O||t[27]!==p||t[28]!==E){let e,l,o;t[30]===Symbol.for("react.memo_cache_sentinel")?(e=()=>j(hi),t[30]=e):e=t[30],t[31]!==y?(l=()=>y(hl),t[31]=y,t[32]=l):l=t[32],t[33]!==n||t[34]!==_||t[35]!==v||t[36]!==d||t[37]!==b?(o=(e,t)=>{var l;let{errorCount:a,formID:o,formState:r}=e,i=(null==r||null==(l=r.file)?void 0:l.value)||{};return(0,u.jsxs)("div",{className:["".concat(ha,"__fileRowContainer"),t===n&&"".concat(ha,"__fileRowContainer--active"),a&&a>0&&"".concat(ha,"__fileRowContainer--error")].filter(Boolean).join(" "),children:[(0,u.jsxs)("button",{className:"".concat(ha,"__fileRow"),onClick:()=>d(t),type:"button",children:[(0,u.jsx)(hs,{file:i,formID:o}),(0,u.jsx)("div",{className:"".concat(ha,"__fileDetails"),children:(0,u.jsx)("p",{className:"".concat(ha,"__fileName"),title:i.name,children:i.name||b("upload:noFile")})}),i instanceof File?(0,u.jsx)("p",{className:"".concat(ha,"__fileSize"),children:function(e){let t=e.size,n=0===t?0:Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,n)).toFixed(+(n>1))+" "+["B","kB","MB","GB","TB"][n]}(i)}):null,(0,u.jsx)("div",{className:"".concat(ha,"__remove ").concat(ha,"__remove--underlay"),children:(0,u.jsx)(s.a,{})}),a?(0,u.jsx)(t4,{className:"".concat(ha,"__errorCount"),count:a,i18n:v}):null]}),(0,u.jsx)("button",{"aria-label":b("general:remove"),className:"".concat(ha,"__remove ").concat(ha,"__remove--overlay"),onClick:()=>_(t),type:"button",children:(0,u.jsx)(s.a,{})})]},o)},t[33]=n,t[34]=_,t[35]=v,t[36]=d,t[37]=b,t[38]=o):o=t[38],F=(0,u.jsxs)("div",{className:O,children:[C.m&&w?(0,u.jsx)("div",{className:"".concat(ha,"__mobileBlur")}):null,(0,u.jsxs)("div",{className:"".concat(ha,"__header"),children:[(null==D?void 0:D.length)>1&&(0,u.jsx)(uW,{className:"".concat(ha,"__collectionSelect"),isClearable:!1,name:"groupBy",onChange:e=>{T("object"==typeof e&&"value"in e?null==e?void 0:e.value:e)},options:(null==D?void 0:D.map(e=>{let t=A({collectionSlug:e});return{label:t.labels.singular,value:t.slug}}))||[],path:"groupBy",required:!0,value:P}),(0,u.jsxs)("div",{className:"".concat(ha,"__headerTopRow"),children:[(0,u.jsxs)("div",{className:"".concat(ha,"__header__text"),children:[(0,u.jsx)(t4,{count:p,i18n:v,withMessage:!0}),(0,u.jsx)("p",{children:(0,u.jsxs)("strong",{title:"".concat(E," ").concat(b(E>1?"upload:filesToUpload":"upload:fileToUpload")),children:[E," ",b(E>1?"upload:filesToUpload":"upload:fileToUpload")]})})]}),(0,u.jsxs)("div",{className:"".concat(ha,"__header__actions"),children:["number"!=typeof g||E<g?(0,u.jsx)(a4,{className:"".concat(ha,"__header__addFile"),onClick:()=>x(hl),size:"small",children:b("upload:addFile")}):null,(0,u.jsxs)(tS,{buttonStyle:"transparent",className:"".concat(ha,"__toggler"),onClick:e,children:[(0,u.jsx)("span",{className:"".concat(ha,"__toggler__label"),children:(0,u.jsxs)("strong",{title:"".concat(E," ").concat(b(E>1?"upload:filesToUpload":"upload:fileToUpload")),children:[E," ",b(E>1?"upload:filesToUpload":"upload:fileToUpload")]})}),(0,u.jsx)(tl,{direction:w?"down":"up"})]}),(0,u.jsx)(ll,{gutter:!1,Header:null,slug:hl,children:(0,u.jsx)(d_,{onCancel:l,onDrop:N})})]})]}),(0,u.jsx)("div",{className:"".concat(ha,"__header__mobileDocActions"),children:(0,u.jsx)(dH,{})})]}),(0,u.jsx)("div",{className:"".concat(ha,"__animateWrapper"),children:(0,u.jsx)(aX,{height:!C.m||w?"auto":0,children:(0,u.jsxs)("div",{className:"".concat(ha,"__filesContainer"),children:[r&&0===a.length&&((null==h?void 0:h.length)>0||(null==m?void 0:m.length)>0)?(h?Array.from(h):m).map(hr):null,a.map(o)]})})})]}),t[7]=n,t[8]=C.m,t[9]=P,t[10]=y,t[11]=a,t[12]=A,t[13]=N,t[14]=_,t[15]=v,t[16]=h,t[17]=m,t[18]=r,t[19]=g,t[20]=x,t[21]=D,t[22]=d,t[23]=T,t[24]=w,t[25]=b,t[26]=O,t[27]=p,t[28]=E,t[29]=F}else F=t[29];return F}function hr(e,t){return(0,u.jsx)(i.f,{animationDelay:"calc(".concat(t," * 60ms)"),height:"35px"},t)}function hi(e){return!e}function hs(e){let{file:t,formID:n}=e,[l,a]=o.useState(null),[r,s]=o.useState(!0);return o.useEffect(()=>{let e=!1;return async function(){s(!0),a(null);try{if((0,P.w)(t.type)){let n=await new Promise((e,n)=>{let l=new Image;l.src=URL.createObjectURL(t),l.onload=()=>{let a,o,r=l.width/l.height;r>1?(o=280,a=280/r):(o=280*r,a=280);let i=new OffscreenCanvas(o,a),s=i.getContext("2d"),c="image/png"===t.type?"image/png":"image/jpeg",u="image/png"===t.type?void 0:.8;s.drawImage(l,0,0,o,a),i.convertToBlob({type:c,...u&&{quality:u}}).then(t=>{URL.revokeObjectURL(l.src);let a=new FileReader;a.onload=()=>e(a.result),a.onerror=n,a.readAsDataURL(t)}).catch(n)},l.onerror=e=>{URL.revokeObjectURL(l.src),n(e)}});e||a(n)}else a(null)}catch(t){e||a(null)}finally{e||s(!1)}}(),()=>{e=!0}},[t]),r?(0,u.jsx)(i.f,{className:"".concat(ha,"__thumbnail-shimmer"),disableInlineStyles:!0}):(0,u.jsx)(cH,{className:"".concat(ha,"__thumbnail"),fileSrc:l},"".concat(n,"-").concat(l||"placeholder"))}var hc="bulk-upload--file-manager";function hu(){let e=(0,f.c)(18),{activeIndex:t,collectionSlug:n,docPermissions:l,documentSlots:a,forms:o,hasPublishPermission:r,hasSavePermission:c,hasSubmitted:p,resetUploadEdits:h,updateUploadEdits:m}=dA(),g=o[t],{getEntityConfig:v}=(0,i.c)(),{i18n:b}=(0,s.d)(),{user:y}=lf(),{openModal:x}=nj(),w;if(e[0]!==g||e[1]!==t||e[2]!==n||e[3]!==l||e[4]!==a||e[5]!==o.length||e[6]!==v||e[7]!==r||e[8]!==c||e[9]!==p||e[10]!==b||e[11]!==x||e[12]!==h||e[13]!==m||e[14]!==y){let i=v({collectionSlug:n}),s;e[16]!==x?(s=()=>x(dq),e[16]=x,e[17]=s):s=e[17],w=(0,u.jsxs)("div",{className:hc,children:[(0,u.jsx)(ho,{}),(0,u.jsxs)("div",{className:"".concat(hc,"__editView"),children:[(0,u.jsx)(dC,{onClose:s,title:(0,d.s)(i.labels.singular,b)}),g?(0,u.jsxs)(a_,{collectionSlug:n,currentEditor:y,docPermissions:l,hasPublishedDoc:!1,hasPublishPermission:r,hasSavePermission:c,id:null,initialData:(0,F.r)(g.formState,!0),initialState:g.formState,isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,Upload:a.Upload,versionCount:0,children:[(0,u.jsx)(dV,{collectionConfig:i}),(0,u.jsx)(p2,{resetUploadEdits:h,submitted:p,updateUploadEdits:m,uploadEdits:null==g?void 0:g.uploadEdits})]},"".concat(t,"-").concat(o.length)):null]}),(0,u.jsx)(dW,{})]}),e[0]=g,e[1]=t,e[2]=n,e[3]=l,e[4]=a,e[5]=o.length,e[6]=v,e[7]=r,e[8]=c,e[9]=p,e[10]=b,e[11]=x,e[12]=h,e[13]=m,e[14]=y,e[15]=w}else w=e[15];return w}function hd(){var e,t;let{addFiles:n,forms:l,isInitializing:a}=dA(),{closeModal:r}=nj(),{collectionSlug:c,drawerSlug:d}=hy(),{getEntityConfig:p}=(0,i.c)(),{t:h}=(0,s.d)(),f=null==(t=p({collectionSlug:c}))||null==(e=t.upload)?void 0:e.mimeTypes,m=o.useCallback(e=>{let t=new DataTransfer;for(let n of e)(void 0===f||0===f.length||(0,z.d)(n.type,f))&&t.items.add(n);0===t.files.length?eZ.error(h("error:invalidFileType")):n(t.files)},[n,h,f]);return c?l.length||a?(0,u.jsx)(hu,{}):(0,u.jsx)(d_,{acceptMimeTypes:null==f?void 0:f.join(", "),onCancel:()=>r(d),onDrop:m}):null}function hp(){let e,t,n=(0,f.c)(17),{drawerSlug:l,onCancel:a,setInitialFiles:r,setInitialForms:i,setOnCancel:s,setOnSuccess:c,setSelectableCollections:d,setSuccessfullyUploaded:p,successfullyUploaded:h}=hy(),{modalState:m}=nj(),g=o.useRef(m),v;n[0]!==l||n[1]!==a||n[2]!==r||n[3]!==i||n[4]!==s||n[5]!==c||n[6]!==d||n[7]!==p||n[8]!==h?(v=e=>{let t=g.current[l],n=e[l];typeof n>"u"&&typeof t>"u"||((null==t?void 0:t.isOpen)!==(null==n?void 0:n.isOpen)&&((null==n?void 0:n.isOpen)||(h||"function"==typeof a&&a(),r(void 0),i(void 0),s(hm),c(hh),d(null),p(!1))),g.current=e)},n[0]=l,n[1]=a,n[2]=r,n[3]=i,n[4]=s,n[5]=c,n[6]=d,n[7]=p,n[8]=h,n[9]=v):v=n[9];let b=tf(v),y;return n[10]!==m||n[11]!==b?(y=()=>{b(m)},n[10]=m,n[11]=b,n[12]=y):y=n[12],n[13]!==m?(e=[m],n[13]=m,n[14]=e):e=n[14],(0,o.useEffect)(y,e),n[15]!==l?(t=(0,u.jsx)(ll,{gutter:!1,Header:null,slug:l,children:(0,u.jsx)(dT,{children:(0,u.jsx)(db,{children:(0,u.jsx)(nt,{children:(0,u.jsx)(hd,{})})})})}),n[15]=l,n[16]=t):t=n[16],t}function hh(){return hf}function hf(){return null}function hm(){return hg}function hg(){return null}var hv=o.createContext({collectionSlug:"",drawerSlug:"",initialFiles:void 0,initialForms:[],maxFiles:void 0,onCancel:()=>null,onSuccess:()=>null,selectableCollections:null,setCollectionSlug:()=>null,setInitialFiles:()=>null,setInitialForms:()=>null,setMaxFiles:()=>null,setOnCancel:()=>null,setOnSuccess:()=>null,setSelectableCollections:()=>null,setSuccessfullyUploaded:()=>!1,successfullyUploaded:!1});function hb(e){let t,n,l=(0,f.c)(17),{children:a,drawerSlugPrefix:r}=e,[i,s]=o.useState(null),[c,d]=o.useState(),[p,h]=o.useState(),[m,g]=o.useState(),[v,b]=o.useState(void 0),[y,x]=o.useState(void 0),[w,j]=o.useState(void 0),[C,S]=o.useState(!1),_="".concat(r?"".concat(r,"-"):"").concat(hx()),k;l[0]===Symbol.for("react.memo_cache_sentinel")?(k=e=>{h(()=>e)},l[0]=k):k=l[0];let N=k,E;l[1]===Symbol.for("react.memo_cache_sentinel")?(E=e=>{g(()=>e)},l[1]=E):E=l[1];let P=E,D;return l[2]!==m?(D=()=>{"function"==typeof m&&m()},l[2]=m,l[3]=D):D=l[3],l[4]!==p?(t=(e,t)=>{"function"==typeof p&&p(e,t)},l[4]=p,l[5]=t):t=l[5],l[6]!==a||l[7]!==c||l[8]!==_||l[9]!==v||l[10]!==y||l[11]!==w||l[12]!==i||l[13]!==C||l[14]!==D||l[15]!==t?(n=(0,u.jsx)(hv,{value:{collectionSlug:c,drawerSlug:_,initialFiles:v,initialForms:y,maxFiles:w,onCancel:D,onSuccess:t,selectableCollections:i,setCollectionSlug:d,setInitialFiles:b,setInitialForms:x,setMaxFiles:j,setOnCancel:P,setOnSuccess:N,setSelectableCollections:s,setSuccessfullyUploaded:S,successfullyUploaded:C},children:(0,u.jsxs)(o.Fragment,{children:[a,(0,u.jsx)(hp,{})]})}),l[6]=a,l[7]=c,l[8]=_,l[9]=v,l[10]=y,l[11]=w,l[12]=i,l[13]=C,l[14]=D,l[15]=t,l[16]=n):n=l[16],n}var hy=()=>o.use(hv);function hx(){let e=lr();return"".concat("bulk-upload-drawer-slug","-").concat(e||1)}var hw="upload-relationship-details";function hj(e){var t,n;let l=(0,f.c)(11),{id:a,allowEdit:o,allowRemove:r,alt:c,byteSize:p,className:h,collectionSlug:m,displayPreview:g,filename:v,mimeType:b,onRemove:y,reloadDoc:x,showCollectionSlug:w,src:j,thumbnailSrc:C,withMeta:S,x:_,y:k}=e,N=void 0===S||S,{config:E}=(0,i.c)(),{i18n:P}=(0,s.d)(),D="collections"in E?E.collections.find(e=>e.slug===m):void 0,T=j?a:void 0,A;l[0]!==m||l[1]!==T?(A={id:T,collectionSlug:m},l[0]=m,l[1]=T,l[2]=A):A=l[2];let[R,,L]=cE(A),{openDrawer:O}=L,F;l[3]!==m||l[4]!==x?(F=async e=>{let{doc:t}=e;return x(t.id,m)},l[3]=m,l[4]=x,l[5]=F):F=l[5];let M=F,I;l[6]!==_||l[7]!==k?(I=function(e,t){let n=[];return t&&n.push((0,q.B)(t)),_&&k&&n.push("".concat(_,"x").concat(k)),e&&n.push(e),n.join("  ")},l[6]=_,l[7]=k,l[8]=I):I=l[8];let B=N?I(b,p):"",z=null==(n=null!=g?g:null==D||null==(t=D.upload)?void 0:t.displayPreview)||n,U;return l[9]!==h?(U=[hw,h].filter(Boolean),l[9]=h,l[10]=U):U=l[10],(0,u.jsxs)("div",{className:U.join(" "),children:[(0,u.jsxs)("div",{className:"".concat(hw,"__imageAndDetails"),children:[z&&(0,u.jsx)(cq,{alt:c,className:"".concat(hw,"__thumbnail"),filename:v,fileSrc:C,size:"small"}),void 0!==w&&w&&D?(0,u.jsx)(a4,{size:"small",children:(0,d.s)(D.labels.singular,P)}):null,(0,u.jsxs)("div",{className:"".concat(hw,"__details"),children:[(0,u.jsx)("p",{className:"".concat(hw,"__filename"),children:j?(0,u.jsx)("a",{href:j,target:"_blank",children:v}):v}),N?(0,u.jsx)("p",{className:"".concat(hw,"__meta"),children:B}):null]})]}),!1!==o||!1!==r?(0,u.jsxs)("div",{className:"".concat(hw,"__actions"),children:[!1!==o?(0,u.jsx)(tS,{buttonStyle:"icon-label",className:"".concat(hw,"__edit"),icon:"edit",iconStyle:"none",onClick:O}):null,!1!==r?(0,u.jsx)(tS,{buttonStyle:"icon-label",className:"".concat(hw,"__remove"),icon:"x",iconStyle:"none",onClick:()=>y()}):null,(0,u.jsx)(R,{onSave:M})]}):null]})}var hC="upload-field-card";function hS(e){let{children:t,className:n,size:l="medium"}=e;return(0,u.jsx)("div",{className:[hC,n,"".concat(hC,"--size-").concat(l)].filter(Boolean).join(" "),children:t})}var h_="upload upload--has-many";function hk(e){let t=(0,f.c)(29),{className:n,displayPreview:l,fileDocs:a,isSortable:o,onRemove:r,onReorder:i,readonly:s,reloadDoc:c,serverURL:d,showCollectionSlug:p}=e,h=void 0!==p&&p,m;t[0]!==a||t[1]!==i?(m=(e,t)=>{if(e===t)return;let n=[...a],[l]=n.splice(e,1);n.splice(t,0,l),i(n)},t[0]=a,t[1]=i,t[2]=m):m=t[2];let g=m,v;t[3]!==a||t[4]!==r?(v=e=>{let t=[...a||[]];t.splice(e,1),r(0===t.length?[]:t)},t[3]=a,t[4]=r,t[5]=v):v=t[5];let b=v,y;t[6]!==n?(y=[h_,n].filter(Boolean),t[6]=n,t[7]=y):y=t[7];let x=y.join(" "),w;if(t[8]!==l||t[9]!==a||t[10]!==o||t[11]!==g||t[12]!==s||t[13]!==c||t[14]!==b||t[15]!==d||t[16]!==h||t[17]!==x){let e,n;t[19]!==g?(e=e=>{let{moveFromIndex:t,moveToIndex:n}=e;return g(t,n)},t[19]=g,t[20]=e):e=t[20],t[21]!==l||t[22]!==o||t[23]!==s||t[24]!==c||t[25]!==b||t[26]!==d||t[27]!==h?(n=(e,t)=>{let{relationTo:n,value:a}=e,r=String(a.id),i,p;if(a.url)try{i=new URL(a.url,d).toString()}catch(e){i="".concat(d).concat(a.url)}if(a.thumbnailURL)try{p=new URL(a.thumbnailURL,d).toString()}catch(e){p="".concat(d).concat(a.thumbnailURL)}return(0,P.w)(a.mimeType)&&(p=(0,D.k)({sizes:a.sizes,thumbnailURL:p,url:i,width:a.width})),(0,u.jsx)(t2,{disabled:!o||s,id:r,children:e=>(0,u.jsx)("div",{className:["".concat(h_,"__dragItem"),e&&o&&"".concat(h_,"--has-drag-handle")].filter(Boolean).join(" "),ref:e.setNodeRef,style:{transform:e.transform,transition:e.transition,zIndex:e.isDragging?1:void 0},children:(0,u.jsxs)(hS,{size:"small",children:[e&&(0,u.jsx)("div",{className:"".concat(h_,"__drag"),...e.attributes,...e.listeners,children:(0,u.jsx)(aG,{})}),(0,u.jsx)(hj,{allowEdit:!s,allowRemove:!s,alt:(null==a?void 0:a.alt)||(null==a?void 0:a.filename),byteSize:a.filesize,collectionSlug:n,displayPreview:l,filename:a.filename,id:r,mimeType:null==a?void 0:a.mimeType,onRemove:()=>b(t),reloadDoc:c,showCollectionSlug:h,src:i,thumbnailSrc:p,withMeta:!1,x:null==a?void 0:a.width,y:null==a?void 0:a.height})]})})},r)},t[21]=l,t[22]=o,t[23]=s,t[24]=c,t[25]=b,t[26]=d,t[27]=h,t[28]=n):n=t[28],w=(0,u.jsx)("div",{className:x,children:(0,u.jsx)(t6,{className:"".concat(h_,"__draggable-rows"),ids:null==a?void 0:a.map(hN),onDragEnd:e,children:a.map(n)})}),t[8]=l,t[9]=a,t[10]=o,t[11]=g,t[12]=s,t[13]=c,t[14]=b,t[15]=d,t[16]=h,t[17]=x,t[18]=w}else w=t[18];return w}function hN(e){let{value:t}=e;return String(t.id)}function hE(e){let{className:t,displayPreview:n,fileDoc:l,onRemove:a,readonly:o,reloadDoc:r,serverURL:i,showCollectionSlug:s=!1}=e,{relationTo:c,value:d}=l,p=String(null==d?void 0:d.id),h,f;if(d.url)try{h=new URL(d.url,i).toString()}catch(e){h="".concat(i).concat(d.url)}if(d.thumbnailURL)try{f=new URL(d.thumbnailURL,i).toString()}catch(e){f="".concat(i).concat(d.thumbnailURL)}return(0,P.w)(d.mimeType)&&(f=(0,D.k)({sizes:d.sizes,thumbnailURL:f,url:h,width:d.width})),(0,u.jsx)(hS,{className:["upload upload--has-one",t].filter(Boolean).join(" "),children:(0,u.jsx)(hj,{allowEdit:!o,allowRemove:!o,alt:(null==d?void 0:d.alt)||(null==d?void 0:d.filename),byteSize:d.filesize,collectionSlug:c,displayPreview:n,filename:d.filename,id:p,mimeType:null==d?void 0:d.mimeType,onRemove:a,reloadDoc:r,showCollectionSlug:s,src:h,thumbnailSrc:f,x:null==d?void 0:d.width,y:null==d?void 0:d.height})})}var hP="upload";function hD(e){var t;let{AfterInput:n,allowCreate:l,api:a,BeforeInput:r,className:c,Description:d,description:p,displayPreview:h,Error:f,filterOptions:m,hasMany:g,isSortable:y,Label:x,label:w,localized:j,maxRows:C,onChange:S,path:_,readOnly:k,relationTo:N,required:E,serverURL:P,showError:D,style:T,value:A}=e,[R,L]=o.useState(),[O]=o.useState(Array.isArray(N)?N[0]:N),{openModal:F}=nj(),{drawerSlug:M,setCollectionSlug:I,setInitialFiles:B,setMaxFiles:z,setOnSuccess:U,setSelectableCollections:V}=hy(),{permissions:H}=lf(),{code:q}=lx(),{i18n:W,t:K}=(0,s.d)(),Q=(0,o.useMemo)(()=>Array.isArray(N)?N.filter(e=>{var t,n;return(null==H?void 0:H.collections)&&(null==(n=H.collections)||null==(t=n[e])?void 0:t.create)}):[],[N,H]),Y=(0,o.useMemo)(()=>{let e=Array.isArray(N);if(!A)return m;let t={};for(let n of Array.isArray(A)?A:[A])if(e&&"object"==typeof n&&"relationTo"in n)t[n.relationTo]||(t[n.relationTo]=[]),t[n.relationTo].push(n.value);else if(!e){t[N]||(t[N]=[]);let e="object"==typeof n&&"value"in n?n.value:n;("string"==typeof e||"number"==typeof e)&&t[N].push(e)}let n={...m};return(e?N:[N]).forEach(e=>{var l,a,o;let r=t[e]||[];n[e]={...(null==m?void 0:m[e])||{},id:{...(null==m||null==(l=m[e])?void 0:l.id)||{},not_in:((null==m||null==(o=m[e])||null==(a=o.id)?void 0:a.not_in)||[]).concat(r)}}}),n},[A,m,N]),[G,,{closeDrawer:X,openDrawer:$}]=ub({collectionSlugs:"string"==typeof N?[N]:N,filterOptions:Y}),[Z,,{closeDrawer:J,openDrawer:ee}]=cE({collectionSlug:O}),et=o.useRef(null),en=(0,o.useMemo)(()=>{var e,t;return!!l&&!!("string"==typeof O&&(null==H?void 0:H.collections)&&(null==(t=H.collections)||null==(e=t[O])?void 0:e.create))},[O,H,l]),el=o.useCallback(e=>{"function"==typeof S&&S(e)},[S]),ea=o.useCallback(async e=>{if(!(null==e?void 0:e.length))return[];let t={};e.forEach(e=>{let{relationTo:n,value:l}=e;t[n]||(t[n]=[]);let a=l;l&&"object"==typeof l&&"value"in l&&(a=l.value),t[n].push(a)});let n=Object.entries(t).map(async e=>{let[t,n]=e,l={depth:0,draft:!0,limit:n.length,locale:q,where:{and:[{id:{in:n}}]}},o=await fetch((0,v.Q)({apiRoute:a,path:"/".concat(t)}),{body:b.A(l),credentials:"include",headers:{"Accept-Language":W.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"}),r=[];return o.ok&&(r=(await o.json()).docs),{collection:t,docsById:r.reduce((e,t)=>(e[t.id]=t,e),{})}}),l=await Promise.all(n),o={};return l.forEach(e=>{let{collection:t,docsById:n}=e;o[t]=n}),e.map(e=>{var t;let{relationTo:n,value:l}=e,a=(null==(t=o[n])?void 0:t[l])||{id:l,filename:"".concat(K("general:untitled")," - ID: ").concat(l),isPlaceholder:!0};return{relationTo:n,value:a}})},[a,q,W.language,K]),eo=(0,o.useCallback)(e=>(function(e,t){let n=Array.isArray(t);if("string"==typeof e||"number"==typeof e)return e;if(e&&"object"==typeof e&&"relationTo"in e&&"value"in e){let t=e.value;for(;t&&"object"==typeof t&&null!==t&&"value"in t;)t=t.value;return t&&"object"==typeof t&&null!==t&&"id"in t&&(t=t.id),n?{relationTo:e.relationTo,value:t}:t}return e&&"object"==typeof e&&"id"in e?e.id:e})(e,N),[N]),er=(0,o.useCallback)(e=>{let t=Array.isArray(N);if(g){let n=e.map(e=>t?{relationTo:e.collectionSlug,value:e.doc.id}:e.doc.id);el([...Array.isArray(A)?A.map(eo):[],...n]),L(t=>[...t||[],...e.map(e=>({relationTo:e.collectionSlug,value:e.doc}))])}else{let n=e[0];el(t?{relationTo:n.collectionSlug,value:n.doc.id}:n.doc.id),L([{relationTo:n.collectionSlug,value:n.doc}])}},[A,el,g,N,eo]),ei=o.useCallback(e=>{let t=e;if(!g&&e&&e.length>1){let n=new DataTransfer;n.items.add(e[0]),t=n.files}t&&B(t),I(Array.isArray(N)?O:N),Array.isArray(Q)&&V(Q),"number"==typeof C&&z(C),F(M)},[g,N,O,I,Q,C,F,M,B,V,z]),es=o.useCallback(async e=>{let t=Array.isArray(N),n=[];for(let[t,l]of e)l&&n.push(t);let l=n.map(e=>({relationTo:O,value:e})),a=await ea(l);a&&L(e=>[...e||[],...a]);let o=n.map(e=>t?{relationTo:O,value:e}:e);el([...Array.isArray(A)?A.map(eo):[],...o]),X()},[O,X,el,ea,A,N,eo]),ec=o.useCallback(e=>{let t=Array.isArray(N);e.doc&&(L(t=>[...t||[],{relationTo:O,value:e.doc}]),el(t?{relationTo:O,value:e.doc.id}:e.doc.id)),J()},[J,O,el,N]),eu=(0,o.useCallback)(async e=>{var t;let{collectionSlug:n,doc:l}=e,a=Array.isArray(N),o=(null==(t=await ea([{relationTo:n,value:l.id}]))?void 0:t[0])||null;if(L(e=>o?g?[...e||[],o]:[o]:e),g){let e=a?{relationTo:n,value:l.id}:l.id;el([...Array.isArray(A)?A.map(eo):[],e])}else el(a?{relationTo:n,value:l.id}:l.id);X()},[X,g,ea,el,A,N,eo]),ep=o.useCallback(async(e,t)=>{let n=await ea([{relationTo:t,value:e}]);if(n[0]){let e=[];L(l=>{let a=null==l?void 0:l.findIndex(e=>{var l,a;return((null==(l=e.value)?void 0:l.id)===n[0].value.id||(null==(a=e.value)?void 0:a.isPlaceholder))&&e.relationTo===t});if(a>-1){let t=[...l];return t[a]=n[0],e=t,t}return l}),e.length&&g&&el(e.map(e=>{var t;return null==(t=e.value)?void 0:t.id}))}},[ea,el,g]),eh=o.useCallback(e=>{let t=Array.isArray(N);el(e.map(e=>{let{relationTo:n,value:l}=e;return t?{relationTo:n,value:l.id}:l.id})),L(e)},[el,N]),ef=o.useCallback(e=>{let t=Array.isArray(N);if(!e||0===e.length){el(g?[]:null),L(g?[]:null);return}let n=e.map(e=>{let{relationTo:n,value:l}=e;return t?{relationTo:n,value:l.id}:l.id});el(g?n:n[0]),L(e)},[el,g,N]);(0,o.useEffect)(()=>{async function e(){if(A){let e=[];if(Array.isArray(N)&&("object"==typeof A&&"relationTo"in A||Array.isArray(A)&&A.length>0&&"object"==typeof A[0]&&"relationTo"in A[0])?e=(Array.isArray(A)?A:[A]).filter(e=>"object"==typeof e&&"relationTo"in e).map(e=>{let t=e.value;for(;t&&"object"==typeof t&&null!==t&&"value"in t;)t=t.value;return{relationTo:e.relationTo,value:t}}):Array.isArray(N)||(e=(Array.isArray(A)?A:[A]).map(e=>{let t=e;for(;t&&"object"==typeof t&&null!==t&&"value"in t;)t=t.value;return{relationTo:N,value:t}})),e.length>0){let t=await ea(e);t&&(L(t),et.current=A)}}else L([]),et.current=null}et.current!==A&&e()},[ea,A,N]),(0,o.useEffect)(()=>{U(er)},[A,_,er,U]);let em=!A||g&&Array.isArray(A)&&("number"!=typeof C||A.length<C)||!g&&(null==R?void 0:R[0])&&typeof R[0].value>"u";return(0,u.jsxs)("div",{className:[aM,hP,c,D&&"error",k&&"read-only"].filter(Boolean).join(" "),id:"field-".concat(null==_?void 0:_.replace(/\./g,"__")),style:T,children:[(0,u.jsx)(ed,{CustomComponent:x,Fallback:(0,u.jsx)(lC,{label:w,localized:j,path:_,required:E})}),(0,u.jsx)("div",{className:"".concat(hP,"__wrap"),children:(0,u.jsx)(ed,{CustomComponent:f,Fallback:(0,u.jsx)(t9,{path:_,showError:D})})}),r,(0,u.jsxs)("div",{className:"".concat(hP,"__dropzoneAndUpload"),children:[g&&Array.isArray(A)&&A.length>0?(0,u.jsx)(u.Fragment,{children:R&&(null==R?void 0:R.length)>0?(0,u.jsx)(hk,{displayPreview:h,fileDocs:R,isSortable:y&&!k,onRemove:ef,onReorder:eh,readonly:k,reloadDoc:ep,serverURL:P,showCollectionSlug:Array.isArray(N)}):(0,u.jsx)("div",{className:"".concat(hP,"__loadingRows"),children:A.map(e=>(0,u.jsx)(i.f,{height:"40px"},"object"==typeof e?e.value:e))})}):null,!g&&A?(0,u.jsx)(u.Fragment,{children:R&&(null==R?void 0:R.length)>0&&R[0].value?(0,u.jsx)(hE,{displayPreview:h,fileDoc:R[0],onRemove:ef,readonly:k,reloadDoc:ep,serverURL:P,showCollectionSlug:Array.isArray(N)}):!R||!A||(null==R||null==(t=R[0])?void 0:t.value)?(0,u.jsx)(i.f,{height:"62px"}):(0,u.jsxs)(u.Fragment,{children:[K("general:untitled")," - ID: ",A]})}):null,em?(0,u.jsx)(dw,{disabled:k||!en,multipleFiles:g,onChange:ei,children:(0,u.jsxs)("div",{className:"".concat(hP,"__dropzoneContent"),children:[(0,u.jsxs)("div",{className:"".concat(hP,"__dropzoneContent__buttons"),children:[en&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(tS,{buttonStyle:"pill",className:"".concat(hP,"__createNewToggler"),disabled:k||!en,onClick:()=>{k||(g?ei():ee())},size:"small",children:K("general:createNew")}),(0,u.jsx)("span",{className:"".concat(hP,"__dropzoneContent__orText"),children:K("general:or")})]}),(0,u.jsx)(tS,{buttonStyle:"pill",className:"".concat(hP,"__listToggler"),disabled:k,onClick:$,size:"small",children:K("fields:chooseFromExisting")}),(0,u.jsx)(Z,{onSave:ec}),(0,u.jsx)(G,{allowCreate:en,enableRowSelections:g,onBulkSelect:es,onSelect:eu})]}),en&&!k&&(0,u.jsxs)("p",{className:"".concat(hP,"__dragAndDropText"),children:[K("general:or")," ",K("upload:dragAndDrop")]})]})}):(0,u.jsx)(u.Fragment,{children:!k&&!R&&(!A||"number"!=typeof C||Array.isArray(A)&&A.length<C)?(0,u.jsx)(i.f,{height:"40px"}):null})]}),n,(0,u.jsx)(ed,{CustomComponent:d,Fallback:(0,u.jsx)(t7,{description:p,path:_})})]})}var hT=aO(function(e){let{field:t,field:{admin:{allowCreate:n,className:l,description:a,isSortable:r}={},hasMany:s,label:c,localized:d,maxRows:p,relationTo:h,required:f},path:m,readOnly:g,validate:v}=e,{config:b}=(0,i.c)(),y=t.displayPreview,{customComponents:{AfterInput:x,BeforeInput:w,Description:j,Error:C,Label:S}={},disabled:_,filterOptions:k,path:N,setValue:E,showError:P,value:D}=aA({potentiallyStalePath:m,validate:o.useCallback((e,t)=>{if("function"==typeof v)return v(e,{...t,required:f})},[v,f])}),T=Array.isArray(h),A=o.useMemo(()=>!0===s&&Array.isArray(D)?D.map(e=>T?e:{relationTo:Array.isArray(h)?h[0]:h,value:e}):D,[s,D,T,h]),R=(0,o.useMemo)(()=>aF(t),[t]);return(0,u.jsx)(hb,{drawerSlugPrefix:m,children:(0,u.jsx)(hD,{AfterInput:x,allowCreate:!1!==n,api:b.routes.api,BeforeInput:w,className:l,Description:j,description:a,displayPreview:y,Error:C,filterOptions:k,hasMany:s,isSortable:r,label:c,Label:S,localized:d,maxRows:p,onChange:E,path:N,readOnly:g||_,relationTo:h,required:f,serverURL:b.serverURL,showError:P,style:R,value:A})})});function hA(e){let t=(0,f.c)(13),{clientFieldConfig:n,forceRender:l,indexPath:a,parentPath:o,parentSchemaPath:r,path:i,permissions:s,readOnly:c,schemaPath:d}=e,p;t[0]!==i?(p=e=>{var t,n;let[l]=e;return l&&(null==l||null==(n=l[i])||null==(t=n.customComponents)?void 0:t.Field)},t[0]=i,t[1]=p):p=t[1];let h=eF(p),m;if(t[2]!==h||t[3]!==n||t[4]!==l||t[5]!==a||t[6]!==o||t[7]!==r||t[8]!==i||t[9]!==s||t[10]!==c||t[11]!==d){m=Symbol.for("react.early_return_sentinel");e:{var g;let e={forceRender:l,permissions:s,readOnly:c,schemaPath:d};if(null==(g=n.admin)?void 0:g.hidden){m=(0,u.jsx)(sZ,{...e,path:i});break e}if(void 0!==h){m=h||null;break e}let t={...e,indexPath:a,parentPath:o,parentSchemaPath:r};switch(n.type){case"array":m=(0,u.jsx)(hI,{...t,field:n,path:i});break e;case"blocks":m=(0,u.jsx)(oy,{...t,field:n,path:i});break e;case"checkbox":m=(0,u.jsx)(aq,{...e,field:n,path:i});break e;case"code":m=(0,u.jsx)(oC,{...e,field:n,path:i});break e;case"collapsible":m=(0,u.jsx)(oN,{...t,field:n,path:i});break e;case"date":m=(0,u.jsx)(sV,{...e,field:n,path:i});break e;case"email":m=(0,u.jsx)(sH,{...e,field:n,path:i});break e;case"group":m=(0,u.jsx)(s$,{...t,field:n,path:i});break e;case"join":m=(0,u.jsx)(ul,{...e,field:n,path:i});break e;case"json":m=(0,u.jsx)(ua,{...e,field:n,path:i});break e;case"number":m=(0,u.jsx)(uo,{...e,field:n,path:i});break e;case"point":m=(0,u.jsx)(ui,{...e,field:n,path:i});break e;case"radio":m=(0,u.jsx)(ud,{...e,field:n,path:i});break e;case"relationship":m=(0,u.jsx)(uV,{...e,field:n,path:i});break e;case"richText":m=(0,u.jsx)(uH,{...e,field:n,path:i});break e;case"row":m=(0,u.jsx)(uq,{...t,field:n});break e;case"select":m=(0,u.jsx)(uQ,{...e,field:n,path:i});break e;case"tabs":m=(0,u.jsx)(da,{...t,field:n,path:i});break e;case"text":m=(0,u.jsx)(dh,{...e,field:n,path:i});break e;case"textarea":m=(0,u.jsx)(dm,{...e,field:n,path:i});break e;case"ui":m=(0,u.jsx)(dg,{});break e;case"upload":m=(0,u.jsx)(hT,{...e,field:n,path:i});break e}}t[2]=h,t[3]=n,t[4]=l,t[5]=a,t[6]=o,t[7]=r,t[8]=i,t[9]=s,t[10]=c,t[11]=d,t[12]=m}else m=t[12];if(m!==Symbol.for("react.early_return_sentinel"))return m}var hR="render-fields",hL=e=>{let t=(0,f.c)(22),{className:n,fields:l,forceRender:a,margins:o,parentIndexPath:r,parentPath:i,parentSchemaPath:s,permissions:c,readOnly:d}=e,p=aE();if(l&&l.length>0){let e=o&&"".concat(hR,"--margins-").concat(o),h=!1===o&&"".concat(hR,"--margins-none"),f;t[0]!==n||t[1]!==e||t[2]!==h?(f=[hR,n,e,h].filter(Boolean),t[0]=n,t[1]=e,t[2]=h,t[3]=f):f=t[3];let g=f.join(" "),v;if(t[4]!==l||t[5]!==a||t[6]!==p||t[7]!==r||t[8]!==i||t[9]!==s||t[10]!==c||t[11]!==d||t[12]!==g){let e;t[14]!==a||t[15]!==p||t[16]!==r||t[17]!==i||t[18]!==s||t[19]!==c||t[20]!==d?(e=(e,t)=>{var n,l;if(!e||(0,m.I2)(e))return null;let{operation:o,permissions:h,read:f}=(0,w.P)({field:e,operation:p,parentName:(null==i?void 0:i.includes("."))?i.split(".")[i.split(".").length-1]:i,permissions:c});if("name"in e&&!f)return null;let g=d||(null==e||null==(n=e.admin)?void 0:n.readOnly);g&&(null==(l=e.admin)?void 0:l.readOnly)===!1&&(g=!1),"name"in e&&!o&&(g=!0);let{indexPath:v,path:b,schemaPath:y}=(0,j.Z)({field:e,index:t,parentIndexPath:r,parentPath:i,parentSchemaPath:s});return(0,u.jsx)(aP,{value:b,children:(0,u.jsx)(hA,{clientFieldConfig:e,forceRender:a,indexPath:v,parentPath:i,parentSchemaPath:s,path:b,permissions:h,readOnly:g,schemaPath:y})},"".concat(b,"-").concat(t))},t[14]=a,t[15]=p,t[16]=r,t[17]=i,t[18]=s,t[19]=c,t[20]=d,t[21]=e):e=t[21],v=(0,u.jsx)(a3,{className:g,forceRender:a,children:l.map(e)}),t[4]=l,t[5]=a,t[6]=p,t[7]=r,t[8]=i,t[9]=s,t[10]=c,t[11]=d,t[12]=g,t[13]=v}else v=t[13];return v}return null},hO="array-field",hF=e=>{let t=(0,f.c)(40),{addRow:n,attributes:l,copyRow:a,CustomRowLabel:o,duplicateRow:r,errorCount:c,fields:p,forceRender:h,hasMaxRows:m,isDragging:g,isLoading:v,isSortable:b,labels:y,listeners:x,moveRow:w,parentPath:j,pasteRow:C,path:S,permissions:_,readOnly:k,removeRow:N,row:E,rowCount:P,rowIndex:D,schemaPath:T,setCollapse:A,setNodeRef:R,transform:L,transition:O}=e,F=void 0!==h&&h,M=a8(v,500),{i18n:I}=(0,s.d)(),B=eT(),z="".concat((0,d.s)(y.singular,I)," ").concat(String(D+1).padStart(2,"0")),U=c>0&&B,V=U?"".concat(hO,"__row--has-errors"):"".concat(hO,"__row--no-errors"),H;t[0]!==V?(H=["".concat(hO,"__row"),V].filter(Boolean),t[0]=V,t[1]=H):H=t[1];let q=H.join(" "),W="".concat(j.split(".").join("-"),"-row-").concat(D),K=g?1:void 0,Q;if(t[2]!==o||t[3]!==n||t[4]!==l||t[5]!==q||t[6]!==a||t[7]!==r||t[8]!==c||t[9]!==z||t[10]!==U||t[11]!==p||t[12]!==F||t[13]!==m||t[14]!==I||t[15]!==M||t[16]!==b||t[17]!==x||t[18]!==w||t[19]!==j||t[20]!==C||t[21]!==S||t[22]!==_||t[23]!==k||t[24]!==N||t[25]!==E.collapsed||t[26]!==E.id||t[27]!==P||t[28]!==D||t[29]!==T||t[30]!==A||t[31]!==R||t[32]!==W||t[33]!==K||t[34]!==L||t[35]!==O){let e;t[37]!==E.id||t[38]!==A?(e=e=>A(E.id,e),t[37]=E.id,t[38]=A,t[39]=e):e=t[39],Q=(0,u.jsx)("div",{id:W,ref:R,style:{transform:L,transition:O,zIndex:K},children:(0,u.jsx)(a1,{actions:k?void 0:(0,u.jsx)(aY,{addRow:n,copyRow:a,duplicateRow:r,hasMaxRows:m,index:D,isSortable:b,moveRow:w,pasteRow:C,removeRow:N,rowCount:P}),className:q,collapsibleStyle:U?"error":"default",dragHandleProps:b?{id:E.id,attributes:l,listeners:x}:void 0,header:(0,u.jsxs)("div",{className:"".concat(hO,"__row-header"),children:[M?(0,u.jsx)(i.f,{height:"1rem",width:"8rem"}):(0,u.jsx)(eU,{CustomComponent:o,label:z,path:S,rowNumber:D}),U&&(0,u.jsx)(t4,{count:c,i18n:I,withMessage:!0})]}),isCollapsed:E.collapsed,onToggle:e,children:M?(0,u.jsx)(i.f,{}):(0,u.jsx)(hL,{className:"".concat(hO,"__fields"),fields:p,forceRender:F,margins:"small",parentIndexPath:"",parentPath:S,parentSchemaPath:T,permissions:!0===_?_:null==_?void 0:_.fields,readOnly:k})})},"".concat(j,"-row-").concat(E.id)),t[2]=o,t[3]=n,t[4]=l,t[5]=q,t[6]=a,t[7]=r,t[8]=c,t[9]=z,t[10]=U,t[11]=p,t[12]=F,t[13]=m,t[14]=I,t[15]=M,t[16]=b,t[17]=x,t[18]=w,t[19]=j,t[20]=C,t[21]=S,t[22]=_,t[23]=k,t[24]=N,t[25]=E.collapsed,t[26]=E.id,t[27]=P,t[28]=D,t[29]=T,t[30]=A,t[31]=R,t[32]=W,t[33]=K,t[34]=L,t[35]=O,t[36]=Q}else Q=t[36];return Q},hM="array-field",hI=aO(e=>{let{field:t,field:{name:n,type:l,admin:{className:a,description:r,isSortable:c=!0}={},fields:p,label:h,localized:f,maxRows:m,minRows:g,required:v},forceRender:b=!1,path:y,permissions:x,readOnly:w,schemaPath:j,validate:C}=e,S=null!=j?j:n,_=null!=g?g:+!!v,{setDocFieldPreferences:k}=aC(),{addFieldRow:N,dispatchFields:E,getFields:P,moveFieldRow:D,removeFieldRow:T,replaceState:A,setModified:R}=eE(),L=eT(),{code:O}=lx(),{i18n:F,t:M}=(0,s.d)(),{config:{localization:I}}=(0,i.c)(),B=!I||!I.fallback||O===I.defaultLocale,z=(e=>{var t,n;return"labels"in e&&(null==e?void 0:e.labels)?e.labels:"labels"in e.field&&e.field.labels?{plural:null==(t=e.field.labels)?void 0:t.plural,singular:null==(n=e.field.labels)?void 0:n.singular}:"label"in e.field&&e.field.label?{plural:void 0,singular:e.field.label}:{plural:M("general:rows"),singular:M("general:row")}})(e),{customComponents:{AfterInput:U,BeforeInput:V,Description:H,Error:q,Label:W}={},disabled:K,errorPaths:Q,path:Y,rows:G=[],showError:X,valid:$,value:Z}=aA({hasRows:!0,potentiallyStalePath:y,validate:(0,o.useCallback)((e,t)=>!B&&null===e||("function"==typeof C?C(e,{...t,maxRows:m,minRows:_,required:v}):void 0),[m,_,v,C,B])}),J=(0,o.useCallback)(e=>{N({path:Y,rowIndex:e,schemaPath:S}),setTimeout(()=>{aK("".concat(Y,"-row-").concat(e))},0)},[N,Y,S]),ee=(0,o.useCallback)(e=>{E({type:"DUPLICATE_ROW",path:Y,rowIndex:e}),R(!0),setTimeout(()=>{aK("".concat(Y,"-row-").concat(e))},0)},[E,Y,R]),et=(0,o.useCallback)(e=>{T({path:Y,rowIndex:e})},[T,Y]),en=(0,o.useCallback)((e,t)=>{D({moveFromIndex:e,moveToIndex:t,path:Y})},[Y,D]),el=(0,o.useCallback)(e=>{let{collapsedIDs:t,updatedRows:n}=l_({collapsed:e,rows:G});k(Y,{collapsed:t}),E({type:"SET_ALL_ROWS_COLLAPSED",path:Y,updatedRows:n})},[E,Y,G,k]),ea=(0,o.useCallback)((e,t)=>{let{collapsedIDs:n,updatedRows:l}=lS({collapsed:t,rowID:e,rows:G});E({type:"SET_ROW_COLLAPSED",path:Y,updatedRows:l}),k(Y,{collapsed:n})},[E,Y,G,k]),eo=(0,o.useCallback)(e=>{let t={...P()},n=tN({type:l,fields:p,getDataToCopy:()=>tR({formState:t,path:Y,rowIndex:e}),path:Y,rowIndex:e,t:M});"string"==typeof n?eZ.error(n):eZ.success(M("general:copied"))},[p,P,Y,M,l]),er=(0,o.useCallback)(e=>{let t={...P()},n=tE({onPaste:n=>{A(tL({dataFromClipboard:n,formState:t,path:Y,rowIndex:e})),R(!0)},path:Y,schemaFields:p,t:M});"string"==typeof n&&eZ.error(n)},[p,P,Y,A,R,M]),ei=(0,o.useCallback)(e=>{A(tL({dataFromClipboard:e,formState:{...P()},path:Y})),R(!0)},[P,Y,A,R]),es=(0,o.useCallback)(()=>tR({formState:{...P()},path:Y}),[P,Y]),ec=m&&G.length>=m,eu=Q.length,ep=L&&Q.length>0,eh=(w||K)&&0===G.length,ef=G.length&&G.length<_||v&&0===G.length,em=(0,o.useMemo)(()=>aF(t),[t]);return(0,u.jsxs)("div",{className:[aM,hM,a,ep?"".concat(hM,"--has-error"):"".concat(hM,"--has-no-error")].filter(Boolean).join(" "),id:"field-".concat(Y.replace(/\./g,"__")),style:em,children:[X&&(0,u.jsx)(ed,{CustomComponent:q,Fallback:(0,u.jsx)(t9,{path:Y,showError:X})}),(0,u.jsxs)("header",{className:"".concat(hM,"__header"),children:[(0,u.jsxs)("div",{className:"".concat(hM,"__header-wrap"),children:[(0,u.jsxs)("div",{className:"".concat(hM,"__header-content"),children:[(0,u.jsx)("h3",{className:"".concat(hM,"__title"),children:(0,u.jsx)(ed,{CustomComponent:W,Fallback:(0,u.jsx)(lC,{as:"span",label:h,localized:f,path:Y,required:v})})}),ep&&eu>0&&(0,u.jsx)(t4,{count:eu,i18n:F,withMessage:!0})]}),(0,u.jsxs)("ul",{className:"".concat(hM,"__header-actions"),children:[(null==G?void 0:G.length)>0&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"".concat(hM,"__header-action"),onClick:()=>el(!0),type:"button",children:M("fields:collapseAll")})}),(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"".concat(hM,"__header-action"),onClick:()=>el(!1),type:"button",children:M("fields:showAll")})})]}),(0,u.jsx)("li",{children:(0,u.jsx)(tA,{allowCopy:(null==G?void 0:G.length)>0,allowPaste:!w,className:"".concat(hM,"__header-action"),disabled:K,fields:p,getDataToCopy:es,onPaste:ei,path:Y,type:l})})]})]}),(0,u.jsx)(ed,{CustomComponent:H,Fallback:(0,u.jsx)(t7,{description:r,path:Y})})]}),(0,u.jsx)(aW,{fieldValue:Z,localized:f,path:Y,readOnly:w}),V,((null==G?void 0:G.length)>0||!$&&(eh||ef))&&(0,u.jsxs)(t6,{className:"".concat(hM,"__draggable-rows"),ids:G.map(e=>e.id),onDragEnd:e=>{let{moveFromIndex:t,moveToIndex:n}=e;return en(t,n)},children:[G.map((e,t)=>{let{id:n,isLoading:l}=e,a="".concat(Y,".").concat(t),o=null==Q?void 0:Q.filter(e=>e.startsWith(a+".")).length;return(0,u.jsx)(t2,{disabled:w||K||!c,id:n,children:n=>{var r,i;return(0,u.jsx)(hF,{...n,addRow:J,copyRow:eo,CustomRowLabel:null==G||null==(i=G[t])||null==(r=i.customComponents)?void 0:r.RowLabel,duplicateRow:ee,errorCount:o,fields:p,forceRender:b,hasMaxRows:ec,isLoading:l,isSortable:c,labels:z,moveRow:en,parentPath:Y,pasteRow:er,path:a,permissions:x,readOnly:w||K,removeRow:et,row:e,rowCount:null==G?void 0:G.length,rowIndex:t,schemaPath:S,setCollapse:ea})}},n)}),!$&&(0,u.jsxs)(o.Fragment,{children:[eh&&(0,u.jsx)(tn,{children:M("validation:fieldHasNo",{label:(0,d.s)(z.plural,F)})}),ef&&(0,u.jsx)(tn,{type:"error",children:M("validation:requiresAtLeast",{count:_,label:(0,d.s)(_>1?z.plural:z.singular,F)||M(_>1?"general:rows":"general:row")})})]})]}),!ec&&!w&&(0,u.jsx)(tS,{buttonStyle:"icon-label",className:"".concat(hM,"__add-row"),disabled:K,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:()=>{J(Z||0)},children:M("fields:addLabel",{label:(0,d.s)(z.singular,F)})}),U]})}),hB=e=>{let t=(0,f.c)(12),{disabled:n,path:l}=e,a=void 0===l?"confirm-password":l,{t:o}=(0,s.d)(),r;t[0]!==a?(r={path:a,validate:hz},t[0]=a,t[1]=r):r=t[1];let{disabled:i,setValue:c,showError:d,value:p}=aA(r),h=d&&"error",m;t[2]!==h?(m=[aM,"confirm-password",h].filter(Boolean),t[2]=h,t[3]=m):m=t[3];let g=m.join(" "),v;return t[4]!==i||t[5]!==n||t[6]!==a||t[7]!==c||t[8]!==o||t[9]!==g||t[10]!==p?(v=(0,u.jsxs)("div",{className:g,children:[(0,u.jsx)(lC,{htmlFor:"field-confirm-password",label:o("authentication:confirmPassword"),required:!0}),(0,u.jsxs)("div",{className:"".concat(aM,"__wrap"),children:[(0,u.jsx)(t9,{path:a}),(0,u.jsx)("input",{"aria-label":o("authentication:confirmPassword"),autoComplete:"off",disabled:!!(i||n),id:"field-confirm-password",name:"confirm-password",onChange:c,type:"password",value:p||""})]})]}),t[4]=i,t[5]=n,t[6]=a,t[7]=c,t[8]=o,t[9]=g,t[10]=p,t[11]=v):v=t[11],v};function hz(e,t){return(0,W.C5)(e,{name:"confirm-password",type:"text",required:!0,...t})}var hU=e=>{let t=(0,f.c)(28),{AfterInput:n,autoComplete:l,BeforeInput:a,className:o,description:r,Description:i,Error:c,inputRef:p,Label:h,label:m,localized:g,onChange:v,onKeyDown:b,path:y,placeholder:x,readOnly:w,required:j,rtl:C,showError:S,style:_,value:k,width:N}=e,E=void 0===l?"off":l,{i18n:P}=(0,s.d)(),D=S&&"error",T=w&&"read-only",A;t[0]!==o||t[1]!==D||t[2]!==T?(A=[aM,"password",o,D,T].filter(Boolean),t[0]=o,t[1]=D,t[2]=T,t[3]=A):A=t[3];let R=A.join(" "),L;return t[4]!==n||t[5]!==a||t[6]!==i||t[7]!==c||t[8]!==h||t[9]!==E||t[10]!==r||t[11]!==P||t[12]!==p||t[13]!==m||t[14]!==g||t[15]!==v||t[16]!==b||t[17]!==y||t[18]!==x||t[19]!==w||t[20]!==j||t[21]!==C||t[22]!==S||t[23]!==_||t[24]!==R||t[25]!==k||t[26]!==N?(L=(0,u.jsxs)("div",{className:R,style:{..._,width:N},children:[(0,u.jsx)(ed,{CustomComponent:h,Fallback:(0,u.jsx)(lC,{label:m,localized:g,path:y,required:j})}),(0,u.jsxs)("div",{className:"".concat(aM,"__wrap"),children:[(0,u.jsx)(ed,{CustomComponent:c,Fallback:(0,u.jsx)(t9,{path:y,showError:S})}),(0,u.jsxs)("div",{children:[a,(0,u.jsx)("input",{"aria-label":(0,d.s)(m,P),autoComplete:E,"data-rtl":C,disabled:w,id:"field-".concat(y.replace(/\./g,"__")),name:y,onChange:v,onKeyDown:b,placeholder:(0,d.s)(x,P),ref:p,type:"password",value:k||""}),n]}),(0,u.jsx)(ed,{CustomComponent:i,Fallback:(0,u.jsx)(t7,{description:r,path:y})})]})]}),t[4]=n,t[5]=a,t[6]=i,t[7]=c,t[8]=h,t[9]=E,t[10]=r,t[11]=P,t[12]=p,t[13]=m,t[14]=g,t[15]=v,t[16]=b,t[17]=y,t[18]=x,t[19]=w,t[20]=j,t[21]=C,t[22]=S,t[23]=_,t[24]=R,t[25]=k,t[26]=N,t[27]=L):L=t[27],L},hV=aO(e=>{let{autoComplete:t,field:n,field:{admin:{className:l,disabled:a,placeholder:r,rtl:c}={},label:d,localized:p,required:h}={},inputRef:f,path:m,validate:g}=e,{t:v}=(0,s.d)(),b=lx(),{config:y}=(0,i.c)(),x=(0,o.useCallback)((e,t)=>{let n=m?m.split("."):[];return"function"==typeof g?g(e,{...t,required:h}):(0,W.wJ)(e,{name:"password",type:"text",blockData:{},data:{},event:"onChange",path:n,preferences:{fields:{}},req:{payload:{config:y},t:v},required:!0,siblingData:{}})},[g,y,v,h,m]),{customComponents:{AfterInput:w,BeforeInput:j,Description:C,Error:S,Label:_}={},disabled:k,setValue:N,showError:E,value:P}=aA({path:m,validate:x}),D=aI({fieldLocalized:!1,fieldRTL:c,locale:b,localizationConfig:y.localization||void 0}),T=(0,o.useMemo)(()=>aF(n),[n]);return(0,u.jsx)(hU,{AfterInput:w,autoComplete:t,BeforeInput:j,className:l,Description:C,Error:S,inputRef:f,Label:_,label:d,localized:p,onChange:e=>{N(e.target.value)},path:m,placeholder:r,readOnly:k||a,required:h,rtl:D,showError:E,style:T,value:P||""})}),hH={array:hI,blocks:oy,checkbox:aq,code:oC,collapsible:oN,confirmPassword:hB,date:sV,email:sH,group:s$,hidden:sZ,join:ul,json:ua,number:uo,password:hV,point:ui,radio:ud,relationship:uV,richText:uH,row:uq,select:uQ,tabs:da,text:dh,textarea:dm,ui:dg,upload:hT},hq={...hH,Description:t7,Error:t9,Label:lC,RowLabel:eU},hW=new Map([]),hK={altleft:"alt",altright:"alt",controlleft:"ctrl",controlright:"ctrl",ctrlleft:"ctrl",ctrlright:"ctrl",escape:"esc",metaleft:"meta",metaright:"meta",osleft:"meta",osright:"meta",shiftleft:"shift",shiftright:"shift"},hQ=e=>(hK[e.toLowerCase()]||e).trim().toLowerCase().replace("key",""),hY=(e,t)=>{let n=(0,f.c)(9),{cmdCtrlKey:l,editDepth:a,keyCodes:r}=e,{modalState:i}=nj(),s;n[0]!==l||n[1]!==a||n[2]!==t||n[3]!==r||n[4]!==i?(s=e=>{var n,o;let s=(null==(n=e.detail)?void 0:n.key)?e.detail:e;if(void 0===s.key)return;hW.forEach(hG),s.code&&(e=>{let t=hQ(e);"meta"===t&&hW.forEach((e,t)=>"meta"!==t&&hW.delete(t)),hW.set(t,Date.now())})(s.code);let c=window.navigator.userAgent.includes("Mac OS X"),u=[...hW.keys()].filter(hX);if((0,K._)(new Set(u),new Set(r))&&(!l||c&&hW.has("meta")||!c&&s.ctrlKey)){if(((null==(o=Object.keys(i).filter(e=>{var t;return null==(t=i[e])?void 0:t.isOpen}))?void 0:o.length)+1||1)!==a)return;t(s)}},n[0]=l,n[1]=a,n[2]=t,n[3]=r,n[4]=i,n[5]=s):s=n[5];let c=s,u,d;n[6]!==c?(u=()=>(document.addEventListener("keydown",c,!1),document.addEventListener("bypassKeyDown",c,!1),document.addEventListener("keyup",h$,!1),()=>{document.removeEventListener("keydown",c),document.removeEventListener("bypassKeyDown",c),document.removeEventListener("keyup",h$)}),d=[c,h$],n[6]=c,n[7]=u,n[8]=d):(u=n[7],d=n[8]),(0,o.useEffect)(u,d)};function hG(e,t){Date.now()-e>3e3&&hW.delete(t)}function hX(e){return!["alt","ctrl","meta","shift"].includes(e)}function h$(e){let t;e.code&&("meta"===(t=hQ(e.code))&&hW.clear(),hW.delete(t))}var hZ=(e,t)=>{let n,l,a,r,i,c,u=(0,f.c)(30),d;u[0]!==t?(d=void 0===t?{}:t,u[0]=t,u[1]=d):d=u[1];let{initialData:p,initialParams:h}=d,m;u[2]!==h?(m=void 0===h?{}:h,u[2]=h,u[3]=m):m=u[3];let g=m,{i18n:v}=(0,s.d)(),y;u[4]!==p?(y=p||{},u[4]=p,u[5]=y):y=u[5];let[x,w]=(0,o.useState)(y),[j,C]=(0,o.useState)(g),[S,_]=(0,o.useState)(!p),[k,N]=(0,o.useState)(!1),{code:E}=lx(),P=(0,o.useRef)(!1),D;u[6]!==E||u[7]!==j?(D=b.A({locale:E,..."object"==typeof j?j:{}},{addQueryPrefix:!0}),u[6]=E,u[7]=j,u[8]=D):D=u[8];let T=D,A;return u[9]!==v.language||u[10]!==p||u[11]!==T||u[12]!==e?(A=()=>{if(p&&!P.current){P.current=!0;return}let t=new AbortController;return e?(async()=>{N(!1),_(!0);try{let n=await ld.get("".concat(e).concat(T),{headers:{"Accept-Language":v.language},signal:t.signal});n.status>201&&N(!0);let l=await n.json();w(l),_(!1)}catch(e){t.signal.aborted||(N(!0),_(!1))}})():(N(!1),_(!1)),()=>{try{t.abort()}catch(e){}}},u[9]=v.language,u[10]=p,u[11]=T,u[12]=e,u[13]=A):A=u[13],u[14]!==v.language||u[15]!==p||u[16]!==E||u[17]!==T||u[18]!==e?(n=[e,E,T,v.language,p],u[14]=v.language,u[15]=p,u[16]=E,u[17]=T,u[18]=e,u[19]=n):n=u[19],(0,o.useEffect)(A,n),u[20]!==p?(l=()=>{p&&P.current&&w(p)},a=[p],u[20]=p,u[21]=l,u[22]=a):(l=u[21],a=u[22]),(0,o.useEffect)(l,a),u[23]!==x||u[24]!==k||u[25]!==S?(r={data:x,isError:k,isLoading:S},u[23]=x,u[24]=k,u[25]=S,u[26]=r):r=u[26],u[27]===Symbol.for("react.memo_cache_sentinel")?(i={setParams:C},u[27]=i):i=u[27],u[28]!==r?(c=[r,i],u[28]=r,u[29]=c):c=u[29],c},hJ=e=>{let t,n=(0,f.c)(5),[l,a]=(0,o.useState)(),r,i;return n[0]!==e?(r=()=>{let t;return e&&(t=new ResizeObserver(e=>{e.forEach(e=>{let{contentBoxSize:t,contentRect:n}=e,l=0,o=0;if(t){let e=Array.isArray(t)?t[0]:t;if(e){let{blockSize:t,inlineSize:n}=e;l=n,o=t}}else if(n){let{height:e,width:t}=n;l=t,o=e}a({height:o,width:l})})})).observe(e),()=>{t&&t.unobserve(e)}},i=[e],n[0]=e,n[1]=r,n[2]=i):(r=n[1],i=n[2]),(0,o.useEffect)(r,i),n[3]!==l?(t={size:l},n[3]=l,n[4]=t):t=n[4],t},h0=e=>{var t;let n=(0,f.c)(4),{admin:l,fields:a}=e,{useAsTitle:o}=l,{i18n:r}=(0,s.d)(),i;return n[0]!==a||n[1]!==r||n[2]!==o?(i=null==(t=(0,C.L)(a,{i18n:r,moveSubFieldsToTop:!0}))?void 0:t.find(e=>"name"in e&&e.name===o),n[0]=a,n[1]=r,n[2]=o,n[3]=i):i=n[3],i},h1=e=>{let{className:t}=e;return(0,u.jsx)("svg",{className:"icon icon--sort",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"fill",d:"M2.5 13.3333L5.83333 16.6667M5.83333 16.6667L9.16667 13.3333M5.83333 16.6667V3.33333M9.16667 7.08333H17.5M9.16667 10.4167H15M11.6667 13.75H12.5",stroke:"#2F2F2F",strokeLinecap:"round",strokeLinejoin:"round"})})},h3=e=>{let{className:t}=e;return(0,u.jsx)("svg",{className:"icon icon--sort",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"fill",d:"M2.5 6.66668L5.83333 3.33334M5.83333 3.33334L9.16667 6.66668M5.83333 3.33334V16.6667M11.6667 7.08354H17.5M9.16667 10.4169H15M9.16667 13.7502H12.5",stroke:"#2F2F2F",strokeLinecap:"round",strokeLinejoin:"round"})})},h2="sort-header",h6=e=>{let t=(0,f.c)(7),{appearance:n}=e,{handleSortPress:l,isActive:a}=function(){let e=(0,f.c)(7),{handleSortChange:t,orderableFieldName:n,query:l}=s5(),a=(Array.isArray(l.sort)?l.sort[0]:l.sort)===n,o;e[0]!==t||e[1]!==a||e[2]!==n?(o=()=>{a||t(n)},e[0]=t,e[1]=a,e[2]=n,e[3]=o):o=e[3];let r=o,i;return e[4]!==r||e[5]!==a?(i={handleSortPress:r,isActive:a},e[4]=r,e[5]=a,e[6]=i):i=e[6],i}(),{t:o}=(0,s.d)(),r=n&&"".concat(h2,"--appearance-").concat(n),i;t[0]!==r?(i=[h2,r].filter(Boolean),t[0]=r,t[1]=i):i=t[1];let c=i.join(" "),d;return t[2]!==l||t[3]!==a||t[4]!==o||t[5]!==c?(d=(0,u.jsx)("div",{className:c,children:(0,u.jsx)("div",{className:"".concat(h2,"__buttons"),children:(0,u.jsx)("button",{"aria-label":o("general:sortByLabelDirection",{direction:o("general:ascending"),label:"Order"}),className:"".concat(h2,"__button ").concat(a?"".concat(h2,"--active"):""),onClick:l,type:"button",children:(0,u.jsx)(h1,{})})})}),t[2]=l,t[3]=a,t[4]=o,t[5]=c,t[6]=d):d=t[6],d},h5="sort-row",h4=()=>{let e=(0,f.c)(2),{orderableFieldName:t,query:n}=s5(),l=n.sort===t||n.sort==="-".concat(t),a="".concat(h5," ").concat(l?"active":""),o;return e[0]!==a?(o=(0,u.jsx)("div",{className:a,role:"button",tabIndex:0,children:(0,u.jsx)(aG,{className:"".concat(h5,"__icon")})}),e[0]=a,e[1]=o):o=e[1],o},h8=e=>{let{cellMap:t,columns:n,dragAttributes:l={},dragListeners:a={},rowId:o,...r}=e;return(0,u.jsx)("tr",{...r,children:n.map((e,n)=>{let{accessor:r}=e,i=e.renderedCells[t[o]];return"_dragHandle"===r?(0,u.jsx)("td",{className:"cell-".concat(r),children:(0,u.jsx)("div",{...l,...a,children:i})},n):(0,u.jsx)("td",{className:"cell-".concat(r),children:i},n)})})},h7=e=>{let{children:t,className:n,rowId:l}=e;return typeof l>"u"?null:(0,u.jsx)("div",{className:n,children:(0,u.jsx)("table",{cellPadding:0,cellSpacing:0,children:(0,u.jsx)("tbody",{children:t})})})},h9="table",fe=e=>{let{appearance:t="default",BeforeTable:n,collection:l,columns:a,data:r}=e,{config:s}=(0,i.c)(),{data:c,orderableFieldName:d,query:p}=s5(),h=(null==c?void 0:c.docs)||r,[f,m]=(0,o.useState)(h),[b,y]=(0,o.useState)({}),[x,w]=(0,o.useState)();(0,o.useEffect)(()=>{m(h),y(Object.fromEntries(h.map((e,t)=>{var n;return[String(null!=(n=e.id)?n:e._id),t]})))},[h]);let j=null==a?void 0:a.filter(e=>null==e?void 0:e.active);if(!j||0===j.filter(e=>!["_dragHandle","_select"].includes(e.accessor)).length)return(0,u.jsx)("div",{children:"No columns selected"});let C=async e=>{var t,n,a;let{moveFromIndex:o,moveToIndex:r}=e;if(p.sort!==d&&p.sort!=="-".concat(d)){eZ.warning('To reorder the rows you must first sort them by the "Order" column'),w(void 0);return}if(o===r)return void w(void 0);let i=null!=(t=f[o].id)?t:f[o]._id,c=r>o?f[r]:f[r-1],u=r>o?f[r+1]:f[r],h=[...f];m(e=>{let t=[...e];return t[o][d]="pending",t.splice(r,0,t.splice(o,1)[0]),t});try{let e=c?{id:null!=(n=c.id)?n:c._id,key:c[d]}:{id:null!=(a=u.id)?a:u._id,key:u[d]},t=c&&p.sort===d||!c&&p.sort==="-".concat(d)?"greater":"less",o={collectionSlug:l.slug,docsToMove:[i],newKeyWillBe:t,orderableFieldName:d,target:e},r=await fetch((0,v.Q)({apiRoute:s.routes.api,path:"/reorder"}),{body:JSON.stringify(o),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST"});if(403===r.status)throw Error("You do not have permission to reorder these rows");if(!r.ok)throw Error("Failed to reorder. This can happen if you reorder several rows too quickly. Please try again.");if(200===r.status&&"initial migration"===(await r.json()).message)throw Error('You have enabled "orderable" on a collection with existing documentsand this is the first time you have sorted documents. We have run an automatic migration to add an initial order to the documents. Please refresh the page and try again.')}catch(t){let e=t instanceof Error?t.message:String(t);m(h),eZ.error(e)}finally{w(void 0)}},S=f.map(e=>{var t;return null!=(t=e.id)?t:e._id});return(0,u.jsxs)("div",{className:[h9,t&&"".concat(h9,"--appearance-").concat(t)].filter(Boolean).join(" "),children:[n,(0,u.jsxs)(t6,{ids:S,onDragEnd:C,onDragStart:e=>{let{id:t}=e;w(t)},children:[(0,u.jsxs)("table",{cellPadding:"0",cellSpacing:"0",children:[(0,u.jsx)("thead",{children:(0,u.jsx)("tr",{children:j.map((e,t)=>(0,u.jsx)("th",{id:"heading-".concat(e.accessor),children:e.Heading},t))})}),(0,u.jsx)("tbody",{children:f.map((e,t)=>(0,u.jsx)(t2,{id:S[t],children:n=>{var l;let{attributes:a,isDragging:o,listeners:r,setNodeRef:i,transform:s,transition:c}=n;return(0,u.jsx)(h8,{cellMap:b,className:"row-".concat(t+1),columns:j,dragAttributes:a,dragListeners:r,ref:i,rowId:null!=(l=e.id)?l:e._id,style:{opacity:+!o,transform:s,transition:c}})}},S[t]))})]}),(0,u.jsx)(g.Hd,{children:(0,u.jsx)(h7,{className:[h9,"".concat(h9,"--drag-preview")].join(" "),rowId:x,children:(0,u.jsx)(h8,{cellMap:b,columns:j,rowId:x})})})]})]})},ft=e=>{let{cellData:t}=e;return(0,u.jsx)("div",{className:"query-preset-columns-cell",children:t?(0,_.F)(t).map((e,t)=>{let n=!e.startsWith("-");return n?(0,u.jsx)(a4,{pillStyle:n?"always-white":"light",size:"small",children:(0,Q.x4)(e)},t):null}):"No columns selected"})},fn=e=>{let{cellData:t}=e;return(0,u.jsx)("div",{children:t?(e=>{if(e.or&&e.or.length>0&&e.or[0].and&&e.or[0].and.length>0){var t,n;let l=null==(n=e.or[0])||null==(t=n.and)?void 0:t[0];if(!l||"object"!=typeof l)return"No where query";let a=Object.keys(l)[0];if(!a||!l[a]||"object"!=typeof l[a])return"No where query";let o=Object.keys(l[a])[0],r=l[a][o];if("string"==typeof r)return"".concat((0,Q.x4)(a)," ").concat(o," ").concat((0,Q.x4)(r));if(Array.isArray(r))return"".concat((0,Q.x4)(a)," ").concat(o," ").concat(r.map(e=>(0,Q.x4)(e)).join(" or "))}return""})(t):"No where query"})},fl=e=>{let{cellData:t}=e,n=["read","update","delete"];return(0,u.jsx)("p",{children:n.reduce((e,l,a)=>{let r=null==t?void 0:t[l];return r&&r.constraint&&e.push((0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("span",{children:[(0,u.jsx)("strong",{children:(0,Q.x4)(l)}),": ",(0,Q.x4)(r.constraint)]}),a!==n.length-1&&", "]},l)),e},[])})},fa=[{label:"equals",value:"equals"},{label:"isNotEqualTo",value:"not_equals"}],fo={label:"exists",value:"exists"},fr=[...fa,{label:"isIn",value:"in"},{label:"isNotIn",value:"not_in"},fo],fi=[...fr,{label:"isGreaterThan",value:"greater_than"},{label:"isLessThan",value:"less_than"},{label:"isLessThanOrEqualTo",value:"less_than_equal"},{label:"isGreaterThanOrEqualTo",value:"greater_than_equal"}],fs=[...fa,{label:"near",value:"near"}],fc={label:"within",value:"within"},fu={label:"intersects",value:"intersects"},fd={label:"isLike",value:"like"},fp={label:"isNotLike",value:"not_like"},fh={label:"contains",value:"contains"},ff={checkbox:{component:"Text",operators:[...fa,fo]},code:{component:"Text",operators:[...fr,fd,fp,fh]},date:{component:"Date",operators:[...fi,fo]},email:{component:"Text",operators:[...fr,fh]},json:{component:"Text",operators:[...fr,fd,fh,fp,fc,fu]},number:{component:"Number",operators:[...fi,fo]},point:{component:"Point",operators:[...fs,fo,fc,fu]},radio:{component:"Select",operators:[...fr]},relationship:{component:"Relationship",operators:[...fr]},richText:{component:"Text",operators:[...fr,fd,fp,fh]},select:{component:"Select",operators:[...fr]},text:{component:"Text",operators:[...fr,fd,fp,fh]},textarea:{component:"Text",operators:[...fr,fd,fp,fh]},upload:{component:"Relationship",operators:[...fr]}},fm=e=>{let{field:t,operator:n}=e,l=[];return l="relationship"===t.type&&Array.isArray(t.relationTo)?"hasMany"in t&&t.hasMany?[...fa,fo]:[...fr]:[...ff[t.type].operators],{validOperator:n&&l.find(e=>{let{value:t}=e;return t===n})?n:l[0].value,validOperators:l}},fg=e=>{let{fieldPermissions:t,fields:n,i18n:l,labelPrefix:a,pathPrefix:o}=e;return n.reduce((e,n)=>{var r,i,s;let c=o;if((0,m.I2)(n)&&!(0,m.uT)(n)||"virtual"in n&&!0===n.virtual)return e;let u=!1;if("virtual"in n&&"string"==typeof n.virtual&&(c=c?c+"."+n.virtual:n.virtual,(0,m.Z7)(n)&&(u=!0)),"tabs"===n.type&&"tabs"in n)return n.tabs.forEach(n=>{if("boolean"!=typeof n.label){var o;let r=(0,d.s)(n.label,l),i=(0,m.pz)(n)&&n.name?c?c+"."+n.name:n.name:c;"string"==typeof r&&e.push(...fg({fieldPermissions:"boolean"==typeof t?t:(0,m.pz)(n)&&n.name?(null==t||null==(o=t[n.name])?void 0:o.fields)||(null==t?void 0:t[n.name]):t,fields:n.fields,i18n:l,labelPrefix:a?a+" > "+r:r,pathPrefix:i}))}}),e;if("row"===n.type&&"fields"in n)return e.push(...fg({fieldPermissions:t,fields:n.fields,i18n:l,labelPrefix:a,pathPrefix:c})),e;if("collapsible"===n.type&&"fields"in n){let o=(0,d.s)(n.label||"",l);return e.push(...fg({fieldPermissions:t,fields:n.fields,i18n:l,labelPrefix:a?a+" > "+o:o,pathPrefix:c})),e}if("group"===n.type&&"fields"in n){let o=(0,d.s)(n.label||"",l),r=a?o?a+" > "+o:a:o;if((0,m.Z7)(n)){let a=n.name?c?c+"."+n.name:n.name:c;e.push(...fg({fieldPermissions:"boolean"==typeof t?t:(null==t||null==(i=t[n.name])?void 0:i.fields)||(null==t?void 0:t[n.name]),fields:n.fields,i18n:l,labelPrefix:r,pathPrefix:a}))}else e.push(...fg({fieldPermissions:t,fields:n.fields,i18n:l,labelPrefix:r,pathPrefix:c}));return e}if("array"===n.type&&"fields"in n){let o=(0,d.s)(n.label||"",l),r=n.name?c?c+"."+n.name:n.name:c;return e.push(...fg({fieldPermissions:"boolean"==typeof t?t:(null==t||null==(s=t[n.name])?void 0:s.fields)||(null==t?void 0:t[n.name]),fields:n.fields,i18n:l,labelPrefix:a?o?a+" > "+o:a:o,pathPrefix:r})),e}if("object"==typeof ff[n.type]&&((0,m.uT)(n)||!0===t||(null==t?void 0:t[n.name])===!0||(null==t||null==(r=t[n.name])?void 0:r.read)===!0)){let t=new Set,{validOperators:o}=fm({field:n}),r=o.reduce((e,n)=>{if(!t.has(n.value)){t.add(n.value);let a="operators:".concat(n.label);e.push({...n,label:l.t(a)})}return e},[]),i=(0,d.s)(n.label||"",l),s=a?dL({field:n,prefix:a}):i,p;p=u?c:c?dR(c,n):n.name;let h={label:s,plainTextLabel:"".concat(a?a+" > ":"").concat(i),value:p,...ff[n.type],field:n,operators:r};return e.push(h),e}return e},[])},fv=e=>{var t;let{cellData:n,rowData:l}=e,{i18n:a}=(0,s.d)(),{permissions:r}=lf(),{config:c}=(0,i.c)(),d=null==l?void 0:l.relatedCollection,p=(0,o.useMemo)(()=>{var e;return d?null==(e=c.collections)?void 0:e.find(e=>e.slug===d):null},[d,c.collections]),h=(0,o.useMemo)(()=>{var e,t;return p?fg({fieldPermissions:null==r||null==(t=r.collections)||null==(e=t[d])?void 0:e.fields,fields:p.fields,i18n:a}):[]},[p,r,d,a]);if(!n||"string"!=typeof n)return(0,u.jsx)("div",{children:"No group by selected"});let f=n.startsWith("-"),m=f?n.slice(1):n,g=(null==(t=h.find(e=>e.value===m))?void 0:t.label)||(0,Q.x4)(m);return(0,u.jsxs)("div",{children:[g," (",f?"descending":"ascending",")"]})},fb=e=>{let t=(0,f.c)(5),{field:n}=e,{label:l,required:a}=n,{path:o,value:r}=aA(),i;return t[0]!==l||t[1]!==o||t[2]!==a||t[3]!==r?(i=(0,u.jsxs)("div",{className:"field-type query-preset-columns-field",children:[(0,u.jsx)(lC,{as:"h3",label:l,path:o,required:a}),(0,u.jsx)("div",{className:"value-wrapper",children:r?(0,_.F)(r).map(fy):"No columns selected"})]}),t[0]=l,t[1]=o,t[2]=a,t[3]=r,t[4]=i):i=t[4],i};function fy(e,t){let n=!e.startsWith("-");return(0,u.jsx)(a4,{pillStyle:n?"always-white":"light-gray",size:"small",children:(0,Q.x4)(e)},t)}var fx=e=>{var t;let{field:n}=e,{label:l,required:a}=n,{path:r,value:c}=aA(),{collectionSlug:p}=s5(),{getEntityConfig:h}=(0,i.c)(),f=h({collectionSlug:p}),{i18n:m}=(0,s.d)();return(0,u.jsxs)("div",{className:"field-type query-preset-where-field",children:[(0,u.jsx)(lC,{as:"h3",label:l,path:r,required:a}),(0,u.jsx)("div",{className:"value-wrapper",children:c?((e,t)=>{if(!e)return null;let n=e=>{if(!e||"object"!=typeof e)return"No where query";let t=Object.keys(e)[0];if(!t||!e[t]||"object"!=typeof e[t])return"No where query";let n=Object.keys(e[t])[0],l=e[t][n],a=e=>{var t;if("object"==typeof e&&null!=e)try{return new Date(e).toLocaleDateString()}catch(e){return"Unknown error has occurred"}return null!=(t=null==e?void 0:e.toString())?t:""},o=Array.isArray(l)?l.map(a).join(", "):a(l);return(0,u.jsxs)(a4,{pillStyle:"always-white",size:"small",children:[(0,u.jsx)("b",{children:(0,Q.x4)(t)})," ",n," ",(0,u.jsx)("b",{children:(0,Q.x4)(o)})]})};return((e,t)=>e.or&&e.or.length>0?(0,u.jsx)("div",{className:"or-condition",children:e.or.map((e,l)=>(0,u.jsx)(o.Fragment,{children:e.and&&e.and.length>0?(0,u.jsxs)("div",{className:"and-condition",children:[0===l&&(0,u.jsx)("span",{className:"label",children:"Filter ".concat(t," where ")}),l>0&&(0,u.jsx)("span",{className:"label",children:" or "}),e.and.map((t,l)=>(0,u.jsxs)(o.Fragment,{children:[n(t),l<e.and.length-1&&(0,u.jsx)("span",{className:"label",children:" and "})]},l))]}):n(e)},l))}):n(e))(e,t)})(c,(0,d.s)(null==f||null==(t=f.labels)?void 0:t.plural,m)):"No where query"})]})},fw=e=>{let{field:{label:t,required:n}}=e,{path:l,value:a}=aA(),{i18n:r}=(0,s.d)(),{permissions:c}=lf(),{config:d}=(0,i.c)(),p=aA({path:"relatedCollection"}).value,h=(0,o.useMemo)(()=>{var e;return p?null==(e=d.collections)?void 0:e.find(e=>e.slug===p):null},[p,d.collections]),f=(0,o.useMemo)(()=>{var e,t;return h?fg({fieldPermissions:null==c||null==(t=c.collections)||null==(e=t[p])?void 0:e.fields,fields:h.fields,i18n:r}):[]},[h,c,p,r]);return(0,u.jsxs)("div",{className:"field-type query-preset-group-by-field",children:[(0,u.jsx)(lC,{as:"h3",label:t,path:l,required:n}),(0,u.jsx)("div",{className:"value-wrapper",children:(e=>{var t;if(!e)return"No group by selected";let n=e.startsWith("-"),l=n?e.slice(1):e,a=(null==(t=f.find(e=>e.value===l))?void 0:t.label)||(0,Q.x4)(l);return(0,u.jsxs)(a4,{pillStyle:"always-white",size:"small",children:[(0,u.jsx)("b",{children:a})," (",n?"descending":"ascending",")"]})})(a)})]})},fj="leave-without-saving",fC=e=>{let t,n=(0,f.c)(17),{disablePreventLeave:l,onConfirm:a,onPrevent:r}=e,{closeModal:i,openModal:s}=nj(),c=eL(),{isValid:d}=eE(),{user:p}=lf(),[m,g]=o.useState(!1),v=!(void 0!==l&&l)&&!!((c||!d)&&p),b;n[0]!==r||n[1]!==s?(b=()=>{var e;let t=(null==(e=document.activeElement)?void 0:e.href)||null;r&&r(t),s(fj)},n[0]=r,n[1]=s,n[2]=b):b=n[2];let y=b,x;n[3]!==i?(x=()=>{i(fj)},n[3]=i,n[4]=x):x=n[4];let w=x,j;n[5]!==w||n[6]!==y||n[7]!==m||n[8]!==v?(j={hasAccepted:m,onAccept:w,onPrevent:y,prevent:v},n[5]=w,n[6]=y,n[7]=m,n[8]=v,n[9]=j):j=n[9],(e=>{let{hasAccepted:t=!1,message:n="Are you sure want to leave this page?",onAccept:l,onPrevent:a,prevent:r=!0}=e;((e,t)=>{let n=(0,f.c)(7),l=void 0===e||e,a;n[0]!==l||n[1]!==t?(a=e=>{if("function"!=typeof l||l())return e.preventDefault(),t&&(e.returnValue=t),t},n[0]=l,n[1]=t,n[2]=a):a=n[2];let r=a,i,s;n[3]!==l||n[4]!==r?(i=()=>{if(l)return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];e&&e.addEventListener&&e.addEventListener(...n)}(window,"beforeunload",r),()=>(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];e&&e.removeEventListener&&e.removeEventListener(...n)})(window,"beforeunload",r)},s=[l,r],n[3]=l,n[4]=r,n[5]=i,n[6]=s):(i=n[5],s=n[6]),(0,o.useEffect)(i,s)})(r,n);let{startRouteTransition:i}=e4(),s=(0,h.useRouter)(),c=(0,o.useRef)("");(0,o.useEffect)(()=>{function e(e){try{let t=e.target,l=function(e){for(;e&&"a"!==e.tagName.toLowerCase();)e=e.parentElement;return e}(t);if(l){let t=window.location.href,o=l.href,i=function(e,t){try{let n=new URL(e),l=new URL(t);if(n.hostname===l.hostname&&n.pathname===l.pathname&&n.search===l.search){let e=n.hash,t=l.hash;return e!==t&&n.href.replace(e,"")===l.href.replace(t,"")}}catch(e){console.log("Unexpected exception thrown in LeaveWithoutSaving:isAnchorOfCurrentUrl",e)}return!1}(t,o),s=""!==l.download,u="_blank"===l.target||e.metaKey||e.ctrlKey;!(o===t||i||s||u)&&r&&(a||!window.confirm(n))&&(c.current=o,e.preventDefault(),e.stopPropagation(),"function"==typeof a&&a())}}catch(e){console.log("Unexpected exception thrown in LeaveWithoutSaving:usePreventLeave",e)}}return r&&document.addEventListener("click",e,!0),()=>{document.removeEventListener("click",e,!0)}},[a,r,n]),(0,o.useEffect)(()=>{t&&c.current&&(l&&l(),i(()=>s.push(c.current)))},[t,l,s,i])})(j),n[10]!==i?(t=()=>{i(fj)},n[10]=i,n[11]=t):t=n[11];let C=t,S;n[12]!==a?(S=async()=>{if(a)try{await a()}catch(e){console.error("Error in LeaveWithoutSaving onConfirm:",e)}g(!0)},n[12]=a,n[13]=S):S=n[13];let _=S,k;return n[14]!==_||n[15]!==C?(k=(0,u.jsx)(fS,{modalSlug:fj,onCancel:C,onConfirm:_}),n[14]=_,n[15]=C,n[16]=k):k=n[16],k},fS=e=>{let t=(0,f.c)(5),{modalSlug:n,onCancel:l,onConfirm:a}=e,{t:o}=(0,s.d)(),r;return t[0]!==n||t[1]!==l||t[2]!==a||t[3]!==o?(r=(0,u.jsx)(ls,{body:o("general:changesNotSaved"),cancelLabel:o("general:stayOnThisPage"),confirmLabel:o("general:leaveAnyway"),heading:o("general:leaveWithoutSaving"),modalSlug:n,onCancel:l,onConfirm:a}),t[0]=n,t[1]=l,t[2]=a,t[3]=o,t[4]=r):r=t[4],r},f_="document-take-over",fk="document-take-over",fN=e=>{let t,n=(0,f.c)(19),{handleBackToDashboard:l,isActive:a,onReadOnly:r}=e,{closeModal:i,openModal:c}=nj(),{t:d}=(0,s.d)(),{startRouteTransition:p}=e4(),{clearRouteCache:h}=d3(),m,g;if(n[0]!==i||n[1]!==a||n[2]!==c?(m=()=>{a?c(f_):i(f_)},g=[a,c,i],n[0]=i,n[1]=a,n[2]=c,n[3]=m,n[4]=g):(m=n[3],g=n[4]),(0,o.useEffect)(m,g),n[5]!==h||n[6]!==i||n[7]!==l||n[8]!==r||n[9]!==p||n[10]!==d){let e,a;n[12]!==l||n[13]!==p?(e=()=>{p(()=>l())},n[12]=l,n[13]=p,n[14]=e):e=n[14],n[15]!==h||n[16]!==i||n[17]!==r?(a=()=>{r(),i(f_),h()},n[15]=h,n[16]=i,n[17]=r,n[18]=a):a=n[18],t=(0,u.jsx)(nI,{className:fk,closeOnBlur:!1,slug:f_,children:(0,u.jsxs)("div",{className:"".concat(fk,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(fk,"__content"),children:[(0,u.jsx)("h1",{children:d("general:editingTakenOver")}),(0,u.jsx)("p",{children:d("general:anotherUserTakenOver")})]}),(0,u.jsxs)("div",{className:"".concat(fk,"__controls"),children:[(0,u.jsx)(tS,{buttonStyle:"primary",id:"".concat(f_,"-back-to-dashboard"),onClick:e,size:"large",children:d("general:backToDashboard")}),(0,u.jsx)(tS,{buttonStyle:"secondary",id:"".concat(f_,"-view-read-only"),onClick:a,size:"large",children:d("general:viewReadOnly")})]})]})}),n[5]=h,n[6]=i,n[7]=l,n[8]=r,n[9]=p,n[10]=d,n[11]=t}else t=n[11];return t},fE="document-locked",fP="document-locked",fD=e=>{let t,n,l=(0,f.c)(33),{handleGoBack:a,isActive:r,onReadOnly:i,onTakeOver:c,updatedAt:d,user:p}=e,{closeModal:h,openModal:m}=nj(),{t:g}=(0,s.d)(),{clearRouteCache:v}=d3(),{startRouteTransition:b}=e4(),y,x;if(l[0]!==h||l[1]!==r||l[2]!==m?(y=()=>{r?m(fE):h(fE)},x=[r,m,h],l[0]=h,l[1]=r,l[2]=m,l[3]=y,l[4]=x):(y=l[3],x=l[4]),(0,o.useEffect)(y,x),l[5]!==a||l[6]!==b?(t=()=>{b(()=>a())},l[5]=a,l[6]=b,l[7]=t):t=l[7],l[8]!==v||l[9]!==h||l[10]!==a||l[11]!==i||l[12]!==c||l[13]!==b||l[14]!==g||l[15]!==t||l[16]!==d||l[17]!==p){var w;let e,o,r,s;l[19]!==g||l[20]!==p?(e=(e=>e&&"object"==typeof e)(p)?null!=(w=p.email)?w:p.id:"".concat(g("general:user"),": ").concat(p),l[19]=g,l[20]=p,l[21]=e):e=l[21],l[22]!==h||l[23]!==a||l[24]!==b?(o=()=>{h(fE),b(()=>a())},l[22]=h,l[23]=a,l[24]=b,l[25]=o):o=l[25],l[26]!==v||l[27]!==h||l[28]!==i?(r=()=>{i(),h(fE),v()},l[26]=v,l[27]=h,l[28]=i,l[29]=r):r=l[29],l[30]!==h||l[31]!==c?(s=()=>{c(),h(fE)},l[30]=h,l[31]=c,l[32]=s):s=l[32],n=(0,u.jsx)(nI,{className:fP,closeOnBlur:!1,onClose:t,slug:fE,children:(0,u.jsxs)("div",{className:"".concat(fP,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(fP,"__content"),children:[(0,u.jsx)("h1",{children:g("general:documentLocked")}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:e})," ",g("general:currentlyEditing")]}),(0,u.jsxs)("p",{children:[g("general:editedSince")," ",(0,u.jsx)("strong",{children:(e=>e?new Intl.DateTimeFormat("en-US",{day:"numeric",hour:"numeric",hour12:!0,minute:"numeric",month:"short",year:"numeric"}).format(new Date(e)):"")(d)})]})]}),(0,u.jsxs)("div",{className:"".concat(fP,"__controls"),children:[(0,u.jsx)(tS,{buttonStyle:"secondary",id:"".concat(fE,"-go-back"),onClick:o,size:"large",children:g("general:goBack")}),(0,u.jsx)(tS,{buttonStyle:"secondary",id:"".concat(fE,"-view-read-only"),onClick:r,size:"large",children:g("general:viewReadOnly")}),(0,u.jsx)(tS,{buttonStyle:"primary",id:"".concat(fE,"-take-over"),onClick:s,size:"large",children:g("general:takeOver")})]})]})}),l[8]=v,l[9]=h,l[10]=a,l[11]=i,l[12]=c,l[13]=b,l[14]=g,l[15]=t,l[16]=d,l[17]=p,l[18]=n}else n=l[18];return n};function fT(e){let t=(0,f.c)(3),{i18n:n}=(0,s.d)(),{description:l}=e;if(l){let e;return t[0]!==l||t[1]!==n?(e=(0,u.jsx)("div",{className:"custom-view-description",children:(0,d.s)(l,n)}),t[0]=l,t[1]=n,t[2]=e):e=t[2],e}return null}var fA="graphic-account",fR=e=>(0,u.jsxs)("svg",{className:[fA,(null==e?void 0:e.active)&&"".concat(fA,"--active")].filter(Boolean).join(" "),height:"25",viewBox:"0 0 25 25",width:"25",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("circle",{className:"".concat(fA,"__bg"),cx:"12.5",cy:"12.5",r:"11.5"}),(0,u.jsx)("circle",{className:"".concat(fA,"__head"),cx:"12.5",cy:"10.73",r:"3.98"}),(0,u.jsx)("path",{className:"".concat(fA,"__body"),d:"M12.5,24a11.44,11.44,0,0,0,7.66-2.94c-.5-2.71-3.73-4.8-7.66-4.8s-7.16,2.09-7.66,4.8A11.44,11.44,0,0,0,12.5,24Z"})]}),fL=(0,c.e)(eu(),1),fO=()=>{let e=(0,f.c)(2),{user:t}=lf(),n=(0,fL.default)(t.email.trim().toLowerCase()),l="?".concat(new URLSearchParams({default:"mp",r:"g",s:"50"}).toString()),a="https://www.gravatar.com/avatar/".concat(n).concat(l),o;return e[0]!==a?(o=(0,u.jsx)("img",{alt:"yas",className:"gravatar-account",height:25,src:a,style:{borderRadius:"50%"},width:25}),e[0]=a,e[1]=o):o=e[1],o},fF=()=>{let e=(0,f.c)(3),{config:t}=(0,i.c)(),{admin:n,routes:l}=t,{avatar:a,routes:o}=n,{account:r}=o,{admin:s}=l,{user:c}=lf(),d=(0,h.usePathname)()===(0,v.Q)({adminRoute:s,path:r});if(!(null==c?void 0:c.email)||"default"===a){let t;return e[0]!==d?(t=(0,u.jsx)(fR,{active:d}),e[0]=d,e[1]=t):t=e[1],t}if("gravatar"===a){let t;return e[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,u.jsx)(fO,{}),e[2]=t):t=e[2],t}},fM=(0,o.createContext)({Actions:{},setViewActions:()=>{}}),fI=()=>(0,o.use)(fM),fB=e=>{let t=(0,f.c)(4),{Actions:n,children:l}=e,[a,r]=(0,o.useState)(n),i;return t[0]!==n||t[1]!==l||t[2]!==a?(i=(0,u.jsx)(fM,{value:{Actions:{...a,...n},setViewActions:r},children:l}),t[0]=n,t[1]=l,t[2]=a,t[3]=i):i=t[3],i},fz=()=>(0,u.jsx)("svg",{className:"icon icon--close-menu",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M14 6L6 14M6 6L14 14",strokeLinecap:"square"})}),fU=()=>(0,u.jsx)("svg",{className:"icon icon--menu",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M4.66667 10H15.3333M4.66667 6H15.3333M4.66667 14H15.3333",strokeLinecap:"square"})}),fV="hamburger",fH=e=>{let t=(0,f.c)(4),{t:n}=(0,s.d)(),{closeIcon:l,isActive:a}=e,o=void 0===l?"x":l,r=void 0!==a&&a,i;return t[0]!==o||t[1]!==r||t[2]!==n?(i=(0,u.jsxs)("div",{className:fV,children:[!r&&(0,u.jsx)("div",{"aria-label":n("general:open"),className:"".concat(fV,"__open-icon"),title:n("general:open"),children:(0,u.jsx)(fU,{})}),r&&(0,u.jsxs)("div",{"aria-label":n("collapse"===o?"general:collapse":"general:close"),className:"".concat(fV,"__close-icon"),title:n("collapse"===o?"general:collapse":"general:close"),children:["x"===o&&(0,u.jsx)(fz,{}),"collapse"===o&&(0,u.jsx)(tl,{direction:"left"})]})]}),t[0]=o,t[1]=r,t[2]=n,t[3]=i):i=t[3],i},fq="localizer-button",fW=e=>{let t=(0,f.c)(8),{ariaLabel:n,className:l}=e,a=lx(),{i18n:o,t:r}=(0,s.d)(),i;if(t[0]!==n||t[1]!==l||t[2]!==o||t[3]!==a||t[4]!==r){let e;t[6]!==l?(e=[fq,l].filter(Boolean),t[6]=l,t[7]=e):e=t[7],i=(0,u.jsxs)("div",{"aria-label":n||r("general:locale"),className:e.join(" "),"data-locale":a?a.code:void 0,children:[(0,u.jsxs)("div",{className:"".concat(fq,"__label"),children:["".concat(r("general:locale"),":"),"\xa0"]}),(0,u.jsxs)("div",{className:"".concat(fq,"__current"),children:[(0,u.jsx)("span",{className:"".concat(fq,"__current-label"),children:"".concat((0,d.s)(a.label,o))}),(0,u.jsx)(tl,{className:"".concat(fq,"__chevron")})]})]}),t[0]=n,t[1]=l,t[2]=o,t[3]=a,t[4]=r,t[5]=i}else i=t[5];return i},fK="localizer",fQ=e=>{let t=(0,f.c)(17),{className:n}=e,{config:l}=(0,i.c)(),{localization:a}=l,r=(0,h.useRouter)(),{startRouteTransition:c}=e4(),{setLocaleIsLoading:p}=ly(),{i18n:m}=(0,s.d)(),g=lx();if(a){let{locales:e}=a,l;t[0]!==n?(l=[fK,n].filter(Boolean),t[0]=n,t[1]=l):l=t[1];let i=l.join(" "),s;if(t[2]!==m||t[3]!==g||t[4]!==e||t[5]!==r||t[6]!==p||t[7]!==c||t[8]!==i){let n;t[10]!==m||t[11]!==g||t[12]!==e||t[13]!==r||t[14]!==p||t[15]!==c?(n=t=>{let{close:n}=t;return(0,u.jsx)(ts.ButtonGroup,{children:e.map(e=>{let t=(0,d.s)(e.label,m);return(0,u.jsx)(ts.Button,{active:g.code===e.code,disabled:g.code===e.code,onClick:()=>{p(!0),n();let t=new URLSearchParams(window.location.search),l=b.A({...k.q(t.toString(),{depth:10,ignoreQueryPrefix:!0}),locale:e.code},{addQueryPrefix:!0});c(()=>{r.push(l)})},children:t!==e.code?(0,u.jsxs)(o.Fragment,{children:[t,"\xa0",(0,u.jsx)("span",{className:"".concat(fK,"__locale-code"),"data-locale":e.code,children:"(".concat(e.code,")")})]}):(0,u.jsx)("span",{className:"".concat(fK,"__locale-code"),"data-locale":e.code,children:t})},e.code)})})},t[10]=m,t[11]=g,t[12]=e,t[13]=r,t[14]=p,t[15]=c,t[16]=n):n=t[16],s=(0,u.jsx)("div",{className:i,children:(0,u.jsx)(ty,{button:(0,u.jsx)(fW,{}),horizontalAlign:"right",render:n,showScrollbar:!0,size:"large"})}),t[2]=m,t[3]=g,t[4]=e,t[5]=r,t[6]=p,t[7]=c,t[8]=i,t[9]=s}else s=t[9];return s}return null},fY=o.createContext({hydrated:!1,navOpen:!0,navRef:null,setNavOpen:()=>{},shouldAnimate:!1}),fG=()=>o.use(fY),fX=async e=>{var t;let n=null==(t=await e("nav"))?void 0:t.open;return"boolean"!=typeof n||n},f$=e=>{let{children:t,initialIsOpen:n}=e,{breakpoints:{l:l,m:a,s:r}}=p7(),i=(0,h.usePathname)(),{getPreference:s}=av(),c=(0,o.useRef)(null),[d,p]=o.useState(n),[f,m]=o.useState(!1),[g,v]=o.useState(!1);return(0,o.useEffect)(()=>{!1===l&&(async()=>{p(await fX(s))})()},[l,s,p]),(0,o.useEffect)(()=>{!0===r&&p(!1)},[i]),(0,o.useEffect)(()=>{c.current&&(d&&a?c.current.style.overscrollBehavior="contain":c.current.style.overscrollBehavior="auto")},[d,a]),(0,o.useEffect)(()=>{(!0===l||!0===a||!0===r)&&p(!1),v(!0);let e=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(e)}},[l,a,r]),(0,o.useEffect)(()=>()=>{c.current&&(c.current.style.overscrollBehavior="auto")},[]),(0,u.jsx)(fY,{value:{hydrated:g,navOpen:d,navRef:c,setNavOpen:p,shouldAnimate:f},children:t})},fZ="nav-toggler",fJ=e=>{let t,n=(0,f.c)(15),{id:l,children:a,className:o,tabIndex:r}=e,i=void 0===r?0:r,{t:c}=(0,s.d)(),{setPreference:d}=av(),{navOpen:p,setNavOpen:h}=fG(),{breakpoints:m}=p7(),{l:g}=m,v="".concat(c(p?"general:close":"general:open")," ").concat(c("general:menu")),b=p&&"".concat(fZ,"--is-open"),y;n[0]!==o||n[1]!==b?(y=[fZ,b,o].filter(Boolean),n[0]=o,n[1]=b,n[2]=y):y=n[2];let x=y.join(" "),w;return n[3]!==g||n[4]!==p||n[5]!==h||n[6]!==d?(w=async()=>{h(!p),g||await d("nav",{open:!p},!0)},n[3]=g,n[4]=p,n[5]=h,n[6]=d,n[7]=w):w=n[7],n[8]!==a||n[9]!==l||n[10]!==v||n[11]!==x||n[12]!==w||n[13]!==i?(t=(0,u.jsx)("button",{"aria-label":v,className:x,id:l,onClick:w,tabIndex:i,type:"button",children:a}),n[8]=a,n[9]=l,n[10]=v,n[11]=x,n[12]=w,n[13]=i,n[14]=t):t=n[14],t},f0=e=>{let{fill:t}=e,n=t||"var(--theme-elevation-1000)";return(0,u.jsxs)("svg",{className:"graphic-icon",height:"100%",viewBox:"0 0 25 25",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M11.8673 21.2336L4.40922 16.9845C4.31871 16.9309 4.25837 16.8355 4.25837 16.7282V10.1609C4.25837 10.0477 4.38508 9.97616 4.48162 10.0298L13.1404 14.9642C13.2611 15.0358 13.412 14.9464 13.412 14.8093V11.6091C13.412 11.4839 13.3456 11.3647 13.2309 11.2992L2.81624 5.36353C2.72573 5.30989 2.60505 5.30989 2.51454 5.36353L1.15085 6.14422C1.06034 6.19786 1 6.29321 1 6.40048V18.5995C1 18.7068 1.06034 18.8021 1.15085 18.8558L11.8491 24.9583C11.9397 25.0119 12.0603 25.0119 12.1509 24.9583L21.1355 19.8331C21.2562 19.7616 21.2562 19.5948 21.1355 19.5232L18.3357 17.9261C18.2211 17.8605 18.0883 17.8605 17.9737 17.9261L12.175 21.2336C12.0845 21.2872 11.9638 21.2872 11.8733 21.2336H11.8673Z",fill:n}),(0,u.jsx)("path",{d:"M22.8491 6.13827L12.1508 0.0417218C12.0603 -0.0119135 11.9397 -0.0119135 11.8491 0.0417218L6.19528 3.2658C6.0746 3.33731 6.0746 3.50418 6.19528 3.57569L8.97092 5.16091C9.08557 5.22647 9.21832 5.22647 9.33296 5.16091L11.8672 3.71872C11.9578 3.66508 12.0784 3.66508 12.1689 3.71872L19.627 7.96782C19.7175 8.02146 19.7778 8.11681 19.7778 8.22408V14.8212C19.7778 14.9464 19.8442 15.0656 19.9589 15.1311L22.7345 16.7104C22.8552 16.7819 23.006 16.6925 23.006 16.5554V6.40048C23.006 6.29321 22.9457 6.19786 22.8552 6.14423L22.8491 6.13827Z",fill:n})]})},f1=()=>(0,o.use)(f3),f3=(0,o.createContext)({setStepNav:()=>{},stepNav:[]}),f2=e=>{let t=(0,f.c)(4),{children:n}=e,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=[],t[0]=l):l=t[0];let[a,r]=(0,o.useState)(l),i;return t[1]!==n||t[2]!==a?(i=(0,u.jsx)(f3,{value:{setStepNav:r,stepNav:a},children:n}),t[1]=n,t[2]=a,t[3]=i):i=t[3],i},f6=e=>{let t=(0,f.c)(4),{nav:n}=e,{setStepNav:l}=f1(),a,r;return t[0]!==n||t[1]!==l?(a=()=>{l(n)},r=[l,n],t[0]=n,t[1]=l,t[2]=a,t[3]=r):(a=t[2],r=t[3]),(0,o.useEffect)(a,r),null},f5="step-nav",f4=e=>{let t=(0,f.c)(7),{className:n,CustomIcon:l}=e,{i18n:a}=(0,s.d)(),{stepNav:r}=f1(),{config:c}=(0,i.c)(),{routes:p}=c,{admin:h}=p,{t:m}=(0,s.d)(),g;return t[0]!==l||t[1]!==h||t[2]!==n||t[3]!==a||t[4]!==r||t[5]!==m?(g=(0,u.jsx)(o.Fragment,{children:r.length>0?(0,u.jsxs)("nav",{className:[f5,n].filter(Boolean).join(" "),children:[(0,u.jsx)(te,{className:"".concat(f5,"__home"),href:h,prefetch:!1,tabIndex:0,children:(0,u.jsx)("span",{title:m("general:dashboard"),children:(0,u.jsx)(ed,{CustomComponent:l,Fallback:(0,u.jsx)(f0,{})})})}),(0,u.jsx)("span",{children:"/"}),r.map((e,t)=>{let n=(0,d.s)(e.label,a);return r.length===t+1?(0,u.jsx)("span",{className:"".concat(f5,"__last"),children:n},t):(0,u.jsxs)(o.Fragment,{children:[e.url?(0,u.jsx)(te,{href:e.url,prefetch:!1,children:(0,u.jsx)("span",{children:n},t)}):(0,u.jsx)("span",{children:n},t),(0,u.jsx)("span",{children:"/"})]},t)})]}):(0,u.jsx)("div",{className:[f5,n].filter(Boolean).join(" "),children:(0,u.jsx)("div",{className:"".concat(f5,"__home"),children:(0,u.jsx)("span",{title:m("general:dashboard"),children:(0,u.jsx)(ed,{CustomComponent:l,Fallback:(0,u.jsx)(f0,{})})})})})}),t[0]=l,t[1]=h,t[2]=n,t[3]=a,t[4]=r,t[5]=m,t[6]=g):g=t[6],g},f8="app-header";function f7(e){let{CustomAvatar:t,CustomIcon:n}=e,{t:l}=(0,s.d)(),{Actions:a}=fI(),{config:{admin:{routes:{account:r}},localization:c,routes:{admin:d},serverURL:p}}=(0,i.c)(),{navOpen:h}=fG(),f=(0,o.useRef)(null),[m,g]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=()=>{let e=f.current;e&&g(e.scrollWidth>e.clientWidth)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[a]);let b=a?Object.values(a):[];return(0,u.jsxs)("header",{className:[f8,h&&"".concat(f8,"--nav-open")].filter(Boolean).join(" "),children:[(0,u.jsx)("div",{className:"".concat(f8,"__bg")}),(0,u.jsx)("div",{className:"".concat(f8,"__content"),children:(0,u.jsxs)("div",{className:"".concat(f8,"__wrapper"),children:[(0,u.jsx)(fJ,{className:"".concat(f8,"__mobile-nav-toggler"),tabIndex:-1,children:(0,u.jsx)(fH,{})}),(0,u.jsxs)("div",{className:"".concat(f8,"__controls-wrapper"),children:[(0,u.jsx)("div",{className:"".concat(f8,"__step-nav-wrapper"),children:(0,u.jsx)(f4,{className:"".concat(f8,"__step-nav"),CustomIcon:n})}),(0,u.jsxs)("div",{className:"".concat(f8,"__actions-wrapper"),children:[(0,u.jsx)("div",{className:"".concat(f8,"__actions"),ref:f,children:b.map((e,t)=>(0,u.jsx)("div",{className:m&&t===b.length-1?"".concat(f8,"__last-action"):"",children:e},t))}),m&&(0,u.jsx)("div",{className:"".concat(f8,"__gradient-placeholder")})]}),c&&(0,u.jsx)(fW,{ariaLabel:"invisible",className:"".concat(f8,"__localizer-spacing")}),(0,u.jsx)(te,{"aria-label":l("authentication:account"),className:"".concat(f8,"__account"),href:(0,v.Q)({adminRoute:d,path:r}),prefetch:!1,tabIndex:0,children:(0,u.jsx)(ed,{CustomComponent:t,Fallback:(0,u.jsx)(fF,{})})})]})]})}),(0,u.jsx)(fQ,{className:"".concat(f8,"__localizer")})]})}var f9="card",me=e=>{let{id:t,actions:n,buttonAriaLabel:l,href:a,onClick:o,title:r,titleAs:i}=e,s=[f9,t,(o||a)&&"".concat(f9,"--has-onclick")].filter(Boolean).join(" ");return(0,u.jsxs)("div",{className:s,id:t,children:[(0,u.jsx)(null!=i?i:"div",{className:"".concat(f9,"__title"),children:r}),n&&(0,u.jsx)("div",{className:"".concat(f9,"__actions"),children:n}),(o||a)&&(0,u.jsx)(tS,{"aria-label":l,buttonStyle:"none",className:"".concat(f9,"__click"),el:"link",onClick:o,to:a})]})},mt="copy-locale-data",mn="copy-locale",ml=()=>{let e,t,n,l,a,r,c,p=(0,f.c)(35),{config:m}=(0,i.c)(),{localization:g,routes:b}=m,{admin:y}=b,{code:x}=lx(),{id:w,collectionSlug:j,globalSlug:C}=aC(),{i18n:S,t:_}=(0,s.d)(),k=eL(),{toggleModal:N}=nj(),{copyDataFromLocale:E}=ce(),P=(0,h.useRouter)(),{startRouteTransition:D}=e4(),T=g&&g.locales.map(ma)||[],A;p[0]!==x?(A=e=>e.value!==x,p[0]=x,p[1]=A):A=p[1];let R=T.filter(A),L;p[2]!==S||p[3]!==g?(L=e=>{let t=g&&g.locales.find(t=>t.code===e);return t&&t.label?(0,d.s)(t.label,S):e},p[2]=S,p[3]=g,p[4]=L):L=p[4];let O=L,[F,M]=o.useState(!1),[I,B]=o.useState(null),[z,U]=o.useState(x),[V,H]=o.useState(!1),q,W;p[5]!==x||p[6]!==z?(q=()=>{z!==x&&U(x)},W=[x,z],p[5]=x,p[6]=z,p[7]=q,p[8]=W):(q=p[7],W=p[8]),o.useEffect(q,W),p[9]!==y||p[10]!==j||p[11]!==E||p[12]!==C||p[13]!==w||p[14]!==V||p[15]!==P||p[16]!==D||p[17]!==N?(e=async e=>{let{from:t,to:n}=e;M(!0);try{await E({collectionSlug:j,docID:w,fromLocale:t,globalSlug:C,overrideData:V,toLocale:n}),M(!1),D(()=>P.push((0,v.Q)({adminRoute:y,path:"/".concat(j?"collections/".concat(j,"/").concat(w):"globals/".concat(C))})+"?locale=".concat(n))),N(mn)}catch(e){eZ.error(e.message)}},p[9]=y,p[10]=j,p[11]=E,p[12]=C,p[13]=w,p[14]=V,p[15]=P,p[16]=D,p[17]=N,p[18]=e):e=p[18];let K=e;return w||C?(p[19]!==k||p[20]!==_||p[21]!==N?(t=()=>{k?eZ.info(_("general:unsavedChanges")):N(mn)},p[19]=k,p[20]=_,p[21]=N,p[22]=t):t=p[22],p[23]!==N?(n=()=>{N(mn)},p[23]=N,p[24]=n):n=p[24],p[25]!==K||p[26]!==F||p[27]!==z||p[28]!==_||p[29]!==I?(l=async()=>{if(z===I)return void eZ.error(_("localization:cannotCopySameLocale"));F||await K({from:z,to:I})},p[25]=K,p[26]=F,p[27]=z,p[28]=_,p[29]=I,p[30]=l):l=p[30],p[31]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{(null==e?void 0:e.value)&&U(e.value)},p[31]=a):a=p[31],p[32]===Symbol.for("react.memo_cache_sentinel")?(r=e=>{(null==e?void 0:e.value)&&B(e.value)},p[32]=r):r=p[32],p[33]!==V?(c=()=>H(!V),p[33]=V,p[34]=c):c=p[34],(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(ts.Button,{id:"".concat(mt,"__button"),onClick:t,children:_("localization:copyToLocale")}),(0,u.jsxs)(ll,{className:mt,gutter:!1,Header:(0,u.jsx)(dC,{onClose:n,title:_("localization:copyToLocale")}),slug:mn,children:[(0,u.jsxs)("div",{className:"".concat(mt,"__sub-header"),children:[(0,u.jsx)("span",{children:z&&I?(0,u.jsx)("div",{children:_("localization:copyFromTo",{from:O(z),to:O(I)})}):_("localization:selectLocaleToCopy")}),(0,u.jsx)(tS,{buttonStyle:"primary",disabled:!z||!I,iconPosition:"left",onClick:l,size:"medium",children:F?_("general:copying")+"...":_("general:copy")})]}),(0,u.jsxs)("div",{className:"".concat(mt,"__content"),children:[(0,u.jsx)(uW,{label:_("localization:copyFrom"),name:"fromLocale",onChange:a,options:T,path:"fromLocale",readOnly:!0,value:z}),(0,u.jsx)(uW,{label:_("localization:copyTo"),name:"toLocale",onChange:r,options:R,path:"toLocale",value:I}),(0,u.jsx)(aq,{checked:V,field:{name:"overwriteExisting",label:_("general:overwriteExistingData")},onChange:c,path:"overwriteExisting"})]})]})]})):null};function ma(e){return{label:e.label,value:e.code}}var mo=function(e){return e.AllAvailable="allAvailable",e.AllInPage="allInPage",e.None="none",e.Some="some",e}({}),mr=(0,o.createContext)({count:void 0,getQueryParams:e=>"",getSelectedIds:()=>[],selectAll:void 0,selected:new Map,selectedIDs:[],setSelection:e=>{},toggleAll:e=>{},totalDocs:void 0}),mi=e=>{let t=[];for(let[n,l]of e)l&&t.push(n);return t},ms=e=>{let{children:t,docs:n=[],totalDocs:l}=e,a=(0,o.useRef)({}),{user:r}=lf(),{code:i}=lx(),[s,c]=(0,o.useState)(()=>{let e=new Map;return n.forEach(t=>{let{id:n}=t;e.set(n,!1)}),e}),[d,p]=(0,o.useState)("none"),[f,m]=(0,o.useState)(0),g=(0,h.useSearchParams)(),{query:v}=s5(),y=(0,o.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Map;e?(p("allAvailable"),n.forEach(e=>{let{id:n,_isLocked:l,_userEditing:a}=e;l&&(null==a?void 0:a.id)!==(null==r?void 0:r.id)||t.set(n,!0)})):"allAvailable"===d||"allInPage"===d?p("none"):n.forEach(e=>{let{id:n,_isLocked:l,_userEditing:a}=e;l&&(null==a?void 0:a.id)!==(null==r?void 0:r.id)||t.set(n,"some"!==d)}),c(t)},[n,d,null==r?void 0:r.id]),x=(0,o.useCallback)(e=>{let t=n.find(t=>t.id===e);if((null==t?void 0:t._isLocked)&&(null==r?void 0:r.id)!==(null==t?void 0:t._userEditing.id))return;let l=s.get(e),a="boolean"!=typeof l||!l,o=new Map(s.set(e,a));"allAvailable"!==d||a||p("some"),c(o)},[s,n,d,null==r?void 0:r.id]),w=(0,o.useCallback)(e=>{var t;let n;if("allAvailable"===d)n=(null==(t=s2(g))?void 0:t.where)||{id:{not_equals:""}};else{let e=[];for(let[t,n]of s)n&&e.push(t);n={id:{in:e}}}return e&&(n={and:[{...e},n]}),b.A({locale:i,where:n},{addQueryPrefix:!0})},[d,s,i,g]),j=(0,o.useCallback)(()=>mi(s),[s]);(0,o.useEffect)(()=>{if("allAvailable"===d)return;let e=!1,t=!0;if(s.size)for(let[n,l]of s)t=t&&l,e=e||l;else t=!1,e=!1;t&&s.size===n.length?p("allInPage"):p(e?"some":"none")},[d,s,l,n]),(0,o.useEffect)(()=>{let e=0;if("allAvailable"===d)e=l;else for(let[t,n]of s)n&&e++;m(e)},[d,s,l]),(0,o.useEffect)(()=>{p("none"),c(new Map)},[v]);let C=(0,o.useMemo)(()=>mi(s),[s]);return a.current={count:f,getQueryParams:w,getSelectedIds:j,selectAll:d,selected:s,selectedIDs:C,setSelection:x,toggleAll:y,totalDocs:l},(0,u.jsx)(mr,{value:a.current,children:t})},mc=()=>(0,o.use)(mr),mu="list-selection";function md(e){let t=(0,f.c)(5),{count:n,ListActions:l,SelectionActions:a}=e,{t:r}=(0,s.d)(),i;return t[0]!==l||t[1]!==a||t[2]!==n||t[3]!==r?(i=(0,u.jsxs)("div",{className:mu,children:[(0,u.jsx)("span",{children:r("general:selectedCount",{count:n,label:""})}),l&&l.length>0&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("span",{children:""}),(0,u.jsx)("div",{className:"".concat(mu,"__actions"),children:l})]}),a&&a.length>0&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("span",{children:""}),(0,u.jsx)("div",{className:"".concat(mu,"__actions"),children:a})]})]}),t[0]=l,t[1]=a,t[2]=n,t[3]=r,t[4]=i):i=t[4],i}function mp(e){let{children:t,className:n,...l}=e;return(0,u.jsx)(tS,{...l,buttonStyle:"none",className:["".concat(mu,"__button"),n].filter(Boolean).join(" "),children:t})}var mh=e=>{var t,n,l,a;let r=(0,f.c)(6),{viewType:i}=e,{collection:s,modalPrefix:c}=e,{slug:d,trash:p}=void 0===s?{}:s,{permissions:m}=lf(),{count:g,selectAll:v,selectedIDs:y,toggleAll:x}=mc(),w=(0,h.useRouter)(),j=(0,h.useSearchParams)(),{clearRouteCache:C}=d3(),S=null==m||null==(n=m.collections)||null==(t=n[d])?void 0:t.delete,_=v===mo.AllAvailable,k=_?[]:y;if(v===mo.None||!S)return null;let N=null==(l=s2(j))?void 0:l.where,E="trash"===i?{and:[...Array.isArray(null==N?void 0:N.and)?N.and:N?[N]:[],{deletedAt:{exists:!0}}]}:N,P;return r[0]!==C||r[1]!==w||r[2]!==j||r[3]!==v||r[4]!==x?(P=()=>{x(),w.replace(b.A({...s2(j),page:v?"1":void 0},{addQueryPrefix:!0})),C()},r[0]=C,r[1]=w,r[2]=j,r[3]=v,r[4]=x,r[5]=P):P=r[5],(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(mf,{afterDelete:P,modalPrefix:c,search:null==(a=s2(j))?void 0:a.search,selections:{[d]:{all:v===mo.AllAvailable,ids:k,totalCount:_?g:k.length}},trash:p,viewType:i,where:E})})};function mf(e){let{afterDelete:t,modalPrefix:n,search:l,selections:a,trash:r,viewType:c,where:p}=e,{t:h}=(0,s.d)(),{config:{collections:f,routes:{api:m},serverURL:g}}=(0,i.c)(),{code:y}=lx(),{i18n:x}=(0,s.d)(),{openModal:w}=nj(),[j,C]=o.useState(!1),_="".concat(n?"".concat(n,"-"):"","confirm-delete-many-docs"),k=o.useCallback(async()=>{let e=1===Object.keys(a).length,n={};for(let[t,{all:o,ids:r=[]}]of Object.entries(a)){let a=f.find(e=>{let{slug:n}=e;return n===t});if(a){let i;i=o?e&&p?"trash"===c?{and:[...Array.isArray(p.and)?p.and:[p],{deletedAt:{exists:!0}}]}:p:"trash"===c?{and:[{id:{not_equals:""}},{deletedAt:{exists:!0}}]}:{id:{not_equals:""}}:{and:[{id:{in:r}},..."trash"===c?[{deletedAt:{exists:!0}}]:[]]};let s=(0,v.Q)({apiRoute:m,path:"/".concat(t).concat(b.A({limit:0,locale:y,select:{},where:(0,S.d)({collectionConfig:a,search:l,where:i}),..."trash"===c?{trash:!0}:{}},{addQueryPrefix:!0}))}),u="trash"===c||j||!a.trash?await ld.delete(s,{headers:{"Accept-Language":x.language,"Content-Type":"application/json"}}):await ld.patch(s,{body:JSON.stringify({deletedAt:new Date().toISOString()}),headers:{"Accept-Language":x.language,"Content-Type":"application/json"}});try{let{plural:e,singular:l}=a.labels,o=await u.json(),r=(null==o?void 0:o.docs.length)||0,i=r>1?e:l;if(u.status<400||r>0){let e;e=a.trash&&!j&&"trash"!==c?"general:trashedCountSuccessfully":"trash"===c||j?"general:permanentlyDeletedCountSuccessfully":"general:deletedCountSuccessfully",eZ.success(h(e,{count:r,label:(0,d.s)(i,x)}))}(null==o?void 0:o.errors.length)>0&&eZ.error(o.message,{description:o.errors.map(e=>e.message).join("\n")}),n[t]={deletedCount:r,errors:(null==o?void 0:o.errors)||null,ids:(null==o?void 0:o.docs.map(e=>e.id))||[],totalCount:o.totalDocs},u.status>400&&(null==o?void 0:o.errors.length)===0&&(eZ.error(h("error:unknown")),n[t].errors=[h("error:unknown")]);continue}catch(e){eZ.error(h("error:unknown")),n[t]={deletedCount:0,errors:[e],ids:[],totalCount:0};continue}}}"function"==typeof t&&t(n)},[a,t,f,j,y,l,g,m,x,c,p,h]),{label:N,labelCount:E}=Object.entries(a).reduce((e,t,n,l)=>{let[a,o]=t,r=f.find(e=>{let{slug:t}=e;return t===a});if(r){let t=void 0===e.labelCount?o.totalCount:e.labelCount,a="".concat(void 0!==e.labelCount?"".concat(o.totalCount," "):"").concat((0,d.s)(o.totalCount>1?r.labels.plural:r.labels.singular,x));return{label:n===l.length-1&&0!==n?"".concat(e.label," and ").concat(a):n>0?"".concat(e.label,", ").concat(a):a,labelCount:t}}return e},{label:"",labelCount:void 0});return(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(mp,{"aria-label":h("general:delete"),className:"delete-documents__toggle",onClick:()=>{w(_)},children:h("general:delete")}),(0,u.jsx)(ls,{body:(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("p",{children:r?"trash"===c?(0,u.jsx)(pn,{elements:{0:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})},1:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})}},i18nKey:"general:aboutToPermanentlyDeleteTrash",t:h,variables:{count:null!=E?E:0,label:N}}):h("general:aboutToTrashCount",{count:E,label:N}):h("general:aboutToDeleteCount",{count:E,label:N})}),r&&"trash"!==c&&(0,u.jsx)("div",{className:"delete-documents__checkbox",children:(0,u.jsx)(aV,{checked:j,id:"delete-forever",label:h("general:deletePermanently"),name:"delete-forever",onToggle:e=>C(e.target.checked)})})]}),confirmingLabel:h("general:deleting"),heading:h("general:confirmDeletion"),modalSlug:_,onConfirm:k})]})}var mm=(0,o.createContext)({appIsReady:!1,breakpoint:void 0,breakpoints:void 0,iframeRef:void 0,isLivePreviewEnabled:void 0,isLivePreviewing:!1,isPopupOpen:!1,isPreviewEnabled:void 0,measuredDeviceSize:{height:0,width:0},openPopupWindow:()=>{},popupRef:void 0,previewURL:void 0,previewWindowType:"iframe",setAppIsReady:()=>{},setBreakpoint:()=>{},setHeight:()=>{},setIsLivePreviewing:()=>{},setLoadedURL:()=>{},setMeasuredDeviceSize:()=>{},setPreviewURL:()=>{},setPreviewWindowType:()=>{},setSize:()=>{},setToolbarPosition:()=>{},setURL:()=>{},setWidth:()=>{},setZoom:()=>{},size:{height:0,width:0},toolbarPosition:{x:0,y:0},typeofLivePreviewURL:void 0,url:void 0,zoom:1}),mg=()=>(0,o.use)(mm),mv=()=>{let{isPreviewEnabled:e,previewURL:t,setPreviewURL:n}=(0,o.use)(mm);return{isPreviewEnabled:e,previewURL:t,setPreviewURL:n}},mb=e=>{let{id:t,collection:n,global:l}=e,{config:{routes:{api:a}}}=(0,i.c)(),{docConfig:r,lastUpdateTime:c,mostRecentVersionIsAutosaved:d,setMostRecentVersionIsAutosaved:p,setUnpublishedVersionCount:h}=aC(),{isValid:f,setBackgroundProcessing:m,submit:g}=eE(),[y]=eM(),w=eL(),j=eT(),{code:C}=lx(),{i18n:S,t:_}=(0,s.d)(),k=(0,R.ag)(r),N=(0,R.wA)(r),[E,P]=(0,o.useState)(!1),D=(0,o.useDeferredValue)(E),T=cP(y,k),{queueTask:A}=uw(),L=(0,o.useRef)(null),O=tf(()=>{let e,o;L.current=void 0,A(async()=>{if(w){e=new Date().getTime(),P(!0);let i,s,c,u=b.A({autosave:!0,depth:0,draft:!0,"fallback-locale":"null",locale:C},{addQueryPrefix:!0});n&&t&&(c=n.slug,i=(0,v.Q)({apiRoute:a,path:"/".concat(c,"/").concat(t).concat(u)}),s="PATCH"),l&&(c=l.slug,i=(0,v.Q)({apiRoute:a,path:"/globals/".concat(c).concat(u)}),s="POST");let{valid:f}=((e,t,n)=>{let l={data:{},valid:!0};return e&&(Object.keys(e).forEach(t=>{var a,o;!0!==n&&(null==(a=e[t])?void 0:a.disableFormData)||(l.data[t]=null==(o=e[t])?void 0:o.value,e[t].valid||(l.valid=!1))}),t&&(l.data=(0,U.s)(l.data))),l})(y,!0);if(!(j&&!f&&N)&&w&&i){var r;let t=await g({acceptValues:{overrideLocalChanges:!1},action:i,context:{getDocPermissions:!1,incrementVersionCount:!d},disableFormWhileProcessing:!1,disableSuccessStatus:!0,method:s,overrides:{_status:"draft"},skipValidation:!N});t&&(null==t||null==(r=t.res)?void 0:r.ok)&&!d&&(p(!0),h(e=>e+1)),(o=new Date().getTime())-e<1e3?L.current=setTimeout(()=>{P(!1)},1e3-(o-e)):B()}}},{afterProcess:()=>{m(!1)},beforeProcess:()=>{m(!0)}})}),M=(0,o.useRef)(!1),I=(0,o.useRef)((0,F.r)(T));(0,o.useEffect)(()=>{if(!M.current){M.current=!0;return}let{updatedAt:e,...t}=(0,F.r)(T),{updatedAt:n,...l}=I.current;(0,x.j)(t,l)||(I.current=t,O())},[T]),(0,o.useEffect)(()=>()=>{B()},[]);let B=tf(()=>{L.current&&clearTimeout(L.current),P(!1)});return(0,u.jsxs)("div",{className:"autosave",children:[N&&!f&&(0,u.jsx)(fC,{}),D&&_("general:saving"),!D&&!!c&&(0,u.jsx)(o.Fragment,{children:_("version:lastSavedAgo",{distance:ai({date:c,i18n:S})})})]})},my="delete-document",mx=e=>{let{id:t,buttonId:n,collectionSlug:l,onDelete:a,redirectAfterDelete:r=!0,singularLabel:c,title:p}=e,{config:{routes:{admin:f,api:m}},getEntityConfig:g}=(0,i.c)(),b=g({collectionSlug:l}),{setModified:y}=eE(),x=(0,h.useRouter)(),{i18n:w,t:j}=(0,s.d)(),{title:C}=ap(),{startRouteTransition:S}=e4(),{openModal:_}=nj(),k="delete-".concat(t),[N,E]=(0,o.useState)(!1),P=(0,o.useCallback)(()=>{eZ.error(j("error:deletingTitle",{title:C}))},[j,C]),D=(0,o.useCallback)(async()=>{y(!1);try{let e=(0,v.Q)({apiRoute:m,path:"/".concat(l,"/").concat(t)}),n=N||!b.trash?await ld.delete(e,{headers:{"Accept-Language":w.language,"Content-Type":"application/json"}}):await ld.patch(e,{body:JSON.stringify({deletedAt:new Date().toISOString()}),headers:{"Accept-Language":w.language,"Content-Type":"application/json"}}),o=await n.json();if(n.status<400){if(eZ.success(j(N||!b.trash?"general:titleDeleted":"general:titleTrashed",{label:(0,d.s)(c,w),title:C})||o.message),r)return S(()=>x.push((0,v.Q)({adminRoute:f,path:"/collections/".concat(l)})));"function"==typeof a&&await a({id:t,collectionConfig:b});return}o.errors?o.errors.forEach(e=>eZ.error(e.message)):P();return}catch(e){return P()}},[N,y,m,l,t,j,c,P,w,C,x,f,r,a,b,S]);return t?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(ts.Button,{id:n,onClick:()=>{_(k)},children:j("general:delete")}),(0,u.jsx)(ls,{body:(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(pn,{elements:{1:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})}},i18nKey:b.trash?"general:aboutToTrash":"general:aboutToDelete",t:j,variables:{label:(0,d.s)(c,w),title:p||C||t}}),b.trash&&(0,u.jsx)("div",{className:"".concat(my,"__checkbox"),children:(0,u.jsx)(aV,{checked:N,id:"delete-forever",label:j("general:deletePermanently"),name:"delete-forever",onToggle:e=>E(e.target.checked)})})]}),className:my,confirmingLabel:j("general:deleting"),heading:j("general:confirmDeletion"),modalSlug:k,onConfirm:D})]}):null},mw=e=>{for(let t of e){if("localized"in t&&t.localized)return!0;switch(t.type){case"array":case"collapsible":case"group":case"row":if(t.fields&&mw(t.fields))return!0;break;case"blocks":if(t.blocks){for(let e of t.blocks)if(e.fields&&mw(e.fields))return!0}break;case"tabs":if(t.tabs){for(let e of t.tabs)if("localized"in e&&e.localized||"fields"in e&&e.fields&&mw(e.fields))return!0}}}return!1},mj="select-locales-drawer",mC=e=>{let{slug:t,localization:n,onConfirm:l}=e,{i18n:a,t:r}=(0,s.d)(),{toggleModal:i}=nj(),[c,p]=(0,o.useState)([]),h=(0,o.useMemo)(()=>(e=>{let{i18n:t,localization:n}=e;return n.locales.map(e=>({label:(0,d.s)(e.label,t),value:e.code}))})({i18n:a,localization:n}),[n,a]),f=(0,o.useMemo)(()=>h.map(e=>e.value),[h]),m=(0,o.useMemo)(()=>(0,K._)(new Set(c),new Set(f)),[c,f]),g=(0,o.useCallback)(()=>{p(m?[]:[...f])},[m,f]),v=(0,o.useCallback)(e=>{p(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[]),b=(0,o.useCallback)(async()=>{await l({selectedLocales:c}),i(t)},[l,c,t,i]);return(0,u.jsxs)(ll,{className:mj,gutter:!1,Header:(0,u.jsx)(dC,{onClose:()=>{i(t)},title:"".concat(r("general:duplicate")," ").concat(r("localization:selectedLocales"))}),slug:t,children:[(0,u.jsxs)("div",{className:"".concat(mj,"__sub-header"),children:[(0,u.jsx)("span",{children:r("localization:selectLocaleToDuplicate")}),(0,u.jsx)(tS,{buttonStyle:"primary",disabled:0===c.length,iconPosition:"left",id:"#action-duplicate-confirm",onClick:b,size:"medium",children:r("general:duplicate")})]}),(0,u.jsxs)("div",{className:"".concat(mj,"__content"),children:[(0,u.jsx)("div",{className:"".concat(mj,"__item"),children:(0,u.jsx)(aV,{checked:m,id:"select-locale-all",label:r("general:selectAll",{count:f.length,label:r("general:locales")}),onToggle:g})}),h.map(e=>(0,u.jsx)("div",{className:"".concat(mj,"__item"),children:(0,u.jsx)(aV,{checked:c.includes(e.value),id:"select-locale-".concat(e.value),label:e.label,onToggle:()=>v(e.value)})},e.value))]})]})},mS=e=>{let{id:t,slug:n,onDuplicate:l,redirectAfterDuplicate:a=!0,selectLocales:r,singularLabel:c}=e,p=(0,h.useRouter)(),f=eL(),{openModal:m}=nj(),{code:g}=lx(),{setModified:y}=eE(),{startRouteTransition:x}=e4(),{config:{localization:w,routes:{admin:j,api:C},serverURL:S},getEntityConfig:_}=(0,i.c)(),k=_({collectionSlug:n}),{i18n:N,t:E}=(0,s.d)(),P="duplicate-".concat(t),D="duplicate-locales-".concat(t),T=(0,o.useMemo)(()=>!!r&&!!k&&mw(k.fields),[k,r]),A=(0,o.useCallback)(async e=>{let{selectedLocales:o}=e||{},r=o&&o.length>0,i={};g&&(i.locale=g),r&&(i.selectedLocales=o);let s={"Accept-Language":N.language,"Content-Type":"application/json",credentials:"include"};try{let e=await ld.post((0,v.Q)({apiRoute:C,path:"/".concat(n,"/").concat(t,"/duplicate").concat(b.A(i,{addQueryPrefix:!0}))}),{body:JSON.stringify((0,R.gD)(k)?{_status:"draft"}:{}),headers:s}),{doc:o,errors:r,message:u}=await e.json();if(e.status<400){if(eZ.success(u||E("general:successfullyDuplicated",{label:(0,d.s)(c,N)})),y(!1),a)return x(()=>p.push((0,v.Q)({adminRoute:j,path:"/collections/".concat(n,"/").concat(o.id).concat(g?"?locale=".concat(g):"")})));"function"==typeof l&&l({collectionConfig:k,doc:o})}else eZ.error((null==r?void 0:r[0].message)||u||E("error:unspecific",{label:(0,d.s)(c,N)}))}catch(e){eZ.error(E("error:unspecific",{label:(0,d.s)(c,N)}))}},[j,C,k,N,t,g,l,a,p,S,y,c,n,x,E]),L=(0,o.useCallback)(async()=>{r?m(D):await A()},[A,D,r,m]),O=r?"".concat(E("general:duplicate")," ").concat(E("localization:selectedLocales")):E("general:duplicate");return!r||T?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(ts.Button,{id:"action-duplicate".concat(T?"-locales":""),onClick:()=>{f?m(P):r?m(D):A()},children:O}),(0,u.jsx)(ls,{body:E("general:unsavedChangesDuplicate"),confirmLabel:E("general:duplicateWithoutSaving"),heading:E("general:unsavedChanges"),modalSlug:P,onConfirm:L}),r&&w&&(0,u.jsx)(mC,{localization:w,onConfirm:A,slug:D})]}):null},m_=e=>{let{active:t=!0,className:n}=e;return(0,u.jsx)("svg",{className:[n,"icon icon--eye"].filter(Boolean).join(" "),viewBox:"0 0 16 12",xmlns:"http://www.w3.org/2000/svg",children:t?(0,u.jsx)(o.Fragment,{children:(0,u.jsx)("path",{className:"stroke",d:"M2 11.5L4.35141 9.51035M15 0.5L12.6486 2.48965M10.915 6.64887C10.6493 7.64011 9.78959 8.38832 8.7408 8.48855M10.4085 4.38511C9.94992 3.84369 9.2651 3.5 8.5 3.5C7.11929 3.5 6 4.61929 6 6C6 6.61561 6.22251 7.17926 6.59149 7.61489M10.4085 4.38511L6.59149 7.61489M10.4085 4.38511L12.6486 2.48965M6.59149 7.61489L4.35141 9.51035M14.1292 3.92915C15.0431 5.02085 15.5 6 15.5 6C15.5 6 13.1667 11 8.5 11C7.67995 11 6.93195 10.8456 6.256 10.5911M4.35141 9.51035C2.45047 8.03672 1.5 6 1.5 6C1.5 6 3.83333 1 8.5 1C10.1882 1 11.5711 1.65437 12.6486 2.48965"})}):(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("circle",{className:"stroke",cx:"8.5",cy:"6",r:"2.5"}),(0,u.jsx)("path",{className:"stroke",d:"M8.5 1C3.83333 1 1.5 6 1.5 6C1.5 6 3.83333 11 8.5 11C13.1667 11 15.5 6 15.5 6C15.5 6 13.1667 1 8.5 1Z"})]})})},mk="live-preview-toggler",mN=()=>{let{isLivePreviewing:e,setIsLivePreviewing:t,url:n}=mg(),{t:l}=(0,s.d)();return n?(0,u.jsx)("button",{"aria-label":l(e?"general:exitLivePreview":"general:livePreview"),className:[mk,e&&"".concat(mk,"--active")].filter(Boolean).join(" "),id:"live-preview-toggler",onClick:()=>{t(!e)},title:l(e?"general:exitLivePreview":"general:livePreview"),type:"button",children:(0,u.jsx)(m_,{active:e})}):null},mE=e=>{let{className:t}=e;return(0,u.jsxs)("svg",{className:["icon icon--lock",t].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{className:"stroke",d:"M7.5 9.5V7.5C7.5 6.83696 7.76339 6.20107 8.23223 5.73223C8.70107 5.26339 9.33696 5 10 5C10.663 5 11.2989 5.26339 11.7678 5.73223C12.2366 6.20107 12.5 6.83696 12.5 7.5V9.5",strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:"1"}),(0,u.jsx)("path",{className:"stroke",d:"M13.5 9.5H6.5C5.94772 9.5 5.5 9.94772 5.5 10.5V14C5.5 14.5523 5.94772 15 6.5 15H13.5C14.0523 15 14.5 14.5523 14.5 14V10.5C14.5 9.94772 14.0523 9.5 13.5 9.5Z",stopOpacity:"1",strokeLinecap:"round",strokeLinejoin:"round"})]})},mP="locked",mD=e=>{var t;let n=(0,f.c)(8),{className:l,user:a}=e,[r,i]=(0,o.useState)(!1),{t:c}=(0,s.d)(),d=(e=>e&&"object"==typeof e)(a)?null!=(t=a.email)?t:a.id:c("general:anotherUser"),p;n[0]!==l?(p=[mP,l].filter(Boolean),n[0]=l,n[1]=p):p=n[1];let h=p.join(" "),m,g;n[2]===Symbol.for("react.memo_cache_sentinel")?(m=()=>i(!0),g=()=>i(!1),n[2]=m,n[3]=g):(m=n[2],g=n[3]);let v="".concat(d," ").concat(c("general:isEditing")),b;return n[4]!==r||n[5]!==h||n[6]!==v?(b=(0,u.jsxs)("div",{className:h,onMouseEnter:m,onMouseLeave:g,role:"button",tabIndex:0,children:[(0,u.jsx)(tw,{alignCaret:"left",className:"".concat(mP,"__tooltip"),position:"top",show:r,children:v}),(0,u.jsx)(mE,{})]}),n[4]=r,n[5]=h,n[6]=v,n[7]=b):b=n[7],b},mT=e=>{let{id:t,buttonId:n,collectionSlug:l,onDelete:a,redirectAfterDelete:r=!0,singularLabel:c,title:p}=e,{config:{routes:{admin:f,api:m},serverURL:g},getEntityConfig:y}=(0,i.c)(),x=y({collectionSlug:l}),w=(0,h.useRouter)(),{i18n:j,t:C}=(0,s.d)(),{title:S}=ap(),{startRouteTransition:_}=e4(),{openModal:k}=nj(),N="perma-delete-".concat(t),E=(0,o.useCallback)(()=>{eZ.error(C("error:deletingTitle",{title:S}))},[C,S]),P=(0,o.useCallback)(async()=>{try{let e=(0,v.Q)({apiRoute:m,path:"/".concat(l).concat(b.A({trash:!0,where:{and:[{id:{equals:t}},{deletedAt:{exists:!0}}]}},{addQueryPrefix:!0}))}),n=await ld.delete(e,{headers:{"Accept-Language":j.language,"Content-Type":"application/json"}}),o=await n.json();if(n.status<400){if(eZ.success(C("general:titleDeleted",{label:(0,d.s)(c,j),title:S})||o.message),r)return _(()=>w.push((0,v.Q)({adminRoute:f,path:"/collections/".concat(l,"/trash"),serverURL:g})));"function"==typeof a&&await a({id:t,collectionConfig:x});return}o.errors?o.errors.forEach(e=>eZ.error(e.message)):E()}catch(e){E()}},[g,m,l,t,C,c,E,j,S,w,f,r,a,x,_]);return t?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(tS,{buttonStyle:"secondary",id:n,onClick:()=>{k(N)},children:C("general:permanentlyDelete")}),(0,u.jsx)(ls,{body:(0,u.jsx)(pn,{elements:{1:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})}},i18nKey:"general:aboutToPermanentlyDelete",t:C,variables:{label:(0,d.s)(c,j),title:p||S||t}}),confirmingLabel:C("general:deleting"),heading:C("general:confirmDeletion"),modalSlug:N,onConfirm:P})]}):null},mA=e=>{let{className:t}=e;return(0,u.jsx)("svg",{className:[t,"icon icon--externalLink"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M16 10.6667V14.6667C16 15.0203 15.8595 15.3594 15.6095 15.6095C15.3594 15.8595 15.0203 16 14.6667 16H5.33333C4.97971 16 4.64057 15.8595 4.39052 15.6095C4.14048 15.3594 4 15.0203 4 14.6667V5.33333C4 4.97971 4.14048 4.64057 4.39052 4.39052C4.64057 4.14048 4.97971 4 5.33333 4H9.33333M16 4L10 10M16 4H12M16 4V8",strokeLinecap:"square"})})};function mR(e){let t,n=(0,f.c)(3),{previewURL:l}=mv(),{t:a}=(0,s.d)();return l?(n[0]!==l||n[1]!==a?(t=(0,u.jsx)("a",{"aria-label":a("version:preview"),className:"preview-btn",href:l,id:"preview-button",target:"_blank",title:a("version:preview"),children:(0,u.jsx)(mA,{})}),n[0]=l,n[1]=a,n[2]=t):t=n[2],t):null}var mL="table",mO=e=>{let{appearance:t,BeforeTable:n,columns:l,data:a}=e,o=null==l?void 0:l.filter(e=>null==e?void 0:e.active);return o&&0!==o.length?(0,u.jsxs)("div",{className:[mL,t&&"".concat(mL,"--appearance-").concat(t)].filter(Boolean).join(" "),children:[n,(0,u.jsxs)("table",{cellPadding:"0",cellSpacing:"0",children:[(0,u.jsx)("thead",{children:(0,u.jsx)("tr",{children:o.map((e,t)=>(0,u.jsx)("th",{id:"heading-".concat(e.accessor.replace(/\./g,"__")),children:e.Heading},t))})}),(0,u.jsx)("tbody",{children:a&&(null==a?void 0:a.map((e,t)=>(0,u.jsx)("tr",{className:"row-".concat(t+1),"data-id":e.id,children:o.map((e,n)=>{let{accessor:l}=e;return(0,u.jsx)("td",{className:"cell-".concat(l.replace(/\./g,"__")),children:e.renderedCells[t]},n)})},"string"==typeof e.id||"number"==typeof e.id?String(e.id):t)))})]})]}):(0,u.jsx)("div",{children:"No columns selected"})},mF="schedule-publish",mM={label:"All",value:"all"},mI=e=>{var t;let{slug:n,defaultType:l,schedulePublishConfig:a}=e,{toggleModal:r}=nj(),{config:{admin:{dateFormat:c,timezones:{defaultTimezone:p,supportedTimezones:h}},localization:f,routes:{api:m},serverURL:g}}=(0,i.c)(),{id:y,collectionSlug:x,globalSlug:w}=aC(),{title:j}=ap(),{i18n:C,t:S}=(0,s.d)(),{schedulePublish:_}=ce(),[k,N]=o.useState(l||"publish"),[E,P]=o.useState(),[D,T]=o.useState(p),[A,R]=o.useState(mM),[L,O]=o.useState(!1),F=S("general:schedulePublishFor",{title:j}),[M,I]=o.useState(),[B,z]=o.useState(),U=o.useRef(()=>null),V=Intl.DateTimeFormat().resolvedOptions().timeZone,H=o.useMemo(()=>{if(f){let e=f.locales.map(e=>{let{code:t,label:n}=e;return{label:(0,d.s)(n,C),value:t}});return e.unshift(mM),e}return[]},[f,C]),q=o.useCallback(async()=>{let e={sort:"waitUntil",where:{and:[{taskSlug:{equals:"schedulePublish"}},{waitUntil:{greater_than:new Date}}]}};x&&(e.where.and.push({"input.doc.value":{equals:String(y)}}),e.where.and.push({"input.doc.relationTo":{equals:x}})),w&&e.where.and.push({"input.global":{equals:w}});let{docs:t}=await ld.post((0,v.Q)({apiRoute:m,path:"/payload-jobs"}),{body:b.A(e),headers:{"Accept-Language":C.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"}}).then(e=>e.json());z((e=>{let{dateFormat:t,deleteHandler:n,docs:l,i18n:a,localization:o,supportedTimezones:r,t:i}=e,s=[{accessor:"input.type",active:!0,field:{name:"",type:"text"},Heading:(0,u.jsx)("span",{children:i("version:type")}),renderedCells:l.map(e=>{var t;let n=null==(t=e.input)?void 0:t.type;return(0,u.jsxs)(a4,{pillStyle:"publish"===n?"success":"warning",size:"small",children:["publish"===n&&i("version:publish"),"unpublish"===n&&i("version:unpublish")]},e.id)})},{accessor:"waitUntil",active:!0,field:{name:"",type:"date"},Heading:(0,u.jsx)("span",{children:i("general:time")}),renderedCells:l.map(e=>(0,u.jsx)("span",{children:ar({date:e.waitUntil,i18n:a,pattern:t,timezone:e.input.timezone})},e.id))},{accessor:"input.timezone",active:!0,field:{name:"",type:"text"},Heading:(0,u.jsx)("span",{children:i("general:timezone")}),renderedCells:l.map(e=>{var t;let n=(null==(t=r.find(t=>t.value===e.input.timezone))?void 0:t.label)||e.input.timezone;return(0,u.jsx)("span",{children:n||i("general:noValue")},e.id)})}];return o&&s.push({accessor:"input.locale",active:!0,field:{name:"",type:"text"},Heading:(0,u.jsx)("span",{children:i("general:locale")}),renderedCells:l.map(e=>{if(e.input.locale){let t=o.locales.find(t=>t.code===e.input.locale);if(t)return(0,u.jsx)("span",{children:(0,d.s)(t.label,a)},e.id)}return(0,u.jsx)("span",{children:i("general:all")},e.id)})}),s.push({accessor:"delete",active:!0,field:{name:"delete",type:"text"},Heading:(0,u.jsx)("span",{children:i("general:delete")}),renderedCells:l.map(e=>(0,u.jsx)(tS,{buttonStyle:"icon-label",className:"schedule-publish__delete",icon:"x",onClick:t=>{t.preventDefault(),n(e.id)},tooltip:i("general:delete")},e.id))}),s})({dateFormat:c,deleteHandler:U.current,docs:t,i18n:C,localization:f,supportedTimezones:h,t:S})),I(t)},[x,w,g,m,C,c,f,h,S,y]),W=o.useCallback(async e=>{try{await _({deleteID:e}),await q(),eZ.success(S("general:deletedSuccessfully"))}catch(e){console.error(e),eZ.error(e.message)}},[q,_,S]);o.useEffect(()=>{U.current=W},[W]);let K=o.useCallback(async()=>{let e;if(!E)return eZ.error(S("general:noDateSelected"));O(!0),"object"==typeof A&&"all"!==A.value&&"publish"===k&&(e=A.value);try{await _({type:k,date:E,doc:x?{relationTo:x,value:String(y)}:void 0,global:w||void 0,locale:e,timezone:D}),P(void 0),eZ.success(S("version:scheduledSuccessfully")),q()}catch(e){console.error(e),eZ.error(e.message)}O(!1)},[E,A,k,S,_,x,y,w,D,q]),Q=(0,o.useMemo)(()=>{if(D&&V&&E){let e=lA.tz(D),t=lA.tz(V),n=ao(new lA(E).withTimeZone(D),e);return ao(n,t).toISOString()}return E},[D,E,V]),Y=(0,o.useCallback)(e=>{if(D&&e){let t=lA.tz(D);P(ao(new lA(e),t)||null)}else P(e||null)},[P,D]);o.useEffect(()=>{M||(async()=>await q())()},[M,q]);let G=(0,o.useMemo)(()=>E&&function(e,t){return function(e,t,n){let[l,a]=lq(void 0,e,t);return+lW(l)==+lW(a)}(lM(e,e),lQ(e))}(E)?new Date:lW(new Date),[E]);return(0,u.jsxs)(ll,{className:mF,gutter:!1,Header:(0,u.jsxs)("div",{className:"".concat(mF,"__drawer-header"),children:[(0,u.jsx)("h2",{title:F,children:F}),(0,u.jsx)(dj,{onClick:()=>r(n)})]}),slug:n,children:[(0,u.jsxs)(n7,{className:"".concat(mF,"__scheduler"),children:[(0,u.jsx)(lC,{label:S("version:type"),required:!0}),(0,u.jsxs)("ul",{className:"".concat(mF,"__type"),children:[(0,u.jsx)("li",{children:(0,u.jsx)(uc,{id:"".concat(n,"-type"),isSelected:"publish"===k,onChange:()=>N("publish"),option:{label:S("version:publish"),value:"publish"},path:"".concat(n,"-type"),readOnly:L})}),(0,u.jsx)("li",{children:(0,u.jsx)(uc,{id:"".concat(n,"-type"),isSelected:"unpublish"===k,onChange:()=>N("unpublish"),option:{label:S("version:unpublish"),value:"unpublish"},path:"".concat(n,"-type"),readOnly:L})})]}),(0,u.jsx)("br",{}),(0,u.jsx)(lC,{label:S("general:time"),path:"time",required:!0}),(0,u.jsx)(oP,{id:"time",maxTime:lY(Date.now(),void 0),minDate:new Date,minTime:G,onChange:e=>Y(e),pickerAppearance:"dayAndTime",readOnly:L,timeFormat:null==a?void 0:a.timeFormat,timeIntervals:null!=(t=null==a?void 0:a.timeIntervals)?t:5,value:Q}),h.length>0&&(0,u.jsx)(sz,{id:"timezone-picker",onChange:T,options:h,selectedTimezone:D}),(0,u.jsx)("br",{}),H.length>0&&"publish"===k&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(lC,{label:S("localization:localeToPublish")}),(0,u.jsx)(sI,{onChange:e=>R(e),options:H,value:A}),(0,u.jsx)("br",{})]}),(0,u.jsxs)("div",{className:"".concat(mF,"__actions"),children:[(0,u.jsx)(tS,{buttonStyle:"primary",disabled:L,id:"scheduled-publish-save",onClick:K,type:"button",children:S("general:save")}),L?(0,u.jsx)("span",{children:S("general:saving")}):null]})]}),(0,u.jsxs)(n7,{className:"".concat(mF,"__upcoming"),children:[(0,u.jsx)("h4",{children:S("general:upcomingEvents")}),!M&&(0,u.jsx)(i.f,{}),(null==M?void 0:M.length)===0&&(0,u.jsx)(tn,{type:"info",children:S("general:noUpcomingEventsScheduled")}),(null==M?void 0:M.length)>0&&(0,u.jsx)(mO,{appearance:"condensed",columns:B,data:M})]})]})};function mB(e){let{label:t}=e,{id:n,collectionSlug:l,globalSlug:a,hasPublishedDoc:r,hasPublishPermission:c,setHasPublishedDoc:p,setMostRecentVersionIsAutosaved:h,setUnpublishedVersionCount:f,unpublishedVersionCount:m,uploadStatus:g}=aC(),{config:y,getEntityConfig:x}=(0,i.c)(),{submit:w}=eE(),j=eL(),C=nn(),{code:S}=lx(),{isModalOpen:_,toggleModal:k}=nj(),N="schedule-publish-".concat(n),{localization:E,routes:{api:P},serverURL:D}=y,{i18n:T,t:A}=(0,s.d)(),L=t||A("version:publishChanges"),O=o.useMemo(()=>l?x({collectionSlug:l}):a?x({globalSlug:a}):void 0,[l,a,x]),F=m>0,M=c&&(j||F||!r)&&"uploading"!==g,I=(0,R._N)(O),B=(0,R.s8)(O),z=!!(I&&c&&(a||l&&n)&&(B||!j)),[U,V]=(0,o.useState)(!1);(0,o.useEffect)(()=>{V(mw(null==O?void 0:O.fields))},[null==O?void 0:O.fields]);let H=E&&U&&c,q="update"===aE()&&!j,W=(0,o.useCallback)(async()=>{if(q)return;let e="?locale=".concat(S,"&depth=0&fallback-locale=null&draft=true"),t,o="POST";l&&(t=(0,v.Q)({apiRoute:P,path:"/".concat(l).concat(n?"/".concat(n):"").concat(e)}),n&&(o="PATCH")),a&&(t=(0,v.Q)({apiRoute:P,path:"/globals/".concat(a).concat(e)})),await w({action:t,method:o,overrides:{_status:"draft"},skipValidation:!0})},[w,l,a,D,P,S,n,q]);hY({cmdCtrlKey:!0,editDepth:C,keyCodes:["s"]},e=>{e.preventDefault(),e.stopPropagation(),W&&B&&W()});let K=(0,o.useCallback)(async()=>{"uploading"!==g&&await w({overrides:{_status:"published"}})&&(f(0),h(!1),p(!0))},[p,w,f,g,h]),Q=(0,o.useCallback)(async e=>{if("uploading"===g)return;let t=b.A({depth:0,publishSpecificLocale:e}),o=a?"/globals/".concat(a):"/".concat(l).concat(n?"/".concat(n):""),r=(0,v.Q)({apiRoute:P,path:"".concat(o).concat(t?"?"+t:"")});await w({action:r,overrides:{_status:"published"}})&&p(!0)},[P,l,a,n,D,p,w,g]),Y=!H||E&&(null==E?void 0:E.defaultLocalePublishOption)!=="active",G=E&&(null==E?void 0:E.locales.find(e=>"string"==typeof e?e===S:e.code===S)),X=G&&(0,d.s)(G.label,T);return c?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(d2,{buttonId:"action-save",disabled:!M,enableSubMenu:z,onClick:Y?K:()=>Q(G.code),size:"medium",SubMenuPopupContent:H||z?e=>{let{close:t}=e;return(0,u.jsxs)(o.Fragment,{children:[z&&(0,u.jsx)(ts.ButtonGroup,{children:(0,u.jsx)(ts.Button,{id:"schedule-publish",onClick:()=>[k(N),t()],children:A("version:schedulePublish")})},"schedule-publish"),H&&(0,u.jsx)(ts.ButtonGroup,{children:(0,u.jsx)(ts.Button,{id:"publish-locale",onClick:Y?()=>Q(G.code):K,children:Y?A("version:publishIn",{locale:X}):A("version:publishAllLocales")})})]})}:void 0,type:"button",children:Y?L:A("version:publishIn",{locale:X})}),z&&_(N)&&(0,u.jsx)(mI,{defaultType:F?"publish":"unpublish",schedulePublishConfig:I&&"object"==typeof O.versions.drafts.schedulePublish?O.versions.drafts.schedulePublish:void 0,slug:N})]}):null}var mz="restore-button",mU=e=>{var t,n;let{id:l,buttonId:a,collectionSlug:r,onRestore:c,redirectAfterRestore:p=!0,singularLabel:f,title:m}=e,{config:{routes:{admin:g,api:y},serverURL:x},getEntityConfig:w}=(0,i.c)(),j=w({collectionSlug:r}),C=(0,h.useRouter)(),{i18n:S,t:_}=(0,s.d)(),{title:k}=ap(),{startRouteTransition:N}=e4(),{openModal:E}=nj(),P="restore-".concat(l),[D,T]=(0,o.useState)(!1),A=(0,o.useCallback)(()=>{eZ.error(_("error:restoringTitle",{title:k}))},[_,k]),R=(0,o.useCallback)(async()=>{try{var e;let t=(0,v.Q)({apiRoute:y,path:"/".concat(r).concat(b.A({trash:!0,where:{and:[{id:{equals:l}},{deletedAt:{exists:!0}}]}},{addQueryPrefix:!0}))}),n={deletedAt:null};(null==j||null==(e=j.versions)?void 0:e.drafts)&&(n._status=D?"published":"draft");let a=await ld.patch(t,{body:JSON.stringify(n),headers:{"Accept-Language":S.language,"Content-Type":"application/json"}}),o=await a.json();if(a.status<400){if(eZ.success(_("general:titleRestored",{label:(0,d.s)(f,S),title:k})||o.message),p)return N(()=>C.push((0,v.Q)({adminRoute:g,path:"/collections/".concat(r,"/").concat(l),serverURL:x})));"function"==typeof c&&await c({id:l,collectionConfig:j});return}o.errors?o.errors.forEach(e=>eZ.error(e.message)):A()}catch(e){A()}},[x,y,r,l,_,f,A,S,k,C,g,p,c,j,N,D]);return l?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(tS,{buttonStyle:"primary",id:a,onClick:()=>{E(P)},children:_("general:restore")},a),(0,u.jsx)(ls,{body:(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(pn,{elements:{1:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})}},i18nKey:(null==j||null==(t=j.versions)?void 0:t.drafts)?"general:aboutToRestoreAsDraft":"general:aboutToRestore",t:_,variables:{label:(0,d.s)(f,S),title:m||k||l}}),(null==j||null==(n=j.versions)?void 0:n.drafts)&&(0,u.jsx)("div",{className:"".concat(mz,"__checkbox"),children:(0,u.jsx)(aV,{checked:D,id:"restore-as-published",label:_("general:restoreAsPublished"),name:"restore-as-published",onToggle:e=>T(e.target.checked)})})]}),className:mz,confirmingLabel:_("general:restoring"),heading:_("general:confirmRestoration"),modalSlug:P,onConfirm:R})]}):null};function mV(e){let{label:t}=e,{uploadStatus:n}=aC(),{t:l}=(0,s.d)(),{submit:a}=eE(),r=eL(),i=t||l("general:save"),c=(0,o.useRef)(null),d=nn(),p="update"===aE()&&!r||"uploading"===n;return hY({cmdCtrlKey:!0,editDepth:d,keyCodes:["s"]},e=>{e.preventDefault(),e.stopPropagation(),(null==c?void 0:c.current)&&c.current.click()}),(0,u.jsx)(d2,{buttonId:"action-save",disabled:p,onClick:()=>{if("uploading"!==n)return void a()},ref:c,size:"medium",type:"button",children:i})}function mH(e){let{config:{routes:{api:t}}}=(0,i.c)(),{id:n,collectionSlug:l,globalSlug:a,setUnpublishedVersionCount:r,uploadStatus:c}=aC(),d=eL(),{code:p}=lx(),h=(0,o.useRef)(null),f=nn(),{t:m}=(0,s.d)(),{submit:g}=eE(),b="update"===aE()&&!d||"uploading"===c,y=(0,o.useCallback)(async()=>{if(b)return;let e="?locale=".concat(p,"&depth=0&fallback-locale=null&draft=true"),o,i="POST";l&&(o=(0,v.Q)({apiRoute:t,path:"/".concat(l).concat(n?"/".concat(n):"").concat(e)}),n&&(i="PATCH")),a&&(o=(0,v.Q)({apiRoute:t,path:"/globals/".concat(a).concat(e)})),await g({action:o,method:i,overrides:{_status:"draft"},skipValidation:!0}),r(e=>e+1)},[g,l,a,t,p,n,b,r]);return hY({cmdCtrlKey:!0,editDepth:f,keyCodes:["s"]},e=>{e.preventDefault(),e.stopPropagation(),(null==h?void 0:h.current)&&h.current.click()}),(0,u.jsx)(d2,{buttonId:"action-save-draft",buttonStyle:"secondary",className:"save-draft",disabled:b,onClick:()=>void y(),ref:h,size:"medium",type:"button",children:m("version:saveDraft")})}var mq="status",mW=()=>{let{id:e,collectionSlug:t,docPermissions:n,globalSlug:l,hasPublishedDoc:a,incrementVersionCount:r,isTrashed:c,setHasPublishedDoc:d,setMostRecentVersionIsAutosaved:p,setUnpublishedVersionCount:h,unpublishedVersionCount:f}=aC(),{toggleModal:m}=nj(),{config:{routes:{api:g}}}=(0,i.c)(),{reset:b}=eE(),{code:y}=lx(),{i18n:x,t:w}=(0,s.d)(),j="confirm-un-publish-".concat(e),C="confirm-revert-".concat(e),S;f>0&&a?S="changed":a?a&&f<=0&&(S="published"):S="draft";let _=c?a?"previouslyPublished":"previouslyDraft":S,k=(0,o.useCallback)(async n=>{let a,o,i;"unpublish"===n&&(i={_status:"draft"}),t&&(a=(0,v.Q)({apiRoute:g,path:"/".concat(t,"/").concat(e,"?locale=").concat(y,"&fallback-locale=null&depth=0")}),o="patch"),l&&(a=(0,v.Q)({apiRoute:g,path:"/globals/".concat(l,"?locale=").concat(y,"&fallback-locale=null&depth=0")}),o="post"),"revert"===n&&(i=await ld.get(a,{headers:{"Accept-Language":x.language,"Content-Type":"application/json"}}).then(e=>e.json()));let s=await ld[o](a,{body:JSON.stringify(i),headers:{"Accept-Language":x.language,"Content-Type":"application/json"}});if(200===s.status){let e,a=await s.json();l?e=a.result:t&&(e=a.doc),b(e),eZ.success(a.message),r(),p(!1),"unpublish"===n?d(!1):"revert"===n&&h(0)}else try{var c,u;let e=await s.json();(null==(u=e.errors)||null==(c=u[0])?void 0:c.message)?eZ.error(e.errors[0].message):e.error?eZ.error(e.error):eZ.error(w("error:unPublishingDocument"))}catch(e){eZ.error(w("error:unPublishingDocument"))}},[g,t,l,e,x.language,r,y,b,h,p,w,d]),N=null==n?void 0:n.update;return S?(0,u.jsx)("div",{className:mq,title:"".concat(w("version:status"),": ").concat(w("version:".concat(_))),children:(0,u.jsxs)("div",{className:"".concat(mq,"__value-wrap"),children:[(0,u.jsxs)("span",{className:"".concat(mq,"__label"),children:[w("version:status"),":\xa0"]}),(0,u.jsx)("span",{className:"".concat(mq,"__value"),children:w("version:".concat(_))}),!c&&N&&"published"===S&&(0,u.jsxs)(o.Fragment,{children:["\xa0\xa0",(0,u.jsx)(tS,{buttonStyle:"none",className:"".concat(mq,"__action"),id:"action-unpublish",onClick:()=>m(j),children:w("version:unpublish")}),(0,u.jsx)(ls,{body:w("version:aboutToUnpublish"),confirmingLabel:w("version:unpublishing"),heading:w("version:confirmUnpublish"),modalSlug:j,onConfirm:()=>k("unpublish")})]}),!c&&N&&a&&"changed"===S&&(0,u.jsxs)(o.Fragment,{children:["\xa0\xa0",(0,u.jsx)(tS,{buttonStyle:"none",className:"".concat(mq,"__action"),id:"action-revert-to-published",onClick:()=>m(C),children:w("version:revertToPublished")}),(0,u.jsx)(ls,{body:w("version:aboutToRevertToPublished"),confirmingLabel:w("version:reverting"),heading:w("version:confirmRevertToSaved"),modalSlug:C,onConfirm:()=>k("revert")})]})]})}):null},mK="doc-controls",mQ=e=>{var t,n,l,a,r,c,p,h,m,g,b;let y=(0,f.c)(5),{id:x,slug:w,BeforeDocumentControls:j,customComponents:C,data:S,disableActions:_,disableCreate:k,EditMenuItems:N,hasSavePermission:E,isAccountView:P,isEditing:D,isInDrawer:T,isTrashed:A,onDelete:L,onDrawerCreateNew:O,onDuplicate:F,onRestore:M,onTakeOver:I,permissions:B,readOnlyForIncomingUser:z,redirectAfterDelete:U,redirectAfterDuplicate:V,redirectAfterRestore:H,user:q}=e,{PreviewButton:W,PublishButton:K,SaveButton:Q,SaveDraftButton:Y}=void 0===C?{}:C,{i18n:G,t:X}=(0,s.d)(),$=nn(),{config:Z,getEntityConfig:J}=(0,i.c)(),ee=J({collectionSlug:w}),et=J({globalSlug:w}),{isLivePreviewEnabled:en}=mg(),{admin:el,localization:ea,routes:eo}=Z,{dateFormat:er}=el,{admin:ei}=eo,[es,ec]=o.useState(""),[eu,ep]=o.useState(""),eh=eA(),ef=eO(),em,eg;y[0]!==S||y[1]!==er||y[2]!==G?(em=()=>{(null==S?void 0:S.updatedAt)&&ec(ar({date:S.updatedAt,i18n:G,pattern:er})),(null==S?void 0:S.createdAt)&&ep(ar({date:S.createdAt,i18n:G,pattern:er}))},eg=[S,G,er],y[0]=S,y[1]=er,y[2]=G,y[3]=em,y[4]=eg):(em=y[3],eg=y[4]),(0,o.useEffect)(em,eg);let ev=B&&"create"in B&&B.create,eb=B&&"delete"in B&&B.delete,ey=!!(ee&&x&&!_&&(ev||eb)),ex=!x&&(null==ee||null==(t=ee.versions)?void 0:t.drafts)&&(null==(n=ee.versions)?void 0:n.drafts.validate),ew=(0,R.gD)(et),ej=(0,R.gD)(ee),eC=(0,R.s8)(ee),eS=(0,R.s8)(et),e_=eC||eS,ek=eC&&!1!==ee.versions.drafts.autosave&&!0===ee.versions.drafts.autosave.showSaveDraftButton||eS&&!1!==et.versions.drafts.autosave&&!0===et.versions.drafts.autosave.showSaveDraftButton,eN=ea&&!(null==ee||null==(l=ee.admin)?void 0:l.disableCopyToLocale),eE=ee&&ee.folders,eP=q&&z;return(0,u.jsxs)(n7,{className:mK,children:[(0,u.jsxs)("div",{className:"".concat(mK,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(mK,"__content"),children:[eP||eE?(0,u.jsxs)("div",{className:"".concat(mK,"__meta-icons"),children:[eP&&(0,u.jsx)(mD,{className:"".concat(mK,"__locked-controls"),user:q}),eE&&Z.folders&&!A&&(0,u.jsx)(px,{folderCollectionSlug:Z.folders.slug,folderFieldName:Z.folders.fieldName})]}):null,(0,u.jsxs)("ul",{className:"".concat(mK,"__meta"),children:[ee&&!D&&!P&&(0,u.jsx)("li",{className:"".concat(mK,"__list-item"),children:(0,u.jsx)("p",{className:"".concat(mK,"__value"),children:G.t("general:creatingNewLabel",{label:(0,d.s)(null!=(b=null==ee||null==(a=ee.labels)?void 0:a.singular)?b:G.t("general:document"),G)})})}),(ej||ew)&&(0,u.jsxs)(o.Fragment,{children:[(et||ee&&D)&&(0,u.jsx)("li",{className:["".concat(mK,"__status"),"".concat(mK,"__list-item")].filter(Boolean).join(" "),children:(0,u.jsx)(mW,{})}),E&&e_&&!ex&&!A&&(0,u.jsx)("li",{className:"".concat(mK,"__list-item"),children:(0,u.jsx)(mb,{collection:ee,global:et,id:x,publishedDocUpdatedAt:null==S?void 0:S.createdAt})})]}),(null==ee?void 0:ee.timestamps)&&(D||P)&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("li",{className:["".concat(mK,"__list-item"),"".concat(mK,"__value-wrap")].filter(Boolean).join(" "),title:(null==S?void 0:S.updatedAt)?es:"",children:[(0,u.jsxs)("p",{className:"".concat(mK,"__label"),children:[G.t(A?"general:deleted":"general:lastModified"),":\xa0"]}),(null==S?void 0:S.updatedAt)&&(0,u.jsx)("p",{className:"".concat(mK,"__value"),children:es})]}),(0,u.jsxs)("li",{className:["".concat(mK,"__list-item"),"".concat(mK,"__value-wrap")].filter(Boolean).join(" "),title:(null==S?void 0:S.createdAt)?eu:"",children:[(0,u.jsxs)("p",{className:"".concat(mK,"__label"),children:[G.t("general:created"),":\xa0"]}),(null==S?void 0:S.createdAt)&&(0,u.jsx)("p",{className:"".concat(mK,"__value"),children:eu})]})]})]})]}),(0,u.jsxs)("div",{className:"".concat(mK,"__controls-wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(mK,"__controls"),children:[j,en&&!T&&(0,u.jsx)(mN,{}),((null==ee?void 0:ee.admin.preview)||(null==et?void 0:et.admin.preview))&&(0,u.jsx)(ed,{CustomComponent:W,Fallback:(0,u.jsx)(mR,{})}),E&&!A&&(0,u.jsx)(o.Fragment,{children:ej||ew?(0,u.jsxs)(o.Fragment,{children:[(ex||!e_||e_&&ek)&&(0,u.jsx)(ed,{CustomComponent:Y,Fallback:(0,u.jsx)(mH,{})}),(0,u.jsx)(ed,{CustomComponent:K,Fallback:(0,u.jsx)(mB,{})})]}):(0,u.jsx)(ed,{CustomComponent:Q,Fallback:(0,u.jsx)(mV,{})})}),eb&&A&&(0,u.jsx)(mT,{buttonId:"action-permanently-delete",collectionSlug:null==ee?void 0:ee.slug,id:x.toString(),onDelete:L,redirectAfterDelete:U,singularLabel:null==ee||null==(r=ee.labels)?void 0:r.singular}),E&&A&&(0,u.jsx)(mU,{buttonId:"action-restore",collectionSlug:null==ee?void 0:ee.slug,id:x.toString(),onRestore:M,redirectAfterRestore:H,singularLabel:null==ee||null==(c=ee.labels)?void 0:c.singular}),q&&z&&(0,u.jsx)(tS,{buttonStyle:"secondary",id:"take-over",onClick:I,size:"medium",type:"button",children:X("general:takeOver")})]}),ey&&!z&&(0,u.jsx)(ty,{button:(0,u.jsxs)("div",{className:"".concat(mK,"__dots"),children:[(0,u.jsx)("div",{}),(0,u.jsx)("div",{}),(0,u.jsx)("div",{})]}),className:"".concat(mK,"__popup"),disabled:ef||eh,horizontalAlign:"right",size:"large",verticalAlign:"bottom",children:(0,u.jsxs)(ts.ButtonGroup,{children:[eN&&(0,u.jsx)(ml,{}),ev&&(0,u.jsxs)(o.Fragment,{children:[!k&&(0,u.jsx)(o.Fragment,{children:$>1?(0,u.jsx)(ts.Button,{id:"action-create",onClick:O,children:G.t("general:createNew")}):(0,u.jsx)(ts.Button,{href:(0,v.Q)({adminRoute:ei,path:"/collections/".concat(null==ee?void 0:ee.slug,"/create")}),id:"action-create",children:G.t("general:createNew")})}),!0!==ee.disableDuplicate&&D&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(mS,{id:x,onDuplicate:F,redirectAfterDuplicate:V,singularLabel:null==ee||null==(p=ee.labels)?void 0:p.singular,slug:null==ee?void 0:ee.slug}),ea&&(0,u.jsx)(mS,{id:x,onDuplicate:F,redirectAfterDuplicate:V,selectLocales:!0,singularLabel:null==ee||null==(h=ee.labels)?void 0:h.singular,slug:null==ee?void 0:ee.slug})]})]}),eb&&(0,u.jsx)(mx,{buttonId:"action-delete",collectionSlug:null==ee?void 0:ee.slug,id:x.toString(),onDelete:L,redirectAfterDelete:U,singularLabel:null==ee||null==(m=ee.labels)?void 0:m.singular,useAsTitle:null==ee||null==(g=ee.admin)?void 0:g.useAsTitle}),N]})})]})]}),(0,u.jsx)("div",{className:"".concat(mK,"__divider")})]})},mY=RegExp("^<(?<name>[^\\s/>]+)[^>]*>$"),mG=RegExp("^<(?<isEnd>\\/)?(?<name>[^\\s>]+)[^>]*>$"),mX=/^<[^>]+>/,m$=/^<img[^>]*>$/,mZ=RegExp("^<video[^>]*>.*?<\\/video>$","ms"),mJ=class{computeBestMatchedBlock(e,t,n,l){let a=null;for(let o=e;o<t;o++){let e=Math.min(t-o,l-n),r=this.slideBestMatchedBlock(o,n,e);if(r&&(!a||r.size>a.size)&&(a=r,r.size>this.leastCommonLength))return a}for(let o=n;o<l;o++){let n=Math.min(t-e,l-o),r=this.slideBestMatchedBlock(e,o,n);if(r&&(!a||r.size>a.size)&&(a=r,r.size>this.leastCommonLength))break}return a}computeMatchedBlockList(e,t,n,l){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=this.computeBestMatchedBlock(e,t,n,l);return o?(e<o.oldStart&&n<o.newStart&&this.computeMatchedBlockList(e,o.oldStart,n,o.newStart,a),a.push(o),t>o.oldEnd&&l>o.newEnd&&this.computeMatchedBlockList(o.oldEnd,t,o.newEnd,l,a),a):[]}dressUpBlockTag(e,t){return"create"===e?'<div class="'.concat(this.config.classNames.createBlock,'">').concat(t,"</div>"):"delete"===e?'<div class="'.concat(this.config.classNames.deleteBlock,'">').concat(t,"</div>"):""}dressUpDiffContent(e,t){let n=t.length;if(!n)return"";let l="",a=0,o=-1;for(let n of t){var r;o++;let i=n.includes('data-enable-match="true"'),s=n.includes('data-enable-match="false"'),c=!!(null==(r=n.match(mX))?void 0:r.length);s?(a=o+1,l+=n):!i&&c?(o>a&&(l+=this.dressUpText(e,t.slice(a,o))),a=o+1,n.match(mZ)?l+=this.dressUpBlockTag(e,n):l+=n):i&&c&&(o>a&&(l+=this.dressUpText(e,t.slice(a,o))),a=o+1,l+=this.dressupMatchEnabledHtmlTag(e,n))}return a<n&&(l+=this.dressUpText(e,t.slice(a))),l}dressUpInlineTag(e,t){return"create"===e?'<span class="'.concat(this.config.classNames.createInline,'">').concat(t,"</span>"):"delete"===e?'<span class="'.concat(this.config.classNames.deleteInline,'">').concat(t,"</span>"):""}dressupMatchEnabledHtmlTag(e,t){var n,l;let a=null==(l=t.match(mY))||null==(n=l.groups)?void 0:n.name;if(!a)return t;let o=a.length+1;return"".concat(t.slice(0,o),' data-match-type="').concat("create"===e?"create":"delete",'"').concat(t.slice(o,t.length))}dressUpText(e,t){let n=t.join("");return n.trim()?"create"===e?'<span data-match-type="create">'.concat(n,"</span>"):"delete"===e?'<span data-match-type="delete">'.concat(n,"</span>"):"":""}getMatchedBlockList(){let e=this.oldTokens.length,t=this.newTokens.length,n=null,l=0;for(;l<e&&l<t&&this.oldTokens[l]===this.newTokens[l];)l++;l>=this.config.minMatchedSize&&(n={newEnd:l,newStart:0,oldEnd:l,oldStart:0,size:l});let a=null,o=e-1,r=t-1;for(;l<=o&&l<=r&&this.oldTokens[o]===this.newTokens[r];)o--,r--;let i=e-1-o;i>=this.config.minMatchedSize&&(a={newEnd:t,newStart:r+1,oldEnd:e,oldStart:o+1,size:i});let s=n?l:0,c=a?o+1:e,u=n?l:0,d=a?r+1:t;if(this.config.greedyMatch){let e=Math.min(c-s,d-u);e>this.config.greedyBoundary&&(this.leastCommonLength=Math.floor(e/3))}let p=this.computeMatchedBlockList(s,c,u,d);return n&&p.unshift(n),a&&p.push(a),p}getOperationList(){let e=[],t=0,n=0;for(let l of this.matchedBlockList){let a=t===l.oldStart,o=n===l.newStart,r={newEnd:l.newStart,newStart:n,oldEnd:l.oldStart,oldStart:t};a||o?a&&!o?e.push(Object.assign(r,{type:"create"})):!a&&o&&e.push(Object.assign(r,{type:"delete"})):e.push(Object.assign(r,{type:"replace"})),e.push({type:"equal",newEnd:l.newEnd,newStart:l.newStart,oldEnd:l.oldEnd,oldStart:l.oldStart}),t=l.oldEnd,n=l.newEnd}let l=this.oldTokens.length,a=this.newTokens.length,o={newEnd:a,newStart:n,oldEnd:l,oldStart:t},r=t===l,i=n===a;return r||i?r&&!i?e.push(Object.assign(o,{type:"create"})):!r&&i&&e.push(Object.assign(o,{type:"delete"})):e.push(Object.assign(o,{type:"replace"})),e}slideBestMatchedBlock(e,t,n){let l=0,a=null,o=0;for(let r=0;r<n;r++)this.oldTokens[e+r]===this.newTokens[t+r]?o++:o=0,o>l&&(l=o,a={newEnd:t+r+1,newStart:t+r-o+1,oldEnd:e+r+1,oldStart:e+r-o+1,size:o});return l>=this.config.minMatchedSize?a:null}tokenizeByCharacter(e){let t=[],n=0,l=RegExp("<picture[^>]*>.*?<\\/picture>|<video[^>]*>.*?<\\/video>|<[^>]+>","gs"),a;for(;null!==(a=l.exec(e));){let l=e.substring(n,a.index);if(l)for(let e of l)t.push(e);t.push(a[0]),n=a.index+a[0].length}for(let l of e.substring(n))t.push(l);return t}tokenizeByWord(e){return e.match(RegExp("<picture[^>]*>.*?<\\/picture>|<video[^>]*>.*?<\\/video>|<[^>]+>|\\w+\\b|\\s+|[^<>\\w]","gs"))||[]}getSideBySideContents(){if(void 0!==this.sideBySideContents)return this.sideBySideContents;let e="",t="",n=0;this.operationList.forEach(l=>{switch(l.type){case"create":t+=this.dressUpDiffContent("create",this.newTokens.slice(l.newStart,l.newEnd));break;case"delete":{let t=this.oldTokens.slice(l.oldStart,l.oldEnd);e+=this.dressUpDiffContent("delete",t);break}case"equal":{let i=this.newTokens.slice(l.newStart,l.newEnd),s="";for(let e of i){let t=e.match(mY);if(t){var a,o,r;n+=1;let l=(null!=(r=null==t||null==(o=t.groups)||null==(a=o.name)?void 0:a.length)?r:0)+1;s+="".concat(e.slice(0,l),' data-seq="').concat(n,'"').concat(e.slice(l))}else s+=e}e+=s,t+=s;break}case"replace":e+=this.dressUpDiffContent("delete",this.oldTokens.slice(l.oldStart,l.oldEnd)),t+=this.dressUpDiffContent("create",this.newTokens.slice(l.newStart,l.newEnd));break;default:console.error("Richtext diff error - invalid operation: "+String(l.type))}});let l=[e,t];return this.sideBySideContents=l,l}getUnifiedContent(){if(void 0!==this.unifiedContent)return this.unifiedContent;let e="";return this.operationList.forEach(t=>{switch(t.type){case"create":e+=this.dressUpDiffContent("create",this.newTokens.slice(t.newStart,t.newEnd));break;case"delete":e+=this.dressUpDiffContent("delete",this.oldTokens.slice(t.oldStart,t.oldEnd));break;case"equal":for(let n of this.newTokens.slice(t.newStart,t.newEnd))e+=n;break;case"replace":{var n,l,a,o,r,i;let s=this.oldTokens.slice(t.oldStart,t.oldEnd),c=this.newTokens.slice(t.newStart,t.newEnd);if(1===s.length&&1===c.length&&(null==(n=s[0])?void 0:n.match(mX))&&(null==(l=c[0])?void 0:l.match(mX))){e+=c[0];break}let u=[],d=[],p=t.newStart;for(let n=t.oldStart;n<t.oldEnd;n++){let l=this.oldTokens[n];if(!l)continue;let s=null==l?void 0:l.match(mG);if(s){if([m$,mZ].some(e=>null==l?void 0:l.match(e))){u.push(l);continue}e+=this.dressUpDiffContent("delete",u),u.splice(0);let n=!1;for(let l=p;l<t.newEnd;l++){let t=this.newTokens[l];if(!t)continue;let c=null==t?void 0:t.match(mG);if(c&&(null==(a=c.groups)?void 0:a.name)===(null==(o=s.groups)?void 0:o.name)&&(null==(r=c.groups)?void 0:r.isEnd)===(null==(i=s.groups)?void 0:i.isEnd)){n=!0,e+=this.dressUpDiffContent("create",d),e+=t,d.splice(0),p=l+1;break}d.push(t)}n||(e+=l,d.splice(0))}else u.push(l)}p<t.newEnd&&d.push(...this.newTokens.slice(p,t.newEnd)),e+=this.dressUpDiffContent("delete",u),e+=this.dressUpDiffContent("create",d);break}default:console.error("Richtext diff error - invalid operation: "+String(t.type))}}),this.unifiedContent=e,e}constructor(e,t,{classNames:n={createBlock:"html-diff-create-block-wrapper",createInline:"html-diff-create-inline-wrapper",deleteBlock:"html-diff-delete-block-wrapper",deleteInline:"html-diff-delete-inline-wrapper"},greedyBoundary:l=1e3,greedyMatch:a=!0,minMatchedSize:o=2,tokenizeByCharacter:r=!1}={}){if(this.leastCommonLength=1/0,this.matchedBlockList=[],this.newTokens=[],this.oldTokens=[],this.operationList=[],this.config={classNames:{createBlock:"html-diff-create-block-wrapper",createInline:"html-diff-create-inline-wrapper",deleteBlock:"html-diff-delete-block-wrapper",deleteInline:"html-diff-delete-inline-wrapper",...n},greedyBoundary:l,greedyMatch:a,minMatchedSize:o},(e=e.trim())===(t=t.trim())){this.unifiedContent=e;let t=0,n=e.replace(/<([^\s/>]+)[^>]*>/g,(e,n)=>{let l=n.length+1;return"".concat(e.slice(0,l),' data-seq="').concat(++t,'"').concat(e.slice(l))});this.sideBySideContents=[n,n];return}let i=r?this.tokenizeByCharacter:this.tokenizeByWord;this.oldTokens=i(e),this.newTokens=i(t),this.matchedBlockList=this.getMatchedBlockList(),this.operationList=this.getOperationList()}},m0="html-diff",m1=e=>{let{fromHTML:t,toHTML:n,tokenizeByCharacter:l}=e,[a,o]=new mJ(t,n,{tokenizeByCharacter:l}).getSideBySideContents();return{From:a?(0,u.jsx)("div",{className:"".concat(m0,"__diff-old html-diff"),dangerouslySetInnerHTML:{__html:a}}):null,To:o?(0,u.jsx)("div",{className:"".concat(m0,"__diff-new html-diff"),dangerouslySetInnerHTML:{__html:o}}):null}},m3=(0,o.createContext)(null),m2=e=>{let{children:t}=e,n=(0,o.useRef)(new Set);return(0,o.useEffect)(()=>{let e=e=>{n.current.forEach(t=>{let{handler:n,ref:l}=t;l.current&&!l.current.contains(e.target)&&n()})};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,u.jsx)(m3,{value:{register:e=>n.current.add(e),unregister:e=>n.current.delete(e)},children:t})},m6=()=>{let e=(0,o.use)(m3);if(!e)throw Error("useClickOutside must be used within a ClickOutsideProvider");return e};function m5(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],{register:l,unregister:a}=m6();(0,o.useEffect)(()=>{if(!n||!e.current)return;let o={handler:t,ref:e};return l(o),()=>a(o)},[e,t,n,l,a])}var m4=e=>{let t=(0,f.c)(7),{action:n,disabled:l}=e,{submit:a}=eE(),{t:o}=(0,s.d)(),r;t[0]!==n||t[1]!==a?(r=()=>{a({action:n,method:"PATCH",skipValidation:!0})},t[0]=n,t[1]=a,t[2]=r):r=t[2];let i=r,c;return t[3]!==l||t[4]!==i||t[5]!==o?(c=(0,u.jsx)(d2,{className:"".concat(ge,"__save"),disabled:l,onClick:i,children:o("general:save")}),t[3]=l,t[4]=i,t[5]=o,t[6]=c):c=t[6],c},m8=e=>{let t=(0,f.c)(7),{action:n,disabled:l}=e,{submit:a}=eE(),{t:o}=(0,s.d)(),r;t[0]!==n||t[1]!==a?(r=()=>{a({action:n,method:"PATCH",overrides:{_status:"published"},skipValidation:!0})},t[0]=n,t[1]=a,t[2]=r):r=t[2];let i=r,c;return t[3]!==l||t[4]!==i||t[5]!==o?(c=(0,u.jsx)(d2,{className:"".concat(ge,"__publish"),disabled:l,onClick:i,children:o("version:publishChanges")}),t[3]=l,t[4]=i,t[5]=o,t[6]=c):c=t[6],c},m7=e=>{let t=(0,f.c)(7),{action:n,disabled:l}=e,{submit:a}=eE(),{t:o}=(0,s.d)(),r;t[0]!==n||t[1]!==a?(r=()=>{a({action:n,method:"PATCH",overrides:{_status:"draft"},skipValidation:!0})},t[0]=n,t[1]=a,t[2]=r):r=t[2];let i=r,c;return t[3]!==l||t[4]!==i||t[5]!==o?(c=(0,u.jsx)(d2,{buttonStyle:"secondary",className:"".concat(ge,"__draft"),disabled:l,onClick:i,children:o("version:saveDraft")}),t[3]=l,t[4]=i,t[5]=o,t[6]=c):c=t[6],c},m9=e=>{var t,n;let{collection:l,collection:{fields:a,labels:{plural:r,singular:c}}={},count:p,drawerSlug:f,ids:m,onSuccess:g,selectAll:y,selectedFields:x,setSelectedFields:w,where:j}=e,{permissions:C,user:_}=lf(),{code:k}=lx(),{closeModal:N}=nj(),{config:{routes:{api:E}}}=(0,i.c)(),{getFormState:P}=ce(),{i18n:D,t:T}=(0,s.d)(),[A,R]=(0,o.useState)(!1),L=(0,h.useRouter)(),O=o.useRef(null),{clearRouteCache:F}=d3(),M=null==C||null==(t=C.collections)?void 0:t[l.slug],I=(0,h.useSearchParams)(),B=(0,o.useMemo)(()=>(0,U.s)(x.reduce((e,t)=>(e[t.value.path]=!0,e),{})),[x]),z=(0,o.useCallback)(async e=>{let{formState:t,submitted:n}=e,a=cx(O),{state:o}=await P({collectionSlug:l.slug,docPermissions:M,docPreferences:null,formState:t,operation:"update",schemaPath:l.slug,select:B,signal:a.signal,skipValidation:!n});return O.current=null,o},[P,l,M,B]);(0,o.useEffect)(()=>{let e=O.current;return()=>{cy(e)}},[]);let V=(0,o.useMemo)(()=>{var e;let t=[];j&&t.push(j);let n=(0,S.d)({collectionConfig:l,search:I.get("search")});return n&&t.push(n),y?t.push((null==(e=s2(I))?void 0:e.where)||{id:{not_equals:""}}):t.push({id:{in:m||[]}}),b.A({locale:k,select:{},where:(0,Y.h)(t)},{addQueryPrefix:!0})},[l,I,y,m,k,j]),H=(0,o.useCallback)(async e=>{let{dispatchFields:t,formState:n,selected:a}=e;R(!0),w(a||[]);let{state:o}=await P({collectionSlug:l.slug,docPermissions:M,docPreferences:null,formState:n,operation:"update",schemaPath:l.slug,select:(0,U.s)(a.reduce((e,t)=>(e[t.value.path]=!0,e),{})),skipValidation:!0});t({type:"UPDATE_MANY",formState:o}),R(!1)},[P,l.slug,M,w]);return(0,u.jsx)(a_,{collectionSlug:l.slug,currentEditor:_,hasPublishedDoc:!1,id:null,initialData:{},isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,versionCount:0,children:(0,u.jsx)(ak,{value:"update",children:(0,u.jsxs)("div",{className:"".concat(ge,"__main"),children:[(0,u.jsxs)("div",{className:"".concat(ge,"__header"),children:[(0,u.jsx)("h2",{className:"".concat(ge,"__header__title"),children:T("general:editingLabel",{count:p,label:(0,d.s)(p>1?r:c,D)})}),(0,u.jsx)("button",{"aria-label":T("general:close"),className:"".concat(ge,"__header__close"),id:"close-drawer__".concat(f),onClick:()=>N(f),type:"button",children:(0,u.jsx)(s.a,{})})]}),(0,u.jsxs)(u9,{className:"".concat(ge,"__form"),isInitializing:A,onChange:[z],onSuccess:()=>{L.replace(b.A({...s2(I),page:y?"1":void 0},{addQueryPrefix:!0})),F(),N(f),"function"==typeof g&&g()},children:[(0,u.jsx)(dF,{fields:a,onChange:H,permissions:M.fields}),0===x.length?null:(0,u.jsx)("div",{className:"render-fields",children:x.map((e,t)=>{let{value:{field:n,fieldPermissions:l,path:a}}=e;return(0,u.jsx)(hA,{clientFieldConfig:n,indexPath:"",parentPath:"",parentSchemaPath:"",path:a,permissions:l},"".concat(a,"-").concat(t))})}),(0,u.jsx)("div",{className:"".concat(ge,"__sidebar-wrap"),children:(0,u.jsx)("div",{className:"".concat(ge,"__sidebar"),children:(0,u.jsx)("div",{className:"".concat(ge,"__sidebar-sticky-wrap"),children:(0,u.jsx)("div",{className:"".concat(ge,"__document-actions"),children:(null==l||null==(n=l.versions)?void 0:n.drafts)?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(m7,{action:(0,v.Q)({apiRoute:E,path:"/".concat(l.slug).concat(V,"&draft=true")}),disabled:0===x.length}),(0,u.jsx)(m8,{action:(0,v.Q)({apiRoute:E,path:"/".concat(l.slug).concat(V,"&draft=true")}),disabled:0===x.length})]}):(0,u.jsx)(m4,{action:(0,v.Q)({apiRoute:E,path:"/".concat(l.slug).concat(V)}),disabled:0===x.length})})})})})]})]})})})},ge="edit-many",gt=e=>{let t=(0,f.c)(8),{count:n,selectAll:l,selectedIDs:a,toggleAll:o}=mc(),r;t[0]!==o?(r=()=>o(),t[0]=o,t[1]=r):r=t[1];let i=l===mo.AllAvailable,s;return t[2]!==n||t[3]!==e||t[4]!==a||t[5]!==r||t[6]!==i?(s=(0,u.jsx)(gn,{...e,count:n,ids:a,onSuccess:r,selectAll:i}),t[2]=n,t[3]=e,t[4]=a,t[5]=r,t[6]=i,t[7]=s):s=t[7],s},gn=e=>{var t;let n,l,a=(0,f.c)(16),{collection:r,count:i,ids:c,modalPrefix:d,onSuccess:p,selectAll:h,where:m}=e,{permissions:g}=lf(),{openModal:v}=nj(),{t:b}=(0,s.d)(),y;a[0]===Symbol.for("react.memo_cache_sentinel")?(y=[],a[0]=y):y=a[0];let[x,w]=(0,o.useState)(y),j=null==g||null==(t=g.collections)?void 0:t[r.slug],C="".concat(d?"".concat(d,"-"):"","edit-").concat(r.slug);if(0===i||!(null==j?void 0:j.update))return null;if(a[1]===Symbol.for("react.memo_cache_sentinel")?(n=[ge,"".concat(ge,"__toggle")].filter(Boolean),a[1]=n):n=a[1],a[2]!==r||a[3]!==i||a[4]!==C||a[5]!==c||a[6]!==p||a[7]!==v||a[8]!==h||a[9]!==x||a[10]!==b||a[11]!==m){let e;a[13]!==C||a[14]!==v?(e=()=>{v(C),w([])},a[13]=C,a[14]=v,a[15]=e):e=a[15],l=(0,u.jsxs)("div",{className:n.join(" "),children:[(0,u.jsx)(mp,{"aria-label":b("general:edit"),onClick:e,children:b("general:edit")}),(0,u.jsx)(nt,{children:(0,u.jsx)(ll,{Header:null,slug:C,children:(0,u.jsx)(m9,{collection:r,count:i,drawerSlug:C,ids:c,onSuccess:p,selectAll:h,selectedFields:x,setSelectedFields:w,where:m})})})]}),a[2]=r,a[3]=i,a[4]=C,a[5]=c,a[6]=p,a[7]=v,a[8]=h,a[9]=x,a[10]=b,a[11]=m,a[12]=l}else l=a[12];return l};function gl(e){let t=(0,f.c)(3),n=nn(),l;return t[0]!==n||t[1]!==e?(l=(0,u.jsx)(nI,{closeOnBlur:!1,...e,style:{...e.style||{},zIndex:"calc(100 + ".concat(n||0," + 1)")}}),t[0]=n,t[1]=e,t[2]=l):l=t[2],l}function ga(e){let t,n=(0,f.c)(12),{highlightField:l,setKey:a}=e,{id:r}=aC(),{toggleModal:i}=nj(),{t:c}=(0,s.d)(),d="generate-confirmation-".concat(r),p;n[0]!==l||n[1]!==a||n[2]!==c?(p=()=>{a(),eZ.success(c("authentication:newAPIKeyGenerated")),l(!0)},n[0]=l,n[1]=a,n[2]=c,n[3]=p):p=n[3];let h=p,m;return n[4]!==d||n[5]!==i?(m=()=>{i(d)},n[4]=d,n[5]=i,n[6]=m):m=n[6],n[7]!==h||n[8]!==d||n[9]!==c||n[10]!==m?(t=(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(tS,{buttonStyle:"secondary",onClick:m,size:"small",children:c("authentication:generateNewAPIKey")}),(0,u.jsx)(ls,{body:(0,u.jsx)(pn,{elements:{1:go},i18nKey:"authentication:generatingNewAPIKeyWillInvalidate",t:c}),confirmLabel:c("authentication:generate"),heading:c("authentication:confirmGeneration"),modalSlug:d,onConfirm:h})]}),n[7]=h,n[8]=d,n[9]=c,n[10]=m,n[11]=t):t=n[11],t}function go(e){let{children:t}=e;return(0,u.jsx)("strong",{children:t})}function gr(e){let t=(0,f.c)(4),{permissions:n}=e,{setPermissions:l}=lf(),a,r;return t[0]!==n||t[1]!==l?(a=()=>{l(n)},r=[n,l],t[0]=n,t[1]=l,t[2]=a,t[3]=r):(a=t[2],r=t[3]),(0,o.useEffect)(a,r),null}var gi="dots",gs=e=>{let{ariaLabel:t,className:n,noBackground:l,orientation:a="vertical"}=e;return(0,u.jsxs)("div",{"aria-label":t,className:[n,gi,l&&"".concat(gi,"--no-background"),a&&"".concat(gi,"--").concat(a)].filter(Boolean).join(" "),children:[(0,u.jsx)("div",{}),(0,u.jsx)("div",{}),(0,u.jsx)("div",{})]})},gc="group-by-builder",gu=["text","textarea","number","select","relationship","date","checkbox","radio","email","number","upload"],gd=e=>{var t,n,l;let{collectionSlug:a,fields:r}=e,{i18n:i,t:c}=(0,s.d)(),{permissions:d}=lf(),p=null==d||null==(n=d.collections)||null==(t=n[a])?void 0:t.fields,h=(0,o.useMemo)(()=>fg({fieldPermissions:p,fields:r,i18n:i}),[r,p,i]),{query:f,refineListData:m}=s5(),g=null==(l=f.groupBy)?void 0:l.replace(/^-/,""),v=h.find(e=>e.value===g);return(0,u.jsxs)("div",{className:gc,children:[(0,u.jsxs)("div",{className:"".concat(gc,"__header"),children:[(0,u.jsx)("p",{children:c("general:groupByLabel",{label:""})}),f.groupBy&&(0,u.jsx)("button",{className:"".concat(gc,"__clear-button"),id:"group-by--reset",onClick:async()=>{await m({groupBy:""})},type:"button",children:c("general:clear")})]}),(0,u.jsxs)("div",{className:"".concat(gc,"__inputs"),children:[(0,u.jsx)(sI,{filterOption:(e,t)=>{var n;return((null==e||null==(n=e.data)?void 0:n.plainTextLabel)||e.label).toLowerCase().includes(t.toLowerCase())},id:"group-by--field-select",isClearable:!0,isMulti:!1,onChange:async e=>{var t;let n=null===e?void 0:e.value;null===e&&await m({groupBy:"",page:1}),await m({groupBy:n?(null==(t=f.groupBy)?void 0:t.startsWith("-"))?"-".concat(n):n:void 0,page:1})},options:h.filter(e=>!e.field.admin.disableGroupBy&&"id"!==e.value&&gu.includes(e.field.type)),value:{label:(null==v?void 0:v.label)||c("general:selectValue"),value:g||""}}),(0,u.jsx)(uW,{id:"group-by--sort",isClearable:!1,name:"direction",onChange:async e=>{let{value:t}=e;g&&await m({groupBy:"asc"===t?g:"-".concat(g),page:1})},options:[{label:c("general:ascending"),value:"asc"},{label:c("general:descending"),value:"desc"}],path:"direction",readOnly:!g,value:f.groupBy?"string"==typeof f.groupBy?"".concat(f.groupBy.startsWith("-")?"desc":"asc"):"":"asc"})]})]})},gp=e=>{let{className:t}=e;return(0,u.jsx)("svg",{className:["icon","icon--people",t].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M14 16C14 14.5855 13.4381 13.229 12.4379 12.2288C11.4377 11.2286 10.0812 10.6667 8.66668 10.6667M8.66668 10.6667C7.25219 10.6667 5.89563 11.2286 4.89544 12.2288C3.89525 13.229 3.33334 14.5855 3.33334 16M8.66668 10.6667C10.5076 10.6667 12 9.17428 12 7.33333C12 5.49238 10.5076 4 8.66668 4C6.82573 4 5.33334 5.49238 5.33334 7.33333C5.33334 9.17428 6.82573 10.6667 8.66668 10.6667ZM16.6667 15.3333C16.6667 13.0867 15.3333 11 14 10C14.4383 9.67118 14.7888 9.23939 15.0204 8.74285C15.252 8.2463 15.3577 7.70031 15.328 7.1532C15.2984 6.60609 15.1343 6.07472 14.8503 5.60613C14.5664 5.13754 14.1713 4.74617 13.7 4.46667",strokeLinecap:"round",strokeLinejoin:"round"})})},gh="active-query-preset";function gf(e){let t=(0,f.c)(11),{activePreset:n,openPresetListDrawer:l,resetPreset:a}=e,{i18n:o,t:r}=(0,s.d)(),{getEntityConfig:c}=(0,i.c)(),p;if(t[0]!==n||t[1]!==c||t[2]!==o||t[3]!==l||t[4]!==a||t[5]!==r){let e,i=c({collectionSlug:"payload-query-presets"}),h=n&&"".concat(gh,"--active"),f;t[7]!==h?(f=[gh,h].filter(Boolean),t[7]=h,t[8]=f):f=t[8],t[9]!==l?(e=()=>{l()},t[9]=l,t[10]=e):e=t[10],p=(0,u.jsx)(a4,{className:f.join(" "),id:"select-preset",onClick:e,pillStyle:"light",size:"small",children:(0,u.jsxs)("div",{className:"".concat(gh,"__label"),children:[(null==n?void 0:n.isShared)&&(0,u.jsx)(gp,{className:"".concat(gh,"__shared")}),(0,u.jsx)("div",{className:"".concat(gh,"__label-text-max-width"),children:(0,u.jsx)("div",{className:"".concat(gh,"__label-text"),children:(null==n?void 0:n.title)||r("general:selectLabel",{label:(0,d.s)(i.labels.singular,o)})})}),n?(0,u.jsx)("div",{className:"".concat(gh,"__clear"),id:"clear-preset",onClick:async e=>{e.stopPropagation(),await a()},onKeyDown:async e=>{("Enter"===e.key||" "===e.key)&&(e.stopPropagation(),await a())},role:"button",tabIndex:0,children:(0,u.jsx)(s.a,{})}):null]})}),t[0]=n,t[1]=c,t[2]=o,t[3]=l,t[4]=a,t[5]=r,t[6]=p}else p=t[6];return p}var gm="confirm-delete-preset",gg="payload-query-presets",gv="query-preset-bar",gb=e=>{var t,n,l,a,r;let{activePreset:c,collectionSlug:p,queryPresetPermissions:h}=e,{modified:f,query:m,refineListData:g,setModified:b}=s5(),{i18n:y,t:x}=(0,s.d)(),{openModal:w}=nj(),{config:{routes:{api:j},serverURL:C},getEntityConfig:S}=(0,i.c)(),k=S({collectionSlug:gg}),[N,,{openDrawer:E}]=cE({id:null==c?void 0:c.id,collectionSlug:gg}),[P,,{closeDrawer:D,openDrawer:T}]=cE({collectionSlug:gg}),[A,,{closeDrawer:R,openDrawer:L}]=ub({collectionSlugs:[gg],filterOptions:(0,o.useMemo)(()=>({"payload-query-presets":{isTemp:{not_equals:!0},relatedCollection:{equals:p}}}),[p]),selectedCollection:gg}),O=(0,o.useCallback)(async e=>{await g({columns:e.columns?(0,_.F)(e.columns):void 0,groupBy:e.groupBy||"",preset:e.id,where:e.where},!1)},[g]),F=(0,o.useCallback)(async()=>{await g({columns:[],groupBy:"",preset:"",where:{}},!1)},[g]),M=(0,o.useCallback)(async()=>{try{await fetch((0,v.Q)({apiRoute:j,path:"/".concat(gg,"/").concat(c.id)}),{method:"DELETE"}).then(async e=>{try{var t;let n=await e.json();e.status<400?(eZ.success(x("general:titleDeleted",{label:(0,d.s)(null==k||null==(t=k.labels)?void 0:t.singular,y),title:c.title})),await F()):n.errors?n.errors.forEach(e=>eZ.error(e.message)):eZ.error(x("error:deletingTitle",{title:c.title}))}catch(e){eZ.error(x("error:deletingTitle",{title:c.title}))}})}catch(e){eZ.error(x("error:deletingTitle",{title:c.title}))}},[j,null==c?void 0:c.id,null==c?void 0:c.title,x,k,y,F]),I=(0,o.useCallback)(async()=>{try{await fetch((0,v.Q)({apiRoute:j,path:"/".concat(gg,"/").concat(c.id)}),{body:JSON.stringify({columns:(0,_.l)(m.columns),groupBy:m.groupBy,where:m.where}),credentials:"include",headers:{"Content-Type":"application/json"},method:"PATCH"}).then(async e=>{try{var t;let n=await e.json();e.status<400?(eZ.success(x("general:updatedLabelSuccessfully",{label:(0,d.s)(null==k||null==(t=k.labels)?void 0:t.singular,y)})),b(!1)):n.errors?n.errors.forEach(e=>eZ.error(e.message)):eZ.error(x("error:unknown"))}catch(e){eZ.error(x("error:unknown"))}})}catch(e){eZ.error(x("error:unknown"))}},[j,null==c?void 0:c.id,m.columns,m.groupBy,m.where,x,null==k||null==(t=k.labels)?void 0:t.singular,y,b]),B=c&&f;return(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("div",{className:gv,children:[(0,u.jsxs)("div",{className:"".concat(gv,"__menu"),children:[(0,u.jsx)(gf,{activePreset:c,openPresetListDrawer:L,resetPreset:F}),(0,u.jsx)(a4,{"aria-label":x("general:newLabel",{label:null==k||null==(n=k.labels)?void 0:n.singular}),className:"".concat(gv,"__create-new-preset"),icon:(0,u.jsx)(tr,{}),id:"create-new-preset",onClick:()=>{T()},size:"small"})]}),(0,u.jsxs)("div",{className:"".concat(gv,"__menu-items"),children:[B&&(0,u.jsx)(mp,{id:"reset-preset",onClick:async()=>{await g({columns:(0,_.F)(c.columns),groupBy:c.groupBy||"",where:c.where},!1)},type:"button",children:x("general:reset")},"reset"),B&&h.update&&(0,u.jsx)(mp,{id:"save-preset",onClick:async()=>{await I()},type:"button",children:(null==c?void 0:c.isShared)?x("general:updateForEveryone"):x("fields:saveChanges")},"save"),c&&(null==h?void 0:h.delete)&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(mp,{id:"delete-preset",onClick:()=>w(gm),type:"button",children:x("general:deleteLabel",{label:null==k||null==(l=k.labels)?void 0:l.singular})}),(0,u.jsx)(mp,{id:"edit-preset",onClick:()=>{E()},type:"button",children:x("general:editLabel",{label:null==k||null==(a=k.labels)?void 0:a.singular})})]})]})]}),(0,u.jsx)(P,{initialData:{columns:(0,_.l)(m.columns),groupBy:m.groupBy,relatedCollection:p,where:m.where},onSave:async e=>{let{doc:t}=e;D(),await O(t)},redirectAfterCreate:!1}),(0,u.jsx)(ls,{body:(0,u.jsx)(pn,{elements:{1:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})}},i18nKey:"general:aboutToDelete",t:x,variables:{label:null==k||null==(r=k.labels)?void 0:r.singular,title:null==c?void 0:c.title}}),confirmingLabel:x("general:deleting"),heading:x("general:confirmDeletion"),modalSlug:gm,onConfirm:M}),(0,u.jsx)(N,{onDelete:()=>{},onDuplicate:async e=>{let{doc:t}=e;await O(t)},onSave:async e=>{let{doc:t}=e;await O(t)}}),(0,u.jsx)(A,{allowCreate:!1,disableQueryPresets:!0,onSelect:async e=>{let{doc:t}=e;R(),await O(t)}})]})},gy="search-filter";function gx(e){let{handleChange:t,initialParams:n,label:l,searchQueryParam:a}=e,r=(null==n?void 0:n.search)||a,[i,s]=(0,o.useState)("string"==typeof r?r:void 0),c=(0,o.useRef)(!0),d=(0,o.useRef)("string"==typeof r?r:void 0),p=cP(i,300);return(0,o.useEffect)(()=>(r!==d.current&&(c.current=!1,s(r),d.current=r),()=>{c.current=!0,d.current=void 0}),[r]),(0,o.useEffect)(()=>{p!==d.current&&c.current&&(t&&t(p),d.current=p)},[p,t]),(0,u.jsx)("div",{className:gy,children:(0,u.jsx)("input",{"aria-label":l,className:"".concat(gy,"__input"),id:"search-filter-input",onChange:e=>{c.current=!0,s(e.target.value)},placeholder:l,type:"text",value:i||""})})}var gw="search-bar";function gj(e){let{Actions:t,className:n,label:l="Search...",onSearchChange:a,searchQueryParam:o}=e;return(0,u.jsxs)("div",{className:[gw,n].filter(Boolean).join(" "),children:[(0,u.jsx)(oi,{}),(0,u.jsx)(gx,{handleChange:a,label:l,searchQueryParam:o}),t&&t.length>0?(0,u.jsx)("div",{className:"".concat(gw,"__actions"),children:t}):null]})}var gC=e=>{let{disabled:t,field:n,onChange:l,value:a}=e,{admin:o}=n,{date:r}=o||{},{i18n:i,t:c}=(0,s.d)();return(0,u.jsx)("div",{className:"condition-value-date",children:(0,u.jsx)(oP,{...r,onChange:l,placeholder:(0,d.s)(o.placeholder,i)||c("general:enterAValue"),readOnly:t,value:a})})},gS=e=>{let t,n=(0,f.c)(20),{disabled:l,field:a,onChange:r,operator:i,value:c}=e,{admin:p,hasMany:h}=a,{i18n:m,t:g}=(0,s.d)(),v;n[0]!==h||n[1]!==i?(v=["in","not_in"].includes(i)||h,n[0]=h,n[1]=i,n[2]=v):v=n[2];let b=v,y;n[3]===Symbol.for("react.memo_cache_sentinel")?(y=[],n[3]=y):y=n[3];let[x,w]=o.useState(y),j;n[4]!==b||n[5]!==r?(j=e=>{var t;let n;e?b&&(n=Array.isArray(e)?e.map(g_):[Number((null==(t=e.value)?void 0:t.value)||e.value)]):n=[],r(n)},n[4]=b,n[5]=r,n[6]=j):j=n[6];let C=j,S,_;if(n[7]!==c?(S=()=>{Array.isArray(c)?w(c.map(gk)):w([])},_=[c],n[7]=c,n[8]=S,n[9]=_):(S=n[8],_=n[9]),o.useEffect(S,_),n[10]!==(null==p?void 0:p.placeholder)||n[11]!==l||n[12]!==m||n[13]!==b||n[14]!==r||n[15]!==C||n[16]!==g||n[17]!==c||n[18]!==x){let e=(0,d.s)(null==p?void 0:p.placeholder,m)||g("general:enterAValue");t=b?(0,u.jsx)(sI,{disabled:l,isClearable:!0,isCreatable:!0,isMulti:b,isSortable:!0,numberOnly:!0,onChange:C,options:[],placeholder:e,value:x||[]}):(0,u.jsx)("input",{className:"condition-value-number",disabled:l,onChange:e=>r(e.target.value),placeholder:e,type:"number",value:c}),n[10]=null==p?void 0:p.placeholder,n[11]=l,n[12]=m,n[13]=b,n[14]=r,n[15]=C,n[16]=g,n[17]=c,n[18]=x,n[19]=t}else t=n[19];return t};function g_(e){var t;return Number((null==(t=e.value)?void 0:t.value)||e.value)}function gk(e,t){return{id:"".concat(e).concat(t),label:"".concat(e),value:{toString:()=>"".concat(e).concat(t),value:(null==e?void 0:e.value)||e}}}var gN=e=>e.reduce((e,t)=>t.options?[...e,...gN(t.options)]:[...e,t.id],[]),gE=(e,t)=>{switch(t.type){case"ADD":{let{collection:n,data:l,hasMultipleRelations:a,i18n:o,relation:r}=t,i=n.admin.useAsTitle||"id",s=gN(e);if(!a)return[...e,...l.docs.reduce((e,t)=>-1===s.indexOf(t.id)?(s.push(t.id),[...e,{label:t[i],value:t.id}]):e,[])];let c=[...e],u=c.find(e=>e.label===(0,d.s)(n.labels.plural,o)),p=l.docs.reduce((e,t)=>-1===s.indexOf(t.id)?(s.push(t.id),[...e,{label:t[i],relationTo:r,value:t.id}]):e,[]);return u?u.options=[...u.options,...p]:c.push({label:(0,d.s)(n.labels.plural,o),options:p,value:void 0}),c}case"CLEAR":return t.required?[]:[{label:t.i18n.t("general:none"),value:"null"}];default:return e}},gP="condition-value-relationship",gD=e=>{let{disabled:t,field:{admin:n={},hasMany:l,relationTo:a},filterOptions:r,onChange:c,value:d}=e,p="placeholder"in n?null==n?void 0:n.placeholder:void 0,h=null==n?void 0:n.isSortable,{config:{routes:{api:f}},getEntityConfig:m}=(0,i.c)(),g=Array.isArray(a),[y,x]=(0,o.useReducer)(gE,[]),[w,j]=(0,o.useState)(""),C=cP(w,300),[S,_]=(0,o.useState)(""),[k,N]=(0,o.useState)(!1),{i18n:E,t:P}=(0,s.d)(),D=lx(),T=g?a:[a],A=o.useRef(new Map(T.map(e=>[e,{hasLoadedAll:!1,nextPage:1}]))),R=(0,o.useCallback)((e,t)=>{x({type:"ADD",collection:m({collectionSlug:t}),data:e,hasMultipleRelations:g,i18n:E,relation:t})},[g,E,m]),L=tf(async e=>{let{abortController:t,relationSlug:n}=e,l=A.current.get(n);if(n&&!l.hasLoadedAll){var a,o;let e=(null==(o=m({collectionSlug:n}))||null==(a=o.admin)?void 0:a.useAsTitle)||"id",i={depth:0,limit:10,locale:D.code,page:l.nextPage,select:{[e]:!0},where:{and:[]}};r&&(null==r?void 0:r[n])&&i.where.and.push(r[n]),C&&i.where.and.push({[e]:{like:C}});try{let e=await fetch((0,v.Q)({apiRoute:f,path:"/".concat(n).concat(b.A(i,{addQueryPrefix:!0}))}),{credentials:"include",headers:{"Accept-Language":E.language},signal:t.signal});if(e.ok){let t=await e.json();t.docs.length>0&&(R(t,n),t.nextPage?A.current.set(n,{hasLoadedAll:!1,nextPage:t.nextPage}):A.current.set(n,{hasLoadedAll:!0,nextPage:null}))}else _(P("error:unspecific"))}catch(e){t.signal.aborted||console.error(e)}}N(!0)}),O=o.useCallback(()=>{let e=A.current.entries().next().value;e[0]&&!e[1].hasLoadedAll&&L({abortController:new AbortController,relationSlug:e[0]})},[]),F=(0,o.useCallback)(()=>{if(d){if(l)return Array.isArray(d)?d.map(e=>{if(g){let t;return y.forEach(n=>{n.options&&n.options.some(n=>(null==n?void 0:n.value)==e.value&&(t=n,!0))}),t}return y.find(t=>t.value==e)}):void 0;if(g){let e;return y.forEach(t=>{(null==t?void 0:t.options)&&t.options.some(t=>(null==t?void 0:t.value)==d.value&&(e=t,!0))}),e}return y.find(e=>e.value==d)}},[l,g,d,y]),M=(0,o.useCallback)(e=>{e!==w&&(x({type:"CLEAR",i18n:E,required:!1}),A.current=new Map((Array.isArray(a)?a:[a]).map(e=>[e,{hasLoadedAll:!1,nextPage:1}])),j(e))},[E,a,w]),I=(0,o.useCallback)(async(e,t)=>{if(!S&&"null"!==e&&e&&t){let n=await fetch((0,v.Q)({apiRoute:f,path:"/".concat(t,"/").concat(e,"?depth=0")}),{credentials:"include",headers:{"Accept-Language":E.language}});n.ok?R({docs:[await n.json()]},t):console.error(P("error:loadingDocument",{id:e}))}},[E,R,f,S,P]);(0,o.useEffect)(()=>{let e=Array.isArray(a)?a:[a];A.current=new Map(e.map(e=>[e,{hasLoadedAll:!1,nextPage:1}])),x({type:"CLEAR",i18n:E,required:!1}),N(!1);let t=[];return e.forEach(e=>{let n=new AbortController;L({abortController:n,relationSlug:e}),t.push(n)}),()=>{t.forEach(e=>{if(e.signal)try{e.abort()}catch(e){}})}},[E,a,C,r]),(0,o.useEffect)(()=>{d&&k&&(l?(F()||[]).forEach((e,t)=>{e||(g?I(d[t].value,d[t].relationTo):I(d[t],a))}):F()||(g?I(d.value,d.relationTo):I(d,a)))},[I,F,l,g,a,d,k]);let B=["field-type",gP,S&&"error-loading"].filter(Boolean).join(" "),z=F()||d;return(0,u.jsx)("div",{className:B,children:S?(0,u.jsx)("div",{className:"".concat(gP,"__error-loading"),children:S}):(0,u.jsx)(sI,{disabled:t,isMulti:l,isSortable:h,onChange:e=>{if(!e)return void c(null);l&&Array.isArray(e)?c(e?e.map(e=>g?{relationTo:null==e?void 0:e.relationTo,value:null==e?void 0:e.value}:null==e?void 0:e.value):null):g&&!Array.isArray(e)?c({relationTo:null==e?void 0:e.relationTo,value:null==e?void 0:e.value}):Array.isArray(e)||c(null==e?void 0:e.value)},onInputChange:M,onMenuScrollToBottom:O,options:y,placeholder:p,value:z})})},gT=e=>{let t,n,l,a,r=(0,f.c)(21),{disabled:i,field:c,isClearable:p,onChange:h,operator:m,options:g,value:v}=e,{admin:b}=c,{placeholder:y}=b,{i18n:x}=(0,s.d)(),w;r[0]!==g?(w=sB(g),r[0]=g,r[1]=w):w=r[1];let[j,C]=o.useState(w),S;r[2]===Symbol.for("react.memo_cache_sentinel")?(S=["in","not_in"],r[2]=S):S=r[2];let _=S.includes(m),k;if(_&&Array.isArray(v)){let e;r[3]!==x||r[4]!==j?(e=e=>{var t;let n=j.find(t=>t.value===e);return{label:n?(0,d.s)(n.label,x):e,value:null!=(t=null==n?void 0:n.value)?t:e}},r[3]=x,r[4]=j,r[5]=e):e=r[5],k=v.map(e)}else if(v){var N;let e;r[6]!==v?(e=e=>e.value===v,r[6]=v,r[7]=e):e=r[7];let t=j.find(e);k={label:t?(0,d.s)(t.label,x):v,value:null!=(N=null==t?void 0:t.value)?N:v}}r[8]!==_||r[9]!==h?(t=e=>{h(e?_?Array.isArray(e)?e.map(gA):[]:e.value:null)},r[8]=_,r[9]=h,r[10]=t):t=r[10];let E=t,P,D;return r[11]!==g?(P=()=>{C(sB(g))},D=[g],r[11]=g,r[12]=P,r[13]=D):(P=r[12],D=r[13]),o.useEffect(P,D),r[14]!==_||r[15]!==h||r[16]!==v?(n=()=>{!_&&Array.isArray(v)&&h(v[0])},l=[_,h,v],r[14]=_,r[15]=h,r[16]=v,r[17]=n,r[18]=l):(n=r[17],l=r[18]),o.useEffect(n,l),r[19]!==x?(a=e=>({...e,label:(0,d.s)(e.label,x)}),r[19]=x,r[20]=a):a=r[20],(0,u.jsx)(sI,{disabled:i,isClearable:p,isMulti:_,onChange:E,options:j.map(a),placeholder:y,value:k})};function gA(e){return e.value}var gR=e=>{let t,n=(0,f.c)(18),{disabled:l,field:a,onChange:r,operator:i,value:c}=e,{hasMany:d}=a,{t:p}=(0,s.d)(),h;n[0]!==d||n[1]!==i?(h=["in","not_in"].includes(i)||d,n[0]=d,n[1]=i,n[2]=h):h=n[2];let m=h,g;n[3]===Symbol.for("react.memo_cache_sentinel")?(g=[],n[3]=g):g=n[3];let[v,b]=o.useState(g),y;n[4]!==m||n[5]!==r?(y=e=>{var t;let n;e?m&&(n=Array.isArray(e)?e.map(gL):[(null==(t=e.value)?void 0:t.value)||e.value]):n=[],r(n)},n[4]=m,n[5]=r,n[6]=y):y=n[6];let x=y,w,j;return n[7]!==c?(w=()=>{Array.isArray(c)?b(c.map(gO)):b([])},j=[c],n[7]=c,n[8]=w,n[9]=j):(w=n[8],j=n[9]),o.useEffect(w,j),n[10]!==l||n[11]!==m||n[12]!==r||n[13]!==x||n[14]!==p||n[15]!==c||n[16]!==v?(t=m?(0,u.jsx)(sI,{disabled:l,isClearable:!0,isCreatable:!0,isMulti:m,isSortable:!0,onChange:x,options:[],placeholder:p("general:enterAValue"),value:v||[]}):(0,u.jsx)("input",{className:"condition-value-text",disabled:l,onChange:e=>r(e.target.value),placeholder:p("general:enterAValue"),type:"text",value:c||""}),n[10]=l,n[11]=m,n[12]=r,n[13]=x,n[14]=p,n[15]=c,n[16]=v,n[17]=t):t=n[17],t};function gL(e){var t;return(null==(t=e.value)?void 0:t.value)||e.value}function gO(e,t){return{id:"".concat(e).concat(t),label:"".concat(e),value:{toString:()=>"".concat(e).concat(t),value:(null==e?void 0:e.value)||e}}}var gF=e=>{var t,n;let{booleanSelect:l,disabled:a,filterOptions:o,internalField:r,onChange:i,operator:s,options:c,value:d}=e;if(l||["radio","select"].includes(null==r||null==(t=r.field)?void 0:t.type))return(0,u.jsx)(gT,{disabled:a,field:r.field,isClearable:!l,onChange:i,operator:s,options:c,value:d});switch(null==r||null==(n=r.field)?void 0:n.type){case"date":return(0,u.jsx)(gC,{disabled:a,field:r.field,onChange:i,operator:s,value:d});case"number":return(0,u.jsx)(gS,{disabled:a,field:r.field,onChange:i,operator:s,value:d});case"relationship":case"upload":return(0,u.jsx)(gD,{disabled:a,field:r.field,filterOptions:o,onChange:i,operator:s,value:d});default:return(0,u.jsx)(gR,{disabled:a,field:null==r?void 0:r.field,onChange:i,operator:s,value:d})}},gM="condition",gI=e=>{var t,n,l,a,r;let{addCondition:i,andIndex:c,fieldPath:d,filterOptions:p,operator:h,orIndex:f,reducedFields:m,removeCondition:g,RenderedFilter:v,updateCondition:b,value:y}=e,{t:x}=(0,s.d)(),w=m.find(e=>e.value===d),[j,C]=(0,o.useState)(y),S=cP(j,300),_=["exists"].includes(h)||(null==w||null==(t=w.field)?void 0:t.type)==="checkbox",k=[];_?k=[{label:x("general:true"),value:"true"},{label:x("general:false"),value:"false"}]:(null==w?void 0:w.field)&&"options"in w.field&&(k=w.field.options);let N=tf(async e=>{h&&await b({type:"value",andIndex:c,field:w,operator:h,orIndex:f,value:null===e||""===e?void 0:e})});(0,o.useEffect)(()=>{N(S)},[S]);let E=!(null==w?void 0:w.value)&&"number"!=typeof(null==w?void 0:w.value)||(null==w||null==(l=w.field)||null==(n=l.admin)?void 0:n.disableListFilter),P=(0,o.useCallback)(async e=>{C(void 0),await b({type:"field",andIndex:c,field:m.find(t=>t.value===e.value),operator:h,orIndex:f,value:void 0})},[c,h,f,m,b]),D=(0,o.useCallback)(async e=>{let t=(e=>({all:"any",contains:"string",equals:"any",exists:"boolean",greater_than:"date"===e?"object":"string",greater_than_equal:"date"===e?"object":"string",in:"any",intersects:"any",less_than:"date"===e?"object":"string",less_than_equal:"date"===e?"object":"string",like:"string",near:"any",not_equals:"any",not_in:"any",not_like:"string",within:"any"}))(w.field.type)[e.value]||"any",n="any"===t||typeof y===t||"boolean"===t&&("true"===y||"false"===y);n||C(void 0),await b({type:"operator",andIndex:c,field:w,operator:e.value,orIndex:f,value:n?y:void 0})},[c,w,f,b,y]);return(0,u.jsx)("div",{className:gM,children:(0,u.jsxs)("div",{className:"".concat(gM,"__wrap"),children:[(0,u.jsxs)("div",{className:"".concat(gM,"__inputs"),children:[(0,u.jsx)("div",{className:"".concat(gM,"__field"),children:(0,u.jsx)(sI,{disabled:E,filterOption:(e,t)=>{var n;return((null==e||null==(n=e.data)?void 0:n.plainTextLabel)||e.label).toLowerCase().includes(t.toLowerCase())},isClearable:!1,onChange:P,options:m.filter(e=>!e.field.admin.disableListFilter),value:w||{value:null==w?void 0:w.value}})}),(0,u.jsx)("div",{className:"".concat(gM,"__operator"),children:(0,u.jsx)(sI,{disabled:E,isClearable:!1,onChange:D,options:null==w?void 0:w.operators,value:(null==w?void 0:w.operators.find(e=>h===e.value))||null})}),(0,u.jsx)("div",{className:"".concat(gM,"__value"),children:v||(0,u.jsx)(gF,{booleanSelect:_,disabled:!h||!w||(null==w||null==(r=w.field)||null==(a=r.admin)?void 0:a.disableListFilter),filterOptions:p,internalField:w,onChange:C,operator:h,options:k,value:null!=j?j:""})})]}),(0,u.jsxs)("div",{className:"".concat(gM,"__actions"),children:[(0,u.jsx)(tS,{buttonStyle:"icon-label",className:"".concat(gM,"__actions-remove"),icon:"x",iconStyle:"with-border",onClick:()=>g({andIndex:c,orIndex:f}),round:!0}),(0,u.jsx)(tS,{buttonStyle:"icon-label",className:"".concat(gM,"__actions-add"),icon:"plus",iconStyle:"with-border",onClick:()=>i({andIndex:c+1,field:m.find(e=>{var t;return!(null==(t=e.field.admin)?void 0:t.disableListFilter)}),orIndex:f,relation:"and"}),round:!0})]})]})})},gB="where-builder",gz=e=>{var t,n;let{collectionPluralLabel:l,collectionSlug:a,fields:r,renderedFilters:i,resolvedFilterOptions:c}=e,{i18n:p,t:h}=(0,s.d)(),{permissions:f}=lf(),m=null==f||null==(n=f.collections)||null==(t=n[a])?void 0:t.fields,g=(0,o.useMemo)(()=>fg({fieldPermissions:m,fields:r,i18n:p}),[m,r,p]),{handleWhereChange:v,query:b}=s5(),y=(0,o.useMemo)(()=>{let e=b.where;if(e){if((0,G.Q)(e))return e.or;let t=(0,X.a)(e);if((0,G.Q)(t))return t.or;console.warn("Invalid where query in URL: ".concat(JSON.stringify(e)))}return[]},[b.where]),x=o.useCallback(async e=>{let{andIndex:t,field:n,orIndex:l,relation:a}=e,o=[...y],r=ff[n.field.type].operators[0].value;"and"===a?o[l].and.splice(t,0,{[String(n.value)]:{[r]:void 0}}):o.push({and:[{[String(n.value)]:{[r]:void 0}}]}),await v({or:o})},[y,v]),w=o.useCallback(async e=>{let{andIndex:t,field:n,operator:l,orIndex:a,value:o}=e;if("object"==typeof y[a].and[t]&&n.value){let{validOperator:e}=fm({field:n.field,operator:l}),r={[String(n.value)]:{[e]:o}},i=[...y];i[a].and[t]=r,await v({or:i})}},[y,v]),j=o.useCallback(async e=>{let{andIndex:t,orIndex:n}=e,l=[...y];l[n].and.splice(t,1),0===l[n].and.length&&l.splice(n,1),await v({or:l})},[y,v]);return(0,u.jsxs)("div",{className:gB,children:[y.length>0&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("p",{className:"".concat(gB,"__label"),children:h("general:filterWhere",{label:(0,d.s)(l,p)})}),(0,u.jsx)("ul",{className:"".concat(gB,"__or-filters"),children:y.map((e,t)=>{let n="".concat(t,"_").concat(Array.isArray(null==e?void 0:e.and)?e.and.length:"");return(0,u.jsxs)("li",{children:[0!==t&&(0,u.jsx)("div",{className:"".concat(gB,"__label"),children:h("general:or")}),(0,u.jsx)("ul",{className:"".concat(gB,"__and-filters"),children:Array.isArray(null==e?void 0:e.and)&&e.and.map((e,n)=>{var l,a;let o=y[t].and[n],r=Object.keys(o)[0],s=(null==(l=Object.keys((null==o?void 0:o[r])||{}))?void 0:l[0])||void 0,d=(null==o||null==(a=o[r])?void 0:a[s])||void 0;return(0,u.jsxs)("li",{children:[0!==n&&(0,u.jsx)("div",{className:"".concat(gB,"__label"),children:h("general:and")}),(0,u.jsx)(gI,{addCondition:x,andIndex:n,fieldPath:r,filterOptions:null==c?void 0:c.get(r),operator:s,orIndex:t,reducedFields:g,removeCondition:j,RenderedFilter:null==i?void 0:i.get(r),updateCondition:w,value:d})]},n)})})]},n)})}),(0,u.jsx)(tS,{buttonStyle:"icon-label",className:"".concat(gB,"__add-or"),icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:async()=>{await x({andIndex:0,field:g.find(e=>{var t;return!(null==(t=e.field.admin)?void 0:t.disableListFilter)}),orIndex:y.length,relation:"or"})},children:h("general:or")})]}),0===y.length&&(0,u.jsxs)("div",{className:"".concat(gB,"__no-filters"),children:[(0,u.jsx)("div",{className:"".concat(gB,"__label"),children:h("general:noFiltersSet")}),(0,u.jsx)(tS,{buttonStyle:"icon-label",className:"".concat(gB,"__add-first-filter"),icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:async()=>{g.length>0&&await x({andIndex:0,field:g.find(e=>{var t;return!(null==(t=e.field.admin)?void 0:t.disableListFilter)}),orIndex:y.length,relation:"or"})},children:h("general:addFilter")})]})]})},gU="list-controls",gV=e=>{var t,n;let{beforeActions:l,collectionConfig:a,collectionSlug:r,disableQueryPresets:i,enableColumns:c=!0,enableFilters:p=!0,enableSort:h=!1,listMenuItems:f,queryPreset:g,queryPresetPermissions:v,renderedFilters:b,resolvedFilterOptions:y}=e,{handleSearchChange:x,query:w}=s5(),j=h0(a),{i18n:S,t:_}=(0,s.d)(),{breakpoints:{s:k}}=p7(),N=null!=(n=j&&(0,d.s)("label"in j&&("string"==typeof j.label||"object"==typeof j.label)?j.label:"name"in j?j.name:null,S))?n:"ID",E=((e,t,n)=>{if(e){let l=(0,C.L)(t,{i18n:n,moveSubFieldsToTop:!0}),a=new Set(e),o=[];for(let e of l)(0,m.Z7)(e)&&a.has(e.name)&&(o.push(e),a.delete(e.name));return o}return null})(a.admin.listSearchableFields,a.fields,S),P=(0,o.useRef)(_("general:searchBy",{label:(0,d.s)(N,S)})),D=(0,o.useRef)(!!(null==w?void 0:w.where)),T=(0,G.Q)(null==w?void 0:w.where),[A,R]=(0,o.useState)(T?"where":void 0);return(0,o.useEffect)(()=>{!D.current||(null==w?void 0:w.where)?(null==w?void 0:w.where)&&(D.current=!0):D.current=!1},[R,null==w?void 0:w.where]),(0,o.useEffect)(()=>{(null==E?void 0:E.length)>0?P.current=E.reduce((e,t,n)=>{let l="label"in t&&t.label?t.label:"name"in t?t.name:null;return 0===n?"".concat(_("general:searchBy",{label:(0,d.s)(l,S)})):n===E.length-1?"".concat(e," ").concat(_("general:or")," ").concat((0,d.s)(l,S)):"".concat(e,", ").concat((0,d.s)(l,S))},""):P.current=_("general:searchBy",{label:(0,d.s)(N,S)})},[_,E,S,N]),(0,u.jsxs)("div",{className:gU,children:[(null==a?void 0:a.enableQueryPresets)&&!i&&(0,u.jsx)(gb,{activePreset:g,collectionSlug:r,queryPresetPermissions:v}),(0,u.jsx)(gj,{Actions:[!k&&(0,u.jsx)(o.Fragment,{children:l&&l},"before-actions"),c&&(0,u.jsx)(a4,{"aria-controls":"".concat(gU,"-columns"),"aria-expanded":"columns"===A,className:"".concat(gU,"__toggle-columns"),icon:(0,u.jsx)(tl,{direction:"columns"===A?"up":"down"}),id:"toggle-list-columns",onClick:()=>R("columns"!==A?"columns":void 0),pillStyle:"light",size:"small",children:_("general:columns")},"toggle-list-columns"),p&&(0,u.jsx)(a4,{"aria-controls":"".concat(gU,"-where"),"aria-expanded":"where"===A,className:"".concat(gU,"__toggle-where"),icon:(0,u.jsx)(tl,{direction:"where"===A?"up":"down"}),id:"toggle-list-filters",onClick:()=>R("where"!==A?"where":void 0),pillStyle:"light",size:"small",children:_("general:filters")},"toggle-list-filters"),h&&(0,u.jsx)(a4,{"aria-controls":"".concat(gU,"-sort"),"aria-expanded":"sort"===A,className:"".concat(gU,"__toggle-sort"),icon:(0,u.jsx)(tl,{}),id:"toggle-list-sort",onClick:()=>R("sort"!==A?"sort":void 0),pillStyle:"light",size:"small",children:_("general:sort")},"toggle-list-sort"),a.admin.groupBy&&(0,u.jsx)(a4,{"aria-controls":"".concat(gU,"-group-by"),"aria-expanded":"group-by"===A,className:"".concat(gU,"__toggle-group-by"),icon:(0,u.jsx)(tl,{direction:"group-by"===A?"up":"down"}),id:"toggle-group-by",onClick:()=>R("group-by"!==A?"group-by":void 0),pillStyle:"light",size:"small",children:_("general:groupByLabel",{label:""})},"toggle-group-by"),f&&Array.isArray(f)&&f.length>0&&(0,u.jsx)(ty,{button:(0,u.jsx)(gs,{ariaLabel:_("general:moreOptions")}),className:"".concat(gU,"__popup"),horizontalAlign:"right",id:"list-menu",size:"small",verticalAlign:"bottom",children:(0,u.jsx)(ts.ButtonGroup,{children:f.map((e,t)=>(0,u.jsx)(o.Fragment,{children:e},"list-menu-item-".concat(t)))})},"list-menu")].filter(Boolean),label:P.current,onSearchChange:x,searchQueryParam:null==w?void 0:w.search},r),c&&(0,u.jsx)(aX,{className:"".concat(gU,"__columns"),height:"columns"===A?"auto":0,id:"".concat(gU,"-columns"),children:(0,u.jsx)(ci,{collectionSlug:a.slug})}),(0,u.jsx)(aX,{className:"".concat(gU,"__where"),height:"where"===A?"auto":0,id:"".concat(gU,"-where"),children:(0,u.jsx)(gz,{collectionPluralLabel:null==a||null==(t=a.labels)?void 0:t.plural,collectionSlug:a.slug,fields:null==a?void 0:a.fields,renderedFilters:b,resolvedFilterOptions:y})}),a.admin.groupBy&&(0,u.jsx)(aX,{className:"".concat(gU,"__group-by"),height:"group-by"===A?"auto":0,id:"".concat(gU,"-group-by"),children:(0,u.jsx)(gd,{collectionSlug:a.slug,fields:a.fields})})]})};function gH(e){let{collection:t,collection:{slug:n,labels:{plural:l,singular:a}}={},drawerSlug:r,ids:c,onSuccess:p,selectAll:f,where:m}=e,{clearRouteCache:g}=d3(),{config:{routes:{api:y}}}=(0,i.c)(),{code:x}=lx(),w=(0,h.useRouter)(),j=(0,h.useSearchParams)(),{i18n:C,t:_}=(0,s.d)(),k=(0,o.useCallback)(()=>{eZ.error(_("error:unknown"))},[_]),N=o.useMemo(()=>{var e;let n=[{_status:{not_equals:"published"}}];m&&n.push(m);let l=(0,S.d)({collectionConfig:t,search:j.get("search")});return l&&n.push(l),f?n.push((null==(e=s2(j))?void 0:e.where)||{id:{not_equals:""}}):n.push({id:{in:c||[]}}),b.A({locale:x,select:{},where:(0,Y.h)(n)},{addQueryPrefix:!0})},[t,j,f,c,x,m]),E=(0,o.useCallback)(async()=>{let e=(0,v.Q)({apiRoute:y,path:"/".concat(n).concat(N,"&draft=true")});await ld.patch(e,{body:JSON.stringify({_status:"published"}),headers:{"Accept-Language":C.language,"Content-Type":"application/json"}}).then(async e=>{try{let t=await e.json(),n=(null==t?void 0:t.docs.length)||0,o=n>1?l:a;return e.status<400||n>0?(eZ.success(_("general:updatedCountSuccessfully",{count:n,label:(0,d.s)(o,C)})),(null==t?void 0:t.errors.length)>0&&eZ.error(t.message,{description:t.errors.map(e=>e.message).join("\n")}),w.replace(b.A({...s2(j),page:f?"1":void 0},{addQueryPrefix:!0})),g(),"function"==typeof p&&p(),null):(t.errors?t.errors.forEach(e=>eZ.error(e.message)):k(),!1)}catch(e){return k()}})},[y,n,N,C,l,a,_,w,j,f,g,k,p]);return(0,u.jsx)(ls,{body:_("version:aboutToPublishSelection",{label:(0,d.s)(l,C)}),cancelLabel:_("general:cancel"),confirmingLabel:_("version:publishing"),confirmLabel:_("general:confirm"),heading:_("version:confirmPublish"),modalSlug:r,onConfirm:E})}var gq=e=>{let t=(0,f.c)(8),{count:n,selectAll:l,selectedIDs:a,toggleAll:o}=mc(),r;t[0]!==o?(r=()=>o(),t[0]=o,t[1]=r):r=t[1];let i=l===mo.AllAvailable,s;return t[2]!==n||t[3]!==e||t[4]!==a||t[5]!==r||t[6]!==i?(s=(0,u.jsx)(gW,{...e,count:n,ids:a,onSuccess:r,selectAll:i}),t[2]=n,t[3]=e,t[4]=a,t[5]=r,t[6]=i,t[7]=s):s=t[7],s},gW=e=>{var t,n;let l,a=(0,f.c)(12),{collection:r,collection:i,count:c,ids:d,modalPrefix:p,onSuccess:h,selectAll:m,where:g}=e,{slug:v,versions:b}=void 0===i?{}:i,{permissions:y}=lf(),{t:x}=(0,s.d)(),{openModal:w}=nj(),j=null==y||null==(n=y.collections)||null==(t=n[v])?void 0:t.update,C="".concat(p?"".concat(p,"-"):"","publish-").concat(v);if(!(null==b?void 0:b.drafts)||0===c||!j)return null;if(a[0]!==r||a[1]!==C||a[2]!==d||a[3]!==h||a[4]!==w||a[5]!==m||a[6]!==x||a[7]!==g){let e;a[9]!==C||a[10]!==w?(e=()=>{w(C)},a[9]=C,a[10]=w,a[11]=e):e=a[11],l=(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(mp,{"aria-label":x("version:publish"),onClick:e,children:x("version:publish")}),(0,u.jsx)(gH,{collection:r,drawerSlug:C,ids:d,onSuccess:h,selectAll:m,where:g})]}),a[0]=r,a[1]=C,a[2]=d,a[3]=h,a[4]=w,a[5]=m,a[6]=x,a[7]=g,a[8]=l}else l=a[8];return l},gK="confirm-restore-many-docs",gQ="restore-many",gY=e=>{var t,n,l,a,r;let{collection:{slug:c}={},viewType:p}=e,{permissions:f}=lf(),{config:{collections:m,routes:g,serverURL:y}}=(0,i.c)(),{code:x}=lx(),w=(0,h.useRouter)(),{clearRouteCache:j}=d3(),C=(0,h.useSearchParams)(),{count:_,getSelectedIds:k,selectAll:N,toggleAll:E}=mc(),{openModal:P}=nj(),{i18n:D,t:T}=(0,s.d)(),[A,R]=o.useState(!1),L=null==f||null==(n=f.collections)||null==(t=n[c])?void 0:t.update;if(N===mo.None||!L||"trash"!==p)return null;let O=N===mo.AllAvailable,F=O?[]:k(),M=null==(l=s2(C))?void 0:l.where,I={and:[...Array.isArray(null==M?void 0:M.and)?M.and:M?[M]:[],{deletedAt:{exists:!0}}]},B=async()=>{var e,t,n,l;let a,o=m.find(e=>e.slug===c);if(!o)return;a=O?I:{and:[{id:{in:F}},{deletedAt:{exists:!0}}]};let r=(0,v.Q)({apiRoute:g.api,path:"/".concat(c).concat(b.A({limit:0,locale:x,select:{},trash:!0,where:(0,S.d)({collectionConfig:o,search:null==(e=s2(C))?void 0:e.search,where:a})},{addQueryPrefix:!0}))}),i={deletedAt:null};(null==o||null==(t=o.versions)?void 0:t.drafts)&&(i._status=A?"published":"draft");let s=await ld.patch(r,{body:JSON.stringify(i),headers:{"Accept-Language":D.language,"Content-Type":"application/json"}});try{let{plural:e,singular:t}=o.labels,a=await s.json(),r=(null==a||null==(n=a.docs)?void 0:n.length)||0;(s.status<400||r>0)&&eZ.success(T("general:restoredCountSuccessfully",{count:r,label:(0,d.s)(r>1?e:t,D)})),(null==a||null==(l=a.errors)?void 0:l.length)>0&&eZ.error(a.message,{description:a.errors.map(e=>e.message).join("\n")})}catch(e){eZ.error(T("error:unknown"))}E(),w.replace(b.A({...s2(C),page:O?"1":void 0},{addQueryPrefix:!0})),j()},z=m.find(e=>{let{slug:t}=e;return t===c}),U=(0,d.s)(1===_?z.labels.singular:z.labels.plural,D);return(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(mp,{"aria-label":T("general:restore"),className:"restore-documents__toggle",onClick:()=>{P(gK)},children:T("general:restore")}),(0,u.jsx)(ls,{body:(0,u.jsxs)(o.Fragment,{children:[T((null==z||null==(a=z.versions)?void 0:a.drafts)?"general:aboutToRestoreAsDraftCount":"general:aboutToRestoreCount",{count:_,label:U}),(null==z||null==(r=z.versions)?void 0:r.drafts)&&(0,u.jsx)("div",{className:"".concat(gQ,"__checkbox"),children:(0,u.jsx)(aV,{checked:A,id:"restore-as-published-many",label:T("general:restoreAsPublished"),name:"restore-as-published-many",onToggle:e=>R(e.target.checked)})})]}),className:gQ,confirmingLabel:T("general:restoring"),heading:T("general:confirmRestoration"),modalSlug:gK,onConfirm:B})]})};function gG(e){let{collection:t,collection:{slug:n,labels:{plural:l,singular:a}}={},drawerSlug:r,ids:c,onSuccess:p,selectAll:f,where:m}=e,{config:{routes:{api:g}}}=(0,i.c)(),{code:y}=lx(),{i18n:x,t:w}=(0,s.d)(),j=(0,h.useSearchParams)(),C=(0,h.useRouter)(),{clearRouteCache:_}=d3(),k=(0,o.useCallback)(()=>{eZ.error(w("error:unknown"))},[w]),N=o.useMemo(()=>{let e=[{_status:{not_equals:"draft"}}];m&&e.push(m);let n=(0,S.d)({collectionConfig:t,search:j.get("search")});return n&&e.push(n),f||e.push({id:{in:c||[]}}),b.A({locale:y,select:{},where:(0,Y.h)(e)},{addQueryPrefix:!0})},[t,j,f,c,y,m]),E=(0,o.useCallback)(async()=>{let e=(0,v.Q)({apiRoute:g,path:"/".concat(n).concat(N)});await ld.patch(e,{body:JSON.stringify({_status:"draft"}),headers:{"Accept-Language":x.language,"Content-Type":"application/json"}}).then(async e=>{try{let t=await e.json(),n=(null==t?void 0:t.docs.length)||0,o=n>1?l:a;return e.status<400||n>0?(eZ.success(w("general:updatedCountSuccessfully",{count:n,label:(0,d.s)(o,x)})),(null==t?void 0:t.errors.length)>0&&eZ.error(t.message,{description:t.errors.map(e=>e.message).join("\n")}),C.replace(b.A({...s2(j),page:f?"1":void 0},{addQueryPrefix:!0})),_(),"function"==typeof p&&p(),null):(t.errors?t.errors.forEach(e=>eZ.error(e.message)):k(),!1)}catch(e){return k()}})},[g,n,N,x,l,a,w,C,j,f,_,k,p]);return(0,u.jsx)(ls,{body:w("version:aboutToUnpublishSelection",{label:(0,d.s)(l,x)}),confirmingLabel:w("version:unpublishing"),heading:w("version:confirmUnpublish"),modalSlug:r,onConfirm:E})}var gX=e=>{let t=(0,f.c)(8),{count:n,selectAll:l,selectedIDs:a,toggleAll:o}=mc(),r;t[0]!==o?(r=()=>o(),t[0]=o,t[1]=r):r=t[1];let i=l===mo.AllAvailable,s;return t[2]!==n||t[3]!==e||t[4]!==a||t[5]!==r||t[6]!==i?(s=(0,u.jsx)(g$,{...e,count:n,ids:a,onSuccess:r,selectAll:i}),t[2]=n,t[3]=e,t[4]=a,t[5]=r,t[6]=i,t[7]=s):s=t[7],s},g$=e=>{var t,n;let l,a=(0,f.c)(12),{collection:r,collection:i,count:c,ids:d,modalPrefix:p,onSuccess:h,selectAll:m,where:g}=e,{slug:v,versions:b}=void 0===i?{}:i,{t:y}=(0,s.d)(),{permissions:x}=lf(),{toggleModal:w}=nj(),j=null==x||null==(n=x.collections)||null==(t=n[v])?void 0:t.update,C="".concat(p?"".concat(p,"-"):"","unpublish-").concat(v);if(!(null==b?void 0:b.drafts)||0===c||!j)return null;if(a[0]!==r||a[1]!==C||a[2]!==d||a[3]!==h||a[4]!==m||a[5]!==y||a[6]!==w||a[7]!==g){let e;a[9]!==C||a[10]!==w?(e=()=>{w(C)},a[9]=C,a[10]=w,a[11]=e):e=a[11],l=(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(mp,{"aria-label":y("version:unpublish"),onClick:e,children:y("version:unpublish")}),(0,u.jsx)(gG,{collection:r,drawerSlug:C,ids:d,onSuccess:h,selectAll:m,where:g})]}),a[0]=r,a[1]=C,a[2]=d,a[3]=h,a[4]=m,a[5]=y,a[6]=w,a[7]=g,a[8]=l}else l=a[8];return l},gZ=e=>{let t=(0,f.c)(19),{collectionConfig:n,disableBulkDelete:l,disableBulkEdit:a,label:r,modalPrefix:i,showSelectAllAcrossPages:c,viewType:d,where:p}=e,h=void 0===c||c,{count:m,selectAll:g,selectedIDs:v,toggleAll:b,totalDocs:y}=mc(),{t:x}=(0,s.d)(),w;t[0]!==b?(w=()=>b(),t[0]=b,t[1]=w):w=t[1];let j=w;if(0===m)return null;let C=(null==n?void 0:n.trash)&&"trash"===d,S;return t[2]!==n||t[3]!==m||t[4]!==l||t[5]!==a||t[6]!==C||t[7]!==r||t[8]!==i||t[9]!==j||t[10]!==g||t[11]!==v||t[12]!==h||t[13]!==x||t[14]!==b||t[15]!==y||t[16]!==d||t[17]!==p?(S=(0,u.jsx)(md,{count:m,ListActions:[g!==mo.AllAvailable&&m<y&&!1!==h?(0,u.jsx)(mp,{"aria-label":x("general:selectAll",{count:"(".concat(y,")"),label:r}),id:"select-all-across-pages",onClick:()=>b(!0),children:x("general:selectAll",{count:"(".concat(y,")"),label:""})},"select-all"):null].filter(Boolean),SelectionActions:[!a&&!C&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(gn,{collection:n,count:m,ids:v,modalPrefix:i,onSuccess:j,selectAll:g===mo.AllAvailable,where:p}),(0,u.jsx)(gW,{collection:n,count:m,ids:v,modalPrefix:i,onSuccess:j,selectAll:g===mo.AllAvailable,where:p}),(0,u.jsx)(g$,{collection:n,count:m,ids:v,modalPrefix:i,onSuccess:j,selectAll:g===mo.AllAvailable,where:p})]},"bulk-actions"),C&&(0,u.jsx)(gY,{collection:n,viewType:d},"bulk-restore"),!l&&(0,u.jsx)(mh,{collection:n,modalPrefix:i,viewType:d},"bulk-delete")].filter(Boolean)}),t[2]=n,t[3]=m,t[4]=l,t[5]=a,t[6]=C,t[7]=r,t[8]=i,t[9]=j,t[10]=g,t[11]=v,t[12]=h,t[13]=x,t[14]=b,t[15]=y,t[16]=d,t[17]=p,t[18]=S):S=t[18],S};function gJ(e){let{slug:t,className:n}=e,{closeModal:l}=nj(),{t:a}=(0,s.d)();return(0,u.jsx)("button",{"aria-label":a("general:close"),className:["close-modal-button",n].filter(Boolean).join(" "),onClick:()=>{l(t)},type:"button",children:(0,u.jsx)(s.a,{})},"close-button")}var g0="default-list-view-tabs",g1=e=>{var t,n,l,a;let o,r=(0,f.c)(20),{collectionConfig:i,config:c,onChange:p,viewType:m}=e,{i18n:g,t:b}=(0,s.d)(),{setPreference:y}=av(),x=(0,h.useRouter)(),w=i.trash,j=i.folders&&c.folders;if(!w&&!j)return null;r[0]!==i.slug||r[1]!==c||r[2]!==p||r[3]!==x||r[4]!==y?(o=async e=>{p&&p(e),("list"===e||"folders"===e)&&await y("collection-".concat(i.slug),{listViewType:e});let t="/collections/".concat(i.slug);switch(e){case"folders":c.folders&&(t="/collections/".concat(i.slug,"/").concat(c.folders.slug));break;case"trash":t="/collections/".concat(i.slug,"/trash")}let n=(0,v.Q)({adminRoute:c.routes.admin,path:t});x.push(n)},r[0]=i.slug,r[1]=c,r[2]=p,r[3]=x,r[4]=y,r[5]=o):o=r[5];let C=o,S="".concat(b("general:all")," ").concat((0,d.s)(null==i||null==(t=i.labels)?void 0:t.plural,g)),_;if(r[6]!==S||r[7]!==(null==(n=i.labels)?void 0:n.plural)||r[8]!==C||r[9]!==g||r[10]!==j||r[11]!==w||r[12]!==b||r[13]!==m){let e,t;r[15]===Symbol.for("react.memo_cache_sentinel")?(e=/\s+/g,r[15]=e):e=r[15];let n=S.toLowerCase().replace(e,"-"),o="list"===m&&"".concat(g0,"__button--active"),s;r[16]!==o?(s=["".concat(g0,"__button"),o].filter(Boolean),r[16]=o,r[17]=s):s=r[17],r[18]!==C?(t=()=>C("list"),r[18]=C,r[19]=t):t=r[19],_=(0,u.jsxs)("div",{className:g0,children:[(0,u.jsxs)(tS,{buttonStyle:"tab",className:s.join(" "),disabled:"list"===m,el:"button",id:n,onClick:t,children:[b("general:all")," ",(0,d.s)(null==i||null==(l=i.labels)?void 0:l.plural,g)]}),j&&(0,u.jsx)(tS,{buttonStyle:"tab",className:["".concat(g0,"__button"),"folders"===m&&"".concat(g0,"__button--active")].filter(Boolean).join(" "),disabled:"folders"===m,el:"button",onClick:()=>C("folders"),children:b("folder:byFolder")}),w&&(0,u.jsx)(tS,{buttonStyle:"tab",className:["".concat(g0,"__button"),"trash"===m&&"".concat(g0,"__button--active")].filter(Boolean).join(" "),disabled:"trash"===m,el:"button",id:"trash-view-pill",onClick:()=>C("trash"),children:b("general:trash")})]}),r[6]=S,r[7]=null==(a=i.labels)?void 0:a.plural,r[8]=C,r[9]=g,r[10]=j,r[11]=w,r[12]=b,r[13]=m,r[14]=_}else _=r[14];return _},g3="list-header",g2=e=>(0,u.jsxs)("header",{className:[g3,e.className].filter(Boolean).join(" "),children:[(0,u.jsxs)("div",{className:"".concat(g3,"__content"),children:[(0,u.jsxs)("div",{className:"".concat(g3,"__title-and-actions"),children:[(0,u.jsx)("h1",{className:"".concat(g3,"__title"),children:e.title}),e.TitleActions.length?(0,u.jsx)("div",{className:"".concat(g3,"__title-actions"),children:e.TitleActions}):null]}),e.Actions.length?(0,u.jsx)("div",{className:"".concat(g3,"__actions"),children:e.Actions}):null]}),e.AfterListHeaderContent?(0,u.jsx)("div",{className:"".concat(g3,"__after-header-content"),children:e.AfterListHeaderContent}):null]}),g6=()=>{let e=(0,f.c)(12),{i18n:t,t:n}=(0,s.d)(),{config:l,getEntityConfig:a}=(0,i.c)(),{collections:o}=l,{enabledCollections:r,selectedOption:c,setSelectedOption:p}=s3(),h;if(e[0]!==o||e[1]!==r||e[2]!==a||e[3]!==t||e[4]!==c||e[5]!==p||e[6]!==n){h=Symbol.for("react.early_return_sentinel");e:{let l;e[8]!==r?(l=e=>{let{slug:t}=e;return r.includes(t)},e[8]=r,e[9]=l):l=e[9];let i=o.filter(l);if(i.length>1){let l=a({collectionSlug:c.value}),o;e[10]!==t?(o=e=>({label:(0,d.s)(e.labels.singular,t),value:e.slug}),e[10]=t,e[11]=o):o=e[11],h=(0,u.jsxs)("div",{className:"".concat("list-drawer","__select-collection-wrap"),children:[(0,u.jsx)(lC,{label:n("upload:selectCollectionToBrowse")}),(0,u.jsx)(sI,{className:"".concat(g3,"__select-collection"),isClearable:!1,onChange:p,options:i.map(o),value:{label:(0,d.s)(null==l?void 0:l.labels.singular,t),value:null==l?void 0:l.slug}})]});break e}}e[0]=o,e[1]=r,e[2]=a,e[3]=t,e[4]=c,e[5]=p,e[6]=n,e[7]=h}else h=e[7];return h!==Symbol.for("react.early_return_sentinel")?h:null};function g5(e){let t,n=(0,f.c)(3),{hasCreatePermission:l}=e,{DocumentDrawerToggler:a}=s3(),{t:o}=(0,s.d)();return l?(n[0]!==a||n[1]!==o?(t=(0,u.jsx)(a,{className:"".concat("list-header","__create-new-button"),children:(0,u.jsx)(a4,{size:"small",children:o("general:createNew")})},"create-new-button-toggler"),n[0]=a,n[1]=o,n[2]=t):t=n[2],t):null}function g4(e){let t,n=(0,f.c)(12),{collectionSlug:l,hasCreatePermission:a,isBulkUploadEnabled:o,onBulkUploadSuccess:r,openBulkUpload:i}=e,{drawerSlug:c,setCollectionSlug:d,setOnSuccess:p}=hy(),{t:m}=(0,s.d)(),{openModal:g}=nj(),v=(0,h.useRouter)(),b;n[0]!==c||n[1]!==l||n[2]!==r||n[3]!==i||n[4]!==g||n[5]!==v||n[6]!==d||n[7]!==p?(b=()=>{"function"==typeof i?i():(d(l),g(c),p(()=>{"function"==typeof r?r():v.refresh()}))},n[0]=c,n[1]=l,n[2]=r,n[3]=i,n[4]=g,n[5]=v,n[6]=d,n[7]=p,n[8]=b):b=n[8];let y=b;return a&&o?(n[9]!==y||n[10]!==m?(t=(0,u.jsx)(tS,{"aria-label":m("upload:bulkUpload"),buttonStyle:"pill",onClick:y,size:"small",children:m("upload:bulkUpload")},"bulk-upload-button"),n[9]=y,n[10]=m,n[11]=t):t=n[11],t):null}function g8(e){var t;let n=(0,f.c)(5),{collectionConfig:l,hasCreatePermission:a,newDocumentURL:o}=e,{i18n:r,t:i}=(0,s.d)();if(!a)return null;let c=null==l||null==(t=l.labels)?void 0:t.singular,p;return n[0]!==r||n[1]!==o||n[2]!==i||n[3]!==c?(p=(0,u.jsx)(tS,{"aria-label":i("general:createNewLabel",{label:(0,d.s)(c,r)}),buttonStyle:"pill",className:"".concat("list-create-new-doc","__create-new-button"),el:"link",size:"small",to:o,children:i("general:createNew")},"create-new-button"),n[0]=r,n[1]=o,n[2]=i,n[3]=c,n[4]=p):p=n[4],p}var g7="confirm-empty-trash";function g9(e){var t,n,l;let{collectionConfig:a,hasDeletePermission:r}=e,{i18n:c,t:p}=(0,s.d)(),{code:f}=lx(),{config:m}=(0,i.c)(),{openModal:g}=nj(),y=(0,h.useRouter)(),x=(0,h.useSearchParams)(),{clearRouteCache:w}=d3(),[j,C]=o.useState(null);o.useEffect(()=>{(async()=>{let e=b.A({depth:0,limit:0,locale:f,trash:!0,where:{deletedAt:{exists:!0}}},{addQueryPrefix:!0});try{var t;let n=await (await ld.get((0,v.Q)({apiRoute:m.routes.api,path:"/".concat(a.slug).concat(e)}),{headers:{"Accept-Language":c.language,"Content-Type":"application/json"}})).json();C(null!=(t=null==n?void 0:n.totalDocs)?t:0)}catch(e){C(0)}})()},[a.slug,m,c.language,f]);let S=o.useCallback(async()=>{if(!r)return;let{slug:e,labels:t}=a,n=b.A({limit:0,locale:f,trash:!0,where:{deletedAt:{exists:!0}}},{addQueryPrefix:!0}),l=await ld.delete((0,v.Q)({apiRoute:m.routes.api,path:"/".concat(e).concat(n)}),{headers:{"Accept-Language":c.language,"Content-Type":"application/json"}});try{var o,i;let e=await l.json(),n=(null==e||null==(o=e.docs)?void 0:o.length)||0;l.status<400&&eZ.success(p("general:permanentlyDeletedCountSuccessfully",{count:n,label:(0,d.s)(null==t?void 0:t.plural,c)})),(null==e||null==(i=e.errors)?void 0:i.length)>0&&eZ.error(e.message,{description:e.errors.map(e=>e.message).join("\n")}),y.replace(b.A({...Object.fromEntries(x.entries()),page:"1"},{addQueryPrefix:!0})),w()}catch(e){eZ.error(p("error:unknown"))}},[a,m,r,c,p,f,x,y,w]);return(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(tS,{"aria-label":p("general:emptyTrashLabel",{label:(0,d.s)(null==a||null==(t=a.labels)?void 0:t.plural,c)}),buttonStyle:"pill",disabled:0===j,id:"empty-trash-button",onClick:()=>{g(g7)},size:"small",children:p("general:emptyTrash")},"empty-trash-button"),(0,u.jsx)(ls,{body:(0,u.jsx)(pn,{elements:{0:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})},1:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})}},i18nKey:"general:aboutToPermanentlyDeleteTrash",t:p,variables:{count:null!=j?j:0,label:(0,d.s)(1===j?null==(n=a.labels)?void 0:n.singular:null==(l=a.labels)?void 0:l.plural,c)}}),confirmingLabel:p("general:deleting"),heading:p("general:confirmDeletion"),modalSlug:g7,onConfirm:S})]})}var ve="list-drawer",vt=e=>{var t,n,l,a;let{className:o,collectionConfig:r,Description:s,disableBulkDelete:c,disableBulkEdit:p,hasCreatePermission:h,hasDeletePermission:f,i18n:m,isBulkUploadEnabled:g,isTrashEnabled:v,newDocumentURL:b,onBulkUploadSuccess:y,openBulkUpload:x,smallBreak:w,viewType:j}=e,{config:C,getEntityConfig:S}=(0,i.c)(),{drawerSlug:_,isInDrawer:k,selectedOption:N}=s3(),E="trash"===j,{isGroupingBy:P}=s5();return k?(0,u.jsx)(g2,{Actions:[(0,u.jsx)(gJ,{className:"".concat(ve,"__header-close"),slug:_},"close-button")],AfterListHeaderContent:(0,u.jsxs)(u.Fragment,{children:[s,(0,u.jsx)(g6,{})]}),className:"".concat(ve,"__header"),title:(0,d.s)(null==(n=S({collectionSlug:N.value}))||null==(t=n.labels)?void 0:t.plural,m),TitleActions:[(0,u.jsx)(g5,{hasCreatePermission:h},"list-drawer-create-new-doc")].filter(Boolean)}):(0,u.jsx)(g2,{Actions:[!w&&!P&&(0,u.jsx)(gZ,{collectionConfig:r,disableBulkDelete:c,disableBulkEdit:p,label:(0,d.s)(null==r||null==(l=r.labels)?void 0:l.plural,m),showSelectAllAcrossPages:!P,viewType:j},"list-selection"),(0,u.jsx)(g1,{collectionConfig:r,config:C,viewType:j},"default-list-actions")].filter(Boolean),AfterListHeaderContent:s,className:o,title:(0,d.s)(null==r||null==(a=r.labels)?void 0:a.plural,m),TitleActions:[h&&!E&&(0,u.jsx)(g8,{collectionConfig:r,hasCreatePermission:h,newDocumentURL:b},"list-header-create-new-doc"),h&&g&&!E&&(0,u.jsx)(g4,{collectionSlug:r.slug,hasCreatePermission:h,isBulkUploadEnabled:g,onBulkUploadSuccess:y,openBulkUpload:x},"list-header-bulk-upload"),f&&v&&"trash"===j&&(0,u.jsx)(g9,{collectionConfig:r,hasDeletePermission:f},"list-header-empty-trash")].filter(Boolean)})},vn="group-by-header",vl=e=>{let{collectionConfig:t,groupByFieldPath:n,groupByValue:l,heading:a}=e;return(0,u.jsxs)("header",{className:vn,children:[(0,u.jsx)("h4",{className:"".concat(vn,"__heading"),"data-group-id":l,children:a}),(0,u.jsx)(gZ,{collectionConfig:t,label:a,modalPrefix:l,where:{[n]:{equals:l}}})]})},va="per-page",vo=$.NT.admin.pagination.limits,vr=e=>{let t=(0,f.c)(9),{defaultLimit:n,handleChange:l,limit:a,limits:o}=e,r=void 0===o?vo:o,{t:i}=(0,s.d)(),c=(0,T.E)(a)?a:void 0===n?10:n,d;if(t[0]!==l||t[1]!==c||t[2]!==r||t[3]!==i){let e;t[5]!==l||t[6]!==c||t[7]!==r?(e=e=>{let{close:t}=e;return(0,u.jsx)(ts.ButtonGroup,{children:r.map((e,n)=>(0,u.jsxs)(ts.Button,{className:["".concat(va,"__button"),e===c&&"".concat(va,"__button-active")].filter(Boolean).join(" "),onClick:()=>{t(),l&&l(e)},children:[e===c&&(0,u.jsx)("div",{className:"".concat(va,"__chevron"),children:(0,u.jsx)(tl,{direction:"right",size:"small"})}),"\xa0",(0,u.jsx)("span",{children:e})]},n))})},t[5]=l,t[6]=c,t[7]=r,t[8]=e):e=t[8],d=(0,u.jsx)("div",{className:va,children:(0,u.jsx)(ty,{button:(0,u.jsxs)("div",{className:"".concat(va,"__base-button"),children:[(0,u.jsx)("span",{children:i("general:perPage",{limit:c})}),"\xa0",(0,u.jsx)(tl,{className:"".concat(va,"__icon")})]}),horizontalAlign:"right",render:e,size:"small"})}),t[0]=l,t[1]=c,t[2]=r,t[3]=i,t[4]=d}else d=t[4];return d},vi="page-controls",vs=e=>{var t,n,l,a,r,i;let c=(0,f.c)(16),{AfterPageControls:d,collectionConfig:p,data:h,handlePageChange:m,handlePerPageChange:g,limit:v}=e,{i18n:b}=(0,s.d)(),y;return c[0]!==d||c[1]!==(null==p||null==(n=p.admin)||null==(t=n.pagination)?void 0:t.limits)||c[2]!==h.hasNextPage||c[3]!==h.hasPrevPage||c[4]!==h.limit||c[5]!==h.nextPage||c[6]!==h.page||c[7]!==h.pagingCounter||c[8]!==h.prevPage||c[9]!==h.totalDocs||c[10]!==h.totalPages||c[11]!==m||c[12]!==g||c[13]!==b||c[14]!==v?(y=(0,u.jsxs)("div",{className:vi,children:[(0,u.jsx)(c8,{hasNextPage:h.hasNextPage,hasPrevPage:h.hasPrevPage,limit:h.limit,nextPage:h.nextPage,numberOfNeighbors:1,onChange:m,page:h.page,prevPage:h.prevPage,totalPages:h.totalPages}),h.totalDocs>0&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("div",{className:"".concat(vi,"__page-info"),children:[h.page*h.limit-(h.limit-1),"-",h.totalPages>1&&h.totalPages!==h.page?h.limit*h.page:h.totalDocs," ",b.t("general:of")," ",h.totalDocs]}),(0,u.jsx)(vr,{handleChange:g,limit:v,limits:null==p||null==(a=p.admin)||null==(l=a.pagination)?void 0:l.limits,resetPage:h.totalDocs<=h.pagingCounter}),d]})]}),c[0]=d,c[1]=null==p||null==(i=p.admin)||null==(r=i.pagination)?void 0:r.limits,c[2]=h.hasNextPage,c[3]=h.hasPrevPage,c[4]=h.limit,c[5]=h.nextPage,c[6]=h.page,c[7]=h.pagingCounter,c[8]=h.prevPage,c[9]=h.totalDocs,c[10]=h.totalPages,c[11]=m,c[12]=g,c[13]=b,c[14]=v,c[15]=y):y=c[15],y},vc=e=>{let t,n=(0,f.c)(10),{AfterPageControls:l,collectionConfig:a}=e,{data:o,defaultLimit:r,handlePageChange:i,handlePerPageChange:s,query:c}=s5(),d;return n[0]!==r||n[1]!==c.limit?(d=(0,T.E)(c.limit)?c.limit:r,n[0]=r,n[1]=c.limit,n[2]=d):d=n[2],n[3]!==l||n[4]!==a||n[5]!==o||n[6]!==i||n[7]!==s||n[8]!==d?(t=(0,u.jsx)(vs,{AfterPageControls:l,collectionConfig:a,data:o,handlePageChange:i,handlePerPageChange:s,limit:d}),n[3]=l,n[4]=a,n[5]=o,n[6]=i,n[7]=s,n[8]=d,n[9]=t):t=n[9],t},vu=e=>{let{children:t}=e;return(0,u.jsx)("div",{className:"sticky-toolbar",children:t})},vd=e=>{let t=(0,f.c)(12),{AfterPageControls:n,collectionConfig:l,data:a,groupByValue:o}=e,{refineListData:r}=s5(),i;t[0]!==o||t[1]!==r?(i=async e=>{await r({queryByGroup:{[o]:{page:e}}})},t[0]=o,t[1]=r,t[2]=i):i=t[2];let s=i,c;t[3]!==o||t[4]!==r?(c=async e=>{await r({queryByGroup:{[o]:{limit:e,page:1}}})},t[3]=o,t[4]=r,t[5]=c):c=t[5];let d=c,p;return t[6]!==n||t[7]!==l||t[8]!==a||t[9]!==s||t[10]!==d?(p=(0,u.jsx)(vs,{AfterPageControls:n,collectionConfig:l,data:a,handlePageChange:s,handlePerPageChange:d}),t[6]=n,t[7]=l,t[8]=a,t[9]=s,t[10]=d,t[11]=p):p=t[11],p},vp=()=>(0,u.jsx)("svg",{className:"icon icon--logout",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M12 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12M7.33333 13.3333L4 10M4 10L7.33333 6.66667M4 10H12",strokeLinecap:"square"})}),vh=e=>{let t=(0,f.c)(5),{tabIndex:n}=e,l=void 0===n?0:n,{t:a}=(0,s.d)(),{config:o}=(0,i.c)(),{admin:r,routes:c}=o,{routes:d}=r,{logout:p}=d,{admin:h}=c,m;return t[0]!==h||t[1]!==p||t[2]!==a||t[3]!==l?(m=(0,u.jsx)(te,{"aria-label":a("authentication:logOut"),className:"".concat("nav","__log-out"),href:(0,v.Q)({adminRoute:h,path:p}),prefetch:!1,tabIndex:l,title:a("authentication:logOut"),children:(0,u.jsx)(vp,{})}),t[0]=h,t[1]=p,t[2]=a,t[3]=l,t[4]=m):m=t[4],m},vf="nav-group",vm=e=>{let t,n=(0,f.c)(21),{children:l,isOpen:a,label:r}=e,[i,s]=(0,o.useState)("u">typeof a&&!a),[c,d]=(0,o.useState)(!1),{setPreference:p}=av(),{navOpen:h}=fG();if(r){let e;n[0]!==i||n[1]!==r||n[2]!==p?(e=()=>{d(!0);let e={};(null==e?void 0:e[r])?e[r].open=!!i:e[r]={open:!!i},p("nav",{groups:e},!0),s(!i)},n[0]=i,n[1]=r,n[2]=p,n[3]=e):e=n[3];let t=e,a="".concat(r),o=i&&"".concat(vf,"--collapsed"),f;n[4]!==a||n[5]!==o?(f=["".concat(vf),a,o].filter(Boolean),n[4]=a,n[5]=o,n[6]=f):f=n[6];let m=f.join(" "),g="nav-group-".concat(r),v="".concat(vf,"__toggle--").concat(i?"collapsed":"open"),b;n[7]!==v?(b=["".concat(vf,"__toggle"),v].filter(Boolean),n[7]=v,n[8]=b):b=n[8];let y=b.join(" "),x=h?0:-1,w;return n[9]!==c||n[10]!==l||n[11]!==i||n[12]!==r||n[13]!==x||n[14]!==m||n[15]!==g||n[16]!==y||n[17]!==t?(w=(0,u.jsxs)("div",{className:m,id:g,children:[(0,u.jsxs)("button",{className:y,onClick:t,tabIndex:x,type:"button",children:[(0,u.jsx)("div",{className:"".concat(vf,"__label"),children:r}),(0,u.jsx)("div",{className:"".concat(vf,"__indicator"),children:(0,u.jsx)(tl,{className:"".concat(vf,"__indicator"),direction:i?void 0:"up"})})]}),(0,u.jsx)(aX,{duration:200*!!c,height:i?0:"auto",children:(0,u.jsx)("div",{className:"".concat(vf,"__content"),children:l})})]}),n[9]=c,n[10]=l,n[11]=i,n[12]=r,n[13]=x,n[14]=m,n[15]=g,n[16]=y,n[17]=t,n[18]=w):w=n[18],w}return n[19]!==l?(t=(0,u.jsx)(o.Fragment,{children:l}),n[19]=l,n[20]=t):t=n[20],t},vg="combobox",vv=e=>{let{entries:t,minEntriesForSearch:n=8,onSelect:l,onToggleClose:a,onToggleOpen:r,searchPlaceholder:i="Search...",...s}=e,[c,d]=(0,o.useState)(""),p=(0,o.useRef)(!1),h=(0,o.useRef)(null),f=(0,o.useMemo)(()=>{if(!c)return t;let e=c.toLowerCase();return t.filter(t=>t.name.toLowerCase().includes(e))},[t,c]),m=t.length>=n,g=f.length>0,v=o.useCallback(e=>{p.current=e,e&&m&&setTimeout(()=>{var e;null==(e=h.current)||e.focus()},100),null==r||r(e)},[m,r]),b=o.useCallback(()=>{p.current=!1,d(""),null==a||a()},[a]);return(0,u.jsx)(ty,{...s,className:"".concat(vg," ").concat(s.className||""),onToggleClose:b,onToggleOpen:v,render:e=>{let{close:t}=e;return(0,u.jsxs)("div",{className:"".concat(vg,"__content"),children:[m&&(0,u.jsx)("div",{className:"".concat(vg,"__search-wrapper").concat(g?"":" ".concat(vg,"__search-wrapper--no-results")),children:(0,u.jsx)("input",{"aria-label":i,className:"".concat(vg,"__search-input"),onChange:e=>d(e.target.value),placeholder:i,ref:h,type:"text",value:c})}),(0,u.jsx)(ts.ButtonGroup,{children:f.map((e,n)=>{let a=()=>{l&&l(e),t()};return(0,u.jsx)("div",{className:"".concat(vg,"__entry"),onClick:a,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),a())},role:"menuitem",tabIndex:0,children:e.Component},"".concat(e.name,"-").concat(n))})})]})}})};function vb(e){let{active:t}=e,{t:n}=(0,s.d)(),{config:l}=(0,i.c)(),{admin:{routes:{browseByFolder:a}},routes:{admin:o}}=l;return(0,u.jsxs)(te,{className:["browse-by-folder-button",t&&"active"].filter(Boolean).join(" "),href:(0,v.Q)({adminRoute:o,path:a}),id:"browse-by-folder",prefetch:!1,children:[(0,u.jsx)(pr,{}),n("folder:browseByFolder")]})}var vy=e=>{let{options:t,...n}=e,{field:l,field:{name:a,admin:{className:r,isClearable:i=!0,isSortable:c=!0,placeholder:d}={},hasMany:p=!1,label:h,localized:f,required:m},onChange:g,path:v,readOnly:b,validate:y}=n,{t:x}=(0,s.d)(),{folderType:w}=dJ(),j=o.useMemo(()=>w&&0!==w.length?uK(t.filter(e=>"object"!=typeof e||!e.value||w.includes(e.value))):uK(t),[t,w]),{customComponents:{AfterInput:C,BeforeInput:S,Description:_,Error:k,Label:N}={},disabled:E,path:P,selectFilterOptions:D,setValue:T,showError:A,value:R}=aA({potentiallyStalePath:v,validate:o.useCallback((e,t)=>{if("function"==typeof y)return y(e,{...t,hasMany:p,options:j,required:m})},[y,m,p,j])}),L=o.useCallback(e=>{if(!b||E){let t=null;e&&p?t=Array.isArray(e)&&e.length>0?e.map(e=>e.value):null:e&&!Array.isArray(e)&&(t=e.value),"function"==typeof g&&g(t),T(t)}},[b,E,p,T,g]),O=o.useMemo(()=>aF(l),[l]);return(0,u.jsx)(uW,{AfterInput:C,BeforeInput:S,className:r,Description:_,description:x("folder:folderTypeDescription"),Error:k,filterOption:D?e=>{let{value:t}=e;return null==D?void 0:D.some(e=>("string"==typeof e?e:e.value)===t)}:void 0,hasMany:p,isClearable:i,isSortable:c,Label:N,label:h,localized:f,name:a,onChange:L,options:j,path:P,placeholder:d,readOnly:b||E,required:m||Array.isArray(w)&&w.length>0,showError:A,style:O,value:R})},vx=()=>(0,u.jsx)("svg",{className:"icon icon--document",fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{clipRule:"evenodd",d:"M3.5 1C2.94772 1 2.5 1.44772 2.5 2V14C2.5 14.5523 2.94771 15 3.5 15H12.5C13.0523 15 13.5 14.5523 13.5 14V4.41421C13.5 4.149 13.3946 3.89464 13.2071 3.70711L10.7929 1.29289C10.6054 1.10536 10.351 1 10.0858 1H3.5ZM5 5.5C5 5.22386 5.22386 5 5.5 5H10.5C10.7761 5 11 5.22386 11 5.5C11 5.77614 10.7761 6 10.5 6H5.5C5.22386 6 5 5.77614 5 5.5ZM5 8.5C5 8.22386 5.22386 8 5.5 8H10.5C10.7761 8 11 8.22386 11 8.5C11 8.77614 10.7761 9 10.5 9H5.5C5.22386 9 5 8.77614 5 8.5ZM5 11.5C5 11.2239 5.22386 11 5.5 11H10.5C10.7761 11 11 11.2239 11 11.5C11 11.7761 10.7761 12 10.5 12H5.5C5.22386 12 5 11.7761 5 11.5Z",fill:"currentColor",fillRule:"evenodd"})}),vw="draggable-with-click",vj=e=>{let{as:t="div",children:n,className:l,disabled:a=!1,onClick:r,onKeyDown:i,ref:s,thresholdPixels:c=3}=e,d=(0,o.useId)(),{attributes:p,listeners:h,setNodeRef:f}=(0,g.PM)({id:d,disabled:a}),m=(0,o.useRef)({x:0,y:0}),v=(0,o.useRef)(!1);return(0,u.jsx)(t||"div",{role:"button",tabIndex:0,...p,className:[vw,l,a?"".concat(vw,"--disabled"):""].filter(Boolean).join(" "),onKeyDown:a?void 0:i,onPointerDown:a?void 0:r?e=>{m.current={x:e.clientX,y:e.clientY},v.current=!1;let t=n=>{let l=Math.abs(n.clientX-m.current.x),a=Math.abs(n.clientY-m.current.y);(l>c||a>c)&&(v.current=!0,(null==h?void 0:h.onPointerDown)&&(h.onPointerDown(e),r(n)),window.removeEventListener("pointermove",t))},n=e=>{window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",n),v.current||r(e)};window.addEventListener("pointermove",t),window.addEventListener("pointerup",n)}:void 0,ref:e=>{a||(f(e),s&&(s.current=e))},children:n})},vC="simple-table",vS=e=>{let{appearance:t,className:n,headerCells:l,tableRows:a}=e;return(0,u.jsx)("div",{className:[n,vC,t&&"".concat(vC,"--appearance-").concat(t)].filter(Boolean).join(" "),children:(0,u.jsxs)("table",{cellPadding:0,cellSpacing:0,className:"".concat(vC,"__table"),children:[(0,u.jsx)(v_,{children:(0,u.jsx)(vN,{children:l})}),(0,u.jsx)(vk,{children:a})]})})},v_=e=>{let{children:t,className:n,...l}=e;return(0,u.jsx)("thead",{className:"".concat(vC,"__thead ").concat(n||"").trim(),...l,children:t})},vk=e=>{let{children:t,className:n,...l}=e;return(0,u.jsx)("tbody",{className:"".concat(vC,"__tbody ").concat(n||"").trim(),...l,children:t})},vN=e=>{let{children:t,className:n,...l}=e;return(0,u.jsx)("tr",{className:"".concat(vC,"__tr ").concat(n||"").trim(),...l,children:t})},vE=e=>{let{children:t,className:n,...l}=e;return(0,u.jsx)("td",{className:"".concat(vC,"__td ").concat(n||"").trim(),...l,children:t})},vP=e=>{let{children:t,className:n,...l}=e;return(0,u.jsx)("th",{className:"".concat(vC,"__th ").concat(n||"").trim(),...l,children:t})},vD=e=>{let{children:t,className:n,...l}=e;return(0,u.jsx)("td",{className:"".concat(vC,"__hidden-cell ").concat(n||"").trim(),...l,children:t})},vT="draggable-table-row";function vA(e){let{id:t,columns:n,disabled:l=!1,dragData:a,isDroppable:r,isFocused:i,isSelected:s,isSelecting:c,itemKey:d,onClick:p,onKeyDown:h}=e,f=!l&&r&&!s,{isOver:m,setNodeRef:v}=(0,g.zM)({id:t,data:a,disabled:!f}),b=o.useRef(null);return o.useEffect(()=>{let e=b.current;return i&&b.current?b.current.focus():!i&&b.current&&b.current.blur(),()=>{e&&e.blur()}},[i]),(0,u.jsxs)(vj,{as:"tr",className:[vT,s&&"".concat(vT,"--selected"),c&&"".concat(vT,"--selecting"),l&&"".concat(vT,"--disabled"),i&&"".concat(vT,"--focused"),m&&"".concat(vT,"--over")].filter(Boolean).join(" "),onClick:p,onKeyDown:h,ref:b,children:[n.map((e,t)=>(0,u.jsx)(vE,{className:["".concat(vT,"__cell-content"),0===t&&"".concat(vT,"__first-td"),t===n.length-1&&"".concat(vT,"__last-td")].filter(Boolean).join(" "),children:e},"".concat(d,"-").concat(t))),f?(0,u.jsx)(vD,{children:(0,u.jsx)("div",{className:"".concat(vT,"__drop-area"),ref:v})}):null]},d)}var vR="folder-file-table";function vL(e){let t=(0,f.c)(39),{showRelationCell:n}=e,l=void 0===n||n,{checkIfItemIsDisabled:a,documents:r,focusedRowIndex:c,onItemClick:p,onItemKeyPress:h,selectedItemKeys:m,subfolders:g}=dJ(),{config:v}=(0,i.c)(),{i18n:b,t:y}=(0,s.d)(),x;t[0]!==v||t[1]!==b?(x=()=>{let e={};return v.collections.forEach(t=>{var n,l;e[t.slug]={plural:(0,d.s)(null==(n=t.labels)?void 0:n.plural,b),singular:(0,d.s)(null==(l=t.labels)?void 0:l.singular,b)}}),e},t[0]=v,t[1]=b,t[2]=x):x=t[2];let[w]=o.useState(x),j;t[3]!==l||t[4]!==y?(j=()=>{let e=[{name:"name",label:y("general:name")},{name:"createdAt",label:y("general:createdAt")},{name:"updatedAt",label:y("general:updatedAt")}];return l&&e.push({name:"type",label:y("version:type")}),e},t[3]=l,t[4]=y,t[5]=j):j=t[5];let[C]=o.useState(j),S;if(t[6]!==a||t[7]!==C||t[8]!==v||t[9]!==r||t[10]!==c||t[11]!==b||t[12]!==p||t[13]!==h||t[14]!==w||t[15]!==m||t[16]!==g){let e,n;t[18]!==a||t[19]!==C||t[20]!==v||t[21]!==c||t[22]!==b||t[23]!==p||t[24]!==h||t[25]!==w||t[26]!==m?(e=(e,t)=>{let{itemKey:n,relationTo:l,value:o}=e,r=(0,V.r)(o);return(0,u.jsx)(vA,{columns:C.map((t,a)=>{var r,i,s;let{name:c}=t,d="";return"name"===c&&void 0!==o._folderOrDocumentTitle&&(d=o._folderOrDocumentTitle),("createdAt"===c||"updatedAt"===c)&&o[c]&&(d=ar({date:o[c],i18n:b,pattern:v.admin.dateFormat})),"type"===c&&(d=(0,u.jsxs)(u.Fragment,{children:[(null==(r=w[l])?void 0:r.singular)||l,Array.isArray(null==(i=e.value)?void 0:i.folderType)?null==(s=e.value)?void 0:s.folderType.reduce((e,t,n)=>{var l,a;return 0===n?"  ".concat((null==(l=w[t])?void 0:l.plural)||t):n>0?"".concat(e,", ").concat((null==(a=w[t])?void 0:a.plural)||t):e},""):""]})),0===a?(0,u.jsxs)("span",{className:"".concat(vR,"__cell-with-icon"),children:[(0,u.jsx)(pr,{}),d]},"".concat(n,"-").concat(c)):d}),disabled:a(e),dragData:{id:r,type:"folder"},id:r,isDroppable:!0,isFocused:c===t,isSelected:m.has(n),isSelecting:m.size>0,itemKey:n,onClick:n=>{p({event:n,index:t,item:e})},onKeyDown:n=>{h({event:n,index:t,item:e})}},"".concat(t,"-").concat(n))},t[18]=a,t[19]=C,t[20]=v,t[21]=c,t[22]=b,t[23]=p,t[24]=h,t[25]=w,t[26]=m,t[27]=e):e=t[27],t[28]!==a||t[29]!==C||t[30]!==v||t[31]!==c||t[32]!==b||t[33]!==p||t[34]!==h||t[35]!==w||t[36]!==m||t[37]!==g.length?(n=(e,t)=>{let{itemKey:n,relationTo:l,value:o}=e,r=(0,V.r)(o),i=t+g.length;return(0,u.jsx)(vA,{columns:C.map((e,t)=>{var a;let{name:r}=e,i="";return"name"===r&&void 0!==o._folderOrDocumentTitle&&(i=o._folderOrDocumentTitle),("createdAt"===r||"updatedAt"===r)&&o[r]&&(i=ar({date:o[r],i18n:b,pattern:v.admin.dateFormat})),"type"===r&&(i=(null==(a=w[l])?void 0:a.singular)||l),0===t?(0,u.jsxs)("span",{className:"".concat(vR,"__cell-with-icon"),children:[(0,u.jsx)(vx,{}),i]},"".concat(n,"-").concat(r)):i}),disabled:a(e),dragData:{id:r,type:"document"},id:r,isFocused:c===i,isSelected:m.has(n),isSelecting:m.size>0,itemKey:n,onClick:t=>{p({event:t,index:i,item:e})},onKeyDown:t=>{h({event:t,index:i,item:e})}},"".concat(i,"-").concat(n))},t[28]=a,t[29]=C,t[30]=v,t[31]=c,t[32]=b,t[33]=p,t[34]=h,t[35]=w,t[36]=m,t[37]=g.length,t[38]=n):n=t[38],S=(0,u.jsx)(vS,{headerCells:C.map(vO),tableRows:[...g.map(e),...r.map(n)]}),t[6]=a,t[7]=C,t[8]=v,t[9]=r,t[10]=c,t[11]=b,t[12]=p,t[13]=h,t[14]=w,t[15]=m,t[16]=g,t[17]=S}else S=t[17];return S}function vO(e){let{name:t,label:n}=e;return(0,u.jsx)(vP,{children:n},t)}function vF(e){let{className:t=""}=e;return(0,u.jsxs)("div",{className:"icon icon--dots ".concat(t).trim(),children:[(0,u.jsx)("div",{}),(0,u.jsx)("div",{}),(0,u.jsx)("div",{})]})}var vM="folder-file-card";function vI(e){let{id:t,type:n,className:l="",disabled:a=!1,folderType:r,isDeleting:i=!1,isFocused:s=!1,isSelected:c=!1,itemKey:d,onClick:p,onKeyDown:h,PopupActions:f,previewUrl:m,selectedCount:v=0,title:b}=e,y=!t||a||"folder"!==n,{isOver:x,setNodeRef:w}=(0,g.zM)({id:d,data:{id:t,type:n,folderType:r},disabled:y}),j=o.useRef(null);return o.useEffect(()=>{let e=j.current;return s&&j.current?j.current.focus():!s&&j.current&&j.current.blur(),()=>{e&&e.blur()}},[s]),(0,u.jsxs)(vj,{className:[vM,l,c&&"".concat(vM,"--selected"),a&&"".concat(vM,"--disabled"),i&&"".concat(vM,"--deleting"),s&&"".concat(vM,"--focused"),x&&"".concat(vM,"--over"),"".concat(vM,"--").concat(n)].filter(Boolean).join(" "),disabled:a||!p&&!h,onClick:p,onKeyDown:h,ref:j,children:[y?null:(0,u.jsx)("div",{className:"".concat(vM,"__drop-area"),ref:w}),"file"===n?(0,u.jsx)("div",{className:"".concat(vM,"__preview-area"),children:m?(0,u.jsx)(cH,{fileSrc:m}):(0,u.jsx)(vx,{})}):null,(0,u.jsxs)("div",{className:"".concat(vM,"__titlebar-area"),children:[(0,u.jsx)("div",{className:"".concat(vM,"__icon-wrap"),children:"file"===n?(0,u.jsx)(vx,{}):(0,u.jsx)(pr,{})}),(0,u.jsxs)("div",{className:"".concat(vM,"__titlebar-labels"),children:[(0,u.jsx)("p",{className:"".concat(vM,"__name"),title:b,children:(0,u.jsx)("span",{children:b})}),r&&r.length>0?(0,u.jsx)(vB,{folderType:r}):null]}),f?(0,u.jsx)(ty,{button:(0,u.jsx)(vF,{}),disabled:v>1||1===v&&!c,horizontalAlign:"right",size:"large",verticalAlign:"bottom",children:f}):null]})]},d)}function vB(e){let{folderType:t}=e,{config:n}=(0,i.c)(),{i18n:l}=(0,s.d)(),a=o.useMemo(()=>t.reduce((e,t)=>{var a;let o=null==(a=n.collections)?void 0:a.find(e=>e.slug===t);return o?[...e,(0,d.s)(o.labels.plural,l)]:e},[]),[t,n.collections,l]);return(0,u.jsx)("p",{className:"".concat(vM,"__assigned-collections"),children:a.map((e,n)=>(0,u.jsxs)("span",{children:[e,n<t.length-1?", ":""]},e))})}function vz(e){let t=(0,f.c)(18),{type:n,className:l,index:a,item:o}=e,{checkIfItemIsDisabled:r,focusedRowIndex:i,onItemClick:s,onItemKeyPress:c,selectedItemKeys:d}=dJ(),p;if(t[0]!==r||t[1]!==l||t[2]!==i||t[3]!==a||t[4]!==o||t[5]!==s||t[6]!==c||t[7]!==d||t[8]!==n){let e,h=d.has(o.itemKey),f=r(o),m;t[10]!==a||t[11]!==o||t[12]!==s?(m=e=>{s({event:e,index:a,item:o})},t[10]=a,t[11]=o,t[12]=s,t[13]=m):m=t[13],t[14]!==a||t[15]!==o||t[16]!==c?(e=e=>{c({event:e,index:a,item:o})},t[14]=a,t[15]=o,t[16]=c,t[17]=e):e=t[17],p=(0,u.jsx)(vI,{className:l,disabled:f,folderType:o.value.folderType||[],id:o.value.id,isFocused:i===a,isSelected:h,itemKey:o.itemKey,onClick:m,onKeyDown:e,previewUrl:o.value.url,title:o.value._folderOrDocumentTitle,type:n}),t[0]=r,t[1]=l,t[2]=i,t[3]=a,t[4]=o,t[5]=s,t[6]=c,t[7]=d,t[8]=n,t[9]=p}else p=t[9];return p}var vU="item-card-grid";function vV(e){let{type:t,items:n,subfolderCount:l,title:a}=e;return(0,u.jsxs)(u.Fragment,{children:[a&&(0,u.jsx)("p",{className:"".concat(vU,"__title"),children:a}),(0,u.jsx)("div",{className:vU,children:n&&(null==n?void 0:n.length)!==0?n.map((e,n)=>{let{itemKey:a}=e;return(0,u.jsx)(vz,{index:n+(l||0),item:e,type:t},a)}):null})]})}function vH(e){return void 0===e||"number"==typeof e?e:decodeURIComponent(e)}var vq=e=>{let t=(0,f.c)(9),{id:n,className:l,prefix:a}=e,o=void 0===a?"ID:":a,{config:r}=(0,i.c)(),{routes:s}=r,{admin:c}=s,{collectionSlug:d,globalSlug:p}=aC(),h=lr(),m="/".concat(d?"collections/".concat(d):"globals/".concat(p),"/").concat(n),g;if(t[0]!==c||t[1]!==l||t[2]!==h||t[3]!==n||t[4]!==o||t[5]!==m){let e=(0,v.Q)({adminRoute:c,path:m}),a;t[7]!==l?(a=["id-label",l].filter(Boolean),t[7]=l,t[8]=a):a=t[8],g=(0,u.jsxs)("div",{className:a.join(" "),title:n,children:[o,"\xa0",h>1?(0,u.jsx)(te,{href:e,children:vH(n)}):vH(n)]}),t[0]=c,t[1]=l,t[2]=h,t[3]=n,t[4]=o,t[5]=m,t[6]=g}else g=t[6];return g},vW="render-title",vK=e=>{let t=(0,f.c)(10),{className:n,element:l,fallback:a,title:r}=e,{id:i,isInitializing:s}=aC(),{title:c}=ap(),d=r||c||a,p=d===i,h=void 0===l?"h1":l,m;if(t[0]!==h||t[1]!==n||t[2]!==i||t[3]!==p||t[4]!==s||t[5]!==d){let e=(0,u.jsx)(o.Fragment,{children:"\xa0"}),l=p&&"".concat(vW,"--has-id"),a;t[7]!==n||t[8]!==l?(a=[n,vW,l].filter(Boolean),t[7]=n,t[8]=l,t[9]=a):a=t[9],m=(0,u.jsx)(h,{className:a.join(" "),"data-doc-id":i,title:d,children:s?e:(0,u.jsx)(o.Fragment,{children:p?(0,u.jsx)(vq,{className:"".concat(vW,"__id"),id:i}):d||e})}),t[0]=h,t[1]=n,t[2]=i,t[3]=p,t[4]=s,t[5]=d,t[6]=m}else m=t[6];return m},vQ="sort-column",vY=e=>{let t,n=(0,f.c)(19),{name:l,appearance:a,disable:o,Label:r,label:i}=e,c=void 0!==o&&o,{handleSortChange:d,query:p}=s5(),{t:h}=(0,s.d)(),{sort:m}=p,g="-".concat(l),v;n[0]!==l||n[1]!==m?(v=["".concat(vQ,"__asc")],m===l&&v.push("".concat(vQ,"--active")),n[0]=l,n[1]=m,n[2]=v):v=n[2],n[3]!==g||n[4]!==m?(t=["".concat(vQ,"__desc")],m===g&&t.push("".concat(vQ,"--active")),n[3]=g,n[4]=m,n[5]=t):t=n[5];let b=a&&"".concat(vQ,"--appearance-").concat(a),y;n[6]!==b?(y=[vQ,b].filter(Boolean),n[6]=b,n[7]=y):y=n[7];let x=y.join(" "),w;return n[8]!==r||n[9]!==l||n[10]!==v||n[11]!==g||n[12]!==t||n[13]!==c||n[14]!==d||n[15]!==i||n[16]!==h||n[17]!==x?(w=(0,u.jsxs)("div",{className:x,children:[(0,u.jsx)("span",{className:"".concat(vQ,"__label"),children:null!=r?r:(0,u.jsx)(lC,{hideLocale:!0,label:i,unstyled:!0})}),!c&&(0,u.jsxs)("div",{className:"".concat(vQ,"__buttons"),children:[(0,u.jsx)("button",{"aria-label":h("general:sortByLabelDirection",{direction:h("general:ascending"),label:i}),className:[...v,"".concat(vQ,"__button")].filter(Boolean).join(" "),onClick:()=>void d(l),type:"button",children:(0,u.jsx)(tl,{direction:"up"})}),(0,u.jsx)("button",{"aria-label":h("general:sortByLabelDirection",{direction:h("general:descending"),label:i}),className:[...t,"".concat(vQ,"__button")].filter(Boolean).join(" "),onClick:()=>void d(g),type:"button",children:(0,u.jsx)(tl,{})})]})]}),n[8]=r,n[9]=l,n[10]=v,n[11]=g,n[12]=t,n[13]=c,n[14]=d,n[15]=i,n[16]=h,n[17]=x,n[18]=w):w=n[18],w},vG="item-search",vX=e=>{let t=(0,f.c)(7),{placeholder:n,setSearchTerm:l}=e,a=(0,o.useId)(),r="".concat(a,"-label"),i;t[0]!==l?(i=e=>{l(e.target.value)},t[0]=l,t[1]=i):i=t[1];let s=i,c;return t[2]!==s||t[3]!==a||t[4]!==r||t[5]!==n?(c=(0,u.jsxs)("div",{className:vG,children:[(0,u.jsx)("label",{className:"sr-only",htmlFor:a,id:r,children:n}),(0,u.jsx)("input",{"aria-labelledby":r,className:"".concat(vG,"__input"),id:a,onChange:s,placeholder:n,type:"text"}),(0,u.jsx)(oi,{})]}),t[2]=s,t[3]=a,t[4]=r,t[5]=n,t[6]=c):c=t[6],c},v$="items-drawer",vZ=e=>{let{addRowIndex:t,drawerSlug:n,items:l,labels:a,onItemClick:r,searchPlaceholder:c,title:p}=e,[h,f]=(0,o.useState)(""),[m,g]=(0,o.useState)(l),{closeModal:v,isModalOpen:b}=nj(),{i18n:y,t:x}=(0,s.d)(),{config:w}=(0,i.c)(),j=(0,o.useMemo)(()=>{let e={_none:[]};return m.forEach(t=>{var n;if("object"==typeof t&&"admin"in t&&(null==(n=t.admin)?void 0:n.group)){let n=t.admin.group,l="string"==typeof n?n:(0,d.s)(n,y);Object.hasOwn(e,l)?e[l].push(t):e[l]=[t]}else e._none.push(t)}),e},[m,y]);(0,o.useEffect)(()=>{b(n)||f("")},[b,n]),(0,o.useEffect)(()=>{let e=h.toLowerCase();g((null==l?void 0:l.reduce((t,n)=>{var l;let a;return(a="string"==typeof n?null==(l=w.blocksMap)?void 0:l[n]:n)&&((e,t)=>{var n;if("labels"in e&&(null==(n=e.labels)?void 0:n.singular)){if("string"==typeof e.labels.singular)return e.labels.singular.toLowerCase();if("object"==typeof e.labels.singular)return(0,d.s)(e.labels.singular,t).toLowerCase()}if("label"in e&&e.label){if("string"==typeof e.label)return e.label.toLowerCase();if("object"==typeof e.label)return(0,d.s)(e.label,t).toLowerCase()}return"slug"in e?(0,Q.x4)(e.slug).toLowerCase():""})(a,y).includes(e)&&t.push(a),t},[]))||[])},[h,l,y,w.blocksMap]);let C=p||(a?x("fields:addLabel",{label:(0,d.s)(a.singular,y)}):x("fields:addNew"));return(0,u.jsxs)(ll,{slug:n,title:C,children:[(0,u.jsx)(vX,{placeholder:c||x("fields:searchForBlock"),setSearchTerm:f}),(0,u.jsx)("div",{className:"".concat(v$,"__items-wrapper"),children:(0,u.jsx)("ul",{className:"".concat(v$,"__item-groups"),children:Object.entries(j).map(e=>{let[l,a]=e;return a.length?(0,u.jsxs)("li",{className:["".concat(v$,"__item-group"),"_none"===l&&"".concat(v$,"__item-group-none")].filter(Boolean).join(" "),children:["_none"!==l&&(0,u.jsx)("h3",{className:"".concat(v$,"__item-group-label"),children:l}),(0,u.jsx)("ul",{className:"".concat(v$,"__items"),children:a.map((e,l)=>{var a;let o="string"==typeof e?null==(a=w.blocksMap)?void 0:a[e]:e;if(!o)return null;let{imageAltText:i,imageURL:s}=(e=>"imageURL"in e?{imageAltText:e.imageAltText,imageURL:e.imageURL}:{imageAltText:void 0,imageURL:void 0})(o),c=((e,t)=>{var n;if("labels"in e&&(null==(n=e.labels)?void 0:n.singular))return(0,d.s)(e.labels.singular,t);if("label"in e&&e.label){if("string"==typeof e.label)return e.label;if("object"==typeof e.label)return(0,d.s)(e.label,t)}return(0,Q.x4)(e.slug)})(o,y);return(0,u.jsx)("li",{className:"".concat(v$,"__item"),children:(0,u.jsx)(a9,{alignLabel:"center",label:c,onClick:()=>{r(o,t),v(n)},thumbnail:(0,u.jsx)("div",{className:"".concat(v$,"__default-image"),children:s?(0,u.jsx)("img",{alt:i,src:s}):(0,u.jsx)(or,{})})})},l)})})]},l):null})})})]})},vJ=e=>{let t=(0,f.c)(24),{field:n,path:l,readOnly:a,useAsSlug:r}=e,{label:i}=n,{t:c}=(0,s.d)(),{collectionSlug:d,globalSlug:p}=aC(),{slugify:h}=ce(),m=l||n.name,g;t[0]!==m?(g={path:m},t[0]=m,t[1]=g):g=t[1];let{setValue:v,value:b}=aA(g),{getData:y,getDataByPath:x}=eE(),[w,j]=(0,o.useState)(!0),C;t[2]!==d||t[3]!==y||t[4]!==x||t[5]!==p||t[6]!==l||t[7]!==v||t[8]!==h||t[9]!==r||t[10]!==b?(C=async e=>{e.preventDefault();let t=x(r),n=await h({collectionSlug:d,data:y(),globalSlug:p,path:l,valueToSlugify:t});if(null==n)return void v("");b!==n&&v(n)},t[2]=d,t[3]=y,t[4]=x,t[5]=p,t[6]=l,t[7]=v,t[8]=h,t[9]=r,t[10]=b,t[11]=C):C=t[11];let S=C,_;t[12]===Symbol.for("react.memo_cache_sentinel")?(_=e=>{e.preventDefault(),j(v0)},t[12]=_):_=t[12];let k=_,N="field-".concat(l),E;return t[13]!==n.name||t[14]!==S||t[15]!==w||t[16]!==i||t[17]!==l||t[18]!==a||t[19]!==v||t[20]!==c||t[21]!==N||t[22]!==b?(E=(0,u.jsxs)("div",{className:"field-type slug-field-component",children:[(0,u.jsxs)("div",{className:"label-wrapper",children:[(0,u.jsx)(lC,{htmlFor:N,label:i}),!w&&(0,u.jsx)(tS,{buttonStyle:"none",className:"lock-button",onClick:S,children:c("authentication:generate")}),(0,u.jsx)(tS,{buttonStyle:"none",className:"lock-button",onClick:k,children:c(w?"general:unlock":"general:lock")})]}),(0,u.jsx)(du,{onChange:v,path:l||n.name,readOnly:!!(a||w),value:b})]}),t[13]=n.name,t[14]=S,t[15]=w,t[16]=i,t[17]=l,t[18]=a,t[19]=v,t[20]=c,t[21]=N,t[22]=b,t[23]=E):E=t[23],E};function v0(e){return!e}var v1=()=>(0,u.jsx)("svg",{"aria-hidden":"true",className:"graphic code-block-icon",focusable:"false",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M14 12.6667L16.6667 9.99999L14 7.33332M5.99999 7.33332L3.33333 9.99999L5.99999 12.6667M11.6667 4.66666L8.33333 15.3333",strokeLinecap:"square"})}),v3="minimize-maximize",v2=e=>{let{className:t,isMinimized:n}=e,l=[v3,n?"".concat(v3,"--minimized"):"".concat(v3,"--maximized"),t].filter(Boolean).join(" ");return(0,u.jsx)("svg",{className:l,height:"20",stroke:"currentColor",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:n?(0,u.jsx)("path",{d:"M7.33333 4H5.33333C4.97971 4 4.64057 4.14048 4.39052 4.39052C4.14048 4.64057 4 4.97971 4 5.33333V7.33333M16 7.33333V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12.6667M4 12.6667V14.6667C4 15.0203 4.14048 15.3594 4.39052 15.6095C4.64057 15.8595 4.97971 16 5.33333 16H7.33333M12.6667 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V12.6667"}):(0,u.jsx)("path",{d:"M7.33333 4V6C7.33333 6.35362 7.19286 6.69276 6.94281 6.94281C6.69276 7.19286 6.35362 7.33333 6 7.33333H4M16 7.33333H14C13.6464 7.33333 13.3072 7.19286 13.0572 6.94281C12.8071 6.69276 12.6667 6.35362 12.6667 6V4M4 12.6667H6C6.35362 12.6667 6.69276 12.8071 6.94281 13.0572C7.19286 13.3072 7.33333 13.6464 7.33333 14V16M12.6667 16V14C12.6667 13.6464 12.8071 13.3072 13.0572 13.0572C13.3072 12.8071 13.6464 12.6667 14 12.6667H16"})})},v6=e=>{let{ariaLabel:t,className:n}=e;return(0,u.jsx)("div",{"aria-label":t,className:[n,"gear"].filter(Boolean).join(" "),children:(0,u.jsx)("svg",{className:"icon icon--gear",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M9.33337 8.84671L6.66671 4.22671M9.33337 11.1534L6.66671 15.7734M10 16.6667V15.3334M10 15.3334C12.9456 15.3334 15.3334 12.9456 15.3334 10C15.3334 7.05452 12.9456 4.66671 10 4.66671M10 15.3334C7.05452 15.3334 4.66671 12.9456 4.66671 10M10 3.33337V4.66671M10 4.66671C7.05452 4.66671 4.66671 7.05452 4.66671 10M11.3334 10H16.6667M11.3334 10C11.3334 10.7364 10.7364 11.3334 10 11.3334C9.26366 11.3334 8.66671 10.7364 8.66671 10C8.66671 9.26366 9.26366 8.66671 10 8.66671C10.7364 8.66671 11.3334 9.26366 11.3334 10ZM13.3334 15.7734L12.6667 14.62M13.3334 4.22671L12.6667 5.38004M3.33337 10H4.66671M15.7734 13.3334L14.62 12.6667M15.7734 6.66671L14.62 7.33337M4.22671 13.3334L5.38004 12.6667M4.22671 6.66671L5.38004 7.33337",strokeLinecap:"round",strokeLinejoin:"round"})})})};function v5(){return(0,u.jsxs)("svg",{className:"icon icon--move-folder",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("g",{filter:"url(#filter0_d_278_1086)",children:(0,u.jsx)("path",{d:"M5.33334 10V7.33334C5.33334 6.97971 5.47382 6.64058 5.72387 6.39053C5.97392 6.14048 6.31305 6 6.66668 6H9.26668C9.48967 5.99782 9.70965 6.0516 9.90648 6.15642C10.1033 6.26124 10.2707 6.41375 10.3933 6.6L10.9333 7.4C11.0547 7.58436 11.22 7.73568 11.4143 7.84041C11.6087 7.94513 11.8259 7.99997 12.0467 8H17.3333C17.687 8 18.0261 8.14048 18.2762 8.39053C18.5262 8.64058 18.6667 8.97971 18.6667 9.33334V16C18.6667 16.3536 18.5262 16.6928 18.2762 16.9428C18.0261 17.1929 17.687 17.3333 17.3333 17.3333H6.66668C6.31305 17.3333 5.97392 17.1929 5.72387 16.9428C5.47382 16.6928 5.33334 16.3536 5.33334 16V15.3333M5.33334 12.6667H12M12 12.6667L10 14.6667M12 12.6667L10 10.6667",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,u.jsx)("defs",{children:(0,u.jsx)("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"26",id:"filter0_d_278_1086",width:"26",x:"-1",y:"-1",children:(0,u.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_278_1086",mode:"normal",result:"shape"})})})]})}var v4=()=>(0,u.jsxs)("svg",{className:"icon icon--grid-view",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M8 4H4.66667C4.29848 4 4 4.29848 4 4.66667V8C4 8.36819 4.29848 8.66667 4.66667 8.66667H8C8.36819 8.66667 8.66667 8.36819 8.66667 8V4.66667C8.66667 4.29848 8.36819 4 8 4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M15.3333 4H12C11.6318 4 11.3333 4.29848 11.3333 4.66667V8C11.3333 8.36819 11.6318 8.66667 12 8.66667H15.3333C15.7015 8.66667 16 8.36819 16 8V4.66667C16 4.29848 15.7015 4 15.3333 4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M15.3333 11.3333H12C11.6318 11.3333 11.3333 11.6318 11.3333 12V15.3333C11.3333 15.7015 11.6318 16 12 16H15.3333C15.7015 16 16 15.7015 16 15.3333V12C16 11.6318 15.7015 11.3333 15.3333 11.3333Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M8 11.3333H4.66667C4.29848 11.3333 4 11.6318 4 12V15.3333C4 15.7015 4.29848 16 4.66667 16H8C8.36819 16 8.66667 15.7015 8.66667 15.3333V12C8.66667 11.6318 8.36819 11.3333 8 11.3333Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]}),v8=()=>(0,u.jsx)("svg",{className:"icon icon--list-view",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M4 10H16M4 14H16M4 6H16",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),v7=()=>(0,u.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-error-500)"}),(0,u.jsx)("path",{d:"M15.4001 10.5996L10.6001 15.3996M10.6001 10.5996L15.4001 15.3996",stroke:"var(--theme-error-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),v9=()=>(0,u.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-elevation-500)"}),(0,u.jsx)("path",{d:"M13 16.1998V12.9998M13 9.7998H13.0077",stroke:"var(--theme-elevation-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),be=()=>(0,u.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-success-500)"}),(0,u.jsx)("path",{d:"M10.6001 13.0004L12.2001 14.6004L15.4001 11.4004",stroke:"var(--theme-success-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),bt=()=>(0,u.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-warning-500)"}),(0,u.jsx)("path",{d:"M13 10V13.2M13 16.4H13.008",stroke:"var(--theme-warning-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),bn=o.createContext({addClientFunction:()=>null,removeClientFunction:()=>null}),bl=o.createContext({}),ba=e=>{let t=(0,f.c)(6),{children:n}=e,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={},t[0]=l):l=t[0];let[a,r]=o.useState(l),i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=e=>{r(t=>{let n={...t};return n[e.key]=e.func,n})},t[1]=i):i=t[1];let s=i,c;t[2]===Symbol.for("react.memo_cache_sentinel")?(c=e=>{r(t=>{let n={...t};return delete n[e.key],n})},t[2]=c):c=t[2];let d=c,p;return t[3]!==n||t[4]!==a?(p=(0,u.jsx)(bn,{value:{addClientFunction:s,removeClientFunction:d},children:(0,u.jsx)(bl,{value:a,children:n})}),t[3]=n,t[4]=a,t[5]=p):p=t[5],p},bo=(e,t)=>{let n=(0,f.c)(6),{addClientFunction:l,removeClientFunction:a}=o.use(bn),r,i;n[0]!==l||n[1]!==t||n[2]!==e||n[3]!==a?(r=()=>(l({func:t,key:e}),()=>{a({func:t,key:e})}),i=[t,e,l,a],n[0]=l,n[1]=t,n[2]=e,n[3]=a,n[4]=r,n[5]=i):(r=n[4],i=n[5]),o.useEffect(r,i)},br=()=>o.use(bl),bi=e=>(null==e?void 0:e.startsWith("http://"))||(null==e?void 0:e.startsWith("https://"))?e:(e=>{try{return new URL(e,window.location.origin).href}catch(t){return e}})(e),bs=e=>{var t;let{collisionRect:n,droppableContainers:l,...a}=e,o=l.find(e=>{let{id:t}=e;return"live-preview-area"===t}),r=(0,g.Qo)({...a,collisionRect:n,droppableContainers:[o]});if(0===r.length)return r;let i=null==o||null==(t=o.rect)?void 0:t.current;if(n.top>=i.top&&n.left>=i.left&&n.bottom<=i.bottom&&n.right<=i.right)return r},bc=(e,t)=>{switch(t.type){case"height":return{...e,height:t.value};case"width":return{...e,width:t.value};default:return{...e,...(null==t?void 0:t.value)||{}}}},bu=e=>{let{breakpoints:t,children:n,isLivePreviewEnabled:l,isLivePreviewing:a,isPreviewEnabled:r,previewURL:s,typeofLivePreviewURL:c,url:d}=e,[p,h]=(0,o.useState)("iframe"),[m,v]=(0,o.useState)(a),b=(0,o.useMemo)(()=>[...t||[],{name:"responsive",height:"100%",label:"Responsive",width:"100%"}],[t]),[y,x]=(0,o.useState)(""),[w,j]=(0,o.useState)(s),{isPopupOpen:C,openPopupWindow:S,popupRef:_}=(e=>{let t,n,l=(0,f.c)(15),{eventType:a,onMessage:r,url:s}=e,c=(0,o.useRef)(!1),[u,d]=(0,o.useState)(!1),{config:p}=(0,i.c)(),{serverURL:h}=p,m=(0,o.useRef)(null),g,v;l[0]!==a||l[1]!==u||l[2]!==r||l[3]!==h||l[4]!==s?(g=()=>{let e=async e=>{var t,n;e.origin!==window.location.origin||e.origin!==s||e.origin!==h||"function"!=typeof r||(null==(t=e.data)?void 0:t.type)!==a||c.current||(c.current=!0,await r(null==(n=e.data)?void 0:n.searchParams),c.current=!1)};return u&&m.current&&window.addEventListener("message",e,!1),()=>{window.removeEventListener("message",e)}},v=[r,a,s,h,u],l[0]=a,l[1]=u,l[2]=r,l[3]=h,l[4]=s,l[5]=g,l[6]=v):(g=l[5],v=l[6]),(0,o.useEffect)(g,v),l[7]!==s?(t=e=>{e&&e.preventDefault();let t={height:700,left:"auto",menubar:"no",popup:"yes",toolbar:"no",top:"auto",width:800},n=Object.entries(t).reduce((e,n)=>{let[l,a]=n,o=e;if("auto"===a){if("top"===l){let e=Math.round(window.innerHeight/2-t.height/2);o+="top=".concat(e,",")}else if("left"===l){let e=Math.round(window.innerWidth/2-t.width/2);o+="left=".concat(e,",")}return o}return o+"".concat(l,"=").concat(a,",")},"").slice(0,-1);m.current=window.open(s,"_blank",n),d(!0)},l[7]=s,l[8]=t):t=l[8];let b=t,y,x;return l[9]!==u?(y=()=>{let e;return u?e=setInterval(function(){m.current.closed&&(clearInterval(e),d(!1))},1e3):clearInterval(e),()=>{e&&clearInterval(e)}},x=[u,m],l[9]=u,l[10]=y,l[11]=x):(y=l[10],x=l[11]),(0,o.useEffect)(y,x),l[12]!==u||l[13]!==b?(n={isPopupOpen:u,openPopupWindow:b,popupRef:m},l[12]=u,l[13]=b,l[14]=n):n=l[14],n})({eventType:"payload-live-preview",url:y}),[k,N]=(0,o.useState)(!1),[E,P]=(0,o.useState)(!1),{collectionSlug:D,globalSlug:T}=aC(),A=(0,o.useRef)(!0),{setPreference:R}=av(),L=o.useRef(null),[O,F]=(0,o.useState)(),[M,I]=(0,o.useState)(1),[B,z]=(0,o.useState)({x:0,y:0}),[U,V]=o.useReducer(bc,{height:0,width:0}),[H,q]=(0,o.useState)({height:0,width:0}),[W,K]=o.useState("responsive"),Q=(0,o.useCallback)(e=>{let t;"string"==typeof e&&(t=bi(e)),t||v(!1),t!==y&&(N(!1),x(t))},[y]);(0,o.useEffect)(()=>{"string"==typeof d&&x(bi(d))},[d]);let Y=(0,o.useCallback)(e=>{V({type:"width",value:e})},[V]),G=(0,o.useCallback)(e=>{V({type:"height",value:e})},[V]);(0,o.useEffect)(()=>{let e=null==b?void 0:b.find(e=>e.name===W);e&&"responsive"!==W&&"custom"!==W&&"number"==typeof(null==e?void 0:e.width)&&"number"==typeof(null==e?void 0:e.height)&&V({type:"reset",value:{height:e.height,width:e.width}})},[W,b]),(0,o.useEffect)(()=>{let e=e=>{(null==y?void 0:y.startsWith(e.origin))&&e.data&&"object"==typeof e.data&&"payload-live-preview"===e.data.type&&e.data.ready&&N(!0)};return window.addEventListener("message",e),P(!0),()=>{window.removeEventListener("message",e)}},[y,E]);let X=(0,o.useCallback)(e=>{N(!1),h(e),"popup"===e&&S()},[S]);return(0,o.useEffect)(()=>{(C?"popup":"iframe")!==p&&X("iframe")},[p,C,X]),(0,o.useEffect)(()=>{if(A.current){A.current=!1;return}R(D?"collection-".concat(D):"global-".concat(T),{editViewType:m?"live-preview":"default"},!0)},[m,R,D,T]),(0,u.jsx)(mm,{value:{appIsReady:k,breakpoint:W,breakpoints:b,iframeRef:L,isLivePreviewEnabled:l,isLivePreviewing:m,isPopupOpen:C,isPreviewEnabled:r,listeningForMessages:E,loadedURL:O,measuredDeviceSize:H,openPopupWindow:S,popupRef:_,previewURL:w,previewWindowType:p,setAppIsReady:N,setBreakpoint:K,setHeight:G,setIsLivePreviewing:v,setLoadedURL:F,setMeasuredDeviceSize:q,setPreviewURL:j,setPreviewWindowType:X,setSize:V,setToolbarPosition:z,setURL:Q,setWidth:Y,setZoom:I,size:U,toolbarPosition:B,typeofLivePreviewURL:c,url:y,zoom:M},children:(0,u.jsx)(g.Mp,{collisionDetection:bs,onDragEnd:e=>{e.over&&"live-preview-area"===e.over.id&&z({x:B.x+e.delta.x,y:B.y+e.delta.y})},children:n})})},bd="progress-bar",bp=()=>{let e=(0,f.c)(9),{isTransitioning:t,transitionProgress:n}=e4(),[l,a]=o.useState(null),r=(0,o.useRef)(!0),i,s;if(e[0]!==t||e[1]!==n?(i=()=>{let e,l;return t?r.current?l=setTimeout(()=>{a(n),r.current=!1},150):a(n):(r.current=!0,a(1),e=setTimeout(()=>{a(null)},400)),()=>{clearTimeout(e),clearTimeout(l)}},s=[t,n],e[0]=t,e[1]=n,e[2]=i,e[3]=s):(i=e[2],s=e[3]),(0,o.useEffect)(i,s),"number"==typeof l){let t=1===l&&"".concat(bd,"--fade-out"),n;e[4]!==t?(n=[bd,t].filter(Boolean),e[4]=t,e[5]=n):n=e[5];let a=n.join(" "),o;return e[6]!==l||e[7]!==a?(o=(0,u.jsx)("div",{className:a,style:{"--transition-duration":"".concat(200,"ms")},children:(0,u.jsx)("div",{className:"".concat(bd,"__progress"),style:{width:"".concat(100*(l||0),"%")}})}),e[6]=l,e[7]=a,e[8]=o):o=e[8],o}return null},bh=(0,o.createContext)({}),bf=e=>{let t=(0,f.c)(6),{children:n,visibleEntities:l}=e,a;t[0]!==l?(a=e=>{let{collectionSlug:t,globalSlug:n}=e;return t?l.collections.includes(t):!!n&&l.globals.includes(n)},t[0]=l,t[1]=a):a=t[1];let o=a,r;return t[2]!==n||t[3]!==o||t[4]!==l?(r=(0,u.jsx)(bh,{value:{isEntityVisible:o,visibleEntities:l},children:n}),t[2]=n,t[3]=o,t[4]=l,t[5]=r):r=t[5],r},bm=()=>(0,o.use)(bh),bg=(0,o.createContext)({}),bv=e=>{let t=(0,f.c)(3),{children:n}=e,l=(0,h.useParams)(),a;return t[0]!==n||t[1]!==l?(a=(0,u.jsx)(bg,{value:l,children:n}),t[0]=n,t[1]=l,t[2]=a):a=t[2],a},bb=()=>(0,o.use)(bg),by=(0,o.createContext)({}),bx=()=>(0,o.useContext)(by),bw=(e,t)=>{let{timestamp:n,animationRef:l}=t;l.current=null;let{x:a,y:o,xDirection:r,yDirection:i,eventsFired:s,hasScrolled:c}=e,u=c||!!n,d=u?window.pageXOffset:0,p=u?window.pageYOffset:0,h=d-a,f=p-o,m=d/(document.body.scrollWidth-window.innerWidth)*100,g=p/(document.body.scrollHeight-window.innerHeight)*100;return{x:d,y:p,xDifference:h,yDifference:f,xDirection:h>0?"right":h<0?"left":r,yDirection:f>0?"down":f<0?"up":i,xPercentage:m,yPercentage:g,totalPercentage:(m+g)/2,eventsFired:u?s+1:s,hasScrolled:u}},bj=e=>{let{children:t}=e,n=(0,o.useRef)(null),[l,a]=(0,o.useReducer)(bw,{x:0,y:0,xDifference:0,yDifference:0,xDirection:void 0,yDirection:void 0,xPercentage:0,yPercentage:0,totalPercentage:0,eventsFired:0,hasScrolled:!1}),r=(0,o.useCallback)(e=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(t=>{a({e:e,timestamp:t,animationRef:n})})},[]);return(0,o.useEffect)(()=>(window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}),[r]),o.createElement(by.Provider,{value:Object.assign({},l)},t&&t)};function bC(){let e,t=(0,f.c)(6),{closeAllModals:n}=nj(),l=(0,h.usePathname)(),a;t[0]!==n?(a=()=>{n()},t[0]=n,t[1]=a):a=t[1];let r=tf(a),i=(0,o.useRef)(!0),s;return t[2]!==r?(s=()=>{if(i.current){i.current=!1;return}r()},t[2]=r,t[3]=s):s=t[3],t[4]!==l?(e=[l],t[4]=l,t[5]=e):e=t[5],(0,o.useEffect)(s,e),null}var{WindowInfoProvider:bS}=p4&&"WindowInfoProvider"in p4?p4:{WindowInfoProvider:void 0},{useWindowInfo:b_}=p4&&"useWindowInfo"in p4?p4:{useWindowInfo:void 0},bk=(0,o.createContext)({searchParams:{},stringifyParams:()=>""}),bN=e=>{let{children:t}=e,n=(0,h.useSearchParams)().toString(),l=o.useMemo(()=>k.q(n,{depth:10,ignoreQueryPrefix:!0}),[n]),a=o.useCallback(e=>{let{params:t,replace:n=!1}=e;return b.A({...n?{}:l,...t},{addQueryPrefix:!0})},[l]);return(0,u.jsx)(bk,{value:{searchParams:l,stringifyParams:a},children:t})},bE=()=>(0,o.use)(bk),bP=e=>{let{config:t}=e,{admin:{toast:{duration:n,expand:l,limit:a,position:o}={}}={}}=t;return(0,u.jsx)(e2,{className:"payload-toast-container",closeButton:!0,dir:"undefined",duration:null!=n?n:4e3,expand:null!=l&&l,gap:8,icons:{error:(0,u.jsx)(v7,{}),info:(0,u.jsx)(v9,{}),success:(0,u.jsx)(be,{}),warning:(0,u.jsx)(bt,{})},offset:"calc(var(--gutter-h) / 2)",position:null!=o?o:"bottom-right",toastOptions:{classNames:{closeButton:"payload-toast-close-button",content:"toast-content",error:"toast-error",icon:"toast-icon",info:"toast-info",success:"toast-success",title:"toast-title",toast:"payload-toast-item",warning:"toast-warning"},unstyled:!0},visibleToasts:null!=a?a:5})},bD=e=>{let t=(0,f.c)(16),{children:n,config:l,dateFNSKey:a,fallbackLang:r,isNavOpen:c,languageCode:d,languageOptions:p,locale:h,permissions:m,serverFunction:v,switchLanguageServerAction:b,theme:y,translations:x,user:w}=e,j=o.useId(),C;return t[0]!==n||t[1]!==l||t[2]!==a||t[3]!==j||t[4]!==r||t[5]!==c||t[6]!==d||t[7]!==p||t[8]!==h||t[9]!==m||t[10]!==v||t[11]!==b||t[12]!==y||t[13]!==x||t[14]!==w?(C=(0,u.jsxs)(m2,{children:[(0,u.jsx)(ct,{serverFunction:v,children:(0,u.jsx)(e6,{children:(0,u.jsx)(d1,{cachingEnabled:"true"===Z.env.NEXT_PUBLIC_ENABLE_ROUTER_CACHE_REFRESH,children:(0,u.jsx)(i.b,{config:l,children:(0,u.jsx)(ba,{children:(0,u.jsx)(s.c,{dateFNSKey:a,fallbackLang:r,language:d,languageOptions:p,switchLanguageServerAction:b,translations:x,children:(0,u.jsx)(bS,{breakpoints:{l:"(max-width: 1440px)",m:"(max-width: 1024px)",s:"(max-width: 768px)",xs:"(max-width: 400px)"},children:(0,u.jsx)(bj,{children:(0,u.jsx)(bN,{children:(0,u.jsxs)(n4,{classPrefix:"payload",transTime:0,zIndex:"var(--z-modal)",children:[(0,u.jsx)(bC,{}),(0,u.jsxs)(lh,{permissions:m,user:w,children:[(0,u.jsx)(ag,{children:(0,u.jsx)(i.i,{theme:y,children:(0,u.jsx)(bv,{children:(0,u.jsx)(lb,{locale:h,children:(0,u.jsx)(f2,{children:(0,u.jsx)(ch,{children:(0,u.jsx)(uC,{children:(0,u.jsx)(f$,{initialIsOpen:c,children:(0,u.jsx)(uJ,{children:(0,u.jsx)(g.Mp,{collisionDetection:g.TT,id:j,children:n})})})})})})})})})}),(0,u.jsx)(nU,{}),(0,u.jsx)(lu,{})]})]})})})})})})})})})}),(0,u.jsx)(bP,{config:l})]}),t[0]=n,t[1]=l,t[2]=a,t[3]=j,t[4]=r,t[5]=c,t[6]=d,t[7]=p,t[8]=h,t[9]=m,t[10]=v,t[11]=b,t[12]=y,t[13]=x,t[14]=w,t[15]=C):C=t[15],C};function bT(e){let{className:t,loginWithUsername:n,operation:l,permissions:a,readOnly:o,t:r}=e;function i(e,t){return(0,w.P)({field:{name:e,type:"text"},operation:"create"===l?"create":t,parentName:"",permissions:a}).operation}let s="object"==typeof a&&"email"in a&&a.email,c="object"==typeof a&&"username"in a&&a.username,d=s?{read:i("email","read"),update:i("email","update")}:{read:!0,update:!0},p=c?{read:i("username","read"),update:i("username","update")}:{read:!0,update:!0},h=(!n||(null==n?void 0:n.requireEmail)||(null==n?void 0:n.allowEmailLogin))&&d.read,f=!!n&&p.read;if(h||f)return(0,u.jsxs)("div",{className:["login-fields",t&&t].filter(Boolean).join(" "),children:[h?(0,u.jsx)(aP,{value:"email",children:(0,u.jsx)(sH,{field:{name:"email",admin:{autoComplete:"off"},label:r("general:email"),required:!n||n&&n.requireEmail},path:"email",readOnly:o||!d.update,schemaPath:"email",validate:W.Rp})}):null,f&&(0,u.jsx)(aP,{value:"username",children:(0,u.jsx)(dh,{field:{name:"username",admin:{autoComplete:"off"},label:r("authentication:username"),required:n&&n.requireUsername},path:"username",readOnly:o||!p.update,schemaPath:"username",validate:W.Xh})})]})}var bA="select-all",bR=()=>{let e=(0,f.c)(7),{selectAll:t,toggleAll:n}=mc(),{i18n:l}=(0,s.d)(),a;if(e[0]!==l||e[1]!==t||e[2]!==n){let o,r;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=[bA,"".concat(bA,"__checkbox")],e[4]=o):o=e[4],e[5]!==n?(r=()=>n(),e[5]=n,e[6]=r):r=e[6],a=(0,u.jsx)(aV,{"aria-label":t===mo.None?l.t("general:selectAllRows"):l.t("general:deselectAllRows"),checked:t===mo.AllInPage||t===mo.AllAvailable,className:o.join(" "),id:"select-all",name:"select-all",onToggle:r,partialChecked:t===mo.Some}),e[0]=l,e[1]=t,e[2]=n,e[3]=a}else a=e[3];return a},bL="select-row",bO=e=>{let t,n,l,a=(0,f.c)(13),{rowData:o}=e,{user:r}=lf(),{selected:i,setSelection:s}=mc(),c;if(a[0]!==o||a[1]!==(null==r?void 0:r.id)){c=Symbol.for("react.early_return_sentinel");e:{let{_isLocked:e,_userEditing:t}=o||{};if(e&&t&&t.id!==(null==r?void 0:r.id)){c=(0,u.jsx)(mD,{user:t});break e}}a[0]=o,a[1]=null==r?void 0:r.id,a[2]=c}else c=a[2];if(c!==Symbol.for("react.early_return_sentinel"))return c;a[3]!==o.id||a[4]!==i?(t=i.get(o.id),a[3]=o.id,a[4]=i,a[5]=t):t=a[5];let d=!!t,p;return a[6]===Symbol.for("react.memo_cache_sentinel")?(p=[bL,"".concat(bL,"__checkbox")],a[6]=p):p=a[6],a[7]!==o.id||a[8]!==s?(n=()=>s(o.id),a[7]=o.id,a[8]=s,a[9]=n):n=a[9],a[10]!==d||a[11]!==n?(l=(0,u.jsx)(aV,{checked:d,className:p.join(" "),onToggle:n}),a[10]=d,a[11]=n,a[12]=l):l=a[12],l},bF=e=>{let{onClick:t}=e,{count:n,selected:l}=mc(),{t:a}=(0,s.d)();return l&&n?(0,u.jsxs)(a4,{onClick:()=>{"function"==typeof t&&t(l)},pillStyle:"white",size:"small",children:[a("general:select")," ",n]}):null},bM="collection-list";function bI(e){var t;let{AfterList:n,AfterListTable:l,beforeActions:a,BeforeList:r,BeforeListTable:c,collectionSlug:p,columnState:f,Description:m,disableBulkDelete:g,disableBulkEdit:b,disableQueryPresets:y,enableRowSelections:x,hasCreatePermission:w,hasDeletePermission:j,listMenuItems:C,newDocumentURL:S,queryPreset:_,queryPresetPermissions:k,renderedFilters:N,resolvedFilterOptions:E,Table:P,viewType:D}=e,[T]=(0,i.a)(P),{allowCreate:A,createNewDrawerSlug:R,isInDrawer:L,onBulkSelect:O}=s3(),F=void 0!==A?A&&w:w,{config:{routes:{admin:M},serverURL:I},getEntityConfig:B}=(0,i.c)(),z=(0,h.useRouter)(),{data:U,isGroupingBy:V}=s5(),{openModal:H}=nj(),{drawerSlug:W,setCollectionSlug:K,setOnSuccess:Q}=hy(),Y=B({collectionSlug:p}),{labels:G,upload:X}=Y,$=!!X,Z=$&&Y.upload.bulkUpload,J=!!Y.trash,{i18n:ee}=(0,s.d)(),{setStepNav:et}=f1(),{breakpoints:{s:en}}=b_(),el=o.useMemo(()=>$?U.docs.map(e=>({...e,filesize:(0,q.B)(e.filesize)})):null==U?void 0:U.docs,[null==U?void 0:U.docs,$]),ea=o.useCallback(()=>{K(p),H(W),Q(()=>z.refresh())},[z,p,W,H,K,Q]);return(0,o.useEffect)(()=>{if(!L){let e={label:(0,d.s)(null==G?void 0:G.plural,ee),url:J&&"trash"===D?(0,v.Q)({adminRoute:M,path:"/collections/".concat(p)}):void 0},t={label:ee.t("general:trash")};et(J&&"trash"===D?[e,t]:[e])}},[M,et,I,G,L,J,D,ee,p]),(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(ca,{collectionSlug:p,columnState:f,children:(0,u.jsx)("div",{className:"".concat(bM," ").concat(bM,"--").concat(p),children:(0,u.jsxs)(ms,{docs:el,totalDocs:null==U?void 0:U.totalDocs,children:[r,(0,u.jsxs)(n7,{className:"".concat(bM,"__wrap"),children:[(0,u.jsx)(vt,{collectionConfig:Y,Description:(0,u.jsx)("div",{className:"".concat(bM,"__sub-header"),children:(0,u.jsx)(ed,{CustomComponent:m,Fallback:(0,u.jsx)(fT,{collectionSlug:p,description:null==Y||null==(t=Y.admin)?void 0:t.description})})}),disableBulkDelete:g,disableBulkEdit:b,hasCreatePermission:F,hasDeletePermission:j,i18n:ee,isBulkUploadEnabled:Z&&!X.hideFileInputOnCreate,isTrashEnabled:J,newDocumentURL:S,openBulkUpload:ea,smallBreak:en,viewType:D}),(0,u.jsx)(gV,{beforeActions:x&&"function"==typeof O?a?[...a,(0,u.jsx)(bF,{onClick:O},"select-many")]:[(0,u.jsx)(bF,{onClick:O},"select-many")]:a,collectionConfig:Y,collectionSlug:p,disableQueryPresets:(null==Y?void 0:Y.enableQueryPresets)!==!0||y,listMenuItems:C,queryPreset:_,queryPresetPermissions:k,renderedFilters:N,resolvedFilterOptions:E}),c,(null==el?void 0:el.length)>0&&(0,u.jsx)("div",{className:"".concat(bM,"__tables"),children:(0,u.jsx)(cA,{children:T})}),(null==el?void 0:el.length)===0&&(0,u.jsxs)("div",{className:"".concat(bM,"__no-results"),children:[(0,u.jsx)("p",{children:ee.t("trash"===D?"general:noTrashResults":"general:noResults",{label:(0,d.s)(null==G?void 0:G.plural,ee)})}),F&&S&&"trash"!==D&&(0,u.jsx)(o.Fragment,{children:L?(0,u.jsx)(tS,{el:"button",onClick:()=>H(R),children:ee.t("general:createNewLabel",{label:(0,d.s)(null==G?void 0:G.singular,ee)})}):(0,u.jsx)(tS,{el:"link",to:S,children:ee.t("general:createNewLabel",{label:(0,d.s)(null==G?void 0:G.singular,ee)})})})]}),l,(null==el?void 0:el.length)>0&&!V&&(0,u.jsx)(vc,{AfterPageControls:en?(0,u.jsxs)("div",{className:"".concat(bM,"__list-selection"),children:[(0,u.jsx)(gZ,{collectionConfig:Y,disableBulkDelete:g,disableBulkEdit:b,label:(0,d.s)(Y.labels.plural,ee),showSelectAllAcrossPages:!V}),(0,u.jsx)("div",{className:"".concat(bM,"__list-selection-actions"),children:x&&"function"==typeof O?a?[...a,(0,u.jsx)(bF,{onClick:O},"select-many")]:[(0,u.jsx)(bF,{onClick:O},"select-many")]:a})]}):null,collectionConfig:Y})]}),n]})})}),(null==el?void 0:el.length)>0&&V&&U.totalPages>1&&(0,u.jsx)(vu,{children:(0,u.jsx)(vc,{collectionConfig:Y})})]})}var bB="move-to-folder--current-folder",bz="confirm-many-delete";function bU(e){let{className:t}=e,n=(0,h.useRouter)(),{startRouteTransition:l}=e4(),{breadcrumbs:a,currentFolder:r,folderCollectionConfig:c,folderCollectionSlug:p,folderFieldName:f,folderID:m,getFolderRoute:g,moveToFolder:b}=dJ(),[y,,{closeDrawer:x,openDrawer:w}]=cE({id:m,collectionSlug:p}),{clearRouteCache:j}=d3(),{config:C}=(0,i.c)(),{routes:S}=C,{closeModal:_,openModal:k}=nj(),{i18n:N,t:E}=(0,s.d)(),P=o.useCallback(async()=>{await fetch((0,v.Q)({apiRoute:S.api,path:"/".concat(p,"/").concat(m,"?depth=0")}),{credentials:"include",method:"DELETE"}),l(()=>{var e;n.push(g((null==(e=a[a.length-2])?void 0:e.id)||null))})},[a,p,m,g,n,S.api,l]);return m?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ty,{button:(0,u.jsx)(gs,{}),className:["current-folder-actions",t].filter(Boolean).join(" "),render:()=>(0,u.jsxs)(ts.ButtonGroup,{children:[(0,u.jsx)(ts.Button,{onClick:()=>{w()},children:E("general:editLabel",{label:(0,d.s)(c.labels.singular,N)})}),(0,u.jsx)(ts.Button,{onClick:()=>{k(bB)},children:E("folder:moveFolder")}),(0,u.jsx)(ts.Button,{onClick:()=>{k(bz)},children:E("folder:deleteFolder")})]})}),(0,u.jsx)(pc,{action:"moveItemToFolder",drawerSlug:bB,folderAssignedCollections:null==r?void 0:r.value.folderType,folderCollectionSlug:p,folderFieldName:f,fromFolderID:null==r?void 0:r.value.id,fromFolderName:null==r?void 0:r.value._folderOrDocumentTitle,itemsToMove:[r],onConfirm:async e=>{let{id:t,name:n}=e;await b({itemsToMove:[r],toFolderID:t}),t?eZ.success(E("folder:itemHasBeenMoved",{folderName:'"'.concat(n,'"'),title:r.value._folderOrDocumentTitle})):eZ.success(E("folder:itemHasBeenMovedToRoot",{title:r.value._folderOrDocumentTitle})),_(bB)},title:r.value._folderOrDocumentTitle}),(0,u.jsx)(ls,{body:(0,u.jsx)(pn,{elements:{1:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})}},i18nKey:"general:aboutToDelete",t:E,variables:{label:(0,d.s)(c.labels.singular,N),title:r.value._folderOrDocumentTitle}}),confirmingLabel:E("general:deleting"),heading:E("general:confirmDeletion"),modalSlug:bz,onConfirm:P}),(0,u.jsx)(y,{onSave:()=>{x(),j()}})]}):null}var bV="drag-overlay-selection";function bH(e){let{item:t,selectedCount:n}=e;return(0,u.jsx)(g.Hd,{dropAnimation:null,modifiers:[bq],style:{height:"unset",maxWidth:"220px"},children:(0,u.jsxs)("div",{className:"".concat(bV,"__cards"),children:[Array.from({length:n>1?2:1}).map((e,n)=>(0,u.jsx)("div",{className:"".concat(bV,"__card"),style:{right:"".concat(3*n,"px"),top:"-".concat(3*n,"px")},children:(0,u.jsx)(vI,{id:null,isSelected:!0,itemKey:"overlay-card",title:t.value._folderOrDocumentTitle,type:"folder"})},n)),n>1?(0,u.jsx)("span",{className:"".concat(bV,"__card-count"),children:n}):null]})})}var bq=e=>{let{activatorEvent:t,draggingNodeRect:n,transform:l}=e;if(n&&t){let e=function(e){if(function(e){if(!e)return!1;let{TouchEvent:t}=tO(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return"clientX"in e&&"clientY"in e?{x:e.clientX,y:e.clientY}:null}(t);if(!e)return l;let a=e.x-n.left,o=e.y-n.top;return{...l,x:l.x+a+5,y:l.y+o+5}}return l},bW="sort-by-pill",bK=[{label:e=>e("general:name"),value:"name"},{label:e=>e("general:createdAt"),value:"createdAt"},{label:e=>e("general:updatedAt"),value:"updatedAt"}],bQ=[{label:e=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(h3,{}),e("general:ascending")]}),value:"asc"},{label:e=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(h1,{}),e("general:descending")]}),value:"desc"}];function bY(){let{refineFolderData:e,sort:t}=dJ(),{t:n}=(0,s.d)(),l=t.startsWith("-")?"desc":"asc",[a]=bK.filter(e=>{let{value:n}=e;return n===(t.startsWith("-")?t.slice(1):t)})||bK,[o]=bQ.filter(e=>{let{value:t}=e;return t===l});return(0,u.jsx)(ty,{button:(0,u.jsxs)(a4,{className:"".concat(bW,"__trigger"),icon:(0,u.jsx)(tl,{}),size:"small",children:["asc"===l?(0,u.jsx)(h3,{className:"".concat(bW,"__sort-icon")}):(0,u.jsx)(h1,{className:"".concat(bW,"__sort-icon")}),null==a?void 0:a.label(n)]}),className:bW,horizontalAlign:"right",render:t=>{let{close:r}=t;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ts.GroupLabel,{label:"Sort by"}),(0,u.jsx)(ts.ButtonGroup,{children:bK.map(t=>{let{label:o,value:i}=t;return(0,u.jsx)(ts.Button,{active:(null==a?void 0:a.value)===i,onClick:()=>{e({query:{page:"1",sort:"desc"===l?"-".concat(i):i},updateURL:!0}),r()},children:o(n)},i)})}),(0,u.jsx)(ts.Divider,{}),(0,u.jsx)(ts.GroupLabel,{label:"Order"}),(0,u.jsx)(ts.ButtonGroup,{children:bQ.map(t=>{let{label:i,value:s}=t;return(0,u.jsx)(ts.Button,{active:(null==o?void 0:o.value)===s,className:"".concat(bW,"__order-option"),onClick:()=>{l!==s&&(e({query:{page:"1",sort:"desc"===s?"-".concat(null==a?void 0:a.value):null==a?void 0:a.value},updateURL:!0}),r())},children:i(n)},s)})})]})},showScrollbar:!0,verticalAlign:"bottom"})}var bG="folder-view-toggle-button";function bX(e){let{activeView:t,setActiveView:n}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(tS,{buttonStyle:"pill",className:[bG,"grid"===t&&"".concat(bG,"--active")].filter(Boolean).join(" "),icon:(0,u.jsx)(v4,{}),margin:!1,onClick:()=>{n("grid")}}),(0,u.jsx)(tS,{buttonStyle:"pill",className:[bG,"list"===t&&"".concat(bG,"--active")].filter(Boolean).join(" "),icon:(0,u.jsx)(v8,{}),margin:!1,onClick:()=>{n("list")}})]})}var b$=e=>{let{id:t,folderCollectionSlug:n}=e,{clearRouteCache:l}=d3(),{t:a}=(0,s.d)(),[o,,{closeDrawer:r,openDrawer:i}]=cE({id:t,collectionSlug:n});return t?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(mp,{onClick:i,type:"button",children:a("general:edit")}),(0,u.jsx)(o,{onSave:()=>{r(),l()}})]}):null},bZ="move-to-folder--list",bJ=e=>{var t,n,l,a;let r=(0,f.c)(17),{disableBulkDelete:c,disableBulkEdit:d,folderAssignedCollections:p}=e,{clearSelections:h,currentFolder:m,folderCollectionSlug:g,folderFieldName:v,folderID:b,getSelectedItems:y,moveToFolder:x}=dJ(),{clearRouteCache:w}=d3(),{config:j}=(0,i.c)(),{t:C}=(0,s.d)(),{closeModal:S,openModal:_}=nj(),k,N;if(r[0]!==w||r[1]!==h||r[2]!==S||r[3]!==j||r[4]!==(null==m||null==(t=m.value)?void 0:t._folderOrDocumentTitle)||r[5]!==c||r[6]!==d||r[7]!==p||r[8]!==g||r[9]!==v||r[10]!==b||r[11]!==y||r[12]!==x||r[13]!==_||r[14]!==C){N=Symbol.for("react.early_return_sentinel");e:{let e=y(),t=e.reduce(b0,{}),n=e.length,r=1===Object.keys(t).length&&Object.keys(t)[0]!==g,i=r?j.collections.find(e=>e.slug===Object.keys(t)[0]):null;if(0===n){N=null;break e}let s=r&&(null==(l=t[Object.keys(t)[0]])?void 0:l.ids)||[];k=(0,u.jsx)(md,{count:n,ListActions:[n>0&&(0,u.jsx)(mp,{onClick:()=>h(),children:C("general:clearAll")},"clear-all")].filter(Boolean),SelectionActions:[!d&&s.length&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(gn,{collection:i,count:n,ids:s,selectAll:!1}),(0,u.jsx)(gW,{collection:i,count:n,ids:s,selectAll:!1}),(0,u.jsx)(g$,{collection:i,count:n,ids:s,selectAll:!1})]},"bulk-actions"),1===n&&!r&&(0,u.jsx)(b$,{folderCollectionSlug:g,id:t[g].ids[0]},"edit-folder-action"),n>0?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(mp,{onClick:()=>{_(bZ)},type:"button",children:C("general:move")}),(0,u.jsx)(pc,{action:"moveItemsToFolder",drawerSlug:bZ,folderAssignedCollections:p,folderCollectionSlug:g,folderFieldName:v,fromFolderID:b,fromFolderName:null==m||null==(a=m.value)?void 0:a._folderOrDocumentTitle,itemsToMove:y(),onConfirm:async e=>{let{id:t,name:l}=e;await x({itemsToMove:y(),toFolderID:t}),t?eZ.success(C("folder:itemsMovedToFolder",{folderName:'"'.concat(l,'"'),title:"".concat(n," ").concat(n>1?C("general:items"):C("general:item"))})):eZ.success(C("folder:itemsMovedToRoot",{title:"".concat(n," ").concat(n>1?C("general:items"):C("general:item"))})),w(),S(bZ)}})]},bZ):null,!c&&(0,u.jsx)(mf,{afterDelete:()=>{w(),h()},selections:t},"bulk-delete")].filter(Boolean)})}r[0]=w,r[1]=h,r[2]=S,r[3]=j,r[4]=null==m||null==(n=m.value)?void 0:n._folderOrDocumentTitle,r[5]=c,r[6]=d,r[7]=p,r[8]=g,r[9]=v,r[10]=b,r[11]=y,r[12]=x,r[13]=_,r[14]=C,r[15]=k,r[16]=N}else k=r[15],N=r[16];return N!==Symbol.for("react.early_return_sentinel")?N:k};function b0(e,t){return t&&(e[t.relationTo]?(e[t.relationTo].ids.push((0,V.r)(t.value)),e[t.relationTo].totalCount=e[t.relationTo].totalCount+1):e[t.relationTo]={ids:[(0,V.r)(t.value)],totalCount:1}),e}var b1="collection-folder-list";function b3(e){let{allCollectionFolderSlugs:t,allowCreateCollectionSlugs:n,baseFolderPath:l,breadcrumbs:a,documents:o,folderFieldName:r,folderID:i,FolderResultsComponent:s,search:c,sort:d,subfolders:p,...h}=e;return(0,u.jsx)(dZ,{allCollectionFolderSlugs:t,allowCreateCollectionSlugs:n,baseFolderPath:l,breadcrumbs:a,documents:o,folderFieldName:r,folderID:i,FolderResultsComponent:s,search:c,sort:d,subfolders:p,children:(0,u.jsx)(b2,{...h})})}function b2(e){var t,n,l,a;let r=(0,f.c)(6),{AfterFolderList:c,AfterFolderListTable:p,BeforeFolderList:m,BeforeFolderListTable:g,collectionSlug:b,Description:y,disableBulkDelete:x,disableBulkEdit:w,search:j,viewPreference:C}=e,{config:S,getEntityConfig:_}=(0,i.c)(),{i18n:k,t:N}=(0,s.d)(),E=nn(),{setStepNav:P}=f1(),{setPreference:D}=av(),{allowCreateCollectionSlugs:T,breadcrumbs:A,documents:R,dragOverlayItem:L,folderCollectionConfig:O,folderCollectionSlug:F,FolderResultsComponent:M,folderType:I,getSelectedItems:B,moveToFolder:z,refineFolderData:U,selectedItemKeys:V,setIsDragging:H,subfolders:q}=dJ(),W=(0,h.useRouter)(),{startRouteTransition:K}=e4(),{clearRouteCache:Q}=d3(),Y=_({collectionSlug:b}),{labels:G,upload:X}=Y,$=!!X&&Y.upload.bulkUpload,{breakpoints:Z}=b_(),{s:J}=Z,ee;r[0]!==Q||r[1]!==B||r[2]!==z?(ee=async e=>{if(e.over&&"folder"===e.over.data.current.type&&"id"in e.over.data.current){try{await z({itemsToMove:B(),toFolderID:e.over.data.current.id})}catch(e){console.error("Error moving items:",e)}Q()}},r[0]=Q,r[1]=B,r[2]=z,r[3]=ee):ee=r[3];let et=ee,en=async e=>{await D("".concat(b,"-collection-folder"),{viewPreference:e}),Q()};o.useEffect(()=>{E||P([A.length?{label:(0,u.jsxs)(po,{className:["".concat(b1,"__step-nav-droppable"),"".concat(b1,"__step-nav-icon-label")].filter(Boolean).join(" "),id:null,onClick:()=>{K(()=>{S.folders&&W.push((0,v.Q)({adminRoute:S.routes.admin,path:"/collections/".concat(b,"/").concat(S.folders.slug)}))})},children:[(0,u.jsx)(pr,{}),(0,d.s)(null==G?void 0:G.plural,k)]},"root")}:{label:(0,u.jsxs)("div",{className:"".concat(b1,"__step-nav-icon-label"),children:[(0,u.jsx)(pr,{}),(0,d.s)(null==G?void 0:G.plural,k)]},"root")},...A.map((e,t)=>({label:t===A.length-1?e.name:(0,u.jsx)(po,{className:"".concat(b1,"__step-nav-droppable"),id:e.id,onClick:()=>{K(()=>{S.folders&&W.push((0,v.Q)({adminRoute:S.routes.admin,path:"/collections/".concat(b,"/").concat(S.folders.slug,"/").concat(e.id)}))})},children:e.name},e.id)}))])},[A,b,S.folders,S.routes.admin,S.serverURL,E,k,null==G?void 0:G.plural,W,P,K]);let el=R.length+q.length,ea;return r[4]!==U?(ea=e=>U({query:{search:e},updateURL:!0}),r[4]=U,r[5]=ea):ea=r[5],(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(b6,{onDragEnd:et,setIsDragging:H}),(0,u.jsxs)("div",{className:"".concat(b1," ").concat(b1,"--").concat(b),children:[m,(0,u.jsxs)(n7,{className:"".concat(b1,"__wrap"),children:[(0,u.jsx)(g2,{Actions:[!J&&(0,u.jsx)(bJ,{disableBulkDelete:x,disableBulkEdit:null!=(a=Y.disableBulkEdit)?a:w,folderAssignedCollections:Array.isArray(I)?I:[b]},"list-selection"),(0,u.jsx)(g1,{collectionConfig:Y,config:S,viewType:"folders"},"default-list-actions")].filter(Boolean),AfterListHeaderContent:y,title:(0,d.s)(null==G?void 0:G.plural,k),TitleActions:[T.length&&(0,u.jsx)(d7,{buttonLabel:T.length>1?N("general:createNew"):"".concat(N("general:create")," ").concat((0,d.s)(null==(t=O.labels)?void 0:t.singular,k).toLowerCase()),collectionSlugs:T,folderAssignedCollections:Array.isArray(I)?I:[b],onCreateSuccess:Q,slugPrefix:"create-document--header-pill"},"create-new-button"),(0,u.jsx)(g4,{collectionSlug:b,hasCreatePermission:T.includes(b),isBulkUploadEnabled:$},"bulk-upload-button")].filter(Boolean)}),(0,u.jsx)(gj,{Actions:[(0,u.jsx)(bY,{},"sort-by-pill"),(0,u.jsx)(bX,{activeView:C,setActiveView:en},"toggle-view-buttons"),(0,u.jsx)(bU,{},"current-folder-actions")].filter(Boolean),label:N("general:searchBy",{label:N("general:name")}),onSearchChange:ea,searchQueryParam:j}),g,el>0&&M,0===el&&(0,u.jsx)(pe,{Actions:[T.includes(F)&&(0,u.jsx)(d7,{buttonLabel:"".concat(N("general:create")," ").concat((0,d.s)(null==(n=O.labels)?void 0:n.singular,k).toLowerCase()),collectionSlugs:[O.slug],folderAssignedCollections:Array.isArray(I)?I:[b],onCreateSuccess:Q,slugPrefix:"create-folder--no-results"},"create-folder"),T.includes(b)&&(0,u.jsx)(d7,{buttonLabel:"".concat(N("general:create")," ").concat(N("general:document").toLowerCase()),collectionSlugs:[b],folderAssignedCollections:Array.isArray(I)?I:[b],onCreateSuccess:Q,slugPrefix:"create-document--no-results"},"create-document")].filter(Boolean),Message:(0,u.jsx)("p",{children:k.t("general:noResults",{label:"".concat((0,d.s)(null==G?void 0:G.plural,k)," ").concat(N("general:or").toLowerCase()," ").concat((0,d.s)(null==(l=O.labels)?void 0:l.plural,k))})})}),p]}),c]}),V.size>0&&L&&(0,u.jsx)(bH,{item:L,selectedCount:V.size})]})}function b6(e){let t=(0,f.c)(3),{onDragEnd:n,setIsDragging:l}=e,a;return t[0]!==n||t[1]!==l?(a={onDragCancel(){l(!1)},onDragEnd(e){l(!1),n(e)},onDragStart(){l(!0)}},t[0]=n,t[1]=l,t[2]=a):a=t[2],(0,g.E5)(a),null}var b5="checkbox-popup";function b4(e){let{Button:t,className:n,onChange:l,options:a,selectedValues:o,...r}=e;return(0,u.jsx)(ty,{button:t,className:[b5,n].filter(Boolean).join(" "),horizontalAlign:"right",render:e=>{let{close:t}=e;return(0,u.jsx)("div",{className:"".concat(b5,"__options"),children:a.map(e=>{let{label:n,value:a}=e;return(0,u.jsx)(aV,{checked:null==o?void 0:o.includes(a),label:n,onToggle:()=>{l({close:t,selectedValues:(null==o?void 0:o.includes(a))?o.filter(e=>e!==a):[...o,a]})}},a)})})},showScrollbar:!0,verticalAlign:"bottom",...r})}function b8(){let e=(0,f.c)(13),{activeCollectionFolderSlugs:t,allCollectionFolderSlugs:n,folderCollectionSlug:l,refineFolderData:a}=dJ(),{i18n:r,t:c}=(0,s.d)(),{config:p,getEntityConfig:h}=(0,i.c)(),m;e[0]!==p||e[1]!==l||e[2]!==n||e[3]!==h||e[4]!==r?(m=()=>{var e;return p.collections.reduce((e,t)=>{var l;return t.folders&&n.includes(t.slug)&&e.push({label:(0,d.s)(null==(l=t.labels)?void 0:l.plural,r),value:t.slug}),e},[{label:(0,d.s)(null==(e=h({collectionSlug:l}).labels)?void 0:e.plural,r),value:l}])},e[0]=p,e[1]=l,e[2]=n,e[3]=h,e[4]=r,e[5]=m):m=e[5];let[g]=o.useState(m),v;if(e[6]!==g||e[7]!==a||e[8]!==c||e[9]!==t){let n;e[11]!==a?(n=e=>{let{selectedValues:t}=e;a({query:{relationTo:t},updateURL:!0})},e[11]=a,e[12]=n):n=e[12],v=(0,u.jsx)(b4,{Button:(0,u.jsxs)(tS,{buttonStyle:"pill",el:"div",icon:"chevron",margin:!1,size:"small",children:[t.length?(0,u.jsx)("span",{className:"".concat("collection-type","__count"),children:t.length}):null,c("version:type")]}),onChange:n,options:g,selectedValues:t},"relation-to-selection-popup"),e[6]=g,e[7]=a,e[8]=c,e[9]=t,e[10]=v}else v=e[10];return v}var b7="folder-list";function b9(e){let{activeCollectionFolderSlugs:t,allCollectionFolderSlugs:n,allowCreateCollectionSlugs:l,baseFolderPath:a,breadcrumbs:o,documents:r,folderFieldName:i,folderID:s,FolderResultsComponent:c,search:d,subfolders:p,...h}=e;return(0,u.jsx)(dZ,{activeCollectionFolderSlugs:t,allCollectionFolderSlugs:n,allowCreateCollectionSlugs:l,baseFolderPath:a,breadcrumbs:o,documents:r,folderFieldName:i,folderID:s,FolderResultsComponent:c,search:d,subfolders:p,children:(0,u.jsx)(ye,{...h})})}function ye(e){var t,n;let l=(0,f.c)(24),{AfterFolderList:a,AfterFolderListTable:r,BeforeFolderList:c,BeforeFolderListTable:p,Description:m,disableBulkDelete:g,disableBulkEdit:v,folderAssignedCollections:b,viewPreference:y}=e,x=(0,h.useRouter)(),{getEntityConfig:w}=(0,i.c)(),{i18n:j,t:C}=(0,s.d)(),S=nn(),{setStepNav:_}=f1(),{startRouteTransition:k}=e4(),{clearRouteCache:N}=d3(),{breakpoints:E}=b_(),{s:P}=E,{setPreference:D}=av(),{activeCollectionFolderSlugs:T,allowCreateCollectionSlugs:A,breadcrumbs:R,documents:L,dragOverlayItem:O,folderCollectionConfig:F,folderID:M,folderType:I,getFolderRoute:B,getSelectedItems:z,moveToFolder:U,refineFolderData:V,search:H,selectedItemKeys:q,setIsDragging:W,subfolders:K}=dJ(),[Q,Y]=o.useState(y||"grid"),G;l[0]!==R||l[1]!==F||l[2]!==j||l[3]!==C?(G=()=>{var e;return C("folder:searchByNameInFolder",{folderName:0===R.length?(0,d.s)(null==(e=F.labels)?void 0:e.plural,j):R[R.length-1].name})},l[0]=R,l[1]=F,l[2]=j,l[3]=C,l[4]=G):G=l[4];let[X]=o.useState(G),$;l[5]!==N||l[6]!==z||l[7]!==U?($=async e=>{e.over&&"folder"===e.over.data.current.type&&"id"in e.over.data.current&&(await U({itemsToMove:z(),toFolderID:e.over.data.current.id||null}),N())},l[5]=N,l[6]=z,l[7]=U,l[8]=$):$=l[8];let Z=$,J=L.length+K.length,ee=R.length?R[R.length-1].name:C("folder:browseByFolder"),et;l[9]!==w||l[10]!==j||l[11]!==C?(et=(e,t,n,l)=>{var a,o,r;let i=w({collectionSlug:t});return 0===n?(0,d.s)(null==(a=i.labels)?void 0:a.plural,j):n===l.length-1?"".concat(e," ").concat(C("general:or").toLowerCase()," ").concat((0,d.s)(null==(o=i.labels)?void 0:o.plural,j)):"".concat(e,", ").concat((0,d.s)(null==(r=i.labels)?void 0:r.plural,j))},l[9]=w,l[10]=j,l[11]=C,l[12]=et):et=l[12];let en=T.reduce(et,""),el,ea;l[13]!==R||l[14]!==S||l[15]!==B||l[16]!==x||l[17]!==_||l[18]!==k||l[19]!==C?(el=()=>{S||_([R.length?{label:(0,u.jsxs)(po,{className:["".concat(b7,"__step-nav-droppable"),"".concat(b7,"__step-nav-icon-label")].filter(Boolean).join(" "),id:null,onClick:()=>{k(()=>{x.push(B(null))})},children:[(0,u.jsx)(pr,{}),C("folder:browseByFolder")]},"root")}:{label:(0,u.jsxs)("div",{className:"".concat(b7,"__step-nav-icon-label"),children:[(0,u.jsx)(pr,{}),C("folder:browseByFolder")]},"root")},...R.map((e,t)=>({label:t===R.length-1?e.name:(0,u.jsx)(po,{className:"".concat(b7,"__step-nav-droppable"),id:e.id,onClick:()=>{k(()=>{x.push(B(e.id))})},children:e.name},e.id)}))])},ea=[R,S,B,x,_,k,C],l[13]=R,l[14]=S,l[15]=B,l[16]=x,l[17]=_,l[18]=k,l[19]=C,l[20]=el,l[21]=ea):(el=l[20],ea=l[21]),o.useEffect(el,ea);let eo=A.filter(e=>e!==F.slug),er;return l[22]!==V?(er=e=>V({query:{search:e},updateURL:!0}),l[22]=V,l[23]=er):er=l[23],(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(yt,{onDragEnd:Z,setIsDragging:W}),(0,u.jsxs)("div",{className:"".concat(b7," ").concat(b7,"--folders"),children:[c,(0,u.jsxs)(n7,{className:"".concat(b7,"__wrap"),children:[(0,u.jsx)(g2,{Actions:[!P&&(0,u.jsx)(bJ,{disableBulkDelete:g,disableBulkEdit:v,folderAssignedCollections:b},"list-selection")].filter(Boolean),AfterListHeaderContent:m,title:ee,TitleActions:[A.length&&(0,u.jsx)(d7,{buttonLabel:A.length>1?C("general:createNew"):"".concat(C("general:create")," ").concat((0,d.s)(null==(t=F.labels)?void 0:t.singular,j).toLowerCase()),collectionSlugs:A,folderAssignedCollections:Array.isArray(I)?I:[],onCreateSuccess:N,slugPrefix:"create-document--header-pill"},"create-new-button")].filter(Boolean)}),(0,u.jsx)(gj,{Actions:[(0,u.jsx)(bY,{},"sort-by-pill"),M&&(0,u.jsx)(b8,{},"collection-type"),(0,u.jsx)(bX,{activeView:Q,setActiveView:e=>{D("browse-by-folder",{viewPreference:e}),Y(e)}},"toggle-view-buttons"),(0,u.jsx)(bU,{},"current-folder-actions")].filter(Boolean),label:X,onSearchChange:er,searchQueryParam:H}),p,J>0&&(0,u.jsx)(u.Fragment,{children:"grid"===Q?(0,u.jsxs)("div",{children:[K.length?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(vV,{items:K,title:"Folders",type:"folder"})}):null,L.length?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(vV,{items:L,subfolderCount:K.length,title:"Documents",type:"file"})}):null]}):(0,u.jsx)(vL,{})}),0===J&&(0,u.jsx)(pe,{Actions:[A.includes(F.slug)&&(0,u.jsx)(d7,{buttonLabel:"".concat(C("general:create")," ").concat((0,d.s)(null==(n=F.labels)?void 0:n.singular,j).toLowerCase()),collectionSlugs:[F.slug],folderAssignedCollections:Array.isArray(I)?I:[],onCreateSuccess:N,slugPrefix:"create-folder--no-results"},"create-folder"),M&&eo.length>0&&(0,u.jsx)(d7,{buttonLabel:"".concat(C("general:create")," ").concat(C("general:document").toLowerCase()),collectionSlugs:eo,folderAssignedCollections:Array.isArray(I)?I:[],onCreateSuccess:N,slugPrefix:"create-document--no-results"},"create-document")].filter(Boolean),Message:(0,u.jsx)("p",{children:j.t("general:noResults",{label:en})})}),r]}),a]}),q.size>0&&O&&(0,u.jsx)(bH,{item:O,selectedCount:q.size})]})}function yt(e){let t=(0,f.c)(3),{onDragEnd:n,setIsDragging:l}=e,a;return t[0]!==n||t[1]!==l?(a={onDragCancel(){l(!1)},onDragEnd(e){l(!1),n(e)},onDragStart(){l(!0)}},t[0]=n,t[1]=l,t[2]=a):a=t[2],(0,g.E5)(a),null}var yn="leave-without-saving-doc-drawer",yl=e=>{let t=(0,f.c)(15),{AfterHeader:n,drawerSlug:l,showDocumentID:a}=e,o=void 0===a||a,{closeModal:r,openModal:i}=nj(),{t:c}=(0,s.d)(),d=eL(),p;t[0]!==r||t[1]!==l||t[2]!==d||t[3]!==i?(p=()=>{d?i(yn):r(l)},t[0]=r,t[1]=l,t[2]=d,t[3]=i,t[4]=p):p=t[4];let h=p,m;if(t[5]!==n||t[6]!==r||t[7]!==l||t[8]!==h||t[9]!==o||t[10]!==c){let e;t[12]!==r||t[13]!==l?(e=()=>r(l),t[12]=r,t[13]=l,t[14]=e):e=t[14],m=(0,u.jsxs)(n7,{className:"".concat(c_,"__header"),children:[(0,u.jsxs)("div",{className:"".concat(c_,"__header-content"),children:[(0,u.jsx)("h2",{className:"".concat(c_,"__header-text"),children:(0,u.jsx)(vK,{element:"span"})}),(0,u.jsx)("button",{"aria-label":c("general:close"),className:"".concat(c_,"__header-close"),onClick:h,type:"button",children:(0,u.jsx)(s.a,{})})]}),o&&(0,u.jsx)(ya,{}),n?(0,u.jsx)("div",{className:"".concat(c_,"__after-header"),children:n}):null,(0,u.jsx)(fS,{modalSlug:yn,onConfirm:e})]}),t[5]=n,t[6]=r,t[7]=l,t[8]=h,t[9]=o,t[10]=c,t[11]=m}else m=t[11];return m},ya=()=>{let e=(0,f.c)(3),{id:t}=aC(),{title:n}=ap(),l;return e[0]!==t||e[1]!==n?(l=t&&t!==n?(0,u.jsx)(vq,{id:t.toString()}):null,e[0]=t,e[1]=n,e[2]=l):l=e[2],l},yo=e=>{let{children:t}=e,n=o.useRef(null),l=o.useRef(null),{breakpoint:a,setMeasuredDeviceSize:r,size:i,zoom:s}=mg(),{size:c}=hJ(n.current),{size:d}=hJ(l.current);(0,o.useEffect)(()=>{c&&r(c)},[c,r]);let p="0",h="0";if(a&&"responsive"!==a&&(p="-50%",i&&c&&"number"==typeof s&&"number"==typeof i.width&&"number"==typeof i.height&&"number"==typeof c.width&&"number"==typeof c.height)){h="0 auto";let e=i.width/s,t=c.width*s,n=e-i.width;if(t>d.width)if(s>1){let e=c.width-d.width;p=e<0?"".concat(e/2,"px"):"0"}else p="0";else s>=1?p="".concat(n/2,"px"):(p="".concat((d.width-t)/2,"px"),h="0")}let f=s?"".concat(100/s,"%"):"100%",m=s?"".concat(100/s,"%"):"100%";return"responsive"!==a&&(f="".concat((null==i?void 0:i.width)/("number"==typeof s?s:1),"px"),m="".concat((null==i?void 0:i.height)/("number"==typeof s?s:1),"px")),(0,u.jsx)("div",{ref:l,style:{height:"100%",width:"100%"},children:(0,u.jsx)("div",{ref:n,style:{height:m,margin:h,transform:"translate3d(".concat(p,", 0, 0)"),width:f},children:t})})},yr=()=>{let e=(0,f.c)(8),{iframeRef:t,setLoadedURL:n,url:l,zoom:a}=mg(),o;e[0]!==n||e[1]!==l?(o=()=>{n(l)},e[0]=n,e[1]=l,e[2]=o):o=e[2];let r="number"==typeof a?"scale(".concat(a,") "):void 0,i;return e[3]!==t||e[4]!==o||e[5]!==r||e[6]!==l?(i=(0,u.jsx)("iframe",{className:"live-preview-iframe",onLoad:o,ref:t,src:l,style:{transform:r},title:l},l),e[3]=t,e[4]=o,e[5]=r,e[6]=l,e[7]=i):i=e[7],i},yi=e=>{let t=(0,f.c)(18),{axis:n}=e,{breakpoint:l,measuredDeviceSize:a,setBreakpoint:r,setSize:i,size:s,zoom:c}=mg(),[d,p]=o.useState(("x"===n?null==a?void 0:a.width:null==a?void 0:a.height)||0),h;t[0]!==n||t[1]!==(null==a?void 0:a.height)||t[2]!==(null==a?void 0:a.width)||t[3]!==r||t[4]!==i||t[5]!==c?(h=e=>{let t=Number(e.target.value);t<0&&(t=0),p(t),r("custom"),i({type:"reset",value:{height:"y"===n?t:Number(null==a?void 0:a.height.toFixed(0))*c,width:"x"===n?t:Number(null==a?void 0:a.width.toFixed(0))*c}})},t[0]=n,t[1]=null==a?void 0:a.height,t[2]=null==a?void 0:a.width,t[3]=r,t[4]=i,t[5]=c,t[6]=h):h=t[6];let m=h,g,v;t[7]!==n||t[8]!==l||t[9]!==a||t[10]!==s||t[11]!==c?(g=()=>{"responsive"===l&&a&&p("x"===n?Number(a.width.toFixed(0))*c:Number(a.height.toFixed(0))*c),"responsive"!==l&&s&&p("x"===n?s.width:s.height)},v=[l,n,a,s,c],t[7]=n,t[8]=l,t[9]=a,t[10]=s,t[11]=c,t[12]=g,t[13]=v):(g=t[12],v=t[13]),(0,o.useEffect)(g,v);let b="x"===n?"live-preview-width":"live-preview-height",y=d||0,x;return t[14]!==m||t[15]!==b||t[16]!==y?(x=(0,u.jsx)("input",{className:"toolbar-input",min:0,name:b,onChange:m,step:1,type:"number",value:y}),t[14]=m,t[15]=b,t[16]=y,t[17]=x):x=t[17],x},ys="live-preview-toolbar-controls",yc=[50,75,100,125,150,200],yu=()=>{let e=(0,f.c)(14),{breakpoint:t,breakpoints:n,setBreakpoint:l,setPreviewWindowType:a,setZoom:r,url:i,zoom:c}=mg(),{t:d}=(0,s.d)(),p;if(e[0]!==t||e[1]!==n||e[2]!==l||e[3]!==a||e[4]!==r||e[5]!==d||e[6]!==i||e[7]!==c){var h,m;let f,g={label:d("general:custom"),value:"custom"},v;e[9]!==r||e[10]!==c?(v=e=>{let{close:t}=e;return(0,u.jsx)(ts.ButtonGroup,{children:(0,u.jsx)(o.Fragment,{children:yc.map(e=>(0,u.jsxs)(ts.Button,{active:100*c==e,onClick:()=>{r(e/100),t()},children:[e,"%"]},e))})})},e[9]=r,e[10]=c,e[11]=v):v=e[11],e[12]!==a?(f=e=>{e.preventDefault(),a("popup")},e[12]=a,e[13]=f):f=e[13],p=(0,u.jsxs)("div",{className:ys,children:[(null==n?void 0:n.length)>0&&(0,u.jsx)(ty,{button:(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("span",{children:null!=(m=null==(h=n.find(e=>e.name==t))?void 0:h.label)?m:g.label}),(0,u.jsx)(tl,{className:"".concat(ys,"__chevron")})]}),className:"".concat(ys,"__breakpoint"),horizontalAlign:"right",render:e=>{let{close:a}=e;return(0,u.jsx)(ts.ButtonGroup,{children:(0,u.jsxs)(o.Fragment,{children:[n.map(e=>(0,u.jsx)(ts.Button,{active:e.name==t,onClick:()=>{l(e.name),a()},children:e.label},e.name)),"custom"===t&&(0,u.jsx)(ts.Button,{active:t==g.value,onClick:()=>{l(g.value),a()},children:g.label})]})})},showScrollbar:!0,verticalAlign:"bottom"}),(0,u.jsxs)("div",{className:"".concat(ys,"__device-size"),children:[(0,u.jsx)(yi,{axis:"x"}),(0,u.jsx)("span",{className:"".concat(ys,"__size-divider"),children:(0,u.jsx)(s.a,{})}),(0,u.jsx)(yi,{axis:"y"})]}),(0,u.jsx)(ty,{button:(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("span",{children:[100*c,"%"]}),(0,u.jsx)(tl,{className:"".concat(ys,"__chevron")})]}),className:"".concat(ys,"__zoom"),horizontalAlign:"right",render:v,showScrollbar:!0,verticalAlign:"bottom"}),(0,u.jsx)("a",{className:"".concat(ys,"__external"),href:i,onClick:f,target:"_blank",title:"Open in new window",type:"button",children:(0,u.jsx)(mA,{})})]}),e[0]=t,e[1]=n,e[2]=l,e[3]=a,e[4]=r,e[5]=d,e[6]=i,e[7]=c,e[8]=p}else p=e[8];return p},yd="live-preview-toolbar",yp=e=>{let t=(0,f.c)(10),{toolbarPosition:n}=mg(),l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={id:"live-preview-toolbar"},t[0]=l):l=t[0];let{attributes:a,listeners:o,setNodeRef:r,transform:i}=(0,g.PM)(l),s;t[1]===Symbol.for("react.memo_cache_sentinel")?(s=[yd,"".concat(yd,"--draggable")],t[1]=s):s=t[1];let c="".concat(n.x,"px"),d="".concat(n.y,"px"),p;return t[2]!==a||t[3]!==o||t[4]!==e||t[5]!==r||t[6]!==c||t[7]!==d||t[8]!==i?(p=(0,u.jsxs)("div",{className:s.join(" "),style:{left:c,top:d,...i?{transform:i?"translate3d(".concat((null==i?void 0:i.x)||0,"px, ").concat((null==i?void 0:i.y)||0,"px, 0)"):void 0}:{}},children:[(0,u.jsx)("button",{...o,...a,className:"".concat(yd,"__drag-handle"),ref:r,type:"button",children:(0,u.jsx)(aG,{})}),(0,u.jsx)(yu,{...e})]}),t[2]=a,t[3]=o,t[4]=e,t[5]=r,t[6]=c,t[7]=d,t[8]=i,t[9]=p):p=t[9],p},yh=e=>(0,u.jsx)("div",{className:[yd,"".concat(yd,"--static")].join(" "),children:(0,u.jsx)(yu,{...e})}),yf=e=>{let{draggable:t}=e;return t?(0,u.jsx)(yp,{...e}):(0,u.jsx)(yh,{...e})},ym="live-preview-window",yg=e=>{let t,n,l,a=(0,f.c)(49),{appIsReady:r,breakpoint:s,iframeRef:c,isLivePreviewing:d,loadedURL:p,popupRef:h,previewWindowType:m,url:g}=mg(),v=lx(),{mostRecentUpdate:b}=uS(),[y]=eM(),{id:x,collectionSlug:w,globalSlug:j}=aC(),C;if(a[0]!==r||a[1]!==w||a[2]!==y||a[3]!==j||a[4]!==x||a[5]!==c||a[6]!==d||a[7]!==v||a[8]!==b||a[9]!==h||a[10]!==m||a[11]!==g?(C=()=>{if(!(!d||!r)&&y){var e;let t=(0,F.r)(y,!0);t.id||(t.id=x);let n={type:"payload-live-preview",collectionSlug:w,data:t,externallyUpdatedRelationship:b,globalSlug:j,locale:v.code};"popup"===m&&h.current&&h.current.postMessage(n,g),"iframe"===m&&c.current&&(null==(e=c.current.contentWindow)||e.postMessage(n,g))}},a[0]=r,a[1]=w,a[2]=y,a[3]=j,a[4]=x,a[5]=c,a[6]=d,a[7]=v,a[8]=b,a[9]=h,a[10]=m,a[11]=g,a[12]=C):C=a[12],a[13]!==r||a[14]!==w||a[15]!==y||a[16]!==j||a[17]!==x||a[18]!==c||a[19]!==d||a[20]!==p||a[21]!==v||a[22]!==b||a[23]!==h||a[24]!==m||a[25]!==g?(t=[y,g,w,j,x,m,h,r,c,b,v,d,p],a[13]=r,a[14]=w,a[15]=y,a[16]=j,a[17]=x,a[18]=c,a[19]=d,a[20]=p,a[21]=v,a[22]=b,a[23]=h,a[24]=m,a[25]=g,a[26]=t):t=a[26],(0,o.useEffect)(C,t),a[27]!==r||a[28]!==c||a[29]!==d||a[30]!==h||a[31]!==m||a[32]!==g?(n=()=>{var e;if(!d||!r)return;let t={type:"payload-document-event"};"popup"===m&&h.current&&h.current.postMessage(t,g),"iframe"===m&&c.current&&(null==(e=c.current.contentWindow)||e.postMessage(t,g))},a[27]=r,a[28]=c,a[29]=d,a[30]=h,a[31]=m,a[32]=g,a[33]=n):n=a[33],a[34]!==r||a[35]!==c||a[36]!==d||a[37]!==b||a[38]!==h||a[39]!==m||a[40]!==g?(l=[b,c,h,m,g,d,r],a[34]=r,a[35]=c,a[36]=d,a[37]=b,a[38]=h,a[39]=m,a[40]=g,a[41]=l):l=a[41],(0,o.useEffect)(n,l),"iframe"!==m)return null;let S=d&&"".concat(ym,"--is-live-previewing"),_=s&&"responsive"!==s&&"".concat(ym,"--has-breakpoint"),k;a[42]!==S||a[43]!==_?(k=[ym,S,_].filter(Boolean),a[42]=S,a[43]=_,a[44]=k):k=a[44];let N=k.join(" "),E;return a[45]!==e||a[46]!==N||a[47]!==g?(E=(0,u.jsx)("div",{className:N,children:(0,u.jsxs)("div",{className:"".concat(ym,"__wrapper"),children:[(0,u.jsx)(yf,{...e}),(0,u.jsx)("div",{className:"".concat(ym,"__main"),children:(0,u.jsx)(yo,{children:g?(0,u.jsx)(yr,{}):(0,u.jsx)(i.f,{height:"100%"})})})]})}),a[45]=e,a[46]=N,a[47]=g,a[48]=E):E=a[48],E},yv=async e=>{let{id:t,clearRouteCache:n,collectionSlug:l,documentLockStateRef:a,globalSlug:o,isLockingEnabled:r,isWithinDoc:i,setCurrentEditor:s,setIsReadOnlyForIncomingUser:c,updateDocumentEditor:u,user:d}=e;if(r)try{var p;await u(t,null!=l?l:o,d),i||(a.current.hasShownLockedModal=!0),a.current={hasShownLockedModal:null==(p=a.current)?void 0:p.hasShownLockedModal,isLocked:!0,user:d},s(d),i&&c&&c(!1),n&&n()}catch(e){console.error("Error during document takeover:",e)}},yb="api-key",yy=e=>{var t,n;let{enabled:l,readOnly:a}=e,[r]=(0,o.useState)(oo()),[c,p]=(0,o.useState)(!1),[h,f]=(0,o.useState)(!1),{i18n:m,t:g}=(0,s.d)(),{config:v,getEntityConfig:b}=(0,i.c)(),{collectionSlug:y}=aC(),x=eF(e=>{let[t]=e;return t&&t.apiKey||null}),w=null==(n=b({collectionSlug:y}))||null==(t=n.fields)?void 0:t.find(e=>"name"in e&&"apiKey"===e.name),j=null==x?void 0:x.value,C=(0,o.useMemo)(()=>{let e="API Key";return(null==w?void 0:w.label)&&(e=w.label),(0,d.s)(e,m)},[w,m]),S=(0,o.useMemo)(()=>(0,u.jsxs)("label",{className:"".concat(yb,"__label field-label"),htmlFor:"apiKey",children:[(0,u.jsx)("span",{children:C}),(0,u.jsx)(pB,{value:j})]}),[C,j]),{setValue:_,value:k}=aA({path:"apiKey",validate:e=>(0,W.Qq)(e,{name:"apiKey",type:"text",blockData:{},data:{},event:"onChange",maxLength:48,minLength:24,path:["apiKey"],preferences:{fields:{}},req:{payload:{config:v},t:g},siblingData:{}})});return(0,o.useEffect)(()=>{!j&&l&&_(r),!l&&j&&_(null)},[j,l,_,r]),(0,o.useEffect)(()=>{c&&setTimeout(()=>{p(!1)},1e4)},[c]),l?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("div",{className:["field-type","api-key","read-only"].filter(Boolean).join(" "),children:[S,(0,u.jsxs)("div",{className:"".concat(yb,"__input-wrap"),children:[(0,u.jsx)("input",{"aria-label":C,className:c?"highlight":void 0,disabled:!0,id:"apiKey",name:"apiKey",type:h?"text":"password",value:k||""}),(0,u.jsx)("div",{className:"".concat(yb,"__toggle-button-wrap"),children:(0,u.jsx)(tS,{buttonStyle:"none",className:"".concat(yb,"__toggle-button"),icon:(0,u.jsx)(m_,{active:h}),onClick:()=>f(e=>!e)})})]})]}),!a&&(0,u.jsx)(ga,{highlightField:()=>{c&&p(!1),setTimeout(()=>{p(!0)},1)},setKey:()=>_(oo())})]}):null},yx="auth-fields",yw=e=>{var t;let n,l=(0,f.c)(21),{className:a,collectionSlug:r,disableLocalStrategy:c,email:d,loginWithUsername:p,operation:h,readOnly:m,requirePassword:g,setValidateBeforeSubmit:b,useAPIKey:y,username:x,verify:j}=e,[C,S]=(0,o.useState)(g),_=eF(yj),k=eF(yC),N=eL(),{i18n:E,t:P}=(0,s.d)(),{docPermissions:D,isEditing:T,isInitializing:A,isTrashed:R}=aC(),{config:L}=(0,i.c)(),{routes:O}=L,{api:F}=O,M=!0,I=!0,B="object"==typeof D.fields&&"password"in D.fields,z="object"==typeof D.fields&&("username"in D.fields||"email"in D.fields);if(B){let{permissions:e}=(0,w.P)({field:{name:"password",type:"text"},operation:h,parentName:"",permissions:null==D?void 0:D.fields});M="create"===h?!0===e||"object"==typeof e&&e.create:!0===e||"object"==typeof e&&e.update}if(z){let e=p&&(p.requireEmail||p.allowEmailLogin),t;l[0]!==D.fields?(t=(0,w.P)({field:{name:"email",type:"text"},operation:"read",parentName:"",permissions:null==D?void 0:D.fields}),l[0]=D.fields,l[1]=t):t=l[1];let{operation:n}=t,a;l[2]!==D.fields?(a=(0,w.P)({field:{name:"username",type:"text"},operation:"read",parentName:"",permissions:null==D?void 0:D.fields}),l[2]=D.fields,l[3]=a):a=l[3];let{operation:o}=a;I=e?o||n:p&&!e?o:n}let U=(!c||"object"==typeof c&&!0===c.enableFields)&&(I||M),V=m||A||R,H=(null==D?void 0:D.fields)===!0||(null==D||null==(t=D.fields)?void 0:t.enableAPIKey),q=m||!0===H||H&&"object"==typeof H&&!(null==H?void 0:H.update),W=m||!0!==H&&!(null==H?void 0:H.update),K=!0===H||(null==H?void 0:H.read),Q;e:{if(D){Q=!!("unlock"in D&&D.unlock);break e}Q=!1}let Y=Q,G;l[4]!==k||l[5]!==b||l[6]!==P?(G=e=>{e?(b(!0),k({type:"UPDATE",errorMessage:P("validation:required"),path:"password",valid:!1}),k({type:"UPDATE",errorMessage:P("validation:required"),path:"confirm-password",valid:!1})):(b(!1),k({type:"REMOVE",path:"password"}),k({type:"REMOVE",path:"confirm-password"})),S(e)},l[4]=k,l[5]=b,l[6]=P,l[7]=G):G=l[7];let X=G,$;l[8]!==F||l[9]!==r||l[10]!==d||l[11]!==E||l[12]!==p||l[13]!==P||l[14]!==x?($=async()=>{let e=(0,v.Q)({apiRoute:F,path:"/".concat(r,"/unlock")});200===(await fetch(e,{body:JSON.stringify(p&&x?{username:x}:{email:d}),credentials:"include",headers:{"Accept-Language":E.language,"Content-Type":"application/json"},method:"post"})).status?eZ.success(P("authentication:successfullyUnlocked")):eZ.error(P("authentication:failedToUnlock"))},l[8]=F,l[9]=r,l[10]=d,l[11]=E,l[12]=p,l[13]=P,l[14]=x,l[15]=$):$=l[15];let Z=$,J,ee;return(l[16]!==N?(J=()=>{N||S(!1)},ee=[N],l[16]=N,l[17]=J,l[18]=ee):(J=l[17],ee=l[18]),(0,o.useEffect)(J,ee),U||y&&K||j&&T)?(l[19]!==a?(n=[yx,a].filter(Boolean),l[19]=a,l[20]=n):n=l[20],(0,u.jsxs)("div",{className:n.join(" "),children:[U&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(bT,{loginWithUsername:p,operation:h,permissions:null==D?void 0:D.fields,readOnly:m||R,t:P}),(C||g)&&(!c||!U)&&(0,u.jsxs)("div",{className:"".concat(yx,"__changing-password"),children:[(0,u.jsx)(hV,{autoComplete:"new-password",field:{name:"password",label:P("authentication:newPassword"),required:!0},indexPath:"",parentPath:"",parentSchemaPath:"",path:"password",schemaPath:"password"}),(0,u.jsx)(hB,{disabled:m||R})]}),(0,u.jsxs)("div",{className:"".concat(yx,"__controls"),children:[C&&!g&&(0,u.jsx)(tS,{buttonStyle:"secondary",disabled:V,id:"cancel-change-password",onClick:()=>X(!1),size:"medium",children:P("general:cancel")}),!C&&!g&&!c&&M&&(0,u.jsx)(tS,{buttonStyle:"secondary",disabled:V,id:"change-password",onClick:()=>X(!0),size:"medium",children:P("authentication:changePassword")}),!C&&"update"===h&&Y&&(0,u.jsx)(tS,{buttonStyle:"secondary",disabled:V||!I,id:"force-unlock",onClick:()=>void Z(),size:"medium",children:P("authentication:forceUnlock")})]})]}),y&&(0,u.jsx)("div",{className:"".concat(yx,"__api-key"),children:K&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(aq,{field:{name:"enableAPIKey",admin:{disabled:V,readOnly:W},label:P("authentication:enableAPIKey")},path:"enableAPIKey",schemaPath:"".concat(r,".enableAPIKey")}),(0,u.jsx)(yy,{enabled:!!(null==_?void 0:_.value),readOnly:q})]})}),j&&T&&(0,u.jsx)(aq,{field:{name:"_verified",admin:{disabled:V,readOnly:m},label:P("authentication:verified")},path:"_verified",schemaPath:"".concat(r,"._verified")})]})):null};function yj(e){let[t]=e;return t&&(null==t?void 0:t.enableAPIKey)||null}function yC(e){return e[1]}var yS=e=>{let t,n=(0,f.c)(37),{id:l,collectionSlug:a,globalSlug:r,isTrashed:c,pluralLabel:u,useAsTitle:p}=e,h=(null==e?void 0:e.view)||void 0,{isEditing:m,isInitializing:g}=aC(),{title:b}=ap(),{isEntityVisible:y}=bm(),x;n[0]!==a||n[1]!==r||n[2]!==y?(x=y({collectionSlug:a,globalSlug:r}),n[0]=a,n[1]=r,n[2]=y,n[3]=x):x=n[3];let w=x,{setStepNav:j}=f1(),{i18n:C,t:S}=(0,s.d)(),{config:_}=(0,i.c)(),{routes:k,serverURL:N}=_,{admin:E}=k,P;return n[4]!==E||n[5]!==a||n[6]!==r||n[7]!==C||n[8]!==l||n[9]!==m||n[10]!==g||n[11]!==c||n[12]!==w||n[13]!==u||n[14]!==j||n[15]!==S||n[16]!==b||n[17]!==p||n[18]!==h?(P=()=>{let e=[];g||(a?(e.push({label:(0,d.s)(u,C),url:w?(0,v.Q)({adminRoute:E,path:"/collections/".concat(a)}):void 0}),c&&e.push({label:S("general:trash"),url:w?(0,v.Q)({adminRoute:E,path:"/collections/".concat(a,"/trash")}):void 0}),m?e.push({label:p&&"id"!==p&&b||"".concat(l),url:w?(0,v.Q)({adminRoute:E,path:c?"/collections/".concat(a,"/trash/").concat(l):"/collections/".concat(a,"/").concat(l)}):void 0}):e.push({label:S("general:createNew")})):r&&e.push({label:b,url:w?(0,v.Q)({adminRoute:E,path:"/globals/".concat(r)}):void 0}),h&&e.push({label:h}),j(e))},n[4]=E,n[5]=a,n[6]=r,n[7]=C,n[8]=l,n[9]=m,n[10]=g,n[11]=c,n[12]=w,n[13]=u,n[14]=j,n[15]=S,n[16]=b,n[17]=p,n[18]=h,n[19]=P):P=n[19],n[20]!==E||n[21]!==a||n[22]!==r||n[23]!==C||n[24]!==l||n[25]!==m||n[26]!==g||n[27]!==c||n[28]!==w||n[29]!==u||n[30]!==N||n[31]!==j||n[32]!==S||n[33]!==b||n[34]!==p||n[35]!==h?(t=[j,g,m,u,l,c,p,E,S,C,b,a,r,N,h,w],n[20]=E,n[21]=a,n[22]=r,n[23]=C,n[24]=l,n[25]=m,n[26]=g,n[27]=c,n[28]=w,n[29]=u,n[30]=N,n[31]=j,n[32]=S,n[33]=b,n[34]=p,n[35]=h,n[36]=t):t=n[36],(0,o.useEffect)(P,t),null},y_=e=>{var t,n;let l=(0,f.c)(14),{collectionConfig:a,config:r,fallback:i,globalConfig:c}=e,u=null==a||null==(t=a.admin)?void 0:t.useAsTitle,d;l[0]!==u?(d=e=>{let[t]=e;return u&&t&&(null==t?void 0:t[u])||null},l[0]=u,l[1]=d):d=l[1];let p=eF(d),h=(0,o.useRef)(!1),{i18n:m}=(0,s.d)(),{setDocumentTitle:g}=ap(),v=null==r||null==(n=r.admin)?void 0:n.dateFormat,b=(null==p?void 0:p.value)||"",y;l[2]!==a||l[3]!==v||l[4]!==i||l[5]!==c||l[6]!==m||l[7]!==b||l[8]!==u?(y=au({collectionConfig:a,data:{id:"",[u]:b},dateFormat:v,fallback:i,globalConfig:c,i18n:m}),l[2]=a,l[3]=v,l[4]=i,l[5]=c,l[6]=m,l[7]=b,l[8]=u,l[9]=y):y=l[9];let x=y,w,j;return l[10]!==g||l[11]!==x?(w=()=>{if(!h.current){h.current=!0;return}g(x)},j=[g,x],l[10]=g,l[11]=x,l[12]=w,l[13]=j):(w=l[12],j=l[13]),(0,o.useEffect)(w,j),null},yk="collection-edit";function yN(e){var t,n,l,a,r;let{BeforeDocumentControls:s,Description:c,EditMenuItems:d,LivePreview:p,PreviewButton:f,PublishButton:m,SaveButton:g,SaveDraftButton:b,Upload:y,UploadControls:x}=e,{id:w,action:j,AfterDocument:C,AfterFields:S,apiURL:_,BeforeFields:k,collectionSlug:N,currentEditor:E,data:P,disableActions:D,disableCreate:T,disableLeaveWithoutSaving:A,docPermissions:L,documentIsLocked:O,documentLockState:F,getDocPermissions:M,getDocPreferences:I,globalSlug:B,hasPublishPermission:z,hasSavePermission:U,incrementVersionCount:V,initialState:H,isEditing:q,isInitializing:W,isLocked:K,isTrashed:Q,lastUpdateTime:Y,redirectAfterCreate:G,redirectAfterDelete:X,redirectAfterDuplicate:$,redirectAfterRestore:Z,setCurrentEditor:J,setData:ee,setDocumentIsLocked:et,setLastUpdateTime:en,unlockDocument:el,updateDocumentEditor:ea}=aC(),{clearDoc:eo,drawerSlug:er,onDelete:ei,onDuplicate:es,onRestore:ec,onSave:eu}=cC(),ed=!!er,{refreshCookieAsync:ep,user:eh}=lf(),{config:ef,config:{admin:{user:em},routes:{admin:eg},serverURL:ev},getEntityConfig:eb}=(0,i.c)(),ey=eb({collectionSlug:N}),ex=eb({globalSlug:B}),ew=nn(),ej=(0,h.useRouter)(),eC=(0,h.useSearchParams)(),{reportUpdate:eS}=uS(),{resetUploadEdits:e_}=ax(),{getFormState:ek}=ce(),{startRouteTransition:eN}=e4(),{clearRouteCache:eE}=d3(),{isLivePreviewEnabled:eP,isLivePreviewing:eD,previewWindowType:eT,setURL:eA,typeofLivePreviewURL:eR,url:eL}=mg(),{isPreviewEnabled:eO,setPreviewURL:eF}=mv(),eM=(0,o.useRef)(null),eI=(0,o.useRef)(null),eB=eC.get("locale"),ez=(null==ey?void 0:ey.slug)||(null==ex?void 0:ex.slug),eU=N&&!w?"create":"update",eV=ey?ey.auth:void 0,eH=ey?ey.upload:void 0,eq=ey||ex,eW=(null==eq?void 0:eq.lockDocuments)===void 0||(null==eq?void 0:eq.lockDocuments),eK=!1!==eW,eQ=("object"==typeof eW?eW.duration:300)*1e3,eY=(0,R.s8)(eq),[eG,eX]=(0,o.useState)(!1),[e$,eZ]=(0,o.useState)(!1),[eJ,e0]=(0,o.useState)(Date.now()),e1=Y+eQ,e3=Date.now()>e1,e2=!eG&&("u">typeof A?!A:!eY),e6=(0,o.useMemo)(()=>[ez],[ez]),[e5,e8]=(0,o.useState)(()=>!!("create"===eU&&eV&&!eV.disableLocalStrategy)),e7=o.useRef(null),e9=(0,o.useCallback)(e=>{var t,n,l,a,o;et(!0);let r="object"==typeof(null==(t=F.current)?void 0:t.user)?null==(l=F.current)||null==(n=l.user)?void 0:n.id:null==(a=F.current)?void 0:a.user;if(e){let t="string"==typeof e.user||"number"==typeof e.user?e.user:e.user.id;F.current&&t===r||(r===eh.id&&t!==eh.id&&(eZ(!0),F.current.hasShownLockedModal=!0),F.current={hasShownLockedModal:(null==(o=F.current)?void 0:o.hasShownLockedModal)||!1,isLocked:!0,user:e.user},J(e.user)),e.lastEditedAt&&en(new Date(e.lastEditedAt).getTime())}},[F,J,et,en,null==eh?void 0:eh.id]),te=(0,o.useCallback)(e=>{e7.current=e},[]),tt=(0,o.useCallback)(async()=>{var e;let t=null==(e=F.current)?void 0:e.user,n="object"==typeof t?(null==t?void 0:t.id)===(null==eh?void 0:eh.id):t===(null==eh?void 0:eh.id);if(eK&&O&&(w||B)){let e=e7.current?new URL(e7.current).pathname:"",t=["/preview","/api","/versions"].some(t=>e.includes(t));if(n&&!t)try{await el(w,null!=N?N:B),et(!1),J(null)}catch(e){console.error("Failed to unlock before leave",e)}}},[N,O,F,B,w,eK,J,et,el,null==eh?void 0:eh.id]),tn=(0,o.useCallback)(async(e,t)=>{let{context:n,formState:l}=t||{},a=cx(eI),o=(null==e?void 0:e.doc)||(null==e?void 0:e.result),r=(null==o?void 0:o.updatedAt)||new Date().toISOString();if(eh&&N===em&&w===eh.id&&ep(),en(r),(null==n?void 0:n.incrementVersionCount)!==!1&&V(),"function"==typeof ee&&ee(o||{}),"function"==typeof eu){let t=w?"update":"create";eu({...e,context:n,operation:t,updatedAt:"update"===t?new Date().toISOString():(null==o?void 0:o.updatedAt)||new Date().toISOString()})}if(!q&&ew<2&&!1!==G){let e=(0,v.Q)({adminRoute:eg,path:"/collections/".concat(N,"/").concat(null==o?void 0:o.id).concat(eB?"?locale=".concat(eB):"")});eN(()=>ej.push(e))}else e_();if((null==n?void 0:n.getDocPermissions)!==!1&&await M(e),w||B){let e=await I(),{livePreviewURL:t,previewURL:n,state:i}=await ek({id:w,collectionSlug:N,data:o,docPermissions:L,docPreferences:e,formState:l,globalSlug:B,operation:eU,renderAllFields:!1,returnLivePreviewURL:eP&&"function"===eR,returnLockStatus:!1,returnPreviewURL:eO,schemaPath:e6.join("."),signal:a.signal,skipValidation:!0});return eH&&i&&delete i.file,eK&&et(!1),eP&&"function"===eR&&eA(t),eO&&eF(n),eS({id:w,doc:o,drawerSlug:er,entitySlug:ez,operation:"update",updatedAt:r}),eI.current=null,i}eS({id:w,doc:o,drawerSlug:er,entitySlug:ez,operation:"create",updatedAt:r})},[eh,N,em,w,en,ee,eu,q,ew,G,B,ep,V,eg,eB,eN,ej,e_,M,I,ek,L,eU,eP,eR,eO,e6,eH,eK,eS,er,ez,et,eA,eF]),tl=(0,o.useCallback)(async e=>{let{formState:t,submitted:n}=e,l=cx(eM),a=Date.now(),o=a-eJ,r=eK&&o>=1e4;r&&e0(a);let i=await I(),s=await ek({id:w,collectionSlug:N,docPermissions:L,docPreferences:i,formState:t,globalSlug:B,operation:eU,renderAllFields:!1,returnLockStatus:eK,schemaPath:e6.join("."),signal:l.signal,skipValidation:!n,updateLastEdited:r});if(!s)return;let{lockedState:c,state:u}=s;return eK&&e9(c),eM.current=null,u},[eJ,eK,I,ek,w,N,L,B,eU,e6,e9]);(0,o.useEffect)(()=>()=>{eZ(!1)},[]),(0,o.useEffect)(()=>{let e=eM.current,t=eI.current;return()=>{cy(e),cy(t)}},[]);let ta=O&&E&&("object"==typeof E?E.id!==(null==eh?void 0:eh.id):E!==(null==eh?void 0:eh.id))&&!eG&&!e$&&!(null==(t=F.current)?void 0:t.hasShownLockedModal)&&!e3,to=ef.folders&&N===(null==(n=ef.folders)?void 0:n.slug);return(0,u.jsx)("main",{className:[yk,(w||B)&&"".concat(yk,"--is-editing"),B&&"global-edit--".concat(B),N&&"collection-edit--".concat(N),eD&&"iframe"===eT&&"".concat(yk,"--is-live-previewing")].filter(Boolean).join(" "),children:(0,u.jsx)(aN,{operation:eU,children:(0,u.jsxs)(u9,{action:j,className:"".concat(yk,"__form"),disabled:eG||W||!U||Q,disableValidationOnSubmit:!e5,initialState:!W&&H,isDocumentForm:!0,isInitializing:W,method:w?"PATCH":"POST",onChange:[tl],onSuccess:tn,children:[ed&&(0,u.jsx)(yl,{AfterHeader:c,drawerSlug:er,showDocumentID:!to}),eK&&ta&&(0,u.jsx)(fD,{handleGoBack:()=>(e=>{let{adminRoute:t,collectionSlug:n,router:l,serverURL:a}=e,o=(0,v.Q)({adminRoute:t,path:n?"/collections/".concat(n):"/"});l.push(o)})({adminRoute:eg,collectionSlug:N,router:ej,serverURL:ev}),isActive:ta,onReadOnly:()=>{eX(!0),eZ(!1)},onTakeOver:()=>yv({id:w,clearRouteCache:eE,collectionSlug:N,documentLockStateRef:F,globalSlug:B,isLockingEnabled:eK,isWithinDoc:!1,setCurrentEditor:J,updateDocumentEditor:ea,user:eh}),updatedAt:Y,user:E}),eK&&e$&&(0,u.jsx)(fN,{handleBackToDashboard:()=>(e=>{let{adminRoute:t,router:n,serverURL:l}=e,a=(0,v.Q)({adminRoute:t,path:"",serverURL:l});n.push(a)})({adminRoute:eg,router:ej,serverURL:ev}),isActive:e$,onReadOnly:()=>{eX(!0),eZ(!1)}}),e2&&(0,u.jsx)(fC,{onConfirm:tt,onPrevent:te}),!ed&&(0,u.jsx)(yS,{collectionSlug:null==ey?void 0:ey.slug,globalSlug:null==ex?void 0:ex.slug,id:w,isTrashed:Q,pluralLabel:null==ey||null==(l=ey.labels)?void 0:l.plural,useAsTitle:null==ey||null==(a=ey.admin)?void 0:a.useAsTitle}),(0,u.jsx)(y_,{collectionConfig:ey,config:ef,fallback:ew<=1?null==w?void 0:w.toString():void 0,globalConfig:ex}),(0,u.jsx)(mQ,{apiURL:_,BeforeDocumentControls:s,customComponents:{PreviewButton:f,PublishButton:m,SaveButton:g,SaveDraftButton:b},data:P,disableActions:D||to||Q,disableCreate:T,EditMenuItems:d,hasPublishPermission:z,hasSavePermission:U,id:w,isEditing:q,isInDrawer:ed,isTrashed:Q,onDelete:ei,onDrawerCreateNew:eo,onDuplicate:es,onRestore:ec,onSave:tn,onTakeOver:()=>yv({id:w,clearRouteCache:eE,collectionSlug:N,documentLockStateRef:F,globalSlug:B,isLockingEnabled:eK,isWithinDoc:!0,setCurrentEditor:J,setIsReadOnlyForIncomingUser:eX,updateDocumentEditor:ea,user:eh}),permissions:L,readOnlyForIncomingUser:eG,redirectAfterDelete:X,redirectAfterDuplicate:$,redirectAfterRestore:Z,slug:(null==ey?void 0:ey.slug)||(null==ex?void 0:ex.slug),user:E}),(0,u.jsxs)("div",{className:["".concat(yk,"__main-wrapper"),"popup"===eT&&"".concat(yk,"--detached")].filter(Boolean).join(" "),children:[(0,u.jsxs)("div",{className:["".concat(yk,"__main"),"popup"===eT&&"".concat(yk,"__main--popup-open")].filter(Boolean).join(" "),children:[(0,u.jsx)(dG,{AfterFields:S,BeforeFields:k||(0,u.jsxs)(o.Fragment,{children:[eV&&(0,u.jsx)(yw,{className:"".concat(yk,"__auth"),collectionSlug:ey.slug,disableLocalStrategy:null==(r=ey.auth)?void 0:r.disableLocalStrategy,email:null==P?void 0:P.email,loginWithUsername:null==eV?void 0:eV.loginWithUsername,operation:eU,readOnly:!U,requirePassword:!w,setValidateBeforeSubmit:e8,useAPIKey:eV.useAPIKey,username:null==P?void 0:P.username,verify:eV.verify}),eH&&(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(db,{children:y||(0,u.jsx)(p0,{collectionSlug:ey.slug,initialState:H,uploadConfig:eH,UploadControls:x})})})]}),Description:c,docPermissions:L,fields:eq.fields,forceSidebarWrap:eD,isTrashed:Q,readOnly:eG||!U||Q,schemaPathSegments:e6}),C]}),eP&&!ed&&eL&&(0,u.jsx)(u.Fragment,{children:p||(0,u.jsx)(yg,{collectionSlug:N,globalSlug:B})})]})]},"".concat(K))})})}var yE=e=>{let{children:t}=e;return(0,u.jsx)("div",{className:"field-diff-label",children:t})},yP="field-diff",yD=e=>{let{className:t,From:n,i18n:l,label:{label:a,locale:o},nestingLevel:r=0,To:i}=e;return(0,u.jsxs)("div",{className:"".concat(yP,"-container").concat(t?" ".concat(t):""," nested-level-").concat(r),style:r?{"--left-offset":"calc(50%  - (".concat(r," * calc( calc(var(--base)* 0.5) - 2.5px  )))")}:{"--left-offset":"50%"},children:[(0,u.jsxs)(yE,{children:[o&&(0,u.jsx)("span",{className:"".concat(yP,"__locale-label"),children:o}),"function"!=typeof a&&(0,d.s)(a||"",l)]}),(0,u.jsxs)("div",{className:"".concat(yP,"-content"),style:r?{gridTemplateColumns:"calc(var(--left-offset) - calc(var(--base)*0.5) )     calc(50% - calc(var(--base)*0.5) + calc(50% - var(--left-offset)))"}:void 0,children:[n,i]})]})}}}]);