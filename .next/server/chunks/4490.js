"use strict";exports.id=4490,exports.ids=[4490],exports.modules={64490:(a,b,c)=>{c.d(b,{GetRoleCredentialsCommand:()=>K,SSOClient:()=>a6});var d=c(73307),e=c(82459);let f={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var g=c(33078),h=c(37947);class i extends h.T{constructor(a){super(a),Object.setPrototypeOf(this,i.prototype)}}class j extends i{name="InvalidRequestException";$fault="client";constructor(a){super({name:"InvalidRequestException",$fault:"client",...a}),Object.setPrototypeOf(this,j.prototype)}}class k extends i{name="ResourceNotFoundException";$fault="client";constructor(a){super({name:"ResourceNotFoundException",$fault:"client",...a}),Object.setPrototypeOf(this,k.prototype)}}class l extends i{name="TooManyRequestsException";$fault="client";constructor(a){super({name:"TooManyRequestsException",$fault:"client",...a}),Object.setPrototypeOf(this,l.prototype)}}class m extends i{name="UnauthorizedException";$fault="client";constructor(a){super({name:"UnauthorizedException",$fault:"client",...a}),Object.setPrototypeOf(this,m.prototype)}}let n="accountId",o="client",p="error",q="httpError",r="httpQuery",s="message",t="roleName",u="smithy.ts.sdk.synthetic.com.amazonaws.sso",v="com.amazonaws.sso";var w=[0,v,"AccessTokenType",8,0],x=[0,v,"SecretAccessKeyType",8,0],y=[0,v,"SessionTokenType",8,0],z=[3,v,"AccountInfo",0,[n,"accountName","emailAddress"],[0,0,0]],A=[3,v,"GetRoleCredentialsRequest",0,[t,n,"accessToken"],[[0,{[r]:"role_name"}],[0,{[r]:"account_id"}],[()=>w,{httpHeader:"x-amz-sso_bearer_token"}]]],B=[3,v,"GetRoleCredentialsResponse",0,["roleCredentials"],[[()=>E,0]]],C=[-3,v,"InvalidRequestException",{[p]:o,[q]:400},[s],[0]];g.O.for(v).registerError(C,j);var D=[-3,v,"ResourceNotFoundException",{[p]:o,[q]:404},[s],[0]];g.O.for(v).registerError(D,k);var E=[3,v,"RoleCredentials",0,["accessKeyId","secretAccessKey","sessionToken","expiration"],[0,[()=>x,0],[()=>y,0],1]],F=[3,v,"RoleInfo",0,[t,n],[0,0]],G=[-3,v,"TooManyRequestsException",{[p]:o,[q]:429},[s],[0]];g.O.for(v).registerError(G,l);var H=[-3,v,"UnauthorizedException",{[p]:o,[q]:401},[s],[0]];g.O.for(v).registerError(H,m);var I=[-3,u,"SSOServiceException",0,[],[]];g.O.for(u).registerError(I,i);var J=[9,v,"GetRoleCredentials",{http:["GET","/federation/credentials",200]},()=>A,()=>B];class K extends e.u.classBuilder().ep(f).m(function(a,b,c,e){return[(0,d.r)(c,a.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").sc(J).build(){}var L=c(59626),M=c(50284),N=c(57987),O=c(29351),P=c(32036),Q=c(53179),R=c(75285),S=c(15376),T=c(80347),U=c(96824),V=c(30645),W=c(67420),X=c(96867),Y=c(98481),Z=c(39494),$=c(77350),_=c(88392),aa=c(91035);let ab=async(a,b,c)=>({operation:(0,_.u)(b).operation,region:await (0,aa.t)(a.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),ac=a=>{let b=[];switch(a.operation){case"GetRoleCredentials":case"ListAccountRoles":case"ListAccounts":case"Logout":b.push({schemeId:"smithy.api#noAuth"});break;default:b.push({schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:a.region},propertiesExtractor:(a,b)=>({signingProperties:{config:a,context:b}})})}return b},ad={rE:"3.958.0"};var ae=c(62033),af=c(27356),ag=c(61997),ah=c(69022),ai=c(59476),aj=c(34352),ak=c(98550),al=c(3057),am=c(60175),an=c(11487),ao=c(99741),ap=c(99162),aq=c(271),ar=c(55947),as=c(7992),at=c(62445),au=c(13246),av=c(61231),aw=c(92308),ax=c(97885),ay=c(58412),az=c(46734),aA=c(73891),aB=c(38353),aC=c(38756),aD=c(31589),aE=c(8270),aF=c(52373),aG=c(69327);let aH="required",aI="argv",aJ="isSet",aK="booleanEquals",aL="error",aM="endpoint",aN="tree",aO="PartitionResult",aP="getAttr",aQ={[aH]:!1,type:"string"},aR={[aH]:!0,default:!1,type:"boolean"},aS={ref:"Endpoint"},aT={fn:aK,[aI]:[{ref:"UseFIPS"},!0]},aU={fn:aK,[aI]:[{ref:"UseDualStack"},!0]},aV={},aW={fn:aP,[aI]:[{ref:aO},"supportsFIPS"]},aX={ref:aO},aY={fn:aK,[aI]:[!0,{fn:aP,[aI]:[aX,"supportsDualStack"]}]},aZ=[aT],a$=[aU],a_=[{ref:"Region"}],a0={version:"1.0",parameters:{Region:aQ,UseDualStack:aR,UseFIPS:aR,Endpoint:aQ},rules:[{conditions:[{fn:aJ,[aI]:[aS]}],rules:[{conditions:aZ,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:aL},{conditions:a$,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:aL},{endpoint:{url:aS,properties:aV,headers:aV},type:aM}],type:aN},{conditions:[{fn:aJ,[aI]:a_}],rules:[{conditions:[{fn:"aws.partition",[aI]:a_,assign:aO}],rules:[{conditions:[aT,aU],rules:[{conditions:[{fn:aK,[aI]:[!0,aW]},aY],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:aV,headers:aV},type:aM}],type:aN},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:aL}],type:aN},{conditions:aZ,rules:[{conditions:[{fn:aK,[aI]:[aW,!0]}],rules:[{conditions:[{fn:"stringEquals",[aI]:[{fn:aP,[aI]:[aX,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:aV,headers:aV},type:aM},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:aV,headers:aV},type:aM}],type:aN},{error:"FIPS is enabled but this partition does not support FIPS",type:aL}],type:aN},{conditions:a$,rules:[{conditions:[aY],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:aV,headers:aV},type:aM}],type:aN},{error:"DualStack is enabled but this partition does not support DualStack",type:aL}],type:aN},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:aV,headers:aV},type:aM}],type:aN}],type:aN},{error:"Invalid Configuration: Missing Region",type:aL}]},a1=new aE.k({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),a2=(a,b={})=>a1.get(a,()=>(0,aF.s)(a0,{endpointParams:a,logger:b.logger}));aG.m.aws=aD.UF;var a3=c(40267),a4=c(10931),a5=c(74951);class a6 extends Z.K{config;constructor(...[a]){let b=(a=>{(0,ap.I)(process.version);let b=(0,as.I)(a),c=()=>b().then(aq.l),d=(a=>({apiVersion:"2019-06-10",base64Decoder:a?.base64Decoder??az.E,base64Encoder:a?.base64Encoder??aA.n,disableHostPrefix:a?.disableHostPrefix??!1,endpointProvider:a?.endpointProvider??a2,extensions:a?.extensions??[],httpAuthSchemeProvider:a?.httpAuthSchemeProvider??ac,httpAuthSchemes:a?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:a=>a.getIdentityProvider("aws.auth#sigv4"),signer:new au.f2},{schemeId:"smithy.api#noAuth",identityProvider:a=>a.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new aw.m}],logger:a?.logger??new ax.N,protocol:a?.protocol??av.Y,protocolSettings:a?.protocolSettings??{defaultNamespace:"com.amazonaws.sso",version:"2019-06-10",serviceTarget:"SWBPortalService"},serviceId:a?.serviceId??"SSO",urlParser:a?.urlParser??ay.D,utf8Decoder:a?.utf8Decoder??aB.a,utf8Encoder:a?.utf8Encoder??aC.P}))(a);(0,ae.I)(process.version);let e={profile:a?.profile,logger:d.logger};return{...d,...a,runtime:"node",defaultsMode:b,authSchemePreference:a?.authSchemePreference??(0,am.Z)(af.$,e),bodyLengthChecker:a?.bodyLengthChecker??ar.n,defaultUserAgentProvider:a?.defaultUserAgentProvider??(0,ag.pf)({serviceId:d.serviceId,clientVersion:ad.rE}),maxAttempts:a?.maxAttempts??(0,am.Z)(X.qs,a),region:a?.region??(0,am.Z)(ai.GG,{...ai.zH,...e}),requestHandler:an.$.create(a?.requestHandler??c),retryMode:a?.retryMode??(0,am.Z)({...X.kN,default:async()=>(await c()).retryMode||at.L0},a),sha256:a?.sha256??al.V.bind(null,"sha256"),streamCollector:a?.streamCollector??ao.k,useDualstackEndpoint:a?.useDualstackEndpoint??(0,am.Z)(aj.e$,e),useFipsEndpoint:a?.useFipsEndpoint??(0,am.Z)(ak.Ko,e),userAgentAppId:a?.userAgentAppId??(0,am.Z)(ah.hV,e)}})(a||{});super(b),this.initConfig=b;let c=(a=>Object.assign(a,{useDualstackEndpoint:a.useDualstackEndpoint??!1,useFipsEndpoint:a.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}))(b),d=(0,O.D)(c),e=(0,X.$z)(d),f=(0,Q.T)(e),g=(0,L.OV)(f),h=((a,b)=>{let c=Object.assign((0,a3.R)(a),(0,a5.xA)(a),(0,a4.e)(a),(a=>{let b=a.httpAuthSchemes,c=a.httpAuthSchemeProvider,d=a.credentials;return{setHttpAuthScheme(a){let c=b.findIndex(b=>b.schemeId===a.schemeId);-1===c?b.push(a):b.splice(c,1,a)},httpAuthSchemes:()=>b,setHttpAuthSchemeProvider(a){c=a},httpAuthSchemeProvider:()=>c,setCredentials(a){d=a},credentials:()=>d}})(a));return b.forEach(a=>a.configure(c)),Object.assign(a,(0,a3.$)(c),(0,a5.uv)(c),(0,a4.j)(c),(a=>({httpAuthSchemes:a.httpAuthSchemes(),httpAuthSchemeProvider:a.httpAuthSchemeProvider(),credentials:a.credentials()}))(c))})((a=>Object.assign((0,$.h)(a),{authSchemePreference:(0,aa.t)(a.authSchemePreference??[])}))((0,W.C)(g)),a?.extensions||[]);this.config=h,this.middlewareStack.use((0,U.wq)(this.config)),this.middlewareStack.use((0,P.sM)(this.config)),this.middlewareStack.use((0,Y.ey)(this.config)),this.middlewareStack.use((0,V.vK)(this.config)),this.middlewareStack.use((0,L.TC)(this.config)),this.middlewareStack.use((0,M.Y7)(this.config)),this.middlewareStack.use((0,N.n)(this.config)),this.middlewareStack.use((0,R.w)(this.config,{httpAuthSchemeParametersProvider:ab,identityProviderConfigProvider:async a=>new S.h({"aws.auth#sigv4":a.credentials})})),this.middlewareStack.use((0,T.l)(this.config))}destroy(){super.destroy()}}},92308:(a,b,c)=>{c.d(b,{m:()=>d});class d{async sign(a,b,c){return a}}}};