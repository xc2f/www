"use strict";exports.id=6526,exports.ids=[6526],exports.modules={48397:a=>{a.exports={rE:"3.958.0"}},76526:(a,b,c)=>{let d;c.d(b,{getDefaultRoleAssumer:()=>cF,getDefaultRoleAssumerWithWebIdentity:()=>cG});var e=c(89701),f=c(59476),g=c(60175);let h={silence:!1};var i=c(73307),j=c(82459);let k={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var l=c(33078),m=c(37947);class n extends m.T{constructor(a){super(a),Object.setPrototypeOf(this,n.prototype)}}class o extends n{name="ExpiredTokenException";$fault="client";constructor(a){super({name:"ExpiredTokenException",$fault:"client",...a}),Object.setPrototypeOf(this,o.prototype)}}class p extends n{name="MalformedPolicyDocumentException";$fault="client";constructor(a){super({name:"MalformedPolicyDocumentException",$fault:"client",...a}),Object.setPrototypeOf(this,p.prototype)}}class q extends n{name="PackedPolicyTooLargeException";$fault="client";constructor(a){super({name:"PackedPolicyTooLargeException",$fault:"client",...a}),Object.setPrototypeOf(this,q.prototype)}}class r extends n{name="RegionDisabledException";$fault="client";constructor(a){super({name:"RegionDisabledException",$fault:"client",...a}),Object.setPrototypeOf(this,r.prototype)}}class s extends n{name="IDPRejectedClaimException";$fault="client";constructor(a){super({name:"IDPRejectedClaimException",$fault:"client",...a}),Object.setPrototypeOf(this,s.prototype)}}class t extends n{name="InvalidIdentityTokenException";$fault="client";constructor(a){super({name:"InvalidIdentityTokenException",$fault:"client",...a}),Object.setPrototypeOf(this,t.prototype)}}class u extends n{name="IDPCommunicationErrorException";$fault="client";constructor(a){super({name:"IDPCommunicationErrorException",$fault:"client",...a}),Object.setPrototypeOf(this,u.prototype)}}let v="AssumedRoleUser",w="Credentials",x="DurationSeconds",y="Policy",z="PolicyArns",A="PackedPolicySize",B="RoleArn",C="RoleSessionName",D="SourceIdentity",E="awsQueryError",F="client",G="error",H="httpError",I="message",J="smithy.ts.sdk.synthetic.com.amazonaws.sts",K="com.amazonaws.sts";var L=[0,K,"accessKeySecretType",8,0],M=[0,K,"clientTokenType",8,0],N=[3,K,v,0,["AssumedRoleId","Arn"],[0,0]],O=[3,K,"AssumeRoleRequest",0,[B,C,z,y,x,"Tags","TransitiveTagKeys","ExternalId","SerialNumber","TokenCode",D,"ProvidedContexts"],[0,0,()=>ac,0,1,()=>ae,64,0,0,0,0,()=>ad]],P=[3,K,"AssumeRoleResponse",0,[w,v,A,D],[[()=>S,0],()=>N,1,0]],Q=[3,K,"AssumeRoleWithWebIdentityRequest",0,[B,C,"WebIdentityToken","ProviderId",z,y,x],[0,0,[()=>M,0],0,()=>ac,0,1]],R=[3,K,"AssumeRoleWithWebIdentityResponse",0,[w,"SubjectFromWebIdentityToken",v,A,"Provider","Audience",D],[[()=>S,0],0,()=>N,1,0,0,0]],S=[3,K,w,0,["AccessKeyId","SecretAccessKey","SessionToken","Expiration"],[0,[()=>L,0],0,4]],T=[-3,K,"ExpiredTokenException",{[E]:["ExpiredTokenException",400],[G]:F,[H]:400},[I],[0]];l.O.for(K).registerError(T,o);var U=[-3,K,"IDPCommunicationErrorException",{[E]:["IDPCommunicationError",400],[G]:F,[H]:400},[I],[0]];l.O.for(K).registerError(U,u);var V=[-3,K,"IDPRejectedClaimException",{[E]:["IDPRejectedClaim",403],[G]:F,[H]:403},[I],[0]];l.O.for(K).registerError(V,s);var W=[-3,K,"InvalidIdentityTokenException",{[E]:["InvalidIdentityToken",400],[G]:F,[H]:400},[I],[0]];l.O.for(K).registerError(W,t);var X=[-3,K,"MalformedPolicyDocumentException",{[E]:["MalformedPolicyDocument",400],[G]:F,[H]:400},[I],[0]];l.O.for(K).registerError(X,p);var Y=[-3,K,"PackedPolicyTooLargeException",{[E]:["PackedPolicyTooLarge",400],[G]:F,[H]:400},[I],[0]];l.O.for(K).registerError(Y,q);var Z=[3,K,"PolicyDescriptorType",0,["arn"],[0]],$=[3,K,"ProvidedContext",0,["ProviderArn","ContextAssertion"],[0,0]],_=[-3,K,"RegionDisabledException",{[E]:["RegionDisabledException",403],[G]:F,[H]:403},[I],[0]];l.O.for(K).registerError(_,r);var aa=[3,K,"Tag",0,["Key","Value"],[0,0]],ab=[-3,J,"STSServiceException",0,[],[]];l.O.for(J).registerError(ab,n);var ac=[1,K,"policyDescriptorListType",0,()=>Z],ad=[1,K,"ProvidedContextsListType",0,()=>$],ae=[1,K,"tagListType",0,()=>aa],af=[9,K,"AssumeRole",0,()=>O,()=>P],ag=[9,K,"AssumeRoleWithWebIdentity",0,()=>Q,()=>R];class ah extends j.u.classBuilder().ep(k).m(function(a,b,c,d){return[(0,i.r)(c,a.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(af).build(){}class ai extends j.u.classBuilder().ep(k).m(function(a,b,c,d){return[(0,i.r)(c,a.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").sc(ag).build(){}let aj=a=>{if("string"==typeof a?.Arn){let b=a.Arn.split(":");if(b.length>4&&""!==b[4])return b[4]}},ak=async(a,b,c,d={})=>{let e="function"==typeof a?await a():a,i="function"==typeof b?await b():b,j="",k=e??i??(j=await (function(a={}){return(0,g.Z)({...f.GG,default:async()=>(h.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1")},{...f.zH,...a})})(d)());return c?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${e} (credential provider clientConfig)`,`${i} (contextual client)`,`${j} (STS default: AWS_REGION, profile region, or us-east-1)`),k},al=a=>a?.metadata?.handlerProtocol==="h2";var am=c(59626),an=c(50284),ao=c(57987),ap=c(29351),aq=c(32036),ar=c(53179),as=c(75285),at=c(15376),au=c(80347),av=c(96824),aw=c(30645),ax=c(67420),ay=c(96867),az=c(98481),aA=c(39494),aB=c(77350),aC=c(88392),aD=c(91035);let aE=async(a,b,c)=>({operation:(0,aC.u)(b).operation,region:await (0,aD.t)(a.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),aF=a=>{let b=[];if("AssumeRoleWithWebIdentity"===a.operation)b.push({schemeId:"smithy.api#noAuth"});else b.push({schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:a.region},propertiesExtractor:(a,b)=>({signingProperties:{config:a,context:b}})});return b};var aG=c(48397),aH=c(62033),aI=c(27356),aJ=c(13246),aK=c(61997),aL=c(69022),aM=c(34352),aN=c(98550),aO=c(92308),aP=c(3057),aQ=c(11487),aR=c(99741),aS=c(99162),aT=c(271),aU=c(55947),aV=c(7992),aW=c(62445),aX=c(20674),aY=c(15796),aZ=c(53070),a$=c(91959);class a_ extends a$.t{async serializeRequest(a,b,c){let d,e=this.serializer,f={},g={},h=await c.endpoint(),i=aX.l.of(a?.input),j=i.getSchema(),k=new aY.K({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:f,headers:g,body:void 0});h&&(this.updateServiceEndpoint(k,h),this.setHostPrefix(k,a,b));let l={...b};if(b){let a=i.getEventStreamMember();if(a){if(l[a]){let b={};for(let[c,d]of i.structIterator())c!==a&&l[c]&&(e.write(d,l[c]),b[c]=e.flush());d=await this.serializeEventStream({eventStream:l[a],requestSchema:i,initialRequest:b})}}else e.write(j,l),d=e.flush()}return k.headers=g,k.query=f,k.body=d,k.method="POST",k}async deserializeResponse(a,b,c){let d=this.deserializer,e=aX.l.of(a.output),f={};if(c.statusCode>=300){let e=await (0,aZ.P)(c.body,b);throw e.byteLength>0&&Object.assign(f,await d.read(15,e)),await this.handleError(a,b,c,f,this.deserializeMetadata(c)),Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let a in c.headers){let b=c.headers[a];delete c.headers[a],c.headers[a.toLowerCase()]=b}let g=e.getEventStreamMember();if(g)f[g]=await this.deserializeEventStream({response:c,responseSchema:e,initialResponseContainer:f});else{let a=await (0,aZ.P)(c.body,b);a.byteLength>0&&Object.assign(f,await d.read(e,a))}return f.$metadata=this.deserializeMetadata(c),f}}var a0=c(42533),a1=c(11181);let a2={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(a,b){return b},attributeValueProcessor:function(a,b){return b},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(a,b,c){return a},captureMetaData:!1},a3=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",a4=RegExp("^"+("["+a3+"]["+a3)+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function a5(a,b){let c=[],d=b.exec(a);for(;d;){let e=[];e.startIndex=b.lastIndex-d[0].length;let f=d.length;for(let a=0;a<f;a++)e.push(d[a]);c.push(e),d=b.exec(a)}return c}let a6=function(a){return null!=a4.exec(a)};d="function"!=typeof Symbol?"@@xmlMetadata":Symbol("XML Node Metadata");class a7{constructor(a){this.tagname=a,this.child=[],this[":@"]={}}add(a,b){"__proto__"===a&&(a="#__proto__"),this.child.push({[a]:b})}addChild(a,b){"__proto__"===a.tagname&&(a.tagname="#__proto__"),a[":@"]&&Object.keys(a[":@"]).length>0?this.child.push({[a.tagname]:a.child,":@":a[":@"]}):this.child.push({[a.tagname]:a.child}),void 0!==b&&(this.child[this.child.length-1][d]={startIndex:b})}static getMetaDataSymbol(){return d}}let a8=(a,b)=>{for(;b<a.length&&/\s/.test(a[b]);)b++;return b};function a9(a,b,c){let d="",e=a[b];if('"'!==e&&"'"!==e)throw Error(`Expected quoted string, found "${e}"`);for(b++;b<a.length&&a[b]!==e;)d+=a[b],b++;if(a[b]!==e)throw Error(`Unterminated ${c} value`);return[++b,d]}function ba(a,b,c){for(let d=0;d<b.length;d++)if(b[d]!==a[c+d+1])return!1;return!0}function bb(a){if(a6(a))return a;throw Error(`Invalid entity name ${a}`)}let bc=/^[-+]?0x[a-fA-F0-9]+$/,bd=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,be={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},bf=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;class bg{constructor(a){this.options=a,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xa2"},pound:{regex:/&(pound|#163);/g,val:"\xa3"},yen:{regex:/&(yen|#165);/g,val:"\xa5"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"\xa9"},reg:{regex:/&(reg|#174);/g,val:"\xae"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(a,b)=>String.fromCodePoint(Number.parseInt(b,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(a,b)=>String.fromCodePoint(Number.parseInt(b,16))}},this.addExternalEntities=bh,this.parseXml=bm,this.parseTextData=bi,this.resolveNameSpace=bj,this.buildAttributesMap=bl,this.isItStopNode=bq,this.replaceEntitiesValue=bo,this.readStopNodeData=bt,this.saveTextToParentTag=bp,this.addChild=bn,this.ignoreAttributesFn=function(a){return"function"==typeof a?a:Array.isArray(a)?b=>{for(let c of a)if("string"==typeof c&&b===c||c instanceof RegExp&&c.test(b))return!0}:()=>!1}(this.options.ignoreAttributes)}}function bh(a){let b=Object.keys(a);for(let c=0;c<b.length;c++){let d=b[c];this.lastEntities[d]={regex:RegExp("&"+d+";","g"),val:a[d]}}}function bi(a,b,c,d,e,f,g){if(void 0!==a&&(this.options.trimValues&&!d&&(a=a.trim()),a.length>0)){g||(a=this.replaceEntitiesValue(a));let d=this.options.tagValueProcessor(b,a,c,e,f);return null==d?a:typeof d!=typeof a||d!==a?d:this.options.trimValues||a.trim()===a?bu(a,this.options.parseTagValue,this.options.numberParseOptions):a}}function bj(a){if(this.options.removeNSPrefix){let b=a.split(":"),c="/"===a.charAt(0)?"/":"";if("xmlns"===b[0])return"";2===b.length&&(a=c+b[1])}return a}let bk=RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function bl(a,b,c){if(!0!==this.options.ignoreAttributes&&"string"==typeof a){let c=a5(a,bk),d=c.length,e={};for(let a=0;a<d;a++){let d=this.resolveNameSpace(c[a][1]);if(this.ignoreAttributesFn(d,b))continue;let f=c[a][4],g=this.options.attributeNamePrefix+d;if(d.length)if(this.options.transformAttributeName&&(g=this.options.transformAttributeName(g)),"__proto__"===g&&(g="#__proto__"),void 0!==f){this.options.trimValues&&(f=f.trim()),f=this.replaceEntitiesValue(f);let a=this.options.attributeValueProcessor(d,f,b);null==a?e[g]=f:typeof a!=typeof f||a!==f?e[g]=a:e[g]=bu(f,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(e[g]=!0)}if(Object.keys(e).length){if(this.options.attributesGroupName){let a={};return a[this.options.attributesGroupName]=e,a}return e}}}let bm=function(a){a=a.replace(/\r\n?/g,"\n");let b=new a7("!xml"),c=b,d="",e="";for(let f=0;f<a.length;f++)if("<"===a[f])if("/"===a[f+1]){let b=br(a,">",f,"Closing Tag is not closed."),g=a.substring(f+2,b).trim();if(this.options.removeNSPrefix){let a=g.indexOf(":");-1!==a&&(g=g.substr(a+1))}this.options.transformTagName&&(g=this.options.transformTagName(g)),c&&(d=this.saveTextToParentTag(d,c,e));let h=e.substring(e.lastIndexOf(".")+1);if(g&&-1!==this.options.unpairedTags.indexOf(g))throw Error(`Unpaired tag can not be used as closing tag: </${g}>`);let i=0;h&&-1!==this.options.unpairedTags.indexOf(h)?(i=e.lastIndexOf(".",e.lastIndexOf(".")-1),this.tagsNodeStack.pop()):i=e.lastIndexOf("."),e=e.substring(0,i),c=this.tagsNodeStack.pop(),d="",f=b}else if("?"===a[f+1]){let b=bs(a,f,!1,"?>");if(!b)throw Error("Pi Tag is not closed.");if(d=this.saveTextToParentTag(d,c,e),this.options.ignoreDeclaration&&"?xml"===b.tagName||this.options.ignorePiTags);else{let a=new a7(b.tagName);a.add(this.options.textNodeName,""),b.tagName!==b.tagExp&&b.attrExpPresent&&(a[":@"]=this.buildAttributesMap(b.tagExp,e,b.tagName)),this.addChild(c,a,e,f)}f=b.closeIndex+1}else if("!--"===a.substr(f+1,3)){let b=br(a,"--\x3e",f+4,"Comment is not closed.");if(this.options.commentPropName){let g=a.substring(f+4,b-2);d=this.saveTextToParentTag(d,c,e),c.add(this.options.commentPropName,[{[this.options.textNodeName]:g}])}f=b}else if("!D"===a.substr(f+1,2)){let b=function(a,b){let c={};if("O"===a[b+3]&&"C"===a[b+4]&&"T"===a[b+5]&&"Y"===a[b+6]&&"P"===a[b+7]&&"E"===a[b+8]){b+=9;let d=1,e=!1,f=!1;for(;b<a.length;b++)if("<"!==a[b]||f)if(">"===a[b]){if(f?"-"===a[b-1]&&"-"===a[b-2]&&(f=!1,d--):d--,0===d)break}else"["===a[b]?e=!0:a[b];else{if(e&&ba(a,"!ENTITY",b)){let d,e;b+=7,[d,e,b]=function(a,b){b=a8(a,b);let c="";for(;b<a.length&&!/\s/.test(a[b])&&'"'!==a[b]&&"'"!==a[b];)c+=a[b],b++;if(bb(c),b=a8(a,b),"SYSTEM"===a.substring(b,b+6).toUpperCase())throw Error("External entities are not supported");if("%"===a[b])throw Error("Parameter entities are not supported");let d="";return[b,d]=a9(a,b,"entity"),[c,d,--b]}(a,b+1),-1===e.indexOf("&")&&(c[d]={regx:RegExp(`&${d};`,"g"),val:e})}else if(e&&ba(a,"!ELEMENT",b)){let{index:c}=function(a,b){b=a8(a,b);let c="";for(;b<a.length&&!/\s/.test(a[b]);)c+=a[b],b++;if(!bb(c))throw Error(`Invalid element name: "${c}"`);b=a8(a,b);let d="";if("E"===a[b]&&ba(a,"MPTY",b))b+=4;else if("A"===a[b]&&ba(a,"NY",b))b+=2;else if("("===a[b]){for(b++;b<a.length&&")"!==a[b];)d+=a[b],b++;if(")"!==a[b])throw Error("Unterminated content model")}else throw Error(`Invalid Element Expression, found "${a[b]}"`);return{elementName:c,contentModel:d.trim(),index:b}}(a,(b+=8)+1);b=c}else if(e&&ba(a,"!ATTLIST",b))b+=8;else if(e&&ba(a,"!NOTATION",b)){let{index:c}=function(a,b){b=a8(a,b);let c="";for(;b<a.length&&!/\s/.test(a[b]);)c+=a[b],b++;bb(c),b=a8(a,b);let d=a.substring(b,b+6).toUpperCase();if("SYSTEM"!==d&&"PUBLIC"!==d)throw Error(`Expected SYSTEM or PUBLIC, found "${d}"`);b+=d.length,b=a8(a,b);let e=null,f=null;if("PUBLIC"===d)[b,e]=a9(a,b,"publicIdentifier"),b=a8(a,b),('"'===a[b]||"'"===a[b])&&([b,f]=a9(a,b,"systemIdentifier"));else if("SYSTEM"===d&&([b,f]=a9(a,b,"systemIdentifier"),!f))throw Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:c,publicIdentifier:e,systemIdentifier:f,index:--b}}(a,(b+=9)+1);b=c}else if(ba(a,"!--",b))f=!0;else throw Error("Invalid DOCTYPE");d++}if(0!==d)throw Error("Unclosed DOCTYPE")}else throw Error("Invalid Tag instead of DOCTYPE");return{entities:c,i:b}}(a,f);this.docTypeEntities=b.entities,f=b.i}else if("!["===a.substr(f+1,2)){let b=br(a,"]]>",f,"CDATA is not closed.")-2,g=a.substring(f+9,b);d=this.saveTextToParentTag(d,c,e);let h=this.parseTextData(g,c.tagname,e,!0,!1,!0,!0);void 0==h&&(h=""),this.options.cdataPropName?c.add(this.options.cdataPropName,[{[this.options.textNodeName]:g}]):c.add(this.options.textNodeName,h),f=b+2}else{let g=bs(a,f,this.options.removeNSPrefix),h=g.tagName,i=g.rawTagName,j=g.tagExp,k=g.attrExpPresent,l=g.closeIndex;this.options.transformTagName&&(h=this.options.transformTagName(h)),c&&d&&"!xml"!==c.tagname&&(d=this.saveTextToParentTag(d,c,e,!1));let m=c;m&&-1!==this.options.unpairedTags.indexOf(m.tagname)&&(c=this.tagsNodeStack.pop(),e=e.substring(0,e.lastIndexOf("."))),h!==b.tagname&&(e+=e?"."+h:h);let n=f;if(this.isItStopNode(this.options.stopNodes,e,h)){let b="";if(j.length>0&&j.lastIndexOf("/")===j.length-1)"/"===h[h.length-1]?(h=h.substr(0,h.length-1),e=e.substr(0,e.length-1),j=h):j=j.substr(0,j.length-1),f=g.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(h))f=g.closeIndex;else{let c=this.readStopNodeData(a,i,l+1);if(!c)throw Error(`Unexpected end of ${i}`);f=c.i,b=c.tagContent}let d=new a7(h);h!==j&&k&&(d[":@"]=this.buildAttributesMap(j,e,h)),b&&(b=this.parseTextData(b,h,e,!0,k,!0,!0)),e=e.substr(0,e.lastIndexOf(".")),d.add(this.options.textNodeName,b),this.addChild(c,d,e,n)}else{if(j.length>0&&j.lastIndexOf("/")===j.length-1){"/"===h[h.length-1]?(h=h.substr(0,h.length-1),e=e.substr(0,e.length-1),j=h):j=j.substr(0,j.length-1),this.options.transformTagName&&(h=this.options.transformTagName(h));let a=new a7(h);h!==j&&k&&(a[":@"]=this.buildAttributesMap(j,e,h)),this.addChild(c,a,e,n),e=e.substr(0,e.lastIndexOf("."))}else{let a=new a7(h);this.tagsNodeStack.push(c),h!==j&&k&&(a[":@"]=this.buildAttributesMap(j,e,h)),this.addChild(c,a,e,n),c=a}d="",f=l}}else d+=a[f];return b.child};function bn(a,b,c,d){this.options.captureMetaData||(d=void 0);let e=this.options.updateTag(b.tagname,c,b[":@"]);!1===e||("string"==typeof e&&(b.tagname=e),a.addChild(b,d))}let bo=function(a){if(this.options.processEntities){for(let b in this.docTypeEntities){let c=this.docTypeEntities[b];a=a.replace(c.regx,c.val)}for(let b in this.lastEntities){let c=this.lastEntities[b];a=a.replace(c.regex,c.val)}if(this.options.htmlEntities)for(let b in this.htmlEntities){let c=this.htmlEntities[b];a=a.replace(c.regex,c.val)}a=a.replace(this.ampEntity.regex,this.ampEntity.val)}return a};function bp(a,b,c,d){return a&&(void 0===d&&(d=0===b.child.length),void 0!==(a=this.parseTextData(a,b.tagname,c,!1,!!b[":@"]&&0!==Object.keys(b[":@"]).length,d))&&""!==a&&b.add(this.options.textNodeName,a),a=""),a}function bq(a,b,c){let d="*."+c;for(let c in a){let e=a[c];if(d===e||b===e)return!0}return!1}function br(a,b,c,d){let e=a.indexOf(b,c);if(-1!==e)return e+b.length-1;throw Error(d)}function bs(a,b,c,d=">"){let e=function(a,b,c=">"){let d,e="";for(let f=b;f<a.length;f++){let b=a[f];if(d)b===d&&(d="");else if('"'===b||"'"===b)d=b;else if(b===c[0]){if(!c[1])return{data:e,index:f};else if(a[f+1]===c[1])return{data:e,index:f}}else"	"===b&&(b=" ");e+=b}}(a,b+1,d);if(!e)return;let f=e.data,g=e.index,h=f.search(/\s/),i=f,j=!0;-1!==h&&(i=f.substring(0,h),f=f.substring(h+1).trimStart());let k=i;if(c){let a=i.indexOf(":");-1!==a&&(j=(i=i.substr(a+1))!==e.data.substr(a+1))}return{tagName:i,tagExp:f,closeIndex:g,attrExpPresent:j,rawTagName:k}}function bt(a,b,c){let d=c,e=1;for(;c<a.length;c++)if("<"===a[c])if("/"===a[c+1]){let f=br(a,">",c,`${b} is not closed`);if(a.substring(c+2,f).trim()===b&&0==--e)return{tagContent:a.substring(d,c),i:f};c=f}else if("?"===a[c+1])c=br(a,"?>",c+1,"StopNode is not closed.");else if("!--"===a.substr(c+1,3))c=br(a,"--\x3e",c+3,"StopNode is not closed.");else if("!["===a.substr(c+1,2))c=br(a,"]]>",c,"StopNode is not closed.")-2;else{let d=bs(a,c,">");d&&((d&&d.tagName)===b&&"/"!==d.tagExp[d.tagExp.length-1]&&e++,c=d.closeIndex)}}function bu(a,b,c){if(b&&"string"==typeof a){let b=a.trim();return"true"===b||"false"!==b&&function(a,b={}){if(b=Object.assign({},be,b),!a||"string"!=typeof a)return a;let c=a.trim();if(void 0!==b.skipLike&&b.skipLike.test(c))return a;{if("0"===a)return 0;if(b.hex&&bc.test(c)){var d,e=c,f=16;if(parseInt)return parseInt(e,16);if(Number.parseInt)return Number.parseInt(e,f);if(window&&window.parseInt)return window.parseInt(e,f);throw Error("parseInt, Number.parseInt, window.parseInt are not supported")}if(c.includes("e")||c.includes("E"))return function(a,b,c){if(!c.eNotation)return a;let d=b.match(bf);if(!d)return a;{let e=d[1]||"",f=-1===d[3].indexOf("e")?"E":"e",g=d[2],h=e?a[g.length+1]===f:a[g.length]===f;return g.length>1&&h?a:1===g.length&&(d[3].startsWith(`.${f}`)||d[3][0]===f)?Number(b):c.leadingZeros&&!h?Number(b=(d[1]||"")+d[3]):a}}(a,c,b);let g=bd.exec(c);if(!g)return a;{let e=g[1]||"",f=g[2],h=((d=g[3])&&-1!==d.indexOf(".")&&("."===(d=d.replace(/0+$/,""))?d="0":"."===d[0]?d="0"+d:"."===d[d.length-1]&&(d=d.substring(0,d.length-1))),d),i=e?"."===a[f.length+1]:"."===a[f.length];if(!b.leadingZeros&&(f.length>1||1===f.length&&!i))return a;{let d=Number(c),g=String(d);if(0===d)return d;if(-1!==g.search(/[eE]/))if(b.eNotation)return d;else return a;if(-1!==c.indexOf("."))if("0"===g)return d;else if(g===h)return d;else if(g===`${e}${h}`)return d;else return a;let i=f?h:c;return f?i===g||e+i===g?d:a:i===g||i===e+g?d:a}}}}(a,c)}return void 0!==a?a:""}let bv=a7.getMetaDataSymbol(),bw={allowBooleanAttributes:!1,unpairedTags:[]};function bx(a){return" "===a||"	"===a||"\n"===a||"\r"===a}function by(a,b){let c=b;for(;b<a.length;b++)if("?"==a[b]||" "==a[b]){let d=a.substr(c,b-c);if(b>5&&"xml"===d)return bC("InvalidXml","XML declaration allowed only at the start of the document.",bD(a,b));if("?"!=a[b]||">"!=a[b+1])continue;b++;break}return b}function bz(a,b){if(a.length>b+5&&"-"===a[b+1]&&"-"===a[b+2]){for(b+=3;b<a.length;b++)if("-"===a[b]&&"-"===a[b+1]&&">"===a[b+2]){b+=2;break}}else if(a.length>b+8&&"D"===a[b+1]&&"O"===a[b+2]&&"C"===a[b+3]&&"T"===a[b+4]&&"Y"===a[b+5]&&"P"===a[b+6]&&"E"===a[b+7]){let c=1;for(b+=8;b<a.length;b++)if("<"===a[b])c++;else if(">"===a[b]&&0==--c)break}else if(a.length>b+9&&"["===a[b+1]&&"C"===a[b+2]&&"D"===a[b+3]&&"A"===a[b+4]&&"T"===a[b+5]&&"A"===a[b+6]&&"["===a[b+7]){for(b+=8;b<a.length;b++)if("]"===a[b]&&"]"===a[b+1]&&">"===a[b+2]){b+=2;break}}return b}let bA=RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function bB(a,b){let c=a5(a,bA),d={};for(let a=0;a<c.length;a++){if(0===c[a][1].length)return bC("InvalidAttr","Attribute '"+c[a][2]+"' has no space in starting.",bE(c[a]));if(void 0!==c[a][3]&&void 0===c[a][4])return bC("InvalidAttr","Attribute '"+c[a][2]+"' is without value.",bE(c[a]));if(void 0===c[a][3]&&!b.allowBooleanAttributes)return bC("InvalidAttr","boolean attribute '"+c[a][2]+"' is not allowed.",bE(c[a]));let e=c[a][2];if(!a6(e))return bC("InvalidAttr","Attribute '"+e+"' is an invalid name.",bE(c[a]));if(d.hasOwnProperty(e))return bC("InvalidAttr","Attribute '"+e+"' is repeated.",bE(c[a]));d[e]=1}return!0}function bC(a,b,c){return{err:{code:a,msg:b,line:c.line||c,col:c.col}}}function bD(a,b){let c=a.substring(0,b).split(/\r?\n/);return{line:c.length,col:c[c.length-1].length+1}}function bE(a){return a.startIndex+a[1].length}class bF{constructor(a){this.externalEntities={},this.options=Object.assign({},a2,a)}parse(a,b){if("string"==typeof a);else if(a.toString)a=a.toString();else throw Error("XML data is accepted in String or Bytes[] form.");if(b){!0===b&&(b={});let c=function(a,b){b=Object.assign({},bw,b);let c=[],d=!1,e=!1;"\uFEFF"===a[0]&&(a=a.substr(1));for(let f=0;f<a.length;f++)if("<"===a[f]&&"?"===a[f+1]){if(f+=2,(f=by(a,f)).err)return f}else if("<"===a[f]){let g=f;if("!"===a[++f]){f=bz(a,f);continue}{let h=!1;"/"===a[f]&&(h=!0,f++);let i="";for(;f<a.length&&">"!==a[f]&&" "!==a[f]&&"	"!==a[f]&&"\n"!==a[f]&&"\r"!==a[f];f++)i+=a[f];if("/"===(i=i.trim())[i.length-1]&&(i=i.substring(0,i.length-1),f--),!a6(i))return bC("InvalidTag",0===i.trim().length?"Invalid space after '<'.":"Tag '"+i+"' is an invalid name.",bD(a,f));let j=function(a,b){let c="",d="",e=!1;for(;b<a.length;b++){if('"'===a[b]||"'"===a[b])""===d?d=a[b]:d!==a[b]||(d="");else if(">"===a[b]&&""===d){e=!0;break}c+=a[b]}return""===d&&{value:c,index:b,tagClosed:e}}(a,f);if(!1===j)return bC("InvalidAttr","Attributes for '"+i+"' have open quote.",bD(a,f));let k=j.value;if(f=j.index,"/"===k[k.length-1]){let c=f-k.length,e=bB(k=k.substring(0,k.length-1),b);if(!0!==e)return bC(e.err.code,e.err.msg,bD(a,c+e.err.line));d=!0}else if(h)if(!j.tagClosed)return bC("InvalidTag","Closing tag '"+i+"' doesn't have proper closing.",bD(a,f));else{if(k.trim().length>0)return bC("InvalidTag","Closing tag '"+i+"' can't have attributes or invalid starting.",bD(a,g));if(0===c.length)return bC("InvalidTag","Closing tag '"+i+"' has not been opened.",bD(a,g));let b=c.pop();if(i!==b.tagName){let c=bD(a,b.tagStartPos);return bC("InvalidTag","Expected closing tag '"+b.tagName+"' (opened in line "+c.line+", col "+c.col+") instead of closing tag '"+i+"'.",bD(a,g))}0==c.length&&(e=!0)}else{let h=bB(k,b);if(!0!==h)return bC(h.err.code,h.err.msg,bD(a,f-k.length+h.err.line));if(!0===e)return bC("InvalidXml","Multiple possible root nodes found.",bD(a,f));-1!==b.unpairedTags.indexOf(i)||c.push({tagName:i,tagStartPos:g}),d=!0}for(f++;f<a.length;f++)if("<"===a[f])if("!"===a[f+1]){f=bz(a,++f);continue}else if("?"===a[f+1]){if((f=by(a,++f)).err)return f}else break;else if("&"===a[f]){let b=function(a,b){if(";"===a[++b])return -1;if("#"===a[b]){var c=++b;let d=/\d/;for("x"===a[c]&&(c++,d=/[\da-fA-F]/);c<a.length;c++){if(";"===a[c])return c;if(!a[c].match(d))break}return -1}let d=0;for(;b<a.length;b++,d++)if(!a[b].match(/\w/)||!(d<20)){if(";"===a[b])break;return -1}return b}(a,f);if(-1==b)return bC("InvalidChar","char '&' is not expected.",bD(a,f));f=b}else if(!0===e&&!bx(a[f]))return bC("InvalidXml","Extra text at the end",bD(a,f));"<"===a[f]&&f--}}else{if(bx(a[f]))continue;return bC("InvalidChar","char '"+a[f]+"' is not expected.",bD(a,f))}return d?1==c.length?bC("InvalidTag","Unclosed tag '"+c[0].tagName+"'.",bD(a,c[0].tagStartPos)):!(c.length>0)||bC("InvalidXml","Invalid '"+JSON.stringify(c.map(a=>a.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):bC("InvalidXml","Start tag expected.",1)}(a,b);if(!0!==c)throw Error(`${c.err.msg}:${c.err.line}:${c.err.col}`)}let c=new bg(this.options);c.addExternalEntities(this.externalEntities);let d=c.parseXml(a);return this.options.preserveOrder||void 0===d?d:function a(b,c,d){let e,f={};for(let g=0;g<b.length;g++){let h=b[g],i=function(a){let b=Object.keys(a);for(let a=0;a<b.length;a++){let c=b[a];if(":@"!==c)return c}}(h),j="";if(j=void 0===d?i:d+"."+i,i===c.textNodeName)void 0===e?e=h[i]:e+=""+h[i];else if(void 0===i)continue;else if(h[i]){let b=a(h[i],c,j),d=function(a,b){let{textNodeName:c}=b,d=Object.keys(a).length;return 0===d||1===d&&(!!a[c]||"boolean"==typeof a[c]||0===a[c])}(b,c);void 0!==h[bv]&&(b[bv]=h[bv]),h[":@"]?function(a,b,c,d){if(b){let e=Object.keys(b),f=e.length;for(let g=0;g<f;g++){let f=e[g];d.isArray(f,c+"."+f,!0,!0)?a[f]=[b[f]]:a[f]=b[f]}}}(b,h[":@"],j,c):1!==Object.keys(b).length||void 0===b[c.textNodeName]||c.alwaysCreateTextNode?0===Object.keys(b).length&&(c.alwaysCreateTextNode?b[c.textNodeName]="":b=""):b=b[c.textNodeName],void 0!==f[i]&&f.hasOwnProperty(i)?(Array.isArray(f[i])||(f[i]=[f[i]]),f[i].push(b)):c.isArray(i,j,d)?f[i]=[b]:f[i]=b}}return"string"==typeof e?e.length>0&&(f[c.textNodeName]=e):void 0!==e&&(f[c.textNodeName]=e),f}(d,this.options)}addEntity(a,b){if(-1!==b.indexOf("&"))throw Error("Entity value can't have '&'");if(-1!==a.indexOf("&")||-1!==a.indexOf(";"))throw Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===b)throw Error("An entity with value '&' is not permitted");this.externalEntities[a]=b}static getMetaDataSymbol(){return a7.getMetaDataSymbol()}}let bG=new bF({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,b)=>""===b.trim()&&b.includes("\n")?"":void 0});bG.addEntity("#xD","\r"),bG.addEntity("#10","\n");var bH=c(28362);let bI=a=>{let b="#text";for(let c in a)a.hasOwnProperty(c)&&void 0!==a[c][b]?a[c]=a[c][b]:"object"==typeof a[c]&&null!==a[c]&&(a[c]=bI(a[c]));return a};var bJ=c(38756),bK=c(22765),bL=c(58220);class bM extends bK.B{settings;stringDeserializer;constructor(a){super(),this.settings=a,this.stringDeserializer=new bH.k(a)}setSerdeContext(a){this.serdeContext=a,this.stringDeserializer.setSerdeContext(a)}read(a,b,c){let d=aX.l.of(a),e=d.getMemberSchemas();if(d.isStructSchema()&&d.isMemberSchema()&&Object.values(e).find(a=>!!a.getMemberTraits().eventPayload)){let a={},c=Object.keys(e)[0];return e[c].isBlobSchema()?a[c]=b:a[c]=this.read(e[c],b),a}let f=(this.serdeContext?.utf8Encoder??bJ.P)(b),g=this.parseXml(f);return this.readSchema(a,c?g[c]:g)}readSchema(a,b){let c=aX.l.of(a);if(c.isUnitSchema())return;let d=c.getMergedTraits();if(c.isListSchema()&&!Array.isArray(b))return this.readSchema(c,[b]);if(null==b)return b;if("object"==typeof b){let a=!!d.sparse,e=!!d.xmlFlattened;if(c.isListSchema()){let d=c.getValueSchema(),f=[],g=d.getMergedTraits().xmlName??"member",h=e?b:(b[0]??b)[g];for(let b of Array.isArray(h)?h:[h])(null!=b||a)&&f.push(this.readSchema(d,b));return f}let f={};if(c.isMapSchema()){let d,g=c.getKeySchema(),h=c.getValueSchema();d=e?Array.isArray(b)?b:[b]:Array.isArray(b.entry)?b.entry:[b.entry];let i=g.getMergedTraits().xmlName??"key",j=h.getMergedTraits().xmlName??"value";for(let b of d){let c=b[i],d=b[j];(null!=d||a)&&(f[c]=this.readSchema(h,d))}return f}if(c.isStructSchema()){let a,d=c.isUnionSchema();for(let[e,g]of(d&&(a=new bL.F(b,f)),c.structIterator())){let c=g.getMergedTraits(),h=c.httpPayload?c.xmlName??g.getName():g.getMemberTraits().xmlName??e;d&&a.mark(h),null!=b[h]&&(f[e]=this.readSchema(g,b[h]))}return d&&a.writeUnknown(),f}if(c.isDocumentSchema())return b;throw Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${c.getName(!0)}`)}return c.isListSchema()?[]:c.isMapSchema()||c.isStructSchema()?{}:this.stringDeserializer.read(c,b)}parseXml(a){if(a.length){let b;try{b=bG.parse(a,!0)}catch(b){throw b&&"object"==typeof b&&Object.defineProperty(b,"$responseBodyText",{value:a}),b}let c="#text",d=Object.keys(b)[0],e=b[d];return e[c]&&(e[d]=e[c],delete e[c]),bI(e)}return{}}}var bN=c(75981),bO=c(46360),bP=c(81529),bQ=c(67557),bR=c(5318),bS=c(73891),bT=c(23068);class bU extends bK.B{settings;buffer;constructor(a){super(),this.settings=a}write(a,b,c=""){void 0===this.buffer&&(this.buffer="");let d=aX.l.of(a);if(c&&!c.endsWith(".")&&(c+="."),d.isBlobSchema())("string"==typeof b||b instanceof Uint8Array)&&(this.writeKey(c),this.writeValue((this.serdeContext?.base64Encoder??bS.n)(b)));else if(d.isBooleanSchema()||d.isNumericSchema()||d.isStringSchema())null!=b?(this.writeKey(c),this.writeValue(String(b))):d.isIdempotencyToken()&&(this.writeKey(c),this.writeValue((0,bP.v4)()));else if(d.isBigIntegerSchema())null!=b&&(this.writeKey(c),this.writeValue(String(b)));else if(d.isBigDecimalSchema())null!=b&&(this.writeKey(c),this.writeValue(b instanceof bQ.D?b.string:String(b)));else if(d.isTimestampSchema()){if(b instanceof Date)switch(this.writeKey(c),(0,bN.V)(d,this.settings)){case 5:this.writeValue(b.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,bR.JV)(b));break;case 7:this.writeValue(String(b.getTime()/1e3))}}else if(d.isDocumentSchema())Array.isArray(b)?this.write(79,b,c):b instanceof Date?this.write(4,b,c):b instanceof Uint8Array?this.write(21,b,c):b&&"object"==typeof b?this.write(143,b,c):(this.writeKey(c),this.writeValue(String(b)));else if(d.isListSchema()){if(Array.isArray(b))if(0===b.length)this.settings.serializeEmptyLists&&(this.writeKey(c),this.writeValue(""));else{let a=d.getValueSchema(),e=this.settings.flattenLists||d.getMergedTraits().xmlFlattened,f=1;for(let d of b){if(null==d)continue;let b=this.getKey("member",a.getMergedTraits().xmlName),g=e?`${c}${f}`:`${c}${b}.${f}`;this.write(a,d,g),++f}}}else if(d.isMapSchema()){if(b&&"object"==typeof b){let a=d.getKeySchema(),e=d.getValueSchema(),f=d.getMergedTraits().xmlFlattened,g=1;for(let[d,h]of Object.entries(b)){if(null==h)continue;let b=this.getKey("key",a.getMergedTraits().xmlName),i=f?`${c}${g}.${b}`:`${c}entry.${g}.${b}`,j=this.getKey("value",e.getMergedTraits().xmlName),k=f?`${c}${g}.${j}`:`${c}entry.${g}.${j}`;this.write(a,d,i),this.write(e,h,k),++g}}}else if(d.isStructSchema()){if(b&&"object"==typeof b){let a=!1;for(let[e,f]of(0,bT.R)(d,b)){if(null==b[e]&&!f.isIdempotencyToken())continue;let d=this.getKey(e,f.getMergedTraits().xmlName),g=`${c}${d}`;this.write(f,b[e],g),a=!0}if(!a&&d.isUnionSchema()){let{$unknown:a}=b;if(Array.isArray(a)){let[b,d]=a,e=`${c}${b}`;this.write(15,d,e)}}}}else if(d.isUnitSchema());else throw Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${d.getName(!0)}`)}flush(){if(void 0===this.buffer)throw Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let a=this.buffer;return delete this.buffer,a}getKey(a,b){let c=b??a;return this.settings.capitalizeKeys?c[0].toUpperCase()+c.slice(1):c}writeKey(a){a.endsWith(".")&&(a=a.slice(0,a.length-1)),this.buffer+=`&${(0,bO.$)(a)}=`}writeValue(a){this.buffer+=(0,bO.$)(a)}}class bV extends a_{options;serializer;deserializer;mixin=new a1.U;constructor(a){super({defaultNamespace:a.defaultNamespace}),this.options=a;let b={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:a.xmlNamespace,serviceNamespace:a.defaultNamespace,serializeEmptyLists:!0};this.serializer=new bU(b),this.deserializer=new bM(b)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(a){this.serializer.setSerdeContext(a),this.deserializer.setSerdeContext(a)}getPayloadCodec(){throw Error("AWSQuery protocol has no payload codec.")}async serializeRequest(a,b,c){let d=await super.serializeRequest(a,b,c);d.path.endsWith("/")||(d.path+="/"),Object.assign(d.headers,{"content-type":"application/x-www-form-urlencoded"}),"unit"!==(0,a0.L)(a.input)&&d.body||(d.body="");let e=a.name.split("#")[1]??a.name;return d.body=`Action=${e}&Version=${this.options.version}`+d.body,d.body.endsWith("&")&&(d.body=d.body.slice(-1)),d}async deserializeResponse(a,b,c){let d=this.deserializer,e=aX.l.of(a.output),f={};if(c.statusCode>=300){let e=await (0,aZ.P)(c.body,b);e.byteLength>0&&Object.assign(f,await d.read(15,e)),await this.handleError(a,b,c,f,this.deserializeMetadata(c))}for(let a in c.headers){let b=c.headers[a];delete c.headers[a],c.headers[a.toLowerCase()]=b}let g=a.name.split("#")[1]??a.name,h=e.isStructSchema()&&this.useNestedResult()?g+"Result":void 0,i=await (0,aZ.P)(c.body,b);return i.byteLength>0&&Object.assign(f,await d.read(e,i,h)),{$metadata:this.deserializeMetadata(c),...f}}useNestedResult(){return!0}async handleError(a,b,c,d,e){let f=this.loadQueryErrorCode(c,d)??"Unknown",g=this.loadQueryError(d),h=this.loadQueryErrorMessage(d);g.message=h,g.Error={Type:g.Type,Code:g.Code,Message:h};let{errorSchema:i,errorMetadata:j}=await this.mixin.getErrorSchemaOrThrowBaseException(f,this.options.defaultNamespace,c,g,e,this.mixin.findQueryCompatibleError),k=aX.l.of(i),m=new(l.O.for(i[1]).getErrorCtor(i)??Error)(h),n={Type:g.Error.Type,Code:g.Error.Code,Error:g.Error};for(let[a,b]of k.structIterator()){let c=b.getMergedTraits().xmlName??a,e=g[c]??d[c];n[a]=this.deserializer.readSchema(b,e)}throw this.mixin.decorateServiceException(Object.assign(m,j,{$fault:k.getMergedTraits().error,message:h},n),d)}loadQueryErrorCode(a,b){let c=(b.Errors?.[0]?.Error??b.Errors?.Error??b.Error)?.Code;return void 0!==c?c:404==a.statusCode?"NotFound":void 0}loadQueryError(a){return a.Errors?.[0]?.Error??a.Errors?.Error??a.Error}loadQueryErrorMessage(a){let b=this.loadQueryError(a);return b?.message??b?.Message??a.message??a.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}var bW=c(97885),bX=c(58412),bY=c(46734),bZ=c(38353),b$=c(31589),b_=c(8270),b0=c(52373),b1=c(69327);let b2="required",b3="type",b4="argv",b5="booleanEquals",b6="stringEquals",b7="sigv4",b8="us-east-1",b9="endpoint",ca="https://sts.{Region}.{PartitionResult#dnsSuffix}",cb="tree",cc="error",cd="getAttr",ce={[b2]:!1,[b3]:"string"},cf={[b2]:!0,default:!1,[b3]:"boolean"},cg={ref:"Endpoint"},ch={fn:"isSet",[b4]:[{ref:"Region"}]},ci={ref:"Region"},cj={fn:"aws.partition",[b4]:[ci],assign:"PartitionResult"},ck={ref:"UseFIPS"},cl={ref:"UseDualStack"},cm={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:b7,signingName:"sts",signingRegion:b8}]},headers:{}},cn={},co={conditions:[{fn:b6,[b4]:[ci,"aws-global"]}],[b9]:cm,[b3]:b9},cp={fn:b5,[b4]:[ck,!0]},cq={fn:b5,[b4]:[cl,!0]},cr={fn:cd,[b4]:[{ref:"PartitionResult"},"supportsFIPS"]},cs={ref:"PartitionResult"},ct={fn:b5,[b4]:[!0,{fn:cd,[b4]:[cs,"supportsDualStack"]}]},cu=[{fn:"isSet",[b4]:[cg]}],cv=[cp],cw=[cq],cx={version:"1.0",parameters:{Region:ce,UseDualStack:cf,UseFIPS:cf,Endpoint:ce,UseGlobalEndpoint:cf},rules:[{conditions:[{fn:b5,[b4]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[b4]:cu},ch,cj,{fn:b5,[b4]:[ck,!1]},{fn:b5,[b4]:[cl,!1]}],rules:[{conditions:[{fn:b6,[b4]:[ci,"ap-northeast-1"]}],endpoint:cm,[b3]:b9},{conditions:[{fn:b6,[b4]:[ci,"ap-south-1"]}],endpoint:cm,[b3]:b9},{conditions:[{fn:b6,[b4]:[ci,"ap-southeast-1"]}],endpoint:cm,[b3]:b9},{conditions:[{fn:b6,[b4]:[ci,"ap-southeast-2"]}],endpoint:cm,[b3]:b9},co,{conditions:[{fn:b6,[b4]:[ci,"ca-central-1"]}],endpoint:cm,[b3]:b9},{conditions:[{fn:b6,[b4]:[ci,"eu-central-1"]}],endpoint:cm,[b3]:b9},{conditions:[{fn:b6,[b4]:[ci,"eu-north-1"]}],endpoint:cm,[b3]:b9},{conditions:[{fn:b6,[b4]:[ci,"eu-west-1"]}],endpoint:cm,[b3]:b9},{conditions:[{fn:b6,[b4]:[ci,"eu-west-2"]}],endpoint:cm,[b3]:b9},{conditions:[{fn:b6,[b4]:[ci,"eu-west-3"]}],endpoint:cm,[b3]:b9},{conditions:[{fn:b6,[b4]:[ci,"sa-east-1"]}],endpoint:cm,[b3]:b9},{conditions:[{fn:b6,[b4]:[ci,b8]}],endpoint:cm,[b3]:b9},{conditions:[{fn:b6,[b4]:[ci,"us-east-2"]}],endpoint:cm,[b3]:b9},{conditions:[{fn:b6,[b4]:[ci,"us-west-1"]}],endpoint:cm,[b3]:b9},{conditions:[{fn:b6,[b4]:[ci,"us-west-2"]}],endpoint:cm,[b3]:b9},{endpoint:{url:ca,properties:{authSchemes:[{name:b7,signingName:"sts",signingRegion:"{Region}"}]},headers:cn},[b3]:b9}],[b3]:cb},{conditions:cu,rules:[{conditions:cv,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[b3]:cc},{conditions:cw,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[b3]:cc},{endpoint:{url:cg,properties:cn,headers:cn},[b3]:b9}],[b3]:cb},{conditions:[ch],rules:[{conditions:[cj],rules:[{conditions:[cp,cq],rules:[{conditions:[{fn:b5,[b4]:[!0,cr]},ct],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:cn,headers:cn},[b3]:b9}],[b3]:cb},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[b3]:cc}],[b3]:cb},{conditions:cv,rules:[{conditions:[{fn:b5,[b4]:[cr,!0]}],rules:[{conditions:[{fn:b6,[b4]:[{fn:cd,[b4]:[cs,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:cn,headers:cn},[b3]:b9},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:cn,headers:cn},[b3]:b9}],[b3]:cb},{error:"FIPS is enabled but this partition does not support FIPS",[b3]:cc}],[b3]:cb},{conditions:cw,rules:[{conditions:[ct],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:cn,headers:cn},[b3]:b9}],[b3]:cb},{error:"DualStack is enabled but this partition does not support DualStack",[b3]:cc}],[b3]:cb},co,{endpoint:{url:ca,properties:cn,headers:cn},[b3]:b9}],[b3]:cb}],[b3]:cb},{error:"Invalid Configuration: Missing Region",[b3]:cc}]},cy=new b_.k({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),cz=(a,b={})=>cy.get(a,()=>(0,b0.s)(cx,{endpointParams:a,logger:b.logger}));b1.m.aws=b$.UF;var cA=c(40267),cB=c(10931),cC=c(74951);class cD extends aA.K{config;constructor(...[a]){let b=(a=>{(0,aS.I)(process.version);let b=(0,aV.I)(a),c=()=>b().then(aT.l),d=(a=>({apiVersion:"2011-06-15",base64Decoder:a?.base64Decoder??bY.E,base64Encoder:a?.base64Encoder??bS.n,disableHostPrefix:a?.disableHostPrefix??!1,endpointProvider:a?.endpointProvider??cz,extensions:a?.extensions??[],httpAuthSchemeProvider:a?.httpAuthSchemeProvider??aF,httpAuthSchemes:a?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:a=>a.getIdentityProvider("aws.auth#sigv4"),signer:new aJ.f2},{schemeId:"smithy.api#noAuth",identityProvider:a=>a.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new aO.m}],logger:a?.logger??new bW.N,protocol:a?.protocol??bV,protocolSettings:a?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:a?.serviceId??"STS",urlParser:a?.urlParser??bX.D,utf8Decoder:a?.utf8Decoder??bZ.a,utf8Encoder:a?.utf8Encoder??bJ.P}))(a);(0,aH.I)(process.version);let e={profile:a?.profile,logger:d.logger};return{...d,...a,runtime:"node",defaultsMode:b,authSchemePreference:a?.authSchemePreference??(0,g.Z)(aI.$,e),bodyLengthChecker:a?.bodyLengthChecker??aU.n,defaultUserAgentProvider:a?.defaultUserAgentProvider??(0,aK.pf)({serviceId:d.serviceId,clientVersion:aG.rE}),httpAuthSchemes:a?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:b=>b.getIdentityProvider("aws.auth#sigv4")||(async b=>await a.credentialDefaultProvider(b?.__config||{})()),signer:new aJ.f2},{schemeId:"smithy.api#noAuth",identityProvider:a=>a.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new aO.m}],maxAttempts:a?.maxAttempts??(0,g.Z)(ay.qs,a),region:a?.region??(0,g.Z)(f.GG,{...f.zH,...e}),requestHandler:aQ.$.create(a?.requestHandler??c),retryMode:a?.retryMode??(0,g.Z)({...ay.kN,default:async()=>(await c()).retryMode||aW.L0},a),sha256:a?.sha256??aP.V.bind(null,"sha256"),streamCollector:a?.streamCollector??aR.k,useDualstackEndpoint:a?.useDualstackEndpoint??(0,g.Z)(aM.e$,e),useFipsEndpoint:a?.useFipsEndpoint??(0,g.Z)(aN.Ko,e),userAgentAppId:a?.userAgentAppId??(0,g.Z)(aL.hV,e)}})(a||{});super(b),this.initConfig=b;let c=(a=>Object.assign(a,{useDualstackEndpoint:a.useDualstackEndpoint??!1,useFipsEndpoint:a.useFipsEndpoint??!1,useGlobalEndpoint:a.useGlobalEndpoint??!1,defaultSigningName:"sts"}))(b),d=(0,ap.D)(c),e=(0,ay.$z)(d),h=(0,ar.T)(e),i=(0,am.OV)(h),j=((a,b)=>{let c=Object.assign((0,cA.R)(a),(0,cC.xA)(a),(0,cB.e)(a),(a=>{let b=a.httpAuthSchemes,c=a.httpAuthSchemeProvider,d=a.credentials;return{setHttpAuthScheme(a){let c=b.findIndex(b=>b.schemeId===a.schemeId);-1===c?b.push(a):b.splice(c,1,a)},httpAuthSchemes:()=>b,setHttpAuthSchemeProvider(a){c=a},httpAuthSchemeProvider:()=>c,setCredentials(a){d=a},credentials:()=>d}})(a));return b.forEach(a=>a.configure(c)),Object.assign(a,(0,cA.$)(c),(0,cC.uv)(c),(0,cB.j)(c),(a=>({httpAuthSchemes:a.httpAuthSchemes(),httpAuthSchemeProvider:a.httpAuthSchemeProvider(),credentials:a.credentials()}))(c))})((a=>{let b=Object.assign(a,{stsClientCtor:cD});return Object.assign((0,aB.h)(b),{authSchemePreference:(0,aD.t)(a.authSchemePreference??[])})})((0,ax.C)(i)),a?.extensions||[]);this.config=j,this.middlewareStack.use((0,av.wq)(this.config)),this.middlewareStack.use((0,aq.sM)(this.config)),this.middlewareStack.use((0,az.ey)(this.config)),this.middlewareStack.use((0,aw.vK)(this.config)),this.middlewareStack.use((0,am.TC)(this.config)),this.middlewareStack.use((0,an.Y7)(this.config)),this.middlewareStack.use((0,ao.n)(this.config)),this.middlewareStack.use((0,as.w)(this.config,{httpAuthSchemeParametersProvider:aE,identityProviderConfigProvider:async a=>new at.h({"aws.auth#sigv4":a.credentials})})),this.middlewareStack.use((0,au.l)(this.config))}destroy(){super.destroy()}}let cE=(a,b)=>b?class extends a{constructor(a){for(let c of(super(a),b))this.middlewareStack.use(c)}}:a,cF=(a={},b)=>((a,b)=>{let c,d;return async(f,g)=>{if(d=f,!c){let{logger:e=a?.parentClientConfig?.logger,profile:f=a?.parentClientConfig?.profile,region:g,requestHandler:h=a?.parentClientConfig?.requestHandler,credentialProviderLogger:i,userAgentAppId:j=a?.parentClientConfig?.userAgentAppId}=a,k=await ak(g,a?.parentClientConfig?.region,i,{logger:e,profile:f}),l=!al(h);c=new b({...a,userAgentAppId:j,profile:f,credentialDefaultProvider:()=>async()=>d,region:k,requestHandler:l?h:void 0,logger:e})}let{Credentials:h,AssumedRoleUser:i}=await c.send(new ah(g));if(!h||!h.AccessKeyId||!h.SecretAccessKey)throw Error(`Invalid response from STS.assumeRole call with role ${g.RoleArn}`);let j=aj(i),k={accessKeyId:h.AccessKeyId,secretAccessKey:h.SecretAccessKey,sessionToken:h.SessionToken,expiration:h.Expiration,...h.CredentialScope&&{credentialScope:h.CredentialScope},...j&&{accountId:j}};return(0,e.g)(k,"CREDENTIALS_STS_ASSUME_ROLE","i"),k}})(a,cE(cD,b)),cG=(a={},b)=>((a,b)=>{let c;return async d=>{if(!c){let{logger:d=a?.parentClientConfig?.logger,profile:e=a?.parentClientConfig?.profile,region:f,requestHandler:g=a?.parentClientConfig?.requestHandler,credentialProviderLogger:h,userAgentAppId:i=a?.parentClientConfig?.userAgentAppId}=a,j=await ak(f,a?.parentClientConfig?.region,h,{logger:d,profile:e}),k=!al(g);c=new b({...a,userAgentAppId:i,profile:e,region:j,requestHandler:k?g:void 0,logger:d})}let{Credentials:f,AssumedRoleUser:g}=await c.send(new ai(d));if(!f||!f.AccessKeyId||!f.SecretAccessKey)throw Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${d.RoleArn}`);let h=aj(g),i={accessKeyId:f.AccessKeyId,secretAccessKey:f.SecretAccessKey,sessionToken:f.SessionToken,expiration:f.Expiration,...f.CredentialScope&&{credentialScope:f.CredentialScope},...h&&{accountId:h}};return h&&(0,e.g)(i,"RESOLVED_ACCOUNT_ID","T"),(0,e.g)(i,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),i}})(a,cE(cD,b))},92308:(a,b,c)=>{c.d(b,{m:()=>d});class d{async sign(a,b,c){return a}}}};