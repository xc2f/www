exports.id=8973,exports.ids=[8973],exports.modules={84:a=>{"use strict";function b(a){if(null===a||"object"!=typeof a)return a;if(a instanceof Date)return new Date(a.getTime());if(a instanceof Array){let c=[];for(let d=0;d<a.length;d++)c[d]=b(a[d]);return c}if("object"==typeof a){let c=Object.create(Object.getPrototypeOf(a));for(let d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=b(a[d]));return c}return a}function c(a){let b=[],c="",d=!1,e=!1,f="";for(let g=0;g<a.length;g++){let h=a[g];d||"."!==h?"["===h?(c&&(b.push(c),c=""),d=!0):"]"===h&&d?(b.push(c),c="",d=!1,e=!1):('"'===h||"'"===h)&&d?e?h===f?(e=!1,f=""):c+=h:(e=!0,f=h):c+=h:c&&(b.push(c),c="")}return c&&b.push(c),b}function d(a,b,c){let d=a;for(let a=0;a<b.length-1;a++){let c=b[a];if("object"!=typeof d||null===d||!(c in d)||"object"!=typeof d[c]||null===d[c])return!1;d=d[c]}let e=b[b.length-1];if("*"===e){if(Array.isArray(d))for(let a=0;a<d.length;a++)d[a]=c;else if("object"==typeof d&&null!==d)for(let a in d)Object.prototype.hasOwnProperty.call(d,a)&&(d[a]=c)}else"object"==typeof d&&null!==d&&e in d&&Object.prototype.hasOwnProperty.call(d,e)&&(d[e]=c);return!0}function e(a,b){let c=a;for(let a=0;a<b.length-1;a++){let d=b[a];if("object"!=typeof c||null===c||!(d in c)||"object"!=typeof c[d]||null===c[d])return!1;c=c[d]}let d=b[b.length-1];if("*"===d){if(Array.isArray(c))for(let a=0;a<c.length;a++)c[a]=void 0;else if("object"==typeof c&&null!==c)for(let a in c)Object.prototype.hasOwnProperty.call(c,a)&&delete c[a]}else"object"==typeof c&&null!==c&&d in c&&Object.prototype.hasOwnProperty.call(c,d)&&delete c[d];return!0}let f=Symbol("PATH_NOT_FOUND");function g(a,b){let c=a;for(let a of b){if(null==c||"object"!=typeof c||null===c||!(a in c))return f;c=c[a]}return c}function h(a,b){let c=a;for(let a of b){if(null==c||"object"!=typeof c||null===c)return;c=c[a]}return c}function i(a,b,h,k=!1){for(let i of b){let b=c(i);if(b.includes("*"))j(a,b,h,i,k);else if(k)e(a,b);else{let c=g(a,b);if(c===f)continue;let e="function"==typeof h?h(c,b):h;d(a,b,e)}}}function j(a,b,c,d,e=!1){let f=b.indexOf("*");if(f===b.length-1){let d=b.slice(0,-1),f=a;for(let a of d){if(null==f||"object"!=typeof f||null===f)return;f=f[a]}if(Array.isArray(f))if(e)for(let a=0;a<f.length;a++)f[a]=void 0;else for(let a=0;a<f.length;a++){let b=[...d,a.toString()],e="function"==typeof c?c(f[a],b):c;f[a]=e}else if("object"==typeof f&&null!==f)if(e){let a=[];for(let b in f)Object.prototype.hasOwnProperty.call(f,b)&&a.push(b);for(let b of a)delete f[b]}else for(let a in f){let b=[...d,a],e="function"==typeof c?c(f[a],b):c;f[a]=e}}else k(a,b,c,f,d,e)}function k(a,b,c,f,g,i=!1){let l=b.slice(0,f),m=b.slice(f+1),o=[];function p(a,b){if(b===l.length){if(Array.isArray(a))for(let c=0;c<a.length;c++)o[b]=c.toString(),p(a[c],b+1);else if("object"==typeof a&&null!==a)for(let c in a)o[b]=c,p(a[c],b+1)}else if(b<l.length){let c=l[b];a&&"object"==typeof a&&null!==a&&c in a&&(o[b]=c,p(a[c],b+1))}else if(m.includes("*"))j(a,m,"function"==typeof c?(a,d)=>c(a,[...o.slice(0,b),...d]):c,g,i);else if(i)e(a,m);else{let e="function"==typeof c?c(h(a,m),[...o.slice(0,b),...m]):c;d(a,m,e)}}if(0===l.length)p(a,0);else{let b=a;for(let a=0;a<l.length;a++){let c=l[a];if(null==b||"object"!=typeof b||null===b)return;b=b[c],o[a]=c}null!=b&&p(b,l.length)}}function l(a){if(0===a.length)return null;let b=new Map;for(let d of a){let a=c(d),e=b;for(let b=0;b<a.length;b++){let c=a[b];e.has(c)||e.set(c,new Map),e=e.get(c)}}return b}function m(a,b){if(!b)return a;function c(a,b,d=0){if(!b||0===b.size||null===a||"object"!=typeof a)return a;if(a instanceof Date)return new Date(a.getTime());if(Array.isArray(a)){let d=[];for(let e=0;e<a.length;e++){let f=e.toString();b.has(f)||b.has("*")?d[e]=c(a[e],b.get(f)||b.get("*")):d[e]=a[e]}return d}let e=Object.create(Object.getPrototypeOf(a));for(let d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b.has(d)||b.has("*")?e[d]=c(a[d],b.get(d)||b.get("*")):e[d]=a[d]);return e}return c(a,b)}function o(a){if("string"!=typeof a)throw Error("Paths must be (non-empty) strings");if(""===a)throw Error("Invalid redaction path ()");if(a.includes("..")||a.includes(","))throw Error(`Invalid redaction path (${a})`);let b=0,c=!1,d="";for(let e=0;e<a.length;e++){let f=a[e];if(('"'===f||"'"===f)&&b>0)c?f===d&&(c=!1,d=""):(c=!0,d=f);else if("["!==f||c){if("]"===f&&!c&&--b<0)throw Error(`Invalid redaction path (${a})`)}else b++}if(0!==b)throw Error(`Invalid redaction path (${a})`)}function p(a){if(!Array.isArray(a))throw TypeError("paths must be an array");for(let b of a)o(b)}a.exports=function(a={}){let{paths:c=[],censor:d="[REDACTED]",serialize:e=JSON.stringify,strict:f=!0,remove:g=!1}=a;p(c);let h=l(c);return function(a){if(f&&(null===a||"object"!=typeof a)&&(null==a||"object"!=typeof a))return e?e(a):a;let j=m(a,h),k=a,l=d;return("function"==typeof d&&(l=d),i(j,c,l,g),!1===e)?(j.restore=function(){return b(k)},j):"function"==typeof e?e(j):JSON.stringify(j)}}},92:(a,b,c)=>{"use strict";a.exports=e;let d=c(1078);function e({log:a,context:b}){let{timestampKey:c,translateTime:e}=b,f=b.customPrettifiers?.time,g=null;if(c in a?g=a[c]:"timestamp"in a&&(g=a.timestamp),null===g)return;let h=e?d(g,e):g;return f?f(h):`[${h}]`}},110:(a,b,c)=>{"use strict";c.d(b,{E:()=>d});let d=({descriptionOverrides:a,descriptionPath:b,imagePath:c,overrides:d,titleOverrides:e,titlePath:f})=>({name:"overview",type:"ui",admin:{components:{Field:{clientProps:{descriptionOverrides:a,descriptionPath:b,imagePath:c,titleOverrides:e,titlePath:f},path:"@payloadcms/plugin-seo/client#OverviewComponent"}}},label:"Overview",...d??{}})},146:(a,b,c)=>{"use strict";c.d(b,{q:()=>e});var d=c(24401);function e(a,b){let c=a;return!!b.debug||!0===c.isPublic||!1!==c.isPublic&&!!c.status&&c.status!==d.h.INTERNAL_SERVER_ERROR}},231:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(78893),e=c(49818),f=c(13584),g=c(66093),h=c(6773),i=c(83630),j=c(26986),k=c(95662),l=c(16176),m=c(28322);b.default=[d.default,e.default,f.default,g.default,h.default,i.default,j.default,k.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,m.default]},271:(a,b,c)=>{"use strict";c.d(b,{l:()=>d});let d=a=>{switch(a){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}}},429:(a,b,c)=>{"use strict";let d=c(65188),e=c(91146),f=c(13897);a.exports={isPlainText(a,b){let c=b?/[\x00-\x08\x0b\x0c\x0e-\x1f"\u0080-\uFFFF]/:/[\x00-\x08\x0b\x0c\x0e-\x1f\u0080-\uFFFF]/;return!("string"!=typeof a||c.test(a))},hasLongerLines:(a,b)=>a.length>131072||RegExp("^.{"+(b+1)+",}","m").test(a),encodeWord(a,b,c){let f;b=(b||"Q").toString().toUpperCase().trim().charAt(0);let g="UTF-8";if((c=c||0)&&c>7+g.length&&(c-=7+g.length),"Q"===b?f=e.encode(a).replace(/[^a-z0-9!*+\-/=]/gi,a=>{let b=a.charCodeAt(0).toString(16).toUpperCase();return" "===a?"_":"="+(1===b.length?"0"+b:b)}):"B"===b&&(f="string"==typeof a?a:d.encode(a),c=c?Math.max(3,(c-c%4)/4*3):0),c&&("B"!==b?f:d.encode(a)).length>c)if("Q"===b)f=this.splitMimeEncodedString(f,c).join("?= =?"+g+"?"+b+"?");else{let a=[],e="";for(let b=0,g=f.length;b<g;b++){let h=f.charAt(b);/[\ud83c\ud83d\ud83e]/.test(h)&&b<g-1&&(h+=f.charAt(++b)),Buffer.byteLength(e+h)<=c||0===b?e+=h:(a.push(d.encode(e)),e=h)}e&&a.push(d.encode(e)),f=a.length>1?a.join("?= =?"+g+"?"+b+"?"):a.join("")}else"B"===b&&(f=d.encode(a));return"=?"+g+"?"+b+"?"+f+("?="===f.substr(-2)?"":"?=")},encodeWords(a,b,c,d){c=c||0;let e=a.match(/(?:^|\s)([^\s]*["\u0080-\uFFFF])/);if(!e)return a;if(d)return this.encodeWord(a,b,c);let f=a.match(/(["\u0080-\uFFFF][^\s]*)[^"\u0080-\uFFFF]*$/);if(!f)return a;let g=e.index+(e[0].match(/[^\s]/)||{index:0}).index,h=f.index+(f[1]||"").length;return(g?a.substr(0,g):"")+this.encodeWord(a.substring(g,h),b||"Q",c)+(h<a.length?a.substr(h):"")},buildHeaderValue(a){let b=[];return Object.keys(a.params||{}).forEach(c=>{let d=a.params[c];!this.isPlainText(d,!0)||d.length>=75?this.buildHeaderParam(c,d,50).forEach(a=>{/[\s"\\;:/=(),<>@[\]?]|^[-']|'$/.test(a.value)&&"*"!==a.key.substr(-1)?b.push(a.key+"="+JSON.stringify(a.value)):b.push(a.key+"="+a.value)}):/[\s'"\\;:/=(),<>@[\]?]|^-/.test(d)?b.push(c+"="+JSON.stringify(d)):b.push(c+"="+d)}),a.value+(b.length?"; "+b.join("; "):"")},buildHeaderParam(a,b,c){let d,e,f,g,h,i,j=[],k="string"==typeof b?b:(b||"").toString(),l=0;if(c=c||50,this.isPlainText(b,!0)){if(k.length<=c)return[{key:a,value:k}];(k=k.replace(RegExp(".{"+c+"}","g"),a=>(j.push({line:a}),"")))&&j.push({line:k})}else{if(/[\uD800-\uDBFF]/.test(k)){for(h=0,d=[],i=k.length;h<i;h++)(f=(e=k.charAt(h)).charCodeAt(0))>=55296&&f<=56319&&h<i-1?(e+=k.charAt(h+1),d.push(e),h++):d.push(e);k=d}g="utf-8''";let a=!0;for(h=0,l=0,i=k.length;h<i;h++){if(e=k[h],a)e=this.safeEncodeURIComponent(e);else if((e=" "===e?e:this.safeEncodeURIComponent(e))!==k[h])if((this.safeEncodeURIComponent(g)+e).length>=c)j.push({line:g,encoded:a}),g="",l=h-1;else{a=!0,h=l,g="";continue}(g+e).length>=c?(j.push({line:g,encoded:a}),g=e=" "===k[h]?" ":this.safeEncodeURIComponent(k[h]),e===k[h]?(a=!1,l=h-1):a=!0):g+=e}g&&j.push({line:g,encoded:a})}return j.map((b,c)=>({key:a+"*"+c+(b.encoded?"*":""),value:b.line}))},parseHeaderValue(a){let b,c={value:!1,params:{}},d=!1,e="",f="value",g=!1,h=!1;for(let i=0,j=a.length;i<j;i++)if(b=a.charAt(i),"key"===f){if("="===b){d=e.trim().toLowerCase(),f="value",e="";continue}e+=b}else{if(h)e+=b;else if("\\"===b){h=!0;continue}else g&&b===g?g=!1:g||'"'!==b?g||";"!==b?e+=b:(!1===d?c.value=e.trim():c.params[d]=e.trim(),f="key",e=""):g=b;h=!1}return"value"===f?!1===d?c.value=e.trim():c.params[d]=e.trim():e.trim()&&(c.params[e.trim().toLowerCase()]=""),Object.keys(c.params).forEach(a=>{let b,d,e,f;(e=a.match(/(\*(\d+)|\*(\d+)\*|\*)$/))&&(b=a.substr(0,e.index),d=Number(e[2]||e[3])||0,c.params[b]&&"object"==typeof c.params[b]||(c.params[b]={charset:!1,values:[]}),f=c.params[a],0===d&&"*"===e[0].substr(-1)&&(e=f.match(/^([^']*)'[^']*'(.*)$/))&&(c.params[b].charset=e[1]||"iso-8859-1",f=e[2]),c.params[b].values[d]=f,delete c.params[a])}),Object.keys(c.params).forEach(a=>{let b;c.params[a]&&Array.isArray(c.params[a].values)&&(b=c.params[a].values.map(a=>a||"").join(""),c.params[a].charset?c.params[a]="=?"+c.params[a].charset+"?Q?"+b.replace(/[=?_\s]/g,a=>{let b=a.charCodeAt(0).toString(16);return" "===a?"_":"%"+(b.length<2?"0":"")+b}).replace(/%/g,"=")+"?=":c.params[a]=b)}),c},detectExtension:a=>f.detectExtension(a),detectMimeType:a=>f.detectMimeType(a),foldLines(a,b,c){a=(a||"").toString(),b=b||76;let d=0,e=a.length,f="",g,h;for(;d<e;){if((g=a.substr(d,b)).length<b){f+=g;break}if(h=g.match(/^[^\n\r]*(\r?\n|\r)/)){f+=g=h[0],d+=g.length;continue}(h=g.match(/(\s+)[^\s]*$/))&&h[0].length-(c?(h[1]||"").length:0)<g.length?g=g.substr(0,g.length-(h[0].length-(c?(h[1]||"").length:0))):(h=a.substr(d+g.length).match(/^[^\s]+(\s*)/))&&(g+=h[0].substr(0,h[0].length-(c?0:(h[1]||"").length))),f+=g,(d+=g.length)<e&&(f+="\r\n")}return f},splitMimeEncodedString:(a,b)=>{let c,d,e,f,g=[];for(b=Math.max(b||0,12);a.length;){for((d=(c=a.substr(0,b)).match(/[=][0-9A-F]?$/i))&&(c=c.substr(0,d.index)),f=!1;!f;)f=!0,(d=a.substr(c.length).match(/^[=]([0-9A-F]{2})/i))&&(e=parseInt(d[1],16))<194&&e>127&&(c=c.substr(0,c.length-3),f=!1);c.length&&g.push(c),a=a.substr(c.length)}return g},encodeURICharComponent:a=>{let b="",c=a.charCodeAt(0).toString(16).toUpperCase();if(c.length%2&&(c="0"+c),c.length>2)for(let a=0,d=c.length/2;a<d;a++)b+="%"+c.substr(a,2);else b+="%"+c;return b},safeEncodeURIComponent(a){a=(a||"").toString();try{a=encodeURIComponent(a)}catch(b){return a.replace(/[^\x00-\x1F *'()<>@,;:\\"[\]?=\u007F-\uFFFF]+/g,"")}return a.replace(/[\x00-\x1F *'()<>@,;:\\"[\]?=\u007F-\uFFFF]/g,a=>this.encodeURICharComponent(a))}}},469:(a,b,c)=>{let d=c(85558),e=c(63190),{cursor:f,erase:g}=c(40821),{style:h,figures:i,clear:j,lines:k}=c(78339),l=/[0-9]/,m=a=>void 0!==a,o=(a,b)=>{let c=Math.pow(10,b);return Math.round(a*c)/c};class p extends e{constructor(a={}){super(a),this.transform=h.render(a.style),this.msg=a.message,this.initial=m(a.initial)?a.initial:"",this.float=!!a.float,this.round=a.round||2,this.inc=a.increment||1,this.min=m(a.min)?a.min:-1/0,this.max=m(a.max)?a.max:1/0,this.errorMsg=a.error||"Please Enter A Valid Value",this.validator=a.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(a){a||0===a?(this.placeholder=!1,this.rendered=this.transform.render(`${o(a,this.round)}`),this._value=o(a,this.round)):(this.placeholder=!0,this.rendered=d.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(a){return this.float?parseFloat(a):parseInt(a)}valid(a){return"-"===a||"."===a&&this.float||l.test(a)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let a=this.value;this.value=""!==a?a:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let a=await this.validator(this.value);"string"==typeof a&&(this.errorMsg=a,a=!1),this.error=!a}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let a=this.value;this.value=""!==a?a:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let a=this.value.toString();if(0===a.length)return this.bell();this.value=this.parse(a=a.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(a,b){if(!this.valid(a))return this.bell();let c=Date.now();if(c-this.lastHit>1e3&&(this.typed=""),this.typed+=a,this.lastHit=c,this.color="cyan","."===a)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(f.down(k(this.outputError,this.out.columns)-1)+j(this.outputError,this.out.columns)),this.out.write(j(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[h.symbol(this.done,this.aborted),d.bold(this.msg),h.delimiter(this.done),!this.done||!this.done&&!this.placeholder?d[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((a,b,c)=>a+`
${c?" ":i.pointerSmall} ${d.red().italic(b)}`,"")),this.out.write(g.line+f.to(0)+this.outputText+f.save+this.outputError+f.restore))}}a.exports=p},687:(a,b,c)=>{"use strict";c.d(b,{m:()=>o});var d=c(33576),e=c(59540),f=c(6260),g=c(65540),h=c(56336),i=c(898),j=c(47470),k=c(96493);let l=async({name:a,draft:b,fallbackLocale:c,fields:d,hasMany:e,locale:f,overrideAccess:g,ref:h,req:i,segments:j,showHiddenFields:m,siblingDoc:o})=>{let p=j.shift();if(!p)return;let q=h[p];if(void 0===q)return;if(0===j.length)return void(e?(Array.isArray(o[a])||(o[a]=[]),o[a].push(q)):o[a]=q);let r=d.find(a=>a.name===p);if(r){if("group"===r.type||"tab"===r.type){if(!q||"object"!=typeof q)return;return l({name:a,draft:b,fallbackLocale:c,fields:r.flattenedFields,locale:f,overrideAccess:g,ref:q,req:i,segments:j,showHiddenFields:m,siblingDoc:o})}if(("relationship"===r.type||"upload"===r.type)&&"string"==typeof r.relationTo){let d,h={},p=h,s=i.payload.collections[r.relationTo]?.config.flattenedFields;for(let a=0;a<j.length;a++){let b=s?.find(b=>b.name===j[a]),c=a===j.length-1||b?.type==="relationship"||b?.type==="upload";if(p[j[a]]=!!c||{},p=p[j[a]],c)break}if(r.hasMany){if(!Array.isArray(q))return;let d=q.map(a=>a?"object"==typeof a?a.id:a:null).filter(a=>"string"==typeof a||"number"==typeof a);if("id"===j[0]&&0===j.length){o[a]=d;return}let e=r.relationTo;for(let p of(await Promise.all(d.map(a=>i.payloadDataLoader.load((0,k.h)({collectionSlug:e,currentDepth:0,depth:0,docID:a,draft:b,fallbackLocale:c,locale:f,overrideAccess:g,select:h,showHiddenFields:m,transactionID:i.transactionID}))))))p&&await l({name:a,draft:b,fallbackLocale:c,fields:i.payload.collections[r.relationTo].config.flattenedFields,hasMany:!0,locale:f,overrideAccess:g,ref:p,req:i,segments:[...j],showHiddenFields:m,siblingDoc:o});return}if(d="object"==typeof q&&q?q.id:q,"id"===j[0]&&0===j.length){o[a]=d;return}if("string"!=typeof d&&"number"!=typeof d)return;let t=await i.payloadDataLoader.load((0,k.h)({collectionSlug:r.relationTo,currentDepth:0,depth:0,docID:d,draft:b,fallbackLocale:c,locale:f,overrideAccess:g,select:h,showHiddenFields:m,transactionID:i.transactionID}));if(!t)return;return l({name:a,draft:b,fallbackLocale:c,fields:i.payload.collections[r.relationTo].config.flattenedFields,hasMany:e,locale:f,overrideAccess:g,ref:t,req:i,segments:j,showHiddenFields:m,siblingDoc:o})}}},m=async({blockData:a,collection:b,context:c,currentDepth:k,depth:m,doc:p,draft:q,fallbackLocale:r,field:s,fieldIndex:t,fieldPromises:u,findMany:v,flattenLocales:w,global:x,locale:y,overrideAccess:z,parentIndexPath:A,parentIsLocalized:B,parentPath:C,parentSchemaPath:D,populate:E,populationPromises:F,req:G,select:H,selectMode:I,showHiddenFields:J,siblingDoc:K,siblingFields:L,triggerAccessControl:M=!0,triggerHooks:N=!0})=>{let{indexPath:O,path:P,schemaPath:Q}=(0,i.I)({field:s,index:t,parentIndexPath:A,parentPath:C,parentSchemaPath:D}),R=(0,g.Z7)(s),S=P?P.split("."):[],T=Q?Q.split("."):[],U=O?O.split("-").filter(Boolean)?.map(Number):[],V=!1;if(R&&s.hidden&&void 0!==K[s.name]&&!J&&(V=!0,delete K[s.name]),"id"!==P&&!(0,f.e)({field:s,select:H,selectMode:I,siblingDoc:K}))return;let W=(0,g.Cd)({field:s,parentIsLocalized:B}),X=!!(w&&R&&"object"==typeof K[s.name]&&null!==K[s.name]&&W&&"all"!==y&&G.payload.config.localization);if(R&&X){let a=K[s.name][y],b=a;if(r&&r!==y){let c,d=null==a;if(Array.isArray(r))for(let a of r){let b=K[s.name]?.[a];if(null!=b&&""!==b){c=b;break}}else c=K[s.name][r];if(c)switch(s.type){case"text":case"textarea":(""===a||d)&&(b=c);break;default:d&&(b=c)}}K[s.name]=b}switch(s.type){case"group":R&&void 0===K[s.name]&&(K[s.name]={});break;case"point":{let a=K[s.name];Array.isArray(a?.coordinates)&&2===a.coordinates.length?K[s.name]=a.coordinates:K[s.name]=void 0;break}case"richText":if(!s?.editor)throw new d.X(s);if("function"==typeof s?.editor)throw Error("Attempted to access unsanitized rich text editor.");break;case"tabs":s.tabs.forEach(a=>{(0,g.pz)(a)&&(void 0===K[a.name]||null===K[a.name])&&(K[a.name]={})})}let Y="all"===y&&"name"in s&&"string"==typeof s.name&&!X&&W&&"object"==typeof K[s.name];if(R){if(N&&"hooks"in s&&s.hooks?.afterRead)for(let d of s.hooks.afterRead)if(Y){let e=Object.entries(K[s.name]);await Promise.all(e.map(async([e,f])=>{let g=await d({blockData:a,collection:b,context:c,currentDepth:k,data:p,depth:m,draft:q,field:s,findMany:v,global:x,indexPath:U,operation:"read",originalDoc:p,overrideAccess:z,path:S,req:G,schemaPath:T,showHiddenFields:J,siblingData:K,siblingFields:L,value:f});void 0!==g&&(K[s.name][e]=g)}))}else{let e=await d({blockData:a,collection:b,context:c,currentDepth:k,data:p,depth:m,draft:q,field:s,findMany:v,global:x,indexPath:U,operation:"read",originalDoc:p,overrideAccess:z,path:S,req:G,schemaPath:T,showHiddenFields:J,siblingData:K,siblingFields:L,value:K[s.name]});void 0!==e&&(K[s.name]=e)}"virtual"in s&&"string"==typeof s.virtual&&(!s.hidden||J)&&F.push(l({name:s.name,draft:q,fallbackLocale:r,fields:(b||x).flattenedFields,locale:y,overrideAccess:z,ref:p,req:G,segments:s.virtual.split("."),showHiddenFields:J,siblingDoc:K}));let d=!0;M&&s.access&&s.access.read&&(z||await s.access.read({id:p.id,blockData:a,data:p,doc:p,req:G,siblingData:K})||(d=!1,delete K[s.name])),!V&&d&&void 0===K[s.name]&&void 0!==s.defaultValue&&(K[s.name]=await (0,h.B)({defaultValue:s.defaultValue,locale:y,req:G,user:G.user,value:K[s.name]})),("relationship"===s.type||"upload"===s.type||"join"===s.type)&&F.push((0,j.x)({currentDepth:k,depth:m,draft:q,fallbackLocale:r,field:s,locale:y,overrideAccess:z,parentIsLocalized:B,populate:E,req:G,showHiddenFields:J,siblingDoc:K}))}switch(s.type){case"array":{let d=K[s.name],e=H?.[s.name];"include"===I&&"object"==typeof e&&(e={...e,id:!0}),Array.isArray(d)&&d.length>0?d.forEach((d,f)=>{o({blockData:a,collection:b,context:c,currentDepth:k,depth:m,doc:p,draft:q,fallbackLocale:r,fieldPromises:u,fields:s.fields,findMany:v,flattenLocales:w,global:x,locale:y,overrideAccess:z,parentIndexPath:"",parentIsLocalized:B||s.localized,parentPath:P+"."+f,parentSchemaPath:Q,populate:E,populationPromises:F,req:G,select:"object"==typeof e?e:void 0,selectMode:I,showHiddenFields:J,siblingDoc:d||{},triggerAccessControl:M,triggerHooks:N})}):X||"object"!=typeof d||null===d?X&&(!d||0===d.length)?K[s.name]=null:(!0!==s.hidden||!0===J)&&(K[s.name]=[]):Object.values(d).forEach(d=>{Array.isArray(d)&&d.forEach((d,e)=>{o({blockData:a,collection:b,context:c,currentDepth:k,depth:m,doc:p,draft:q,fallbackLocale:r,fieldPromises:u,fields:s.fields,findMany:v,flattenLocales:w,global:x,locale:y,overrideAccess:z,parentIndexPath:"",parentIsLocalized:B||s.localized,parentPath:P+"."+e,parentSchemaPath:Q,populate:E,populationPromises:F,req:G,showHiddenFields:J,siblingDoc:d||{},triggerAccessControl:M,triggerHooks:N})})});break}case"blocks":{let a=K[s.name];Array.isArray(a)&&a.length>0?a.forEach((a,d)=>{let f=a.blockType,g=G.payload.blocks[f]??(s.blockReferences??s.blocks).find(a=>"string"!=typeof a&&a.slug===f),{blockSelect:h,blockSelectMode:i}=(0,e.c)({block:g,select:H?.[s.name],selectMode:I});g&&o({blockData:a,collection:b,context:c,currentDepth:k,depth:m,doc:p,draft:q,fallbackLocale:r,fieldPromises:u,fields:g.fields,findMany:v,flattenLocales:w,global:x,locale:y,overrideAccess:z,parentIndexPath:"",parentIsLocalized:B||s.localized,parentPath:P+"."+d,parentSchemaPath:Q+"."+g.slug,populate:E,populationPromises:F,req:G,select:"object"==typeof h?h:void 0,selectMode:i,showHiddenFields:J,siblingDoc:a||{},triggerAccessControl:M,triggerHooks:N})}):X||"object"!=typeof a||null===a?X&&(!a||0===a.length)?K[s.name]=null:(!0!==s.hidden||!0===J)&&(K[s.name]=[]):Object.values(a).forEach(a=>{Array.isArray(a)&&a.forEach((a,d)=>{let e=a.blockType,f=G.payload.blocks[e]??(s.blockReferences??s.blocks).find(a=>"string"!=typeof a&&a.slug===e);f&&o({blockData:a,collection:b,context:c,currentDepth:k,depth:m,doc:p,draft:q,fallbackLocale:r,fieldPromises:u,fields:f.fields,findMany:v,flattenLocales:w,global:x,locale:y,overrideAccess:z,parentIndexPath:"",parentIsLocalized:B||s.localized,parentPath:P+"."+d,parentSchemaPath:Q+"."+f.slug,populate:E,populationPromises:F,req:G,showHiddenFields:J,siblingDoc:a||{},triggerAccessControl:M,triggerHooks:N})})});break}case"collapsible":case"row":o({blockData:a,collection:b,context:c,currentDepth:k,depth:m,doc:p,draft:q,fallbackLocale:r,fieldPromises:u,fields:s.fields,findMany:v,flattenLocales:w,global:x,locale:y,overrideAccess:z,parentIndexPath:O,parentIsLocalized:B,parentPath:C,parentSchemaPath:Q,populate:E,populationPromises:F,req:G,select:H,selectMode:I,showHiddenFields:J,siblingDoc:K,triggerAccessControl:M,triggerHooks:N});break;case"group":if(R){let d="object"==typeof H?.[s.name]?H?.[s.name]:void 0;W&&!X?Object.values(K[s.name]||{}).forEach(e=>{o({blockData:a,collection:b,context:c,currentDepth:k,depth:m,doc:p,draft:q,fallbackLocale:r,fieldPromises:u,fields:s.fields,findMany:v,flattenLocales:w,global:x,locale:y,overrideAccess:z,parentIndexPath:"",parentIsLocalized:B||s.localized,parentPath:P,parentSchemaPath:Q,populate:E,populationPromises:F,req:G,select:d,selectMode:I,showHiddenFields:J,siblingDoc:e||{},triggerAccessControl:M,triggerHooks:N})}):o({blockData:a,collection:b,context:c,currentDepth:k,depth:m,doc:p,draft:q,fallbackLocale:r,fieldPromises:u,fields:s.fields,findMany:v,flattenLocales:w,global:x,locale:y,overrideAccess:z,parentIndexPath:"",parentIsLocalized:B||s.localized,parentPath:P,parentSchemaPath:Q,populate:E,populationPromises:F,req:G,select:d,selectMode:I,showHiddenFields:J,siblingDoc:"object"!=typeof K[s.name]?{}:K[s.name],triggerAccessControl:M,triggerHooks:N})}else o({blockData:a,collection:b,context:c,currentDepth:k,depth:m,doc:p,draft:q,fallbackLocale:r,fieldPromises:u,fields:s.fields,findMany:v,flattenLocales:w,global:x,locale:y,overrideAccess:z,parentIndexPath:O,parentIsLocalized:B,parentPath:C,parentSchemaPath:Q,populate:E,populationPromises:F,req:G,select:H,selectMode:I,showHiddenFields:J,siblingDoc:K,triggerAccessControl:M,triggerHooks:N});break;case"richText":{if(!s?.editor)throw new d.X(s);if("function"==typeof s?.editor)throw Error("Attempted to access unsanitized rich text editor.");let a=s?.editor;if(a?.hooks?.afterRead?.length)for(let d of a.hooks.afterRead)if(Y){let a=Object.entries(K[s.name]);await Promise.all(a.map(async([a,e])=>{let f=await d({collection:b,context:c,currentDepth:k,data:p,depth:m,draft:q,fallbackLocale:r,field:s,fieldPromises:u,findMany:v,flattenLocales:w,global:x,indexPath:U,locale:a,operation:"read",originalDoc:p,overrideAccess:z,parentIsLocalized:B,path:S,populate:E,populationPromises:F,req:G,schemaPath:T,showHiddenFields:J,siblingData:K,triggerAccessControl:M,triggerHooks:N,value:e});void 0!==f&&(K[s.name][a]=f)}))}else{let a=await d({collection:b,context:c,currentDepth:k,data:p,depth:m,draft:q,fallbackLocale:r,field:s,fieldPromises:u,findMany:v,flattenLocales:w,global:x,indexPath:U,locale:y,operation:"read",originalDoc:p,overrideAccess:z,parentIsLocalized:B,path:S,populate:E,populationPromises:F,req:G,schemaPath:T,showHiddenFields:J,siblingData:K,triggerAccessControl:M,triggerHooks:N,value:K[s.name]});void 0!==a&&(K[s.name]=a)}break}case"tab":{let d=K,e=(0,g.pz)(s);if(e){let d="object"==typeof H?.[s.name]?H?.[s.name]:void 0;W&&!X?Object.values(K[s.name]||{}).forEach(e=>{o({blockData:a,collection:b,context:c,currentDepth:k,depth:m,doc:p,draft:q,fallbackLocale:r,fieldPromises:u,fields:s.fields,findMany:v,flattenLocales:w,global:x,locale:y,overrideAccess:z,parentIndexPath:"",parentIsLocalized:B||s.localized,parentPath:P,parentSchemaPath:Q,populate:E,populationPromises:F,req:G,select:d,selectMode:I,showHiddenFields:J,siblingDoc:e||{},triggerAccessControl:M,triggerHooks:N})}):o({blockData:a,collection:b,context:c,currentDepth:k,depth:m,doc:p,draft:q,fallbackLocale:r,fieldPromises:u,fields:s.fields,findMany:v,flattenLocales:w,global:x,locale:y,overrideAccess:z,parentIndexPath:"",parentIsLocalized:B||s.localized,parentPath:P,parentSchemaPath:Q,populate:E,populationPromises:F,req:G,select:d,selectMode:I,showHiddenFields:J,siblingDoc:"object"!=typeof K[s.name]?{}:K[s.name],triggerAccessControl:M,triggerHooks:N})}else o({blockData:a,collection:b,context:c,currentDepth:k,depth:m,doc:p,draft:q,fallbackLocale:r,fieldPromises:u,fields:s.fields,findMany:v,flattenLocales:w,global:x,locale:y,overrideAccess:z,parentIndexPath:e?"":O,parentIsLocalized:B||s.localized,parentPath:e?P:C,parentSchemaPath:Q,populate:E,populationPromises:F,req:G,select:H,selectMode:I,showHiddenFields:J,siblingDoc:d,triggerAccessControl:M,triggerHooks:N});break}case"tabs":o({blockData:a,collection:b,context:c,currentDepth:k,depth:m,doc:p,draft:q,fallbackLocale:r,fieldPromises:u,fields:s.tabs.map(a=>({...a,type:"tab"})),findMany:v,flattenLocales:w,global:x,locale:y,overrideAccess:z,parentIndexPath:O,parentIsLocalized:B,parentPath:P,parentSchemaPath:Q,populate:E,populationPromises:F,req:G,select:H,selectMode:I,showHiddenFields:J,siblingDoc:K,triggerAccessControl:M,triggerHooks:N})}},o=({blockData:a,collection:b,context:c,currentDepth:d,depth:e,doc:f,draft:g,fallbackLocale:h,fieldPromises:i,fields:j,findMany:k,flattenLocales:l,global:o,locale:p,overrideAccess:q,parentIndexPath:r,parentIsLocalized:s,parentPath:t,parentSchemaPath:u,populate:v,populationPromises:w,req:x,select:y,selectMode:z,showHiddenFields:A,siblingDoc:B,triggerAccessControl:C=!0,triggerHooks:D=!0})=>{j.forEach((E,F)=>{i.push(m({blockData:a,collection:b,context:c,currentDepth:d,depth:e,doc:f,draft:g,fallbackLocale:h,field:E,fieldIndex:F,fieldPromises:i,findMany:k,flattenLocales:l,global:o,locale:p,overrideAccess:q,parentIndexPath:r,parentIsLocalized:s,parentPath:t,parentSchemaPath:u,populate:v,populationPromises:w,req:x,select:y,selectMode:z,showHiddenFields:A,siblingDoc:B,siblingFields:j,triggerAccessControl:C,triggerHooks:D}))})}},898:(a,b,c)=>{"use strict";function d({field:a,index:b,parentIndexPath:c,parentPath:d,parentSchemaPath:e}){if("name"in a)return{indexPath:`${c?c+"-":""}${b}`,path:`${d?d+".":""}${a.name}`,schemaPath:`${e?e+".":""}${a.name}`};let f=`_index-${c?c+"-":""}${b}`;return{indexPath:`${c?c+"-":""}${b}`,path:`${d?d+".":""}${f}`,schemaPath:`${e?e+".":""}${f}`}}function e({field:a,index:b,parentIndexPath:c,parentPath:d,parentSchemaPath:e}){let f=d.split("."),g=f[f.length-1].startsWith("_index-"),h=g?f.slice(0,-1).join("."):d,i=g?h:d;if("name"in a)return{indexPath:"",path:`${i?i+".":""}${a.name}`,schemaPath:`${e?e+".":""}${a.name}`};let j=`_index-${c?c+"-":""}${b}`;return{indexPath:`${c?c+"-":""}${b}`,path:`${i?i+".":""}${j}`,schemaPath:`${!g&&e?e+".":""}${j}`}}c.d(b,{I:()=>e,Z:()=>d})},915:(a,b,c)=>{"use strict";let{kConnected:d,kSize:e}=c(10257);class f{constructor(a){this.value=a}deref(){return 0===this.value[d]&&0===this.value[e]?void 0:this.value}}class g{constructor(a){this.finalizer=a}register(a,b){a.on&&a.on("disconnect",()=>{0===a[d]&&0===a[e]&&this.finalizer(b)})}unregister(a){}}a.exports=function(){return process.env.NODE_V8_COVERAGE&&process.version.startsWith("v18")?(process._rawDebug("Using compatibility WeakRef and FinalizationRegistry"),{WeakRef:f,FinalizationRegistry:g}):{WeakRef,FinalizationRegistry}}},984:(a,b,c)=>{"use strict";let{InvalidArgumentError:d}=c(64737);a.exports=class a{#a;constructor(a){this.#a=a}static wrap(b){return b.onRequestStart?b:new a(b)}onConnect(a,b){return this.#a.onConnect?.(a,b)}onHeaders(a,b,c,d){return this.#a.onHeaders?.(a,b,c,d)}onUpgrade(a,b,c){return this.#a.onUpgrade?.(a,b,c)}onData(a){return this.#a.onData?.(a)}onComplete(a){return this.#a.onComplete?.(a)}onError(a){if(!this.#a.onError)throw a;return this.#a.onError?.(a)}onRequestStart(a,b){this.#a.onConnect?.(b=>a.abort(b),b)}onRequestUpgrade(a,b,c,d){let e=[];for(let[a,b]of Object.entries(c))e.push(Buffer.from(a),Array.isArray(b)?b.map(a=>Buffer.from(a)):Buffer.from(b));this.#a.onUpgrade?.(b,e,d)}onResponseStart(a,b,c,d){let e=[];for(let[a,b]of Object.entries(c))e.push(Buffer.from(a),Array.isArray(b)?b.map(a=>Buffer.from(a)):Buffer.from(b));this.#a.onHeaders?.(b,e,()=>a.resume(),d)===!1&&a.pause()}onResponseData(a,b){this.#a.onData?.(b)===!1&&a.pause()}onResponseEnd(a,b){let c=[];for(let[a,d]of Object.entries(b))c.push(Buffer.from(a),Array.isArray(d)?d.map(a=>Buffer.from(a)):Buffer.from(d));this.#a.onComplete?.(c)}onResponseError(a,b){if(!this.#a.onError)throw new d("invalid onError method");this.#a.onError?.(b)}}},1026:function(a){!function(b){"use strict";let c="(0?\\d+|0x[a-f0-9]+)",d={fourOctet:RegExp(`^${c}\\.${c}\\.${c}\\.${c}$`,"i"),threeOctet:RegExp(`^${c}\\.${c}\\.${c}$`,"i"),twoOctet:RegExp(`^${c}\\.${c}$`,"i"),longValue:RegExp(`^${c}$`,"i")},e=RegExp("^0[0-7]+$","i"),f=RegExp("^0x[a-f0-9]+$","i"),g="%[0-9a-z]{1,}",h="(?:[0-9a-f]+::?)+",i={zoneIndex:RegExp(g,"i"),native:RegExp(`^(::)?(${h})?([0-9a-f]+)?(::)?(${g})?$`,"i"),deprecatedTransitional:RegExp(`^(?:::)(${c}\\.${c}\\.${c}\\.${c}(${g})?)$`,"i"),transitional:RegExp(`^((?:${h})|(?:::)(?:${h})?)${c}\\.${c}\\.${c}\\.${c}(${g})?$`,"i")};function j(a,b){let c,d;if(a.indexOf("::")!==a.lastIndexOf("::"))return null;let e=0,f=-1,g=(a.match(i.zoneIndex)||[])[0];for(g&&(g=g.substring(1),a=a.replace(/%.+$/,""));(f=a.indexOf(":",f+1))>=0;)e++;if("::"===a.substr(0,2)&&e--,"::"===a.substr(-2,2)&&e--,e>b)return null;for(d=b-e,c=":";d--;)c+="0:";return":"===(a=a.replace("::",c))[0]&&(a=a.slice(1)),":"===a[a.length-1]&&(a=a.slice(0,-1)),{parts:b=function(){let b=a.split(":"),c=[];for(let a=0;a<b.length;a++)c.push(parseInt(b[a],16));return c}(),zoneId:g}}function k(a,b,c,d){let e;if(a.length!==b.length)throw Error("ipaddr: cannot match CIDR for objects with different lengths");let f=0;for(;d>0;){if((e=c-d)<0&&(e=0),a[f]>>e!=b[f]>>e)return!1;d-=c,f+=1}return!0}function l(a){if(f.test(a))return parseInt(a,16);if("0"===a[0]&&!isNaN(parseInt(a[1],10))){if(e.test(a))return parseInt(a,8);throw Error(`ipaddr: cannot parse ${a} as octal`)}return parseInt(a,10)}function m(a,b){for(;a.length<b;)a=`0${a}`;return a}let o={};o.IPv4=function(){function a(a){let b,c;if(4!==a.length)throw Error("ipaddr: ipv4 octet count should be 4");for(b=0;b<a.length;b++)if(!(0<=(c=a[b])&&c<=255))throw Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=a}return a.prototype.SpecialRanges={unspecified:[[new a([0,0,0,0]),8]],broadcast:[[new a([255,255,255,255]),32]],multicast:[[new a([224,0,0,0]),4]],linkLocal:[[new a([169,254,0,0]),16]],loopback:[[new a([127,0,0,0]),8]],carrierGradeNat:[[new a([100,64,0,0]),10]],private:[[new a([10,0,0,0]),8],[new a([172,16,0,0]),12],[new a([192,168,0,0]),16]],reserved:[[new a([192,0,0,0]),24],[new a([192,0,2,0]),24],[new a([192,88,99,0]),24],[new a([198,18,0,0]),15],[new a([198,51,100,0]),24],[new a([203,0,113,0]),24],[new a([240,0,0,0]),4]],as112:[[new a([192,175,48,0]),24],[new a([192,31,196,0]),24]],amt:[[new a([192,52,193,0]),24]]},a.prototype.kind=function(){return"ipv4"},a.prototype.match=function(a,b){let c;if(void 0===b&&(a=(c=a)[0],b=c[1]),"ipv4"!==a.kind())throw Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return k(this.octets,a.octets,8,b)},a.prototype.prefixLengthFromSubnetMask=function(){let a,b,c,d=0,e=!1,f={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};for(a=3;a>=0;a-=1){if(!((b=this.octets[a])in f)||(c=f[b],e&&0!==c))return null;8!==c&&(e=!0),d+=c}return 32-d},a.prototype.range=function(){return o.subnetMatch(this,this.SpecialRanges)},a.prototype.toByteArray=function(){return this.octets.slice(0)},a.prototype.toIPv4MappedAddress=function(){return o.IPv6.parse(`::ffff:${this.toString()}`)},a.prototype.toNormalizedString=function(){return this.toString()},a.prototype.toString=function(){return this.octets.join(".")},a}(),o.IPv4.broadcastAddressFromCIDR=function(a){try{let b=this.parseCIDR(a),c=b[0].toByteArray(),d=this.subnetMaskFromPrefixLength(b[1]).toByteArray(),e=[],f=0;for(;f<4;)e.push(parseInt(c[f],10)|255^parseInt(d[f],10)),f++;return new this(e)}catch(a){throw Error("ipaddr: the address does not have IPv4 CIDR format")}},o.IPv4.isIPv4=function(a){return null!==this.parser(a)},o.IPv4.isValid=function(a){try{return new this(this.parser(a)),!0}catch(a){return!1}},o.IPv4.isValidCIDR=function(a){try{return this.parseCIDR(a),!0}catch(a){return!1}},o.IPv4.isValidFourPartDecimal=function(a){return!!(o.IPv4.isValid(a)&&a.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},o.IPv4.networkAddressFromCIDR=function(a){let b,c,d,e,f;try{for(d=(b=this.parseCIDR(a))[0].toByteArray(),f=this.subnetMaskFromPrefixLength(b[1]).toByteArray(),e=[],c=0;c<4;)e.push(parseInt(d[c],10)&parseInt(f[c],10)),c++;return new this(e)}catch(a){throw Error("ipaddr: the address does not have IPv4 CIDR format")}},o.IPv4.parse=function(a){let b=this.parser(a);if(null===b)throw Error("ipaddr: string is not formatted like an IPv4 Address");return new this(b)},o.IPv4.parseCIDR=function(a){let b;if(b=a.match(/^(.+)\/(\d+)$/)){let a=parseInt(b[2]);if(a>=0&&a<=32){let c=[this.parse(b[1]),a];return Object.defineProperty(c,"toString",{value:function(){return this.join("/")}}),c}}throw Error("ipaddr: string is not formatted like an IPv4 CIDR range")},o.IPv4.parser=function(a){let b,c;if(b=a.match(d.fourOctet))return function(){let a=b.slice(1,6),c=[];for(let b=0;b<a.length;b++)c.push(l(a[b]));return c}();if(b=a.match(d.longValue)){if((c=l(b[1]))>0xffffffff||c<0)throw Error("ipaddr: address outside defined range");return(function(){let a,b=[];for(a=0;a<=24;a+=8)b.push(c>>a&255);return b})().reverse()}return(b=a.match(d.twoOctet))?function(){let a=b.slice(1,4),d=[];if((c=l(a[1]))>0xffffff||c<0)throw Error("ipaddr: address outside defined range");return d.push(l(a[0])),d.push(c>>16&255),d.push(c>>8&255),d.push(255&c),d}():(b=a.match(d.threeOctet))?function(){let a=b.slice(1,5),d=[];if((c=l(a[2]))>65535||c<0)throw Error("ipaddr: address outside defined range");return d.push(l(a[0])),d.push(l(a[1])),d.push(c>>8&255),d.push(255&c),d}():null},o.IPv4.subnetMaskFromPrefixLength=function(a){if((a=parseInt(a))<0||a>32)throw Error("ipaddr: invalid IPv4 prefix length");let b=[0,0,0,0],c=0,d=Math.floor(a/8);for(;c<d;)b[c]=255,c++;return d<4&&(b[d]=Math.pow(2,a%8)-1<<8-a%8),new this(b)},o.IPv6=function(){function a(a,b){let c,d;if(16===a.length)for(c=0,this.parts=[];c<=14;c+=2)this.parts.push(a[c]<<8|a[c+1]);else if(8===a.length)this.parts=a;else throw Error("ipaddr: ipv6 part count should be 8 or 16");for(c=0;c<this.parts.length;c++)if(!(0<=(d=this.parts[c])&&d<=65535))throw Error("ipaddr: ipv6 part should fit in 16 bits");b&&(this.zoneId=b)}return a.prototype.SpecialRanges={unspecified:[new a([0,0,0,0,0,0,0,0]),128],linkLocal:[new a([65152,0,0,0,0,0,0,0]),10],multicast:[new a([65280,0,0,0,0,0,0,0]),8],loopback:[new a([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new a([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new a([0,0,0,0,0,65535,0,0]),96],discard:[new a([256,0,0,0,0,0,0,0]),64],rfc6145:[new a([0,0,0,0,65535,0,0,0]),96],rfc6052:[new a([100,65435,0,0,0,0,0,0]),96],"6to4":[new a([8194,0,0,0,0,0,0,0]),16],teredo:[new a([8193,0,0,0,0,0,0,0]),32],benchmarking:[new a([8193,2,0,0,0,0,0,0]),48],amt:[new a([8193,3,0,0,0,0,0,0]),32],as112v6:[[new a([8193,4,274,0,0,0,0,0]),48],[new a([9760,79,32768,0,0,0,0,0]),48]],deprecated:[new a([8193,16,0,0,0,0,0,0]),28],orchid2:[new a([8193,32,0,0,0,0,0,0]),28],droneRemoteIdProtocolEntityTags:[new a([8193,48,0,0,0,0,0,0]),28],reserved:[[new a([8193,0,0,0,0,0,0,0]),23],[new a([8193,3512,0,0,0,0,0,0]),32]]},a.prototype.isIPv4MappedAddress=function(){return"ipv4Mapped"===this.range()},a.prototype.kind=function(){return"ipv6"},a.prototype.match=function(a,b){let c;if(void 0===b&&(a=(c=a)[0],b=c[1]),"ipv6"!==a.kind())throw Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return k(this.parts,a.parts,16,b)},a.prototype.prefixLengthFromSubnetMask=function(){let a,b,c=0,d=!1,e={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};for(let f=7;f>=0;f-=1){if(!((a=this.parts[f])in e)||(b=e[a],d&&0!==b))return null;16!==b&&(d=!0),c+=b}return 128-c},a.prototype.range=function(){return o.subnetMatch(this,this.SpecialRanges)},a.prototype.toByteArray=function(){let a,b=[],c=this.parts;for(let d=0;d<c.length;d++)b.push((a=c[d])>>8),b.push(255&a);return b},a.prototype.toFixedLengthString=function(){let a=(function(){let a=[];for(let b=0;b<this.parts.length;b++)a.push(m(this.parts[b].toString(16),4));return a}).call(this).join(":"),b="";return this.zoneId&&(b=`%${this.zoneId}`),a+b},a.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw Error("ipaddr: trying to convert a generic ipv6 address to ipv4");let a=this.parts.slice(-2),b=a[0],c=a[1];return new o.IPv4([b>>8,255&b,c>>8,255&c])},a.prototype.toNormalizedString=function(){let a=(function(){let a=[];for(let b=0;b<this.parts.length;b++)a.push(this.parts[b].toString(16));return a}).call(this).join(":"),b="";return this.zoneId&&(b=`%${this.zoneId}`),a+b},a.prototype.toRFC5952String=function(){let a,b=/((^|:)(0(:|$)){2,})/g,c=this.toNormalizedString(),d=0,e=-1;for(;a=b.exec(c);)a[0].length>e&&(d=a.index,e=a[0].length);return e<0?c:`${c.substring(0,d)}::${c.substring(d+e)}`},a.prototype.toString=function(){return this.toRFC5952String()},a}(),o.IPv6.broadcastAddressFromCIDR=function(a){try{let b=this.parseCIDR(a),c=b[0].toByteArray(),d=this.subnetMaskFromPrefixLength(b[1]).toByteArray(),e=[],f=0;for(;f<16;)e.push(parseInt(c[f],10)|255^parseInt(d[f],10)),f++;return new this(e)}catch(a){throw Error(`ipaddr: the address does not have IPv6 CIDR format (${a})`)}},o.IPv6.isIPv6=function(a){return null!==this.parser(a)},o.IPv6.isValid=function(a){if("string"==typeof a&&-1===a.indexOf(":"))return!1;try{let b=this.parser(a);return new this(b.parts,b.zoneId),!0}catch(a){return!1}},o.IPv6.isValidCIDR=function(a){if("string"==typeof a&&-1===a.indexOf(":"))return!1;try{return this.parseCIDR(a),!0}catch(a){return!1}},o.IPv6.networkAddressFromCIDR=function(a){let b,c,d,e,f;try{for(d=(b=this.parseCIDR(a))[0].toByteArray(),f=this.subnetMaskFromPrefixLength(b[1]).toByteArray(),e=[],c=0;c<16;)e.push(parseInt(d[c],10)&parseInt(f[c],10)),c++;return new this(e)}catch(a){throw Error(`ipaddr: the address does not have IPv6 CIDR format (${a})`)}},o.IPv6.parse=function(a){let b=this.parser(a);if(null===b.parts)throw Error("ipaddr: string is not formatted like an IPv6 Address");return new this(b.parts,b.zoneId)},o.IPv6.parseCIDR=function(a){let b,c,d;if((c=a.match(/^(.+)\/(\d+)$/))&&(b=parseInt(c[2]))>=0&&b<=128)return Object.defineProperty(d=[this.parse(c[1]),b],"toString",{value:function(){return this.join("/")}}),d;throw Error("ipaddr: string is not formatted like an IPv6 CIDR range")},o.IPv6.parser=function(a){let b,c,d,e,f,g;if(d=a.match(i.deprecatedTransitional))return this.parser(`::ffff:${d[1]}`);if(i.native.test(a))return j(a,8);if((d=a.match(i.transitional))&&(g=d[6]||"",b=d[1],d[1].endsWith("::")||(b=b.slice(0,-1)),(b=j(b+g,6)).parts)){for(c=0,f=[parseInt(d[2]),parseInt(d[3]),parseInt(d[4]),parseInt(d[5])];c<f.length;c++)if(!(0<=(e=f[c])&&e<=255))return null;return b.parts.push(f[0]<<8|f[1]),b.parts.push(f[2]<<8|f[3]),{parts:b.parts,zoneId:b.zoneId}}return null},o.IPv6.subnetMaskFromPrefixLength=function(a){if((a=parseInt(a))<0||a>128)throw Error("ipaddr: invalid IPv6 prefix length");let b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=0,d=Math.floor(a/8);for(;c<d;)b[c]=255,c++;return d<16&&(b[d]=Math.pow(2,a%8)-1<<8-a%8),new this(b)},o.fromByteArray=function(a){let b=a.length;if(4===b)return new o.IPv4(a);if(16===b)return new o.IPv6(a);throw Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},o.isValid=function(a){return o.IPv6.isValid(a)||o.IPv4.isValid(a)},o.isValidCIDR=function(a){return o.IPv6.isValidCIDR(a)||o.IPv4.isValidCIDR(a)},o.parse=function(a){if(o.IPv6.isValid(a))return o.IPv6.parse(a);if(o.IPv4.isValid(a))return o.IPv4.parse(a);throw Error("ipaddr: the address has neither IPv6 nor IPv4 format")},o.parseCIDR=function(a){try{return o.IPv6.parseCIDR(a)}catch(b){try{return o.IPv4.parseCIDR(a)}catch(a){throw Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},o.process=function(a){let b=this.parse(a);return"ipv6"===b.kind()&&b.isIPv4MappedAddress()?b.toIPv4Address():b},o.subnetMatch=function(a,b,c){let d,e,f,g;for(e in null==c&&(c="unicast"),b)if(Object.prototype.hasOwnProperty.call(b,e)){for(!(f=b[e])[0]||f[0]instanceof Array||(f=[f]),d=0;d<f.length;d++)if(g=f[d],a.kind()===g[0].kind()&&a.match.apply(a,g))return e}return c},a.exports?a.exports=o:b.ipaddr=o}(this)},1042:(a,b,c)=>{"use strict";let d=c(48161),e=c(62741),f=c(55685),g=c(49814),h=c(11239),i=c(32438),j=c(53057),{configure:k}=c(70965),{assertDefaultLevelFound:l,mappings:m,genLsCache:o,genLevelComparison:p,assertLevelComparison:q}=c(47597),{DEFAULT_LEVELS:r,SORTING_ORDER:s}=c(97853),{createArgsNormalizer:t,asChindings:u,buildSafeSonicBoom:v,buildFormatters:w,stringify:x,normalizeDestFileDescriptor:y,noop:z}=c(14447),{version:A}=c(60203),{chindingsSym:B,redactFmtSym:C,serializersSym:D,timeSym:E,timeSliceIndexSym:F,streamSym:G,stringifySym:H,stringifySafeSym:I,stringifiersSym:J,setLevelSym:K,endSym:L,formatOptsSym:M,messageKeySym:N,errorKeySym:O,nestedKeySym:P,mixinSym:Q,levelCompSym:R,useOnlyCustomLevelsSym:S,formattersSym:T,hooksSym:U,nestedKeyStrSym:V,mixinMergeStrategySym:W,msgPrefixSym:X}=j,{epochTime:Y,nullTime:Z}=h,{pid:$}=process,_=d.hostname(),aa=e.err,ab=t({level:"info",levelComparison:s.ASC,levels:r,messageKey:"msg",errorKey:"err",nestedKey:null,enabled:!0,base:{pid:$,hostname:_},serializers:Object.assign(Object.create(null),{err:aa}),formatters:Object.assign(Object.create(null),{bindings:a=>a,level:(a,b)=>({level:b})}),hooks:{logMethod:void 0,streamWrite:void 0},timestamp:Y,name:void 0,redact:null,customLevels:null,useOnlyCustomLevels:!1,depthLimit:5,edgeLimit:100}),ac=Object.assign(Object.create(null),e);function ad(...a){let b={},{opts:c,stream:d}=ab(b,f(),...a);c.level&&"string"==typeof c.level&&void 0!==r[c.level.toLowerCase()]&&(c.level=c.level.toLowerCase());let{redact:e,crlf:h,serializers:j,timestamp:s,messageKey:t,errorKey:v,nestedKey:y,base:A,name:$,level:_,customLevels:aa,levelComparison:ac,mixin:ae,mixinMergeStrategy:af,useOnlyCustomLevels:ag,formatters:ah,hooks:ai,depthLimit:aj,edgeLimit:ak,onChild:al,msgPrefix:am}=c,an=k({maximumDepth:aj,maximumBreadth:ak}),ao=w(ah.level,ah.bindings,ah.log),ap=x.bind({[I]:an}),aq=e?g(e,ap):{},ar=e?{stringify:aq[C]}:{stringify:ap},as="}"+(h?"\r\n":"\n"),at=u.bind(null,{[B]:"",[D]:j,[J]:aq,[H]:x,[I]:an,[T]:ao}),au="";null!==A&&(au=at(void 0===$?A:Object.assign({},A,{name:$})));let av=s instanceof Function?s:s?Y:Z,aw=av().indexOf(":")+1;if(ag&&!aa)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(ae&&"function"!=typeof ae)throw Error(`Unknown mixin type "${typeof ae}" - expected "function"`);if(am&&"string"!=typeof am)throw Error(`Unknown msgPrefix type "${typeof am}" - expected "string"`);l(_,aa,ag);let ax=m(aa,ag);return"function"==typeof d.emit&&d.emit("message",{code:"PINO_CONFIG",config:{levels:ax,messageKey:t,errorKey:v}}),q(ac),Object.assign(b,{levels:ax,[R]:p(ac),[S]:ag,[G]:d,[E]:av,[F]:aw,[H]:x,[I]:an,[J]:aq,[L]:as,[M]:ar,[N]:t,[O]:v,[P]:y,[V]:y?`,${JSON.stringify(y)}:{`:"",[D]:j,[Q]:ae,[W]:af,[B]:au,[T]:ao,[U]:ai,silent:z,onChild:al,[X]:am}),Object.setPrototypeOf(b,i()),o(b),b[K](_),b}a.exports=ad,a.exports.destination=(a=process.stdout.fd)=>"object"==typeof a?(a.dest=y(a.dest||process.stdout.fd),v(a)):v({dest:y(a),minLength:0}),a.exports.transport=c(40645),a.exports.multistream=c(3349),a.exports.levels=m(),a.exports.stdSerializers=ac,a.exports.stdTimeFunctions=Object.assign({},h),a.exports.symbols=j,a.exports.version=A,a.exports.default=ad,a.exports.pino=ad},1078:(a,b,c)=>{"use strict";a.exports=i;let{DATE_FORMAT:d,DATE_FORMAT_SIMPLE:e}=c(51874),f=c(95808),g=c(6302),h=c(8395);function i(a,b=!1){if(!1===b)return a;let c=g(a);if(!h(c))return a;if(!0===b)return f(c,e);let j=b.toUpperCase();if("SYS:STANDARD"===j)return f(c,d);let k=j.substr(0,4);return"SYS:"===k||"UTC:"===k?"UTC:"===k?f(c,b):f(c,b.slice(4)):f(c,`UTC:${b}`)}},1195:(a,b,c)=>{var d=c(49725);a.exports=function a(a){return d(a).replace(/[\W_]+(.|$)/g,function(a,b){return b?" "+b:""}).trim()}},1276:(a,b,c)=>{"use strict";c.d(b,{v:()=>f});var d=c(54094),e=c(687);async function f(a){let{collection:b,context:c,currentDepth:f,depth:g,doc:h,draft:i,fallbackLocale:j,findMany:k,flattenLocales:l=!0,global:m,locale:o,overrideAccess:p,populate:q,req:r,select:s,showHiddenFields:t}=a,u=[],v=[],w=g||0===g?parseInt(String(g),10):r.payload.config.defaultDepth;w>r.payload.config.maxDepth&&(w=r.payload.config.maxDepth);let x=f||1;(0,e.m)({collection:b,context:c,currentDepth:x,depth:w,doc:h,draft:i,fallbackLocale:j,fieldPromises:u,fields:b?.fields||m?.fields,findMany:k,flattenLocales:l,global:m,locale:o,overrideAccess:p,parentIndexPath:"",parentIsLocalized:!1,parentPath:"",parentSchemaPath:"",populate:q,populationPromises:v,req:r,select:s,selectMode:s?(0,d.a)(s):void 0,showHiddenFields:t,siblingDoc:h});let y=0;for(;u.length>0||v.length>0;){let a=u.splice(0,u.length),b=v.splice(0,v.length);if(await Promise.all(a),await Promise.all(b),++y>=100)throw Error("Infinite afterRead promise loop detected. A hook is likely adding field promises in an infinitely recursive way.")}return h}},1411:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(13283),e=c(231),f=c(29641),g=c(13623),h=c(60774);b.default=[d.default,e.default,(0,f.default)(),g.default,h.metadataVocabulary,h.contentVocabulary]},1483:(a,b,c)=>{"use strict";let d=c(12814),e=c(23976),f=c(40755);a.exports={isPlainText(a,b){let c=b?/[\x00-\x08\x0b\x0c\x0e-\x1f"\u0080-\uFFFF]/:/[\x00-\x08\x0b\x0c\x0e-\x1f\u0080-\uFFFF]/;return!("string"!=typeof a||c.test(a))},hasLongerLines:(a,b)=>a.length>131072||RegExp("^.{"+(b+1)+",}","m").test(a),encodeWord(a,b,c){let f;b=(b||"Q").toString().toUpperCase().trim().charAt(0);let g="UTF-8";if((c=c||0)&&c>7+g.length&&(c-=7+g.length),"Q"===b?f=e.encode(a).replace(/[^a-z0-9!*+\-/=]/gi,a=>{let b=a.charCodeAt(0).toString(16).toUpperCase();return" "===a?"_":"="+(1===b.length?"0"+b:b)}):"B"===b&&(f="string"==typeof a?a:d.encode(a),c=c?Math.max(3,(c-c%4)/4*3):0),c&&("B"!==b?f:d.encode(a)).length>c)if("Q"===b)f=this.splitMimeEncodedString(f,c).join("?= =?"+g+"?"+b+"?");else{let a=[],e="";for(let b=0,g=f.length;b<g;b++){let h=f.charAt(b);/[\ud83c\ud83d\ud83e]/.test(h)&&b<g-1&&(h+=f.charAt(++b)),Buffer.byteLength(e+h)<=c||0===b?e+=h:(a.push(d.encode(e)),e=h)}e&&a.push(d.encode(e)),f=a.length>1?a.join("?= =?"+g+"?"+b+"?"):a.join("")}else"B"===b&&(f=d.encode(a));return"=?"+g+"?"+b+"?"+f+("?="===f.substr(-2)?"":"?=")},encodeWords(a,b,c,d){c=c||0;let e=a.match(/(?:^|\s)([^\s]*["\u0080-\uFFFF])/);if(!e)return a;if(d)return this.encodeWord(a,b,c);let f=a.match(/(["\u0080-\uFFFF][^\s]*)[^"\u0080-\uFFFF]*$/);if(!f)return a;let g=e.index+(e[0].match(/[^\s]/)||{index:0}).index,h=f.index+(f[1]||"").length;return(g?a.substr(0,g):"")+this.encodeWord(a.substring(g,h),b||"Q",c)+(h<a.length?a.substr(h):"")},buildHeaderValue(a){let b=[];return Object.keys(a.params||{}).forEach(c=>{let d=a.params[c];!this.isPlainText(d,!0)||d.length>=75?this.buildHeaderParam(c,d,50).forEach(a=>{/[\s"\\;:/=(),<>@[\]?]|^[-']|'$/.test(a.value)&&"*"!==a.key.substr(-1)?b.push(a.key+"="+JSON.stringify(a.value)):b.push(a.key+"="+a.value)}):/[\s'"\\;:/=(),<>@[\]?]|^-/.test(d)?b.push(c+"="+JSON.stringify(d)):b.push(c+"="+d)}),a.value+(b.length?"; "+b.join("; "):"")},buildHeaderParam(a,b,c){let d,e,f,g,h,i,j=[],k="string"==typeof b?b:(b||"").toString(),l=0;if(c=c||50,this.isPlainText(b,!0)){if(k.length<=c)return[{key:a,value:k}];(k=k.replace(RegExp(".{"+c+"}","g"),a=>(j.push({line:a}),"")))&&j.push({line:k})}else{if(/[\uD800-\uDBFF]/.test(k)){for(h=0,d=[],i=k.length;h<i;h++)(f=(e=k.charAt(h)).charCodeAt(0))>=55296&&f<=56319&&h<i-1?(e+=k.charAt(h+1),d.push(e),h++):d.push(e);k=d}g="utf-8''";let a=!0;for(h=0,l=0,i=k.length;h<i;h++){if(e=k[h],a)e=this.safeEncodeURIComponent(e);else if((e=" "===e?e:this.safeEncodeURIComponent(e))!==k[h])if((this.safeEncodeURIComponent(g)+e).length>=c)j.push({line:g,encoded:a}),g="",l=h-1;else{a=!0,h=l,g="";continue}(g+e).length>=c?(j.push({line:g,encoded:a}),g=e=" "===k[h]?" ":this.safeEncodeURIComponent(k[h]),e===k[h]?(a=!1,l=h-1):a=!0):g+=e}g&&j.push({line:g,encoded:a})}return j.map((b,c)=>({key:a+"*"+c+(b.encoded?"*":""),value:b.line}))},parseHeaderValue(a){let b,c={value:!1,params:{}},d=!1,e="",f="value",g=!1,h=!1;for(let i=0,j=a.length;i<j;i++)if(b=a.charAt(i),"key"===f){if("="===b){d=e.trim().toLowerCase(),f="value",e="";continue}e+=b}else{if(h)e+=b;else if("\\"===b){h=!0;continue}else g&&b===g?g=!1:g||'"'!==b?g||";"!==b?e+=b:(!1===d?c.value=e.trim():c.params[d]=e.trim(),f="key",e=""):g=b;h=!1}return"value"===f?!1===d?c.value=e.trim():c.params[d]=e.trim():e.trim()&&(c.params[e.trim().toLowerCase()]=""),Object.keys(c.params).forEach(a=>{let b,d,e,f;(e=a.match(/(\*(\d+)|\*(\d+)\*|\*)$/))&&(b=a.substr(0,e.index),d=Number(e[2]||e[3])||0,c.params[b]&&"object"==typeof c.params[b]||(c.params[b]={charset:!1,values:[]}),f=c.params[a],0===d&&"*"===e[0].substr(-1)&&(e=f.match(/^([^']*)'[^']*'(.*)$/))&&(c.params[b].charset=e[1]||"iso-8859-1",f=e[2]),c.params[b].values[d]=f,delete c.params[a])}),Object.keys(c.params).forEach(a=>{let b;c.params[a]&&Array.isArray(c.params[a].values)&&(b=c.params[a].values.map(a=>a||"").join(""),c.params[a].charset?c.params[a]="=?"+c.params[a].charset+"?Q?"+b.replace(/[=?_\s]/g,a=>{let b=a.charCodeAt(0).toString(16);return" "===a?"_":"%"+(b.length<2?"0":"")+b}).replace(/%/g,"=")+"?=":c.params[a]=b)}),c},detectExtension:a=>f.detectExtension(a),detectMimeType:a=>f.detectMimeType(a),foldLines(a,b,c){a=(a||"").toString(),b=b||76;let d=0,e=a.length,f="",g,h;for(;d<e;){if((g=a.substr(d,b)).length<b){f+=g;break}if(h=g.match(/^[^\n\r]*(\r?\n|\r)/)){f+=g=h[0],d+=g.length;continue}(h=g.match(/(\s+)[^\s]*$/))&&h[0].length-(c?(h[1]||"").length:0)<g.length?g=g.substr(0,g.length-(h[0].length-(c?(h[1]||"").length:0))):(h=a.substr(d+g.length).match(/^[^\s]+(\s*)/))&&(g+=h[0].substr(0,h[0].length-(c?0:(h[1]||"").length))),f+=g,(d+=g.length)<e&&(f+="\r\n")}return f},splitMimeEncodedString:(a,b)=>{let c,d,e,f,g=[];for(b=Math.max(b||0,12);a.length;){for((d=(c=a.substr(0,b)).match(/[=][0-9A-F]?$/i))&&(c=c.substr(0,d.index)),f=!1;!f;)f=!0,(d=a.substr(c.length).match(/^[=]([0-9A-F]{2})/i))&&(e=parseInt(d[1],16))<194&&e>127&&(c=c.substr(0,c.length-3),f=!1);c.length&&g.push(c),a=a.substr(c.length)}return g},encodeURICharComponent:a=>{let b="",c=a.charCodeAt(0).toString(16).toUpperCase();if(c.length%2&&(c="0"+c),c.length>2)for(let a=0,d=c.length/2;a<d;a++)b+="%"+c.substr(a,2);else b+="%"+c;return b},safeEncodeURIComponent(a){a=(a||"").toString();try{a=encodeURIComponent(a)}catch(b){return a.replace(/[^\x00-\x1F *'()<>@,;:\\"[\]?=\u007F-\uFFFF]+/g,"")}return a.replace(/[\x00-\x1F *'()<>@,;:\\"[\]?=\u007F-\uFFFF]/g,a=>this.encodeURICharComponent(a))}}},1573:a=>{"use strict";var b=function(a){return c(a)&&!d(a)};function c(a){return!!a&&"object"==typeof a}function d(a){var b=Object.prototype.toString.call(a);return"[object RegExp]"===b||"[object Date]"===b||f(a)}var e="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function f(a){return a.$$typeof===e}function g(a){return Array.isArray(a)?[]:{}}function h(a,b){return!1!==b.clone&&b.isMergeableObject(a)?q(g(a),a,b):a}function i(a,b,c){return a.concat(b).map(function(a){return h(a,c)})}function j(a,b){if(!b.customMerge)return q;var c=b.customMerge(a);return"function"==typeof c?c:q}function k(a){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(a).filter(function(b){return Object.propertyIsEnumerable.call(a,b)}):[]}function l(a){return Object.keys(a).concat(k(a))}function m(a,b){try{return b in a}catch(a){return!1}}function o(a,b){return m(a,b)&&!(Object.hasOwnProperty.call(a,b)&&Object.propertyIsEnumerable.call(a,b))}function p(a,b,c){var d={};return c.isMergeableObject(a)&&l(a).forEach(function(b){d[b]=h(a[b],c)}),l(b).forEach(function(e){o(a,e)||(m(a,e)&&c.isMergeableObject(b[e])?d[e]=j(e,c)(a[e],b[e],c):d[e]=h(b[e],c))}),d}function q(a,c,d){(d=d||{}).arrayMerge=d.arrayMerge||i,d.isMergeableObject=d.isMergeableObject||b,d.cloneUnlessOtherwiseSpecified=h;var e=Array.isArray(c);return e!==Array.isArray(a)?h(c,d):e?d.arrayMerge(a,c,d):p(a,c,d)}q.all=function(a,b){if(!Array.isArray(a))throw Error("first argument should be an array");return a.reduce(function(a,c){return q(a,c,b)},{})},a.exports=q},1575:(a,b,c)=>{"use strict";let d=c(85558),{cursor:e}=c(40821),f=c(63190),{clear:g,figures:h,style:i,wrap:j,entriesToDisplay:k}=c(78339);class l extends f{constructor(a={}){super(a),this.msg=a.message,this.cursor=a.cursor||0,this.scrollIndex=a.cursor||0,this.hint=a.hint||"",this.warn=a.warn||"- This option is disabled -",this.minSelected=a.min,this.showMinError=!1,this.maxChoices=a.max,this.instructions=a.instructions,this.optionsPerPage=a.optionsPerPage||10,this.value=a.choices.map((a,b)=>("string"==typeof a&&(a={title:a,value:b}),{title:a&&(a.title||a.value||a),description:a&&a.description,value:a&&(void 0===a.value?b:a.value),selected:a&&a.selected,disabled:a&&a.disabled})),this.clear=g("",this.out.columns),a.overrideRender||this.render()}reset(){this.value.map(a=>!a.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(a=>a.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){let a=this.value.filter(a=>a.selected);this.minSelected&&a.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(a=>a.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let a=this.value[this.cursor];if(a.selected)a.selected=!1,this.render();else{if(a.disabled||this.value.filter(a=>a.selected).length>=this.maxChoices)return this.bell();a.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();let a=!this.value[this.cursor].selected;this.value.filter(a=>!a.disabled).forEach(b=>b.selected=a),this.render()}_(a,b){if(" "===a)this.handleSpaceToggle();else{if("a"!==a)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`
Instructions:
    ${h.arrowUp}/${h.arrowDown}: Highlight option
    ${h.arrowLeft}/${h.arrowRight}/[space]: Toggle selection
`+(void 0===this.maxChoices?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(a,b,c,e){let f,g,i=(b.selected?d.green(h.radioOn):h.radioOff)+" "+e+" ";return b.disabled?f=a===c?d.gray().underline(b.title):d.strikethrough().gray(b.title):(f=a===c?d.cyan().underline(b.title):b.title,a===c&&b.description&&(g=` - ${b.description}`,(i.length+f.length+g.length>=this.out.columns||b.description.split(/\r?\n/).length>1)&&(g="\n"+j(b.description,{margin:i.length,width:this.out.columns})))),i+f+d.gray(g||"")}paginateOptions(a){if(0===a.length)return d.red("No matches for this query.");let{startIndex:b,endIndex:c}=k(this.cursor,a.length,this.optionsPerPage),e,f=[];for(let d=b;d<c;d++)e=d===b&&b>0?h.arrowUp:d===c-1&&c<a.length?h.arrowDown:" ",f.push(this.renderOption(this.cursor,a[d],d,e));return"\n"+f.join("\n")}renderOptions(a){return this.done?"":this.paginateOptions(a)}renderDoneOrInstructions(){if(this.done)return this.value.filter(a=>a.selected).map(a=>a.title).join(", ");let a=[d.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&a.push(d.yellow(this.warn)),a.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let a=[i.symbol(this.done,this.aborted),d.bold(this.msg),i.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(a+=d.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),a+=this.renderOptions(this.value),this.out.write(this.clear+a),this.clear=g(a,this.out.columns)}}a.exports=l},1594:(a,b,c)=>{"use strict";let d=c(81350),{parseCacheControlHeader:e,parseVaryHeader:f,isEtagUsable:g}=c(9365),{parseHttpDate:h}=c(21879);function i(){}let j=[200,203,204,206,300,301,308,404,405,410,414,501],k=2147483647e3;class l{#b;#c;#d;#e;#a;#f;constructor({store:a,type:b,cacheByDefault:c},d,e){this.#e=a,this.#c=b,this.#d=c,this.#b=d,this.#a=e}onRequestStart(a,b){this.#f?.destroy(),this.#f=void 0,this.#a.onRequestStart?.(a,b)}onRequestUpgrade(a,b,c,d){this.#a.onRequestUpgrade?.(a,b,c,d)}onResponseStart(a,b,c,l){let s,t=()=>this.#a.onResponseStart?.(a,b,c,l);if(!d.safeHTTPMethods.includes(this.#b.method)&&b>=200&&b<=399){try{this.#e.delete(this.#b)?.catch?.(i)}catch{}return t()}let u=c["cache-control"],v=c["last-modified"]&&j.includes(b);if(!u&&!c.expires&&!v&&!this.#d)return t();let w=u?e(u):{};if(!m(this.#c,b,c,w))return t();let x=Date.now(),y=c.age?o(c.age):void 0;if(y&&y>=k)return t();let z="string"==typeof c.date?h(c.date):void 0,A=p(this.#c,x,y,c,z,w)??this.#d;if(void 0===A||y&&y>A)return t();let B=z?z.getTime():x,C=A+B;if(x>=C||this.#b.headers&&c.vary&&!(s=f(c.vary,this.#b.headers)))return t();let D=q(B,w,C),E={statusCode:b,statusMessage:l,headers:r(c,w),vary:s,cacheControlDirectives:w,cachedAt:y?x-y:x,staleAt:C,deleteAt:D};if("string"==typeof c.etag&&g(c.etag)&&(E.etag=c.etag),this.#f=this.#e.createWriteStream(this.#b,E),!this.#f)return t();let F=this;return this.#f.on("drain",()=>a.resume()).on("error",function(){F.#f=void 0,F.#e.delete(F.#b)}).on("close",function(){F.#f===this&&(F.#f=void 0),a.resume()}),t()}onResponseData(a,b){this.#f?.write(b)===!1&&a.pause(),this.#a.onResponseData?.(a,b)}onResponseEnd(a,b){this.#f?.end(),this.#a.onResponseEnd?.(a,b)}onResponseError(a,b){this.#f?.destroy(b),this.#f=void 0,this.#a.onResponseError?.(a,b)}}function m(a,b,c,d){return!(200!==b&&307!==b||d["no-store"]||"shared"===a&&!0===d.private||c.vary?.includes("*")||c.authorization&&(!d.public||"string"!=typeof c.authorization||Array.isArray(d["no-cache"])&&d["no-cache"].includes("authorization")||Array.isArray(d.private)&&d.private.includes("authorization")))&&!0}function o(a){let b=parseInt(Array.isArray(a)?a[0]:a);return isNaN(b)?void 0:1e3*b}function p(a,b,c,d,e,f){if("shared"===a){let a=f["s-maxage"];if(void 0!==a)return a>0?1e3*a:void 0}let g=f["max-age"];if(void 0!==g)return g>0?1e3*g:void 0;if("string"==typeof d.expires){let a=h(d.expires);if(a){if(b>=a.getTime()||e&&(e>=a||void 0!==c&&c>a-e))return;return a.getTime()-b}}if("string"==typeof d["last-modified"]){let a=new Date(d["last-modified"]);if(s(a)){if(a.getTime()>=b)return;return .1*(b-a.getTime())}}if(f.immutable)return 31536e3}function q(a,b,c){let d=-1/0,e=-1/0,f=-1/0;return b["stale-while-revalidate"]&&(d=c+1e3*b["stale-while-revalidate"]),b["stale-if-error"]&&(e=c+1e3*b["stale-if-error"]),d===-1/0&&e===-1/0&&(f=a+31536e6),Math.max(c,d,e,f)}function r(a,b){let c,d=["connection","proxy-authenticate","proxy-authentication-info","proxy-authorization","proxy-connection","te","transfer-encoding","upgrade","age"];for(let e of(a.connection&&(Array.isArray(a.connection)?d.push(...a.connection.map(a=>a.trim())):d.push(...a.connection.split(",").map(a=>a.trim()))),Array.isArray(b["no-cache"])&&d.push(...b["no-cache"]),Array.isArray(b.private)&&d.push(...b.private),d))a[e]&&(c??={...a},delete c[e]);return c??a}function s(a){return a instanceof Date&&Number.isFinite(a.valueOf())}a.exports=l},1641:(a,b,c)=>{"use strict";let d=c(63590);class e extends d{constructor(a={}){super(a)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(a){this.date.setMilliseconds(parseInt(a.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}a.exports=e},1730:(a,b,c)=>{"use strict";let d=c(27910).Transform,e=c(55511);class f extends d{constructor(a){super(),a=a||{},this.chunkBuffer=[],this.chunkBufferLen=0,this.bodyHash=e.createHash(a.hashAlgo||"sha1"),this.remainder="",this.byteLength=0,this.debug=a.debug,this._debugBody=!!a.debug&&[]}updateHash(a){let b,c="",d="file";for(let b=a.length-1;b>=0;b--){let e=a[b];if("file"===d&&(10===e||13===e));else if("file"===d&&(9===e||32===e))d="line";else if("line"===d&&(9===e||32===e));else if(("file"===d||"line"===d)&&(d="body",b===a.length-1))break;if(0===b){if("file"===d&&(!this.remainder||/[\r\n]$/.test(this.remainder))||"line"===d&&(!this.remainder||/[ \t]$/.test(this.remainder))){this.remainder+=a.toString("binary");return}else if("line"===d||"file"===d){c=a.toString("binary"),a=!1;break}}if("body"===d){c=a.slice(b+1).toString("binary"),a=a.slice(0,b+1);break}}let e=!!this.remainder;if(a&&!e){for(let b=0,c=a.length;b<c;b++)if(b&&10===a[b]&&13!==a[b-1]){e=!0;break}else if(b&&13===a[b]&&32===a[b-1]){e=!0;break}else if(b&&32===a[b]&&32===a[b-1]){e=!0;break}else if(9===a[b]){e=!0;break}}e?(b=this.remainder+(a?a.toString("binary"):""),this.remainder=c,b=b.replace(/\r?\n/g,"\n").replace(/[ \t]*$/gm,"").replace(/[ \t]+/gm," ").replace(/\n/g,"\r\n"),a=Buffer.from(b,"binary")):c&&(this.remainder=c),this.debug&&this._debugBody.push(a),this.bodyHash.update(a)}_transform(a,b,c){if(!a||!a.length)return c();"string"==typeof a&&(a=Buffer.from(a,b)),this.updateHash(a),this.byteLength+=a.length,this.push(a),c()}_flush(a){/[\r\n]$/.test(this.remainder)&&this.byteLength>2&&this.bodyHash.update(Buffer.from("\r\n")),this.byteLength||this.push(Buffer.from("\r\n")),this.emit("hash",this.bodyHash.digest("base64"),!!this.debug&&Buffer.concat(this._debugBody)),a()}}a.exports=f},1733:(a,b,c)=>{"use strict";let{InvalidArgumentError:d,NotSupportedError:e}=c(64737),f=c(34589),{isValidHTTPToken:g,isValidHeaderValue:h,isStream:i,destroy:j,isBuffer:k,isFormDataLike:l,isIterable:m,isBlobLike:o,serializePathWithQuery:p,assertRequestHandler:q,getServerName:r,normalizedMethodRecords:s}=c(81350),{channels:t}=c(84372),{headerNameLowerCasedRecord:u}=c(46221),v=/[^\u0021-\u00ff]/,w=Symbol("handler");class x{constructor(a,{path:b,method:c,body:e,headers:f,query:h,idempotent:u,blocking:x,upgrade:z,headersTimeout:A,bodyTimeout:B,reset:C,expectContinue:D,servername:E,throwOnError:F},G){if("string"!=typeof b)throw new d("path must be a string");if("/"===b[0]||b.startsWith("http://")||b.startsWith("https://")||"CONNECT"===c){if(v.test(b))throw new d("invalid request path")}else throw new d("path must be an absolute URL or start with a slash");if("string"!=typeof c)throw new d("method must be a string");if(void 0===s[c]&&!g(c))throw new d("invalid request method");if(z&&"string"!=typeof z)throw new d("upgrade must be a string");if(null!=A&&(!Number.isFinite(A)||A<0))throw new d("invalid headersTimeout");if(null!=B&&(!Number.isFinite(B)||B<0))throw new d("invalid bodyTimeout");if(null!=C&&"boolean"!=typeof C)throw new d("invalid reset");if(null!=D&&"boolean"!=typeof D)throw new d("invalid expectContinue");if(null!=F)throw new d("invalid throwOnError");if(this.headersTimeout=A,this.bodyTimeout=B,this.method=c,this.abort=null,null==e)this.body=null;else if(i(e)){this.body=e;let a=this.body._readableState;a&&a.autoDestroy||(this.endHandler=function(){j(this)},this.body.on("end",this.endHandler)),this.errorHandler=a=>{this.abort?this.abort(a):this.error=a},this.body.on("error",this.errorHandler)}else if(k(e))this.body=e.byteLength?e:null;else if(ArrayBuffer.isView(e))this.body=e.buffer.byteLength?Buffer.from(e.buffer,e.byteOffset,e.byteLength):null;else if(e instanceof ArrayBuffer)this.body=e.byteLength?Buffer.from(e):null;else if("string"==typeof e)this.body=e.length?Buffer.from(e):null;else if(l(e)||m(e)||o(e))this.body=e;else throw new d("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=z||null,this.path=h?p(b,h):b,this.origin=a,this.idempotent=null==u?"HEAD"===c||"GET"===c:u,this.blocking=x??"HEAD"!==this.method,this.reset=null==C?null:C,this.host=null,this.contentLength=null,this.contentType=null,this.headers=[],this.expectContinue=null!=D&&D,Array.isArray(f)){if(f.length%2!=0)throw new d("headers array must be even");for(let a=0;a<f.length;a+=2)y(this,f[a],f[a+1])}else if(f&&"object"==typeof f)if(f[Symbol.iterator])for(let a of f){if(!Array.isArray(a)||2!==a.length)throw new d("headers must be in key-value pair format");y(this,a[0],a[1])}else{let a=Object.keys(f);for(let b=0;b<a.length;++b)y(this,a[b],f[a[b]])}else if(null!=f)throw new d("headers must be an object or an array");q(G,c,z),this.servername=E||r(this.host)||null,this[w]=G,t.create.hasSubscribers&&t.create.publish({request:this})}onBodySent(a){if(this[w].onBodySent)try{return this[w].onBodySent(a)}catch(a){this.abort(a)}}onRequestSent(){if(t.bodySent.hasSubscribers&&t.bodySent.publish({request:this}),this[w].onRequestSent)try{return this[w].onRequestSent()}catch(a){this.abort(a)}}onConnect(a){if(f(!this.aborted),f(!this.completed),!this.error)return this.abort=a,this[w].onConnect(a);a(this.error)}onResponseStarted(){return this[w].onResponseStarted?.()}onHeaders(a,b,c,d){f(!this.aborted),f(!this.completed),t.headers.hasSubscribers&&t.headers.publish({request:this,response:{statusCode:a,headers:b,statusText:d}});try{return this[w].onHeaders(a,b,c,d)}catch(a){this.abort(a)}}onData(a){f(!this.aborted),f(!this.completed);try{return this[w].onData(a)}catch(a){return this.abort(a),!1}}onUpgrade(a,b,c){return f(!this.aborted),f(!this.completed),this[w].onUpgrade(a,b,c)}onComplete(a){this.onFinally(),f(!this.aborted),f(!this.completed),this.completed=!0,t.trailers.hasSubscribers&&t.trailers.publish({request:this,trailers:a});try{return this[w].onComplete(a)}catch(a){this.onError(a)}}onError(a){if(this.onFinally(),t.error.hasSubscribers&&t.error.publish({request:this,error:a}),!this.aborted)return this.aborted=!0,this[w].onError(a)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(a,b){return y(this,a,b),this}}function y(a,b,c){if(c&&"object"==typeof c&&!Array.isArray(c))throw new d(`invalid ${b} header`);if(void 0===c)return;let f=u[b];if(void 0===f&&void 0===u[f=b.toLowerCase()]&&!g(f))throw new d("invalid header key");if(Array.isArray(c)){let a=[];for(let e=0;e<c.length;e++)if("string"==typeof c[e]){if(!h(c[e]))throw new d(`invalid ${b} header`);a.push(c[e])}else if(null===c[e])a.push("");else if("object"==typeof c[e])throw new d(`invalid ${b} header`);else a.push(`${c[e]}`);c=a}else if("string"==typeof c){if(!h(c))throw new d(`invalid ${b} header`)}else c=null===c?"":`${c}`;if(null===a.host&&"host"===f){if("string"!=typeof c)throw new d("invalid host header");a.host=c}else if(null===a.contentLength&&"content-length"===f){if(a.contentLength=parseInt(c,10),!Number.isFinite(a.contentLength))throw new d("invalid content-length header")}else if(null===a.contentType&&"content-type"===f)a.contentType=c,a.headers.push(b,c);else if("transfer-encoding"===f||"keep-alive"===f||"upgrade"===f)throw new d(`invalid ${f} header`);else if("connection"===f){let b="string"==typeof c?c.toLowerCase():null;if("close"!==b&&"keep-alive"!==b)throw new d("invalid connection header");"close"===b&&(a.reset=!0)}else if("expect"===f)throw new e("expect header not supported");else a.headers.push(b,c)}a.exports=x},1948:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(75624);class e extends Error{constructor(a,b,c,e){super(e||`can't resolve reference ${c} from id ${b}`),this.missingRef=(0,d.resolveUrl)(a,b,c),this.missingSchema=(0,d.normalizeId)((0,d.getFullPath)(a,this.missingRef))}}b.default=e},1953:(a,b,c)=>{"use strict";c.d(b,{r:()=>d});let d=a=>"string"==typeof a||"number"==typeof a?a:a.id},2153:(a,b,c)=>{"use strict";let d=c(91513);class e extends d{constructor(a={}){super(a)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(a){this.date.setHours(parseInt(a.substr(-2)))}toString(){let a=this.date.getHours();return/h/.test(this.token)&&(a=a%12||12),this.token.length>1?String(a).padStart(2,"0"):a}}a.exports=e},2426:a=>{"use strict";var b=1e6;a.exports=function(a){var c,d,e,f,g,h,i=a.readInt32BE(0),j=a.readUInt32BE(4),k="";i<0&&(i=~i+(0===j),j=~j+1>>>0,k="-");var l="";if(c=i%b,i=i/b>>>0,j=(d=0x100000000*c+j)/b>>>0,e=""+(d-b*j),0===j&&0===i)return k+e+l;for(h=0,f="",g=6-e.length;h<g;h++)f+="0";if(l=f+e+l,c=i%b,i=i/b>>>0,j=(d=0x100000000*c+j)/b>>>0,e=""+(d-b*j),0===j&&0===i)return k+e+l;for(h=0,f="",g=6-e.length;h<g;h++)f+="0";if(l=f+e+l,c=i%b,i=i/b>>>0,j=(d=0x100000000*c+j)/b>>>0,e=""+(d-b*j),0===j&&0===i)return k+e+l;for(h=0,f="",g=6-e.length;h<g;h++)f+="0";return l=f+e+l,k+(e=""+(d=0x100000000*(c=i%b)+j)%b)+l}},2539:(a,b,c)=>{"use strict";c.d(b,{m:()=>h});var d=c(33576),e=c(65540),f=c(898);let g=async({blockData:a,collection:b,context:c,data:g,doc:i,field:j,fieldIndex:k,global:l,operation:m,parentIndexPath:o,parentIsLocalized:p,parentPath:q,parentSchemaPath:r,previousDoc:s,previousSiblingDoc:t,req:u,siblingData:v,siblingDoc:w,siblingFields:x})=>{let{indexPath:y,path:z,schemaPath:A}=(0,f.I)({field:j,index:k,parentIndexPath:o,parentPath:q,parentSchemaPath:r}),B=z?z.split("."):[],C=A?A.split("."):[],D=y?y.split("-").filter(Boolean)?.map(Number):[],E=(a,b)=>b.reduce((a,b)=>a&&void 0!==a[b]?a[b]:void 0,a),F=t&&Object.keys(t).length>0?t:s;if((0,e.Z7)(j)&&"hooks"in j&&j.hooks?.afterChange)for(let d of j.hooks.afterChange){let e=await d({blockData:a,collection:b,context:c,data:g,field:j,global:l,indexPath:D,operation:m,originalDoc:i,path:B,previousDoc:s,previousSiblingDoc:t,previousValue:E(F,B)??F?.[j.name],req:u,schemaPath:C,siblingData:v,siblingFields:x,value:E(w,B)??w?.[j.name]});void 0!==e&&(w[j.name]=e)}switch(j.type){case"array":{let d=w[j.name];if(Array.isArray(d)){let e=[];d.forEach((d,f)=>{e.push(h({blockData:a,collection:b,context:c,data:g,doc:i,fields:j.fields,global:l,operation:m,parentIndexPath:"",parentIsLocalized:p||j.localized,parentPath:z+"."+f,parentSchemaPath:A,previousDoc:s,previousSiblingDoc:s?.[j.name]?.[f]||{},req:u,siblingData:v?.[j.name]?.[f]||{},siblingDoc:d?{...d}:{}}))}),await Promise.all(e)}break}case"blocks":{let a=w[j.name];if(Array.isArray(a)){let d=[];a.forEach((a,e)=>{let f=a.blockType,k=u.payload.blocks[f]??(j.blockReferences??j.blocks).find(a=>"string"!=typeof a&&a.slug===f);k&&d.push(h({blockData:v?.[j.name]?.[e],collection:b,context:c,data:g,doc:i,fields:k.fields,global:l,operation:m,parentIndexPath:"",parentIsLocalized:p||j.localized,parentPath:z+"."+e,parentSchemaPath:A+"."+k.slug,previousDoc:s,previousSiblingDoc:F?.[j.name]?.[e]||{},req:u,siblingData:v?.[j.name]?.[e]||{},siblingDoc:a?{...a}:{}}))}),await Promise.all(d)}break}case"collapsible":case"row":await h({blockData:a,collection:b,context:c,data:g,doc:i,fields:j.fields,global:l,operation:m,parentIndexPath:y,parentIsLocalized:p,parentPath:q,parentSchemaPath:A,previousDoc:s,previousSiblingDoc:{...t},req:u,siblingData:v||{},siblingDoc:{...w}});break;case"group":(0,e.Z7)(j)?await h({blockData:a,collection:b,context:c,data:g,doc:i,fields:j.fields,global:l,operation:m,parentIndexPath:"",parentIsLocalized:p||j.localized,parentPath:z,parentSchemaPath:A,previousDoc:s,previousSiblingDoc:s?.[j.name]||{},req:u,siblingData:v?.[j.name]||{},siblingDoc:w?.[j.name]||{}}):await h({blockData:a,collection:b,context:c,data:g,doc:i,fields:j.fields,global:l,operation:m,parentIndexPath:y,parentIsLocalized:p,parentPath:q,parentSchemaPath:A,previousDoc:s,previousSiblingDoc:{...t},req:u,siblingData:v||{},siblingDoc:{...w}});break;case"richText":{if(!j?.editor)throw new d.X(j);if("function"==typeof j.editor)throw Error("Attempted to access unsanitized rich text editor.");let a=j.editor;if(a?.hooks?.afterChange?.length)for(let d of a.hooks.afterChange){let a=await d({collection:b,context:c,data:g,field:j,global:l,indexPath:D,operation:m,originalDoc:i,parentIsLocalized:p,path:B,previousDoc:s,previousSiblingDoc:t,previousValue:s?.[j.name],req:u,schemaPath:C,siblingData:v,value:w?.[j.name]});void 0!==a&&(w[j.name]=a)}break}case"tab":{let d=v,f=w,k=w,o=(0,e.pz)(j);o&&(d=v?.[j.name]??{},f=w?.[j.name]??{},k=s?.[j.name]??{}),await h({blockData:a,collection:b,context:c,data:g,doc:i,fields:j.fields,global:l,operation:m,parentIndexPath:o?"":y,parentIsLocalized:p||j.localized,parentPath:o?z:q,parentSchemaPath:A,previousDoc:s,previousSiblingDoc:k,req:u,siblingData:d,siblingDoc:f});break}case"tabs":await h({blockData:a,collection:b,context:c,data:g,doc:i,fields:j.tabs.map(a=>({...a,type:"tab"})),global:l,operation:m,parentIndexPath:y,parentIsLocalized:p,parentPath:z,parentSchemaPath:A,previousDoc:s,previousSiblingDoc:{...t},req:u,siblingData:v||{},siblingDoc:{...w}})}},h=async({blockData:a,collection:b,context:c,data:d,doc:e,fields:f,global:h,operation:i,parentIndexPath:j,parentIsLocalized:k,parentPath:l,parentSchemaPath:m,previousDoc:o,previousSiblingDoc:p,req:q,siblingData:r,siblingDoc:s,siblingFields:t})=>{let u=[];f.forEach((f,v)=>{u.push(g({blockData:a,collection:b,context:c,data:d,doc:e,field:f,fieldIndex:v,global:h,operation:i,parentIndexPath:j,parentIsLocalized:k,parentPath:l,parentSchemaPath:m,previousDoc:o,previousSiblingDoc:p,req:q,siblingData:r,siblingDoc:s,siblingFields:t}))}),await Promise.all(u)}},2689:(a,b,c)=>{"use strict";c.d(b,{qf:()=>aT});var d=c(61302),e=c(2539),f=c(687),g=c(97238),h=c(92768),i=c(6955);let j={ar:{placeholder:"     '/'  ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},az:{placeholder:"Yazmaa balayn v ya mrlr \xfc\xe7\xfcn '/' d\xfcymsini basn...",slashMenuBasicGroupLabel:"sas",slashMenuListGroupLabel:"Siyahlar",toolbarItemsActive:"{{count}} aktiv"},bg:{placeholder:"     '/'  ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},cs:{placeholder:"Zante ps\xe1t nebo stisknte '/' pro p\xedkazy...",slashMenuBasicGroupLabel:"Z\xe1kladn\xed",slashMenuListGroupLabel:"Seznamy",toolbarItemsActive:"{{count}} aktivn\xed"},da:{placeholder:"Begynd at skrive, eller tryk p\xe5 '/' for kommandoer...",slashMenuBasicGroupLabel:"Grundl\xe6ggende",slashMenuListGroupLabel:"Lister",toolbarItemsActive:"{{count}} aktive"},de:{placeholder:"Beginne zu tippen oder dr\xfccke '/' f\xfcr Befehle...",slashMenuBasicGroupLabel:"Basis",slashMenuListGroupLabel:"Listen",toolbarItemsActive:"{{count}} aktiv"},en:{placeholder:"Start typing, or press '/' for commands...",slashMenuBasicGroupLabel:"Basic",slashMenuListGroupLabel:"Lists",toolbarItemsActive:"{{count}} active"},es:{placeholder:"Comience a escribir, o presione '/' para comandos...",slashMenuBasicGroupLabel:"B\xe1sico",slashMenuListGroupLabel:"Listas",toolbarItemsActive:"{{count}} activo"},et:{placeholder:"Alusta kirjutamist v\xf5i vajuta '/' k\xe4skude jaoks...",slashMenuBasicGroupLabel:"P\xf5hiline",slashMenuListGroupLabel:"Loendid",toolbarItemsActive:"{{count}} aktiivne"},fa:{placeholder:"       '/'    ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:" ",toolbarItemsActive:"{{count}} "},fr:{placeholder:"Commencez \xe0 taper, ou appuyez sur '/' pour les commandes...",slashMenuBasicGroupLabel:"De base",slashMenuListGroupLabel:"Listes",toolbarItemsActive:"{{count}} actif"},he:{placeholder:" ,    '/'   ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},hr:{placeholder:"Ponite tipkati, ili pritisnite '/' za naredbe...",slashMenuBasicGroupLabel:"Osnovno",slashMenuListGroupLabel:"Popisi",toolbarItemsActive:"{{count}} aktivno"},hu:{placeholder:"Kezdje el g\xe9pelni, vagy nyomja meg a '/' billentyt a parancsokhoz...",slashMenuBasicGroupLabel:"Alapvet",slashMenuListGroupLabel:"List\xe1k",toolbarItemsActive:"{{count}} akt\xedv"},is:{placeholder:"Byrja\xf0u a\xf0 skrifa e\xf0a sl\xe1\xf0u inn '/' fyrir skipanir...",slashMenuBasicGroupLabel:"Grunnur",slashMenuListGroupLabel:"Listar",toolbarItemsActive:"{{count}} virk"},it:{placeholder:"Inizia a digitare, oppure premi '/' per i comandi...",slashMenuBasicGroupLabel:"Base",slashMenuListGroupLabel:"Elenchi",toolbarItemsActive:"{{count}} attivo"},ja:{placeholder:"'/'",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},ko:{placeholder:" ,   '/' ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},my:{placeholder:"Mula menaip, atau tekan '/' untuk arahan...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"Senarai",toolbarItemsActive:"{{count}} aktif"},nb:{placeholder:"Begynn \xe5 skrive, eller trykk '/' for kommandoer...",slashMenuBasicGroupLabel:"Grunnleggende",slashMenuListGroupLabel:"Lister",toolbarItemsActive:"{{count}} aktiv"},nl:{placeholder:"Begin met typen, of druk op '/' voor opdrachten...",slashMenuBasicGroupLabel:"Basis",slashMenuListGroupLabel:"Lijsten",toolbarItemsActive:"{{count}} actief"},pl:{placeholder:"Rozpocznij pisanie lub nacinij '/' dla polece...",slashMenuBasicGroupLabel:"Podstawowy",slashMenuListGroupLabel:"Listy",toolbarItemsActive:"{{count}} aktywny"},pt:{placeholder:"Comece a digitar, ou pressione '/' para comandos...",slashMenuBasicGroupLabel:"B\xe1sico",slashMenuListGroupLabel:"Listas",toolbarItemsActive:"{{count}} ativo"},ro:{placeholder:"\xcencepei s tastai sau apsai '/' pentru comenzi...",slashMenuBasicGroupLabel:"De baz",slashMenuListGroupLabel:"Liste",toolbarItemsActive:"{{count}} activ"},rs:{placeholder:"  ,   '/'  ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},"rs-latin":{placeholder:"Ponite da kucate, ili pritisnite '/' za komande...",slashMenuBasicGroupLabel:"Osnovno",slashMenuListGroupLabel:"Liste",toolbarItemsActive:"{{count}} aktivan"},ru:{placeholder:"    '/'  ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},sk:{placeholder:"Zanite p\xedsa alebo stlate '/' pre pr\xedkazy...",slashMenuBasicGroupLabel:"Z\xe1kladn\xfd",slashMenuListGroupLabel:"Zoznamy",toolbarItemsActive:"{{count}} akt\xedvne"},sl:{placeholder:'Zanite tipkati ali pritisnite "/" za ukaze...',slashMenuBasicGroupLabel:"Osnovno",slashMenuListGroupLabel:"Seznami",toolbarItemsActive:"{{count}} aktivno"},sv:{placeholder:"B\xf6rja skriva, eller tryck p\xe5 '/' f\xf6r kommandon...",slashMenuBasicGroupLabel:"Grundl\xe4ggande",slashMenuListGroupLabel:"Listor",toolbarItemsActive:"{{count}} aktiv"},ta:{placeholder:" ,   '/' ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}}  "},th:{placeholder:" '/' ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},tr:{placeholder:"Yazmaya balayn veya komutlar i\xe7in '/' tuuna basn...",slashMenuBasicGroupLabel:"Temel",slashMenuListGroupLabel:"Listeler",toolbarItemsActive:"{{count}} aktif"},uk:{placeholder:" ,   '/'  ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},vi:{placeholder:"Bt u g\xf5, hoc nhn '/'  gi lnh...",slashMenuBasicGroupLabel:"C bn",slashMenuListGroupLabel:"Danh s\xe1ch",toolbarItemsActive:"{{count}} ang hot ng"},zh:{placeholder:"'/'...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},"zh-TW":{placeholder:"'/'...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "}};var k=c(78164);let l={ar:{alignCenterLabel:"  ",alignJustifyLabel:" ",alignLeftLabel:"  ",alignRightLabel:"  "},az:{alignCenterLabel:"Mrkz D\xfczlt",alignJustifyLabel:"D\xfczldin Sslndirin",alignLeftLabel:"Sola Doru Hizalama",alignRightLabel:"Saa Doru Hizalama"},bg:{alignCenterLabel:"",alignJustifyLabel:"   ",alignLeftLabel:" ",alignRightLabel:" "},cs:{alignCenterLabel:"Zarovnat na sted",alignJustifyLabel:"Zarovnat do bloku",alignLeftLabel:"Zarovnat vlevo",alignRightLabel:"Zarovnat vpravo"},da:{alignCenterLabel:"Centrer teksten",alignJustifyLabel:"Just\xe9r til begge sider",alignLeftLabel:"Just\xe9r til venstre",alignRightLabel:"Juster til h\xf8jre"},de:{alignCenterLabel:"Zentrieren",alignJustifyLabel:"Blocksatz",alignLeftLabel:"Linksb\xfcndig",alignRightLabel:"Rechtsb\xfcndig"},en:{alignCenterLabel:"Align Center",alignJustifyLabel:"Align Justify",alignLeftLabel:"Align Left",alignRightLabel:"Align Right"},es:{alignCenterLabel:"Alinear al centro",alignJustifyLabel:"Alinear Justificar",alignLeftLabel:"Alinear a la izquierda",alignRightLabel:"Alinear a la derecha"},et:{alignCenterLabel:"Keskjoondus",alignJustifyLabel:"R\xf6\xf6pjoondus",alignLeftLabel:"Vasakjoondus",alignRightLabel:"Paremjoondus"},fa:{alignCenterLabel:"  ",alignJustifyLabel:"    ",alignLeftLabel:" ",alignRightLabel:" "},fr:{alignCenterLabel:"Aligner au centre",alignJustifyLabel:"Aligner Justifier",alignLeftLabel:"Aligner \xe0 gauche",alignRightLabel:"Aligner \xe0 droite"},he:{alignCenterLabel:"",alignJustifyLabel:" -",alignLeftLabel:" ",alignRightLabel:" "},hr:{alignCenterLabel:"Poravnaj sredinje",alignJustifyLabel:"Poravnaj opravdaj",alignLeftLabel:"Poravnaj lijevo",alignRightLabel:"Poravnaj desno"},hu:{alignCenterLabel:"K\xf6z\xe9pre igaz\xedt\xe1s",alignJustifyLabel:"Igaz\xedt\xe1s Sorkiz\xe1r\xe1s",alignLeftLabel:"Igaz\xedt\xe1s balra",alignRightLabel:"Igaz\xedt\xe1s jobbra"},is:{alignCenterLabel:"Mi\xf0ju j\xf6fnun",alignJustifyLabel:"Samr\xe6md j\xf6fnun",alignLeftLabel:"Vinstri j\xf6fnun",alignRightLabel:"H\xe6gri j\xf6fnun"},it:{alignCenterLabel:"Allinea al centro",alignJustifyLabel:"Allinea Giustifica",alignLeftLabel:"Allinea a sinistra",alignRightLabel:"Allinea a destra"},ja:{alignCenterLabel:"",alignJustifyLabel:"",alignLeftLabel:"",alignRightLabel:""},ko:{alignCenterLabel:" ",alignJustifyLabel:" ",alignLeftLabel:" ",alignRightLabel:" "},my:{alignCenterLabel:"Pusat Selaras",alignJustifyLabel:"Penjajaran Justify",alignLeftLabel:"",alignRightLabel:"Penjajaran Kanan"},nb:{alignCenterLabel:"Sentrer tekst",alignJustifyLabel:"Juster linje",alignLeftLabel:"Juster til venstre",alignRightLabel:"Juster til h\xf8yre"},nl:{alignCenterLabel:"Centreer uitlijnen",alignJustifyLabel:"Uitlijnen Rechtvaardigen",alignLeftLabel:"Links uitlijnen",alignRightLabel:"Rechts uitlijnen"},pl:{alignCenterLabel:"Wyrodkuj",alignJustifyLabel:"Wyjustuj wyr\xf3wnanie",alignLeftLabel:"Wyr\xf3wnaj do lewej",alignRightLabel:"Wyr\xf3wnaj do prawej"},pt:{alignCenterLabel:"Alinhar ao Centro",alignJustifyLabel:"Alinhar Justificar",alignLeftLabel:"Alinhar \xe0 Esquerda",alignRightLabel:"Alinhar \xe0 Direita"},ro:{alignCenterLabel:"Aliniai Centrul",alignJustifyLabel:"Aliniaza Justifica",alignLeftLabel:"Aliniai la st\xe2nga",alignRightLabel:"Aliniai la dreapta"},rs:{alignCenterLabel:"  ",alignJustifyLabel:" ",alignLeftLabel:" ",alignRightLabel:" "},"rs-latin":{alignCenterLabel:"Poravnaj po sredini",alignJustifyLabel:"Poravnaj obostrano",alignLeftLabel:"Poravnaj levo",alignRightLabel:"Poravnaj desno"},ru:{alignCenterLabel:"  ",alignJustifyLabel:"  ",alignLeftLabel:"   ",alignRightLabel:"   "},sk:{alignCenterLabel:"Vycentrova",alignJustifyLabel:"Zarovna do bloku",alignLeftLabel:"Zarovna doava",alignRightLabel:"Zarovna doprava"},sl:{alignCenterLabel:"Poravnaj na sredino",alignJustifyLabel:"Poravnaj Obojestransko",alignLeftLabel:"Poravnaj na levo",alignRightLabel:"Poravnaj na desno"},sv:{alignCenterLabel:"Centrera",alignJustifyLabel:"Justera Justify",alignLeftLabel:"Justera till v\xe4nster",alignRightLabel:"Justera till h\xf6ger"},ta:{alignCenterLabel:" ",alignJustifyLabel:" ",alignLeftLabel:" ",alignRightLabel:" "},th:{alignCenterLabel:"",alignJustifyLabel:"",alignLeftLabel:"",alignRightLabel:""},tr:{alignCenterLabel:"Ortaya Hizala",alignJustifyLabel:"Hizala Yasla",alignLeftLabel:"Sola Hizala",alignRightLabel:"Saa Hizala"},uk:{alignCenterLabel:"  ",alignJustifyLabel:"  ",alignLeftLabel:"   ",alignRightLabel:"   "},vi:{alignCenterLabel:"Cn gia",alignJustifyLabel:"Cn u",alignLeftLabel:"Cn l tr\xe1i",alignRightLabel:"Cn phi"},zh:{alignCenterLabel:"",alignJustifyLabel:"",alignLeftLabel:"",alignRightLabel:""},"zh-TW":{alignCenterLabel:"",alignJustifyLabel:"",alignLeftLabel:"",alignRightLabel:""}},m=(0,k.m)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#AlignFeatureClient",i18n:l},key:"align"});var o=c(48925),p=c(44240),q=c(6722);let r={type:"element",dependencies:[o.dJ],export:(a,b)=>{if(!(0,o.jd)(a))return null;let c=b(a).split("\n"),d=[];for(let a of c)d.push("> "+a);return d.join("\n")},regExp:/^>\s/,replace:(a,b,c,d)=>{if(d){let c=a.getPreviousSibling();if((0,o.jd)(c)){c.splice(c.getChildrenSize(),0,[...b]),c.select(0,0),a.remove();return}}let e=(0,o.xi)();e.append(...b),a.replace(e),e.select(0,0)}},s={ar:{label:""},az:{label:"Blokkvota"},bg:{label:""},cs:{label:"Citace"},da:{label:"Blokering"},de:{label:"Blockzitat"},en:{label:"Blockquote"},es:{label:"Cita en bloque"},et:{label:"Tsitaat"},fa:{label:"  "},fr:{label:"Citation"},he:{label:" "},hr:{label:"Blok citat"},hu:{label:"Id\xe9zetblokk"},is:{label:"Tilvitnun"},it:{label:"Citazione"},ja:{label:""},ko:{label:""},my:{label:""},nb:{label:"Blokksitat"},nl:{label:"Citaat"},pl:{label:"Cytat blokowy"},pt:{label:"Cita\xe7\xe3o em bloco"},ro:{label:"Citat"},rs:{label:" "},"rs-latin":{label:"Blok citata"},ru:{label:""},sk:{label:"Cit\xe1t"},sl:{label:"Citat"},sv:{label:"Blockcitat"},ta:{label:" "},th:{label:""},tr:{label:"Alnt"},uk:{label:""},vi:{label:"Tr\xedch dn"},zh:{label:""},"zh-TW":{label:""}},t=(0,k.m)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#BlockquoteFeatureClient",clientFeatureProps:null,i18n:s,markdownTransformers:[r],nodes:[(0,q.R)({converters:{html:{converter:async({converters:a,currentDepth:b,depth:c,draft:d,node:e,overrideAccess:f,parent:g,req:h,showHiddenFields:i})=>{let j=await (0,p.D)({converters:a,currentDepth:b,depth:c,draft:d,lexicalNodes:e.children,overrideAccess:f,parent:{...e,parent:g},req:h,showHiddenFields:i}),k=[e.format?`text-align: ${e.format};`:"",e.indent>0?`padding-inline-start: ${40*e.indent}px;`:""].filter(Boolean).join(" ");return`<blockquote${k?` style='${k}'`:""}>${j}</blockquote>`},nodeTypes:[o.dJ.getType()]}},node:o.dJ})]},key:"blockquote"});var u=c(50100);let v={type:"text-format",format:["code"],tag:"`"},w=(0,k.m)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#InlineCodeFeatureClient",markdownTransformers:[v]},key:"inlineCode"});var x=c(87995);let y={type:"text-format",format:["strikethrough"],tag:"~~"},z=(0,k.m)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#StrikethroughFeatureClient",markdownTransformers:[y]},key:"strikethrough"}),A=(0,k.m)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#SubscriptFeatureClient"},key:"subscript"}),B=(0,k.m)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#SuperscriptFeatureClient"},key:"superscript"});var C=c(45388),D=c(43918),E=c(72218);let F={ar:{decreaseLabel:"  ",increaseLabel:"  "},az:{decreaseLabel:"nterval Azaltn",increaseLabel:"Girintiyi Artrn"},bg:{decreaseLabel:" ",increaseLabel:" "},cs:{decreaseLabel:"Zmenit odsazen\xed",increaseLabel:"Zvtit odsazen\xed"},da:{decreaseLabel:"Reducer Indrykning",increaseLabel:"For\xf8g indrykning"},de:{decreaseLabel:"Einzug verkleinern",increaseLabel:"Einzug erh\xf6hen"},en:{decreaseLabel:"Decrease Indent",increaseLabel:"Increase Indent"},es:{decreaseLabel:"Disminuir Sangr\xeda",increaseLabel:"Aumentar Sangr\xeda"},et:{decreaseLabel:"Taande v\xe4hendamine",increaseLabel:"Taande suurendamine"},fa:{decreaseLabel:" ",increaseLabel:" "},fr:{decreaseLabel:"Diminuer l'indentation",increaseLabel:"Augmenter l'indentation"},he:{decreaseLabel:" ",increaseLabel:" "},hr:{decreaseLabel:"Smanji uvlaenje",increaseLabel:"Poveaj uvlaenje"},hu:{decreaseLabel:"Cs\xf6kkentse a beh\xfaz\xe1st",increaseLabel:"Beh\xfaz\xe1s n\xf6vel\xe9se"},is:{decreaseLabel:"Minnka inndr\xe1tt",increaseLabel:"Auka inndr\xe1tt"},it:{decreaseLabel:"Diminuisci rientro",increaseLabel:"Aumenta Rientro"},ja:{decreaseLabel:"",increaseLabel:""},ko:{decreaseLabel:" ",increaseLabel:" "},my:{decreaseLabel:"Kurangkan Inden",increaseLabel:"Tingkatkan Inden"},nb:{decreaseLabel:"Reduser innrykk",increaseLabel:"\xd8ke innrykk"},nl:{decreaseLabel:"Verminder Inspringing",increaseLabel:"Inspring verhogen"},pl:{decreaseLabel:"Zmniejsz wcicie",increaseLabel:"Zwiksz wcicie"},pt:{decreaseLabel:"Diminuir recuo",increaseLabel:"Aumentar Indenta\xe7\xe3o"},ro:{decreaseLabel:"Reducere indentare",increaseLabel:"Crete indentarea"},rs:{decreaseLabel:" ",increaseLabel:" "},"rs-latin":{decreaseLabel:"Smanji uvlaenje",increaseLabel:"Poveaj uvlaenje"},ru:{decreaseLabel:" ",increaseLabel:" "},sk:{decreaseLabel:"Zn\xedi odsadenie",increaseLabel:"Zv\xe4i odsadenie"},sl:{decreaseLabel:"Zmanjaj zamik",increaseLabel:"Poveaj zamik"},sv:{decreaseLabel:"Minska indrag",increaseLabel:"\xd6ka indrag"},ta:{decreaseLabel:"  ",increaseLabel:"  "},th:{decreaseLabel:"",increaseLabel:""},tr:{decreaseLabel:"Girintiyi Azalt",increaseLabel:"Girintiyi Artr"},uk:{decreaseLabel:" ",increaseLabel:" "},vi:{decreaseLabel:"Gim l",increaseLabel:"Tng l"},zh:{decreaseLabel:"",increaseLabel:""},"zh-TW":{decreaseLabel:"",increaseLabel:""}},G=(0,k.m)({feature:({props:a})=>({ClientFeature:"@payloadcms/richtext-lexical/client#IndentFeatureClient",clientFeatureProps:a,i18n:F}),key:"indent"});var H=c(79936),I=c(16717),J=c(29006);let K={converter:async({converters:a,currentDepth:b,depth:c,draft:d,node:e,overrideAccess:f,parent:g,req:h,showHiddenFields:i})=>{let j=await (0,p.D)({converters:a,currentDepth:b,depth:c,draft:d,lexicalNodes:e.children,overrideAccess:f,parent:{...e,parent:g},req:h,showHiddenFields:i});return`<${e?.tag} class="list-${e?.listType}">${j}</${e?.tag}>`},nodeTypes:[I.v5.getType()]},L={converter:async({converters:a,currentDepth:b,depth:c,draft:d,node:e,overrideAccess:f,parent:g,req:h,showHiddenFields:i})=>{let j=e.children.some(a=>"list"===a.type),k=await (0,p.D)({converters:a,currentDepth:b,depth:c,draft:d,lexicalNodes:e.children,overrideAccess:f,parent:{...e,parent:g},req:h,showHiddenFields:i});if(!("listType"in g)||g?.listType!=="check")return`<li ${j?'class="nestedListItem" ':""}value=${e?.value}>${k}</li>`;{let a=(0,J.A)();return`<li aria-checked=${e.checked?"true":"false"} class="${"list-item-checkbox"+(e.checked?" list-item-checkbox-checked":" list-item-checkbox-unchecked")+(j?" nestedListItem":"")}"
          role="checkbox"
          tabIndex=-1
          value=${e?.value}
      >
      ${j?k:`
        <input type="checkbox" id="${a}"${e.checked?" checked":""}>
        <label for="${a}">${k}</label><br>
      `}


          </li>`}},nodeTypes:[I.YW.getType()]};function M(a,b){return"ordered"===a?!b.has("unorderedList"):"checklist"===a&&!b.has("unorderedList")&&!b.has("orderedList")}let N=4,O=a=>(b,c,d)=>{let e=b.getPreviousSibling(),f=b.getNextSibling(),g=(0,I.i)("check"===a?"x"===d[3]:void 0);if((0,I.HY)(f)&&f.getListType()===a){let a=f.getFirstChild();null!==a?a.insertBefore(g):f.append(g),b.remove()}else if((0,I.HY)(e)&&e.getListType()===a)e.append(g),b.remove();else{let c=(0,I.DE)(a,"number"===a?Number(d[2]):void 0);c.append(g),b.replace(c)}g.append(...c),g.select(0,0);let h=Math.floor(d[1].length/N);h&&g.setIndent(h)},P=(a,b,c)=>{let d=[],e=a.getChildren(),f=0;for(let g of e)if((0,I.Mz)(g)){if(1===g.getChildrenSize()){let a=g.getFirstChild();if((0,I.HY)(a)){d.push(P(a,b,c+1));continue}}let e=" ".repeat(c*N),h=a.getListType(),i="number"===h?`${a.getStart()+f}. `:"check"===h?`- [${g.getChecked()?"x":" "}] `:"- ";d.push(e+i+b(g)),f++}return d.join("\n")},Q={type:"element",dependencies:[I.v5,I.YW],export:(a,b)=>(0,I.HY)(a)?P(a,b,0):null,regExp:/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,replace:O("check")},R={ar:{label:" "},az:{label:"Yoxlama Siyahs"},bg:{label:"  "},cs:{label:"Seznam kontrol"},da:{label:"Tjekliste"},de:{label:"Checkliste"},en:{label:"Check List"},es:{label:"Lista de comprobaci\xf3n"},et:{label:""},fa:{label:" "},fr:{label:"Liste de contr\xf4le"},he:{label:" "},hr:{label:"Kontrolni popis"},hu:{label:"Ellenrzlista"},is:{label:"G\xe1tlisti"},it:{label:"Lista di controllo"},ja:{label:""},ko:{label:" "},my:{label:"Senarai Semak"},nb:{label:"Sjekkliste"},nl:{label:"Checklist"},pl:{label:"Lista kontrolna"},pt:{label:"Lista de Verifica\xe7\xe3o"},ro:{label:"List de verificare"},rs:{label:" "},"rs-latin":{label:"Kontrolna lista"},ru:{label:" "},sk:{label:"Kontroln\xfd zoznam"},sl:{label:"Nimekiri"},sv:{label:"Kontrollista"},ta:{label:" "},th:{label:""},tr:{label:"Kontrol Listesi"},uk:{label:" "},vi:{label:"Danh s\xe1ch kim tra"},zh:{label:""},"zh-TW":{label:""}},S=(0,k.m)({feature:({featureProviderMap:a})=>({ClientFeature:"@payloadcms/richtext-lexical/client#ChecklistFeatureClient",i18n:R,markdownTransformers:[Q],nodes:M("checklist",a)?[(0,q.R)({converters:{html:K},node:I.v5}),(0,q.R)({converters:{html:L},node:I.YW})]:[]}),key:"checklist"}),T={type:"element",dependencies:[I.v5,I.YW],export:(a,b)=>(0,I.HY)(a)?P(a,b,0):null,regExp:/^(\s*)(\d+)\.\s/,replace:O("number")},U={ar:{label:" "},az:{label:"Sral Siyah"},bg:{label:" "},cs:{label:"Seazen\xfd seznam"},da:{label:"Ordnet Liste"},de:{label:"Geordnete Liste"},en:{label:"Ordered List"},es:{label:"Lista ordenada"},et:{label:"Sorteeritud loend"},fa:{label:"  "},fr:{label:"Liste ordonn\xe9e"},he:{label:" "},hr:{label:"Narueni popis"},hu:{label:"Rendelt lista"},is:{label:"Ra\xf0a\xf0ur listi"},it:{label:"Elenco ordinato"},ja:{label:""},ko:{label:" "},my:{label:" "},nb:{label:"Ordnet Liste"},nl:{label:"Geordende Lijst"},pl:{label:"Uporzdkowana lista"},pt:{label:"Lista Ordenada"},ro:{label:"Lista ordonat"},rs:{label:" "},"rs-latin":{label:"Ureena lista"},ru:{label:" "},sk:{label:"Zoraden\xfd zoznam"},sl:{label:"Urejen seznam"},sv:{label:"Ordnad Lista"},ta:{label:" "},th:{label:""},tr:{label:"Sral Liste"},uk:{label:" "},vi:{label:"Danh s\xe1ch \xe3 sp xp"},zh:{label:""},"zh-TW":{label:""}},V=(0,k.m)({feature:({featureProviderMap:a})=>({ClientFeature:"@payloadcms/richtext-lexical/client#OrderedListFeatureClient",i18n:U,markdownTransformers:[T],nodes:M("ordered",a)?[(0,q.R)({converters:{html:K},node:I.v5}),(0,q.R)({converters:{html:L},node:I.YW})]:[]}),key:"orderedList"}),W={type:"element",dependencies:[I.v5,I.YW],export:(a,b)=>(0,I.HY)(a)?P(a,b,0):null,regExp:/^(\s*)[-*+]\s/,replace:O("bullet")},X={ar:{label:"  "},az:{label:"Srasz Siyah"},bg:{label:" "},cs:{label:"Neuspo\xe1dan\xfd seznam"},da:{label:"Usorteret Liste"},de:{label:"Ungeordnete Liste"},en:{label:"Unordered List"},es:{label:"Lista desordenada"},et:{label:"Sorteerimata loend"},fa:{label:"  "},fr:{label:"Liste non ordonn\xe9e"},he:{label:"  "},hr:{label:"Neureeni popis"},hu:{label:"Rendezetlen lista"},is:{label:"\xd3ra\xf0a\xf0ur listi"},it:{label:"Elenco non ordinato"},ja:{label:""},ko:{label:" "},my:{label:"Senarai Tidak Tertib"},nb:{label:"Usortert liste"},nl:{label:"Ongeordende lijst"},pl:{label:"Nieuporzdkowana lista"},pt:{label:"Lista N\xe3o Ordenada"},ro:{label:"List neordonat"},rs:{label:" "},"rs-latin":{label:"Neureena lista"},ru:{label:" "},sk:{label:"Neusporiadan\xfd zoznam"},sl:{label:"Neurejen seznam"},sv:{label:"Oordnad lista"},ta:{label:" "},th:{label:""},tr:{label:"Srasz Liste"},uk:{label:" "},vi:{label:"Danh s\xe1ch kh\xf4ng theo th t"},zh:{label:""},"zh-TW":{label:""}},Y=(0,k.m)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#UnorderedListFeatureClient",i18n:X,markdownTransformers:[W],nodes:[(0,q.R)({converters:{html:K},node:I.v5}),(0,q.R)({converters:{html:L},node:I.YW})]},key:"unorderedList"});var Z=c(38933),$=c(56696);let _=a=>({currentDepth:b,depth:c,draft:d,node:e,overrideAccess:f,populationPromises:g,req:h,showHiddenFields:i})=>{if(e?.value){let j=e?.value?.id||e?.value,k=h.payload.collections[e?.relationTo];if(k){let l=a?.maxDepth!==void 0&&a?.maxDepth<c?a?.maxDepth:c;g.push((0,$.j)({id:j,collectionSlug:k.config.slug,currentDepth:b,data:e,depth:l,draft:d,key:"value",overrideAccess:f,req:h,showHiddenFields:i}))}}},aa={ar:{label:""},az:{label:"M\xfcnasibt"},bg:{label:""},cs:{label:"Vztah"},da:{label:"Forhold"},de:{label:"Beziehung"},en:{label:"Relationship"},es:{label:"Relaci\xf3n"},et:{label:"Seos"},fa:{label:""},fr:{label:"Relation"},he:{label:""},hr:{label:"Odnos"},hu:{label:"Kapcsolat"},is:{label:"Tengingar"},it:{label:"Relazione"},ja:{label:""},ko:{label:""},my:{label:"Hubungan"},nb:{label:"Forhold"},nl:{label:"Relatie"},pl:{label:"Relacja"},pt:{label:"Relacionamento"},ro:{label:"Relaie"},rs:{label:""},"rs-latin":{label:"Relacija"},ru:{label:""},sk:{label:"Vzah"},sl:{label:"Odnos"},sv:{label:"Relation"},ta:{label:""},th:{label:""},tr:{label:"liki"},uk:{label:""},vi:{label:"Mi quan h"},zh:{label:""},"zh-TW":{label:""}};var ab=c(4216),ac=c(86861),ad=c(34318);function ae(a){let b=a.getAttribute("data-lexical-relationship-id"),c=a.getAttribute("data-lexical-relationship-relationTo");return null!=b&&null!=c?{node:ag({relationTo:c,value:b})}:null}class af extends ab.d{__data;constructor({data:a,format:b,key:c}){super(b,c),this.__data=a}static clone(a){return new this({data:a.__data,format:a.__format,key:a.__key})}static getType(){return"relationship"}static importDOM(){return{div:a=>a.hasAttribute("data-lexical-relationship-relationTo")&&a.hasAttribute("data-lexical-relationship-id")?{conversion:ae,priority:2}:null}}static importJSON(a){1===a.version&&a?.value?.id&&(a.value=a.value.id);let b=ag({relationTo:a.relationTo,value:a.value});return b.setFormat(a.format),b}static isInline(){return!1}createDOM(a){let b=document.createElement("div");return(0,ac.ZB)(b,a?.theme?.relationship),b}decorate(a,b){return null}exportDOM(){let a=document.createElement("div");a.setAttribute("data-lexical-relationship-id",String("object"==typeof this.__data?.value?this.__data?.value?.id:this.__data?.value)),a.setAttribute("data-lexical-relationship-relationTo",this.__data?.relationTo);let b=document.createTextNode(this.getTextContent());return a.append(b),{element:a}}exportJSON(){return{...super.exportJSON(),...this.getData(),type:"relationship",version:2}}getData(){return this.getLatest().__data}getTextContent(){return`${this.__data?.relationTo} relation to ${"object"==typeof this.__data?.value?this.__data?.value?.id:this.__data?.value}`}setData(a){this.getWritable().__data=a}}function ag(a){return(0,ad.pTq)(new af({data:a}))}let ah=(0,k.m)({feature:({props:a})=>{let{maxDepth:b,...c}=a??{};return{ClientFeature:"@payloadcms/richtext-lexical/client#RelationshipFeatureClient",clientFeatureProps:c,i18n:aa,nodes:[(0,q.R)({graphQLPopulationPromises:[_(a)],hooks:{afterRead:[({currentDepth:a,depth:c,draft:d,node:e,overrideAccess:f,populateArg:g,populationPromises:h,req:i,showHiddenFields:j})=>{if(!e?.value)return e;let k=i.payload.collections[e?.relationTo];if(!k)return e;let l=e?.value?.id||e?.value,m=void 0!==b&&b<c?b:c;return h.push((0,$.j)({id:l,collectionSlug:k.config.slug,currentDepth:a,data:e,depth:m,draft:d,key:"value",overrideAccess:f,req:i,select:g?.[k.config.slug]??k.config.defaultPopulate,showHiddenFields:j})),e}]},node:af})]}},key:"relationship"});var ai=c(16605),aj=c(85088),ak=c(9764);let al=a=>({context:b,currentDepth:c,depth:d,draft:e,editorPopulationPromises:f,field:g,fieldPromises:h,findMany:i,flattenLocales:j,node:k,overrideAccess:l,parentIsLocalized:m,populationPromises:o,req:p,showHiddenFields:q})=>{if(k?.value){let r=p.payload.collections[k?.relationTo];if(r){let s=k?.value?.id||k?.value,t=a?.maxDepth!==void 0&&a?.maxDepth<d?a?.maxDepth:d;o.push((0,$.j)({id:s,collectionSlug:r.config.slug,currentDepth:c,data:k,depth:t,draft:e,key:"value",overrideAccess:l,req:p,showHiddenFields:q}));let u=a?.collections?.[k?.relationTo]?.fields;if(Array.isArray(u)){if(!u?.length)return;(0,ak.V)({context:b,currentDepth:c,data:k.fields||{},depth:d,parentIsLocalized:m||g.localized||!1,draft:e,editorPopulationPromises:f,fieldPromises:h,fields:u,findMany:i,flattenLocales:j,overrideAccess:l,populationPromises:o,req:p,showHiddenFields:q,siblingDoc:k.fields||{}})}}}},am={ar:{label:""},az:{label:"Y\xfcklyin"},bg:{label:""},cs:{label:"Nahr\xe1t"},da:{label:"Upload"},de:{label:"Datei"},en:{label:"Upload"},es:{label:"Subir"},et:{label:"Lae \xfcles"},fa:{label:""},fr:{label:"T\xe9l\xe9charger"},he:{label:""},hr:{label:"Prenesi"},hu:{label:"Felt\xf6lt\xe9s"},is:{label:"Hla\xf0a upp"},it:{label:"Carica"},ja:{label:""},ko:{label:""},my:{label:""},nb:{label:"Last opp"},nl:{label:"Uploaden"},pl:{label:"Przelij"},pt:{label:"Carregar"},ro:{label:"\xcencarc"},rs:{label:""},"rs-latin":{label:"Otpremi"},ru:{label:""},sk:{label:"Nahra"},sl:{label:"Naloi"},sv:{label:"Ladda upp"},ta:{label:""},th:{label:""},tr:{label:"Y\xfckle"},uk:{label:""},vi:{label:"Ti l\xean"},zh:{label:""},"zh-TW":{label:""}};var an=c(77208);function ao(a,b){if(a.hasAttribute("data-lexical-pending-upload-form-id")){let c=a.getAttribute("data-lexical-pending-upload-form-id");if(null!=c)return{node:b({data:{pending:{formID:c,src:a.getAttribute("src")||""}}})}}if(a.hasAttribute("data-lexical-upload-relation-to")&&a.hasAttribute("data-lexical-upload-id")){let c=a.getAttribute("data-lexical-upload-id"),d=a.getAttribute("data-lexical-upload-relation-to");if(null!=c&&null!=d)return{node:b({data:{fields:{},relationTo:d,value:c}})}}return{node:b({data:{pending:{formID:new an.default().toHexString(),src:a.getAttribute("src")||""}}})}}class ap extends ab.d{__data;constructor({data:a,format:b,key:c}){super(b,c),this.__data=a}static clone(a){return new this({data:a.__data,format:a.__format,key:a.__key})}static getType(){return"upload"}static importDOM(){return{img:a=>({conversion:a=>ao(a,aq),priority:0})}}static importJSON(a){1===a.version&&a?.value?.id&&(a.value=a.value.id),2!==a.version||a?.id||(a.id=new an.default().toHexString(),a.version=3);let b=aq({data:{id:a.id,fields:a.fields,pending:a.pending,relationTo:a.relationTo,value:a.value}});return b.setFormat(a.format),b}static isInline(){return!1}createDOM(a){let b=document.createElement("div");return(0,ac.ZB)(b,a?.theme?.upload),b}decorate(){return null}exportDOM(){let a=document.createElement("img"),b=this.__data;return b.pending?(a.setAttribute("data-lexical-pending-upload-form-id",String(b?.pending?.formID)),a.setAttribute("src",b?.pending?.src||"")):(a.setAttribute("data-lexical-upload-id",String(b?.value)),a.setAttribute("data-lexical-upload-relation-to",b?.relationTo)),{element:a}}exportJSON(){return{...super.exportJSON(),...this.getData(),type:"upload",version:3}}getData(){return this.getLatest().__data}setData(a){this.getWritable().__data=a}updateDOM(){return!1}}function aq({data:a}){return a?.id||(a.id=new an.default().toHexString()),(0,ad.pTq)(new ap({data:a}))}var ar=c(95149),as=c(61718);let at=a=>async({node:b,validation:{options:{id:c,data:d,operation:e,preferences:f,req:g,req:{payload:h,t:i}}}})=>{let j=h.collections[b.relationTo]?.customIDType||h.db.defaultIDType,k=b?.value?.id||b?.value;if(!(0,as.m)(k,j))return i("validation:validUploadID");if(!a?.collections||0===Object.keys(a?.collections).length)return!0;let l=a?.collections[b.relationTo];if(!l?.fields?.length)return!0;let m=await (0,ar.d)({id:c,collectionSlug:b.relationTo,data:b?.fields??{},documentData:d,fields:l.fields,fieldSchemaMap:void 0,initialBlockData:b?.fields??{},operation:"create"===e||"update"===e?e:"update",permissions:{},preferences:f,renderAllFields:!1,req:g,schemaPath:""}),o=new Set;for(let a in m){let b=m[a];if(b?.errorPaths?.length)for(let a of b.errorPaths)o.add(a)}let p=Array.from(o);return!p.length||"The following fields are invalid: "+p.join(", ")};function au(a,b){return a?.startsWith("http")?a:(b?.config?.serverURL||"")+a}let av=(0,k.m)({feature:async({config:a,isRoot:b,parentIsLocalized:c,props:d})=>{d||(d={collections:{}});let e={collections:{}};if(d.disabledCollections&&(e.disabledCollections=d.disabledCollections),d.enabledCollections&&(e.enabledCollections=d.enabledCollections),d.collections)for(let a in d.collections)e.collections[a]={hasExtraFields:d.collections[a].fields.length>=1};let f=a.collections.map(a=>a.slug)||[];for(let e in d.collections){let g=d.collections[e];g.fields?.length&&(g.fields=await (0,aj.b)({config:a,fields:g.fields,parentIsLocalized:c,requireFieldLevelRichTextEditor:b,validRelationships:f}))}return{ClientFeature:"@payloadcms/richtext-lexical/client#UploadFeatureClient",clientFeatureProps:e,generateSchemaMap:({props:a})=>{if(!a?.collections)return null;let b=new Map;for(let c in a.collections){let d=a.collections[c];d.fields?.length&&b.set(c,{fields:d.fields})}return b},i18n:am,nodes:[(0,q.R)({converters:{html:{converter:async({currentDepth:a,depth:b,draft:c,node:d,overrideAccess:e,req:f,showHiddenFields:g})=>{let h=d?.value?.id||d?.value;if(!f?.payload)return`<img src="${h}" />`;{let i={};try{await (0,$.j)({id:h,collectionSlug:d.relationTo,currentDepth:a,data:i,depth:b,draft:c,key:"value",overrideAccess:e,req:f,showHiddenFields:g})}catch(a){return console.error("Lexical upload node HTML converter: error fetching upload file",a,"Node:",d),"<img />"}let j=au(i?.value?.url??"",f?.payload);if(!i?.value?.mimeType?.startsWith("image"))return`<a href="${j}" rel="noopener noreferrer">${i.value?.filename}</a>`;if(!i?.value?.sizes||!Object.keys(i?.value?.sizes).length)return`<img src="${j}" alt="${i?.value?.filename}" width="${i?.value?.width}"  height="${i?.value?.height}"/>`;let k="<picture>";for(let a in i.value?.sizes){let b=i.value.sizes[a];if(!b.width||!b.height||!b.mimeType||!b.filesize||!b.filename||!b.url)continue;let c=au(b?.url,f?.payload);k+=`<source srcset="${c}" media="(max-width: ${b.width}px)" type="${b.mimeType}">`}return k+`<img src="${j}" alt="Image" width="${i.value?.width}" height="${i.value?.height}"></picture>`}},nodeTypes:[ap.getType()]}},getSubFields:({node:a,req:b})=>{if(!a){let a=[];for(let b in d?.collections){let c=d.collections[b].fields;a=a.concat(c)}return a}if(b?b.payload.collections[a?.relationTo]:null){let b=d?.collections?.[a?.relationTo]?.fields;if(Array.isArray(b))return b?.length?b:null}return null},getSubFieldsData:({node:a})=>a?.fields,graphQLPopulationPromises:[al(d)],hooks:{afterRead:[({currentDepth:a,depth:b,draft:c,node:e,overrideAccess:f,populateArg:g,populationPromises:h,req:i,showHiddenFields:j})=>{if(!e?.value)return e;let k=i.payload.collections[e?.relationTo];if(!k)return e;let l=e?.value?.id||e?.value,m=d?.maxDepth!==void 0&&d?.maxDepth<b?d?.maxDepth:b;return h.push((0,$.j)({id:l,collectionSlug:k.config.slug,currentDepth:a,data:e,depth:m,draft:c,key:"value",overrideAccess:f,req:i,select:g?.[k.config.slug]??k.config.defaultPopulate,showHiddenFields:j})),e}]},node:ap,validations:[at(d)]})],sanitizedServerFeatureProps:d}},key:"upload"}),aw={namespace:"lexical",theme:{block:"LexicalEditorTheme__block",blockCursor:"LexicalEditorTheme__blockCursor",characterLimit:"LexicalEditorTheme__characterLimit",code:"LexicalEditorTheme__code",inlineBlock:"LexicalEditorTheme__inlineBlock",heading:{h1:"LexicalEditorTheme__h1",h2:"LexicalEditorTheme__h2",h3:"LexicalEditorTheme__h3",h4:"LexicalEditorTheme__h4",h5:"LexicalEditorTheme__h5",h6:"LexicalEditorTheme__h6"},hr:"LexicalEditorTheme__hr",hrSelected:"LexicalEditorTheme__hrSelected",indent:"LexicalEditorTheme__indent",link:"LexicalEditorTheme__link",list:{checklist:"LexicalEditorTheme__checklist",listitem:"LexicalEditorTheme__listItem",listitemChecked:"LexicalEditorTheme__listItemChecked",listitemUnchecked:"LexicalEditorTheme__listItemUnchecked",nested:{listitem:"LexicalEditorTheme__nestedListItem"},olDepth:["LexicalEditorTheme__ol1","LexicalEditorTheme__ol2","LexicalEditorTheme__ol3","LexicalEditorTheme__ol4","LexicalEditorTheme__ol5"],ul:"LexicalEditorTheme__ul"},ltr:"LexicalEditorTheme__ltr",mark:"LexicalEditorTheme__mark",markOverlap:"LexicalEditorTheme__markOverlap",paragraph:"LexicalEditorTheme__paragraph",placeholder:"LexicalEditorTheme__placeholder",quote:"LexicalEditorTheme__quote",relationship:"LexicalEditorTheme__relationship",rtl:"LexicalEditorTheme__rtl",tab:"LexicalEditorTheme__tabNode",table:"LexicalEditorTheme__table",tableAddColumns:"LexicalEditorTheme__tableAddColumns",tableAddRows:"LexicalEditorTheme__tableAddRows",tableAlignment:{center:"LexicalEditorTheme__tableAlignmentCenter",right:"LexicalEditorTheme__tableAlignmentRight"},tableCell:"LexicalEditorTheme__tableCell",tableCellActionButton:"LexicalEditorTheme__tableCellActionButton",tableCellActionButtonContainer:"LexicalEditorTheme__tableCellActionButtonContainer",tableCellHeader:"LexicalEditorTheme__tableCellHeader",tableCellResizer:"LexicalEditorTheme__tableCellResizer",tableCellSelected:"LexicalEditorTheme__tableCellSelected",tableFrozenColumn:"LexicalEditorTheme__tableFrozenColumn",tableRowStriping:"LexicalEditorTheme__tableRowStriping",tableScrollableWrapper:"LexicalEditorTheme__tableScrollableWrapper",tableSelected:"LexicalEditorTheme__tableSelected",tableSelection:"LexicalEditorTheme__tableSelection",text:{bold:"LexicalEditorTheme__textBold",code:"LexicalEditorTheme__textCode",italic:"LexicalEditorTheme__textItalic",strikethrough:"LexicalEditorTheme__textStrikethrough",subscript:"LexicalEditorTheme__textSubscript",superscript:"LexicalEditorTheme__textSuperscript",underline:"LexicalEditorTheme__textUnderline",underlineStrikethrough:"LexicalEditorTheme__textUnderlineStrikethrough"},upload:"LexicalEditorTheme__upload"}},ax=[(0,u.k)(),(0,x.v)(),(0,C.D)(),z(),A(),B(),w(),(0,Z.$)(),(0,D.b)(),m(),G(),Y(),V(),S(),(0,H.T)(),ah(),t(),av(),(0,E.h)(),(0,ai.X)()],ay={features:ax,lexical:aw};function az({callback:a,nodes:b}){for(let c of b)a(c),"children"in c&&Array.isArray(c?.children)&&c?.children?.length&&az({callback:a,nodes:c.children})}let aA=({context:a,currentDepth:b,depth:c,draft:d,editorPopulationPromises:e,field:f,fieldPromises:g,findMany:h,flattenLocales:i,overrideAccess:j,parentIsLocalized:k,populationPromises:l,req:m,showHiddenFields:o,siblingDoc:p})=>{c&&b<=c&&az({callback:q=>{let r=e?.get(q.type);if(r)for(let s of r)s({context:a,currentDepth:b,depth:c,draft:d,editorPopulationPromises:e,field:f,fieldPromises:g,findMany:h,flattenLocales:i,node:q,overrideAccess:j,parentIsLocalized:k,populationPromises:l,req:m,showHiddenFields:o,siblingDoc:p})},nodes:p[f?.name]?.root?.children??[]})};function aB(a){let b={};for(let c of a)b[c.key]={dependencies:c.dependencies||[],dependenciesPriority:c.dependenciesPriority||[],dependenciesSoft:c.dependenciesSoft||[],featureProvider:c};return b}function aC(a){let b=aB(a),c={},d=[];for(let a in b)c[a]||aD(b,a,c,d);return d.reverse()}function aD(a,b,c,d,e=[]){if(!a[b])throw Error(`Feature key ${b} is not present in the dependency graph.`);if(e.includes(b))throw Error(`Circular dependency detected: ${e.join(" -> ")} -> ${b}`);if(!c[b]){for(let f of(c[b]=!0,e.push(b),a[b].dependenciesPriority))c[f]||aD(a,f,c,d,e);for(let f of a[b].dependencies)c[f]||a[b].dependenciesPriority.includes(f)||aD(a,f,c,d,e);for(let f of a[b].dependenciesSoft)!a[f]||c[f]||a[b].dependenciesPriority.includes(f)||a[b].dependencies.includes(f)||aD(a,f,c,d,e);d.push(a[b].featureProvider),e.pop()}}function aE(a){return aC(a)}async function aF({config:a,isRoot:b,parentIsLocalized:c,unSanitizedEditorConfig:d}){d.features=d.features.reverse().filter((a,b,c)=>c.findIndex(b=>b.key===a.key)===b).reverse(),d.features=aE(d.features);let e=new Map(d.features.map(a=>[a.key,a])),f=new Map,g=0;for(let h of d.features){if(!h.key)throw Error("A Feature you've added does not have a key. Please add a key to the feature. This is used to uniquely identify the feature.");if(h.dependencies?.length){for(let a of h.dependencies)if(!d.features.find(b=>b.key===a))throw Error(`Feature ${h.key} has a dependency ${a} which does not exist.`)}if(h.dependenciesPriority?.length){for(let a of h.dependenciesPriority)if(!f.get(a)){if(d.features.find(b=>b.key===a))throw Error(`Feature ${h.key} has a priority dependency ${a} which is not loaded before it.`);throw Error(`Feature ${h.key} has a priority dependency ${a} which does not exist.`)}}let i="function"==typeof h.feature?await h.feature({config:a,featureProviderMap:e,isRoot:b,parentIsLocalized:c,resolvedFeatures:f,unSanitizedEditorConfig:d}):h.feature;i.key=h.key,i.order=g,i.dependencies=h.dependencies,i.dependenciesPriority=h.dependenciesPriority,i.dependenciesSoft=h.dependenciesSoft,f.set(h.key,i),g++}return f}let aG=a=>{let b={converters:{html:[]},enabledFeatures:[],generatedTypes:{modifyOutputSchemas:[]},getSubFields:new Map,getSubFieldsData:new Map,graphQLPopulationPromises:new Map,hooks:{afterChange:[],afterRead:[],beforeChange:[],beforeValidate:[]},i18n:{},markdownTransformers:[],nodeHooks:{afterChange:new Map,afterRead:new Map,beforeChange:new Map,beforeValidate:new Map},nodes:[],validations:new Map};return a?.size&&a.forEach(a=>{if(a?.generatedTypes?.modifyOutputSchema&&b.generatedTypes.modifyOutputSchemas.push(a.generatedTypes.modifyOutputSchema),a?.hooks?.beforeValidate?.length&&(b.hooks.beforeValidate=b.hooks.beforeValidate?.concat(a.hooks.beforeValidate)),a?.hooks?.beforeChange?.length&&(b.hooks.beforeChange=b.hooks.beforeChange?.concat(a.hooks.beforeChange)),a?.hooks?.afterRead?.length&&(b.hooks.afterRead=b.hooks.afterRead?.concat(a.hooks.afterRead)),a?.hooks?.afterChange?.length&&(b.hooks.afterChange=b.hooks.afterChange?.concat(a.hooks.afterChange)),a?.i18n)for(let c in a.i18n)b.i18n[c]||(b.i18n[c]={lexical:{}}),b.i18n[c].lexical[a.key]=a.i18n[c];if(a.nodes?.length){for(let c of a.nodes)b.nodes.push(c);a.nodes.forEach(a=>{let c="with"in a.node?a.node.replace.getType():a.node.getType();a?.graphQLPopulationPromises?.length&&b.graphQLPopulationPromises.set(c,a.graphQLPopulationPromises),a?.validations?.length&&b.validations.set(c,a.validations),a?.converters?.html&&b.converters.html.push(a.converters.html),a?.hooks?.afterChange&&b.nodeHooks?.afterChange?.set(c,a.hooks.afterChange),a?.hooks?.afterRead&&b.nodeHooks?.afterRead?.set(c,a.hooks.afterRead),a?.hooks?.beforeChange&&b.nodeHooks?.beforeChange?.set(c,a.hooks.beforeChange),a?.hooks?.beforeValidate&&b.nodeHooks?.beforeValidate?.set(c,a.hooks.beforeValidate),a?.getSubFields&&b.getSubFields?.set(c,a.getSubFields),a?.getSubFieldsData&&b.getSubFieldsData?.set(c,a.getSubFieldsData)})}if(a.markdownTransformers?.length)for(let c of a.markdownTransformers)"function"==typeof c?b.markdownTransformers.push(c({allNodes:b.nodes,allTransformers:b.markdownTransformers})):b.markdownTransformers.push(c);b.enabledFeatures.push(a.key)}),b};async function aH(a,b,c){let d=await aF({config:b,parentIsLocalized:c,unSanitizedEditorConfig:a});return{features:aG(d),lexical:a.lexical,resolvedFeatureMap:d}}let aI=global._payload_lexical_defaultSanitizedServerEditorConfig;aI||(aI=global._payload_lexical_defaultSanitizedServerEditorConfig=null);let aJ=async a=>{let{config:b,parentIsLocalized:c}=a;return aI?await aI:(aI=aH(ay,b,c),global.payload_lexical_defaultSanitizedServerEditorConfig=aI,aI=await aI,global.payload_lexical_defaultSanitizedServerEditorConfig=aI,aI)},aK=async a=>{let b=[];if(a.features&&"function"==typeof a.features){let c=a.config.editor,d=[];"object"==typeof c&&"features"in c&&(d=c.features),b=a.features({defaultFeatures:ax,rootFeatures:d})}else b=a.features;b||(b=ax);let c=a.lexical??ay.lexical,d=await aF({config:a.config,isRoot:a.isRoot??!1,parentIsLocalized:a.parentIsLocalized??!1,unSanitizedEditorConfig:{features:b,lexical:c}});return{features:b,resolvedFeatureMap:d,sanitizedConfig:{features:aG(d),lexical:a.lexical,resolvedFeatureMap:d}}};var aL=c(43628);let aM=a=>({addToImportMap:b,baseDir:c,config:d,importMap:e,imports:f})=>{for(let g of(b("@payloadcms/richtext-lexical/rsc#RscEntryLexicalCell"),b("@payloadcms/richtext-lexical/rsc#RscEntryLexicalField"),b("@payloadcms/richtext-lexical/rsc#LexicalDiffComponent"),a.resolvedFeatureMap.values()))if("componentImports"in g&&("function"==typeof g.componentImports?g.componentImports({addToImportMap:b,baseDir:c,config:d,importMap:e,imports:f}):Array.isArray(g.componentImports)?b(g.componentImports):"object"==typeof g.componentImports&&b(Object.values(g.componentImports))),b(g.ClientFeature),g.nodes?.length)for(let a of g.nodes){if("function"!=typeof a?.getSubFields)continue;let g=a.getSubFields({});g?.length&&(0,aL.J)({addToImportMap:b,baseDir:c,config:d,fields:g,importMap:e,imports:f})}};var aN=c(45113);let aO=a=>({config:b,field:c,i18n:d,schemaMap:e,schemaPath:f})=>{for(let[g,h]of a.resolvedFeatureMap.entries()){if(!("generateSchemaMap"in h)||"function"!=typeof h.generateSchemaMap)continue;let a=h.generateSchemaMap({config:b,field:c,i18n:d,props:h.sanitizedServerFeatureProps,schemaMap:e,schemaPath:f});if(a)for(let[c,h]of a.entries())"fields"in h&&(0,aN.m)({config:b,fields:h.fields,i18n:d,parentIndexPath:"",parentSchemaPath:`${f}.lexical_internal_feature.${g}.${c}`,schemaMap:e}),e.set(`${f}.lexical_internal_feature.${g}.${c}`,h)}return e},aP=({flattenedNodes:a,nodeIDMap:b,nodes:c})=>{if(c?.length)for(let d of c)a&&a.push(d),b&&(d&&"id"in d&&d.id?b[d.id]=d:"fields"in d&&"object"==typeof d.fields&&d.fields&&"id"in d.fields&&d?.fields?.id&&(b[d.fields.id]=d)),"children"in d&&Array.isArray(d?.children)&&d?.children?.length&&aP({flattenedNodes:a,nodeIDMap:b,nodes:d.children})};var aQ=c(43788);async function aR({nodes:a,nodeValidations:b,validation:c}){for(let d of a){let a=b.get(d.type);if(a)for(let e of a){let a=await e({node:d,nodeValidations:b,validation:c});if(!0!==a)return`${d.type} node failed to validate: ${a}`}if("children"in d&&d?.children){let a=await aR({nodes:d.children,nodeValidations:b,validation:c});if(!0!==a)return a}}return!0}let aS=({editorConfig:a})=>async(b,c)=>{let{req:{t:d},required:e}=c;if(e&&!1===(0,aQ.I)(b))return d("validation:required");let f=b?.root?.children;return!(f&&Array.isArray(f)&&f?.length)||await aR({nodes:f,nodeValidations:a.features.validations,validation:{options:c,value:b}})};function aT(a){return async({config:b,isRoot:c,parentIsLocalized:k})=>{let l,m,o=[];if(a&&(a.features||a.lexical)){let d=await aK({config:b,features:a?.features,isRoot:c,lexical:a?.lexical,parentIsLocalized:k});m=d.sanitizedConfig,o=d.features,l=d.resolvedFeatureMap}else m=await aJ({config:b,parentIsLocalized:k}),o=ax,l=m.resolvedFeatureMap;let p=m.features.i18n;for(let a in j){let b=a;((p[b]??={}).lexical??={}).general=j[b]??{}}return b.i18n.translations=(0,d.p)(b.i18n.translations,p),{CellComponent:"@payloadcms/richtext-lexical/rsc#RscEntryLexicalCell",DiffComponent:"@payloadcms/richtext-lexical/rsc#LexicalDiffComponent",editorConfig:m,features:o,FieldComponent:{path:"@payloadcms/richtext-lexical/rsc#RscEntryLexicalField",serverProps:{admin:a?.admin}},generateImportMap:aM({resolvedFeatureMap:l}),generateSchemaMap:aO({resolvedFeatureMap:l}),graphQLPopulationPromises({context:a,currentDepth:b,depth:c,draft:d,field:e,fieldPromises:f,findMany:g,flattenLocales:h,overrideAccess:i,parentIsLocalized:j,populationPromises:k,req:l,showHiddenFields:o,siblingDoc:p}){m?.features?.graphQLPopulationPromises?.size&&aA({context:a,currentDepth:b??0,depth:c,draft:d,editorPopulationPromises:m.features.graphQLPopulationPromises,field:e,fieldPromises:f,findMany:g,flattenLocales:h,overrideAccess:i,parentIsLocalized:j,populationPromises:k,req:l,showHiddenFields:o,siblingDoc:p})},hooks:{afterChange:[async a=>{let{collection:b,context:c,data:d,field:f,global:g,indexPath:h,operation:i,originalDoc:j,parentIsLocalized:k,path:l,previousDoc:o,previousValue:p,req:q,schemaPath:r}=a,{value:s}=a;if(m?.features?.hooks?.afterChange?.length)for(let b of m.features.hooks.afterChange)s=await b(a);if(!m.features.nodeHooks?.afterChange?.size&&!m.features.getSubFields?.size)return s;let t=c,u={},v={},w=t?.internal?.richText?.[l.join(".")]?.originalNodeIDMap;if(!w||!Object.keys(w).length||!s)return s;for(let[a,c]of(aP({nodeIDMap:u,nodes:s?.root?.children??[]}),aP({nodeIDMap:v,nodes:p?.root?.children??[]}),Object.entries(u))){let p=m.features.nodeHooks?.afterChange,s=p?.get(c.type);if(s)for(let b of s){if(!w[a]){console.warn("(afterChange) No original node found for node with id",a,"node:",c,"path",l.join("."));continue}c=await b({context:t,node:c,operation:i,originalNode:w[a],parentRichTextFieldPath:l,parentRichTextFieldSchemaPath:r,previousNode:v[a],req:q})}let u=m.features.getSubFields?.get(c.type),x=m.features.getSubFieldsData?.get(c.type);if(u&&x){let m=u({node:c,req:q}),p=x({node:c,req:q})??{},s=x({node:w[a],req:q})??{},y=x({node:v[a],req:q})??{};m?.length&&await (0,e.m)({blockData:p,collection:b,context:t,data:d??{},doc:j,fields:m,global:g,operation:i,parentIndexPath:h.join("-"),parentIsLocalized:k||f.localized||!1,parentPath:l.join("."),parentSchemaPath:r.join("."),previousDoc:o,previousSiblingDoc:{...y},req:q,siblingData:p||{},siblingDoc:{...s}})}}return s}],afterRead:[async a=>{let{collection:b,context:c,currentDepth:d,depth:e,draft:g,fallbackLocale:h,field:i,fieldPromises:j,findMany:k,flattenLocales:l,global:o,indexPath:p,locale:q,originalDoc:r,overrideAccess:s,parentIsLocalized:t,path:u,populate:v,populationPromises:w,req:x,schemaPath:y,showHiddenFields:z,triggerAccessControl:A,triggerHooks:B}=a,{value:C}=a;if(m?.features?.hooks?.afterRead?.length)for(let b of m.features.hooks.afterRead)C=await b(a);if(!m.features.nodeHooks?.afterRead?.size&&!m.features.getSubFields?.size)return C;let D=[];for(let a of(aP({flattenedNodes:D,nodes:C?.root?.children??[]}),D)){let C=m.features.nodeHooks?.afterRead,D=C?.get(a.type);if(D)for(let b of D)a=await b({context:c,currentDepth:d,depth:e,draft:g,fallbackLocale:h,fieldPromises:j,findMany:k,flattenLocales:l,locale:q,node:a,overrideAccess:s,parentRichTextFieldPath:u,parentRichTextFieldSchemaPath:y,populateArg:v,populationPromises:w,req:x,showHiddenFields:z,triggerAccessControl:A,triggerHooks:B});let E=m.features.getSubFields?.get(a.type),F=m.features.getSubFieldsData?.get(a.type);if(E&&F){let m=E({node:a,req:x}),C=F({node:a,req:x})??{};m?.length&&(0,f.m)({blockData:C,collection:b,context:c,currentDepth:d,depth:e,doc:r,draft:g,fallbackLocale:h,fieldPromises:j,fields:m,findMany:k,flattenLocales:l,global:o,locale:q,overrideAccess:s,parentIndexPath:p.join("-"),parentIsLocalized:t||i.localized||!1,parentPath:u.join("."),parentSchemaPath:y.join("."),populate:v,populationPromises:w,req:x,showHiddenFields:z,siblingDoc:C,triggerAccessControl:A,triggerHooks:B})}}return C}],beforeChange:[async a=>{let{collection:b,context:c,data:d,docWithLocales:e,errors:f,field:h,fieldLabelPath:i,global:j,indexPath:k,mergeLocaleActions:l,operation:o,originalDoc:p,overrideAccess:q,parentIsLocalized:r,path:s,previousValue:t,req:u,schemaPath:v,siblingData:w,siblingDocWithLocales:x,skipValidation:y}=a,{value:z}=a;if(m?.features?.hooks?.beforeChange?.length)for(let b of m.features.hooks.beforeChange)z=await b(a);if(!m.features.nodeHooks?.beforeChange?.size&&!m.features.getSubFields?.size)return z;let A=c,B={},C=A?.internal?.richText?.[s.join(".")]?.originalNodeIDMap;if(!C||!Object.keys(C).length||!z)return z;let D={},E={};for(let[a,c]of(aP({nodeIDMap:B,nodes:z?.root?.children??[]}),aP({nodeIDMap:D,nodes:t?.root?.children??[]}),h.name&&x?.[h.name]&&aP({nodeIDMap:E,nodes:x[h.name]?.root?.children??[]}),Object.entries(B))){let t=m.features.nodeHooks?.beforeChange,w=t?.get(c.type);if(w)for(let b of w){if(!C[a]){console.warn("(beforeChange) No original node found for node with id",a,"node:",c,"path",s.join("."));continue}c=await b({context:A,errors:f,mergeLocaleActions:l,node:c,operation:o,originalNode:C[a],originalNodeWithLocales:E[a],parentRichTextFieldPath:s,parentRichTextFieldSchemaPath:v,previousNode:D[a],req:u,skipValidation:y})}let x=m.features.getSubFields?.get(c.type),z=m.features.getSubFieldsData?.get(c.type);if(x&&z){let m=x({node:c,req:u}),t=z({node:c,req:u})??{},w=z({node:E[a],req:u})??{},B=z({node:D[a],req:u})??{};m?.length&&await (0,g.m)({id:a,blockData:t,collection:b,context:A,data:d??{},doc:p??{},docWithLocales:e??{},errors:f,fieldLabelPath:i,fields:m,global:j,mergeLocaleActions:l,operation:o,overrideAccess:q,parentIndexPath:k.join("-"),parentIsLocalized:r||h.localized||!1,parentPath:s.join("."),parentSchemaPath:v.join("."),req:u,siblingData:t,siblingDoc:B,siblingDocWithLocales:w??{},skipValidation:y})}}let F={},G=w[h.name];return aP({nodeIDMap:F,nodes:G?.root?.children??[]}),A.internal||(A.internal={}),A.internal.richText||(A.internal.richText={}),A.internal.richText[s.join(".")]={originalNodeIDMap:F},z}],beforeValidate:[async a=>{let{collection:b,context:c,data:d,field:e,global:f,indexPath:g,operation:i,originalDoc:j,overrideAccess:k,parentIsLocalized:l,path:o,previousValue:p,req:q,schemaPath:r}=a,{value:s}=a;if(m?.features?.hooks?.beforeValidate?.length)for(let b of m.features.hooks.beforeValidate)s=await b(a);if(!m.features.nodeHooks?.beforeValidate?.size&&!m.features.nodeHooks?.afterChange?.size&&!m.features.nodeHooks?.beforeChange?.size&&!m.features.getSubFields?.size)return s;let t={};if(aP({nodeIDMap:t,nodes:p?.root?.children??[]}),c.internal||(c.internal={}),c.internal.richText||(c.internal.richText={}),c.internal.richText[o.join(".")]={originalNodeIDMap:t},!m.features.nodeHooks?.beforeValidate?.size)return s;let u={};for(let[a,p]of(aP({nodeIDMap:u,nodes:s?.root?.children??[]}),Object.entries(u))){let s=m.features.nodeHooks.beforeValidate,u=s?.get(p.type);if(u)for(let b of u){if(!t[a]){console.warn("(beforeValidate) No original node found for node with id",a,"node:",p,"path",o.join("."));continue}p=await b({context:c,node:p,operation:i,originalNode:t[a],overrideAccess:k,parentRichTextFieldPath:o,parentRichTextFieldSchemaPath:r,req:q})}let v=m.features.getSubFields?.get(p.type),w=m.features.getSubFieldsData?.get(p.type);if(v&&w){let m=v({node:p,req:q}),s=w({node:p,req:q})??{},u=w({node:t[a],req:q})??{};m?.length&&await (0,h.m)({id:a,blockData:s,collection:b,context:c,data:d,doc:j,fields:m,global:f,operation:i,overrideAccess:k,parentIndexPath:g.join("-"),parentIsLocalized:l||e.localized||!1,parentPath:o.join("."),parentSchemaPath:r.join("."),req:q,siblingData:s,siblingDoc:u})}}return s}]},outputSchema:({collectionIDFieldTypes:a,config:b,field:c,i18n:d,interfaceNameDefinitions:e,isRequired:f})=>{let g={type:(0,i.B2)("object",f),properties:{root:{type:"object",additionalProperties:!1,properties:{type:{type:"string"},children:{type:"array",items:{type:"object",additionalProperties:!0,properties:{type:{type:"string",tsType:"any"},version:{type:"integer"}},required:["type","version"]}},direction:{oneOf:[{enum:["ltr","rtl"]},{type:"null"}]},format:{type:"string",enum:["left","start","center","right","end","justify",""]},indent:{type:"integer"},version:{type:"integer"}},required:["children","direction","format","indent","type","version"]}},required:["root"]};for(let h of m.features.generatedTypes.modifyOutputSchemas)g=h({collectionIDFieldTypes:a,config:b,currentSchema:g,field:c,i18n:d,interfaceNameDefinitions:e,isRequired:f});return g},validate:aS({editorConfig:m})}}}},2724:(a,b,c)=>{"use strict";let d=c(85558),e=c(63190),{style:f,clear:g,figures:h}=c(78339),{erase:i,cursor:j}=c(40821),{DatePart:k,Meridiem:l,Day:m,Hours:o,Milliseconds:p,Minutes:q,Month:r,Seconds:s,Year:t}=c(49223),u=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,v={1:({token:a})=>a.replace(/\\(.)/g,"$1"),2:a=>new m(a),3:a=>new r(a),4:a=>new t(a),5:a=>new l(a),6:a=>new o(a),7:a=>new q(a),8:a=>new s(a),9:a=>new p(a)},w={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class x extends e{constructor(a={}){super(a),this.msg=a.message,this.cursor=0,this.typed="",this.locales=Object.assign(w,a.locales),this._date=a.initial||new Date,this.errorMsg=a.error||"Please Enter A Valid Value",this.validator=a.validate||(()=>!0),this.mask=a.mask||"YYYY-MM-DD HH:mm:ss",this.clear=g("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(a){a&&this._date.setTime(a.getTime())}set mask(a){let b;for(this.parts=[];b=u.exec(a);){let a=b.shift(),c=b.findIndex(a=>null!=a);this.parts.push(c in v?v[c]({token:b[c]||a,date:this.date,parts:this.parts,locales:this.locales}):b[c]||a)}let c=this.parts.reduce((a,b)=>("string"==typeof b&&"string"==typeof a[a.length-1]?a[a.length-1]+=b:a.push(b),a),[]);this.parts.splice(0),this.parts.push(...c),this.reset()}moveCursor(a){this.typed="",this.cursor=a,this.fire()}reset(){this.moveCursor(this.parts.findIndex(a=>a instanceof k)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let a=await this.validator(this.value);"string"==typeof a&&(this.errorMsg=a,a=!1),this.error=!a}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let a=this.parts[this.cursor].prev();if(null==a)return this.bell();this.moveCursor(this.parts.indexOf(a)),this.render()}right(){let a=this.parts[this.cursor].next();if(null==a)return this.bell();this.moveCursor(this.parts.indexOf(a)),this.render()}next(){let a=this.parts[this.cursor].next();this.moveCursor(a?this.parts.indexOf(a):this.parts.findIndex(a=>a instanceof k)),this.render()}_(a){/\d/.test(a)&&(this.typed+=a,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(j.hide):this.out.write(g(this.outputText,this.out.columns)),super.render(),this.outputText=[f.symbol(this.done,this.aborted),d.bold(this.msg),f.delimiter(!1),this.parts.reduce((a,b,c)=>a.concat(c!==this.cursor||this.done?b:d.cyan().underline(b.toString())),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce((a,b,c)=>a+`
${c?" ":h.pointerSmall} ${d.red().italic(b)}`,"")),this.out.write(i.line+j.to(0)+this.outputText))}}a.exports=x},2861:(a,b,c)=>{"use strict";c.d(b,{A:()=>z});var d=c(86069),e=c(81126),f=c(38807);class g extends Error{args;constructor(a){super(a.message),this.args=a}}class h extends Error{args;constructor(a){super(a.message),this.args=a}}class i extends Error{args;constructor(a){super(`Job ${a.job.id} was cancelled`),this.args=a}}var j=c(65679),k=c(29404);function l(a,b){return async c=>{let d=await (0,k.l)({id:a.id,data:c,depth:b.payload.config.jobs.depth,disableTransaction:!0,req:b});if(!d)return a;for(let b in d)if("log"===b)for(let b of d?.log??[])a.log&&a.log.some(a=>a.id===b.id)||(a.log??=[]).push(b);else a[b]=d[b];if(d?.error?.cancelled)throw new i({job:a});return d}}async function m(a){let b,d,[e,f]=a.split("#");try{d=await c(68843)(e.replaceAll("\\","/"))}catch(b){throw Error(`Error importing job queue handler module for path ${a}. This is an advanced feature that may require a sophisticated build pipeline, especially when using it in production or within Next.js, e.g. by calling opening the /api/payload-jobs/run endpoint. You will have to transpile the handler files separately and ensure they are available in the same location when the job is run. If you're using an endpoint to execute your jobs, it's recommended to define your handlers as functions directly in your Payload Config, or use import paths handlers outside of Next.js. Import Error: 
${b instanceof Error?b.message:"Unknown error"}`)}return f&&d[f]&&(b=d[f]),!b&&d.default&&(b=d.default),b||(b=d),b}async function o(a){if(!a)throw Error("Task config is required to get the task handler");return"function"==typeof a.handler?a.handler:await m(a.handler)}var p=c(77208);function q({retriesConfig:a,totalTried:b}){let c=(0,j.AV)();if("object"==typeof a&&a.backoff){if("fixed"===a.backoff.type)c=a.backoff.delay?new Date((0,j.AV)().getTime()+a.backoff.delay):(0,j.AV)();else if("exponential"===a.backoff.type){let d=a.backoff.delay?a.backoff.delay:0;c=new Date((0,j.AV)().getTime()+Math.pow(2,b)*d)}}return c}function r({job:a,retriesConfig:b}){let c="object"==typeof b?b.attempts:b;return null!=c&&a.totalTried>=c?{hasFinalError:!0,maxWorkflowRetries:c}:b?{hasFinalError:!1,maxWorkflowRetries:c,waitUntil:q({retriesConfig:b,totalTried:a.totalTried??0})}:{hasFinalError:!1,maxWorkflowRetries:void 0,waitUntil:void 0}}let s="default"in p?p.default:p;async function t({error:a,req:b,silent:c=!1,updateJob:d}){let{executedAt:e,input:f,job:g,output:h,parent:i,retriesConfig:k,taskConfig:l,taskID:m,taskSlug:o,taskStatus:p,workflowConfig:t}=a.args;l?.onFail&&await l.onFail({input:f,job:g,req:b,taskStatus:p});let u={name:a.name,cancelled:!!("cancelled"in a&&a.cancelled),message:a.message,stack:a.stack},v=(0,j.AV)();g.waitUntil&&new Date(g.waitUntil)<v&&delete g.waitUntil;let w=0;w=k?.attempts===void 0||k?.attempts===null?void 0!==t.retries&&null!==t.retries?"object"==typeof t.retries?"number"==typeof t.retries.attempts?t.retries.attempts:0:t.retries:0:k.attempts;let x={id:new s().toHexString(),completedAt:v.toISOString(),error:u,executedAt:e.toISOString(),input:f,output:h??{},parent:b.payload.config.jobs.addParentToTaskLog?i:void 0,state:"failed",taskID:m,taskSlug:o};if(!p?.complete&&(p?.totalTried??0)>=w)return await d({error:u,hasError:!0,log:{$push:x},processing:!1,totalTried:(g.totalTried??0)+1,waitUntil:g.waitUntil}),c&&("object"!=typeof c||c.error)||b.payload.logger.error({err:a,job:g,msg:`Error running task ${m}. Attempt ${g.totalTried} - max retries reached`,taskSlug:o}),{hasFinalError:!0};let y=q({retriesConfig:k,totalTried:p?.totalTried??0});(!g.waitUntil||y>new Date(g.waitUntil))&&(g.waitUntil=y.toISOString());let{hasFinalError:z,maxWorkflowRetries:A,waitUntil:B}=r({job:g,retriesConfig:t.retries});return c&&("object"!=typeof c||c.error)||b.payload.logger.error({err:a,job:g,msg:`Error running task ${m}. Attempt ${g.totalTried+1}${void 0!==A?"/"+(A+1):""}`,taskSlug:o}),B&&(!g.waitUntil||B>new Date(g.waitUntil))&&(g.waitUntil=B.toISOString()),await d({error:z?u:void 0,hasError:z,log:{$push:x},processing:!1,totalTried:(g.totalTried??0)+1,waitUntil:g.waitUntil}),{hasFinalError:z}}async function u({error:a,req:b,silent:c=!1,updateJob:d}){let{job:e,workflowConfig:f}=a.args,g={name:a.name,cancelled:!!("cancelled"in a&&a.cancelled),message:a.message,stack:a.stack},{hasFinalError:h,maxWorkflowRetries:i,waitUntil:k}=r({job:e,retriesConfig:f.retries});!h&&(e.waitUntil&&new Date(e.waitUntil)<(0,j.AV)()&&delete e.waitUntil,k&&(!e.waitUntil||k>new Date(e.waitUntil))&&(e.waitUntil=k.toISOString()));let l=e.workflowSlug||`Task: ${e.taskSlug}`;return c&&("object"!=typeof c||c.error)||b.payload.logger.error({err:a,msg:`Error running job ${l} id: ${e.id} attempt ${e.totalTried+1}${void 0!==i?"/"+(i+1):""}`}),await d({error:g,hasError:h,processing:!1,totalTried:(e.totalTried??0)+1,waitUntil:e.waitUntil}),{hasFinalError:h}}let v="default"in p?p.default:p,w=(a,b,c,d,e,f)=>{let h=c.payload.config.jobs,i=i=>async(k,{input:l,retries:m,task:p})=>{let q,r,s=(0,j.AV)();if(!d&&!(q=h.tasks?.length&&h.tasks.find(a=>a.slug===i)))throw Error(`Task ${i} not found in workflow ${a.workflowSlug}`);let t=void 0==m||null==m?{}:"number"==typeof m?{attempts:m}:m,u={...q?"number"==typeof q.retries?{attempts:q.retries}:q.retries:{},...t},x=a?.taskStatus?.[i]?a.taskStatus[i][k]:null;if(x&&!0===x.complete){let b=!0;if(u?.shouldRestore===!1?b=!1:"function"==typeof u?.shouldRestore&&(b=await u.shouldRestore({input:l,job:a,req:c,taskStatus:x})),b)return x.output}let y=d?p:await o(q);if(!y||"function"!=typeof y)throw new g({executedAt:s,input:l,job:a,message:d?`Inline task with ID ${k} does not have a valid handler.`:`Task with slug ${i} in workflow ${a.workflowSlug} does not have a valid handler.`,parent:f,retriesConfig:u,taskConfig:q,taskID:k,taskSlug:i,taskStatus:x,workflowConfig:b});let z={};try{r=await y({inlineTask:w(a,b,c,!0,e,{taskID:k,taskSlug:i}),input:l,job:a,req:c,tasks:w(a,b,c,!1,e,{taskID:k,taskSlug:i})})}catch(c){throw new g({executedAt:s,input:l,job:a,message:c.message||"Task handler threw an error",output:z,parent:f,retriesConfig:u,taskConfig:q,taskID:k,taskSlug:i,taskStatus:x,workflowConfig:b})}if("failed"===r.state)throw new g({executedAt:s,input:l,job:a,message:r.errorMessage??"Task handler returned a failed state",output:z,parent:f,retriesConfig:u,taskConfig:q,taskID:k,taskSlug:i,taskStatus:x,workflowConfig:b});z=r.output,q?.onSuccess&&await q.onSuccess({input:l,job:a,req:c,taskStatus:x});let A={id:new v().toHexString(),completedAt:(0,j.AV)().toISOString(),executedAt:s.toISOString(),input:l,output:z,parent:h.addParentToTaskLog?f:void 0,state:"succeeded",taskID:k,taskSlug:i};return await e({log:{$push:A},updatedAt:null}),z};if(d)return i("inline");{let a={};for(let b of h.tasks??[])a[b.slug]=i(b.slug);return a}},x=async({job:a,req:b,silent:c,updateJob:d,workflowConfig:e,workflowHandler:f})=>{try{await f({inlineTask:w(a,e,b,!0,d),job:a,req:b,tasks:w(a,e,b,!1,d)})}catch(j){if(j instanceof i)throw j;if(j instanceof g){let{hasFinalError:a}=await t({error:j,req:b,silent:c,updateJob:d});return{status:a?"error-reached-max-retries":"error"}}let{hasFinalError:f}=await u({error:j instanceof h?j:new h({job:a,message:"object"==typeof j&&j&&"message"in j?j.message:"An unhandled error occurred",workflowConfig:e}),req:b,silent:c,updateJob:d});return{status:f?"error-reached-max-retries":"error"}}return await d({completedAt:(0,j.AV)().toISOString(),processing:!1,totalTried:(a.totalTried??0)+1}),{status:"success"}},y=async({job:a,req:b,silent:c=!1,updateJob:d,workflowConfig:e,workflowHandler:f})=>{let g=[];for(let b of f){if("task"in b){if(a?.taskStatus?.[b.task]?.[b.id]?.complete)continue}else if(a?.taskStatus?.inline?.[b.id]?.complete)continue;(!b.condition||b.condition({job:a}))&&g.push(b)}let i=w(a,e,b,!1,d),k=w(a,e,b,!0,d);try{await Promise.all(g.map(async b=>{"task"in b?await i[b.task](b.id,{input:b.input?b.input({job:a}):{},retries:b.retries}):await k(b.id,{retries:b.retries,task:b.inlineTask})}))}catch(g){let{hasFinalError:f}=await u({error:g instanceof h?g:new h({job:a,message:"object"==typeof g&&g&&"message"in g?g.message:"An unhandled error occurred",workflowConfig:e}),silent:c,req:b,updateJob:d});return{status:f?"error-reached-max-retries":"error"}}let l=!1;for(let[b,c]of Object.entries(a.taskStatus))for(let[a,d]of Object.entries(c))if(d.complete){let c=f.find(c=>"task"in c?c.task===b&&c.id===a:c.id===a&&"inline"===b);if(c?.completesJob){l=!0;break}}return l?(await d({completedAt:(0,j.AV)().toISOString(),processing:!1,totalTried:(a.totalTried??0)+1}),{status:"success"}):await y({job:a,req:b,updateJob:d,workflowConfig:e,workflowHandler:f})},z=async a=>{let{id:b,allQueues:c=!1,limit:g=10,overrideAccess:h,processingOrder:o,queue:p="default",req:q,req:{payload:r,payload:{config:{jobs:s}}},sequential:t,silent:u=!1,where:v}=a;if(!h){let a=s?.access?.run??(()=>!0);if(!await a({req:q}))throw new d.c(q.t)}let w=[{completedAt:{exists:!1}},{hasError:{not_equals:!0}},{processing:{equals:!1}},{or:[{waitUntil:{exists:!1}},{waitUntil:{less_than:(0,j.AV)().toISOString()}}]}];!0!==c&&w.push({queue:{equals:p??"default"}}),v&&w.push(v);let z=[];if(b){let a=await (0,k.l)({id:b,data:{processing:!0},depth:s.depth,disableTransaction:!0,req:q,returning:!0});a&&(z=[a])}else{let b=r.collections[f.SJ]?.config.defaultSort??"createdAt",d=s.processingOrder;"function"==typeof d?b=await d(a):"object"!=typeof d||Array.isArray(d)?"string"==typeof d&&(b=d):!c&&p&&d.queues&&d.queues[p]?b=d.queues[p]:d.default&&(b=d.default);let e=await (0,k.Y)({data:{processing:!0},depth:s.depth,disableTransaction:!0,limit:g,req:q,returning:!0,sort:o??b,where:{and:w}});e&&(z=e)}let{existingJobs:A,newJobs:B}=z.reduce((a,b)=>(b.totalTried>0?a.existingJobs.push(b):a.newJobs.push(b),a),{existingJobs:[],newJobs:[]});if(!z.length)return{noJobsRemaining:!0,remainingJobsFromQueried:0};u&&("object"!=typeof u||u.info)||r.logger.info({msg:`Running ${z.length} jobs.`,new:B?.length,retrying:A?.length});let C=[],D=async a=>{if(!a.workflowSlug&&!a.taskSlug)throw Error("Job must have either a workflowSlug or a taskSlug");let b=(0,e.i)(q,"transactionID"),c=a.workflowSlug&&s.workflows?.length?s.workflows.find(({slug:b})=>b===a.workflowSlug):{slug:"singleTask",handler:async({job:a,tasks:b})=>{await b[a.taskSlug]("1",{input:a.input})}};if(!c)return{id:a.id,result:{status:"error"}};try{let d,e=l(a,b);if("function"==typeof c.handler||"object"==typeof c.handler&&Array.isArray(c.handler))d=c.handler;else if(!(d=await m(c.handler))){let b=a.workflowSlug||`Task: ${a.taskSlug}`,d=`Can't find runner while importing with the path ${c.handler} in job type ${b}.`;return u&&("object"!=typeof u||u.error)||r.logger.error(d),await e({error:{error:d},hasError:!0,processing:!1}),{id:a.id,result:{status:"error-reached-max-retries"}}}if("function"==typeof d){let f=await x({job:a,req:b,silent:u,updateJob:e,workflowConfig:c,workflowHandler:d});return"success"===f.status&&C.push(a.id),{id:a.id,result:f}}{let f=await y({job:a,req:b,silent:u,updateJob:e,workflowConfig:c,workflowHandler:d});return"success"===f.status&&C.push(a.id),{id:a.id,result:f}}}catch(b){if(b instanceof i)return{id:a.id,result:{status:"error-reached-max-retries"}};throw b}},E=[];if(t)for(let a of z){let b=await D(a);b&&E.push(b)}else{let a=z.map(D);E=await Promise.all(a)}if(s.deleteJobOnComplete&&C.length)try{s.runHooks?await r.delete({collection:f.SJ,depth:0,disableTransaction:!0,where:{id:{in:C}}}):await r.db.deleteMany({collection:f.SJ,where:{id:{in:C}}})}catch(a){u&&("object"!=typeof u||u.error)||r.logger.error({err:a,msg:`Failed to delete jobs ${C.join(", ")} on complete`})}let F=E.reduce((a,b)=>(null!==b&&(a[b.id]=b.result),a),{}),G=0;for(let a in F){let b=F[a];b?.status==="error"&&G++}return{jobStatus:F,remainingJobsFromQueried:G}}},2927:a=>{"use strict";a.exports=function(a,b){let c=a.length,d=0;for(let e=0;e<c;++e)d|=a[e]^b[e];return 0===d}},3016:(a,b,c)=>{"use strict";let d;a=c.nmd(a);let{Buffer:e}=c(4573),f="AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAn9/AGABfwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAzQzBQYAAAMAAAAAAAADAQMAAwMDAAACAAAAAAICAgICAgICAgIBAQEBAQEBAQEDAAADAAAABAUBcAESEgUDAQACBggBfwFBgNgECwfFBygGbWVtb3J5AgALX2luaXRpYWxpemUACBlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQACRhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUANgxsbGh0dHBfYWxsb2MACwZtYWxsb2MAOAtsbGh0dHBfZnJlZQAMBGZyZWUADA9sbGh0dHBfZ2V0X3R5cGUADRVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADhVsbGh0dHBfZ2V0X2h0dHBfbWlub3IADxFsbGh0dHBfZ2V0X21ldGhvZAAQFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAERJsbGh0dHBfZ2V0X3VwZ3JhZGUAEgxsbGh0dHBfcmVzZXQAEw5sbGh0dHBfZXhlY3V0ZQAUFGxsaHR0cF9zZXR0aW5nc19pbml0ABUNbGxodHRwX2ZpbmlzaAAWDGxsaHR0cF9wYXVzZQAXDWxsaHR0cF9yZXN1bWUAGBtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGRBsbGh0dHBfZ2V0X2Vycm5vABoXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AGxdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAcFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB0RbGxodHRwX2Vycm5vX25hbWUAHhJsbGh0dHBfbWV0aG9kX25hbWUAHxJsbGh0dHBfc3RhdHVzX25hbWUAIBpsbGh0dHBfc2V0X2xlbmllbnRfaGVhZGVycwAhIWxsaHR0cF9zZXRfbGVuaWVudF9jaHVua2VkX2xlbmd0aAAiHWxsaHR0cF9zZXRfbGVuaWVudF9rZWVwX2FsaXZlACMkbGxodHRwX3NldF9sZW5pZW50X3RyYW5zZmVyX2VuY29kaW5nACQabGxodHRwX3NldF9sZW5pZW50X3ZlcnNpb24AJSNsbGh0dHBfc2V0X2xlbmllbnRfZGF0YV9hZnRlcl9jbG9zZQAmJ2xsaHR0cF9zZXRfbGVuaWVudF9vcHRpb25hbF9sZl9hZnRlcl9jcgAnLGxsaHR0cF9zZXRfbGVuaWVudF9vcHRpb25hbF9jcmxmX2FmdGVyX2NodW5rACgobGxodHRwX3NldF9sZW5pZW50X29wdGlvbmFsX2NyX2JlZm9yZV9sZgApKmxsaHR0cF9zZXRfbGVuaWVudF9zcGFjZXNfYWZ0ZXJfY2h1bmtfc2l6ZQAqGGxsaHR0cF9tZXNzYWdlX25lZWRzX2VvZgA1CRcBAEEBCxEBAgMEBQoGBzEzMi0uLCsvMArYywIzFgBB/NMAKAIABEAAC0H80wBBATYCAAsUACAAEDcgACACNgI4IAAgAToAKAsUACAAIAAvATQgAC0AMCAAEDYQAAseAQF/QcAAEDkiARA3IAFBgAg2AjggASAAOgAoIAELjwwBB38CQCAARQ0AIABBCGsiASAAQQRrKAIAIgBBeHEiBGohBQJAIABBAXENACAAQQNxRQ0BIAEgASgCACIAayIBQZDUACgCAEkNASAAIARqIQQCQAJAQZTUACgCACABRwRAIABB/wFNBEAgAEEDdiEDIAEoAggiACABKAIMIgJGBEBBgNQAQYDUACgCAEF+IAN3cTYCAAwFCyACIAA2AgggACACNgIMDAQLIAEoAhghBiABIAEoAgwiAEcEQCAAIAEoAggiAjYCCCACIAA2AgwMAwsgAUEUaiIDKAIAIgJFBEAgASgCECICRQ0CIAFBEGohAwsDQCADIQcgAiIAQRRqIgMoAgAiAg0AIABBEGohAyAAKAIQIgINAAsgB0EANgIADAILIAUoAgQiAEEDcUEDRw0CIAUgAEF+cTYCBEGI1AAgBDYCACAFIAQ2AgAgASAEQQFyNgIEDAMLQQAhAAsgBkUNAAJAIAEoAhwiAkECdEGw1gBqIgMoAgAgAUYEQCADIAA2AgAgAA0BQYTUAEGE1AAoAgBBfiACd3E2AgAMAgsgBkEQQRQgBigCECABRhtqIAA2AgAgAEUNAQsgACAGNgIYIAEoAhAiAgRAIAAgAjYCECACIAA2AhgLIAFBFGooAgAiAkUNACAAQRRqIAI2AgAgAiAANgIYCyABIAVPDQAgBSgCBCIAQQFxRQ0AAkACQAJAAkAgAEECcUUEQEGY1AAoAgAgBUYEQEGY1AAgATYCAEGM1ABBjNQAKAIAIARqIgA2AgAgASAAQQFyNgIEIAFBlNQAKAIARw0GQYjUAEEANgIAQZTUAEEANgIADAYLQZTUACgCACAFRgRAQZTUACABNgIAQYjUAEGI1AAoAgAgBGoiADYCACABIABBAXI2AgQgACABaiAANgIADAYLIABBeHEgBGohBCAAQf8BTQRAIABBA3YhAyAFKAIIIgAgBSgCDCICRgRAQYDUAEGA1AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyAFKAIYIQYgBSAFKAIMIgBHBEBBkNQAKAIAGiAAIAUoAggiAjYCCCACIAA2AgwMAwsgBUEUaiIDKAIAIgJFBEAgBSgCECICRQ0CIAVBEGohAwsDQCADIQcgAiIAQRRqIgMoAgAiAg0AIABBEGohAyAAKAIQIgINAAsgB0EANgIADAILIAUgAEF+cTYCBCABIARqIAQ2AgAgASAEQQFyNgIEDAMLQQAhAAsgBkUNAAJAIAUoAhwiAkECdEGw1gBqIgMoAgAgBUYEQCADIAA2AgAgAA0BQYTUAEGE1AAoAgBBfiACd3E2AgAMAgsgBkEQQRQgBigCECAFRhtqIAA2AgAgAEUNAQsgACAGNgIYIAUoAhAiAgRAIAAgAjYCECACIAA2AhgLIAVBFGooAgAiAkUNACAAQRRqIAI2AgAgAiAANgIYCyABIARqIAQ2AgAgASAEQQFyNgIEIAFBlNQAKAIARw0AQYjUACAENgIADAELIARB/wFNBEAgBEF4cUGo1ABqIQACf0GA1AAoAgAiAkEBIARBA3Z0IgNxRQRAQYDUACACIANyNgIAIAAMAQsgACgCCAsiAiABNgIMIAAgATYCCCABIAA2AgwgASACNgIIDAELQR8hAiAEQf///wdNBEAgBEEmIARBCHZnIgBrdkEBcSAAQQF0a0E+aiECCyABIAI2AhwgAUIANwIQIAJBAnRBsNYAaiEAAkBBhNQAKAIAIgNBASACdCIHcUUEQCAAIAE2AgBBhNQAIAMgB3I2AgAgASAANgIYIAEgATYCCCABIAE2AgwMAQsgBEEZIAJBAXZrQQAgAkEfRxt0IQIgACgCACEAAkADQCAAIgMoAgRBeHEgBEYNASACQR12IQAgAkEBdCECIAMgAEEEcWpBEGoiBygCACIADQALIAcgATYCACABIAM2AhggASABNgIMIAEgATYCCAwBCyADKAIIIgAgATYCDCADIAE2AgggAUEANgIYIAEgAzYCDCABIAA2AggLQaDUAEGg1AAoAgBBAWsiAEF/IAAbNgIACwsHACAALQAoCwcAIAAtACoLBwAgAC0AKwsHACAALQApCwcAIAAvATQLBwAgAC0AMAtAAQR/IAAoAhghASAALwEuIQIgAC0AKCEDIAAoAjghBCAAEDcgACAENgI4IAAgAzoAKCAAIAI7AS4gACABNgIYC8X4AQIHfwN+IAEgAmohBAJAIAAiAygCDCIADQAgAygCBARAIAMgATYCBAsjAEEQayIJJAACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAygCHCICQQFrDuwB7gEB6AECAwQFBgcICQoLDA0ODxAREucBE+YBFBXlARYX5AEYGRobHB0eHyDvAe0BIeMBIiMkJSYnKCkqK+IBLC0uLzAxMuEB4AEzNN8B3gE1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk/pAVBRUlPdAdwBVNsBVdoBVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHZAdgBxgHXAccB1gHIAckBygHLAcwBzQHOAc8B0AHRAdIB0wHUAQDqAQtBAAzUAQtBDgzTAQtBDQzSAQtBDwzRAQtBEAzQAQtBEQzPAQtBEgzOAQtBEwzNAQtBFAzMAQtBFQzLAQtBFgzKAQtBFwzJAQtBGAzIAQtBGQzHAQtBGgzGAQtBGwzFAQtBHAzEAQtBHQzDAQtBHgzCAQtBHwzBAQtBCAzAAQtBIAy/AQtBIgy+AQtBIQy9AQtBBwy8AQtBIwy7AQtBJAy6AQtBJQy5AQtBJgy4AQtBJwy3AQtBzgEMtgELQSgMtQELQSkMtAELQSoMswELQSsMsgELQc8BDLEBC0EtDLABC0EuDK8BC0EvDK4BC0EwDK0BC0ExDKwBC0EyDKsBC0EzDKoBC0HQAQypAQtBNAyoAQtBOAynAQtBDAymAQtBNQylAQtBNgykAQtBNwyjAQtBPQyiAQtBOQyhAQtB0QEMoAELQQsMnwELQT4MngELQToMnQELQQoMnAELQTsMmwELQTwMmgELQdIBDJkBC0HAAAyYAQtBPwyXAQtBwQAMlgELQQkMlQELQSwMlAELQcIADJMBC0HDAAySAQtBxAAMkQELQcUADJABC0HGAAyPAQtBxwAMjgELQcgADI0BC0HJAAyMAQtBygAMiwELQcsADIoBC0HMAAyJAQtBzQAMiAELQc4ADIcBC0HPAAyGAQtB0AAMhQELQdEADIQBC0HSAAyDAQtB1AAMggELQdMADIEBC0HVAAyAAQtB1gAMfwtB1wAMfgtB2AAMfQtB2QAMfAtB2gAMewtB2wAMegtB0wEMeQtB3AAMeAtB3QAMdwtBBgx2C0HeAAx1C0EFDHQLQd8ADHMLQQQMcgtB4AAMcQtB4QAMcAtB4gAMbwtB4wAMbgtBAwxtC0HkAAxsC0HlAAxrC0HmAAxqC0HoAAxpC0HnAAxoC0HpAAxnC0HqAAxmC0HrAAxlC0HsAAxkC0ECDGMLQe0ADGILQe4ADGELQe8ADGALQfAADF8LQfEADF4LQfIADF0LQfMADFwLQfQADFsLQfUADFoLQfYADFkLQfcADFgLQfgADFcLQfkADFYLQfoADFULQfsADFQLQfwADFMLQf0ADFILQf4ADFELQf8ADFALQYABDE8LQYEBDE4LQYIBDE0LQYMBDEwLQYQBDEsLQYUBDEoLQYYBDEkLQYcBDEgLQYgBDEcLQYkBDEYLQYoBDEULQYsBDEQLQYwBDEMLQY0BDEILQY4BDEELQY8BDEALQZABDD8LQZEBDD4LQZIBDD0LQZMBDDwLQZQBDDsLQZUBDDoLQZYBDDkLQZcBDDgLQZgBDDcLQZkBDDYLQZoBDDULQZsBDDQLQZwBDDMLQZ0BDDILQZ4BDDELQZ8BDDALQaABDC8LQaEBDC4LQaIBDC0LQaMBDCwLQaQBDCsLQaUBDCoLQaYBDCkLQacBDCgLQagBDCcLQakBDCYLQaoBDCULQasBDCQLQawBDCMLQa0BDCILQa4BDCELQa8BDCALQbABDB8LQbEBDB4LQbIBDB0LQbMBDBwLQbQBDBsLQbUBDBoLQbYBDBkLQbcBDBgLQbgBDBcLQQEMFgtBuQEMFQtBugEMFAtBuwEMEwtBvAEMEgtBvQEMEQtBvgEMEAtBvwEMDwtBwAEMDgtBwQEMDQtBwgEMDAtBwwEMCwtBxAEMCgtBxQEMCQtBxgEMCAtB1AEMBwtBxwEMBgtByAEMBQtByQEMBAtBygEMAwtBywEMAgtBzQEMAQtBzAELIQIDQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAMCfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJ/AkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAMCfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCACDtQBAAECAwQFBgcICQoLDA0ODxARFBUWFxgZGhscHR4fICEjJCUnKCmIA4cDhQOEA/wC9QLuAusC6ALmAuMC4ALfAt0C2wLWAtUC1ALTAtICygLJAsgCxwLGAsUCxALDAr0CvAK6ArkCuAK3ArYCtQK0ArICsQKsAqoCqAKnAqYCpQKkAqMCogKhAqACnwKbApoCmQKYApcCkAKIAoQCgwKCAvkB9gH1AfQB8wHyAfEB8AHvAe0B6wHoAeMB4QHgAd8B3gHdAdwB2wHaAdkB2AHXAdYB1QHUAdIB0QHQAc8BzgHNAcwBywHKAckByAHHAcYBxQHEAcMBwgHBAcABvwG+Ab0BvAG7AboBuQG4AbcBtgG1AbQBswGyAbEBsAGvAa4BrQGsAasBqgGpAagBpwGmAaUBpAGjAaIBoQGgAZ8BngGdAZwBmwGaAZcBlgGRAZABjwGOAY0BjAGLAYoBiQGIAYUBhAGDAX59fHt6d3Z1LFFSU1RVVgsgASAERw1zQewBIQIMqQMLIAEgBEcNkAFB0QEhAgyoAwsgASAERw3pAUGEASECDKcDCyABIARHDfQBQfoAIQIMpgMLIAEgBEcNggJB9QAhAgylAwsgASAERw2JAkHzACECDKQDCyABIARHDYwCQfEAIQIMowMLIAEgBEcNHkEeIQIMogMLIAEgBEcNGUEYIQIMoQMLIAEgBEcNuAJBzQAhAgygAwsgASAERw3DAkHGACECDJ8DCyABIARHDcQCQcMAIQIMngMLIAEgBEcNygJBOCECDJ0DCyADLQAwQQFGDZUDDPICC0EAIQACQAJAAkAgAy0AKkUNACADLQArRQ0AIAMvATIiAkECcUUNAQwCCyADLwEyIgJBAXFFDQELQQEhACADLQAoQQFGDQAgAy8BNCIGQeQAa0HkAEkNACAGQcwBRg0AIAZBsAJGDQAgAkHAAHENAEEAIQAgAkGIBHFBgARGDQAgAkEocUEARyEACyADQQA7ATIgA0EAOgAxAkAgAEUEQCADQQA6ADEgAy0ALkEEcQ0BDJwDCyADQgA3AyALIANBADoAMSADQQE6ADYMSQtBACEAAkAgAygCOCICRQ0AIAIoAiwiAkUNACADIAIRAAAhAAsgAEUNSSAAQRVHDWMgA0EENgIcIAMgATYCFCADQb0aNgIQIANBFTYCDEEAIQIMmgMLIAEgBEYEQEEGIQIMmgMLIAEtAABBCkYNGQwBCyABIARGBEBBByECDJkDCwJAIAEtAABBCmsOBAIBAQABCyABQQFqIQFBECECDP4CCyADLQAuQYABcQ0YQQAhAiADQQA2AhwgAyABNgIUIANBqR82AhAgA0ECNgIMDJcDCyABQQFqIQEgA0Evai0AAEEBcQ0XQQAhAiADQQA2AhwgAyABNgIUIANBhB82AhAgA0EZNgIMDJYDCyADIAMpAyAiDCAEIAFrrSIKfSILQgAgCyAMWBs3AyAgCiAMWg0ZQQghAgyVAwsgASAERwRAIANBCTYCCCADIAE2AgRBEiECDPsCC0EJIQIMlAMLIAMpAyBQDZwCDEQLIAEgBEYEQEELIQIMkwMLIAEtAABBCkcNFyABQQFqIQEMGAsgA0Evai0AAEEBcUUNGgwnC0EAIQACQCADKAI4IgJFDQAgAigCSCICRQ0AIAMgAhEAACEACyAADRoMQwtBACEAAkAgAygCOCICRQ0AIAIoAkgiAkUNACADIAIRAAAhAAsgAA0bDCULQQAhAAJAIAMoAjgiAkUNACACKAJIIgJFDQAgAyACEQAAIQALIAANHAwzCyADQS9qLQAAQQFxRQ0dDCMLQQAhAAJAIAMoAjgiAkUNACACKAJMIgJFDQAgAyACEQAAIQALIAANHQxDC0EAIQACQCADKAI4IgJFDQAgAigCTCICRQ0AIAMgAhEAACEACyAADR4MIQsgASAERgRAQRMhAgyLAwsCQCABLQAAIgBBCmsOBCAkJAAjCyABQQFqIQEMIAtBACEAAkAgAygCOCICRQ0AIAIoAkwiAkUNACADIAIRAAAhAAsgAA0jDEMLIAEgBEYEQEEWIQIMiQMLIAEtAABB8D9qLQAAQQFHDSQM7QILAkADQCABLQAAQeA5ai0AACIAQQFHBEACQCAAQQJrDgIDACgLIAFBAWohAUEfIQIM8AILIAQgAUEBaiIBRw0AC0EYIQIMiAMLIAMoAgQhAEEAIQIgA0EANgIEIAMgACABQQFqIgEQMyIADSIMQgtBACEAAkAgAygCOCICRQ0AIAIoAkwiAkUNACADIAIRAAAhAAsgAA0kDCsLIAEgBEYEQEEcIQIMhgMLIANBCjYCCCADIAE2AgRBACEAAkAgAygCOCICRQ0AIAIoAkgiAkUNACADIAIRAAAhAAsgAA0mQSIhAgzrAgsgASAERwRAA0AgAS0AAEHgO2otAAAiAEEDRwRAIABBAWsOBRkbJ+wCJicLIAQgAUEBaiIBRw0AC0EbIQIMhQMLQRshAgyEAwsDQCABLQAAQeA9ai0AACIAQQNHBEAgAEEBaw4FEBIoFCcoCyAEIAFBAWoiAUcNAAtBHiECDIMDCyABIARHBEAgA0ELNgIIIAMgATYCBEEHIQIM6QILQR8hAgyCAwsgASAERgRAQSAhAgyCAwsCQCABLQAAQQ1rDhQvQEBAQEBAQEBAQEBAQEBAQEBAAEALQQAhAiADQQA2AhwgA0G3CzYCECADQQI2AgwgAyABQQFqNgIUDIEDCyADQS9qIQIDQCABIARGBEBBISECDIIDCwJAAkACQCABLQAAIgBBCWsOGAIAKioBKioqKioqKioqKioqKioqKioqAigLIAFBAWohASADQS9qLQAAQQFxRQ0LDBkLIAFBAWohAQwYCyABQQFqIQEgAi0AAEECcQ0AC0EAIQIgA0EANgIcIAMgATYCFCADQc4UNgIQIANBDDYCDAyAAwsgAUEBaiEBC0EAIQACQCADKAI4IgJFDQAgAigCVCICRQ0AIAMgAhEAACEACyAADQEM0QILIANCADcDIAw8CyAAQRVGBEAgA0EkNgIcIAMgATYCFCADQYYaNgIQIANBFTYCDEEAIQIM/QILQQAhAiADQQA2AhwgAyABNgIUIANB4g02AhAgA0EUNgIMDPwCCyADKAIEIQBBACECIANBADYCBCADIAAgASAMp2oiARAxIgBFDSsgA0EHNgIcIAMgATYCFCADIAA2AgwM+wILIAMtAC5BwABxRQ0BC0EAIQACQCADKAI4IgJFDQAgAigCUCICRQ0AIAMgAhEAACEACyAARQ0rIABBFUYEQCADQQo2AhwgAyABNgIUIANB8Rg2AhAgA0EVNgIMQQAhAgz6AgtBACECIANBADYCHCADIAE2AhQgA0GLDDYCECADQRM2AgwM+QILQQAhAiADQQA2AhwgAyABNgIUIANBsRQ2AhAgA0ECNgIMDPgCC0EAIQIgA0EANgIcIAMgATYCFCADQYwUNgIQIANBGTYCDAz3AgtBACECIANBADYCHCADIAE2AhQgA0HRHDYCECADQRk2AgwM9gILIABBFUYNPUEAIQIgA0EANgIcIAMgATYCFCADQaIPNgIQIANBIjYCDAz1AgsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEQMiIARQ0oIANBDTYCHCADIAE2AhQgAyAANgIMDPQCCyAAQRVGDTpBACECIANBADYCHCADIAE2AhQgA0GiDzYCECADQSI2AgwM8wILIAMoAgQhAEEAIQIgA0EANgIEIAMgACABEDIiAEUEQCABQQFqIQEMKAsgA0EONgIcIAMgADYCDCADIAFBAWo2AhQM8gILIABBFUYNN0EAIQIgA0EANgIcIAMgATYCFCADQaIPNgIQIANBIjYCDAzxAgsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEQMiIARQRAIAFBAWohAQwnCyADQQ82AhwgAyAANgIMIAMgAUEBajYCFAzwAgtBACECIANBADYCHCADIAE2AhQgA0HoFjYCECADQRk2AgwM7wILIABBFUYNM0EAIQIgA0EANgIcIAMgATYCFCADQc4MNgIQIANBIzYCDAzuAgsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEQMyIARQ0lIANBETYCHCADIAE2AhQgAyAANgIMDO0CCyAAQRVGDTBBACECIANBADYCHCADIAE2AhQgA0HODDYCECADQSM2AgwM7AILIAMoAgQhAEEAIQIgA0EANgIEIAMgACABEDMiAEUEQCABQQFqIQEMJQsgA0ESNgIcIAMgADYCDCADIAFBAWo2AhQM6wILIANBL2otAABBAXFFDQELQRUhAgzPAgtBACECIANBADYCHCADIAE2AhQgA0HoFjYCECADQRk2AgwM6AILIABBO0cNACABQQFqIQEMDAtBACECIANBADYCHCADIAE2AhQgA0GYFzYCECADQQI2AgwM5gILIABBFUYNKEEAIQIgA0EANgIcIAMgATYCFCADQc4MNgIQIANBIzYCDAzlAgsgA0EUNgIcIAMgATYCFCADIAA2AgwM5AILIAMoAgQhAEEAIQIgA0EANgIEIAMgACABEDMiAEUEQCABQQFqIQEM3AILIANBFTYCHCADIAA2AgwgAyABQQFqNgIUDOMCCyADKAIEIQBBACECIANBADYCBCADIAAgARAzIgBFBEAgAUEBaiEBDNoCCyADQRc2AhwgAyAANgIMIAMgAUEBajYCFAziAgsgAEEVRg0jQQAhAiADQQA2AhwgAyABNgIUIANBzgw2AhAgA0EjNgIMDOECCyADKAIEIQBBACECIANBADYCBCADIAAgARAzIgBFBEAgAUEBaiEBDB0LIANBGTYCHCADIAA2AgwgAyABQQFqNgIUDOACCyADKAIEIQBBACECIANBADYCBCADIAAgARAzIgBFBEAgAUEBaiEBDNYCCyADQRo2AhwgAyAANgIMIAMgAUEBajYCFAzfAgsgAEEVRg0fQQAhAiADQQA2AhwgAyABNgIUIANBog82AhAgA0EiNgIMDN4CCyADKAIEIQBBACECIANBADYCBCADIAAgARAyIgBFBEAgAUEBaiEBDBsLIANBHDYCHCADIAA2AgwgAyABQQFqNgIUDN0CCyADKAIEIQBBACECIANBADYCBCADIAAgARAyIgBFBEAgAUEBaiEBDNICCyADQR02AhwgAyAANgIMIAMgAUEBajYCFAzcAgsgAEE7Rw0BIAFBAWohAQtBJCECDMACC0EAIQIgA0EANgIcIAMgATYCFCADQc4UNgIQIANBDDYCDAzZAgsgASAERwRAA0AgAS0AAEEgRw3xASAEIAFBAWoiAUcNAAtBLCECDNkCC0EsIQIM2AILIAEgBEYEQEE0IQIM2AILAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0E0IQIM2QILIAMoAgQhACADQQA2AgQgAyAAIAEQMCIARQ2MAiADQTI2AhwgAyABNgIUIAMgADYCDEEAIQIM2AILIAMoAgQhACADQQA2AgQgAyAAIAEQMCIARQRAIAFBAWohAQyMAgsgA0EyNgIcIAMgADYCDCADIAFBAWo2AhRBACECDNcCCyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE5IQIMwAILIAMpAyAiC0KZs+bMmbPmzBlWDQEgAyALQgp+Igo3AyAgCiAArUL/AYMiC0J/hVYNASADIAogC3w3AyAgBCABQQFqIgFHDQALQcAAIQIM2AILIAMoAgQhACADQQA2AgQgAyAAIAFBAWoiARAwIgANFwzJAgtBwAAhAgzWAgsgASAERgRAQckAIQIM1gILAkADQAJAIAEtAABBCWsOGAACjwKPApMCjwKPAo8CjwKPAo8CjwKPAo8CjwKPAo8CjwKPAo8CjwKPAo8CAI8CCyAEIAFBAWoiAUcNAAtByQAhAgzWAgsgAUEBaiEBIANBL2otAABBAXENjwIgA0EANgIcIAMgATYCFCADQekPNgIQIANBCjYCDEEAIQIM1QILIAEgBEcEQANAIAEtAAAiAEEgRwRAAkACQAJAIABByABrDgsAAc0BzQHNAc0BzQHNAc0BzQECzQELIAFBAWohAUHZACECDL8CCyABQQFqIQFB2gAhAgy+AgsgAUEBaiEBQdsAIQIMvQILIAQgAUEBaiIBRw0AC0HuACECDNUCC0HuACECDNQCCyADQQI6ACgMMAtBACECIANBADYCHCADQbcLNgIQIANBAjYCDCADIAFBAWo2AhQM0gILQQAhAgy3AgtBDSECDLYCC0ERIQIMtQILQRMhAgy0AgtBFCECDLMCC0EWIQIMsgILQRchAgyxAgtBGCECDLACC0EZIQIMrwILQRohAgyuAgtBGyECDK0CC0EcIQIMrAILQR0hAgyrAgtBHiECDKoCC0EgIQIMqQILQSEhAgyoAgtBIyECDKcCC0EnIQIMpgILIANBPTYCHCADIAE2AhQgAyAANgIMQQAhAgy/AgsgA0EbNgIcIAMgATYCFCADQY8bNgIQIANBFTYCDEEAIQIMvgILIANBIDYCHCADIAE2AhQgA0GeGTYCECADQRU2AgxBACECDL0CCyADQRM2AhwgAyABNgIUIANBnhk2AhAgA0EVNgIMQQAhAgy8AgsgA0ELNgIcIAMgATYCFCADQZ4ZNgIQIANBFTYCDEEAIQIMuwILIANBEDYCHCADIAE2AhQgA0GeGTYCECADQRU2AgxBACECDLoCCyADQSA2AhwgAyABNgIUIANBjxs2AhAgA0EVNgIMQQAhAgy5AgsgA0ELNgIcIAMgATYCFCADQY8bNgIQIANBFTYCDEEAIQIMuAILIANBDDYCHCADIAE2AhQgA0GPGzYCECADQRU2AgxBACECDLcCC0EAIQIgA0EANgIcIAMgATYCFCADQa8ONgIQIANBEjYCDAy2AgsCQANAAkAgAS0AAEEKaw4EAAICAAILIAQgAUEBaiIBRw0AC0HsASECDLYCCwJAAkAgAy0ANkEBRw0AQQAhAAJAIAMoAjgiAkUNACACKAJYIgJFDQAgAyACEQAAIQALIABFDQAgAEEVRw0BIANB6wE2AhwgAyABNgIUIANB4hg2AhAgA0EVNgIMQQAhAgy3AgtBzAEhAgycAgsgA0EANgIcIAMgATYCFCADQfELNgIQIANBHzYCDEEAIQIMtQILAkACQCADLQAoQQFrDgIEAQALQcsBIQIMmwILQcQBIQIMmgILIANBAjoAMUEAIQACQCADKAI4IgJFDQAgAigCACICRQ0AIAMgAhEAACEACyAARQRAQc0BIQIMmgILIABBFUcEQCADQQA2AhwgAyABNgIUIANBrAw2AhAgA0EQNgIMQQAhAgy0AgsgA0HqATYCHCADIAE2AhQgA0GHGTYCECADQRU2AgxBACECDLMCCyABIARGBEBB6QEhAgyzAgsgAS0AAEHIAEYNASADQQE6ACgLQbYBIQIMlwILQcoBIQIMlgILIAEgBEcEQCADQQw2AgggAyABNgIEQckBIQIMlgILQegBIQIMrwILIAEgBEYEQEHnASECDK8CCyABLQAAQcgARw0EIAFBAWohAUHIASECDJQCCyABIARGBEBB5gEhAgyuAgsCQAJAIAEtAABBxQBrDhAABQUFBQUFBQUFBQUFBQUBBQsgAUEBaiEBQcYBIQIMlAILIAFBAWohAUHHASECDJMCC0HlASECIAEgBEYNrAIgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB99MAai0AAEcNAyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMrQILIAMoAgQhACADQgA3AwAgAyAAIAZBAWoiARAtIgBFBEBB1AEhAgyTAgsgA0HkATYCHCADIAE2AhQgAyAANgIMQQAhAgysAgtB4wEhAiABIARGDasCIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQfXTAGotAABHDQIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADKwCCyADQYEEOwEoIAMoAgQhACADQgA3AwAgAyAAIAZBAWoiARAtIgANAwwCCyADQQA2AgALQQAhAiADQQA2AhwgAyABNgIUIANB0B42AhAgA0EINgIMDKkCC0HFASECDI4CCyADQeIBNgIcIAMgATYCFCADIAA2AgxBACECDKcCC0EAIQACQCADKAI4IgJFDQAgAigCOCICRQ0AIAMgAhEAACEACyAARQ1lIABBFUcEQCADQQA2AhwgAyABNgIUIANB1A42AhAgA0EgNgIMQQAhAgynAgsgA0GFATYCHCADIAE2AhQgA0HXGjYCECADQRU2AgxBACECDKYCC0HhASECIAQgASIARg2lAiAEIAFrIAMoAgAiAWohBSAAIAFrQQRqIQYCQANAIAAtAAAgAUHw0wBqLQAARw0BIAFBBEYNAyABQQFqIQEgBCAAQQFqIgBHDQALIAMgBTYCAAymAgsgA0EANgIcIAMgADYCFCADQYQ3NgIQIANBCDYCDCADQQA2AgBBACECDKUCCyABIARHBEAgA0ENNgIIIAMgATYCBEHCASECDIsCC0HgASECDKQCCyADQQA2AgAgBkEBaiEBC0HDASECDIgCCyABIARGBEBB3wEhAgyiAgsgAS0AAEEwayIAQf8BcUEKSQRAIAMgADoAKiABQQFqIQFBwQEhAgyIAgsgAygCBCEAIANBADYCBCADIAAgARAuIgBFDYgCIANB3gE2AhwgAyABNgIUIAMgADYCDEEAIQIMoQILIAEgBEYEQEHdASECDKECCwJAIAEtAABBLkYEQCABQQFqIQEMAQsgAygCBCEAIANBADYCBCADIAAgARAuIgBFDYkCIANB3AE2AhwgAyABNgIUIAMgADYCDEEAIQIMoQILQcABIQIMhgILIAEgBEYEQEHbASECDKACC0EAIQBBASEFQQEhB0EAIQICQAJAAkACQAJAAn8CQAJAAkACQAJAAkACQCABLQAAQTBrDgoKCQABAgMEBQYICwtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshAkEAIQVBACEHDAILQQkhAkEBIQBBACEFQQAhBwwBC0EAIQVBASECCyADIAI6ACsgAUEBaiEBAkACQCADLQAuQRBxDQACQAJAAkAgAy0AKg4DAQACBAsgB0UNAwwCCyAADQEMAgsgBUUNAQsgAygCBCEAIANBADYCBCADIAAgARAuIgBFDQIgA0HYATYCHCADIAE2AhQgAyAANgIMQQAhAgyiAgsgAygCBCEAIANBADYCBCADIAAgARAuIgBFDYsCIANB2QE2AhwgAyABNgIUIAMgADYCDEEAIQIMoQILIAMoAgQhACADQQA2AgQgAyAAIAEQLiIARQ2JAiADQdoBNgIcIAMgATYCFCADIAA2AgwMoAILQb8BIQIMhQILQQAhAAJAIAMoAjgiAkUNACACKAI8IgJFDQAgAyACEQAAIQALAkAgAARAIABBFUYNASADQQA2AhwgAyABNgIUIANBnA02AhAgA0EhNgIMQQAhAgygAgtBvgEhAgyFAgsgA0HXATYCHCADIAE2AhQgA0HWGTYCECADQRU2AgxBACECDJ4CCyABIARGBEBB1wEhAgyeAgsCQCABLQAAQSBGBEAgA0EAOwE0IAFBAWohAQwBCyADQQA2AhwgAyABNgIUIANB6xA2AhAgA0EJNgIMQQAhAgyeAgtBvQEhAgyDAgsgASAERgRAQdYBIQIMnQILAkAgAS0AAEEwa0H/AXEiAkEKSQRAIAFBAWohAQJAIAMvATQiAEGZM0sNACADIABBCmwiADsBNCAAQf7/A3EgAkH//wNzSw0AIAMgACACajsBNAwCC0EAIQIgA0EANgIcIAMgATYCFCADQYAdNgIQIANBDTYCDAyeAgsgA0EANgIcIAMgATYCFCADQYAdNgIQIANBDTYCDEEAIQIMnQILQbwBIQIMggILIAEgBEYEQEHVASECDJwCCwJAIAEtAABBMGtB/wFxIgJBCkkEQCABQQFqIQECQCADLwE0IgBBmTNLDQAgAyAAQQpsIgA7ATQgAEH+/wNxIAJB//8Dc0sNACADIAAgAmo7ATQMAgtBACECIANBADYCHCADIAE2AhQgA0GAHTYCECADQQ02AgwMnQILIANBADYCHCADIAE2AhQgA0GAHTYCECADQQ02AgxBACECDJwCC0G7ASECDIECCyABIARGBEBB1AEhAgybAgsCQCABLQAAQTBrQf8BcSICQQpJBEAgAUEBaiEBAkAgAy8BNCIAQZkzSw0AIAMgAEEKbCIAOwE0IABB/v8DcSACQf//A3NLDQAgAyAAIAJqOwE0DAILQQAhAiADQQA2AhwgAyABNgIUIANBgB02AhAgA0ENNgIMDJwCCyADQQA2AhwgAyABNgIUIANBgB02AhAgA0ENNgIMQQAhAgybAgtBugEhAgyAAgsgASAERgRAQdMBIQIMmgILAkACQAJAAkAgAS0AAEEKaw4XAgMDAAMDAwMDAwMDAwMDAwMDAwMDAwEDCyABQQFqDAULIAFBAWohAUG5ASECDIECCyABQQFqIQEgA0Evai0AAEEBcQ0IIANBADYCHCADIAE2AhQgA0GFCzYCECADQQ02AgxBACECDJoCCyADQQA2AhwgAyABNgIUIANBhQs2AhAgA0ENNgIMQQAhAgyZAgsgASAERwRAIANBDjYCCCADIAE2AgRBASECDP8BC0HSASECDJgCCwJAAkADQAJAIAEtAABBCmsOBAIAAAMACyAEIAFBAWoiAUcNAAtB0QEhAgyZAgsgAygCBCEAIANBADYCBCADIAAgARAsIgBFBEAgAUEBaiEBDAQLIANB0AE2AhwgAyAANgIMIAMgAUEBajYCFEEAIQIMmAILIAMoAgQhACADQQA2AgQgAyAAIAEQLCIADQEgAUEBagshAUG3ASECDPwBCyADQc8BNgIcIAMgADYCDCADIAFBAWo2AhRBACECDJUCC0G4ASECDPoBCyADQS9qLQAAQQFxDQEgA0EANgIcIAMgATYCFCADQc8bNgIQIANBGTYCDEEAIQIMkwILIAEgBEYEQEHPASECDJMCCwJAAkACQCABLQAAQQprDgQBAgIAAgsgAUEBaiEBDAILIAFBAWohAQwBCyADLQAuQcAAcUUNAQtBACEAAkAgAygCOCICRQ0AIAIoAjQiAkUNACADIAIRAAAhAAsgAEUNlgEgAEEVRgRAIANB2QA2AhwgAyABNgIUIANBvRk2AhAgA0EVNgIMQQAhAgySAgsgA0EANgIcIAMgATYCFCADQfgMNgIQIANBGzYCDEEAIQIMkQILIANBADYCHCADIAE2AhQgA0HHJzYCECADQQI2AgxBACECDJACCyABIARHBEAgA0EMNgIIIAMgATYCBEG1ASECDPYBC0HOASECDI8CCyABIARGBEBBzQEhAgyPAgsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBwQBrDhUAAQIDWgQFBlpaWgcICQoLDA0ODxBaCyABQQFqIQFB8QAhAgyEAgsgAUEBaiEBQfIAIQIMgwILIAFBAWohAUH3ACECDIICCyABQQFqIQFB+wAhAgyBAgsgAUEBaiEBQfwAIQIMgAILIAFBAWohAUH/ACECDP8BCyABQQFqIQFBgAEhAgz+AQsgAUEBaiEBQYMBIQIM/QELIAFBAWohAUGMASECDPwBCyABQQFqIQFBjQEhAgz7AQsgAUEBaiEBQY4BIQIM+gELIAFBAWohAUGbASECDPkBCyABQQFqIQFBnAEhAgz4AQsgAUEBaiEBQaIBIQIM9wELIAFBAWohAUGqASECDPYBCyABQQFqIQFBrQEhAgz1AQsgAUEBaiEBQbQBIQIM9AELIAEgBEYEQEHMASECDI4CCyABLQAAQc4ARw1IIAFBAWohAUGzASECDPMBCyABIARGBEBBywEhAgyNAgsCQAJAAkAgAS0AAEHCAGsOEgBKSkpKSkpKSkoBSkpKSkpKAkoLIAFBAWohAUGuASECDPQBCyABQQFqIQFBsQEhAgzzAQsgAUEBaiEBQbIBIQIM8gELQcoBIQIgASAERg2LAiADKAIAIgAgBCABa2ohBSABIABrQQdqIQYCQANAIAEtAAAgAEHo0wBqLQAARw1FIABBB0YNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyMAgsgA0EANgIAIAZBAWohAUEbDEULIAEgBEYEQEHJASECDIsCCwJAAkAgAS0AAEHJAGsOBwBHR0dHRwFHCyABQQFqIQFBrwEhAgzxAQsgAUEBaiEBQbABIQIM8AELQcgBIQIgASAERg2JAiADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHm0wBqLQAARw1DIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyKAgsgA0EANgIAIAZBAWohAUEPDEMLQccBIQIgASAERg2IAiADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHk0wBqLQAARw1CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyJAgsgA0EANgIAIAZBAWohAUEgDEILQcYBIQIgASAERg2HAiADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHh0wBqLQAARw1BIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyIAgsgA0EANgIAIAZBAWohAUESDEELIAEgBEYEQEHFASECDIcCCwJAAkAgAS0AAEHFAGsODgBDQ0NDQ0NDQ0NDQ0MBQwsgAUEBaiEBQasBIQIM7QELIAFBAWohAUGsASECDOwBC0HEASECIAEgBEYNhQIgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB3tMAai0AAEcNPyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMhgILIANBADYCACAGQQFqIQFBBww/C0HDASECIAEgBEYNhAIgAygCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABB2NMAai0AAEcNPiAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMhQILIANBADYCACAGQQFqIQFBKAw+CyABIARGBEBBwgEhAgyEAgsCQAJAAkAgAS0AAEHFAGsOEQBBQUFBQUFBQUEBQUFBQUECQQsgAUEBaiEBQacBIQIM6wELIAFBAWohAUGoASECDOoBCyABQQFqIQFBqQEhAgzpAQtBwQEhAiABIARGDYICIAMoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQdHTAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADIMCCyADQQA2AgAgBkEBaiEBQRoMPAtBwAEhAiABIARGDYECIAMoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQc3TAGotAABHDTsgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADIICCyADQQA2AgAgBkEBaiEBQSEMOwsgASAERgRAQb8BIQIMgQILAkACQCABLQAAQcEAaw4UAD09PT09PT09PT09PT09PT09PQE9CyABQQFqIQFBowEhAgznAQsgAUEBaiEBQaYBIQIM5gELIAEgBEYEQEG+ASECDIACCwJAAkAgAS0AAEHVAGsOCwA8PDw8PDw8PDwBPAsgAUEBaiEBQaQBIQIM5gELIAFBAWohAUGlASECDOUBC0G9ASECIAEgBEYN/gEgAygCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABBxNMAai0AAEcNOCAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM/wELIANBADYCACAGQQFqIQFBKgw4CyABIARGBEBBvAEhAgz+AQsgAS0AAEHQAEcNOCABQQFqIQFBJQw3C0G7ASECIAEgBEYN/AEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBwdMAai0AAEcNNiAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM/QELIANBADYCACAGQQFqIQFBDgw2CyABIARGBEBBugEhAgz8AQsgAS0AAEHFAEcNNiABQQFqIQFBoQEhAgzhAQsgASAERgRAQbkBIQIM+wELAkACQAJAAkAgAS0AAEHCAGsODwABAjk5OTk5OTk5OTk5AzkLIAFBAWohAUGdASECDOMBCyABQQFqIQFBngEhAgziAQsgAUEBaiEBQZ8BIQIM4QELIAFBAWohAUGgASECDOABC0G4ASECIAEgBEYN+QEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBvtMAai0AAEcNMyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM+gELIANBADYCACAGQQFqIQFBFAwzC0G3ASECIAEgBEYN+AEgAygCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBudMAai0AAEcNMiAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM+QELIANBADYCACAGQQFqIQFBKwwyC0G2ASECIAEgBEYN9wEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBttMAai0AAEcNMSAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM+AELIANBADYCACAGQQFqIQFBLAwxC0G1ASECIAEgBEYN9gEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB4dMAai0AAEcNMCAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM9wELIANBADYCACAGQQFqIQFBEQwwC0G0ASECIAEgBEYN9QEgAygCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBstMAai0AAEcNLyAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM9gELIANBADYCACAGQQFqIQFBLgwvCyABIARGBEBBswEhAgz1AQsCQAJAAkACQAJAIAEtAABBwQBrDhUANDQ0NDQ0NDQ0NAE0NAI0NAM0NAQ0CyABQQFqIQFBkQEhAgzeAQsgAUEBaiEBQZIBIQIM3QELIAFBAWohAUGTASECDNwBCyABQQFqIQFBmAEhAgzbAQsgAUEBaiEBQZoBIQIM2gELIAEgBEYEQEGyASECDPQBCwJAAkAgAS0AAEHSAGsOAwAwATALIAFBAWohAUGZASECDNoBCyABQQFqIQFBBAwtC0GxASECIAEgBEYN8gEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBsNMAai0AAEcNLCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM8wELIANBADYCACAGQQFqIQFBHQwsCyABIARGBEBBsAEhAgzyAQsCQAJAIAEtAABByQBrDgcBLi4uLi4ALgsgAUEBaiEBQZcBIQIM2AELIAFBAWohAUEiDCsLIAEgBEYEQEGvASECDPEBCyABLQAAQdAARw0rIAFBAWohAUGWASECDNYBCyABIARGBEBBrgEhAgzwAQsCQAJAIAEtAABBxgBrDgsALCwsLCwsLCwsASwLIAFBAWohAUGUASECDNYBCyABQQFqIQFBlQEhAgzVAQtBrQEhAiABIARGDe4BIAMoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQazTAGotAABHDSggAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADO8BCyADQQA2AgAgBkEBaiEBQQ0MKAtBrAEhAiABIARGDe0BIAMoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQeHTAGotAABHDScgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADO4BCyADQQA2AgAgBkEBaiEBQQwMJwtBqwEhAiABIARGDewBIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQarTAGotAABHDSYgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADO0BCyADQQA2AgAgBkEBaiEBQQMMJgtBqgEhAiABIARGDesBIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQajTAGotAABHDSUgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADOwBCyADQQA2AgAgBkEBaiEBQSYMJQsgASAERgRAQakBIQIM6wELAkACQCABLQAAQdQAaw4CAAEnCyABQQFqIQFBjwEhAgzRAQsgAUEBaiEBQZABIQIM0AELQagBIQIgASAERg3pASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGm0wBqLQAARw0jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzqAQsgA0EANgIAIAZBAWohAUEnDCMLQacBIQIgASAERg3oASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGk0wBqLQAARw0iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzpAQsgA0EANgIAIAZBAWohAUEcDCILQaYBIQIgASAERg3nASADKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGe0wBqLQAARw0hIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzoAQsgA0EANgIAIAZBAWohAUEGDCELQaUBIQIgASAERg3mASADKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEGZ0wBqLQAARw0gIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAznAQsgA0EANgIAIAZBAWohAUEZDCALIAEgBEYEQEGkASECDOYBCwJAAkACQAJAIAEtAABBLWsOIwAkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJAEkJCQkJAIkJCQDJAsgAUEBaiEBQYQBIQIMzgELIAFBAWohAUGFASECDM0BCyABQQFqIQFBigEhAgzMAQsgAUEBaiEBQYsBIQIMywELQaMBIQIgASAERg3kASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGX0wBqLQAARw0eIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzlAQsgA0EANgIAIAZBAWohAUELDB4LIAEgBEYEQEGiASECDOQBCwJAAkAgAS0AAEHBAGsOAwAgASALIAFBAWohAUGGASECDMoBCyABQQFqIQFBiQEhAgzJAQsgASAERgRAQaEBIQIM4wELAkACQCABLQAAQcEAaw4PAB8fHx8fHx8fHx8fHx8BHwsgAUEBaiEBQYcBIQIMyQELIAFBAWohAUGIASECDMgBCyABIARGBEBBoAEhAgziAQsgAS0AAEHMAEcNHCABQQFqIQFBCgwbC0GfASECIAEgBEYN4AEgAygCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBkdMAai0AAEcNGiAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM4QELIANBADYCACAGQQFqIQFBHgwaC0GeASECIAEgBEYN3wEgAygCACIAIAQgAWtqIQUgASAAa0EGaiEGAkADQCABLQAAIABBitMAai0AAEcNGSAAQQZGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM4AELIANBADYCACAGQQFqIQFBFQwZC0GdASECIAEgBEYN3gEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBh9MAai0AAEcNGCAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM3wELIANBADYCACAGQQFqIQFBFwwYC0GcASECIAEgBEYN3QEgAygCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBgdMAai0AAEcNFyAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM3gELIANBADYCACAGQQFqIQFBGAwXCyABIARGBEBBmwEhAgzdAQsCQAJAIAEtAABByQBrDgcAGRkZGRkBGQsgAUEBaiEBQYEBIQIMwwELIAFBAWohAUGCASECDMIBC0GaASECIAEgBEYN2wEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB5tMAai0AAEcNFSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM3AELIANBADYCACAGQQFqIQFBCQwVC0GZASECIAEgBEYN2gEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB5NMAai0AAEcNFCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM2wELIANBADYCACAGQQFqIQFBHwwUC0GYASECIAEgBEYN2QEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB/tIAai0AAEcNEyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM2gELIANBADYCACAGQQFqIQFBAgwTC0GXASECIAEgBEYN2AEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGA0AgAS0AACAAQfzSAGotAABHDREgAEEBRg0CIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADNgBCyABIARGBEBBlgEhAgzYAQtBASABLQAAQd8ARw0RGiABQQFqIQFB/QAhAgy9AQsgA0EANgIAIAZBAWohAUH+ACECDLwBC0GVASECIAEgBEYN1QEgAygCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABBxNMAai0AAEcNDyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM1gELIANBADYCACAGQQFqIQFBKQwPC0GUASECIAEgBEYN1AEgAygCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABB+NIAai0AAEcNDiAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM1QELIANBADYCACAGQQFqIQFBLQwOCyABIARGBEBBkwEhAgzUAQsgAS0AAEHFAEcNDiABQQFqIQFB+gAhAgy5AQsgASAERgRAQZIBIQIM0wELAkACQCABLQAAQcwAaw4IAA8PDw8PDwEPCyABQQFqIQFB+AAhAgy5AQsgAUEBaiEBQfkAIQIMuAELQZEBIQIgASAERg3RASADKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHz0gBqLQAARw0LIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzSAQsgA0EANgIAIAZBAWohAUEjDAsLQZABIQIgASAERg3QASADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHw0gBqLQAARw0KIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzRAQsgA0EANgIAIAZBAWohAUEADAoLIAEgBEYEQEGPASECDNABCwJAAkAgAS0AAEHIAGsOCAAMDAwMDAwBDAsgAUEBaiEBQfMAIQIMtgELIAFBAWohAUH2ACECDLUBCyABIARGBEBBjgEhAgzPAQsCQAJAIAEtAABBzgBrDgMACwELCyABQQFqIQFB9AAhAgy1AQsgAUEBaiEBQfUAIQIMtAELIAEgBEYEQEGNASECDM4BCyABLQAAQdkARw0IIAFBAWohAUEIDAcLQYwBIQIgASAERg3MASADKAIAIgAgBCABa2ohBSABIABrQQNqIQYCQANAIAEtAAAgAEHs0gBqLQAARw0GIABBA0YNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzNAQsgA0EANgIAIAZBAWohAUEFDAYLQYsBIQIgASAERg3LASADKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHm0gBqLQAARw0FIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzMAQsgA0EANgIAIAZBAWohAUEWDAULQYoBIQIgASAERg3KASADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHh0wBqLQAARw0EIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzLAQsgA0EANgIAIAZBAWohAUEQDAQLIAEgBEYEQEGJASECDMoBCwJAAkAgAS0AAEHDAGsODAAGBgYGBgYGBgYGAQYLIAFBAWohAUHvACECDLABCyABQQFqIQFB8AAhAgyvAQtBiAEhAiABIARGDcgBIAMoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQeDSAGotAABHDQIgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADMkBCyADQQA2AgAgBkEBaiEBQSQMAgsgA0EANgIADAILIAEgBEYEQEGHASECDMcBCyABLQAAQcwARw0BIAFBAWohAUETCzoAKSADKAIEIQAgA0EANgIEIAMgACABEC0iAA0CDAELQQAhAiADQQA2AhwgAyABNgIUIANB6R42AhAgA0EGNgIMDMQBC0HuACECDKkBCyADQYYBNgIcIAMgATYCFCADIAA2AgxBACECDMIBC0EAIQACQCADKAI4IgJFDQAgAigCOCICRQ0AIAMgAhEAACEACyAARQ0AIABBFUYNASADQQA2AhwgAyABNgIUIANB1A42AhAgA0EgNgIMQQAhAgzBAQtB7QAhAgymAQsgA0GFATYCHCADIAE2AhQgA0HXGjYCECADQRU2AgxBACECDL8BCyABIARGBEBBhQEhAgy/AQsCQCABLQAAQSBGBEAgAUEBaiEBDAELIANBADYCHCADIAE2AhQgA0GGHjYCECADQQY2AgxBACECDL8BC0ECIQIMpAELA0AgAS0AAEEgRw0CIAQgAUEBaiIBRw0AC0GEASECDL0BCyABIARGBEBBgwEhAgy9AQsCQCABLQAAQQlrDgRAAABAAAtB6wAhAgyiAQsgAy0AKUEFRgRAQewAIQIMogELQeoAIQIMoQELIAEgBEYEQEGCASECDLsBCyADQQ82AgggAyABNgIEDAoLIAEgBEYEQEGBASECDLoBCwJAIAEtAABBCWsOBD0AAD0AC0HpACECDJ8BCyABIARHBEAgA0EPNgIIIAMgATYCBEHnACECDJ8BC0GAASECDLgBCwJAIAEgBEcEQANAIAEtAABB4M4Aai0AACIAQQNHBEACQCAAQQFrDgI/AAQLQeYAIQIMoQELIAQgAUEBaiIBRw0AC0H+ACECDLkBC0H+ACECDLgBCyADQQA2AhwgAyABNgIUIANBxh82AhAgA0EHNgIMQQAhAgy3AQsgASAERgRAQf8AIQIMtwELAkACQAJAIAEtAABB4NAAai0AAEEBaw4DPAIAAQtB6AAhAgyeAQsgA0EANgIcIAMgATYCFCADQYYSNgIQIANBBzYCDEEAIQIMtwELQeAAIQIMnAELIAEgBEcEQCABQQFqIQFB5QAhAgycAQtB/QAhAgy1AQsgBCABIgBGBEBB/AAhAgy1AQsgAC0AACIBQS9GBEAgAEEBaiEBQeQAIQIMmwELIAFBCWsiAkEXSw0BIAAhAUEBIAJ0QZuAgARxDTcMAQsgBCABIgBGBEBB+wAhAgy0AQsgAC0AAEEvRw0AIABBAWohAQwDC0EAIQIgA0EANgIcIAMgADYCFCADQcYfNgIQIANBBzYCDAyyAQsCQAJAAkACQAJAA0AgAS0AAEHgzABqLQAAIgBBBUcEQAJAAkAgAEEBaw4IPQUGBwgABAEIC0HhACECDJ8BCyABQQFqIQFB4wAhAgyeAQsgBCABQQFqIgFHDQALQfoAIQIMtgELIAFBAWoMFAsgAygCBCEAIANBADYCBCADIAAgARArIgBFDR4gA0HbADYCHCADIAE2AhQgAyAANgIMQQAhAgy0AQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDR4gA0HdADYCHCADIAE2AhQgAyAANgIMQQAhAgyzAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDR4gA0HwADYCHCADIAE2AhQgAyAANgIMQQAhAgyyAQsgA0EANgIcIAMgATYCFCADQcsPNgIQIANBBzYCDEEAIQIMsQELIAEgBEYEQEH5ACECDLEBCwJAIAEtAABB4MwAai0AAEEBaw4INAQFBgAIAgMHCyABQQFqIQELQQMhAgyVAQsgAUEBagwNC0EAIQIgA0EANgIcIANBoxI2AhAgA0EHNgIMIAMgAUEBajYCFAytAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDRYgA0HbADYCHCADIAE2AhQgAyAANgIMQQAhAgysAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDRYgA0HdADYCHCADIAE2AhQgAyAANgIMQQAhAgyrAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDRYgA0HwADYCHCADIAE2AhQgAyAANgIMQQAhAgyqAQsgA0EANgIcIAMgATYCFCADQcsPNgIQIANBBzYCDEEAIQIMqQELQeIAIQIMjgELIAEgBEYEQEH4ACECDKgBCyABQQFqDAILIAEgBEYEQEH3ACECDKcBCyABQQFqDAELIAEgBEYNASABQQFqCyEBQQQhAgyKAQtB9gAhAgyjAQsDQCABLQAAQeDKAGotAAAiAEECRwRAIABBAUcEQEHfACECDIsBCwwnCyAEIAFBAWoiAUcNAAtB9QAhAgyiAQsgASAERgRAQfQAIQIMogELAkAgAS0AAEEJaw43JQMGJQQGBgYGBgYGBgYGBgYGBgYGBgYFBgYCBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGAAYLIAFBAWoLIQFBBSECDIYBCyABQQFqDAYLIAMoAgQhACADQQA2AgQgAyAAIAEQKyIARQ0IIANB2wA2AhwgAyABNgIUIAMgADYCDEEAIQIMngELIAMoAgQhACADQQA2AgQgAyAAIAEQKyIARQ0IIANB3QA2AhwgAyABNgIUIAMgADYCDEEAIQIMnQELIAMoAgQhACADQQA2AgQgAyAAIAEQKyIARQ0IIANB8AA2AhwgAyABNgIUIAMgADYCDEEAIQIMnAELIANBADYCHCADIAE2AhQgA0G8EzYCECADQQc2AgxBACECDJsBCwJAAkACQAJAA0AgAS0AAEHgyABqLQAAIgBBBUcEQAJAIABBAWsOBiQDBAUGAAYLQd4AIQIMhgELIAQgAUEBaiIBRw0AC0HzACECDJ4BCyADKAIEIQAgA0EANgIEIAMgACABECsiAEUNByADQdsANgIcIAMgATYCFCADIAA2AgxBACECDJ0BCyADKAIEIQAgA0EANgIEIAMgACABECsiAEUNByADQd0ANgIcIAMgATYCFCADIAA2AgxBACECDJwBCyADKAIEIQAgA0EANgIEIAMgACABECsiAEUNByADQfAANgIcIAMgATYCFCADIAA2AgxBACECDJsBCyADQQA2AhwgAyABNgIUIANB3Ag2AhAgA0EHNgIMQQAhAgyaAQsgASAERg0BIAFBAWoLIQFBBiECDH4LQfIAIQIMlwELAkACQAJAAkADQCABLQAAQeDGAGotAAAiAEEFRwRAIABBAWsOBB8CAwQFCyAEIAFBAWoiAUcNAAtB8QAhAgyaAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDQMgA0HbADYCHCADIAE2AhQgAyAANgIMQQAhAgyZAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDQMgA0HdADYCHCADIAE2AhQgAyAANgIMQQAhAgyYAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDQMgA0HwADYCHCADIAE2AhQgAyAANgIMQQAhAgyXAQsgA0EANgIcIAMgATYCFCADQbQKNgIQIANBBzYCDEEAIQIMlgELQc4AIQIMewtB0AAhAgx6C0HdACECDHkLIAEgBEYEQEHwACECDJMBCwJAIAEtAABBCWsOBBYAABYACyABQQFqIQFB3AAhAgx4CyABIARGBEBB7wAhAgySAQsCQCABLQAAQQlrDgQVAAAVAAtBACEAAkAgAygCOCICRQ0AIAIoAjAiAkUNACADIAIRAAAhAAsgAEUEQEHTASECDHgLIABBFUcEQCADQQA2AhwgAyABNgIUIANBwQ02AhAgA0EaNgIMQQAhAgySAQsgA0HuADYCHCADIAE2AhQgA0HwGTYCECADQRU2AgxBACECDJEBC0HtACECIAEgBEYNkAEgAygCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABB18YAai0AAEcNBCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMkQELIANBADYCACAGQQFqIQEgAy0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACECIANBADYCHCADIAE2AhQgA0HlCTYCECADQQg2AgwMkAELQewAIQIgASAERg2PASADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHUxgBqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyQAQsgA0EANgIAIAZBAWohASADLQApQSFGDQMgA0EANgIcIAMgATYCFCADQYkKNgIQIANBCDYCDEEAIQIMjwELQesAIQIgASAERg2OASADKAIAIgAgBCABa2ohBSABIABrQQNqIQYCQANAIAEtAAAgAEHQxgBqLQAARw0CIABBA0YNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyPAQsgA0EANgIAIAZBAWohASADLQApIgBBI0kNAiAAQS5GDQIgA0EANgIcIAMgATYCFCADQcEJNgIQIANBCDYCDEEAIQIMjgELIANBADYCAAtBACECIANBADYCHCADIAE2AhQgA0GENzYCECADQQg2AgwMjAELQdgAIQIMcQsgASAERwRAIANBDTYCCCADIAE2AgRB1wAhAgxxC0HqACECDIoBCyABIARGBEBB6QAhAgyKAQsgAS0AAEEwayIAQf8BcUEKSQRAIAMgADoAKiABQQFqIQFB1gAhAgxwCyADKAIEIQAgA0EANgIEIAMgACABEC4iAEUNdCADQegANgIcIAMgATYCFCADIAA2AgxBACECDIkBCyABIARGBEBB5wAhAgyJAQsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAMoAgQhACADQQA2AgQgAyAAIAEQLiIARQ11IANB5gA2AhwgAyABNgIUIAMgADYCDEEAIQIMiQELQdUAIQIMbgsgASAERgRAQeUAIQIMiAELQQAhAEEBIQVBASEHQQAhAgJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAEtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyECQQAhBUEAIQcMAgtBCSECQQEhAEEAIQVBACEHDAELQQAhBUEBIQILIAMgAjoAKyABQQFqIQECQAJAIAMtAC5BEHENAAJAAkACQCADLQAqDgMBAAIECyAHRQ0DDAILIAANAQwCCyAFRQ0BCyADKAIEIQAgA0EANgIEIAMgACABEC4iAEUNAiADQeIANgIcIAMgATYCFCADIAA2AgxBACECDIoBCyADKAIEIQAgA0EANgIEIAMgACABEC4iAEUNdyADQeMANgIcIAMgATYCFCADIAA2AgxBACECDIkBCyADKAIEIQAgA0EANgIEIAMgACABEC4iAEUNdSADQeQANgIcIAMgATYCFCADIAA2AgwMiAELQdMAIQIMbQsgAy0AKUEiRg2AAUHSACECDGwLQQAhAAJAIAMoAjgiAkUNACACKAI8IgJFDQAgAyACEQAAIQALIABFBEBB1AAhAgxsCyAAQRVHBEAgA0EANgIcIAMgATYCFCADQZwNNgIQIANBITYCDEEAIQIMhgELIANB4QA2AhwgAyABNgIUIANB1hk2AhAgA0EVNgIMQQAhAgyFAQsgASAERgRAQeAAIQIMhQELAkACQAJAAkACQCABLQAAQQprDgQBBAQABAsgAUEBaiEBDAELIAFBAWohASADQS9qLQAAQQFxRQ0BC0HRACECDGwLIANBADYCHCADIAE2AhQgA0GIETYCECADQQk2AgxBACECDIUBCyADQQA2AhwgAyABNgIUIANBiBE2AhAgA0EJNgIMQQAhAgyEAQsgASAERgRAQd8AIQIMhAELIAEtAABBCkYEQCABQQFqIQEMCQsgAy0ALkHAAHENCCADQQA2AhwgAyABNgIUIANBiBE2AhAgA0ECNgIMQQAhAgyDAQsgASAERgRAQd0AIQIMgwELIAEtAAAiAkENRgRAIAFBAWohAUHPACECDGkLIAEhACACQQlrDgQFAQEFAQsgBCABIgBGBEBB3AAhAgyCAQsgAC0AAEEKRw0AIABBAWoMAgtBACECIANBADYCHCADIAA2AhQgA0G1LDYCECADQQc2AgwMgAELIAEgBEYEQEHbACECDIABCwJAIAEtAABBCWsOBAMAAAMACyABQQFqCyEBQc0AIQIMZAsgASAERgRAQdoAIQIMfgsgAS0AAEEJaw4EAAEBAAELQQAhAiADQQA2AhwgA0HsETYCECADQQc2AgwgAyABQQFqNgIUDHwLIANBgBI7ASpBACEAAkAgAygCOCICRQ0AIAIoAjAiAkUNACADIAIRAAAhAAsgAEUNACAAQRVHDQEgA0HZADYCHCADIAE2AhQgA0HwGTYCECADQRU2AgxBACECDHsLQcwAIQIMYAsgA0EANgIcIAMgATYCFCADQcENNgIQIANBGjYCDEEAIQIMeQsgASAERgRAQdkAIQIMeQsgAS0AAEEgRw06IAFBAWohASADLQAuQQFxDTogA0EANgIcIAMgATYCFCADQa0bNgIQIANBHjYCDEEAIQIMeAsgASAERgRAQdgAIQIMeAsCQAJAAkACQAJAIAEtAAAiAEEKaw4EAgMDAAELIAFBAWohAUErIQIMYQsgAEE6Rw0BIANBADYCHCADIAE2AhQgA0G5ETYCECADQQo2AgxBACECDHoLIAFBAWohASADQS9qLQAAQQFxRQ1tIAMtADJBgAFxRQRAIANBMmohAiADEDRBACEAAkAgAygCOCIGRQ0AIAYoAiQiBkUNACADIAYRAAAhAAsCQAJAIAAOFkpJSAEBAQEBAQEBAQEBAQEBAQEBAQABCyADQSk2AhwgAyABNgIUIANBshg2AhAgA0EVNgIMQQAhAgx7CyADQQA2AhwgAyABNgIUIANB3Qs2AhAgA0ERNgIMQQAhAgx6C0EAIQACQCADKAI4IgJFDQAgAigCVCICRQ0AIAMgAhEAACEACyAARQ1VIABBFUcNASADQQU2AhwgAyABNgIUIANBhho2AhAgA0EVNgIMQQAhAgx5C0HKACECDF4LQQAhAiADQQA2AhwgAyABNgIUIANB4g02AhAgA0EUNgIMDHcLIAMgAy8BMkGAAXI7ATIMOAsgASAERwRAIANBEDYCCCADIAE2AgRByQAhAgxcC0HXACECDHULIAEgBEYEQEHWACECDHULAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAPT09PT09PT09PT09AT09PQIDPQsgAUEBaiEBQcUAIQIMXQsgAUEBaiEBQcYAIQIMXAsgAUEBaiEBQccAIQIMWwsgAUEBaiEBQcgAIQIMWgtB1QAhAiAEIAEiAEYNcyAEIAFrIAMoAgAiAWohBiAAIAFrQQVqIQcDQCABQcDGAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQhBBCABQQVGDQoaIAFBAWohASAEIABBAWoiAEcNAAsgAyAGNgIADHMLQdQAIQIgBCABIgBGDXIgBCABayADKAIAIgFqIQYgACABa0EPaiEHA0AgAUGwxgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0HQQMgAUEPRg0JGiABQQFqIQEgBCAAQQFqIgBHDQALIAMgBjYCAAxyC0HTACECIAQgASIARg1xIAQgAWsgAygCACIBaiEGIAAgAWtBDmohBwNAIAFBksYAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNBiABQQ5GDQcgAUEBaiEBIAQgAEEBaiIARw0ACyADIAY2AgAMcQtB0gAhAiAEIAEiAEYNcCAEIAFrIAMoAgAiAWohBSAAIAFrQQFqIQYDQCABQZDGAGotAAAgAC0AACIHQSByIAcgB0HBAGtB/wFxQRpJG0H/AXFHDQUgAUEBRg0CIAFBAWohASAEIABBAWoiAEcNAAsgAyAFNgIADHALIAEgBEYEQEHRACECDHALAkACQCABLQAAIgBBIHIgACAAQcEAa0H/AXFBGkkbQf8BcUHuAGsOBwA2NjY2NgE2CyABQQFqIQFBwgAhAgxWCyABQQFqIQFBwwAhAgxVCyADQQA2AgAgBkEBaiEBQcQAIQIMVAtB0AAhAiAEIAEiAEYNbSAEIAFrIAMoAgAiAWohBiAAIAFrQQlqIQcDQCABQYbGAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQJBAiABQQlGDQQaIAFBAWohASAEIABBAWoiAEcNAAsgAyAGNgIADG0LQc8AIQIgBCABIgBGDWwgBCABayADKAIAIgFqIQYgACABa0EFaiEHA0AgAUGAxgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYNAiABQQFqIQEgBCAAQQFqIgBHDQALIAMgBjYCAAxsCyAAIQEgA0EANgIADDALQQELOgAsIANBADYCACAHQQFqIQELQSwhAgxOCwJAA0AgAS0AAEGAxABqLQAAQQFHDQEgBCABQQFqIgFHDQALQc0AIQIMaAtBwQAhAgxNCyABIARGBEBBzAAhAgxnCyABLQAAQTpGBEAgAygCBCEAIANBADYCBCADIAAgARAvIgBFDTAgA0HLADYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgxnCyADQQA2AhwgAyABNgIUIANBuRE2AhAgA0EKNgIMQQAhAgxmCwJAAkAgAy0ALEECaw4CAAEkCyADQTNqLQAAQQJxRQ0jIAMtAC5BAnENIyADQQA2AhwgAyABNgIUIANB1RM2AhAgA0ELNgIMQQAhAgxmCyADLQAyQSBxRQ0iIAMtAC5BAnENIiADQQA2AhwgAyABNgIUIANB7BI2AhAgA0EPNgIMQQAhAgxlC0EAIQACQCADKAI4IgJFDQAgAigCQCICRQ0AIAMgAhEAACEACyAARQRAQcAAIQIMSwsgAEEVRwRAIANBADYCHCADIAE2AhQgA0H4DjYCECADQRw2AgxBACECDGULIANBygA2AhwgAyABNgIUIANB8Bo2AhAgA0EVNgIMQQAhAgxkCyABIARHBEADQCABLQAAQfA/ai0AAEEBRw0XIAQgAUEBaiIBRw0AC0HEACECDGQLQcQAIQIMYwsgASAERwRAA0ACQCABLQAAIgBBIHIgACAAQcEAa0H/AXFBGkkbQf8BcSIAQQlGDQAgAEEgRg0AAkACQAJAAkAgAEHjAGsOEwADAwMDAwMDAQMDAwMDAwMDAwIDCyABQQFqIQFBNSECDE4LIAFBAWohAUE2IQIMTQsgAUEBaiEBQTchAgxMCwwVCyAEIAFBAWoiAUcNAAtBPCECDGMLQTwhAgxiCyABIARGBEBByAAhAgxiCyADQRE2AgggAyABNgIEAkACQAJAAkACQCADLQAsQQFrDgQUAAECCQsgAy0AMkEgcQ0DQdEBIQIMSwsCQCADLwEyIgBBCHFFDQAgAy0AKEEBRw0AIAMtAC5BCHFFDQILIAMgAEH3+wNxQYAEcjsBMgwLCyADIAMvATJBEHI7ATIMBAsgA0EANgIEIAMgASABEDAiAARAIANBwQA2AhwgAyAANgIMIAMgAUEBajYCFEEAIQIMYwsgAUEBaiEBDFILIANBADYCHCADIAE2AhQgA0GjEzYCECADQQQ2AgxBACECDGELQccAIQIgASAERg1gIAMoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEHwwwBqLQAAIAEtAABBIHJHDQEgAEEGRg1GIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADGELIANBADYCAAwFCwJAIAEgBEcEQANAIAEtAABB8MEAai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBxQAhAgxhC0HFACECDGALCyADQQA6ACwMAQtBCyECDEMLQT4hAgxCCwJAAkADQCABLQAAIgBBIEcEQAJAIABBCmsOBAMFBQMACyAAQSxGDQMMBAsgBCABQQFqIgFHDQALQcYAIQIMXQsgA0EIOgAsDA4LIAMtAChBAUcNAiADLQAuQQhxDQIgAygCBCEAIANBADYCBCADIAAgARAwIgAEQCADQcIANgIcIAMgADYCDCADIAFBAWo2AhRBACECDFwLIAFBAWohAQxKC0E6IQIMQAsCQANAIAEtAAAiAEEgRyAAQQlHcQ0BIAQgAUEBaiIBRw0AC0HDACECDFoLC0E7IQIMPgsCQAJAIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBAMEBAMECyAEIAFBAWoiAUcNAAtBPyECDFoLQT8hAgxZCyADIAMvATJBIHI7ATIMCgsgAygCBCEAIANBADYCBCADIAAgARAwIgBFDUggA0E+NgIcIAMgATYCFCADIAA2AgxBACECDFcLAkAgASAERwRAA0AgAS0AAEHwwQBqLQAAIgBBAUcEQCAAQQJGDQMMDAsgBCABQQFqIgFHDQALQTchAgxYC0E3IQIMVwsgAUEBaiEBDAQLQTshAiAEIAEiAEYNVSAEIAFrIAMoAgAiAWohBiAAIAFrQQVqIQcCQANAIAFBwMYAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNASABQQVGBEBBByEBDDsLIAFBAWohASAEIABBAWoiAEcNAAsgAyAGNgIADFYLIANBADYCACAAIQEMBQtBOiECIAQgASIARg1UIAQgAWsgAygCACIBaiEGIAAgAWtBCGohBwJAA0AgAUHkP2otAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAUEIRgRAQQUhAQw6CyABQQFqIQEgBCAAQQFqIgBHDQALIAMgBjYCAAxVCyADQQA2AgAgACEBDAQLQTkhAiAEIAEiAEYNUyAEIAFrIAMoAgAiAWohBiAAIAFrQQNqIQcCQANAIAFB4D9qLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBA0YEQEEGIQEMOQsgAUEBaiEBIAQgAEEBaiIARw0ACyADIAY2AgAMVAsgA0EANgIAIAAhAQwDCwJAA0AgAS0AACIAQSBHBEAgAEEKaw4EBwQEBwILIAQgAUEBaiIBRw0AC0E4IQIMUwsgAEEsRw0BIAFBAWohAEEBIQECQAJAAkACQAJAIAMtACxBBWsOBAMBAgQACyAAIQEMBAtBAiEBDAELQQQhAQsgA0EBOgAsIAMgAy8BMiABcjsBMiAAIQEMAQsgAyADLwEyQQhyOwEyIAAhAQtBPSECDDcLIANBADoALAtBOCECDDULIAEgBEYEQEE2IQIMTwsCQAJAAkACQAJAIAEtAABBCmsOBAACAgECCyADKAIEIQAgA0EANgIEIAMgACABEDAiAEUNAiADQTM2AhwgAyABNgIUIAMgADYCDEEAIQIMUgsgAygCBCEAIANBADYCBCADIAAgARAwIgBFBEAgAUEBaiEBDAYLIANBMjYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgxRCyADLQAuQQFxBEBB0AEhAgw3CyADKAIEIQAgA0EANgIEIAMgACABEDAiAA0BDEMLQTMhAgw1CyADQTU2AhwgAyABNgIUIAMgADYCDEEAIQIMTgtBNCECDDMLIANBL2otAABBAXENACADQQA2AhwgAyABNgIUIANB8RU2AhAgA0EZNgIMQQAhAgxMC0EyIQIMMQsgASAERgRAQTIhAgxLCwJAIAEtAABBCkYEQCABQQFqIQEMAQsgA0EANgIcIAMgATYCFCADQZgWNgIQIANBAzYCDEEAIQIMSwtBMSECDDALIAEgBEYEQEExIQIMSgsgAS0AACIAQQlHIABBIEdxDQEgAy0ALEEIRw0AIANBADoALAtBPCECDC4LQQEhAgJAAkACQAJAIAMtACxBBWsOBAMBAgAKCyADIAMvATJBCHI7ATIMCQtBAiECDAELQQQhAgsgA0EBOgAsIAMgAy8BMiACcjsBMgwGCyABIARGBEBBMCECDEcLIAEtAABBCkYEQCABQQFqIQEMAQsgAy0ALkEBcQ0AIANBADYCHCADIAE2AhQgA0HHJzYCECADQQI2AgxBACECDEYLQS8hAgwrCyABQQFqIQFBMCECDCoLIAEgBEYEQEEvIQIMRAsgAS0AACIAQQlHIABBIEdxRQRAIAFBAWohASADLQAuQQFxDQEgA0EANgIcIAMgATYCFCADQekPNgIQIANBCjYCDEEAIQIMRAtBASECAkACQAJAAkACQAJAIAMtACxBAmsOBwUEBAMBAgAECyADIAMvATJBCHI7ATIMAwtBAiECDAELQQQhAgsgA0EBOgAsIAMgAy8BMiACcjsBMgtBLiECDCoLIANBADYCHCADIAE2AhQgA0GzEjYCECADQQs2AgxBACECDEMLQdIBIQIMKAsgASAERgRAQS4hAgxCCyADQQA2AgQgA0ERNgIIIAMgASABEDAiAA0BC0EtIQIMJgsgA0EtNgIcIAMgATYCFCADIAA2AgxBACECDD8LQQAhAAJAIAMoAjgiAkUNACACKAJEIgJFDQAgAyACEQAAIQALIABFDQAgAEEVRw0BIANB2AA2AhwgAyABNgIUIANBnho2AhAgA0EVNgIMQQAhAgw+C0HLACECDCMLIANBADYCHCADIAE2AhQgA0GFDjYCECADQR02AgxBACECDDwLIAEgBEYEQEHOACECDDwLIAEtAAAiAEEgRg0CIABBOkYNAQsgA0EAOgAsQQkhAgwgCyADKAIEIQAgA0EANgIEIAMgACABEC8iAA0BDAILIAMtAC5BAXEEQEHPASECDB8LIAMoAgQhACADQQA2AgQgAyAAIAEQLyIARQ0CIANBKjYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgw4CyADQcsANgIcIAMgADYCDCADIAFBAWo2AhRBACECDDcLIAFBAWohAUE/IQIMHAsgAUEBaiEBDCkLIAEgBEYEQEErIQIMNQsCQCABLQAAQQpGBEAgAUEBaiEBDAELIAMtAC5BwABxRQ0GCyADLQAyQYABcQRAQQAhAAJAIAMoAjgiAkUNACACKAJUIgJFDQAgAyACEQAAIQALIABFDREgAEEVRgRAIANBBTYCHCADIAE2AhQgA0GGGjYCECADQRU2AgxBACECDDYLIANBADYCHCADIAE2AhQgA0HiDTYCECADQRQ2AgxBACECDDULIANBMmohAiADEDRBACEAAkAgAygCOCIGRQ0AIAYoAiQiBkUNACADIAYRAAAhAAsgAA4WAgEABAQEBAQEBAQEBAQEBAQEBAQEAwQLIANBAToAMAsgAiACLwEAQcAAcjsBAAtBKiECDBcLIANBKTYCHCADIAE2AhQgA0GyGDYCECADQRU2AgxBACECDDALIANBADYCHCADIAE2AhQgA0HdCzYCECADQRE2AgxBACECDC8LIANBADYCHCADIAE2AhQgA0GdCzYCECADQQI2AgxBACECDC4LQQEhByADLwEyIgVBCHFFBEAgAykDIEIAUiEHCwJAIAMtADAEQEEBIQAgAy0AKUEFRg0BIAVBwABxRSAHcUUNAQsCQCADLQAoIgJBAkYEQEEBIQAgAy8BNCIGQeUARg0CQQAhACAFQcAAcQ0CIAZB5ABGDQIgBkHmAGtBAkkNAiAGQcwBRg0CIAZBsAJGDQIMAQtBACEAIAVBwABxDQELQQIhACAFQQhxDQAgBUGABHEEQAJAIAJBAUcNACADLQAuQQpxDQBBBSEADAILQQQhAAwBCyAFQSBxRQRAIAMQNUEAR0ECdCEADAELQQBBAyADKQMgUBshAAsCQCAAQQFrDgUAAQYHAgMLQQAhAgJAIAMoAjgiAEUNACAAKAIsIgBFDQAgAyAAEQAAIQILIAJFDSYgAkEVRgRAIANBAzYCHCADIAE2AhQgA0G9GjYCECADQRU2AgxBACECDC4LQQAhAiADQQA2AhwgAyABNgIUIANBrw42AhAgA0ESNgIMDC0LQc4BIQIMEgtBACECIANBADYCHCADIAE2AhQgA0HkHzYCECADQQ82AgwMKwtBACEAAkAgAygCOCICRQ0AIAIoAiwiAkUNACADIAIRAAAhAAsgAA0BC0EOIQIMDwsgAEEVRgRAIANBAjYCHCADIAE2AhQgA0G9GjYCECADQRU2AgxBACECDCkLQQAhAiADQQA2AhwgAyABNgIUIANBrw42AhAgA0ESNgIMDCgLQSkhAgwNCyADQQE6ADEMJAsgASAERwRAIANBCTYCCCADIAE2AgRBKCECDAwLQSYhAgwlCyADIAMpAyAiDCAEIAFrrSIKfSILQgAgCyAMWBs3AyAgCiAMVARAQSUhAgwlCyADKAIEIQBBACECIANBADYCBCADIAAgASAMp2oiARAxIgBFDQAgA0EFNgIcIAMgATYCFCADIAA2AgwMJAtBDyECDAkLIAEgBEYEQEEjIQIMIwtCACEKAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsONxcWAAECAwQFBgcUFBQUFBQUCAkKCwwNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQODxAREhMUC0ICIQoMFgtCAyEKDBULQgQhCgwUC0IFIQoMEwtCBiEKDBILQgchCgwRC0IIIQoMEAtCCSEKDA8LQgohCgwOC0ILIQoMDQtCDCEKDAwLQg0hCgwLC0IOIQoMCgtCDyEKDAkLQgohCgwIC0ILIQoMBwtCDCEKDAYLQg0hCgwFC0IOIQoMBAtCDyEKDAMLQQAhAiADQQA2AhwgAyABNgIUIANBzhQ2AhAgA0EMNgIMDCILIAEgBEYEQEEiIQIMIgtCACEKAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQTBrDjcVFAABAgMEBQYHFhYWFhYWFggJCgsMDRYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWDg8QERITFgtCAiEKDBQLQgMhCgwTC0IEIQoMEgtCBSEKDBELQgYhCgwQC0IHIQoMDwtCCCEKDA4LQgkhCgwNC0IKIQoMDAtCCyEKDAsLQgwhCgwKC0INIQoMCQtCDiEKDAgLQg8hCgwHC0IKIQoMBgtCCyEKDAULQgwhCgwEC0INIQoMAwtCDiEKDAILQg8hCgwBC0IBIQoLIAFBAWohASADKQMgIgtC//////////8PWARAIAMgC0IEhiAKhDcDIAwCC0EAIQIgA0EANgIcIAMgATYCFCADQa0JNgIQIANBDDYCDAwfC0ElIQIMBAtBJiECDAMLIAMgAToALCADQQA2AgAgB0EBaiEBQQwhAgwCCyADQQA2AgAgBkEBaiEBQQohAgwBCyABQQFqIQFBCCECDAALAAtBACECIANBADYCHCADIAE2AhQgA0HVEDYCECADQQk2AgwMGAtBACECIANBADYCHCADIAE2AhQgA0HXCjYCECADQQk2AgwMFwtBACECIANBADYCHCADIAE2AhQgA0G/EDYCECADQQk2AgwMFgtBACECIANBADYCHCADIAE2AhQgA0GkETYCECADQQk2AgwMFQtBACECIANBADYCHCADIAE2AhQgA0HVEDYCECADQQk2AgwMFAtBACECIANBADYCHCADIAE2AhQgA0HXCjYCECADQQk2AgwMEwtBACECIANBADYCHCADIAE2AhQgA0G/EDYCECADQQk2AgwMEgtBACECIANBADYCHCADIAE2AhQgA0GkETYCECADQQk2AgwMEQtBACECIANBADYCHCADIAE2AhQgA0G/FjYCECADQQ82AgwMEAtBACECIANBADYCHCADIAE2AhQgA0G/FjYCECADQQ82AgwMDwtBACECIANBADYCHCADIAE2AhQgA0HIEjYCECADQQs2AgwMDgtBACECIANBADYCHCADIAE2AhQgA0GVCTYCECADQQs2AgwMDQtBACECIANBADYCHCADIAE2AhQgA0HpDzYCECADQQo2AgwMDAtBACECIANBADYCHCADIAE2AhQgA0GDEDYCECADQQo2AgwMCwtBACECIANBADYCHCADIAE2AhQgA0GmHDYCECADQQI2AgwMCgtBACECIANBADYCHCADIAE2AhQgA0HFFTYCECADQQI2AgwMCQtBACECIANBADYCHCADIAE2AhQgA0H/FzYCECADQQI2AgwMCAtBACECIANBADYCHCADIAE2AhQgA0HKFzYCECADQQI2AgwMBwsgA0ECNgIcIAMgATYCFCADQZQdNgIQIANBFjYCDEEAIQIMBgtB3gAhAiABIARGDQUgCUEIaiEHIAMoAgAhBQJAAkAgASAERwRAIAVBxsYAaiEIIAQgBWogAWshBiAFQX9zQQpqIgUgAWohAANAIAEtAAAgCC0AAEcEQEECIQgMAwsgBUUEQEEAIQggACEBDAMLIAVBAWshBSAIQQFqIQggBCABQQFqIgFHDQALIAYhBSAEIQELIAdBATYCACADIAU2AgAMAQsgA0EANgIAIAcgCDYCAAsgByABNgIEIAkoAgwhACAJKAIIDgMBBQIACwALIANBADYCHCADQa0dNgIQIANBFzYCDCADIABBAWo2AhRBACECDAMLIANBADYCHCADIAA2AhQgA0HCHTYCECADQQk2AgxBACECDAILIAEgBEYEQEEoIQIMAgsgA0EJNgIIIAMgATYCBEEnIQIMAQsgASAERgRAQQEhAgwBCwNAAkACQAJAIAEtAABBCmsOBAABAQABCyABQQFqIQEMAQsgAUEBaiEBIAMtAC5BIHENAEEAIQIgA0EANgIcIAMgATYCFCADQYwgNgIQIANBBTYCDAwCC0EBIQIgASAERw0ACwsgCUEQaiQAIAJFBEAgAygCDCEADAELIAMgAjYCHEEAIQAgAygCBCIBRQ0AIAMgASAEIAMoAggRAQAiAUUNACADIAQ2AhQgAyABNgIMIAEhAAsgAAu+AgECfyAAQQA6AAAgAEHcAGoiAUEBa0EAOgAAIABBADoAAiAAQQA6AAEgAUEDa0EAOgAAIAFBAmtBADoAACAAQQA6AAMgAUEEa0EAOgAAQQAgAGtBA3EiASAAaiIAQQA2AgBB3AAgAWtBfHEiAiAAaiIBQQRrQQA2AgACQCACQQlJDQAgAEEANgIIIABBADYCBCABQQhrQQA2AgAgAUEMa0EANgIAIAJBGUkNACAAQQA2AhggAEEANgIUIABBADYCECAAQQA2AgwgAUEQa0EANgIAIAFBFGtBADYCACABQRhrQQA2AgAgAUEca0EANgIAIAIgAEEEcUEYciICayIBQSBJDQAgACACaiEAA0AgAEIANwMYIABCADcDECAAQgA3AwggAEIANwMAIABBIGohACABQSBrIgFBH0sNAAsLC1YBAX8CQCAAKAIMDQACQAJAAkACQCAALQAxDgMBAAMCCyAAKAI4IgFFDQAgASgCLCIBRQ0AIAAgAREAACIBDQMLQQAPCwALIABB0Bg2AhBBDiEBCyABCxoAIAAoAgxFBEAgAEHJHjYCECAAQRU2AgwLCxQAIAAoAgxBFUYEQCAAQQA2AgwLCxQAIAAoAgxBFkYEQCAAQQA2AgwLCwcAIAAoAgwLBwAgACgCEAsJACAAIAE2AhALBwAgACgCFAsXACAAQSRPBEAACyAAQQJ0QZQ3aigCAAsXACAAQS9PBEAACyAAQQJ0QaQ4aigCAAu/CQEBf0HfLCEBAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAEHkAGsO9ANjYgABYWFhYWFhAgMEBWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWEGBwgJCgsMDQ4PYWFhYWEQYWFhYWFhYWFhYWERYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhEhMUFRYXGBkaG2FhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWEcHR4fICEiIyQlJicoKSorLC0uLzAxMjM0NTZhNzg5OmFhYWFhYWFhO2FhYTxhYWFhPT4/YWFhYWFhYWFAYWFBYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhQkNERUZHSElKS0xNTk9QUVJTYWFhYWFhYWFUVVZXWFlaW2FcXWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYV5hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFfYGELQdUrDwtBgyUPC0G/MA8LQfI1DwtBtCgPC0GfKA8LQYEsDwtB1ioPC0H0Mw8LQa0zDwtByygPC0HOIw8LQcAjDwtB2SMPC0HRJA8LQZwzDwtBojYPC0H8Mw8LQeArDwtB4SUPC0HtIA8LQcQyDwtBqScPC0G5Ng8LQbggDwtBqyAPC0GjJA8LQbYkDwtBgSMPC0HhMg8LQZ80DwtByCkPC0HAMg8LQe4yDwtB8C8PC0HGNA8LQdAhDwtBmiQPC0HrLw8LQYQ1DwtByzUPC0GWMQ8LQcgrDwtB1C8PC0GTMA8LQd81DwtBtCMPC0G+NQ8LQdIpDwtBsyIPC0HNIA8LQZs2DwtBkCEPC0H/IA8LQa01DwtBsDQPC0HxJA8LQacqDwtB3TAPC0GLIg8LQcgvDwtB6yoPC0H0KQ8LQY8lDwtB3SIPC0HsJg8LQf0wDwtB1iYPC0GUNQ8LQY0jDwtBuikPC0HHIg8LQfIlDwtBtjMPC0GiIQ8LQf8vDwtBwCEPC0GBMw8LQcklDwtBqDEPC0HGMw8LQdM2DwtBxjYPC0HkNA8LQYgmDwtB7ScPC0H4IQ8LQakwDwtBjzQPC0GGNg8LQaovDwtBoSYPC0HsNg8LQZIpDwtBryYPC0GZIg8LQeAhDwsAC0G1JSEBCyABCxcAIAAgAC8BLkH+/wNxIAFBAEdyOwEuCxoAIAAgAC8BLkH9/wNxIAFBAEdBAXRyOwEuCxoAIAAgAC8BLkH7/wNxIAFBAEdBAnRyOwEuCxoAIAAgAC8BLkH3/wNxIAFBAEdBA3RyOwEuCxoAIAAgAC8BLkHv/wNxIAFBAEdBBHRyOwEuCxoAIAAgAC8BLkHf/wNxIAFBAEdBBXRyOwEuCxoAIAAgAC8BLkG//wNxIAFBAEdBBnRyOwEuCxoAIAAgAC8BLkH//gNxIAFBAEdBB3RyOwEuCxoAIAAgAC8BLkH//QNxIAFBAEdBCHRyOwEuCxoAIAAgAC8BLkH/+wNxIAFBAEdBCXRyOwEuCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBzhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB5Ao2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB5R02AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBnRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBoh42AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7hQ2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9xs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRU2AhBBGCEECyAECzgAIAACfyAALwEyQRRxQRRGBEBBASAALQAoQQFGDQEaIAAvATRB5QBGDAELIAAtAClBBUYLOgAwC1kBAn8CQCAALQAoQQFGDQAgAC8BNCIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMiIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEyIgFBAnFFDQEMAgsgAC8BMiIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATQiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtzACAAQRBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAA/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQTBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQSBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQewBNgIcCwYAIAAQOQuaLQELfyMAQRBrIgokAEGY1AAoAgAiCUUEQEHY1wAoAgAiBUUEQEHk1wBCfzcCAEHc1wBCgICEgICAwAA3AgBB2NcAIApBCGpBcHFB2KrVqgVzIgU2AgBB7NcAQQA2AgBBvNcAQQA2AgALQcDXAEGA2AQ2AgBBkNQAQYDYBDYCAEGk1AAgBTYCAEGg1ABBfzYCAEHE1wBBgKgDNgIAA0AgAUG81ABqIAFBsNQAaiICNgIAIAIgAUGo1ABqIgM2AgAgAUG01ABqIAM2AgAgAUHE1ABqIAFBuNQAaiIDNgIAIAMgAjYCACABQczUAGogAUHA1ABqIgI2AgAgAiADNgIAIAFByNQAaiACNgIAIAFBIGoiAUGAAkcNAAtBjNgEQcGnAzYCAEGc1ABB6NcAKAIANgIAQYzUAEHApwM2AgBBmNQAQYjYBDYCAEHM/wdBODYCAEGI2AQhCQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAQewBTQRAQYDUACgCACIGQRAgAEETakFwcSAAQQtJGyIEQQN2IgB2IgFBA3EEQAJAIAFBAXEgAHJBAXMiAkEDdCIAQajUAGoiASAAQbDUAGooAgAiACgCCCIDRgRAQYDUACAGQX4gAndxNgIADAELIAEgAzYCCCADIAE2AgwLIABBCGohASAAIAJBA3QiAkEDcjYCBCAAIAJqIgAgACgCBEEBcjYCBAwRC0GI1AAoAgAiCCAETw0BIAEEQAJAQQIgAHQiAkEAIAJrciABIAB0cWgiAEEDdCICQajUAGoiASACQbDUAGooAgAiAigCCCIDRgRAQYDUACAGQX4gAHdxIgY2AgAMAQsgASADNgIIIAMgATYCDAsgAiAEQQNyNgIEIABBA3QiACAEayEFIAAgAmogBTYCACACIARqIgQgBUEBcjYCBCAIBEAgCEF4cUGo1ABqIQBBlNQAKAIAIQMCf0EBIAhBA3Z0IgEgBnFFBEBBgNQAIAEgBnI2AgAgAAwBCyAAKAIICyIBIAM2AgwgACADNgIIIAMgADYCDCADIAE2AggLIAJBCGohAUGU1AAgBDYCAEGI1AAgBTYCAAwRC0GE1AAoAgAiC0UNASALaEECdEGw1gBqKAIAIgAoAgRBeHEgBGshBSAAIQIDQAJAIAIoAhAiAUUEQCACQRRqKAIAIgFFDQELIAEoAgRBeHEgBGsiAyAFSSECIAMgBSACGyEFIAEgACACGyEAIAEhAgwBCwsgACgCGCEJIAAoAgwiAyAARwRAQZDUACgCABogAyAAKAIIIgE2AgggASADNgIMDBALIABBFGoiAigCACIBRQRAIAAoAhAiAUUNAyAAQRBqIQILA0AgAiEHIAEiA0EUaiICKAIAIgENACADQRBqIQIgAygCECIBDQALIAdBADYCAAwPC0F/IQQgAEG/f0sNACAAQRNqIgFBcHEhBEGE1AAoAgAiCEUNAEEAIARrIQUCQAJAAkACf0EAIARBgAJJDQAaQR8gBEH///8HSw0AGiAEQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qCyIGQQJ0QbDWAGooAgAiAkUEQEEAIQFBACEDDAELQQAhASAEQRkgBkEBdmtBACAGQR9HG3QhAEEAIQMDQAJAIAIoAgRBeHEgBGsiByAFTw0AIAIhAyAHIgUNAEEAIQUgAiEBDAMLIAEgAkEUaigCACIHIAcgAiAAQR12QQRxakEQaigCACICRhsgASAHGyEBIABBAXQhACACDQALCyABIANyRQRAQQAhA0ECIAZ0IgBBACAAa3IgCHEiAEUNAyAAaEECdEGw1gBqKAIAIQELIAFFDQELA0AgASgCBEF4cSAEayICIAVJIQAgAiAFIAAbIQUgASADIAAbIQMgASgCECIABH8gAAUgAUEUaigCAAsiAQ0ACwsgA0UNACAFQYjUACgCACAEa08NACADKAIYIQcgAyADKAIMIgBHBEBBkNQAKAIAGiAAIAMoAggiATYCCCABIAA2AgwMDgsgA0EUaiICKAIAIgFFBEAgAygCECIBRQ0DIANBEGohAgsDQCACIQYgASIAQRRqIgIoAgAiAQ0AIABBEGohAiAAKAIQIgENAAsgBkEANgIADA0LQYjUACgCACIDIARPBEBBlNQAKAIAIQECQCADIARrIgJBEE8EQCABIARqIgAgAkEBcjYCBCABIANqIAI2AgAgASAEQQNyNgIEDAELIAEgA0EDcjYCBCABIANqIgAgACgCBEEBcjYCBEEAIQBBACECC0GI1AAgAjYCAEGU1AAgADYCACABQQhqIQEMDwtBjNQAKAIAIgMgBEsEQCAEIAlqIgAgAyAEayIBQQFyNgIEQZjUACAANgIAQYzUACABNgIAIAkgBEEDcjYCBCAJQQhqIQEMDwtBACEBIAQCf0HY1wAoAgAEQEHg1wAoAgAMAQtB5NcAQn83AgBB3NcAQoCAhICAgMAANwIAQdjXACAKQQxqQXBxQdiq1aoFczYCAEHs1wBBADYCAEG81wBBADYCAEGAgAQLIgAgBEHHAGoiBWoiBkEAIABrIgdxIgJPBEBB8NcAQTA2AgAMDwsCQEG41wAoAgAiAUUNAEGw1wAoAgAiCCACaiEAIAAgAU0gACAIS3ENAEEAIQFB8NcAQTA2AgAMDwtBvNcALQAAQQRxDQQCQAJAIAkEQEHA1wAhAQNAIAEoAgAiACAJTQRAIAAgASgCBGogCUsNAwsgASgCCCIBDQALC0EAEDoiAEF/Rg0FIAIhBkHc1wAoAgAiAUEBayIDIABxBEAgAiAAayAAIANqQQAgAWtxaiEGCyAEIAZPDQUgBkH+////B0sNBUG41wAoAgAiAwRAQbDXACgCACIHIAZqIQEgASAHTQ0GIAEgA0sNBgsgBhA6IgEgAEcNAQwHCyAGIANrIAdxIgZB/v///wdLDQQgBhA6IQAgACABKAIAIAEoAgRqRg0DIAAhAQsCQCAGIARByABqTw0AIAFBf0YNAEHg1wAoAgAiACAFIAZrakEAIABrcSIAQf7///8HSwRAIAEhAAwHCyAAEDpBf0cEQCAAIAZqIQYgASEADAcLQQAgBmsQOhoMBAsgASIAQX9HDQUMAwtBACEDDAwLQQAhAAwKCyAAQX9HDQILQbzXAEG81wAoAgBBBHI2AgALIAJB/v///wdLDQEgAhA6IQBBABA6IQEgAEF/Rg0BIAFBf0YNASAAIAFPDQEgASAAayIGIARBOGpNDQELQbDXAEGw1wAoAgAgBmoiATYCAEG01wAoAgAgAUkEQEG01wAgATYCAAsCQAJAAkBBmNQAKAIAIgIEQEHA1wAhAQNAIAAgASgCACIDIAEoAgQiBWpGDQIgASgCCCIBDQALDAILQZDUACgCACIBQQBHIAAgAU9xRQRAQZDUACAANgIAC0EAIQFBxNcAIAY2AgBBwNcAIAA2AgBBoNQAQX82AgBBpNQAQdjXACgCADYCAEHM1wBBADYCAANAIAFBvNQAaiABQbDUAGoiAjYCACACIAFBqNQAaiIDNgIAIAFBtNQAaiADNgIAIAFBxNQAaiABQbjUAGoiAzYCACADIAI2AgAgAUHM1ABqIAFBwNQAaiICNgIAIAIgAzYCACABQcjUAGogAjYCACABQSBqIgFBgAJHDQALQXggAGtBD3EiASAAaiICIAZBOGsiAyABayIBQQFyNgIEQZzUAEHo1wAoAgA2AgBBjNQAIAE2AgBBmNQAIAI2AgAgACADakE4NgIEDAILIAAgAk0NACACIANJDQAgASgCDEEIcQ0AQXggAmtBD3EiACACaiIDQYzUACgCACAGaiIHIABrIgBBAXI2AgQgASAFIAZqNgIEQZzUAEHo1wAoAgA2AgBBjNQAIAA2AgBBmNQAIAM2AgAgAiAHakE4NgIEDAELIABBkNQAKAIASQRAQZDUACAANgIACyAAIAZqIQNBwNcAIQECQAJAAkADQCADIAEoAgBHBEAgASgCCCIBDQEMAgsLIAEtAAxBCHFFDQELQcDXACEBA0AgASgCACIDIAJNBEAgAyABKAIEaiIFIAJLDQMLIAEoAgghAQwACwALIAEgADYCACABIAEoAgQgBmo2AgQgAEF4IABrQQ9xaiIJIARBA3I2AgQgA0F4IANrQQ9xaiIGIAQgCWoiBGshASACIAZGBEBBmNQAIAQ2AgBBjNQAQYzUACgCACABaiIANgIAIAQgAEEBcjYCBAwIC0GU1AAoAgAgBkYEQEGU1AAgBDYCAEGI1ABBiNQAKAIAIAFqIgA2AgAgBCAAQQFyNgIEIAAgBGogADYCAAwICyAGKAIEIgVBA3FBAUcNBiAFQXhxIQggBUH/AU0EQCAFQQN2IQMgBigCCCIAIAYoAgwiAkYEQEGA1ABBgNQAKAIAQX4gA3dxNgIADAcLIAIgADYCCCAAIAI2AgwMBgsgBigCGCEHIAYgBigCDCIARwRAIAAgBigCCCICNgIIIAIgADYCDAwFCyAGQRRqIgIoAgAiBUUEQCAGKAIQIgVFDQQgBkEQaiECCwNAIAIhAyAFIgBBFGoiAigCACIFDQAgAEEQaiECIAAoAhAiBQ0ACyADQQA2AgAMBAtBeCAAa0EPcSIBIABqIgcgBkE4ayIDIAFrIgFBAXI2AgQgACADakE4NgIEIAIgBUE3IAVrQQ9xakE/ayIDIAMgAkEQakkbIgNBIzYCBEGc1ABB6NcAKAIANgIAQYzUACABNgIAQZjUACAHNgIAIANBEGpByNcAKQIANwIAIANBwNcAKQIANwIIQcjXACADQQhqNgIAQcTXACAGNgIAQcDXACAANgIAQczXAEEANgIAIANBJGohAQNAIAFBBzYCACAFIAFBBGoiAUsNAAsgAiADRg0AIAMgAygCBEF+cTYCBCADIAMgAmsiBTYCACACIAVBAXI2AgQgBUH/AU0EQCAFQXhxQajUAGohAAJ/QYDUACgCACIBQQEgBUEDdnQiA3FFBEBBgNQAIAEgA3I2AgAgAAwBCyAAKAIICyIBIAI2AgwgACACNgIIIAIgADYCDCACIAE2AggMAQtBHyEBIAVB////B00EQCAFQSYgBUEIdmciAGt2QQFxIABBAXRrQT5qIQELIAIgATYCHCACQgA3AhAgAUECdEGw1gBqIQBBhNQAKAIAIgNBASABdCIGcUUEQCAAIAI2AgBBhNQAIAMgBnI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEDAkADQCADIgAoAgRBeHEgBUYNASABQR12IQMgAUEBdCEBIAAgA0EEcWpBEGoiBigCACIDDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLQYzUACgCACIBIARNDQBBmNQAKAIAIgAgBGoiAiABIARrIgFBAXI2AgRBjNQAIAE2AgBBmNQAIAI2AgAgACAEQQNyNgIEIABBCGohAQwIC0EAIQFB8NcAQTA2AgAMBwtBACEACyAHRQ0AAkAgBigCHCICQQJ0QbDWAGoiAygCACAGRgRAIAMgADYCACAADQFBhNQAQYTUACgCAEF+IAJ3cTYCAAwCCyAHQRBBFCAHKAIQIAZGG2ogADYCACAARQ0BCyAAIAc2AhggBigCECICBEAgACACNgIQIAIgADYCGAsgBkEUaigCACICRQ0AIABBFGogAjYCACACIAA2AhgLIAEgCGohASAGIAhqIgYoAgQhBQsgBiAFQX5xNgIEIAEgBGogATYCACAEIAFBAXI2AgQgAUH/AU0EQCABQXhxQajUAGohAAJ/QYDUACgCACICQQEgAUEDdnQiAXFFBEBBgNQAIAEgAnI2AgAgAAwBCyAAKAIICyIBIAQ2AgwgACAENgIIIAQgADYCDCAEIAE2AggMAQtBHyEFIAFB////B00EQCABQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qIQULIAQgBTYCHCAEQgA3AhAgBUECdEGw1gBqIQBBhNQAKAIAIgJBASAFdCIDcUUEQCAAIAQ2AgBBhNQAIAIgA3I2AgAgBCAANgIYIAQgBDYCCCAEIAQ2AgwMAQsgAUEZIAVBAXZrQQAgBUEfRxt0IQUgACgCACEAAkADQCAAIgIoAgRBeHEgAUYNASAFQR12IQAgBUEBdCEFIAIgAEEEcWpBEGoiAygCACIADQALIAMgBDYCACAEIAI2AhggBCAENgIMIAQgBDYCCAwBCyACKAIIIgAgBDYCDCACIAQ2AgggBEEANgIYIAQgAjYCDCAEIAA2AggLIAlBCGohAQwCCwJAIAdFDQACQCADKAIcIgFBAnRBsNYAaiICKAIAIANGBEAgAiAANgIAIAANAUGE1AAgCEF+IAF3cSIINgIADAILIAdBEEEUIAcoAhAgA0YbaiAANgIAIABFDQELIAAgBzYCGCADKAIQIgEEQCAAIAE2AhAgASAANgIYCyADQRRqKAIAIgFFDQAgAEEUaiABNgIAIAEgADYCGAsCQCAFQQ9NBEAgAyAEIAVqIgBBA3I2AgQgACADaiIAIAAoAgRBAXI2AgQMAQsgAyAEaiICIAVBAXI2AgQgAyAEQQNyNgIEIAIgBWogBTYCACAFQf8BTQRAIAVBeHFBqNQAaiEAAn9BgNQAKAIAIgFBASAFQQN2dCIFcUUEQEGA1AAgASAFcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbDWAGohAEEBIAF0IgQgCHFFBEAgACACNgIAQYTUACAEIAhyNgIAIAIgADYCGCACIAI2AgggAiACNgIMDAELIAVBGSABQQF2a0EAIAFBH0cbdCEBIAAoAgAhBAJAA0AgBCIAKAIEQXhxIAVGDQEgAUEddiEEIAFBAXQhASAAIARBBHFqQRBqIgYoAgAiBA0ACyAGIAI2AgAgAiAANgIYIAIgAjYCDCACIAI2AggMAQsgACgCCCIBIAI2AgwgACACNgIIIAJBADYCGCACIAA2AgwgAiABNgIICyADQQhqIQEMAQsCQCAJRQ0AAkAgACgCHCIBQQJ0QbDWAGoiAigCACAARgRAIAIgAzYCACADDQFBhNQAIAtBfiABd3E2AgAMAgsgCUEQQRQgCSgCECAARhtqIAM2AgAgA0UNAQsgAyAJNgIYIAAoAhAiAQRAIAMgATYCECABIAM2AhgLIABBFGooAgAiAUUNACADQRRqIAE2AgAgASADNgIYCwJAIAVBD00EQCAAIAQgBWoiAUEDcjYCBCAAIAFqIgEgASgCBEEBcjYCBAwBCyAAIARqIgcgBUEBcjYCBCAAIARBA3I2AgQgBSAHaiAFNgIAIAgEQCAIQXhxQajUAGohAUGU1AAoAgAhAwJ/QQEgCEEDdnQiAiAGcUUEQEGA1AAgAiAGcjYCACABDAELIAEoAggLIgIgAzYCDCABIAM2AgggAyABNgIMIAMgAjYCCAtBlNQAIAc2AgBBiNQAIAU2AgALIABBCGohAQsgCkEQaiQAIAELQwAgAEUEQD8AQRB0DwsCQCAAQf//A3ENACAAQQBIDQAgAEEQdkAAIgBBf0YEQEHw1wBBMDYCAEF/DwsgAEEQdA8LAAsL20AiAEGACAsJAQAAAAIAAAADAEGUCAsFBAAAAAUAQaQICwkGAAAABwAAAAgAQdwIC4IxSW52YWxpZCBjaGFyIGluIHVybCBxdWVyeQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2JvZHkAQ29udGVudC1MZW5ndGggb3ZlcmZsb3cAQ2h1bmsgc2l6ZSBvdmVyZmxvdwBJbnZhbGlkIG1ldGhvZCBmb3IgSFRUUC94LnggcmVxdWVzdABJbnZhbGlkIG1ldGhvZCBmb3IgUlRTUC94LnggcmVxdWVzdABFeHBlY3RlZCBTT1VSQ0UgbWV0aG9kIGZvciBJQ0UveC54IHJlcXVlc3QASW52YWxpZCBjaGFyIGluIHVybCBmcmFnbWVudCBzdGFydABFeHBlY3RlZCBkb3QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9zdGF0dXMASW52YWxpZCByZXNwb25zZSBzdGF0dXMARXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVycwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zAFVzZXIgY2FsbGJhY2sgZXJyb3IAYG9uX3Jlc2V0YCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfaGVhZGVyYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9iZWdpbmAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3N0YXR1c19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3ZlcnNpb25fY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl91cmxfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXRob2RfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfZmllbGRfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fbmFtZWAgY2FsbGJhY2sgZXJyb3IAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzZXJ2ZXIASW52YWxpZCBoZWFkZXIgdmFsdWUgY2hhcgBJbnZhbGlkIGhlYWRlciBmaWVsZCBjaGFyAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdmVyc2lvbgBJbnZhbGlkIG1pbm9yIHZlcnNpb24ASW52YWxpZCBtYWpvciB2ZXJzaW9uAEV4cGVjdGVkIHNwYWNlIGFmdGVyIHZlcnNpb24ARXhwZWN0ZWQgQ1JMRiBhZnRlciB2ZXJzaW9uAEludmFsaWQgSFRUUCB2ZXJzaW9uAEludmFsaWQgaGVhZGVyIHRva2VuAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdXJsAEludmFsaWQgY2hhcmFjdGVycyBpbiB1cmwAVW5leHBlY3RlZCBzdGFydCBjaGFyIGluIHVybABEb3VibGUgQCBpbiB1cmwARW1wdHkgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyYWN0ZXIgaW4gQ29udGVudC1MZW5ndGgAVHJhbnNmZXItRW5jb2RpbmcgY2FuJ3QgYmUgcHJlc2VudCB3aXRoIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAE1pc3NpbmcgZXhwZWN0ZWQgQ1IgYWZ0ZXIgY2h1bmsgc2l6ZQBFeHBlY3RlZCBMRiBhZnRlciBjaHVuayBzaXplAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIENSIGFmdGVyIGhlYWRlciB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgQ1IgYWZ0ZXIgY2h1bmsgZXh0ZW5zaW9uIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBxdW90ZWQtcGFpciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlZCB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlZCB2YWx1ZQBQYXVzZWQgYnkgb25faGVhZGVyc19jb21wbGV0ZQBJbnZhbGlkIEVPRiBzdGF0ZQBvbl9yZXNldCBwYXVzZQBvbl9jaHVua19oZWFkZXIgcGF1c2UAb25fbWVzc2FnZV9iZWdpbiBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fdmFsdWUgcGF1c2UAb25fc3RhdHVzX2NvbXBsZXRlIHBhdXNlAG9uX3ZlcnNpb25fY29tcGxldGUgcGF1c2UAb25fdXJsX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXNzYWdlX2NvbXBsZXRlIHBhdXNlAG9uX21ldGhvZF9jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfZmllbGRfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUgcGF1c2UAVW5leHBlY3RlZCBzcGFjZSBhZnRlciBzdGFydCBsaW5lAE1pc3NpbmcgZXhwZWN0ZWQgQ1IgYWZ0ZXIgcmVzcG9uc2UgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBNaXNzaW5nIGV4cGVjdGVkIENSIGFmdGVyIGNodW5rIGV4dGVuc2lvbiBuYW1lAEludmFsaWQgc3RhdHVzIGNvZGUAUGF1c2Ugb24gQ09OTkVDVC9VcGdyYWRlAFBhdXNlIG9uIFBSSS9VcGdyYWRlAEV4cGVjdGVkIEhUVFAvMiBDb25uZWN0aW9uIFByZWZhY2UAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9tZXRob2QARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgbWV0aG9kAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX2ZpZWxkAFBhdXNlZABJbnZhbGlkIHdvcmQgZW5jb3VudGVyZWQASW52YWxpZCBtZXRob2QgZW5jb3VudGVyZWQATWlzc2luZyBleHBlY3RlZCBDUiBhZnRlciBjaHVuayBkYXRhAEV4cGVjdGVkIExGIGFmdGVyIGNodW5rIGRhdGEAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzY2hlbWEAUmVxdWVzdCBoYXMgaW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgAERhdGEgYWZ0ZXIgYENvbm5lY3Rpb246IGNsb3NlYABTV0lUQ0hfUFJPWFkAVVNFX1BST1hZAE1LQUNUSVZJVFkAVU5QUk9DRVNTQUJMRV9FTlRJVFkAUVVFUlkAQ09QWQBNT1ZFRF9QRVJNQU5FTlRMWQBUT09fRUFSTFkATk9USUZZAEZBSUxFRF9ERVBFTkRFTkNZAEJBRF9HQVRFV0FZAFBMQVkAUFVUAENIRUNLT1VUAEdBVEVXQVlfVElNRU9VVABSRVFVRVNUX1RJTUVPVVQATkVUV09SS19DT05ORUNUX1RJTUVPVVQAQ09OTkVDVElPTl9USU1FT1VUAExPR0lOX1RJTUVPVVQATkVUV09SS19SRUFEX1RJTUVPVVQAUE9TVABNSVNESVJFQ1RFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX0xPQURfQkFMQU5DRURfUkVRVUVTVABCQURfUkVRVUVTVABIVFRQX1JFUVVFU1RfU0VOVF9UT19IVFRQU19QT1JUAFJFUE9SVABJTV9BX1RFQVBPVABSRVNFVF9DT05URU5UAE5PX0NPTlRFTlQAUEFSVElBTF9DT05URU5UAEhQRV9JTlZBTElEX0NPTlNUQU5UAEhQRV9DQl9SRVNFVABHRVQASFBFX1NUUklDVABDT05GTElDVABURU1QT1JBUllfUkVESVJFQ1QAUEVSTUFORU5UX1JFRElSRUNUAENPTk5FQ1QATVVMVElfU1RBVFVTAEhQRV9JTlZBTElEX1NUQVRVUwBUT09fTUFOWV9SRVFVRVNUUwBFQVJMWV9ISU5UUwBVTkFWQUlMQUJMRV9GT1JfTEVHQUxfUkVBU09OUwBPUFRJT05TAFNXSVRDSElOR19QUk9UT0NPTFMAVkFSSUFOVF9BTFNPX05FR09USUFURVMATVVMVElQTEVfQ0hPSUNFUwBJTlRFUk5BTF9TRVJWRVJfRVJST1IAV0VCX1NFUlZFUl9VTktOT1dOX0VSUk9SAFJBSUxHVU5fRVJST1IASURFTlRJVFlfUFJPVklERVJfQVVUSEVOVElDQVRJT05fRVJST1IAU1NMX0NFUlRJRklDQVRFX0VSUk9SAElOVkFMSURfWF9GT1JXQVJERURfRk9SAFNFVF9QQVJBTUVURVIAR0VUX1BBUkFNRVRFUgBIUEVfVVNFUgBTRUVfT1RIRVIASFBFX0NCX0NIVU5LX0hFQURFUgBFeHBlY3RlZCBMRiBhZnRlciBDUgBNS0NBTEVOREFSAFNFVFVQAFdFQl9TRVJWRVJfSVNfRE9XTgBURUFSRE9XTgBIUEVfQ0xPU0VEX0NPTk5FQ1RJT04ASEVVUklTVElDX0VYUElSQVRJT04ARElTQ09OTkVDVEVEX09QRVJBVElPTgBOT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTgBIUEVfSU5WQUxJRF9WRVJTSU9OAEhQRV9DQl9NRVNTQUdFX0JFR0lOAFNJVEVfSVNfRlJPWkVOAEhQRV9JTlZBTElEX0hFQURFUl9UT0tFTgBJTlZBTElEX1RPS0VOAEZPUkJJRERFTgBFTkhBTkNFX1lPVVJfQ0FMTQBIUEVfSU5WQUxJRF9VUkwAQkxPQ0tFRF9CWV9QQVJFTlRBTF9DT05UUk9MAE1LQ09MAEFDTABIUEVfSU5URVJOQUwAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRV9VTk9GRklDSUFMAEhQRV9PSwBVTkxJTksAVU5MT0NLAFBSSQBSRVRSWV9XSVRIAEhQRV9JTlZBTElEX0NPTlRFTlRfTEVOR1RIAEhQRV9VTkVYUEVDVEVEX0NPTlRFTlRfTEVOR1RIAEZMVVNIAFBST1BQQVRDSABNLVNFQVJDSABVUklfVE9PX0xPTkcAUFJPQ0VTU0lORwBNSVNDRUxMQU5FT1VTX1BFUlNJU1RFTlRfV0FSTklORwBNSVNDRUxMQU5FT1VTX1dBUk5JTkcASFBFX0lOVkFMSURfVFJBTlNGRVJfRU5DT0RJTkcARXhwZWN0ZWQgQ1JMRgBIUEVfSU5WQUxJRF9DSFVOS19TSVpFAE1PVkUAQ09OVElOVUUASFBFX0NCX1NUQVRVU19DT01QTEVURQBIUEVfQ0JfSEVBREVSU19DT01QTEVURQBIUEVfQ0JfVkVSU0lPTl9DT01QTEVURQBIUEVfQ0JfVVJMX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19DT01QTEVURQBIUEVfQ0JfSEVBREVSX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9OQU1FX0NPTVBMRVRFAEhQRV9DQl9NRVNTQUdFX0NPTVBMRVRFAEhQRV9DQl9NRVRIT0RfQ09NUExFVEUASFBFX0NCX0hFQURFUl9GSUVMRF9DT01QTEVURQBERUxFVEUASFBFX0lOVkFMSURfRU9GX1NUQVRFAElOVkFMSURfU1NMX0NFUlRJRklDQVRFAFBBVVNFAE5PX1JFU1BPTlNFAFVOU1VQUE9SVEVEX01FRElBX1RZUEUAR09ORQBOT1RfQUNDRVBUQUJMRQBTRVJWSUNFX1VOQVZBSUxBQkxFAFJBTkdFX05PVF9TQVRJU0ZJQUJMRQBPUklHSU5fSVNfVU5SRUFDSEFCTEUAUkVTUE9OU0VfSVNfU1RBTEUAUFVSR0UATUVSR0UAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRQBSRVFVRVNUX0hFQURFUl9UT09fTEFSR0UAUEFZTE9BRF9UT09fTEFSR0UASU5TVUZGSUNJRU5UX1NUT1JBR0UASFBFX1BBVVNFRF9VUEdSQURFAEhQRV9QQVVTRURfSDJfVVBHUkFERQBTT1VSQ0UAQU5OT1VOQ0UAVFJBQ0UASFBFX1VORVhQRUNURURfU1BBQ0UAREVTQ1JJQkUAVU5TVUJTQ1JJQkUAUkVDT1JEAEhQRV9JTlZBTElEX01FVEhPRABOT1RfRk9VTkQAUFJPUEZJTkQAVU5CSU5EAFJFQklORABVTkFVVEhPUklaRUQATUVUSE9EX05PVF9BTExPV0VEAEhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEAEFMUkVBRFlfUkVQT1JURUQAQUNDRVBURUQATk9UX0lNUExFTUVOVEVEAExPT1BfREVURUNURUQASFBFX0NSX0VYUEVDVEVEAEhQRV9MRl9FWFBFQ1RFRABDUkVBVEVEAElNX1VTRUQASFBFX1BBVVNFRABUSU1FT1VUX09DQ1VSRUQAUEFZTUVOVF9SRVFVSVJFRABQUkVDT05ESVRJT05fUkVRVUlSRUQAUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRABMRU5HVEhfUkVRVUlSRUQAU1NMX0NFUlRJRklDQVRFX1JFUVVJUkVEAFVQR1JBREVfUkVRVUlSRUQAUEFHRV9FWFBJUkVEAFBSRUNPTkRJVElPTl9GQUlMRUQARVhQRUNUQVRJT05fRkFJTEVEAFJFVkFMSURBVElPTl9GQUlMRUQAU1NMX0hBTkRTSEFLRV9GQUlMRUQATE9DS0VEAFRSQU5TRk9STUFUSU9OX0FQUExJRUQATk9UX01PRElGSUVEAE5PVF9FWFRFTkRFRABCQU5EV0lEVEhfTElNSVRfRVhDRUVERUQAU0lURV9JU19PVkVSTE9BREVEAEhFQUQARXhwZWN0ZWQgSFRUUC8AAFIVAAAaFQAADxIAAOQZAACRFQAACRQAAC0ZAADkFAAA6REAAGkUAAChFAAAdhUAAEMWAABeEgAAlBcAABcWAAB9FAAAfxYAAEEXAACzEwAAwxYAAAQaAAC9GAAA0BgAAKATAADUGQAArxYAAGgWAABwFwAA2RYAAPwYAAD+EQAAWRcAAJcWAAAcFwAA9hYAAI0XAAALEgAAfxsAAC4RAACzEAAASRIAAK0SAAD2GAAAaBAAAGIVAAAQFQAAWhYAAEoZAAC1FQAAwRUAAGAVAABcGQAAWhkAAFMZAAAWFQAArREAAEIQAAC3EAAAVxgAAL8VAACJEAAAHBkAABoZAAC5FQAAURgAANwTAABbFQAAWRUAAOYYAABnFQAAERkAAO0YAADnEwAArhAAAMIXAAAAFAAAkhMAAIQTAABAEgAAJhkAAK8VAABiEABB6TkLAQEAQYA6C+ABAQECAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAwEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQeo7CwQBAAACAEGBPAteAwQDAwMDAwAAAwMAAwMAAwMDAwMDAwMDAwAFAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAMAAwBB6j0LBAEAAAIAQYE+C14DAAMDAwMDAAADAwADAwADAwMDAwMDAwMDAAQABQAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAwADAEHgPwsNbG9zZWVlcC1hbGl2ZQBB+T8LAQEAQZDAAAvgAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH5wQALAQEAQZDCAAvnAQEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZABBocQAC14BAAEBAQEBAAABAQABAQABAQEBAQEBAQEBAAAAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAEGAxgALIWVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgBBsMYACytyYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNClNNDQoNClRUUC9DRS9UU1AvAEHpxgALBQECAAEDAEGAxwALXwQFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFAEHpyAALBQECAAEDAEGAyQALXwQFBQYFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFAEHpygALBAEAAAEAQYHLAAteAgIAAgICAgICAgICAgICAgICAgICAgICAgICAgICAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgBB6cwACwUBAgABAwBBgM0AC18EBQAABQUFBQUFBQUFBQUGBQUFBQUFBQUFBQUFAAUABwgFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUABQAFAAUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFAAAABQBB6c4ACwUBAQABAQBBgM8ACwEBAEGazwALQQIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAEHp0AALBQEBAAEBAEGA0QALAQEAQYrRAAsGAgAAAAACAEGh0QALOgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQeDSAAuaAU5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VVRVJZT1JESVJFQ1RPUlRSQ0hQQVJBTUVURVJVUkNFQlNDUklCRUFSRE9XTkFDRUlORE5LQ0tVQlNDUklCRUhUVFAvQURUUC8=";Object.defineProperty(a,"exports",{get:()=>d||(d=e.from(f,"base64"))})},3057:(a,b,c)=>{"use strict";c.d(b,{V:()=>h});var d=c(41582),e=c(72506),f=c(79428),g=c(55511);class h{algorithmIdentifier;secret;hash;constructor(a,b){this.algorithmIdentifier=a,this.secret=b,this.reset()}update(a,b){this.hash.update((0,e.F)(i(a,b)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,g.createHmac)(this.algorithmIdentifier,i(this.secret)):(0,g.createHash)(this.algorithmIdentifier)}}function i(a,b){return f.Buffer.isBuffer(a)?a:"string"==typeof a?(0,d.s)(a,b):ArrayBuffer.isView(a)?(0,d.Q)(a.buffer,a.byteOffset,a.byteLength):(0,d.Q)(a)}},3058:(a,b)=>{b.L=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,o=a[b+l];for(l+=m,f=o&(1<<-k)-1,o>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:1/0*(o?-1:1);g+=Math.pow(2,d),f-=j}return(o?-1:1)*g*Math.pow(2,f-d)},b.M=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=5960464477539062e-23*(23===e),o=d?0:f-1,p=d?1:-1,q=+(b<0||0===b&&1/b<0);for(isNaN(b=Math.abs(b))||b===1/0?(h=+!!isNaN(b),g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),g+l>=1?b+=m/i:b+=m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+o]=255&h,o+=p,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+o]=255&g,o+=p,g/=256,j-=8);a[c+o-p]|=128*q}},3121:(a,b,c)=>{"use strict";let d=c(63590);class e extends d{constructor(a={}){super(a)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(a){a=parseInt(a.substr(-2))-1,this.date.setMonth(a<0?0:a)}toString(){let a=this.date.getMonth(),b=this.token.length;return 2===b?String(a+1).padStart(2,"0"):3===b?this.locales.monthsShort[a]:4===b?this.locales.months[a]:String(a+1)}}a.exports=e},3339:a=>{"use strict";a.exports={mapHttpResponse:e,resSerializer:d};let b=Symbol("pino-raw-res-ref"),c=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[b]},set:function(a){this[b]=a}}});function d(a){let b=Object.create(c);return b.statusCode=a.headersSent?a.statusCode:null,b.headers=a.getHeaders?a.getHeaders():a._headers,b.raw=a,b}function e(a){return{res:d(a)}}Object.defineProperty(c,b,{writable:!0,value:{}})},3349:(a,b,c)=>{"use strict";let d=Symbol.for("pino.metadata"),{DEFAULT_LEVELS:e}=c(97853),f=e.info;function g(a,b){return a.level-b.level}function h(a,b){return b?a-1:0}function i(a,b){return b?a-1:a+1}function j(a,b,c){return c?a>=0:a<b}a.exports=function(a,b){a=a||[],b=b||{dedupe:!1};let c=Object.create(e);c.silent=1/0,b.levels&&"object"==typeof b.levels&&Object.keys(b.levels).forEach(a=>{c[a]=b.levels[a]});let k={write:l,add:p,remove:q,emit:m,flushSync:o,end:r,minLevel:0,lastId:0,streams:[],clone:s,[d]:!0,streamLevels:c};return Array.isArray(a)?a.forEach(p,k):p.call(k,a),a=null,k;function l(a){let c,e,f=this.lastLevel,{streams:g}=this,k=0;for(let l=h(g.length,b.dedupe);j(l,g.length,b.dedupe);l=i(l,b.dedupe))if((c=g[l]).level<=f){if(0!==k&&k!==c.level)break;if((e=c.stream)[d]){let{lastTime:a,lastMsg:b,lastObj:c,lastLogger:d}=this;e.lastLevel=f,e.lastTime=a,e.lastMsg=b,e.lastObj=c,e.lastLogger=d}e.write(a),b.dedupe&&(k=c.level)}else if(!b.dedupe)break}function m(...a){for(let{stream:b}of this.streams)"function"==typeof b.emit&&b.emit(...a)}function o(){for(let{stream:a}of this.streams)"function"==typeof a.flushSync&&a.flushSync()}function p(a){let b;if(!a)return k;let c="function"==typeof a.write||a.stream,d=a.write?a:a.stream;if(!c)throw Error("stream object needs to implement either StreamEntry or DestinationStream interface");let{streams:e,streamLevels:h}=this,i={stream:d,level:b="number"==typeof a.levelVal?a.levelVal:"string"==typeof a.level?h[a.level]:"number"==typeof a.level?a.level:f,levelVal:void 0,id:++k.lastId};return e.unshift(i),e.sort(g),this.minLevel=e[0].level,k}function q(a){let{streams:b}=this,c=b.findIndex(b=>b.id===a);return c>=0&&(b.splice(c,1),b.sort(g),this.minLevel=b.length>0?b[0].level:-1),k}function r(){for(let{stream:a}of this.streams)"function"==typeof a.flushSync&&a.flushSync(),a.end()}function s(a){let b=Array(this.streams.length);for(let c=0;c<b.length;c++)b[c]={level:a,stream:this.streams[c].stream};return{write:l,add:p,remove:q,minLevel:a,streams:b,clone:s,emit:m,flushSync:o,[d]:!0}}}},3485:(a,b,c)=>{"use strict";let d=c(6190),e=c(429),f=c(49026).parseDataURI;class g{constructor(a){this.mail=a||{},this.message=!1}compile(){return this._alternatives=this.getAlternatives(),this._htmlNode=this._alternatives.filter(a=>/^text\/html\b/i.test(a.contentType)).pop(),this._attachments=this.getAttachments(!!this._htmlNode),this._useRelated=!!(this._htmlNode&&this._attachments.related.length),this._useAlternative=this._alternatives.length>1,this._useMixed=this._attachments.attached.length>1||this._alternatives.length&&1===this._attachments.attached.length,this.mail.raw?this.message=new d("message/rfc822",{newline:this.mail.newline}).setRaw(this.mail.raw):this._useMixed?this.message=this._createMixed():this._useAlternative?this.message=this._createAlternative():this._useRelated?this.message=this._createRelated():this.message=this._createContentNode(!1,[].concat(this._alternatives||[]).concat(this._attachments.attached||[]).shift()||{contentType:"text/plain",content:""}),this.mail.headers&&this.message.addHeader(this.mail.headers),["from","sender","to","cc","bcc","reply-to","in-reply-to","references","subject","message-id","date"].forEach(a=>{let b=a.replace(/-(\w)/g,(a,b)=>b.toUpperCase());this.mail[b]&&this.message.setHeader(a,this.mail[b])}),this.mail.envelope&&this.message.setEnvelope(this.mail.envelope),this.message.messageId(),this.message}getAttachments(a){let b,c,d=[].concat(this.mail.attachments||[]).map((a,b)=>{let c,d;/^data:/i.test(a.path||a.href)&&(a=this._processDataUrl(a));let f=a.contentType||e.detectMimeType(a.filename||a.path||a.href||"bin"),g=/^image\//i.test(f),h=/^message\//i.test(f);return c={contentType:f,contentDisposition:a.contentDisposition||(h||g&&a.cid?"inline":"attachment"),contentTransferEncoding:d="contentTransferEncoding"in a?a.contentTransferEncoding:h?"7bit":"base64"},a.filename?c.filename=a.filename:!h&&!1!==a.filename&&(c.filename=(a.path||a.href||"").split("/").pop().split("?").shift()||"attachment-"+(b+1),0>c.filename.indexOf(".")&&(c.filename+="."+e.detectExtension(c.contentType))),/^https?:\/\//i.test(a.path)&&(a.href=a.path,a.path=void 0),a.cid&&(c.cid=a.cid),a.raw?c.raw=a.raw:a.path?c.content={path:a.path}:a.href?c.content={href:a.href,httpHeaders:a.httpHeaders}:c.content=a.content||"",a.encoding&&(c.encoding=a.encoding),a.headers&&(c.headers=a.headers),c});return(this.mail.icalEvent&&(b="object"==typeof this.mail.icalEvent&&(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)?this.mail.icalEvent:{content:this.mail.icalEvent},c={},Object.keys(b).forEach(a=>{c[a]=b[a]}),c.contentType="application/ics",c.headers||(c.headers={}),c.filename=c.filename||"invite.ics",c.headers["Content-Disposition"]="attachment",c.headers["Content-Transfer-Encoding"]="base64"),a)?{attached:d.filter(a=>!a.cid).concat(c||[]),related:d.filter(a=>!!a.cid)}:{attached:d.concat(c||[]),related:[]}}getAlternatives(){let a=[],b,c,d,f,g,h;return this.mail.text&&((b="object"==typeof this.mail.text&&(this.mail.text.content||this.mail.text.path||this.mail.text.href||this.mail.text.raw)?this.mail.text:{content:this.mail.text}).contentType="text/plain; charset=utf-8"),this.mail.watchHtml&&((d="object"==typeof this.mail.watchHtml&&(this.mail.watchHtml.content||this.mail.watchHtml.path||this.mail.watchHtml.href||this.mail.watchHtml.raw)?this.mail.watchHtml:{content:this.mail.watchHtml}).contentType="text/watch-html; charset=utf-8"),this.mail.amp&&((f="object"==typeof this.mail.amp&&(this.mail.amp.content||this.mail.amp.path||this.mail.amp.href||this.mail.amp.raw)?this.mail.amp:{content:this.mail.amp}).contentType="text/x-amp-html; charset=utf-8"),this.mail.icalEvent&&(g="object"==typeof this.mail.icalEvent&&(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)?this.mail.icalEvent:{content:this.mail.icalEvent},h={},Object.keys(g).forEach(a=>{h[a]=g[a]}),h.content&&"object"==typeof h.content&&(h.content._resolve=!0),h.filename=!1,h.contentType="text/calendar; charset=utf-8; method="+(h.method||"PUBLISH").toString().trim().toUpperCase(),h.headers||(h.headers={})),this.mail.html&&((c="object"==typeof this.mail.html&&(this.mail.html.content||this.mail.html.path||this.mail.html.href||this.mail.html.raw)?this.mail.html:{content:this.mail.html}).contentType="text/html; charset=utf-8"),[].concat(b||[]).concat(d||[]).concat(f||[]).concat(c||[]).concat(h||[]).concat(this.mail.alternatives||[]).forEach(b=>{let c;/^data:/i.test(b.path||b.href)&&(b=this._processDataUrl(b)),c={contentType:b.contentType||e.detectMimeType(b.filename||b.path||b.href||"txt"),contentTransferEncoding:b.contentTransferEncoding},b.filename&&(c.filename=b.filename),/^https?:\/\//i.test(b.path)&&(b.href=b.path,b.path=void 0),b.raw?c.raw=b.raw:b.path?c.content={path:b.path}:b.href?c.content={href:b.href}:c.content=b.content||"",b.encoding&&(c.encoding=b.encoding),b.headers&&(c.headers=b.headers),a.push(c)}),a}_createMixed(a){let b;return b=a?a.createChild("multipart/mixed",{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new d("multipart/mixed",{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._useAlternative?this._createAlternative(b):this._useRelated&&this._createRelated(b),[].concat(!this._useAlternative&&this._alternatives||[]).concat(this._attachments.attached||[]).forEach(a=>{this._useRelated&&a===this._htmlNode||this._createContentNode(b,a)}),b}_createAlternative(a){let b;return b=a?a.createChild("multipart/alternative",{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new d("multipart/alternative",{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._alternatives.forEach(a=>{this._useRelated&&this._htmlNode===a?this._createRelated(b):this._createContentNode(b,a)}),b}_createRelated(a){let b;return b=a?a.createChild('multipart/related; type="text/html"',{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new d('multipart/related; type="text/html"',{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._createContentNode(b,this._htmlNode),this._attachments.related.forEach(a=>this._createContentNode(b,a)),b}_createContentNode(a,b){let c;(b=b||{}).content=b.content||"";let e=(b.encoding||"utf8").toString().toLowerCase().replace(/[-_\s]/g,"");return c=a?a.createChild(b.contentType,{filename:b.filename,textEncoding:this.mail.textEncoding,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new d(b.contentType,{filename:b.filename,baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),b.headers&&c.addHeader(b.headers),b.cid&&c.setHeader("Content-Id","<"+b.cid.replace(/[<>]/g,"")+">"),b.contentTransferEncoding?c.setHeader("Content-Transfer-Encoding",b.contentTransferEncoding):this.mail.encoding&&/^text\//i.test(b.contentType)&&c.setHeader("Content-Transfer-Encoding",this.mail.encoding),(!/^text\//i.test(b.contentType)||b.contentDisposition)&&c.setHeader("Content-Disposition",b.contentDisposition||(b.cid&&/^image\//i.test(b.contentType)?"inline":"attachment")),"string"!=typeof b.content||["utf8","usascii","ascii"].includes(e)||(b.content=Buffer.from(b.content,e)),b.raw?c.setRaw(b.raw):c.setContent(b.content),c}_processDataUrl(a){let b,c=a.path||a.href;if(!c||"string"!=typeof c||!c.startsWith("data:"))return a;if(c.length>1e5)return Object.assign({},a,{path:!1,href:!1,content:Buffer.alloc(0),contentType:a.contentType||"application/octet-stream"});try{b=f(c)}catch(b){return a}return b&&(a.content=b.data,a.contentType=a.contentType||b.contentType,"path"in a&&(a.path=!1),"href"in a&&(a.href=!1)),a}}a.exports=g},3556:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>createSchemaGenerator});var fs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(29021),fs_promises__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(79748),path__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(33873);let sanitizeObjectKey=a=>/^[a-z_$][\w$]*$/i.test(a)?a:`'${a}'`,accessProperty=(a,b)=>{let c=sanitizeObjectKey(b);return c.startsWith("'")?`${a}[${c}]`:`${a}.${b}`},createSchemaGenerator=({columnToCodeConverter,corePackageSuffix,defaultOutputFile,enumImport,schemaImport,tableImport})=>async function generateSchema({log=!0,outputFile=defaultOutputFile,prettify=!0}={}){let importDeclarations={},tableDeclarations=[],enumDeclarations=[],relationsDeclarations=[],addImport=(a,b)=>{importDeclarations[a]||(importDeclarations[a]=new Set),importDeclarations[a].add(b)},corePackage=`${this.packageName}/drizzle/${corePackageSuffix}`,schemaDeclaration=null;this.schemaName&&(addImport(corePackage,schemaImport),schemaDeclaration=`export const db_schema = ${schemaImport}('${this.schemaName}')`);let enumFn=this.schemaName?"db_schema.enum":enumImport,enumsList=[],addEnum=(a,b)=>{enumsList.some(b=>b===a)||(enumsList.push(a),enumDeclarations.push(`export const ${a} = ${enumFn}('${a}', [${b.map(a=>`'${a}'`).join(", ")}])`))};this.payload.config.localization&&enumImport&&addEnum("enum__locales",this.payload.config.localization.localeCodes);let tableFn=this.schemaName?"db_schema.table":tableImport;for(let tableName in this.schemaName||addImport(corePackage,tableImport),addImport(corePackage,"index"),addImport(corePackage,"uniqueIndex"),addImport(corePackage,"foreignKey"),addImport(`${this.packageName}/drizzle`,"sql"),addImport(`${this.packageName}/drizzle`,"relations"),this.rawTables){let table=this.rawTables[tableName],extrasDeclarations=[];if(table.indexes)for(let key in table.indexes){let index=table.indexes[key],indexDeclaration=`${index.unique?"uniqueIndex":"index"}('${index.name}')`;indexDeclaration+=`.on(${"string"==typeof index.on?`${accessProperty("columns",index.on)}`:`${index.on.map(a=>`${accessProperty("columns",a)}`).join(", ")}`}),`,extrasDeclarations.push(indexDeclaration)}if(table.foreignKeys)for(let key in table.foreignKeys){let foreignKey=table.foreignKeys[key],foreignKeyDeclaration=`foreignKey({
      columns: [${foreignKey.columns.map(a=>`columns['${a}']`).join(", ")}],
      foreignColumns: [${foreignKey.foreignColumns.map(a=>`${accessProperty(a.table,a.name)}`).join(", ")}],
      name: '${foreignKey.name}'
    })`;foreignKey.onDelete&&(foreignKeyDeclaration+=`.onDelete('${foreignKey.onDelete}')`),foreignKey.onUpdate&&(foreignKeyDeclaration+=`.onUpdate('${foreignKey.onDelete}')`),foreignKeyDeclaration+=",",extrasDeclarations.push(foreignKeyDeclaration)}let tableCode=`
export const ${tableName} = ${tableFn}('${tableName}', {
${Object.entries(table.columns).map(([a,b])=>`  ${sanitizeObjectKey(a)}: ${columnToCodeConverter({adapter:this,addEnum,addImport,column:b,locales:this.payload.config.localization?this.payload.config.localization.localeCodes:void 0,tableKey:tableName})},`).join("\n")}
}${extrasDeclarations.length?`, (columns) => [
    ${extrasDeclarations.join(" ")}
]`:""}
)
`;tableDeclarations.push(tableCode)}for(let tableName in this.rawRelations){let relations=this.rawRelations[tableName],properties=[];for(let key in relations){let declaration,relation=relations[key];declaration="one"===relation.type?`${sanitizeObjectKey(key)}: one(${relation.to}, {
    ${relation.fields.some(a=>a.table!==tableName)?"// @ts-expect-error Drizzle TypeScript bug for ONE relationships with a field in different table":""}
    fields: [${relation.fields.map(a=>`${accessProperty(a.table,a.name)}`).join(", ")}],
    references: [${relation.references.map(a=>`${accessProperty(relation.to,a)}`).join(", ")}],
    ${relation.relationName?`relationName: '${relation.relationName}',`:""}
    }),`:`${sanitizeObjectKey(key)}: many(${relation.to}, {
            ${relation.relationName?`relationName: '${relation.relationName}',`:""}
    }),`,properties.push(declaration)}let args=[];Object.values(relations).some(a=>"one"===a.type)&&args.push("one"),Object.values(relations).some(a=>"many"===a.type)&&args.push("many");let arg=args.length?`{ ${args.join(", ")} }`:"",declaration=`export const relations_${tableName} = relations(${tableName}, (${arg}) => ({
  ${properties.join("\n    ")}
      }))`;relationsDeclarations.push(declaration)}enumDeclarations.length&&!this.schemaName&&addImport(corePackage,enumImport);let importDeclarationsSanitized=[];for(let moduleName in importDeclarations){let moduleImports=importDeclarations[moduleName];importDeclarationsSanitized.push(`import { ${Array.from(moduleImports).join(", ")} } from '${moduleName}'`)}let schemaType=`
type DatabaseSchema = {
  ${[this.schemaName?"db_schema":null,...enumsList,...Object.keys(this.rawTables),...Object.keys(this.rawRelations).map(a=>`relations_${a}`)].filter(Boolean).map(a=>`${a}: typeof ${a}`).join("\n  ")}
}
    `,finalDeclaration=`
declare module '${this.packageName}' {
  export interface GeneratedDatabaseSchema {
    schema: DatabaseSchema
  }
}
    `,warning=`
/* tslint:disable */
/* eslint-disable */
/**
 * This file was automatically generated by Payload.
 * DO NOT MODIFY IT BY HAND. Instead, modify your source Payload config,
 * and re-run \`payload generate:db-schema\` to regenerate this file.
 */
`,importTypes=`import type {} from '${this.packageName}'`,code=[warning,importTypes,...importDeclarationsSanitized,schemaDeclaration,...enumDeclarations,...tableDeclarations,...relationsDeclarations,schemaType,finalDeclaration].filter(Boolean).join("\n");if(!outputFile){let cwd=process.cwd(),srcDir=path__WEBPACK_IMPORTED_MODULE_2__.resolve(cwd,"src");outputFile=(0,fs__WEBPACK_IMPORTED_MODULE_0__.existsSync)(srcDir)?path__WEBPACK_IMPORTED_MODULE_2__.resolve(srcDir,"payload-generated-schema.ts"):path__WEBPACK_IMPORTED_MODULE_2__.resolve(cwd,"payload-generated-schema.ts")}if(prettify)try{let prettier=await eval('import("prettier")'),configPath=await prettier.resolveConfigFile(),config=configPath?await prettier.resolveConfig(configPath):{};code=await prettier.format(code,{...config,parser:"typescript"})}catch{}await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.writeFile)(outputFile,code,"utf-8"),log&&this.payload.logger.info(`Written ${outputFile}`)}},3761:(a,b,c)=>{"use strict";let d=c(85558),e=c(54177),f=Object.freeze({password:{scale:1,render:a=>"*".repeat(a.length)},emoji:{scale:2,render:a=>"\uD83D\uDE03".repeat(a.length)},invisible:{scale:0,render:a=>""},default:{scale:1,render:a=>`${a}`}}),g=a=>f[a]||f.default,h=Object.freeze({aborted:d.red(e.cross),done:d.green(e.tick),exited:d.yellow(e.cross),default:d.cyan("?")}),i=(a,b,c)=>b?h.aborted:c?h.exited:a?h.done:h.default;a.exports={styles:f,render:g,symbols:h,symbol:i,delimiter:a=>d.gray(a?e.ellipsis:e.pointerSmall),item:(a,b)=>d.gray(a?b?e.pointerSmall:"+":e.line)}},3930:(a,b,c)=>{"use strict";a.exports=h;let{LOGGER_KEYS:d}=c(51874),e=c(27782),f=c(14466),g=c(81211);function h({log:a,excludeLoggerKeys:b=!0,skipKeys:c=[],context:h}){let{EOL:i,IDENT:j,customPrettifiers:k,errorLikeObjectKeys:l,objectColorizer:m,singleLine:o,colorizer:p}=h,q=[].concat(c);!0===b&&Array.prototype.push.apply(q,d);let r="",{plain:s,errors:t}=Object.entries(a).reduce(({plain:b,errors:c},[d,e])=>{if(!1===q.includes(d)){let f="function"==typeof k[d]?k[d](e,d,a,{colors:p.colors}):e;l.includes(d)?c[d]=f:b[d]=f}return{plain:b,errors:c}},{plain:{},errors:{}});return o?(Object.keys(s).length>0&&(r+=m.greyMessage(e(s))),r+=i,r=r.replace(/\\\\/gi,"\\")):Object.entries(s).forEach(([a,b])=>{let c="function"==typeof k[a]?b:e(b,null,2);if(void 0===c)return;let d=f({input:c=c.replace(/\\\\/gi,"\\"),ident:j,eol:i});r+=`${j}${m.property(a)}:${d.startsWith(i)?"":" "}${d}${i}`}),Object.entries(t).forEach(([a,b])=>{let c="function"==typeof k[a]?b:e(b,null,2);void 0!==c&&(r+=g({keyName:a,lines:c,eol:i,ident:j}))}),r}},4129:(a,b,c)=>{"use strict";let d=c(63590);class e extends d{constructor(a={}){super(a)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let a=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?a.toUpperCase():a}}a.exports=e},4216:(a,b,c)=>{"use strict";c.d(b,{d:()=>e});var d=c(34318);class e extends d.Kp7{constructor(a,b){super(b),this.__format=a||""}exportJSON(){return{...super.exportJSON(),format:this.__format||""}}updateFromJSON(a){return super.updateFromJSON(a).setFormat(a.format||"")}canIndent(){return!1}createDOM(){return document.createElement("div")}updateDOM(){return!1}setFormat(a){let b=this.getWritable();return b.__format=a,b}isInline(){return!1}}},4218:(a,b,c)=>{"use strict";var d=c(33873),e=c(27910).Stream,f=c(93738),g=c(28354),h=5432,i="win32"===process.platform,j=process.stderr,k=56,l=7,m=61440,o=32768;function p(a){return(a&m)==o}var q=["host","port","database","user","password"],r=q.length,s=q[r-1];function t(){if(j instanceof e&&!0===j.writable){var a=Array.prototype.slice.call(arguments).concat("\n");j.write(g.format.apply(g,a))}}Object.defineProperty(a.exports,"isWin",{get:function(){return i},set:function(a){i=a}}),a.exports.warnTo=function(a){var b=j;return j=a,b},a.exports.getFileName=function(a){var b=a||process.env;return b.PGPASSFILE||(i?d.join(b.APPDATA||"./","postgresql","pgpass.conf"):d.join(b.HOME||"./",".pgpass"))},a.exports.usePgPass=function(a,b){return!Object.prototype.hasOwnProperty.call(process.env,"PGPASSWORD")&&(!!i||((b=b||"<unkn>",p(a.mode))?!(a.mode&(k|l))||(t('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',b),!1):(t('WARNING: password file "%s" is not a plain file',b),!1)))};var u=a.exports.match=function(a,b){return q.slice(0,-1).reduce(function(c,d,e){return 1==e&&Number(a[d]||h)===Number(b[d])?c&&!0:c&&("*"===b[d]||b[d]===a[d])},!0)};a.exports.getPassword=function(a,b,c){var d,e=b.pipe(f());function g(b){var c=v(b);c&&w(c)&&u(a,c)&&(d=c[s],e.end())}var h=function(){b.destroy(),c(d)},i=function(a){b.destroy(),t("WARNING: error on reading file: %s",a),c(void 0)};b.on("error",i),e.on("data",g).on("end",h).on("error",i)};var v=a.exports.parseLine=function(a){if(a.length<11||a.match(/^\s+#/))return null;for(var b="",c="",d=0,e=0,f={},g=!1,h=function(b,c,d){var e=a.substring(c,d);Object.hasOwnProperty.call(process.env,"PGPASS_NO_DEESCAPE")||(e=e.replace(/\\([:\\])/g,"$1")),f[q[b]]=e},i=0;i<a.length-1;i+=1){if(b=a.charAt(i+1),c=a.charAt(i),g=d==r-1){h(d,e);break}i>=0&&":"==b&&"\\"!==c&&(h(d,e,i+1),e=i+2,d+=1)}return f=Object.keys(f).length===r?f:null},w=a.exports.isValidEntry=function(a){for(var b={0:function(a){return a.length>0},1:function(a){return"*"===a||isFinite(a=Number(a))&&a>0&&a<0x20000000000000&&Math.floor(a)===a},2:function(a){return a.length>0},3:function(a){return a.length>0},4:function(a){return a.length>0}},c=0;c<q.length;c+=1)if(!(0,b[c])(a[q[c]]||""))return!1;return!0}},4282:(a,b,c)=>{"use strict";var d=c(38187),e=/[\/\?<>\\:\*\|"]/g,f=/[\x00-\x1f\x80-\x9f]/g,g=/^\.+$/,h=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,i=/[\. ]+$/;function j(a,b){if("string"!=typeof a)throw Error("Input must be string");return d(a.replace(e,b).replace(f,b).replace(g,b).replace(h,b).replace(i,b),255)}a.exports=function(a,b){var c=b&&b.replacement||"",d=j(a,c);return""===c?d:j(d,"")}},4360:(a,b,c)=>{"use strict";let d=b,e=c(53074),f=a=>a;function g(a,b,c={}){return new Promise((d,g)=>{let h=new e[a](b),i=c.onAbort||f,j=c.onSubmit||f,k=c.onExit||f;h.on("state",b.onState||f),h.on("submit",a=>d(j(a))),h.on("exit",a=>d(k(a))),h.on("abort",a=>g(i(a)))})}d.text=a=>g("TextPrompt",a),d.password=a=>(a.style="password",d.text(a)),d.invisible=a=>(a.style="invisible",d.text(a)),d.number=a=>g("NumberPrompt",a),d.date=a=>g("DatePrompt",a),d.confirm=a=>g("ConfirmPrompt",a),d.list=a=>{let b=a.separator||",";return g("TextPrompt",a,{onSubmit:a=>a.split(b).map(a=>a.trim())})},d.toggle=a=>g("TogglePrompt",a),d.select=a=>g("SelectPrompt",a),d.multiselect=a=>{a.choices=[].concat(a.choices||[]);let b=a=>a.filter(a=>a.selected).map(a=>a.value);return g("MultiselectPrompt",a,{onAbort:b,onSubmit:b})},d.autocompleteMultiselect=a=>{a.choices=[].concat(a.choices||[]);let b=a=>a.filter(a=>a.selected).map(a=>a.value);return g("AutocompleteMultiselectPrompt",a,{onAbort:b,onSubmit:b})};let h=(a,b)=>Promise.resolve(b.filter(b=>b.title.slice(0,a.length).toLowerCase()===a.toLowerCase()));d.autocomplete=a=>(a.suggest=a.suggest||h,a.choices=[].concat(a.choices||[]),g("AutocompletePrompt",a))},4429:(a,b,c)=>{"use strict";c.d(b,{pi:()=>g,sF:()=>l,yG:()=>f});var d=c(89701),e=c(64262);let f="AWS_ACCESS_KEY_ID",g="AWS_SECRET_ACCESS_KEY",h="AWS_SESSION_TOKEN",i="AWS_CREDENTIAL_EXPIRATION",j="AWS_CREDENTIAL_SCOPE",k="AWS_ACCOUNT_ID",l=a=>async()=>{a?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let b=process.env[f],c=process.env[g],l=process.env[h],m=process.env[i],o=process.env[j],p=process.env[k];if(b&&c){let a={accessKeyId:b,secretAccessKey:c,...l&&{sessionToken:l},...m&&{expiration:new Date(m)},...o&&{credentialScope:o},...p&&{accountId:p}};return(0,d.g)(a,"CREDENTIALS_ENV_VARS","g"),a}throw new e.C("Unable to find environment variable credentials.",{logger:a?.logger})}},4611:(a,b,c)=>{var d=c(1195);a.exports=function a(a){return d(a).replace(/\s/g,"_")}},4804:(a,b,c)=>{"use strict";let d=c(85558),e=c(40821).cursor,f=c(42319),g=c(13576),h=g.clear,i=g.figures,j=g.style,k=g.wrap,l=g.entriesToDisplay;class m extends f{constructor(a={}){super(a),this.msg=a.message,this.cursor=a.cursor||0,this.scrollIndex=a.cursor||0,this.hint=a.hint||"",this.warn=a.warn||"- This option is disabled -",this.minSelected=a.min,this.showMinError=!1,this.maxChoices=a.max,this.instructions=a.instructions,this.optionsPerPage=a.optionsPerPage||10,this.value=a.choices.map((a,b)=>("string"==typeof a&&(a={title:a,value:b}),{title:a&&(a.title||a.value||a),description:a&&a.description,value:a&&(void 0===a.value?b:a.value),selected:a&&a.selected,disabled:a&&a.disabled})),this.clear=h("",this.out.columns),a.overrideRender||this.render()}reset(){this.value.map(a=>!a.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(a=>a.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){let a=this.value.filter(a=>a.selected);this.minSelected&&a.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(a=>a.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let a=this.value[this.cursor];if(a.selected)a.selected=!1,this.render();else{if(a.disabled||this.value.filter(a=>a.selected).length>=this.maxChoices)return this.bell();a.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();let a=!this.value[this.cursor].selected;this.value.filter(a=>!a.disabled).forEach(b=>b.selected=a),this.render()}_(a,b){if(" "===a)this.handleSpaceToggle();else{if("a"!==a)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`
Instructions:
    ${i.arrowUp}/${i.arrowDown}: Highlight option
    ${i.arrowLeft}/${i.arrowRight}/[space]: Toggle selection
`+(void 0===this.maxChoices?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(a,b,c,e){let f,g,h=(b.selected?d.green(i.radioOn):i.radioOff)+" "+e+" ";return b.disabled?f=a===c?d.gray().underline(b.title):d.strikethrough().gray(b.title):(f=a===c?d.cyan().underline(b.title):b.title,a===c&&b.description&&(g=` - ${b.description}`,(h.length+f.length+g.length>=this.out.columns||b.description.split(/\r?\n/).length>1)&&(g="\n"+k(b.description,{margin:h.length,width:this.out.columns})))),h+f+d.gray(g||"")}paginateOptions(a){if(0===a.length)return d.red("No matches for this query.");let b=l(this.cursor,a.length,this.optionsPerPage),c=b.startIndex,e=b.endIndex,f,g=[];for(let b=c;b<e;b++)f=b===c&&c>0?i.arrowUp:b===e-1&&e<a.length?i.arrowDown:" ",g.push(this.renderOption(this.cursor,a[b],b,f));return"\n"+g.join("\n")}renderOptions(a){return this.done?"":this.paginateOptions(a)}renderDoneOrInstructions(){if(this.done)return this.value.filter(a=>a.selected).map(a=>a.title).join(", ");let a=[d.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&a.push(d.yellow(this.warn)),a.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let a=[j.symbol(this.done,this.aborted),d.bold(this.msg),j.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(a+=d.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),a+=this.renderOptions(this.value),this.out.write(this.clear+a),this.clear=h(a,this.out.columns)}}a.exports=m},4992:a=>{"use strict";a.exports=function a({log:a,context:b}){let{customPrettifiers:c,colorizer:d}=b,e="";if(a.name||a.pid||a.hostname){if(e+="(",a.name&&(e+=c.name?c.name(a.name,"name",a,{colors:d.colors}):a.name),a.pid){let b=c.pid?c.pid(a.pid,"pid",a,{colors:d.colors}):a.pid;a.name&&a.pid?e+="/"+b:e+=b}if(a.hostname){let b=c.hostname?c.hostname(a.hostname,"hostname",a,{colors:d.colors}):a.hostname;e+=`${"("===e?"on":" on"} ${b}`}e+=")"}if(a.caller){let b=c.caller?c.caller(a.caller,"caller",a,{colors:d.colors}):a.caller;e+=`${""===e?"":" "}<${b}>`}if(""!==e)return e}},5122:a=>{"use strict";a.exports=function a(a){return a?"string"==typeof a?a.split(",").reduce((a,b,c)=>{let[d,e=c]=b.split(":");return a[e]=d.toUpperCase(),a},{default:"USERLVL"}):"[object Object]"===Object.prototype.toString.call(a)?Object.keys(a).reduce((b,c)=>(b[a[c]]=c.toUpperCase(),b),{default:"USERLVL"}):{}:{}}},5239:(a,b,c)=>{"use strict";var d;c.d(b,{c:()=>d}),function(a){a.ENV="env",a.CONFIG="shared config entry"}(d||(d={}))},5318:(a,b,c)=>{"use strict";c.d(b,{JV:()=>w,l3:()=>F,EI:()=>y,t_:()=>A,xE:()=>E});let d=a=>{if(null!=a){if("string"==typeof a){let b=parseFloat(a);if(!Number.isNaN(b))return String(b)!==String(a)&&t.warn(s(`Expected number but observed string: ${a}`)),b}if("number"==typeof a)return a;throw TypeError(`Expected number, got ${typeof a}: ${a}`)}},e=Math.ceil(17014118346046923e22*(2-11920928955078125e-23)),f=a=>{let b=d(a);if(void 0!==b&&!Number.isNaN(b)&&b!==1/0&&b!==-1/0&&Math.abs(b)>e)throw TypeError(`Expected 32-bit float, got ${a}`);return b},g=a=>{if(null!=a){if(Number.isInteger(a)&&!Number.isNaN(a))return a;throw TypeError(`Expected integer, got ${typeof a}: ${a}`)}},h=a=>j(a,16),i=a=>j(a,8),j=(a,b)=>{let c=g(a);if(void 0!==c&&k(c,b)!==c)throw TypeError(`Expected ${b}-bit integer, got ${a}`);return c},k=(a,b)=>{switch(b){case 32:return Int32Array.of(a)[0];case 16:return Int16Array.of(a)[0];case 8:return Int8Array.of(a)[0]}},l=a=>"string"==typeof a?d(p(a)):d(a),m=a=>"string"==typeof a?f(p(a)):f(a),o=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,p=a=>{let b=a.match(o);if(null===b||b[0].length!==a.length)throw TypeError("Expected real number, got implicit NaN");return parseFloat(a)},q=a=>"string"==typeof a?h(p(a)):h(a),r=a=>"string"==typeof a?i(p(a)):i(a),s=a=>String(TypeError(a).stack||a).split("\n").slice(0,5).filter(a=>!a.includes("stackTraceWarning")).join("\n"),t={warn:console.warn},u=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function w(a){let b=a.getUTCFullYear(),c=a.getUTCMonth(),d=a.getUTCDay(),e=a.getUTCDate(),f=a.getUTCHours(),g=a.getUTCMinutes(),h=a.getUTCSeconds(),i=e<10?`0${e}`:`${e}`,j=f<10?`0${f}`:`${f}`,k=g<10?`0${g}`:`${g}`,l=h<10?`0${h}`:`${h}`;return`${u[d]}, ${i} ${v[c]} ${b} ${j}:${k}:${l} GMT`}let x=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),y=a=>{if(null==a)return;if("string"!=typeof a)throw TypeError("RFC-3339 date-times must be expressed as strings");let b=x.exec(a);if(!b)throw TypeError("Invalid RFC-3339 date-time value");let[c,d,e,f,g,h,i,j]=b,k=q(R(d));return G(k,O(e,"month",1,12),O(f,"day",1,31),{hours:g,minutes:h,seconds:i,fractionalMilliseconds:j})},z=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),A=a=>{if(null==a)return;if("string"!=typeof a)throw TypeError("RFC-3339 date-times must be expressed as strings");let b=z.exec(a);if(!b)throw TypeError("Invalid RFC-3339 date-time value");let[c,d,e,f,g,h,i,j,k]=b,l=q(R(d)),m=G(l,O(e,"month",1,12),O(f,"day",1,31),{hours:g,minutes:h,seconds:i,fractionalMilliseconds:j});return"Z"!=k.toUpperCase()&&m.setTime(m.getTime()-Q(k)),m},B=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),C=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),D=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),E=a=>{if(null==a)return;if("string"!=typeof a)throw TypeError("RFC-7231 date-times must be expressed as strings");let b=B.exec(a);if(b){let[a,c,d,e,f,g,h,i]=b;return G(q(R(e)),K(d),O(c,"day",1,31),{hours:f,minutes:g,seconds:h,fractionalMilliseconds:i})}if(b=C.exec(a)){let[a,c,d,e,f,g,h,i]=b;return J(G(H(e),K(d),O(c,"day",1,31),{hours:f,minutes:g,seconds:h,fractionalMilliseconds:i}))}if(b=D.exec(a)){let[a,c,d,e,f,g,h,i]=b;return G(q(R(i)),K(c),O(d.trimLeft(),"day",1,31),{hours:e,minutes:f,seconds:g,fractionalMilliseconds:h})}throw TypeError("Invalid RFC-7231 date-time value")},F=a=>{let b;if(null!=a){if("number"==typeof a)b=a;else if("string"==typeof a)b=l(a);else if("object"==typeof a&&1===a.tag)b=a.value;else throw TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(b)||b===1/0||b===-1/0)throw TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*b))}},G=(a,b,c,d)=>{let e=b-1;return M(a,e,c),new Date(Date.UTC(a,e,c,O(d.hours,"hour",0,23),O(d.minutes,"minute",0,59),O(d.seconds,"seconds",0,60),P(d.fractionalMilliseconds)))},H=a=>{let b=new Date().getUTCFullYear(),c=100*Math.floor(b/100)+q(R(a));return c<b?c+100:c},I=15768e8,J=a=>a.getTime()-new Date().getTime()>I?new Date(Date.UTC(a.getUTCFullYear()-100,a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds())):a,K=a=>{let b=v.indexOf(a);if(b<0)throw TypeError(`Invalid month: ${a}`);return b+1},L=[31,28,31,30,31,30,31,31,30,31,30,31],M=(a,b,c)=>{let d=L[b];if(1===b&&N(a)&&(d=29),c>d)throw TypeError(`Invalid day for ${v[b]} in ${a}: ${c}`)},N=a=>a%4==0&&(a%100!=0||a%400==0),O=(a,b,c,d)=>{let e=r(R(a));if(e<c||e>d)throw TypeError(`${b} must be between ${c} and ${d}, inclusive`);return e},P=a=>null==a?0:1e3*m("0."+a),Q=a=>{let b=a[0],c=1;if("+"==b)c=1;else if("-"==b)c=-1;else throw TypeError(`Offset direction, ${b}, must be "+" or "-"`);return c*(60*Number(a.substring(1,3))+Number(a.substring(4,6)))*6e4},R=a=>{let b=0;for(;b<a.length-1&&"0"===a.charAt(b);)b++;return 0===b?a:a.slice(b)}},5556:(a,b,c)=>{"use strict";c.d(b,{C:()=>f});var d=c(65540);let e=({data:a,fields:b,result:c})=>(b.forEach(b=>{switch(b.type){case"collapsible":case"row":e({data:a,fields:b.fields,result:c});break;case"group":if((0,d.Z7)(b)){let d;"string"==typeof b.saveToJWT?(d=b.saveToJWT,c[b.saveToJWT]=a[b.name]):b.saveToJWT&&(d=b.name,c[b.name]=a[b.name]);let f=a[b.name],g=d?c[d]:c;e({data:f,fields:b.fields,result:g});break}e({data:a,fields:b.fields,result:c});break;case"tab":if((0,d.pz)(b)){let d;"string"==typeof b.saveToJWT?(d=b.saveToJWT,c[b.saveToJWT]=a[b.name]):b.saveToJWT&&(d=b.name,c[b.name]=a[b.name]);let f=a[b.name],g=d?c[d]:c;e({data:f,fields:b.fields,result:g})}else e({data:a,fields:b.fields,result:c});break;case"tabs":e({data:a,fields:b.tabs.map(a=>({...a,type:"tab"})),result:c});break;default:(0,d.Z7)(b)&&(b.saveToJWT?"string"==typeof b.saveToJWT?(c[b.saveToJWT]=a[b.name],delete c[b.name]):c[b.name]=a[b.name]:!1===b.saveToJWT&&delete c[b.name])}}),c),f=a=>{let{collectionConfig:b,email:c,sid:d,user:f}=a,g={id:f?.id,collection:b.slug,email:c};return d&&(g.sid=d),e({data:f,fields:b.fields,result:g}),g}},5870:(a,b,c)=>{"use strict";a.exports=f;let{LEVELS:d,LEVEL_NAMES:e}=c(51874);function f(a,b,c){let f=a?b||d:Object.assign({},d,b),g=a?c||e:Object.assign({},e,c);return function(a){let b="default";return b=Number.isInteger(+a)?Object.prototype.hasOwnProperty.call(f,a)?a:b:Object.prototype.hasOwnProperty.call(g,a.toLowerCase())?g[a.toLowerCase()]:b,[f[b],b]}}},6082:(a,b,c)=>{"use strict";let{PoolStats:d}=c(40488),e=c(60647),f=c(75394),{kConnected:g,kSize:h,kRunning:i,kPending:j,kQueued:k,kBusy:l,kFree:m,kUrl:o,kClose:p,kDestroy:q,kDispatch:r}=c(10257),s=Symbol("clients"),t=Symbol("needDrain"),u=Symbol("queue"),v=Symbol("closed resolve"),w=Symbol("onDrain"),x=Symbol("onConnect"),y=Symbol("onDisconnect"),z=Symbol("onConnectionError"),A=Symbol("get dispatcher"),B=Symbol("add client"),C=Symbol("remove client");class D extends e{constructor(){super(),this[u]=new f,this[s]=[],this[k]=0;let a=this;this[w]=function(b,c){let d=a[u],e=!1;for(;!e;){let b=d.shift();if(!b)break;a[k]--,e=!this.dispatch(b.opts,b.handler)}this[t]=e,!this[t]&&a[t]&&(a[t]=!1,a.emit("drain",b,[a,...c])),a[v]&&d.isEmpty()&&Promise.all(a[s].map(a=>a.close())).then(a[v])},this[x]=(b,c)=>{a.emit("connect",b,[a,...c])},this[y]=(b,c,d)=>{a.emit("disconnect",b,[a,...c],d)},this[z]=(b,c,d)=>{a.emit("connectionError",b,[a,...c],d)}}get[l](){return this[t]}get[g](){return this[s].filter(a=>a[g]).length}get[m](){return this[s].filter(a=>a[g]&&!a[t]).length}get[j](){let a=this[k];for(let{[j]:b}of this[s])a+=b;return a}get[i](){let a=0;for(let{[i]:b}of this[s])a+=b;return a}get[h](){let a=this[k];for(let{[h]:b}of this[s])a+=b;return a}get stats(){return new d(this)}async [p](){this[u].isEmpty()?await Promise.all(this[s].map(a=>a.close())):await new Promise(a=>{this[v]=a})}async [q](a){for(;;){let b=this[u].shift();if(!b)break;b.handler.onError(a)}await Promise.all(this[s].map(b=>b.destroy(a)))}[r](a,b){let c=this[A]();return c?c.dispatch(a,b)||(c[t]=!0,this[t]=!this[A]()):(this[t]=!0,this[u].push({opts:a,handler:b}),this[k]++),!this[t]}[B](a){return a.on("drain",this[w]).on("connect",this[x]).on("disconnect",this[y]).on("connectionError",this[z]),this[s].push(a),this[t]&&queueMicrotask(()=>{this[t]&&this[w](a[o],[this,a])}),this}[C](a){a.close(()=>{let b=this[s].indexOf(a);-1!==b&&this[s].splice(b,1)}),this[t]=this[s].some(a=>!a[t]&&!0!==a.closed&&!0!==a.destroyed)}}a.exports={PoolBase:D,kClients:s,kNeedDrain:t,kAddClient:B,kRemoveClient:C,kGetDispatcher:A}},6190:(a,b,c)=>{"use strict";let d=c(55511),e=c(29021),f=c(16532),g=c(27910).PassThrough,h=c(49026),i=c(429),j=c(91146),k=c(65188),l=c(45278),m=c(68573),o=c(76745),p=c(37327),q=c(96062);class r{constructor(a,b){this.nodeCounter=0,b=b||{},this.baseBoundary=b.baseBoundary||d.randomBytes(8).toString("hex"),this.boundaryPrefix=b.boundaryPrefix||"--_NmP",this.disableFileAccess=!!b.disableFileAccess,this.disableUrlAccess=!!b.disableUrlAccess,this.normalizeHeaderKey=b.normalizeHeaderKey,this.date=new Date,this.rootNode=b.rootNode||this,this.keepBcc=!!b.keepBcc,b.filename&&(this.filename=b.filename,a||(a=i.detectMimeType(this.filename.split(".").pop()))),this.textEncoding=(b.textEncoding||"").toString().trim().charAt(0).toUpperCase(),this.parentNode=b.parentNode,this.hostname=b.hostname,this.newline=b.newline,this.childNodes=[],this._nodeId=++this.rootNode.nodeCounter,this._headers=[],this._isPlainText=!1,this._hasLongLines=!1,this._envelope=!1,this._raw=!1,this._transforms=[],this._processFuncs=[],a&&this.setHeader("Content-Type",a)}createChild(a,b){b||"object"!=typeof a||(b=a,a=void 0);let c=new r(a,b);return this.appendChild(c),c}appendChild(a){return a.rootNode!==this.rootNode&&(a.rootNode=this.rootNode,a._nodeId=++this.rootNode.nodeCounter),a.parentNode=this,this.childNodes.push(a),a}replace(a){return a===this?this:(this.parentNode.childNodes.forEach((b,c)=>{b===this&&(a.rootNode=this.rootNode,a.parentNode=this.parentNode,a._nodeId=this._nodeId,this.rootNode=this,this.parentNode=void 0,a.parentNode.childNodes[c]=a)}),a)}remove(){if(!this.parentNode)return this;for(let a=this.parentNode.childNodes.length-1;a>=0;a--)if(this.parentNode.childNodes[a]===this)return this.parentNode.childNodes.splice(a,1),this.parentNode=void 0,this.rootNode=this,this}setHeader(a,b){let c=!1,d;if(!b&&a&&"object"==typeof a)return a.key&&"value"in a?this.setHeader(a.key,a.value):Array.isArray(a)?a.forEach(a=>{this.setHeader(a.key,a.value)}):Object.keys(a).forEach(b=>{this.setHeader(b,a[b])}),this;d={key:a=this._normalizeHeaderKey(a),value:b};for(let b=0,e=this._headers.length;b<e;b++)this._headers[b].key===a&&(c?(this._headers.splice(b,1),b--,e--):(this._headers[b]=d,c=!0));return c||this._headers.push(d),this}addHeader(a,b){return!b&&a&&"object"==typeof a?a.key&&a.value?this.addHeader(a.key,a.value):Array.isArray(a)?a.forEach(a=>{this.addHeader(a.key,a.value)}):Object.keys(a).forEach(b=>{this.addHeader(b,a[b])}):Array.isArray(b)?b.forEach(b=>{this.addHeader(a,b)}):this._headers.push({key:this._normalizeHeaderKey(a),value:b}),this}getHeader(a){a=this._normalizeHeaderKey(a);for(let b=0,c=this._headers.length;b<c;b++)if(this._headers[b].key===a)return this._headers[b].value}setContent(a){return this.content=a,"function"==typeof this.content.pipe?(this._contentErrorHandler=a=>{this.content.removeListener("error",this._contentErrorHandler),this.content=a},this.content.once("error",this._contentErrorHandler)):"string"==typeof this.content&&(this._isPlainText=i.isPlainText(this.content),this._isPlainText&&i.hasLongerLines(this.content,76)&&(this._hasLongLines=!0)),this}build(a){let b;a||(b=new Promise((b,c)=>{a=h.callbackPromise(b,c)}));let c=this.createReadStream(),d=[],e=0,f=!1;return c.on("readable",()=>{let a;for(;null!==(a=c.read());)d.push(a),e+=a.length}),c.once("error",b=>{if(!f)return f=!0,a(b)}),c.once("end",b=>{if(!f)return f=!0,b&&b.length&&(d.push(b),e+=b.length),a(null,Buffer.concat(d,e))}),b}getTransferEncoding(){let a=!1,b=(this.getHeader("Content-Type")||"").toString().toLowerCase().trim();return this.content&&((a=(this.getHeader("Content-Transfer-Encoding")||"").toString().toLowerCase().trim())&&["base64","quoted-printable"].includes(a)||(/^text\//i.test(b)?a=this._isPlainText&&!this._hasLongLines?"7bit":"string"==typeof this.content||this.content instanceof Buffer?"Q"===this._getTextEncoding(this.content)?"quoted-printable":"base64":"B"===this.textEncoding?"base64":"quoted-printable":/^(multipart|message)\//i.test(b)||(a=a||"base64"))),a}buildHeaders(){let a=this.getTransferEncoding(),b=[];if(a&&this.setHeader("Content-Transfer-Encoding",a),this.filename&&!this.getHeader("Content-Disposition")&&this.setHeader("Content-Disposition","attachment"),this.rootNode===this){this.getHeader("Date")||this.setHeader("Date",this.date.toUTCString().replace(/GMT/,"+0000")),this.messageId(),this.getHeader("MIME-Version")||this.setHeader("MIME-Version","1.0");for(let a=this._headers.length-2;a>=0;a--){let b=this._headers[a];"Content-Type"===b.key&&(this._headers.splice(a,1),this._headers.push(b))}}return this._headers.forEach(a=>{let c,d,e=a.key,f=a.value,g={},h=["From","Sender","To","Cc","Bcc","Reply-To","Date","References"];if(!f||"object"!=typeof f||h.includes(e)||(Object.keys(f).forEach(a=>{"value"!==a&&(g[a]=f[a])}),(f=(f.value||"").toString()).trim())){if(g.prepared)return void(g.foldLines?b.push(i.foldLines(e+": "+f)):b.push(e+": "+f));switch(a.key){case"Content-Disposition":c=i.parseHeaderValue(f),this.filename&&(c.params.filename=this.filename),f=i.buildHeaderValue(c);break;case"Content-Type":c=i.parseHeaderValue(f),this._handleContentType(c),c.value.match(/^text\/plain\b/)&&"string"==typeof this.content&&/[\u0080-\uFFFF]/.test(this.content)&&(c.params.charset="utf-8"),f=i.buildHeaderValue(c),this.filename&&(((d=this._encodeWords(this.filename))!==this.filename||/[\s'"\\;:/=(),<>@[\]?]|^-/.test(d))&&(d='"'+d+'"'),f+="; name="+d);break;case"Bcc":if(!this.keepBcc)return}if(((f=this._encodeHeaderValue(e,f))||"").toString().trim()){if("function"==typeof this.normalizeHeaderKey){let a=this.normalizeHeaderKey(e,f);a&&"string"==typeof a&&a.length&&(e=a)}b.push(i.foldLines(e+": "+f,76))}}}),b.join("\r\n")}createReadStream(a){let b,c=new g(a=a||{}),d=c;this.stream(c,a,a=>{if(a)return void d.emit("error",a);c.end()});for(let a=0,c=this._transforms.length;a<c;a++)b="function"==typeof this._transforms[a]?this._transforms[a]():this._transforms[a],d.once("error",a=>{b.emit("error",a)}),d=d.pipe(b);b=new o,d.once("error",a=>{b.emit("error",a)}),d=d.pipe(b);for(let a=0,c=this._processFuncs.length;a<c;a++)d=(b=this._processFuncs[a])(d);if(this.newline){let a=["win","windows","dos","\r\n"].includes(this.newline.toString().toLowerCase())?new p:new q,b=d.pipe(a);return d.on("error",a=>b.emit("error",a)),b}return d}transform(a){this._transforms.push(a)}processFunc(a){this._processFuncs.push(a)}stream(a,b,c){let d,e,f=this.getTransferEncoding(),g=!1,h=a=>{g||(g=!0,c(a))},i=()=>{let c=0,d=()=>{if(c>=this.childNodes.length)return a.write("\r\n--"+this.boundary+"--\r\n"),h();let e=this.childNodes[c++];a.write((c>1?"\r\n":"")+"--"+this.boundary+"\r\n"),e.stream(a,b,a=>{if(a)return h(a);setImmediate(d)})};if(!this.multipart)return h();setImmediate(d)},l=()=>{if(!this.content)return setImmediate(i);{if("[object Error]"===Object.prototype.toString.call(this.content))return h(this.content);"function"==typeof this.content.pipe&&(this.content.removeListener("error",this._contentErrorHandler),this._contentErrorHandler=a=>h(a),this.content.once("error",this._contentErrorHandler));let c=()=>{["quoted-printable","base64"].includes(f)?((d=new("base64"===f?k:j).Encoder(b)).pipe(a,{end:!1}),d.once("end",i),d.once("error",a=>h(a)),(e=this._getStream(this.content)).pipe(d)):((e=this._getStream(this.content)).pipe(a,{end:!1}),e.once("end",i)),e.once("error",a=>h(a))};if(this.content._resolve){let a=[],b=0,d=!1,e=this._getStream(this.content);e.on("error",a=>{d||(d=!0,h(a))}),e.on("readable",()=>{let c;for(;null!==(c=e.read());)a.push(c),b+=c.length}),e.on("end",()=>{d||(d=!0,this.content._resolve=!1,this.content._resolvedValue=Buffer.concat(a,b),setImmediate(c))})}else setImmediate(c);return}};this._raw?setImmediate(()=>{if("[object Error]"===Object.prototype.toString.call(this._raw))return h(this._raw);"function"==typeof this._raw.pipe&&this._raw.removeListener("error",this._contentErrorHandler);let b=this._getStream(this._raw);b.pipe(a,{end:!1}),b.on("error",b=>a.emit("error",b)),b.on("end",i)}):(a.write(this.buildHeaders()+"\r\n\r\n"),setImmediate(l))}setEnvelope(a){let b;this._envelope={from:!1,to:[]},a.from&&(b=[],this._convertAddresses(this._parseAddresses(a.from),b),(b=b.filter(a=>a&&a.address)).length&&b[0]&&(this._envelope.from=b[0].address)),["to","cc","bcc"].forEach(b=>{a[b]&&this._convertAddresses(this._parseAddresses(a[b]),this._envelope.to)}),this._envelope.to=this._envelope.to.map(a=>a.address).filter(a=>a);let c=["to","cc","bcc","from"];return Object.keys(a).forEach(b=>{c.includes(b)||(this._envelope[b]=a[b])}),this}getAddresses(){let a={};return this._headers.forEach(b=>{let c=b.key.toLowerCase();["from","sender","reply-to","to","cc","bcc"].includes(c)&&(Array.isArray(a[c])||(a[c]=[]),this._convertAddresses(this._parseAddresses(b.value),a[c]))}),a}getEnvelope(){if(this._envelope)return this._envelope;let a={from:!1,to:[]};return this._headers.forEach(b=>{let c=[];"From"===b.key||!a.from&&["Reply-To","Sender"].includes(b.key)?(this._convertAddresses(this._parseAddresses(b.value),c),c.length&&c[0]&&(a.from=c[0].address)):["To","Cc","Bcc"].includes(b.key)&&this._convertAddresses(this._parseAddresses(b.value),a.to)}),a.to=a.to.map(a=>a.address),a}messageId(){let a=this.getHeader("Message-ID");return a||(a=this._generateMessageId(),this.setHeader("Message-ID",a)),a}setRaw(a){return this._raw=a,this._raw&&"function"==typeof this._raw.pipe&&(this._contentErrorHandler=a=>{this._raw.removeListener("error",this._contentErrorHandler),this._raw=a},this._raw.once("error",this._contentErrorHandler)),this}_getStream(a){let b;return a._resolvedValue?(b=new g,setImmediate(()=>{try{b.end(a._resolvedValue)}catch(a){b.emit("error",a)}}),b):"function"==typeof a.pipe?a:a&&"string"==typeof a.path&&!a.href?this.disableFileAccess?(b=new g,setImmediate(()=>b.emit("error",Error("File access rejected for "+a.path))),b):e.createReadStream(a.path):a&&"string"==typeof a.href?this.disableUrlAccess?(b=new g,setImmediate(()=>b.emit("error",Error("Url access rejected for "+a.href))),b):m(a.href,{headers:a.httpHeaders}):(b=new g,setImmediate(()=>{try{b.end(a||"")}catch(a){b.emit("error",a)}}),b)}_parseAddresses(a){return[].concat.apply([],[].concat(a).map(a=>a&&a.address?(a.address=this._normalizeAddress(a.address),a.name=a.name||"",[a]):l(a)))}_normalizeHeaderKey(a){return a=(a||"").toString().replace(/\r?\n|\r/g," ").trim().toLowerCase().replace(/^X-SMTPAPI$|^(MIME|DKIM|ARC|BIMI)\b|^[a-z]|-(SPF|FBL|ID|MD5)$|-[a-z]/gi,a=>a.toUpperCase()).replace(/^Content-Features$/i,"Content-features")}_handleContentType(a){this.contentType=a.value.trim().toLowerCase(),this.multipart=!!/^multipart\//i.test(this.contentType)&&this.contentType.substr(this.contentType.indexOf("/")+1),this.multipart?this.boundary=a.params.boundary=a.params.boundary||this.boundary||this._generateBoundary():this.boundary=!1}_generateBoundary(){return this.rootNode.boundaryPrefix+"-"+this.rootNode.baseBoundary+"-Part_"+this._nodeId}_encodeHeaderValue(a,b){switch(a=this._normalizeHeaderKey(a)){case"From":case"Sender":case"To":case"Cc":case"Bcc":case"Reply-To":return this._convertAddresses(this._parseAddresses(b));case"Message-ID":case"In-Reply-To":case"Content-Id":return"<"!==(b=(b||"").toString().replace(/\r?\n|\r/g," ")).charAt(0)&&(b="<"+b),">"!==b.charAt(b.length-1)&&(b+=">"),b;case"References":return(b=[].concat.apply([],[].concat(b||"").map(a=>(a=(a||"").toString().replace(/\r?\n|\r/g," ").trim()).replace(/<[^>]*>/g,a=>a.replace(/\s/g,"")).split(/\s+/))).map(a=>("<"!==a.charAt(0)&&(a="<"+a),">"!==a.charAt(a.length-1)&&(a+=">"),a))).join(" ").trim();case"Date":if("[object Date]"===Object.prototype.toString.call(b))return b.toUTCString().replace(/GMT/,"+0000");return b=(b||"").toString().replace(/\r?\n|\r/g," "),this._encodeWords(b);case"Content-Type":case"Content-Disposition":return(b||"").toString().replace(/\r?\n|\r/g," ");default:return b=(b||"").toString().replace(/\r?\n|\r/g," "),this._encodeWords(b)}}_convertAddresses(a,b){let c=[];return b=b||[],[].concat(a||[]).forEach(a=>{if(a.address)a.address=this._normalizeAddress(a.address),a.name?a.name&&c.push(`${this._encodeAddressName(a.name)} <${a.address}>`):c.push(a.address.indexOf(" ")>=0?`<${a.address}>`:`${a.address}`),a.address&&!b.filter(b=>b.address===a.address).length&&b.push(a);else if(a.group){let d=(a.group.length?this._convertAddresses(a.group,b):"").trim();c.push(`${this._encodeAddressName(a.name)}:${d};`)}}),c.join(", ")}_normalizeAddress(a){let b,c=(a=(a||"").toString().replace(/[\x00-\x1F<>]+/g," ").trim()).lastIndexOf("@");if(c<0)return a;let d=a.substr(0,c),e=a.substr(c+1);try{b=f.toASCII(e.toLowerCase())}catch(a){}return d.indexOf(" ")>=0&&('"'!==d.charAt(0)&&(d='"'+d),'"'!==d.substr(-1)&&(d+='"')),`${d}@${b}`}_encodeAddressName(a){if(!/^[\w ]*$/.test(a))if(/^[\x20-\x7e]*$/.test(a))return'"'+a.replace(/([\\"])/g,"\\$1")+'"';else return i.encodeWord(a,this._getTextEncoding(a),52);return a}_encodeWords(a){return i.encodeWords(a,this._getTextEncoding(a),52,!0)}_getTextEncoding(a){a=(a||"").toString();let b=this.textEncoding;return b||(b=(a.match(/[\x00-\x08\x0B\x0C\x0E-\x1F\u0080-\uFFFF]/g)||[]).length<(a.match(/[a-z]/gi)||[]).length?"Q":"B"),b}_generateMessageId(){return"<"+[2,2,2,6].reduce((a,b)=>a+"-"+d.randomBytes(b).toString("hex"),d.randomBytes(4).toString("hex"))+"@"+(this.getEnvelope().from||this.hostname||"localhost").split("@").pop()+">"}}a.exports=r},6260:(a,b,c)=>{"use strict";c.d(b,{e:()=>e});var d=c(65540);let e=({field:a,select:b,selectMode:c,siblingDoc:e})=>{let f=!0;return(0,d.Z7)(a)&&b&&c&&a.name&&("include"!==c||b[a.name]||(delete e[a.name],f=!1),"exclude"===c&&!1===b[a.name]&&(delete e[a.name],f=!1)),f}},6302:(a,b,c)=>{"use strict";a.exports=e;let d=c(8395);function e(a){let b=new Date(a);return d(b)?b:b=new Date(+a)}},6642:(a,b,c)=>{"use strict";c.d(b,{W:()=>d});let d=({hasGenerateFn:a=!1,overrides:b})=>({name:"title",type:"text",admin:{components:{Field:{clientProps:{hasGenerateTitleFn:a},path:"@payloadcms/plugin-seo/client#MetaTitleComponent"}}},localized:!0,...b??{}})},6722:(a,b,c)=>{"use strict";function d(a){return a}c.d(b,{R:()=>d})},6773:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(47934);b.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:b}){let c="maxProperties"===a?"more":"fewer";return(0,d.str)`must NOT have ${c} than ${b} properties`},params:({schemaCode:a})=>(0,d._)`{limit: ${a}}`},code(a){let{keyword:b,data:c,schemaCode:e}=a,f="maxProperties"===b?d.operators.GT:d.operators.LT;a.fail$data((0,d._)`Object.keys(${c}).length ${f} ${e}`)}}},6805:(a,b,c)=>{"use strict";c.r(b),c.d(b,{Client:()=>e,Connection:()=>g,DatabaseError:()=>j,Pool:()=>f,Query:()=>i,Result:()=>m,TypeOverrides:()=>o,default:()=>q,defaults:()=>p,escapeIdentifier:()=>k,escapeLiteral:()=>l,types:()=>h});var d=c(40092);let e=d.Client,f=d.Pool,g=d.Connection,h=d.types,i=d.Query,j=d.DatabaseError,k=d.escapeIdentifier,l=d.escapeLiteral,m=d.Result,o=d.TypeOverrides,p=d.defaults,q=d},6901:(a,b,c)=>{"use strict";c.d(b,{d1:()=>d.d1,vY:()=>k,n7:()=>i,Xx:()=>j});var d=c(77127),e=c(43420);let f=256e3;class g extends e.G{constructor(a,b){super(b),this.streamReader=a}async readBuffer(a,b){let c=this.normalizeOptions(a,b),e=c.position-this.position;if(e>0)return await this.ignore(e),this.readBuffer(a,b);if(e<0)throw Error("`options.position` must be equal or greater than `tokenizer.position`");if(0===c.length)return 0;let f=await this.streamReader.read(a,c.offset,c.length);if(this.position+=f,(!b||!b.mayBeLess)&&f<c.length)throw new d.d1;return f}async peekBuffer(a,b){let c=this.normalizeOptions(a,b),e=0;if(c.position){let b=c.position-this.position;if(b>0){let d=new Uint8Array(c.length+b);return e=await this.peekBuffer(d,{mayBeLess:c.mayBeLess}),a.set(d.subarray(b),c.offset),e-b}if(b<0)throw Error("Cannot peek from a negative offset in a stream")}if(c.length>0){try{e=await this.streamReader.peek(a,c.offset,c.length)}catch(a){if(b?.mayBeLess&&a instanceof d.d1)return 0;throw a}if(!c.mayBeLess&&e<c.length)throw new d.d1}return e}async ignore(a){let b=Math.min(f,a),c=new Uint8Array(b),d=0;for(;d<a;){let e=a-d,f=await this.readBuffer(c,{length:Math.min(b,e)});if(f<0)return f;d+=f}return d}}class h extends e.G{constructor(a,b){super(b),this.uint8Array=a,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:a.length}async readBuffer(a,b){if(b?.position){if(b.position<this.position)throw Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=b.position}let c=await this.peekBuffer(a,b);return this.position+=c,c}async peekBuffer(a,b){let c=this.normalizeOptions(a,b),e=Math.min(this.uint8Array.length-c.position,c.length);if(!c.mayBeLess&&e<c.length)throw new d.d1;return a.set(this.uint8Array.subarray(c.position,c.position+e),c.offset),e}close(){return super.close()}}function i(a,b){return new g(new d.CX(a),b)}function j(a,b){return new g(new d.yT(a),b)}function k(a,b){return new h(a,b)}},6955:(a,b,c)=>{"use strict";c.d(b,{B2:()=>h,K0:()=>j});var d=c(33576),e=c(65540);let f=a=>{if(a?.admin&&a?.admin?.condition)return!1;let b="required"in a&&!0===a.required;return!!(0,e.Z7)(a)&&!!b||"fields"in a&&"array"!==a.type&&a.flattenedFields.some(a=>f(a))};function g(a){return a.map(a=>"object"==typeof a&&"value"in a?a.value:a)}function h(a,b){let c=[a];return b?a:(c.push("null"),c)}function i({entity:a,i18n:b}){let c;return a?.admin?.description&&("string"==typeof a?.admin?.description?c=a?.admin?.description:"object"==typeof a?.admin?.description?a?.admin?.description?.en?c=a?.admin?.description?.en:a?.admin?.description?.[b.language]&&(c=a?.admin?.description?.[b.language]):a?.admin?.description),c}function j(a,b,c,k,l){let m=new Set;return{properties:Object.fromEntries(b.reduce((o,p,q)=>{let r,s=(0,e.Z7)(p)&&f(p),t=i({entity:p,i18n:l}),u={};switch(t&&(u.description=t),p.type){case"array":r={...u,type:h("array",s),items:{type:"object",additionalProperties:!1,...j(a,p.flattenedFields,c,k,l)}},p.interfaceName&&(c.set(p.interfaceName,r),r={$ref:`#/definitions/${p.interfaceName}`});break;case"blocks":{let b=!!(p.blockReferences?p.blockReferences.length:p.blocks.length);r={...u,type:h("array",s),items:b?{oneOf:(p.blockReferences??p.blocks).map(b=>{if("string"==typeof b){let a=k?.blocks?.find(a=>a.slug===b);return{$ref:`#/definitions/${a.interfaceName??a.slug}`}}let d=j(a,b.flattenedFields,c,k,l),e={type:"object",additionalProperties:!1,properties:{...d.properties,blockType:{const:b.slug}},required:["blockType",...d.required]};return b.interfaceName?(c.set(b.interfaceName,e),{$ref:`#/definitions/${b.interfaceName}`}):e})}:{}};break}case"checkbox":r={...u,type:h("boolean",s)};break;case"code":case"date":case"email":case"textarea":r={...u,type:h("string",s)};break;case"group":(0,e.Z7)(p)&&(r={...u,type:"object",additionalProperties:!1,...j(a,p.flattenedFields,c,k,l)},p.interfaceName&&(c.set(p.interfaceName,r),r={$ref:`#/definitions/${p.interfaceName}`}));break;case"join":{let b;b=Array.isArray(p.collection)?{oneOf:p.collection.map(b=>({type:"object",additionalProperties:!1,properties:{relationTo:{const:b},value:{oneOf:[{type:a[b]},{$ref:`#/definitions/${b}`}]}},required:["collectionSlug","value"]}))}:{oneOf:[{type:a[p.collection]},{$ref:`#/definitions/${p.collection}`}]},r={...u,type:"object",additionalProperties:!1,properties:{docs:{type:"array",items:b},hasNextPage:{type:"boolean"},totalDocs:{type:"number"}}};break}case"json":r=p.jsonSchema?.schema||{...u,type:["object","array","string","number","boolean","null"]};break;case"number":r=!0===p.hasMany?{...u,type:h("array",s),items:{type:"number"}}:{...u,type:h("number",s)};break;case"point":r={...u,type:h("array",s),items:[{type:"number"},{type:"number"}],maxItems:2,minItems:2};break;case"radio":r={...u,type:h("string",s),enum:g(p.options)},p.interfaceName&&(c.set(p.interfaceName,r),r={$ref:`#/definitions/${p.interfaceName}`});break;case"relationship":case"upload":r=Array.isArray(p.relationTo)?p.hasMany?{...u,type:h("array",s),items:{oneOf:p.relationTo.map(b=>({type:"object",additionalProperties:!1,properties:{relationTo:{const:b},value:{oneOf:[{type:a[b]},{$ref:`#/definitions/${b}`}]}},required:["value","relationTo"]}))}}:{...u,oneOf:p.relationTo.map(b=>({type:h("object",s),additionalProperties:!1,properties:{relationTo:{const:b},value:{oneOf:[{type:a[b]},{$ref:`#/definitions/${b}`}]}},required:["value","relationTo"]}))}:p.hasMany?{...u,type:h("array",s),items:{oneOf:[{type:a[p.relationTo]},{$ref:`#/definitions/${p.relationTo}`}]}}:{...u,oneOf:[{type:h(a[p.relationTo],s)},{$ref:`#/definitions/${p.relationTo}`}]};break;case"richText":if(!p?.editor)throw new d.X(p);if("function"==typeof p.editor)throw Error("Attempted to access unsanitized rich text editor.");r=p.editor.outputSchema?{...u,...p.editor.outputSchema({collectionIDFieldTypes:a,config:k,field:p,i18n:l,interfaceNameDefinitions:c,isRequired:s})}:{...u,type:h("array",s),items:{type:"object"}};break;case"select":{let a=g(p.options),d=b?.[q-1];d?.type==="date"&&d.timezone&&p.name.includes("_tz")?r={$ref:"#/definitions/supportedTimezones"}:(p.hasMany?(r={...u,type:h("array",s),items:{type:"string"}},a?.length&&(r.items.enum=a)):(r={...u,type:h("string",s)},a?.length&&(r.enum=a)),p.interfaceName&&(c.set(p.interfaceName,r),r={$ref:`#/definitions/${p.interfaceName}`}));break}case"tab":r={...u,type:"object",additionalProperties:!1,...j(a,p.flattenedFields,c,k,l)},p.interfaceName&&(c.set(p.interfaceName,r),r={$ref:`#/definitions/${p.interfaceName}`});break;case"text":r=!0===p.hasMany?{...u,type:h("array",s),items:{type:"string"}}:{...u,type:h("string",s)}}if("typescriptSchema"in p&&p?.typescriptSchema?.length)for(let a of p.typescriptSchema)r=a({jsonSchema:r});return r&&(0,e.Z7)(p)&&(s&&!1!==r.required&&m.add(p.name),o.set(p.name,r)),o},new Map)),required:Array.from(m)}}},7e3:(a,b,c)=>{"use strict";function d(a){return"object"==typeof a&&null!==a}function e(a){if(!d(a)||"[object Object]"!==Object.prototype.toString.call(a))return!1;if(null===Object.getPrototypeOf(a))return!0;let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b}c.d(b,{A:()=>e})},7235:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getData=b.KeywordCxt=b.validateFunctionCode=void 0;let d=c(89156),e=c(37175),f=c(53794),g=c(37175),h=c(16689),i=c(75724),j=c(92062),k=c(47934),l=c(10004),m=c(75624),o=c(34414),p=c(94233);function q({gen:a,validateName:b,schema:c,schemaEnv:d,opts:e},f){e.code.es5?a.func(b,(0,k._)`${l.default.data}, ${l.default.valCxt}`,d.$async,()=>{a.code((0,k._)`"use strict"; ${v(c,e)}`),s(a,e),a.code(f)}):a.func(b,(0,k._)`${l.default.data}, ${r(e)}`,d.$async,()=>a.code(v(c,e)).code(f))}function r(a){return(0,k._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${a.dynamicRef?(0,k._)`, ${l.default.dynamicAnchors}={}`:k.nil}}={}`}function s(a,b){a.if(l.default.valCxt,()=>{a.var(l.default.instancePath,(0,k._)`${l.default.valCxt}.${l.default.instancePath}`),a.var(l.default.parentData,(0,k._)`${l.default.valCxt}.${l.default.parentData}`),a.var(l.default.parentDataProperty,(0,k._)`${l.default.valCxt}.${l.default.parentDataProperty}`),a.var(l.default.rootData,(0,k._)`${l.default.valCxt}.${l.default.rootData}`),b.dynamicRef&&a.var(l.default.dynamicAnchors,(0,k._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{a.var(l.default.instancePath,(0,k._)`""`),a.var(l.default.parentData,(0,k._)`undefined`),a.var(l.default.parentDataProperty,(0,k._)`undefined`),a.var(l.default.rootData,l.default.data),b.dynamicRef&&a.var(l.default.dynamicAnchors,(0,k._)`{}`)})}function t(a){let{schema:b,opts:c,gen:d}=a;q(a,()=>{c.$comment&&b.$comment&&G(a),D(a),d.let(l.default.vErrors,null),d.let(l.default.errors,0),c.unevaluated&&u(a),B(a),H(a)})}function u(a){let{gen:b,validateName:c}=a;a.evaluated=b.const("evaluated",(0,k._)`${c}.evaluated`),b.if((0,k._)`${a.evaluated}.dynamicProps`,()=>b.assign((0,k._)`${a.evaluated}.props`,(0,k._)`undefined`)),b.if((0,k._)`${a.evaluated}.dynamicItems`,()=>b.assign((0,k._)`${a.evaluated}.items`,(0,k._)`undefined`))}function v(a,b){let c="object"==typeof a&&a[b.schemaId];return c&&(b.code.source||b.code.process)?(0,k._)`/*# sourceURL=${c} */`:k.nil}function w(a,b){if(y(a)&&(A(a),x(a)))return void z(a,b);(0,d.boolOrEmptySchema)(a,b)}function x({schema:a,self:b}){if("boolean"==typeof a)return!a;for(let c in a)if(b.RULES.all[c])return!0;return!1}function y(a){return"boolean"!=typeof a.schema}function z(a,b){let{schema:c,gen:d,opts:e}=a;e.$comment&&c.$comment&&G(a),E(a),F(a);let f=d.const("_errs",l.default.errors);B(a,f),d.var(b,(0,k._)`${f} === ${l.default.errors}`)}function A(a){(0,o.checkUnknownRules)(a),C(a)}function B(a,b){if(a.opts.jtd)return J(a,[],!1,b);let c=(0,e.getSchemaTypes)(a.schema),d=(0,e.coerceAndCheckDataType)(a,c);J(a,c,!d,b)}function C(a){let{schema:b,errSchemaPath:c,opts:d,self:e}=a;b.$ref&&d.ignoreKeywordsWithRef&&(0,o.schemaHasRulesButRef)(b,e.RULES)&&e.logger.warn(`$ref: keywords ignored in schema at path "${c}"`)}function D(a){let{schema:b,opts:c}=a;void 0!==b.default&&c.useDefaults&&c.strictSchema&&(0,o.checkStrictMode)(a,"default is ignored in the schema root")}function E(a){let b=a.schema[a.opts.schemaId];b&&(a.baseId=(0,m.resolveUrl)(a.opts.uriResolver,a.baseId,b))}function F(a){if(a.schema.$async&&!a.schemaEnv.$async)throw Error("async schema in sync schema")}function G({gen:a,schemaEnv:b,schema:c,errSchemaPath:d,opts:e}){let f=c.$comment;if(!0===e.$comment)a.code((0,k._)`${l.default.self}.logger.log(${f})`);else if("function"==typeof e.$comment){let c=(0,k.str)`${d}/$comment`,e=a.scopeValue("root",{ref:b.root});a.code((0,k._)`${l.default.self}.opts.$comment(${f}, ${c}, ${e}.schema)`)}}function H(a){let{gen:b,schemaEnv:c,validateName:d,ValidationError:e,opts:f}=a;c.$async?b.if((0,k._)`${l.default.errors} === 0`,()=>b.return(l.default.data),()=>b.throw((0,k._)`new ${e}(${l.default.vErrors})`)):(b.assign((0,k._)`${d}.errors`,l.default.vErrors),f.unevaluated&&I(a),b.return((0,k._)`${l.default.errors} === 0`))}function I({gen:a,evaluated:b,props:c,items:d}){c instanceof k.Name&&a.assign((0,k._)`${b}.props`,c),d instanceof k.Name&&a.assign((0,k._)`${b}.items`,d)}function J(a,b,c,d){let{gen:e,schema:h,data:i,allErrors:j,opts:m,self:p}=a,{RULES:q}=p;if(h.$ref&&(m.ignoreKeywordsWithRef||!(0,o.schemaHasRulesButRef)(h,q)))return void e.block(()=>U(a,"$ref",q.all.$ref.definition));function r(o){(0,f.shouldUseGroup)(h,o)&&(o.type?(e.if((0,g.checkDataType)(o.type,i,m.strictNumbers)),K(a,o),1===b.length&&b[0]===o.type&&c&&(e.else(),(0,g.reportTypeError)(a)),e.endIf()):K(a,o),j||e.if((0,k._)`${l.default.errors} === ${d||0}`))}m.jtd||L(a,b),e.block(()=>{for(let a of q.rules)r(a);r(q.post)})}function K(a,b){let{gen:c,schema:d,opts:{useDefaults:e}}=a;e&&(0,h.assignDefaults)(a,b.type),c.block(()=>{for(let c of b.rules)(0,f.shouldUseRule)(d,c)&&U(a,c.keyword,c.definition,b.type)})}function L(a,b){!a.schemaEnv.meta&&a.opts.strictTypes&&(M(a,b),a.opts.allowUnionTypes||N(a,b),O(a,a.dataTypes))}function M(a,b){if(b.length){if(!a.dataTypes.length){a.dataTypes=b;return}b.forEach(b=>{Q(a.dataTypes,b)||S(a,`type "${b}" not allowed by context "${a.dataTypes.join(",")}"`)}),R(a,b)}}function N(a,b){b.length>1&&!(2===b.length&&b.includes("null"))&&S(a,"use allowUnionTypes to allow union type keyword")}function O(a,b){let c=a.self.RULES.all;for(let d in c){let e=c[d];if("object"==typeof e&&(0,f.shouldUseRule)(a.schema,e)){let{type:c}=e.definition;c.length&&!c.some(a=>P(b,a))&&S(a,`missing type "${c.join(",")}" for keyword "${d}"`)}}}function P(a,b){return a.includes(b)||"number"===b&&a.includes("integer")}function Q(a,b){return a.includes(b)||"integer"===b&&a.includes("number")}function R(a,b){let c=[];for(let d of a.dataTypes)Q(b,d)?c.push(d):b.includes("integer")&&"number"===d&&c.push("integer");a.dataTypes=c}function S(a,b){let c=a.schemaEnv.baseId+a.errSchemaPath;b+=` at "${c}" (strictTypes)`,(0,o.checkStrictMode)(a,b,a.opts.strictTypes)}b.validateFunctionCode=function(a){if(y(a)&&(A(a),x(a)))return void t(a);q(a,()=>(0,d.topBoolOrEmptySchema)(a))};class T{constructor(a,b,c){if((0,i.validateKeywordUsage)(a,b,c),this.gen=a.gen,this.allErrors=a.allErrors,this.keyword=c,this.data=a.data,this.schema=a.schema[c],this.$data=b.$data&&a.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,o.schemaRefOrVal)(a,this.schema,c,this.$data),this.schemaType=b.schemaType,this.parentSchema=a.schema,this.params={},this.it=a,this.def=b,this.$data)this.schemaCode=a.gen.const("vSchema",X(this.$data,a));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,b.schemaType,b.allowUndefined))throw Error(`${c} value must be ${JSON.stringify(b.schemaType)}`);("code"in b?b.trackErrors:!1!==b.errors)&&(this.errsCount=a.gen.const("_errs",l.default.errors))}result(a,b,c){this.failResult((0,k.not)(a),b,c)}failResult(a,b,c){this.gen.if(a),c?c():this.error(),b?(this.gen.else(),b(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(a,b){this.failResult((0,k.not)(a),void 0,b)}fail(a){if(void 0===a){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(a),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(a){if(!this.$data)return this.fail(a);let{schemaCode:b}=this;this.fail((0,k._)`${b} !== undefined && (${(0,k.or)(this.invalid$data(),a)})`)}error(a,b,c){if(b){this.setParams(b),this._error(a,c),this.setParams({});return}this._error(a,c)}_error(a,b){(a?p.reportExtraError:p.reportError)(this,this.def.error,b)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(void 0===this.errsCount)throw Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(a){this.allErrors||this.gen.if(a)}setParams(a,b){b?Object.assign(this.params,a):this.params=a}block$data(a,b,c=k.nil){this.gen.block(()=>{this.check$data(a,c),b()})}check$data(a=k.nil,b=k.nil){if(!this.$data)return;let{gen:c,schemaCode:d,schemaType:e,def:f}=this;c.if((0,k.or)((0,k._)`${d} === undefined`,b)),a!==k.nil&&c.assign(a,!0),(e.length||f.validateSchema)&&(c.elseIf(this.invalid$data()),this.$dataError(),a!==k.nil&&c.assign(a,!1)),c.else()}invalid$data(){let{gen:a,schemaCode:b,schemaType:c,def:d,it:e}=this;return(0,k.or)(f(),h());function f(){if(c.length){if(!(b instanceof k.Name))throw Error("ajv implementation error");let a=Array.isArray(c)?c:[c];return(0,k._)`${(0,g.checkDataTypes)(a,b,e.opts.strictNumbers,g.DataType.Wrong)}`}return k.nil}function h(){if(d.validateSchema){let c=a.scopeValue("validate$data",{ref:d.validateSchema});return(0,k._)`!${c}(${b})`}return k.nil}}subschema(a,b){let c=(0,j.getSubschema)(this.it,a);(0,j.extendSubschemaData)(c,this.it,a),(0,j.extendSubschemaMode)(c,a);let d={...this.it,...c,items:void 0,props:void 0};return w(d,b),d}mergeEvaluated(a,b){let{it:c,gen:d}=this;c.opts.unevaluated&&(!0!==c.props&&void 0!==a.props&&(c.props=o.mergeEvaluated.props(d,a.props,c.props,b)),!0!==c.items&&void 0!==a.items&&(c.items=o.mergeEvaluated.items(d,a.items,c.items,b)))}mergeValidEvaluated(a,b){let{it:c,gen:d}=this;if(c.opts.unevaluated&&(!0!==c.props||!0!==c.items))return d.if(b,()=>this.mergeEvaluated(a,k.Name)),!0}}function U(a,b,c,d){let e=new T(a,c,b);"code"in c?c.code(e,d):e.$data&&c.validate?(0,i.funcKeywordCode)(e,c):"macro"in c?(0,i.macroKeywordCode)(e,c):(c.compile||c.validate)&&(0,i.funcKeywordCode)(e,c)}b.KeywordCxt=T;let V=/^\/(?:[^~]|~0|~1)*$/,W=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function X(a,{dataLevel:b,dataNames:c,dataPathArr:d}){let e,f;if(""===a)return l.default.rootData;if("/"===a[0]){if(!V.test(a))throw Error(`Invalid JSON-pointer: ${a}`);e=a,f=l.default.rootData}else{let g=W.exec(a);if(!g)throw Error(`Invalid JSON-pointer: ${a}`);let i=+g[1];if("#"===(e=g[2])){if(i>=b)throw Error(h("property/index",i));return d[b-i]}if(i>b)throw Error(h("data",i));if(f=c[b-i],!e)return f}let g=f;for(let a of e.split("/"))a&&(f=(0,k._)`${f}${(0,k.getProperty)((0,o.unescapeJsonPointer)(a))}`,g=(0,k._)`${g} && ${f}`);return g;function h(a,c){return`Cannot access ${a} ${c} levels up, current level is ${b}`}}b.getData=X},7282:(a,b,c)=>{"use strict";c.d(b,{en:()=>d});let d={dateFNSKey:"en-US",translations:{authentication:{account:"Account",accountOfCurrentUser:"Account of current user",accountVerified:"Account verified successfully.",alreadyActivated:"Already Activated",alreadyLoggedIn:"Already logged in",apiKey:"API Key",authenticated:"Authenticated",backToLogin:"Back to login",beginCreateFirstUser:"To begin, create your first user.",changePassword:"Change Password",checkYourEmailForPasswordReset:"If the email address is associated with an account, you will receive instructions to reset your password shortly. Please check your spam or junk mail folder if you don't see the email in your inbox.",confirmGeneration:"Confirm Generation",confirmPassword:"Confirm Password",createFirstUser:"Create first user",emailNotValid:"The email provided is not valid",emailOrUsername:"Email or Username",emailSent:"Email Sent",emailVerified:"Email verified successfully.",enableAPIKey:"Enable API Key",failedToUnlock:"Failed to unlock",forceUnlock:"Force Unlock",forgotPassword:"Forgot Password",forgotPasswordEmailInstructions:"Please enter your email below. You will receive an email message with instructions on how to reset your password.",forgotPasswordUsernameInstructions:"Please enter your username below. Instructions on how to reset your password will be sent to email address associated with your username.",usernameNotValid:"The username provided is not valid",forgotPasswordQuestion:"Forgot password?",generate:"Generate",generateNewAPIKey:"Generate new API key",generatingNewAPIKeyWillInvalidate:"Generating a new API key will <1>invalidate</1> the previous key. Are you sure you wish to continue?",lockUntil:"Lock Until",logBackIn:"Log back in",loggedIn:"To log in with another user, you should <0>log out</0> first.",loggedInChangePassword:"To change your password, go to your <0>account</0> and edit your password there.",loggedOutInactivity:"You have been logged out due to inactivity.",loggedOutSuccessfully:"You have been logged out successfully.",loggingOut:"Logging out...",login:"Login",loginAttempts:"Login Attempts",loginUser:"Login user",loginWithAnotherUser:"To log in with another user, you should <0>log out</0> first.",logOut:"Log out",logout:"Logout",logoutSuccessful:"Logout successful.",logoutUser:"Logout user",newAccountCreated:'A new account has just been created for you to access <a href="{{serverURL}}">{{serverURL}}</a> Please click on the following link or paste the URL below into your browser to verify your email: <a href="{{verificationURL}}">{{verificationURL}}</a><br> After verifying your email, you will be able to log in successfully.',newAPIKeyGenerated:"New API Key Generated.",newPassword:"New Password",passed:"Authentication Passed",passwordResetSuccessfully:"Password reset successfully.",resetPassword:"Reset Password",resetPasswordExpiration:"Reset Password Expiration",resetPasswordToken:"Reset Password Token",resetYourPassword:"Reset Your Password",stayLoggedIn:"Stay logged in",successfullyRegisteredFirstUser:"Successfully registered first user.",successfullyUnlocked:"Successfully unlocked",tokenRefreshSuccessful:"Token refresh successful.",unableToVerify:"Unable to Verify",username:"Username",verified:"Verified",verifiedSuccessfully:"Verified Successfully",verify:"Verify",verifyUser:"Verify User",verifyYourEmail:"Verify your email",youAreInactive:"You haven't been active in a little while and will shortly be automatically logged out for your own security. Would you like to stay logged in?",youAreReceivingResetPassword:"You are receiving this because you (or someone else) have requested the reset of the password for your account. Please click on the following link, or paste this into your browser to complete the process:",youDidNotRequestPassword:"If you did not request this, please ignore this email and your password will remain unchanged."},dashboard:{addWidget:"Add Widget",deleteWidget:"Delete widget {{id}}",searchWidgets:"Search widgets..."},error:{accountAlreadyActivated:"This account has already been activated.",autosaving:"There was a problem while autosaving this document.",correctInvalidFields:"Please correct invalid fields.",deletingFile:"There was an error deleting file.",deletingTitle:"There was an error while deleting {{title}}. Please check your connection and try again.",documentNotFound:"The document with ID {{id}} could not be found. It may have been deleted or never existed, or you may not have access to it.",emailOrPasswordIncorrect:"The email or password provided is incorrect.",followingFieldsInvalid_one:"The following field is invalid:",followingFieldsInvalid_other:"The following fields are invalid:",incorrectCollection:"Incorrect Collection",insufficientClipboardPermissions:"Clipboard access denied. Please check your clipboard permissions.",invalidClipboardData:"Invalid clipboard data.",invalidFileType:"Invalid file type",invalidFileTypeValue:"Invalid file type: {{value}}",invalidRequestArgs:"Invalid arguments passed in request: {{args}}",loadingDocument:"There was a problem loading the document with ID of {{id}}.",localesNotSaved_one:"The following locale could not be saved:",localesNotSaved_other:"The following locales could not be saved:",logoutFailed:"Logout failed.",missingEmail:"Missing email.",missingIDOfDocument:"Missing ID of document to update.",missingIDOfVersion:"Missing ID of version.",missingRequiredData:"Missing required data.",noFilesUploaded:"No files were uploaded.",noMatchedField:'No matched field found for "{{label}}"',notAllowedToAccessPage:"You are not allowed to access this page.",notAllowedToPerformAction:"You are not allowed to perform this action.",notFound:"The requested resource was not found.",noUser:"No User",previewing:"There was a problem previewing this document.",problemUploadingFile:"There was a problem while uploading the file.",restoringTitle:"There was an error while restoring {{title}}. Please check your connection and try again.",tokenInvalidOrExpired:"Token is either invalid or has expired.",tokenNotProvided:"Token not provided.",unableToCopy:"Unable to copy.",unableToDeleteCount:"Unable to delete {{count}} out of {{total}} {{label}}.",unableToReindexCollection:"Error reindexing collection {{collection}}. Operation aborted.",unableToUpdateCount:"Unable to update {{count}} out of {{total}} {{label}}.",unauthorized:"Unauthorized, you must be logged in to make this request.",unauthorizedAdmin:"Unauthorized, this user does not have access to the admin panel.",unknown:"An unknown error has occurred.",unPublishingDocument:"There was a problem while un-publishing this document.",unspecific:"An error has occurred.",unverifiedEmail:"Please verify your email before logging in.",userEmailAlreadyRegistered:"A user with the given email is already registered.",userLocked:"This user is locked due to having too many failed login attempts.",usernameAlreadyRegistered:"A user with the given username is already registered.",usernameOrPasswordIncorrect:"The username or password provided is incorrect.",valueMustBeUnique:"Value must be unique",verificationTokenInvalid:"Verification token is invalid."},fields:{addLabel:"Add {{label}}",addLink:"Add Link",addNew:"Add new",addNewLabel:"Add new {{label}}",addRelationship:"Add Relationship",addUpload:"Add Upload",block:"Block",blocks:"blocks",blockType:"Block Type",chooseBetweenCustomTextOrDocument:"Choose between entering a custom text URL or linking to another document.",chooseDocumentToLink:"Choose a document to link to",chooseFromExisting:"Choose from existing",chooseLabel:"Choose {{label}}",collapseAll:"Collapse All",customURL:"Custom URL",editLabelData:"Edit {{label}} data",editLink:"Edit Link",editRelationship:"Edit Relationship",enterURL:"Enter a URL",internalLink:"Internal Link",itemsAndMore:"{{items}} and {{count}} more",labelRelationship:"{{label}} Relationship",latitude:"Latitude",linkedTo:"Linked to <0>{{label}}</0>",linkType:"Link Type",longitude:"Longitude",newLabel:"New {{label}}",openInNewTab:"Open in new tab",passwordsDoNotMatch:"Passwords do not match.",relatedDocument:"Related Document",relationTo:"Relation To",removeRelationship:"Remove Relationship",removeUpload:"Remove Upload",saveChanges:"Save changes",searchForBlock:"Search for a block",searchForLanguage:"Search for a language",selectExistingLabel:"Select existing {{label}}",selectFieldsToEdit:"Select fields to edit",showAll:"Show All",swapRelationship:"Swap Relationship",swapUpload:"Swap Upload",textToDisplay:"Text to display",toggleBlock:"Toggle block",uploadNewLabel:"Upload new {{label}}"},folder:{browseByFolder:"Browse by Folder",byFolder:"By Folder",deleteFolder:"Delete Folder",folderName:"Folder Name",folders:"Folders",folderTypeDescription:"Select which type of collection documents should be allowed in this folder.",itemHasBeenMoved:"{{title}} has been moved to {{folderName}}",itemHasBeenMovedToRoot:"{{title}} has been moved to the root folder",itemsMovedToFolder:"{{title}} moved to {{folderName}}",itemsMovedToRoot:"{{title}} moved to the root folder",moveFolder:"Move Folder",moveItemsToFolderConfirmation:"You are about to move <1>{{count}} {{label}}</1> to <2>{{toFolder}}</2>. Are you sure?",moveItemsToRootConfirmation:"You are about to move <1>{{count}} {{label}}</1> to the root folder. Are you sure?",moveItemToFolderConfirmation:"You are about to move <1>{{title}}</1> to <2>{{toFolder}}</2>. Are you sure?",moveItemToRootConfirmation:"You are about to move <1>{{title}}</1> to the root folder. Are you sure?",movingFromFolder:"Moving {{title}} from {{fromFolder}}",newFolder:"New Folder",noFolder:"No Folder",renameFolder:"Rename Folder",searchByNameInFolder:"Search by Name in {{folderName}}",selectFolderForItem:"Select folder for {{title}}"},general:{name:"Name",aboutToDelete:"You are about to delete the {{label}} <1>{{title}}</1>. Are you sure?",aboutToDeleteCount_many:"You are about to delete {{count}} {{label}}",aboutToDeleteCount_one:"You are about to delete {{count}} {{label}}",aboutToDeleteCount_other:"You are about to delete {{count}} {{label}}",aboutToPermanentlyDelete:"You are about to permanently delete the {{label}} <1>{{title}}</1>. Are you sure?",aboutToPermanentlyDeleteTrash:"You are about to permanently delete <0>{{count}}</0> <1>{{label}}</1> from the trash. Are you sure?",aboutToRestore:"You are about to restore the {{label}} <1>{{title}}</1>. Are you sure?",aboutToRestoreAsDraft:"You are about to restore the {{label}} <1>{{title}}</1> as a draft. Are you sure?",aboutToRestoreAsDraftCount:"You are about to restore {{count}} {{label}} as draft",aboutToRestoreCount:"You are about to restore {{count}} {{label}}",aboutToTrash:"You are about to move the {{label}} <1>{{title}}</1> to the trash. Are you sure?",aboutToTrashCount:"You are about to move {{count}} {{label}} to the trash",addBelow:"Add Below",addFilter:"Add Filter",adminTheme:"Admin Theme",all:"All",allCollections:"All Collections",allLocales:"All locales",and:"And",anotherUser:"Another user",anotherUserTakenOver:"Another user has taken over editing this document.",applyChanges:"Apply Changes",ascending:"Ascending",automatic:"Automatic",backToDashboard:"Back to Dashboard",cancel:"Cancel",changesNotSaved:"Your changes have not been saved. If you leave now, you will lose your changes.",clear:"Clear",clearAll:"Clear All",close:"Close",collapse:"Collapse",collections:"Collections",columns:"Columns",columnToSort:"Column to Sort",confirm:"Confirm",confirmCopy:"Confirm copy",confirmDeletion:"Confirm deletion",confirmDuplication:"Confirm duplication",confirmMove:"Confirm move",confirmReindex:"Reindex all {{collections}}?",confirmReindexAll:"Reindex all collections?",confirmReindexDescription:"This will remove existing indexes and reindex documents in the {{collections}} collections.",confirmReindexDescriptionAll:"This will remove existing indexes and reindex documents in all collections.",confirmRestoration:"Confirm restoration",copied:"Copied",copy:"Copy",copyField:"Copy Field",copying:"Copying",copyRow:"Copy Row",copyWarning:"You are about to overwrite {{to}} with {{from}} for {{label}} {{title}}. Are you sure?",create:"Create",created:"Created",createdAt:"Created At",createNew:"Create New",createNewLabel:"Create new {{label}}",creating:"Creating",creatingNewLabel:"Creating new {{label}}",currentlyEditing:"is currently editing this document. If you take over, they will be blocked from continuing to edit, and may also lose unsaved changes.",custom:"Custom",dark:"Dark",dashboard:"Dashboard",delete:"Delete",deleted:"Deleted",deletedAt:"Deleted At",deletedCountSuccessfully:"Deleted {{count}} {{label}} successfully.",deletedSuccessfully:"Deleted successfully.",deleteLabel:"Delete {{label}}",deletePermanently:"Skip trash and delete permanently",deleting:"Deleting...",depth:"Depth",descending:"Descending",deselectAllRows:"Deselect all rows",document:"Document",documentIsTrashed:"This {{label}} is trashed and is read-only.",documentLocked:"Document locked",documents:"Documents",duplicate:"Duplicate",duplicateWithoutSaving:"Duplicate without saving changes",edit:"Edit",editAll:"Edit all",editedSince:"Edited since",editing:"Editing",editingLabel_many:"Editing {{count}} {{label}}",editingLabel_one:"Editing {{count}} {{label}}",editingLabel_other:"Editing {{count}} {{label}}",editingTakenOver:"Editing taken over",editLabel:"Edit {{label}}",email:"Email",emailAddress:"Email Address",emptyTrash:"Empty trash",emptyTrashLabel:"Empty {{label}} trash",enterAValue:"Enter a value",error:"Error",errors:"Errors",exitLivePreview:"Exit Live Preview",export:"Export",fallbackToDefaultLocale:"Fallback to default locale",false:"False",filter:"Filter",filters:"Filters",filterWhere:"Filter {{label}} where",globals:"Globals",goBack:"Go back",groupByLabel:"Group by {{label}}",import:"Import",isEditing:"is editing",item:"Item",items:"items",language:"Language",lastModified:"Last Modified",leaveAnyway:"Leave anyway",leaveWithoutSaving:"Leave without saving",light:"Light",livePreview:"Live Preview",loading:"Loading",locale:"Locale",locales:"Locales",lock:"Lock",menu:"Menu",moreOptions:"More options",move:"Move",moveConfirm:"You are about to move {{count}} {{label}} to <1>{{destination}}</1>. Are you sure?",moveCount:"Move {{count}} {{label}}",moveDown:"Move Down",moveUp:"Move Up",moving:"Moving",movingCount:"Moving {{count}} {{label}}",newLabel:"New {{label}}",newPassword:"New Password",next:"Next",no:"No",noDateSelected:"No date selected",noFiltersSet:"No filters set",noLabel:"<No {{label}}>",none:"None",noOptions:"No options",noResults:"No {{label}} found. Either no {{label}} exist yet or none match the filters you've specified above.",notFound:"Not Found",nothingFound:"Nothing found",noTrashResults:"No {{label}} in trash.",noUpcomingEventsScheduled:"No upcoming events scheduled.",noValue:"No value",of:"of",only:"Only",open:"Open",or:"Or",order:"Order",overwriteExistingData:"Overwrite existing field data",pageNotFound:"Page not found",password:"Password",pasteField:"Paste Field",pasteRow:"Paste Row",payloadSettings:"Payload Settings",permanentlyDelete:"Permanently Delete",permanentlyDeletedCountSuccessfully:"Permanently deleted {{count}} {{label}} successfully.",perPage:"Per Page: {{limit}}",previous:"Previous",reindex:"Reindex",reindexingAll:"Reindexing all {{collections}}.",remove:"Remove",rename:"Rename",reset:"Reset",resetPreferences:"Reset Preferences",resetPreferencesDescription:"This will reset all of your preferences to their default settings.",resettingPreferences:"Resetting Preferences.",restore:"Restore",restoreAsPublished:"Restore as published version",restoredCountSuccessfully:"Restored {{count}} {{label}} successfully.",restoring:"Restoring...",row:"Row",rows:"Rows",save:"Save",saving:"Saving...",schedulePublishFor:"Schedule publish for {{title}}",searchBy:"Search by {{label}}",select:"Select",selectAll:"Select all {{count}} {{label}}",selectAllRows:"Select all rows",selectedCount:"{{count}} {{label}} selected",selectLabel:"Select {{label}}",selectValue:"Select a value",showAllLabel:"Show all {{label}}",sorryNotFound:"Sorrythere is nothing to correspond with your request.",sort:"Sort",sortByLabelDirection:"Sort by {{label}} {{direction}}",stayOnThisPage:"Stay on this page",submissionSuccessful:"Submission Successful.",submit:"Submit",submitting:"Submitting...",success:"Success",successfullyCreated:"{{label}} successfully created.",successfullyDuplicated:"{{label}} successfully duplicated.",successfullyReindexed:"Successfully reindexed {{count}} of {{total}} documents from {{collections}} and skipped {{skips}} drafts.",takeOver:"Take over",thisLanguage:"English",time:"Time",timezone:"Timezone",titleDeleted:'{{label}} "{{title}}" successfully deleted.',titleRestored:'{{label}} "{{title}}" successfully restored.',titleTrashed:'{{label}} "{{title}}" moved to trash.',trash:"Trash",trashedCountSuccessfully:"{{count}} {{label}} moved to trash.",true:"True",unauthorized:"Unauthorized",unlock:"Unlock",unsavedChanges:"You have unsaved changes. Save or discard before continuing.",unsavedChangesDuplicate:"You have unsaved changes. Would you like to continue to duplicate?",untitled:"Untitled",upcomingEvents:"Upcoming Events",updatedAt:"Updated At",updatedCountSuccessfully:"Updated {{count}} {{label}} successfully.",updatedLabelSuccessfully:"Updated {{label}} successfully.",updatedSuccessfully:"Updated successfully.",updateForEveryone:"Update for everyone",updating:"Updating",uploading:"Uploading",uploadingBulk:"Uploading {{current}} of {{total}}",user:"User",username:"Username",users:"Users",value:"Value",viewing:"Viewing",viewReadOnly:"View read-only",welcome:"Welcome",yes:"Yes"},localization:{cannotCopySameLocale:"Cannot copy to the same locale",copyFrom:"Copy from",copyFromTo:"Copying from {{from}} to {{to}}",copyTo:"Copy to",copyToLocale:"Copy to locale",localeToPublish:"Locale to publish",selectedLocales:"Selected Locales",selectLocaleToCopy:"Select locale to copy",selectLocaleToDuplicate:"Select locales to duplicate"},operators:{contains:"contains",equals:"equals",exists:"exists",intersects:"intersects",isGreaterThan:"is greater than",isGreaterThanOrEqualTo:"is greater than or equal to",isIn:"is in",isLessThan:"is less than",isLessThanOrEqualTo:"is less than or equal to",isLike:"is like",isNotEqualTo:"is not equal to",isNotIn:"is not in",isNotLike:"is not like",near:"near",within:"within"},upload:{addFile:"Add file",addFiles:"Add files",bulkUpload:"Bulk Upload",crop:"Crop",cropToolDescription:"Drag the corners of the selected area, draw a new area or adjust the values below.",download:"Download",dragAndDrop:"Drag and drop a file",dragAndDropHere:"or drag and drop a file here",editImage:"Edit Image",fileName:"File Name",fileSize:"File Size",filesToUpload:"Files to Upload",fileToUpload:"File to Upload",focalPoint:"Focal Point",focalPointDescription:"Drag the focal point directly on the preview or adjust the values below.",height:"Height",lessInfo:"Less info",moreInfo:"More info",noFile:"No file",pasteURL:"Paste URL",previewSizes:"Preview Sizes",selectCollectionToBrowse:"Select a Collection to Browse",selectFile:"Select a file",setCropArea:"Set crop area",setFocalPoint:"Set focal point",sizes:"Sizes",sizesFor:"Sizes for {{label}}",width:"Width"},validation:{emailAddress:"Please enter a valid email address.",enterNumber:"Please enter a valid number.",fieldHasNo:"This field has no {{label}}",greaterThanMax:"{{value}} is greater than the max allowed {{label}} of {{max}}.",invalidBlock:'The block "{{block}}" is not allowed.',invalidBlocks:"This field contains blocks that are no longer allowed: {{blocks}}.",invalidInput:"This field has an invalid input.",invalidSelection:"This field has an invalid selection.",invalidSelections:"This field has the following invalid selections:",latitudeOutOfBounds:"Latitude must be between -90 and 90.",lessThanMin:"{{value}} is less than the min allowed {{label}} of {{min}}.",limitReached:"Limit reached, only {{max}} items can be added.",longerThanMin:"This value must be longer than the minimum length of {{minLength}} characters.",longitudeOutOfBounds:"Longitude must be between -180 and 180.",notValidDate:'"{{value}}" is not a valid date.',required:"This field is required.",requiresAtLeast:"This field requires at least {{count}} {{label}}.",requiresNoMoreThan:"This field requires no more than {{count}} {{label}}.",requiresTwoNumbers:"This field requires two numbers.",shorterThanMax:"This value must be shorter than the max length of {{maxLength}} characters.",timezoneRequired:"A timezone is required.",trueOrFalse:"This field can only be equal to true or false.",username:"Please enter a valid username. Can contain letters, numbers, hyphens, periods and underscores.",validUploadID:"This field is not a valid upload ID."},version:{type:"Type",aboutToPublishSelection:"You are about to publish all {{label}} in the selection. Are you sure?",aboutToRestore:"You are about to restore this {{label}} document to the state that it was in on {{versionDate}}.",aboutToRestoreGlobal:"You are about to restore the global {{label}} to the state that it was in on {{versionDate}}.",aboutToRevertToPublished:"You are about to revert this document's changes to its published state. Are you sure?",aboutToUnpublish:"You are about to unpublish this document. Are you sure?",aboutToUnpublishSelection:"You are about to unpublish all {{label}} in the selection. Are you sure?",autosave:"Autosave",autosavedSuccessfully:"Autosaved successfully.",autosavedVersion:"Autosaved version",changed:"Changed",changedFieldsCount_one:"{{count}} changed field",changedFieldsCount_other:"{{count}} changed fields",compareVersion:"Compare version against:",compareVersions:"Compare Versions",comparingAgainst:"Comparing against",confirmPublish:"Confirm publish",confirmRevertToSaved:"Confirm revert to saved",confirmUnpublish:"Confirm unpublish",confirmVersionRestoration:"Confirm Version Restoration",currentDocumentStatus:"Current {{docStatus}} document",currentDraft:"Current Draft",currentlyPublished:"Currently Published",currentlyViewing:"Currently viewing",currentPublishedVersion:"Current Published Version",draft:"Draft",draftHasPublishedVersion:"Draft (has published version)",draftSavedSuccessfully:"Draft saved successfully.",lastSavedAgo:"Last saved {{distance}} ago",modifiedOnly:"Modified only",moreVersions:"More versions...",noFurtherVersionsFound:"No further versions found",noLabelGroup:"Unnamed Group",noRowsFound:"No {{label}} found",noRowsSelected:"No {{label}} selected",preview:"Preview",previouslyDraft:"Previously a Draft",previouslyPublished:"Previously Published",previousVersion:"Previous Version",problemRestoringVersion:"There was a problem restoring this version",publish:"Publish",publishAllLocales:"Publish all locales",publishChanges:"Publish changes",published:"Published",publishIn:"Publish in {{locale}}",publishing:"Publishing",restoreAsDraft:"Restore as draft",restoredSuccessfully:"Restored Successfully.",restoreThisVersion:"Restore this version",restoring:"Restoring...",reverting:"Reverting...",revertToPublished:"Revert to published",saveDraft:"Save Draft",scheduledSuccessfully:"Scheduled successfully.",schedulePublish:"Schedule Publish",selectLocales:"Select locales to display",selectVersionToCompare:"Select a version to compare",showingVersionsFor:"Showing versions for:",showLocales:"Show locales:",specificVersion:"Specific Version",status:"Status",unpublish:"Unpublish",unpublishing:"Unpublishing...",version:"Version",versionAgo:"{{distance}} ago",versionCount_many:"{{count}} versions found",versionCount_none:"No versions found",versionCount_one:"{{count}} version found",versionCount_other:"{{count}} versions found",versionID:"Version ID",versions:"Versions",viewingVersion:"Viewing version for the {{entityLabel}} {{documentTitle}}",viewingVersionGlobal:"Viewing version for the global {{entityLabel}}",viewingVersions:"Viewing versions for the {{entityLabel}} {{documentTitle}}",viewingVersionsGlobal:"Viewing versions for the global {{entityLabel}}"}}}},7358:a=>{"use strict";function b(a){for(var b=a.map(c).sort(f),g=0,h=1;h<b.length;h++){var i=b[h],j=b[g];i.start>j.end+1?b[++g]=i:i.end>j.end&&(j.end=i.end,j.index=Math.min(j.index,i.index))}b.length=g+1;var k=b.sort(e).map(d);return k.type=a.type,k}function c(a,b){return{start:a.start,end:a.end,index:b}}function d(a){return{start:a.start,end:a.end}}function e(a,b){return a.index-b.index}function f(a,b){return a.start-b.start}a.exports=function a(a,c,d){if("string"!=typeof c)throw TypeError("argument str must be a string");var e=c.indexOf("=");if(-1===e)return -2;var f=c.slice(e+1).split(","),g=[];g.type=c.slice(0,e);for(var h=0;h<f.length;h++){var i=f[h].split("-"),j=parseInt(i[0],10),k=parseInt(i[1],10);isNaN(j)?(j=a-k,k=a-1):isNaN(k)&&(k=a-1),k>a-1&&(k=a-1),isNaN(j)||isNaN(k)||j>k||j<0||g.push({start:j,end:k})}return g.length<1?-1:d&&d.combine?b(g):g}},7494:a=>{a.exports=c;var b=Object.prototype.hasOwnProperty;function c(a){for(var c=1;c<arguments.length;c++){var d=arguments[c];for(var e in d)b.call(d,e)&&(a[e]=d[e])}return a}},7499:(a,b,c)=>{"use strict";let d=c(24404),e=c(32488);class f{constructor(a){a=a||{},this.options=a||{},this.name="JSONTransport",this.version=d.version,this.logger=e.getLogger(this.options,{component:this.options.component||"json-transport"})}send(a,b){a.message.keepBcc=!0;let c=a.data.envelope||a.message.getEnvelope(),d=a.message.messageId(),e=[].concat(c.to||[]);e.length>3&&e.push("...and "+e.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:d},"Composing JSON structure of %s to <%s>",d,e.join(", ")),setImmediate(()=>{a.normalize((a,e)=>a?(this.logger.error({err:a,tnx:"send",messageId:d},"Failed building JSON structure for %s. %s",d,a.message),b(a)):(delete e.envelope,delete e.normalizedHeaders,b(null,{envelope:c,messageId:d,message:this.options.skipEncoding?e:JSON.stringify(e)})))})}}a.exports=f},7579:(a,b,c)=>{"use strict";let d=c(91645),e=c(34631),f=c(79551);function g(a,b,c,h){let i,j,k,l=f.parse(a);i={host:l.hostname,port:Number(l.port)?Number(l.port):"https:"===l.protocol?443:80},"https:"===l.protocol?(i.rejectUnauthorized=!1,j=e.connect.bind(e)):j=d.connect.bind(d);let m=!1,o=a=>{if(!m){m=!0;try{k.destroy()}catch(a){}h(a)}},p=()=>{let a=Error("Proxy socket timed out");a.code="ETIMEDOUT",o(a)};(k=j(i,()=>{if(m)return;let a={Host:c+":"+b,Connection:"close"};l.auth&&(a["Proxy-Authorization"]="Basic "+Buffer.from(l.auth).toString("base64")),k.write("CONNECT "+c+":"+b+" HTTP/1.1\r\n"+Object.keys(a).map(b=>b+": "+a[b]).join("\r\n")+"\r\n\r\n");let d="",e=a=>{let b,c;if(!m&&(d+=a.toString("binary"),b=d.match(/\r\n\r\n/))){if(k.removeListener("data",e),c=d.substr(b.index+b[0].length),d=d.substr(0,b.index),c&&k.unshift(Buffer.from(c,"binary")),m=!0,!(b=d.match(/^HTTP\/\d+\.\d+ (\d+)/i))||"2"!==(b[1]||"").charAt(0)){try{k.destroy()}catch(a){}return h(Error("Invalid response from proxy"+(b&&": "+b[1]||"")))}return k.removeListener("error",o),k.removeListener("timeout",p),k.setTimeout(0),h(null,k)}};k.on("data",e)})).setTimeout(g.timeout||3e4),k.on("timeout",p),k.once("error",o)}a.exports=g},7683:a=>{"use strict";let b=1e3;a.exports={wait:function(a,c,d,e,f){let g=Date.now()+e,h=Atomics.load(a,c);if(h===d)return void f(null,"ok");let i=h,j=e=>{Date.now()>g?f(null,"timed-out"):setTimeout(()=>{i=h,(h=Atomics.load(a,c))===i?j(e>=b?b:2*e):h===d?f(null,"ok"):f(null,"not-equal")},e)};j(1)},waitDiff:function(a,c,d,e,f){let g=Date.now()+e,h=Atomics.load(a,c);if(h!==d)return void f(null,"ok");let i=e=>{Date.now()>g?f(null,"timed-out"):setTimeout(()=>{(h=Atomics.load(a,c))!==d?f(null,"ok"):i(e>=b?b:2*e)},e)};i(1)}}},7992:(a,b,c)=>{"use strict";c.d(b,{I:()=>q});var d=c(59476),e=c(60175),f=c(59497);let g="AWS_EXECUTION_ENV",h="AWS_REGION",i="AWS_DEFAULT_REGION",j="AWS_EC2_METADATA_DISABLED",k=["in-region","cross-region","mobile","standard","legacy"],l="/latest/meta-data/placement/region",m="AWS_DEFAULTS_MODE",o="defaults_mode",p={environmentVariableSelector:a=>a[m],configFileSelector:a=>a[o],default:"legacy"},q=({region:a=(0,e.Z)(d.GG),defaultsMode:b=(0,e.Z)(p)}={})=>(0,f.B)(async()=>{let c="function"==typeof b?await b():b;switch(c?.toLowerCase()){case"auto":return r(a);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(c?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw Error(`Invalid parameter for "defaultsMode", expect ${k.join(", ")}, got ${c}`)}}),r=async a=>{if(a){let b="function"==typeof a?await a():a,c=await s();return c?b===c?"in-region":"cross-region":"standard"}return"standard"},s=async()=>{if(process.env[g]&&(process.env[h]||process.env[i]))return process.env[h]??process.env[i];if(!process.env[j])try{let{getInstanceMetadataEndpoint:a,httpRequest:b}=await c.e(7024).then(c.bind(c,37024)),d=await a();return(await b({...d,path:l})).toString()}catch(a){}}},8181:(a,b,c)=>{"use strict";c.d(b,{O:()=>i});var d=c(23042),e=c(87046);let f=async a=>{let b,{collectionSlug:c,globalSlug:d,parentID:e,req:f}=a,g={parent:{equals:e}};return c&&(b=()=>f.payload.countVersions({collection:c,depth:0,where:g})),d&&(b=()=>f.payload.countGlobalVersions({depth:0,global:d,where:g})),b&&await b()?.then(a=>a.totalDocs||0)||0},g=({customSlugify:a,data:b,req:c,valueToSlugify:d})=>a?a({data:b,req:c,valueToSlugify:d}):(0,e.Y)(d),h=({slugFieldName:a,slugify:b,useAsSlug:c})=>async({collection:e,data:h,global:i,operation:j,originalDoc:k,req:l,value:m})=>{if("create"===j)return h&&(h[a]=g({customSlugify:b,data:h,req:l,valueToSlugify:h?.[a]||h?.[c]})),!h?.[a];if("update"===j){if(!m)return!1;if(!(0,d.s8)(e||i))return h&&(h[a]=g({customSlugify:b,data:h,req:l,valueToSlugify:h?.[c]})),!h?.[a];{let d=h?._status==="published",j=h?.[a]!==k?.[a];return!j&&h&&(h[a]=h?.[c]?g({customSlugify:b,data:h,req:l,valueToSlugify:h?.[c]}):null),!d&&!j&&await f({collectionSlug:e?.slug,globalSlug:i?.slug,parentID:k?.id,req:l})<=2}}},i=({name:a="slug",checkboxName:b="generateSlug",fieldToUse:c,localized:d,overrides:e,position:f="sidebar",required:g=!0,slugify:i,useAsSlug:j="title"}={})=>{let k=c||j,l={type:"row",admin:{position:f},fields:[{name:b,type:"checkbox",admin:{description:"When enabled, the slug will auto-generate from the title field on save and autosave.",disableBulkEdit:!0,disableGroupBy:!0,disableListColumn:!0,disableListFilter:!0,hidden:!0},defaultValue:!0,hooks:{beforeChange:[h({slugFieldName:a,slugify:i,useAsSlug:k})]},localized:d},{name:a,type:"text",admin:{components:{Field:{clientProps:{useAsSlug:k},path:"@payloadcms/ui#SlugField"}},width:"100%"},custom:{slugify:i},index:!0,localized:d,required:g,unique:!0}]};return"function"==typeof e?e(l):l}},8270:(a,b,c)=>{"use strict";c.d(b,{k:()=>d});class d{capacity;data=new Map;parameters=[];constructor({size:a,params:b}){this.capacity=a??50,b&&(this.parameters=b)}get(a,b){let c=this.hash(a);if(!1===c)return b();if(!this.data.has(c)){if(this.data.size>this.capacity+10){let a=this.data.keys(),b=0;for(;;){let{value:c,done:d}=a.next();if(this.data.delete(c),d||++b>10)break}}this.data.set(c,b())}return this.data.get(c)}size(){return this.data.size}hash(a){let b="",{parameters:c}=this;if(0===c.length)return!1;for(let d of c){let c=String(a[d]??"");if(c.includes("|;"))return!1;b+=c+"|;"}return b}}},8388:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(47934),e=c(34414);b.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:a,max:b}})=>void 0===b?(0,d.str)`must contain at least ${a} valid item(s)`:(0,d.str)`must contain at least ${a} and no more than ${b} valid item(s)`,params:({params:{min:a,max:b}})=>void 0===b?(0,d._)`{minContains: ${a}}`:(0,d._)`{minContains: ${a}, maxContains: ${b}}`},code(a){let b,c,{gen:f,schema:g,parentSchema:h,data:i,it:j}=a,{minContains:k,maxContains:l}=h;j.opts.next?(b=void 0===k?1:k,c=l):b=1;let m=f.const("len",(0,d._)`${i}.length`);if(a.setParams({min:b,max:c}),void 0===c&&0===b)return void(0,e.checkStrictMode)(j,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==c&&b>c){(0,e.checkStrictMode)(j,'"minContains" > "maxContains" is always invalid'),a.fail();return}if((0,e.alwaysValidSchema)(j,g)){let e=(0,d._)`${m} >= ${b}`;void 0!==c&&(e=(0,d._)`${e} && ${m} <= ${c}`),a.pass(e);return}j.items=!0;let o=f.name("valid");function p(){let a=f.name("_valid"),b=f.let("count",0);q(a,()=>f.if(a,()=>r(b)))}function q(b,c){f.forRange("i",0,m,d=>{a.subschema({keyword:"contains",dataProp:d,dataPropType:e.Type.Num,compositeRule:!0},b),c()})}function r(a){f.code((0,d._)`${a}++`),void 0===c?f.if((0,d._)`${a} >= ${b}`,()=>f.assign(o,!0).break()):(f.if((0,d._)`${a} > ${c}`,()=>f.assign(o,!1).break()),1===b?f.assign(o,!0):f.if((0,d._)`${a} >= ${b}`,()=>f.assign(o,!0)))}void 0===c&&1===b?q(o,()=>f.if(o,()=>f.break())):0===b?(f.let(o,!0),void 0!==c&&f.if((0,d._)`${i}.length > 0`,p)):(f.let(o,!1),p()),a.result(o,()=>a.reset())}}},8395:a=>{"use strict";a.exports=function a(a){return a instanceof Date&&!Number.isNaN(a.getTime())}},8426:(a,b,c)=>{"use strict";a.exports=i;let{LEVEL_NAMES:d}=c(51874),e=c(85927),f=c(5122),g=c(16921),h=c(5870);function i(a){let b,c=a.crlf?"\r\n":"\n",i="    ",{customPrettifiers:j,errorLikeObjectKeys:k,hideObject:l,levelFirst:m,levelKey:o,levelLabel:p,messageFormat:q,messageKey:r,minimumLevel:s,singleLine:t,timestampKey:u,translateTime:v}=a,w=a.errorProps.split(","),x="boolean"==typeof a.useOnlyCustomProps?a.useOnlyCustomProps:"true"===a.useOnlyCustomProps,y=f(a.customLevels),z=g(a.customLevels),A=h(x,y,z);if(a.customColors)if("string"==typeof a.customColors)b=a.customColors.split(",").reduce((b,c)=>{let[e,f]=c.split(":"),g=(x?a.customLevels:void 0!==z[e])?z[e]:d[e],h=void 0!==g?g:e;return b.push([h,f]),b},[]);else if("object"==typeof a.customColors)b=Object.keys(a.customColors).reduce((b,c)=>{let[e,f]=[c,a.customColors[c]],g=(x?a.customLevels:void 0!==z[e])?z[e]:d[e],h=void 0!==g?g:e;return b.push([h,f]),b},[]);else throw Error("options.customColors must be of type string or object.");let B={customLevels:y,customLevelNames:z};!0!==x||a.customLevels||(B.customLevels=void 0,B.customLevelNames=void 0);let C=void 0!==a.include?new Set(a.include.split(",")):void 0,D=!C&&a.ignore?new Set(a.ignore.split(",")):void 0,E=e(a.colorize,b,x),F=a.colorizeObjects?E:e(!1,[],!1);return{EOL:c,IDENT:i,colorizer:E,customColors:b,customLevelNames:z,customLevels:y,customPrettifiers:j,customProperties:B,errorLikeObjectKeys:k,errorProps:w,getLevelLabelData:A,hideObject:l,ignoreKeys:D,includeKeys:C,levelFirst:m,levelKey:o,levelLabel:p,messageFormat:q,messageKey:r,minimumLevel:s,objectColorizer:F,singleLine:t,timestampKey:u,translateTime:v,useOnlyCustomProps:x}}},8739:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(53723);d.code='require("ajv/dist/runtime/uri").default',b.default=d},8867:(a,b,c)=>{"use strict";let{promisify:d}=c(57975),e=c(77531),{buildMockDispatch:f}=c(67899),{kDispatches:g,kMockAgent:h,kClose:i,kOriginalClose:j,kOrigin:k,kOriginalDispatch:l,kConnected:m,kIgnoreTrailingSlash:o}=c(59343),{MockInterceptor:p}=c(74657),q=c(10257),{InvalidArgumentError:r}=c(64737);class s extends e{constructor(a,b){if(!b||!b.agent||"function"!=typeof b.agent.dispatch)throw new r("Argument opts.agent must implement Agent");super(a,b),this[h]=b.agent,this[k]=a,this[o]=b.ignoreTrailingSlash??!1,this[g]=[],this[m]=1,this[l]=this.dispatch,this[j]=this.close.bind(this),this.dispatch=f.call(this),this.close=this[i]}get[q.kConnected](){return this[m]}intercept(a){return new p(a&&{ignoreTrailingSlash:this[o],...a},this[g])}async [i](){await d(this[j])(),this[m]=0,this[h][q.kClients].delete(this[k])}}a.exports=s},8906:(a,b,c)=>{"use strict";c.d(b,{y:()=>d});let d=({headers:a,req:b})=>{let c=b?.payload?.config.cors,d=b?.headers?.get("Origin");if(c){let b=["Origin","X-Requested-With","Content-Type","Accept","Authorization","Content-Encoding","x-apollo-tracing","X-Payload-HTTP-Method-Override"];a.set("Access-Control-Allow-Methods","PUT, PATCH, POST, GET, DELETE, OPTIONS"),"object"==typeof c&&"headers"in c?a.set("Access-Control-Allow-Headers",[...b,...c.headers].filter(Boolean).join(", ")):a.set("Access-Control-Allow-Headers",b.join(", ")),"*"===c||"object"==typeof c&&"origins"in c&&"*"===c.origins?a.set("Access-Control-Allow-Origin","*"):(Array.isArray(c)&&c.indexOf(d)>-1||!Array.isArray(c)&&"object"==typeof c&&"origins"in c&&c.origins.indexOf(d)>-1)&&(a.set("Access-Control-Allow-Credentials","true"),a.set("Access-Control-Allow-Origin",d))}return a}},8933:(a,b,c)=>{"use strict";c.d(b,{EI:()=>j,h6:()=>i,x4:()=>h});var d=c(58468);let{isPlural:e,singular:f}=d,g=a=>a.charAt(0).toUpperCase()+a.slice(1),h=(a,b=!1)=>{let c=(a||"").trim().split(/[\s-]/),d=[];return c.forEach(a=>{if(""!==a){let b=a.split(/(?=[A-Z])/).join(" ");d.push(g(b))}}),b?d.join("").replace(/\s/g,""):d.join(" ")},i=a=>{let b=h(a);return e(a)?{plural:b,singular:f(b)}:{plural:d(b),singular:b}},j=a=>{let b=h(a,!0);return e(a)?{plural:b,singular:f(b)}:{plural:d(b),singular:b}}},9085:(a,b,c)=>{"use strict";c.d(b,{B:()=>e});var d=c(38203);let e=(a,b)=>"function"==typeof a?a({i18n:b,t:b.t}):"object"==typeof a?(0,d.s)(a,b):a},9174:(a,b,c)=>{"use strict";c.d(b,{k:()=>d});let d=({hasGenerateFn:a=!1,overrides:b})=>({name:"description",type:"textarea",admin:{components:{Field:{clientProps:{hasGenerateDescriptionFn:a},path:"@payloadcms/plugin-seo/client#MetaDescriptionComponent"}}},localized:!0,...b??{}})},9198:(a,b,c)=>{"use strict";c.d(b,{Q:()=>f});var d=c(55511),e=c(47105);let f=async({doc:a,password:b})=>{try{let{hash:c,salt:f}=a;if("string"==typeof f&&"string"==typeof c)return await new Promise((g,h)=>{d.pbkdf2(b,f,25e3,512,"sha256",(b,d)=>{b&&h(b),e(d,Buffer.from(c,"hex"))?g(a):h(Error("Invalid password"))})});return null}catch(a){return null}}},9334:a=>{"use strict";let b=0x7fffffff,c=36,d=1,e=26,f=38,g=700,h=72,i=128,j="-",k=/^xn--/,l=/[^\0-\x7F]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,o={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=35,q=Math.floor,r=String.fromCharCode;function s(a){throw RangeError(o[a])}function t(a,b){let c=[],d=a.length;for(;d--;)c[d]=b(a[d]);return c}function u(a,b){let c=a.split("@"),d="";return c.length>1&&(d=c[0]+"@",a=c[1]),d+t((a=a.replace(m,".")).split("."),b).join(".")}function v(a){let b=[],c=0,d=a.length;for(;c<d;){let e=a.charCodeAt(c++);if(e>=55296&&e<=56319&&c<d){let d=a.charCodeAt(c++);(64512&d)==56320?b.push(((1023&e)<<10)+(1023&d)+65536):(b.push(e),c--)}else b.push(e)}return b}let w=function(a){return a>=48&&a<58?26+(a-48):a>=65&&a<91?a-65:a>=97&&a<123?a-97:c},x=function(a,b){return a+22+75*(a<26)-((0!=b)<<5)},y=function(a,b,d){let h=0;for(a=d?q(a/g):a>>1,a+=q(a/b);a>p*e>>1;h+=c)a=q(a/p);return q(h+(p+1)*a/(a+f))},z=function(a){let f=[],g=a.length,k=0,l=i,m=h,o=a.lastIndexOf(j);o<0&&(o=0);for(let b=0;b<o;++b)a.charCodeAt(b)>=128&&s("not-basic"),f.push(a.charCodeAt(b));for(let h=o>0?o+1:0;h<g;){let i=k;for(let f=1,i=c;;i+=c){h>=g&&s("invalid-input");let j=w(a.charCodeAt(h++));j>=c&&s("invalid-input"),j>q((b-k)/f)&&s("overflow"),k+=j*f;let l=i<=m?d:i>=m+e?e:i-m;if(j<l)break;let o=c-l;f>q(b/o)&&s("overflow"),f*=o}let j=f.length+1;m=y(k-i,j,0==i),q(k/j)>b-l&&s("overflow"),l+=q(k/j),k%=j,f.splice(k++,0,l)}return String.fromCodePoint(...f)},A=function(a){let f=[],g=(a=v(a)).length,k=i,l=0,m=h;for(let b of a)b<128&&f.push(r(b));let o=f.length,p=o;for(o&&f.push(j);p<g;){let g=b;for(let b of a)b>=k&&b<g&&(g=b);let h=p+1;for(let i of(g-k>q((b-l)/h)&&s("overflow"),l+=(g-k)*h,k=g,a))if(i<k&&++l>b&&s("overflow"),i===k){let a=l;for(let b=c;;b+=c){let g=b<=m?d:b>=m+e?e:b-m;if(a<g)break;let h=a-g,i=c-g;f.push(r(x(g+h%i,0))),a=q(h/i)}f.push(r(x(a,0))),m=y(l,h,p===o),l=0,++p}++l,++k}return f.join("")},B=function(a){return u(a,function(a){return k.test(a)?z(a.slice(4).toLowerCase()):a})},C=function(a){return u(a,function(a){return l.test(a)?"xn--"+A(a):a})};a.exports={version:"2.3.1",ucs2:{decode:v,encode:a=>String.fromCodePoint(...a)},decode:z,encode:A,toASCII:C,toUnicode:B}},9365:(a,b,c)=>{"use strict";let{safeHTTPMethods:d}=c(81350);a.exports={makeCacheKey:function(a){if(!a.origin)throw Error("opts.origin is undefined");return{origin:a.origin.toString(),method:a.method,path:a.path,headers:a.headers}},normaliseHeaders:function(a){let b;if(null==a.headers)b={};else if("function"==typeof a.headers[Symbol.iterator])for(let c of(b={},a.headers)){if(!Array.isArray(c))throw Error("opts.headers is not a valid header map");let[a,d]=c;if("string"!=typeof a||"string"!=typeof d)throw Error("opts.headers is not a valid header map");b[a.toLowerCase()]=d}else if("object"==typeof a.headers)for(let c of(b={},Object.keys(a.headers)))b[c.toLowerCase()]=a.headers[c];else throw Error("opts.headers is not an object");return b},assertCacheKey:function(a){if("object"!=typeof a)throw TypeError(`expected key to be object, got ${typeof a}`);for(let b of["origin","method","path"])if("string"!=typeof a[b])throw TypeError(`expected key.${b} to be string, got ${typeof a[b]}`);if(void 0!==a.headers&&"object"!=typeof a.headers)throw TypeError(`expected headers to be object, got ${typeof a}`)},assertCacheValue:function(a){if("object"!=typeof a)throw TypeError(`expected value to be object, got ${typeof a}`);for(let b of["statusCode","cachedAt","staleAt","deleteAt"])if("number"!=typeof a[b])throw TypeError(`expected value.${b} to be number, got ${typeof a[b]}`);if("string"!=typeof a.statusMessage)throw TypeError(`expected value.statusMessage to be string, got ${typeof a.statusMessage}`);if(null!=a.headers&&"object"!=typeof a.headers)throw TypeError(`expected value.rawHeaders to be object, got ${typeof a.headers}`);if(void 0!==a.vary&&"object"!=typeof a.vary)throw TypeError(`expected value.vary to be object, got ${typeof a.vary}`);if(void 0!==a.etag&&"string"!=typeof a.etag)throw TypeError(`expected value.etag to be string, got ${typeof a.etag}`)},parseCacheControlHeader:function(a){let b,c={};if(Array.isArray(a))for(let c of(b=[],a))b.push(...c.split(","));else b=a.split(",");for(let a=0;a<b.length;a++){let d,e,f=b[a].toLowerCase(),g=f.indexOf("=");switch(-1!==g?(d=f.substring(0,g).trimStart(),e=f.substring(g+1)):d=f.trim(),d){case"min-fresh":case"max-stale":case"max-age":case"s-maxage":case"stale-while-revalidate":case"stale-if-error":{if(void 0===e||" "===e[0])continue;e.length>=2&&'"'===e[0]&&'"'===e[e.length-1]&&(e=e.substring(1,e.length-1));let a=parseInt(e,10);if(a!=a||"max-age"===d&&d in c&&c[d]>=a)continue;c[d]=a;break}case"private":case"no-cache":if(e){if('"'===e[0]){let f=[e.substring(1)],g='"'===e[e.length-1];if(!g)for(let c=a+1;c<b.length;c++){let a=b[c],d=a.length;if(f.push(a.trim()),0!==d&&'"'===a[d-1]){g=!0;break}}if(g){let a=f[f.length-1];'"'===a[a.length-1]&&(a=a.substring(0,a.length-1),f[f.length-1]=a),d in c?c[d]=c[d].concat(f):c[d]=f}}else d in c?c[d]=c[d].concat(e):c[d]=[e];break}case"public":case"no-store":case"must-revalidate":case"proxy-revalidate":case"immutable":case"no-transform":case"must-understand":case"only-if-cached":if(e)continue;c[d]=!0;break;default:continue}}return c},parseVaryHeader:function(a,b){if("string"==typeof a&&a.includes("*"))return b;let c={};for(let d of"string"==typeof a?a.split(","):a){let a=d.trim().toLowerCase();c[a]=b[a]??null}return c},isEtagUsable:function(a){return!(a.length<=2)&&('"'===a[0]&&'"'===a[a.length-1]?!('"'===a[1]||a.startsWith('"W/')):!!a.startsWith('W/"')&&'"'===a[a.length-1]&&4!==a.length)},assertCacheMethods:function(a,b="CacheMethods"){if(!Array.isArray(a))throw TypeError(`expected type of ${b} needs to be an array, got ${null===a?"null":typeof a}`);if(0===a.length)throw TypeError(`${b} needs to have at least one method`);for(let c of a)if(!d.includes(c))throw TypeError(`element of ${b}-array needs to be one of following values: ${d.join(", ")}, got ${c}`)},assertCacheStore:function(a,b="CacheStore"){if("object"!=typeof a||null===a)throw TypeError(`expected type of ${b} to be a CacheStore, got ${null===a?"null":typeof a}`);for(let c of["get","createWriteStream","delete"])if("function"!=typeof a[c])throw TypeError(`${b} needs to have a \`${c}()\` function`)}}},9402:(a,b,c)=>{"use strict";let{WebsocketFrameSend:d}=c(21438),{opcodes:e,sendHints:f}=c(90406),g=c(75394);class h{#g=new g;#h=!1;#i;constructor(a){this.#i=a}add(a,b,c){if(c!==f.blob){if(this.#h){let d={promise:null,callback:b,frame:i(a,c)};this.#g.push(d)}else if(c===f.text){let{0:c,1:e}=d.createFastTextFrame(a);this.#i.cork(),this.#i.write(c),this.#i.write(e,b),this.#i.uncork()}else this.#i.write(i(a,c),b);return}let e={promise:a.arrayBuffer().then(a=>{e.promise=null,e.frame=i(a,c)}),callback:b,frame:null};this.#g.push(e),this.#h||this.#j()}async #j(){this.#h=!0;let a=this.#g;for(;!a.isEmpty();){let b=a.shift();null!==b.promise&&await b.promise,this.#i.write(b.frame,b.callback),b.callback=b.frame=null}this.#h=!1}}function i(a,b){return new d(j(a,b)).createFrame(b===f.text?e.TEXT:e.BINARY)}function j(a,b){switch(b){case f.text:case f.typedArray:return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);case f.arrayBuffer:case f.blob:return new Uint8Array(a)}}a.exports={SendQueue:h}},9609:(a,b,c)=>{"use strict";let d=c(85558),e=c(42319),f=c(13576),g=f.style,h=f.clear,i=c(40821),j=i.erase,k=i.cursor;class l extends e{constructor(a={}){super(a),this.msg=a.message,this.value=a.initial,this.initialValue=!!a.initial,this.yesMsg=a.yes||"yes",this.yesOption=a.yesOption||"(Y/n)",this.noMsg=a.no||"no",this.noOption=a.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(a,b){return"y"===a.toLowerCase()?(this.value=!0,this.submit()):"n"===a.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(k.hide):this.out.write(h(this.outputText,this.out.columns)),super.render(),this.outputText=[g.symbol(this.done,this.aborted),d.bold(this.msg),g.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:d.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(j.line+k.to(0)+this.outputText))}}a.exports=l},9618:(a,b,c)=>{"use strict";let d=c(45605),e=["suggest","format","onState","validate","onRender","type"],f=()=>{};async function g(a=[],{onSubmit:b=f,onCancel:c=f}={}){let i,j,k,l,m,o,p={},q=g._override||{};a=[].concat(a);let r=async(a,b,c=!1)=>{if(c||!a.validate||!0===a.validate(b))return a.format?await a.format(b,p):b};for(j of a)if({name:l,type:m}=j,"function"==typeof m&&(m=await m(i,{...p},j),j.type=m),m){for(let a in j){if(e.includes(a))continue;let b=j[a];j[a]="function"==typeof b?await b(i,{...p},o):b}if(o=j,"string"!=typeof j.message)throw Error("prompt message is required");if({name:l,type:m}=j,void 0===d[m])throw Error(`prompt type (${m}) is not defined`);if(void 0!==q[j.name]&&void 0!==(i=await r(j,q[j.name]))){p[l]=i;continue}try{i=g._injected?h(g._injected,j.initial):await d[m](j),p[l]=i=await r(j,i,!0),k=await b(j,i,p)}catch(a){k=!await c(j,p)}if(k)break}return p}function h(a,b){let c=a.shift();if(c instanceof Error)throw c;return void 0===c?b:c}function i(a){g._injected=(g._injected||[]).concat(a)}function j(a){g._override=Object.assign({},a)}a.exports=Object.assign(g,{prompt:g,prompts:d,inject:i,override:j})},9764:(a,b,c)=>{"use strict";c.d(b,{V:()=>e});var d=c(687);let e=({context:a,currentDepth:b=0,data:c,depth:e,draft:f,fieldPromises:g,fields:h,findMany:i,flattenLocales:j,overrideAccess:k=!1,parentIsLocalized:l,populationPromises:m,req:o,showHiddenFields:p,siblingDoc:q})=>{(0,d.m)({collection:null,context:a,currentDepth:b,depth:e,doc:c,draft:f,fallbackLocale:o.fallbackLocale,fieldPromises:g,fields:h,findMany:i,flattenLocales:j,global:null,locale:o.locale,overrideAccess:k,parentIndexPath:"",parentIsLocalized:l,parentPath:"",parentSchemaPath:"",populationPromises:m,req:o,showHiddenFields:p,siblingDoc:q,triggerHooks:!1})}},9906:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BufferReader=void 0;let c=Buffer.allocUnsafe(0);class d{constructor(a=0){this.offset=a,this.buffer=c,this.encoding="utf-8"}setBuffer(a,b){this.offset=a,this.buffer=b}int16(){let a=this.buffer.readInt16BE(this.offset);return this.offset+=2,a}byte(){let a=this.buffer[this.offset];return this.offset++,a}int32(){let a=this.buffer.readInt32BE(this.offset);return this.offset+=4,a}uint32(){let a=this.buffer.readUInt32BE(this.offset);return this.offset+=4,a}string(a){let b=this.buffer.toString(this.encoding,this.offset,this.offset+a);return this.offset+=a,b}cstring(){let a=this.offset,b=a;for(;0!==this.buffer[b++];);return this.offset=b,this.buffer.toString(this.encoding,a,b-1)}bytes(a){let b=this.buffer.slice(this.offset,this.offset+a);return this.offset+=a,b}}b.BufferReader=d},10004:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(47934);b.default={data:new d.Name("data"),valCxt:new d.Name("valCxt"),instancePath:new d.Name("instancePath"),parentData:new d.Name("parentData"),parentDataProperty:new d.Name("parentDataProperty"),rootData:new d.Name("rootData"),dynamicAnchors:new d.Name("dynamicAnchors"),vErrors:new d.Name("vErrors"),errors:new d.Name("errors"),this:new d.Name("this"),self:new d.Name("self"),scope:new d.Name("scope"),json:new d.Name("json"),jsonPos:new d.Name("jsonPos"),jsonLen:new d.Name("jsonLen"),jsonPart:new d.Name("jsonPart")}},10257:a=>{"use strict";a.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kBody:Symbol("abstracted request body"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kResume:Symbol("resume"),kOnError:Symbol("on error"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable"),kListeners:Symbol("listeners"),kHTTPContext:Symbol("http context"),kMaxConcurrentStreams:Symbol("max concurrent streams"),kNoProxyAgent:Symbol("no proxy agent"),kHttpProxyAgent:Symbol("http proxy agent"),kHttpsProxyAgent:Symbol("https proxy agent")}},10353:(a,b,c)=>{"use strict";c.d(b,{v:()=>d});let d=({deletedAtPath:a="deletedAt",enableTrash:b,trash:c,where:d})=>{if(!b||c)return d;let e={[a]:{exists:!1}};return d?.and?{...d,and:[...d.and,e]}:{and:[e,...d?[d]:[]]}}},10466:(a,b,c)=>{"use strict";function d(a,b,...c){if((c=c.filter(Boolean)).length>2){let b=c.pop();a+=`one of type ${c.join(", ")}, or ${b}.`}else 2===c.length?a+=`one of type ${c[0]} or ${c[1]}.`:a+=`of type ${c[0]}.`;return null==b?a+=` Received ${b}`:"function"==typeof b&&b.name?a+=` Received function ${b.name}`:"object"==typeof b&&null!=b&&b.constructor?.name&&(a+=` Received an instance of ${b.constructor.name}`),a}c.d(b,{A:()=>e,t:()=>f});let e=(a,...b)=>d("Key must be ",a,...b);function f(a,b,...c){return d(`Key for the ${a} algorithm must be `,b,...c)}},10631:(a,b,c)=>{"use strict";c.d(b,{m:()=>e});var d=c(65716);let e=(a,b)=>{if(!a&&!b)return{};let c=a?[a]:[];return(0,d.L)(b)&&c.push(b),{and:c}}},10689:(a,b,c)=>{"use strict";c.d(b,{Z:()=>d});let d=async({collection:a,doc:b,payload:c,req:d})=>{("lockUntil"in b&&"string"==typeof b.lockUntil||"loginAttempts"in b&&0!==b.loginAttempts)&&await c.db.updateOne({id:b.id,collection:a.slug,data:{lockUntil:null,loginAttempts:0},req:d,returning:!1})}},10760:(a,b,c)=>{"use strict";let d=c(81350),{kBodyUsed:e}=c(10257),f=c(34589),{InvalidArgumentError:g}=c(64737),h=c(78474),i=[300,301,302,303,307,308],j=Symbol("body"),k=()=>{};class l{constructor(a){this[j]=a,this[e]=!1}async *[Symbol.asyncIterator](){f(!this[e],"disturbed"),this[e]=!0,yield*this[j]}}class m{static buildDispatch(a,b){if(null!=b&&(!Number.isInteger(b)||b<0))throw new g("maxRedirections must be a positive number");let c=a.dispatch.bind(a);return(a,d)=>c(a,new m(c,b,a,d))}constructor(a,b,c,i){if(null!=b&&(!Number.isInteger(b)||b<0))throw new g("maxRedirections must be a positive number");this.dispatch=a,this.location=null,this.opts={...c,maxRedirections:0},this.maxRedirections=b,this.handler=i,this.history=[],d.isStream(this.opts.body)?(0===d.bodyLength(this.opts.body)&&this.opts.body.on("data",function(){f(!1)}),"boolean"!=typeof this.opts.body.readableDidRead&&(this.opts.body[e]=!1,h.prototype.on.call(this.opts.body,"data",function(){this[e]=!0}))):this.opts.body&&"function"==typeof this.opts.body.pipeTo?this.opts.body=new l(this.opts.body):this.opts.body&&"string"!=typeof this.opts.body&&!ArrayBuffer.isView(this.opts.body)&&d.isIterable(this.opts.body)&&!d.isFormDataLike(this.opts.body)&&(this.opts.body=new l(this.opts.body))}onRequestStart(a,b){this.handler.onRequestStart?.(a,{...b,history:this.history})}onRequestUpgrade(a,b,c,d){this.handler.onRequestUpgrade?.(a,b,c,d)}onResponseStart(a,b,c,e){if(this.opts.throwOnMaxRedirect&&this.history.length>=this.maxRedirections)throw Error("max redirects");if((301===b||302===b)&&"POST"===this.opts.method&&(this.opts.method="GET",d.isStream(this.opts.body)&&d.destroy(this.opts.body.on("error",k)),this.opts.body=null),303===b&&"HEAD"!==this.opts.method&&(this.opts.method="GET",d.isStream(this.opts.body)&&d.destroy(this.opts.body.on("error",k)),this.opts.body=null),this.location=this.history.length>=this.maxRedirections||d.isDisturbed(this.opts.body)||-1===i.indexOf(b)?null:c.location,this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return void this.handler.onResponseStart?.(a,b,c,e);let{origin:f,pathname:g,search:h}=d.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),j=h?`${g}${h}`:g;this.opts.headers=p(this.opts.headers,303===b,this.opts.origin!==f),this.opts.path=j,this.opts.origin=f,this.opts.maxRedirections=0,this.opts.query=null}onResponseData(a,b){this.location||this.handler.onResponseData?.(a,b)}onResponseEnd(a,b){this.location?this.dispatch(this.opts,this):this.handler.onResponseEnd(a,b)}onResponseError(a,b){this.handler.onResponseError?.(a,b)}}function o(a,b,c){if(4===a.length)return"host"===d.headerNameToString(a);if(b&&d.headerNameToString(a).startsWith("content-"))return!0;if(c&&(13===a.length||6===a.length||19===a.length)){let b=d.headerNameToString(a);return"authorization"===b||"cookie"===b||"proxy-authorization"===b}return!1}function p(a,b,c){let d=[];if(Array.isArray(a))for(let e=0;e<a.length;e+=2)o(a[e],b,c)||d.push(a[e],a[e+1]);else if(a&&"object"==typeof a)for(let[e,f]of"function"==typeof a[Symbol.iterator]?a:Object.entries(a))o(e,b,c)||d.push(e,f);else f(null==a,"headers must be an object or an array");return d}a.exports=m},10782:(a,b,c)=>{"use strict";c.d(b,{m:()=>i});var d=c(66089),e=c(33372),f=c(61294);let g=({headers:a,payload:b,user:c})=>{let d,g,h=a.get("host");h&&(d=(0,f.Q)(h,b.secret)),c?.id&&(g=(0,f.Q)(String(c.id),b.secret)),(0,e.BI)({event:{type:"admin-init",domainID:d,userID:g},payload:b})};var h=c(38053);let i=async a=>{let{req:b}=a;g(b);try{return(0,h.R)({req:b})}catch(a){throw await (0,d.J)(b),a}}},10928:(a,b,c)=>{"use strict";a.exports=e;let d=c(47599);function e(a,b){return(a=(a=(a=a.replace(/{if (.*?)}(.*?){end}/g,c)).replace(/{if (.*?)}/g,"")).replace(/{end}/g,"")).replace(/\s+/g," ").trim();function c(a,c,e){let f=d(b,c);return f&&e.includes(c)?e.replace(RegExp("{"+c+"}","g"),f):""}}},10931:(a,b,c)=>{"use strict";c.d(b,{e:()=>d,j:()=>e});let d=a=>({setHttpHandler(b){a.httpHandler=b},httpHandler:()=>a.httpHandler,updateHttpClientConfig(b,c){a.httpHandler?.updateHttpClientConfig(b,c)},httpHandlerConfigs:()=>a.httpHandler.httpHandlerConfigs()}),e=a=>({httpHandler:a.httpHandler()})},11181:(a,b,c)=>{"use strict";c.d(b,{U:()=>g});var d=c(33078),e=c(20674),f=c(37947);class g{queryCompat;constructor(a=!1){this.queryCompat=a}resolveRestContentType(a,b){let c=b.getMemberSchemas(),d=Object.values(c).find(a=>!!a.getMergedTraits().httpPayload);if(d){let b=d.getMergedTraits().mediaType;return b?b:d.isStringSchema()?"text/plain":d.isBlobSchema()?"application/octet-stream":a}if(!b.isUnitSchema()&&Object.values(c).find(a=>{let{httpQuery:b,httpQueryParams:c,httpHeader:d,httpLabel:e,httpPrefixHeaders:f}=a.getMergedTraits(),g=void 0===f;return!b&&!c&&!d&&!e&&g}))return a}async getErrorSchemaOrThrowBaseException(a,b,c,e,f,g){let h=b,i=a;a.includes("#")&&([h,i]=a.split("#"));let j={$metadata:f,$fault:c.statusCode<500?"client":"server"},k=d.O.for(h);try{return{errorSchema:g?.(k,i)??k.getSchema(a),errorMetadata:j}}catch(c){e.message=e.message??e.Message??"UnknownError";let a=d.O.for("smithy.ts.sdk.synthetic."+h),b=a.getBaseException();if(b){let c=a.getErrorCtor(b)??Error;throw this.decorateServiceException(Object.assign(new c({name:i}),j),e)}throw this.decorateServiceException(Object.assign(Error(i),j),e)}}decorateServiceException(a,b={}){if(this.queryCompat){let c=a.Message??b.Message,d=(0,f.M)(a,b);c&&(d.message=c),d.Error={...d.Error,Type:d.Error.Type,Code:d.Error.Code,Message:d.Error.message??d.Error.Message??c};let e=d.$metadata.requestId;return e&&(d.RequestId=e),d}return(0,f.M)(a,b)}setQueryCompatError(a,b){let c=b.headers?.["x-amzn-query-error"];if(void 0!==a&&null!=c){let[b,d]=c.split(";"),e=Object.entries(a),f={Code:b,Type:d};for(let[b,c]of(Object.assign(a,f),e))f["message"===b?"Message":b]=c;delete f.__type,a.Error=f}}queryCompatOutput(a,b){a.Error&&(b.Error=a.Error),a.Type&&(b.Type=a.Type),a.Code&&(b.Code=a.Code)}findQueryCompatibleError(a,b){try{return a.getSchema(b)}catch(c){return a.find(a=>e.l.of(a).getMergedTraits().awsQueryError?.[0]===b)}}}},11239:a=>{"use strict";let b=()=>"",c=()=>`,"time":${Date.now()}`,d=()=>`,"time":${Math.round(Date.now()/1e3)}`,e=()=>`,"time":"${new Date(Date.now()).toISOString()}"`,f=1000000n,g=1000000000n,h=BigInt(Date.now())*f,i=process.hrtime.bigint();a.exports={nullTime:b,epochTime:c,unixTime:d,isoTime:e,isoTimeNano:()=>{let a=h+(process.hrtime.bigint()-i),b=a/g,c=a%g,d=new Date(Number(1000n*b+c/1000000n)),e=d.getUTCFullYear(),f=(d.getUTCMonth()+1).toString().padStart(2,"0"),j=d.getUTCDate().toString().padStart(2,"0"),k=d.getUTCHours().toString().padStart(2,"0"),l=d.getUTCMinutes().toString().padStart(2,"0"),m=d.getUTCSeconds().toString().padStart(2,"0");return`,"time":"${e}-${f}-${j}T${k}:${l}:${m}.${c.toString().padStart(9,"0")}Z"`}}},11353:(a,b,c)=>{"use strict";let d=c(30124),e=c(49026);class f{constructor(a){a=a||{},this.options=a||{},this.name="JSONTransport",this.version=d.version,this.logger=e.getLogger(this.options,{component:this.options.component||"json-transport"})}send(a,b){a.message.keepBcc=!0;let c=a.data.envelope||a.message.getEnvelope(),d=a.message.messageId(),e=[].concat(c.to||[]);e.length>3&&e.push("...and "+e.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:d},"Composing JSON structure of %s to <%s>",d,e.join(", ")),setImmediate(()=>{a.normalize((a,e)=>a?(this.logger.error({err:a,tnx:"send",messageId:d},"Failed building JSON structure for %s. %s",d,a.message),b(a)):(delete e.envelope,delete e.normalizedHeaders,b(null,{envelope:c,messageId:d,message:this.options.skipEncoding?e:JSON.stringify(e)})))})}}a.exports=f},11487:(a,b,c)=>{"use strict";c.d(b,{$:()=>x});var d=c(64746),e=c(23264);function f(a){let b=[];for(let c of Object.keys(a).sort()){let d=a[c];if(c=(0,e.o)(c),Array.isArray(d))for(let a=0,f=d.length;a<f;a++)b.push(`${c}=${(0,e.o)(d[a])}`);else{let a=c;(d||"string"==typeof d)&&(a+=`=${(0,e.o)(d)}`),b.push(a)}}return b.join("&")}var g=c(81630),h=c(55591);let i=["ECONNRESET","EPIPE","ETIMEDOUT"],j=a=>{let b={};for(let c of Object.keys(a)){let d=a[c];b[c]=Array.isArray(d)?d.join(","):d}return b},k={setTimeout:(a,b)=>setTimeout(a,b),clearTimeout:a=>clearTimeout(a)},l=1e3,m=(a,b,c=0)=>{if(!c)return -1;let d=d=>{let e=k.setTimeout(()=>{a.destroy(),b(Object.assign(Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${c} ms.`),{name:"TimeoutError"}))},c-d),f=a=>{a?.connecting?a.on("connect",()=>{k.clearTimeout(e)}):k.clearTimeout(e)};a.socket?f(a.socket):a.on("socket",f)};return c<2e3?(d(0),0):k.setTimeout(d.bind(null,l),l)},o=(a,b,c=0,d,e)=>c?k.setTimeout(()=>{let f=`@smithy/node-http-handler - [${d?"ERROR":"WARN"}] a request has exceeded the configured ${c} ms requestTimeout.`;if(d){let c=Object.assign(Error(f),{name:"TimeoutError",code:"ETIMEDOUT"});a.destroy(c),b(c)}else f+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",e?.warn?.(f)},c):-1,p=3e3,q=(a,{keepAlive:b,keepAliveMsecs:c},d=p)=>{if(!0!==b)return -1;let e=()=>{a.socket?a.socket.setKeepAlive(b,c||0):a.on("socket",a=>{a.setKeepAlive(b,c||0)})};return 0===d?(e(),0):k.setTimeout(e,d)},r=3e3,s=(a,b,c=0)=>{let d=d=>{let e=c-d,f=()=>{a.destroy(),b(Object.assign(Error(`@smithy/node-http-handler - the request socket timed out after ${c} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};a.socket?(a.socket.setTimeout(e,f),a.on("close",()=>a.socket?.removeListener("timeout",f))):a.setTimeout(e,f)};return 0<c&&c<6e3?(d(0),0):k.setTimeout(d.bind(null,0===c?0:r),r)};var t=c(27910);let u=6e3;async function v(a,b,c=u,d=!1){let e=b.headers??{},f=e.Expect||e.expect,g=-1,h=!0;d||"100-continue"!==f||(h=await Promise.race([new Promise(a=>{g=Number(k.setTimeout(()=>a(!0),Math.max(u,c)))}),new Promise(b=>{a.on("continue",()=>{k.clearTimeout(g),b(!0)}),a.on("response",()=>{k.clearTimeout(g),b(!1)}),a.on("error",()=>{k.clearTimeout(g),b(!1)})})])),h&&w(a,b.body)}function w(a,b){if(b instanceof t.Readable)return void b.pipe(a);if(b){if(Buffer.isBuffer(b)||"string"==typeof b)return void a.end(b);let c=b;return"object"==typeof c&&c.buffer&&"number"==typeof c.byteOffset&&"number"==typeof c.byteLength?void a.end(Buffer.from(c.buffer,c.byteOffset,c.byteLength)):void a.end(Buffer.from(b))}a.end()}class x{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(a){return"function"==typeof a?.handle?a:new x(a)}static checkSocketUsage(a,b,c=console){let{sockets:d,requests:e,maxSockets:f}=a;if("number"!=typeof f||f===1/0)return b;let g=15e3;if(Date.now()-g<b)return b;if(d&&e)for(let a in d){let b=d[a]?.length??0,g=e[a]?.length??0;if(b>=f&&g>=2*f)return c?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${b} and ${g} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return b}constructor(a){this.configProvider=new Promise((b,c)=>{"function"==typeof a?a().then(a=>{b(this.resolveDefaultConfig(a))}).catch(c):b(this.resolveDefaultConfig(a))})}resolveDefaultConfig(a){let{requestTimeout:b,connectionTimeout:c,socketTimeout:d,socketAcquisitionWarningTimeout:e,httpAgent:f,httpsAgent:i,throwOnRequestTimeout:j}=a||{},k=!0,l=50;return{connectionTimeout:c,requestTimeout:b,socketTimeout:d,socketAcquisitionWarningTimeout:e,throwOnRequestTimeout:j,httpAgent:f instanceof g.Agent||"function"==typeof f?.destroy?(this.externalAgent=!0,f):new g.Agent({keepAlive:k,maxSockets:l,...f}),httpsAgent:i instanceof h.Agent||"function"==typeof i?.destroy?(this.externalAgent=!0,i):new h.Agent({keepAlive:k,maxSockets:l,...i}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(a,{abortSignal:b,requestTimeout:c}={}){return this.config||(this.config=await this.configProvider),new Promise((e,l)=>{let p,r,t=this.config,u=[],w=async a=>{await p,u.forEach(k.clearTimeout),e(a)},y=async a=>{await p,u.forEach(k.clearTimeout),l(a)};if(b?.aborted){let a=Error("Request aborted");a.name="AbortError",y(a);return}let z="https:"===a.protocol,A=a.headers??{},B=(A.Expect??A.expect)==="100-continue",C=z?t.httpsAgent:t.httpAgent;B&&!this.externalAgent&&(C=new(z?h.Agent:g.Agent)({keepAlive:!1,maxSockets:1/0})),u.push(k.setTimeout(()=>{this.socketWarningTimestamp=x.checkSocketUsage(C,this.socketWarningTimestamp,t.logger)},t.socketAcquisitionWarningTimeout??(t.requestTimeout??2e3)+(t.connectionTimeout??1e3)));let D=f(a.query||{});if(null!=a.username||null!=a.password){let b=a.username??"",c=a.password??"";r=`${b}:${c}`}let E=a.path;D&&(E+=`?${D}`),a.fragment&&(E+=`#${a.fragment}`);let F=a.hostname??"";F="["===F[0]&&F.endsWith("]")?a.hostname.slice(1,-1):a.hostname;let G={headers:a.headers,host:F,method:a.method,path:E,port:a.port,agent:C,auth:r},H=(z?h.request:g.request)(G,a=>{w({response:new d.c({statusCode:a.statusCode||-1,reason:a.statusMessage,headers:j(a.headers),body:a})})});if(H.on("error",a=>{i.includes(a.code)?y(Object.assign(a,{name:"TimeoutError"})):y(a)}),b){let a=()=>{H.destroy();let a=Error("Request aborted");a.name="AbortError",y(a)};if("function"==typeof b.addEventListener){let c=b;c.addEventListener("abort",a,{once:!0}),H.once("close",()=>c.removeEventListener("abort",a))}else b.onabort=a}let I=c??t.requestTimeout;u.push(m(H,y,t.connectionTimeout)),u.push(o(H,y,I,t.throwOnRequestTimeout,t.logger??console)),u.push(s(H,y,t.socketTimeout));let J=G.agent;"object"==typeof J&&"keepAlive"in J&&u.push(q(H,{keepAlive:J.keepAlive,keepAliveMsecs:J.keepAliveMsecs})),p=v(H,a,I,this.externalAgent).catch(a=>(u.forEach(k.clearTimeout),l(a)))})}updateHttpClientConfig(a,b){this.config=void 0,this.configProvider=this.configProvider.then(c=>({...c,[a]:b}))}httpHandlerConfigs(){return this.config??{}}}},11660:(a,b,c)=>{"use strict";a.exports=g;let{createCopier:d}=c(25876),e=d({}),f=c(40567);function g({log:a,context:b}){let{ignoreKeys:c,includeKeys:d}=b,g=e(a);if(d){let a={};return d.forEach(b=>{a[b]=g[b]}),a}return c.forEach(a=>{f(g,a)}),g}},11836:(a,b,c)=>{"use strict";let d,{Writable:e}=c(27910),{assertCacheKey:f,assertCacheValue:g}=c(9365),h=3,i=2e9;function j(a,b){return null==a&&null==b||(null!=a||null==b)&&(null==a||null!=b)&&(Array.isArray(a)&&Array.isArray(b)?a.length===b.length&&a.every((a,c)=>a===b[c]):a===b)}a.exports=class{#k=i;#l=1/0;#m;#n;#o;#p;#q;#r;#s;#t;constructor(a){if(a){if("object"!=typeof a)throw TypeError("SqliteCacheStore options must be an object");if(void 0!==a.maxEntrySize){if("number"!=typeof a.maxEntrySize||!Number.isInteger(a.maxEntrySize)||a.maxEntrySize<0)throw TypeError("SqliteCacheStore options.maxEntrySize must be a non-negative integer");if(a.maxEntrySize>i)throw TypeError("SqliteCacheStore options.maxEntrySize must be less than 2gb");this.#k=a.maxEntrySize}if(void 0!==a.maxCount){if("number"!=typeof a.maxCount||!Number.isInteger(a.maxCount)||a.maxCount<0)throw TypeError("SqliteCacheStore options.maxCount must be a non-negative integer");this.#l=a.maxCount}}d||(d=c(79868).DatabaseSync),this.#m=new d(a?.location??":memory:"),this.#m.exec(`
      PRAGMA journal_mode = WAL;
      PRAGMA synchronous = NORMAL;
      PRAGMA temp_store = memory;
      PRAGMA optimize;

      CREATE TABLE IF NOT EXISTS cacheInterceptorV${h} (
        -- Data specific to us
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        url TEXT NOT NULL,
        method TEXT NOT NULL,

        -- Data returned to the interceptor
        body BUF NULL,
        deleteAt INTEGER NOT NULL,
        statusCode INTEGER NOT NULL,
        statusMessage TEXT NOT NULL,
        headers TEXT NULL,
        cacheControlDirectives TEXT NULL,
        etag TEXT NULL,
        vary TEXT NULL,
        cachedAt INTEGER NOT NULL,
        staleAt INTEGER NOT NULL
      );

      CREATE INDEX IF NOT EXISTS idx_cacheInterceptorV${h}_getValuesQuery ON cacheInterceptorV${h}(url, method, deleteAt);
      CREATE INDEX IF NOT EXISTS idx_cacheInterceptorV${h}_deleteByUrlQuery ON cacheInterceptorV${h}(deleteAt);
    `),this.#n=this.#m.prepare(`
      SELECT
        id,
        body,
        deleteAt,
        statusCode,
        statusMessage,
        headers,
        etag,
        cacheControlDirectives,
        vary,
        cachedAt,
        staleAt
      FROM cacheInterceptorV${h}
      WHERE
        url = ?
        AND method = ?
      ORDER BY
        deleteAt ASC
    `),this.#o=this.#m.prepare(`
      UPDATE cacheInterceptorV${h} SET
        body = ?,
        deleteAt = ?,
        statusCode = ?,
        statusMessage = ?,
        headers = ?,
        etag = ?,
        cacheControlDirectives = ?,
        cachedAt = ?,
        staleAt = ?
      WHERE
        id = ?
    `),this.#p=this.#m.prepare(`
      INSERT INTO cacheInterceptorV${h} (
        url,
        method,
        body,
        deleteAt,
        statusCode,
        statusMessage,
        headers,
        etag,
        cacheControlDirectives,
        vary,
        cachedAt,
        staleAt
      ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    `),this.#r=this.#m.prepare(`DELETE FROM cacheInterceptorV${h} WHERE url = ?`),this.#s=this.#m.prepare(`SELECT COUNT(*) AS total FROM cacheInterceptorV${h}`),this.#q=this.#m.prepare(`DELETE FROM cacheInterceptorV${h} WHERE deleteAt <= ?`),this.#t=this.#l===1/0?null:this.#m.prepare(`
        DELETE FROM cacheInterceptorV${h}
        WHERE id IN (
          SELECT
            id
          FROM cacheInterceptorV${h}
          ORDER BY cachedAt DESC
          LIMIT ?
        )
      `)}close(){this.#m.close()}get(a){f(a);let b=this.#u(a);return b?{body:b.body?Buffer.from(b.body.buffer,b.body.byteOffset,b.body.byteLength):void 0,statusCode:b.statusCode,statusMessage:b.statusMessage,headers:b.headers?JSON.parse(b.headers):void 0,etag:b.etag?b.etag:void 0,vary:b.vary?JSON.parse(b.vary):void 0,cacheControlDirectives:b.cacheControlDirectives?JSON.parse(b.cacheControlDirectives):void 0,cachedAt:b.cachedAt,staleAt:b.staleAt,deleteAt:b.deleteAt}:void 0}set(a,b){f(a);let c=this.#v(a),d=Array.isArray(b.body)?Buffer.concat(b.body):b.body,e=d?.byteLength;if(e&&e>this.#k)return;let g=this.#u(a,!0);g?this.#o.run(d,b.deleteAt,b.statusCode,b.statusMessage,b.headers?JSON.stringify(b.headers):null,b.etag?b.etag:null,b.cacheControlDirectives?JSON.stringify(b.cacheControlDirectives):null,b.cachedAt,b.staleAt,g.id):(this.#w(),this.#p.run(c,a.method,d,b.deleteAt,b.statusCode,b.statusMessage,b.headers?JSON.stringify(b.headers):null,b.etag?b.etag:null,b.cacheControlDirectives?JSON.stringify(b.cacheControlDirectives):null,b.vary?JSON.stringify(b.vary):null,b.cachedAt,b.staleAt))}createWriteStream(a,b){f(a),g(b);let c=0,d=[],h=this;return new e({decodeStrings:!0,write(a,b,e){(c+=a.byteLength)<h.#k?d.push(a):this.destroy(),e()},final(c){h.set(a,{...b,body:d}),c()}})}delete(a){if("object"!=typeof a)throw TypeError(`expected key to be object, got ${typeof a}`);this.#r.run(this.#v(a))}#w(){if(Number.isFinite(this.#l)&&this.size<=this.#l)return 0;{let a=this.#q.run(Date.now()).changes;if(a)return a}{let a=this.#t?.run(Math.max(Math.floor(.1*this.#l),1)).changes;if(a)return a}return 0}get size(){let{total:a}=this.#s.get();return a}#v(a){return`${a.origin}/${a.path}`}#u(a,b=!1){let c=this.#v(a),{headers:d,method:e}=a,f=this.#n.all(c,e);if(0===f.length)return;let g=Date.now();for(let a of f){if(g>=a.deleteAt&&!b)break;let c=!0;if(a.vary){let b=JSON.parse(a.vary);for(let a in b)if(!j(d[a],b[a])){c=!1;break}}if(c)return a}}}},12082:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{F:()=>getPredefinedMigration});var fs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(29021),path__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(33873),url__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(79551);let getPredefinedMigration=async({dirname,file,migrationName:migrationNameArg,payload})=>{let importPath=file??migrationNameArg;if(importPath?.startsWith("@payloadcms/db-")){let migrationName=importPath.split("/").slice(2).join("/"),cleanPath=path__WEBPACK_IMPORTED_MODULE_1__.join(dirname,`./predefinedMigrations/${migrationName}`);fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(`${cleanPath}.mjs`)?cleanPath=`${cleanPath}.mjs`:fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(`${cleanPath}.js`)?cleanPath=`${cleanPath}.js`:(payload.logger.error({msg:`Canned migration ${migrationName} not found.`}),process.exit(1)),cleanPath=cleanPath.replaceAll("\\","/");let moduleURL=(0,url__WEBPACK_IMPORTED_MODULE_2__.pathToFileURL)(cleanPath);try{let{downSQL,imports,upSQL}=await eval(`import('${moduleURL.href}')`);return{downSQL,imports,upSQL}}catch(err){payload.logger.error({err,msg:`Error loading predefined migration ${migrationName}`}),process.exit(1)}}else if(importPath)try{let{downSQL,imports,upSQL}=await eval(`import('${importPath}')`);return{downSQL,imports,upSQL}}catch(_err){if(importPath?.includes("/"))throw Error(`Error importing migration file from ${importPath}`)}return{}}},12197:a=>{"use strict";a.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},12442:(a,b,c)=>{"use strict";c.d(b,{Y:()=>dr});var d=c(49556),e=c(79748),f=c(4282),g=c(86069),h=c(24401),i=c(70404);class j extends i.L{constructor(a,b){let c=a?a("error:problemUploadingFile"):"There was a problem while retrieving the file.";b&&(c+=` ${b}`),super(c,h.h.INTERNAL_SERVER_ERROR)}}var k=c(7282);class l extends i.L{constructor(a){super(a?a("error:noFilesUploaded"):k.en.translations.error.noFilesUploaded,h.h.BAD_REQUEST)}}var m=c(32603);function o(a){return["image/jpeg","image/png","image/gif","image/webp","image/tiff","image/avif"].indexOf(a)>-1}var p=c(90639),q=c(31123);function r(a){if(!a.subarray(0,8).toString("latin1").startsWith("%PDF-"))return!1;let b=Math.min(1024,a.length),c=a.subarray(a.length-b).toString("latin1");return!!c.includes("%%EOF")&&!!c.includes("xref")}function s(a){try{let b=2048,c=a.toString("utf8",0,Math.min(a.length,b)),d=c.match(/^<\?xml[^>]*encoding=["']([^"']+)["']/i),e=d?.[1]?.toLowerCase();if(e&&!["ascii","utf-8","utf8"].includes(e))return!1;let f=c.replace(/<\?xml[^>]*\?>/gi,"").replace(/<!--[\s\S]*?-->/g,"").replace(/<\?[^>]*\?>/g,"").trim().match(/^<(\w+)(?:\s|>)/);if(!f||"svg"!==f[1]||!/xmlns=["']http:\/\/www\.w3\.org\/2000\/svg["']/.test(c)||!c.match(/<svg[\s>]/))return!1;return!0}catch(a){return!1}}var t=c(73403);function u(a){try{let b=a.toString("utf8");for(let a of[/<script[\s>]/i,/<\/script>/i,/\son\w+\s*=/i,/javascript:/i,/data:text\/html/i,/<foreignObject[\s>]/i,/<iframe[\s>]/i,/<object[\s>]/i,/<embed[\s>]/i,/data:image\/svg\+xml;base64,[\w+/]*PHNjcmlwdA/i,/xlink:href\s*=\s*["']javascript:/i,/@import/i,/<!ENTITY/i,/<!DOCTYPE[^>]*\[/i,/<!\[CDATA\[[\s\S]*<script/i])if(a.test(b))return!1;return!0}catch(a){return!1}}let v=[{extensions:["exe","dll"],mimeType:"application/x-msdownload"},{extensions:["exe","com","app","action"],mimeType:"application/x-executable"},{extensions:["bat","cmd"],mimeType:"application/x-msdos-program"},{extensions:["exe","com"],mimeType:"application/x-ms-dos-executable"},{extensions:["dmg"],mimeType:"application/x-apple-diskimage"},{extensions:["deb"],mimeType:"application/x-debian-package"},{extensions:["rpm"],mimeType:"application/x-redhat-package-manager"},{extensions:["exe","dll"],mimeType:"application/vnd.microsoft.portable-executable"},{extensions:["msi"],mimeType:"application/x-msi"},{extensions:["jar","ear","war"],mimeType:"application/java-archive"},{extensions:["desktop"],mimeType:"application/x-desktop"},{extensions:["cpl"],mimeType:"application/x-cpl"},{extensions:["lnk"],mimeType:"application/x-ms-shortcut"},{extensions:["pkg"],mimeType:"application/x-apple-installer"},{extensions:["htm","html","shtml","xhtml"],mimeType:"text/html"},{extensions:["php","phtml"],mimeType:"application/x-httpd-php"},{extensions:["js","jse"],mimeType:"text/javascript"},{extensions:["jsp"],mimeType:"application/x-jsp"},{extensions:["py"],mimeType:"text/x-python"},{extensions:["rb"],mimeType:"text/x-ruby"},{extensions:["pl"],mimeType:"text/x-perl"},{extensions:["ps1","psc1","psd1","psh","psm1"],mimeType:"application/x-powershell"},{extensions:["vbe","vbs"],mimeType:"application/x-vbscript"},{extensions:["ws","wsc","wsf","wsh"],mimeType:"application/x-ms-wsh"},{extensions:["scr"],mimeType:"application/x-msdownload"},{extensions:["asp","aspx"],mimeType:"application/x-asp"},{extensions:["hta"],mimeType:"application/x-hta"},{extensions:["reg"],mimeType:"application/x-registry"},{extensions:["url"],mimeType:"application/x-url"},{extensions:["workflow"],mimeType:"application/x-workflow"},{extensions:["command"],mimeType:"application/x-command"}],w=async({collection:a,file:b,req:c})=>{let e=[],{upload:f}=a,g=c?.payload?.config?.upload?.useTempFiles??!1,h=f&&"object"==typeof f&&"mimeTypes"in f&&Array.isArray(f.mimeTypes)?f.mimeTypes:[],i=!!f&&"object"==typeof f&&"allowRestrictedFileTypes"in f&&f.allowRestrictedFileTypes,j=a=>!["/svg","image/svg+xml","image/x-xbitmap","image/x-xpixmap"].includes(a)&&(a.startsWith("image/")||a.startsWith("video/")||a.startsWith("audio/")||"application/pdf"===a);if(!i){if(h.length>0){let a=await (0,d.BI)(b.data),f=b.name.split(".").pop()||"";if(a?.mime==="application/xml"&&h.some(a=>a.includes("image/")&&(a.includes("svg")||"image/*"===a))&&s(b.data)&&(a={ext:"svg",mime:"image/svg+xml"}),!a&&!g){let a=(0,t.F)(b.name).mime;(0,q.d)(a,h)?("svg"===f.toLowerCase()&&(u(b.data)||e.push("SVG file contains potentially harmful content.")),"application/pdf"===a&&(r(b.data)||e.push("Invalid or corrupted PDF file."))):e.push(`File type ${a} (from extension ${f}) is not allowed.`),j(a)&&c.payload.logger.warn(`File buffer returned no detectable MIME type for ${b.name}. Falling back to extension-based validation.`)}let i=a?.mime&&(0,q.d)(a.mime,h);i&&a?.mime==="application/pdf"&&(r(b?.data)||e.push("Invalid PDF file.")),a&&!i&&e.push(`Invalid MIME type: ${a.mime}.`)}else v.some(a=>{let c=a.extensions.some(a=>b.name.toLowerCase().endsWith(a)),d=a.mimeType===b.mimetype;return c||d})&&e.push(`File type '${b.mimetype}' not allowed ${b.name}: Restricted file type detected -- set 'allowRestrictedFileTypes' to true to skip this check for this Collection.`);if(e.length>0)throw c.payload.logger.error(e.join(", ")),new p.y({errors:[{message:e.join(", "),path:"file"}]})}};async function x({req:a,sharpFile:b,withMetadata:c}){let d=await b.metadata();return!0===c||"function"==typeof c&&await c({metadata:d,req:a})?b.withMetadata():b}let y=(a,b)=>Math.floor(a/100*b);async function z({cropData:a,dimensions:b,file:c,heightInPixels:d,req:e,sharp:f,widthInPixels:g,withMetadata:h}){try{let{x:i,y:j}=a,k=c,l=["image/avif","image/gif","image/webp"].includes(k.mimetype),m={};l&&(m.animated=!0);let{height:o,width:p}=b,q=Number(g),r=Number(d);if(p===q&&o===r){let a=o;if(l){let b=await f(k.tempFilePath||k.data,m).metadata();a=b.pages?b.height:o}return{data:k.data,info:{height:a,size:k.size,width:p}}}let s={height:Number(d),left:y(i,b.width),top:y(j,b.height),width:Number(g)},t=f(k.tempFilePath||k.data,m).extract(s);return t=await x({req:e,sharpFile:t,withMetadata:h}),await t.toBuffer({resolveWithObject:!0})}catch(a){throw console.error("Error cropping image:",a),a}}var A=c(27362),B=c(14985),C=c(1026),D=c(64722);let E={lookup:B.lookup},F=a=>{try{if(!a||!C.isValid(a))return!1;let b=C.parse(a).range();if("unicast"!==b)return!1}catch(a){return!1}return!0},G=(a,b,c)=>{E.lookup(a,b,(b,d,e)=>{if(b)c(b,d,e);else{let b=[];if((b=Array.isArray(d)?d.map(a=>a.address):[d]).some(a=>!F(a)))return void c(Error(`Blocked unsafe attempt to ${a}`),d,e);c(null,d,e)}})},H=new D.g6({connect:{lookup:G}}),I=async(...a)=>{let[b,c]=a;try{let a=new URL(b),d=a.hostname;if(d.startsWith("[")&&d.endsWith("]")&&(d=d.slice(1,-1)),C.isValid(d)&&!F(d))throw Error(`Blocked unsafe attempt to ${d}`);return await (0,D.hd)(a,{...c,dispatcher:H})}catch(a){if(a instanceof Error)if(a.cause instanceof Error&&a.cause.message.includes("unsafe"))throw Error(a.cause.message);else{let c;throw"string"==typeof b?c=b:b instanceof URL?c=b.toString():b instanceof Request&&(c=b.url),Error(`Failed to fetch from ${c}, ${a.message}`)}throw a}},J=async({data:a,req:b,uploadConfig:c})=>{let{filename:d,url:e}=a,f=!0;if("string"==typeof e){let a,g=e;if(!e.startsWith("http")){f=!1;let a=b.headers.get("origin")||`${b.protocol}://${b.headers.get("host")}`;g=`${a}${e}`}let h=(b.headers.get("cookie")??"").split(";");f&&(h=h.filter(a=>!a.trim().startsWith(b.payload.config.cookiePrefix)));let j=c.externalFileHeaderFilter?c.externalFileHeaderFilter(Object.fromEntries(new Headers(b.headers))):{cookie:h.join(";")},k=!0===c.skipSafeFetch?c.skipSafeFetch:Array.isArray(c.skipSafeFetch)&&(0,A.W)(g,c.skipSafeFetch),l=c.pasteURL&&c.pasteURL.allowList&&(0,A.W)(g,c.pasteURL.allowList);if(!(a=k||l?await fetch(g,{credentials:"include",headers:j,method:"GET"}):await I(g,{credentials:"include",headers:j,method:"GET"})).ok)throw new i.L(`Failed to fetch file from ${g}`,a.status);let m=await a.arrayBuffer();return{name:d,data:Buffer.from(m),mimetype:a.headers.get("content-type")||void 0,size:Number(a.headers.get("content-length"))||0}}throw new i.L("Invalid file url",400)};var K=c(17463),L=new TextDecoder,M=(a,b=0,c=a.length)=>L.decode(a.slice(b,c)),N=(a,b=0,c=a.length)=>a.slice(b,c).reduce((a,b)=>a+`0${b.toString(16)}`.slice(-2),""),O=(a,b)=>new DataView(a.buffer,a.byteOffset+b),P=(a,b=0)=>O(a,b).getInt16(0,!0),Q=(a,b=0)=>O(a,b).getUint16(0,!1),R=(a,b=0)=>O(a,b).getUint16(0,!0),S=(a,b=0)=>{let c=O(a,b);return c.getUint16(0,!0)+(c.getUint8(2)<<16)},T=(a,b=0)=>O(a,b).getInt32(0,!0),U=(a,b=0)=>O(a,b).getUint32(0,!1),V=(a,b=0)=>O(a,b).getUint32(0,!0),W=(a,b,c)=>O(a,b).getBigUint64(0,!c),X={readUInt16BE:Q,readUInt16LE:R,readUInt32BE:U,readUInt32LE:V};function Y(a,b,c=0,d=!1){let e=d?"BE":"LE";return X[`readUInt${b}${e}`](a,c)}function Z(a,b){if(a.length-b<4)return;let c=U(a,b);if(!(a.length-b<c))return{name:M(a,4+b,8+b),offset:b,size:c}}function $(a,b,c){for(;c<a.length;){let d=Z(a,c);if(!d)break;if(d.name===b)return d;c+=d.size>0?d.size:8}}var _={validate:a=>"BM"===M(a,0,2),calculate:a=>({height:Math.abs(T(a,22)),width:V(a,18)})},aa=1,ab=6,ac=16;function ad(a,b){let c=a[b];return 0===c?256:c}function ae(a,b){let c=ab+b*ac;return{height:ad(a,c+1),width:ad(a,c)}}var af={validate(a){let b=R(a,0),c=R(a,4);return 0===b&&0!==c&&R(a,2)===aa},calculate(a){let b=R(a,4),c=ae(a,0);if(1===b)return c;let d=[];for(let c=0;c<b;c+=1)d.push(ae(a,c));return{width:c.width,height:c.height,images:d}}},ag=2,ah={validate(a){let b=R(a,0),c=R(a,4);return 0===b&&0!==c&&R(a,2)===ag},calculate:a=>af.calculate(a)},ai={validate:a=>0x20534444===V(a,0),calculate:a=>({height:V(a,12),width:V(a,16)})},aj=/^GIF8[79]a/,ak={validate:a=>aj.test(M(a,0,6)),calculate:a=>({height:R(a,8),width:R(a,6)})},al={avif:"avif",mif1:"heif",msf1:"heif",heic:"heic",heix:"heic",hevc:"heic",hevx:"heic"},am={validate(a){if("ftyp"!==M(a,4,8))return!1;let b=$(a,"ftyp",0);return!!b&&M(a,b.offset+8,b.offset+12)in al},calculate(a){let b=$(a,"meta",0),c=b&&$(a,"iprp",b.offset+12),d=c&&$(a,"ipco",c.offset+8);if(!d)throw TypeError("Invalid HEIF, no ipco box found");let e=M(a,8,12),f=[],g=d.offset+8;for(;g<d.offset+d.size;){let b=$(a,"ispe",g);if(!b)break;let c=U(a,b.offset+12),e=U(a,b.offset+16),h=$(a,"clap",g),i=c,j=e;h&&h.offset<d.offset+d.size&&(i=c-U(a,h.offset+12)),f.push({height:j,width:i}),g=b.offset+b.size}if(0===f.length)throw TypeError("Invalid HEIF, no sizes found");return{width:f[0].width,height:f[0].height,type:e,...f.length>1?{images:f}:{}}}},an=8,ao=4,ap=4,aq={ICON:32,"ICN#":32,"icm#":16,icm4:16,icm8:16,"ics#":16,ics4:16,ics8:16,is32:16,s8mk:16,icp4:16,icl4:32,icl8:32,il32:32,l8mk:32,icp5:32,ic11:32,ich4:48,ich8:48,ih32:48,h8mk:48,icp6:64,ic12:32,it32:128,t8mk:128,ic07:128,ic08:256,ic13:256,ic09:512,ic14:512,ic10:1024};function ar(a,b){let c=b+ap;return[M(a,b,c),U(a,c)]}function as(a){let b=aq[a];return{width:b,height:b,type:a}}var at={validate:a=>"icns"===M(a,0,4),calculate(a){let b=a.length,c=U(a,ao),d=an,e=[];for(;d<c&&d<b;){let b=ar(a,d),c=as(b[0]);e.push(c),d+=b[1]}if(0===e.length)throw TypeError("Invalid ICNS, no sizes found");return{width:e[0].width,height:e[0].height,...e.length>1?{images:e}:{}}}},au={validate:a=>0xff4fff51===U(a,0),calculate:a=>({height:U(a,12),width:U(a,8)})},av={validate(a){if("jP  "!==M(a,4,8))return!1;let b=$(a,"ftyp",0);return!!b&&"jp2 "===M(a,b.offset+8,b.offset+12)},calculate(a){let b=$(a,"jp2h",0),c=b&&$(a,"ihdr",b.offset+8);if(c)return{height:U(a,c.offset+8),width:U(a,c.offset+12)};throw TypeError("Unsupported JPEG 2000 format")}},aw="45786966",ax=2,ay=6,az=2,aA="4d4d",aB="4949",aC=12,aD=2;function aE(a){return N(a,2,6)===aw}function aF(a,b){return{height:Q(a,b),width:Q(a,b+2)}}function aG(a,b){let c=ay+8,d=Y(a,16,c,b);for(let e=0;e<d;e++){let d=c+aD+e*aC,f=d+aC;if(d>a.length)return;let g=a.slice(d,f);if(274===Y(g,16,0,b)){if(3!==Y(g,16,2,b)||1!==Y(g,32,4,b))return;return Y(g,16,8,b)}}}function aH(a,b){let c=a.slice(ax,b),d=N(c,ay,ay+az),e=d===aA,f=d===aB;if(e||f)return aG(c,e)}function aI(a,b){if(b>a.length)throw TypeError("Corrupt JPG, exceeded buffer limits")}var aJ={validate:a=>"ffd8"===N(a,0,2),calculate(a){let b,c,d=a.slice(4);for(;d.length;){let a=Q(d,0);if(aI(d,a),255!==d[a]){d=d.slice(1);continue}if(aE(d)&&(b=aH(d,a)),192===(c=d[a+1])||193===c||194===c){let c=aF(d,a+5);if(!b)return c;return{height:c.height,orientation:b,width:c.width}}d=d.slice(a+2)}throw TypeError("Invalid JPG, no size found")}},aK=class{constructor(a,b){this.input=a,this.endianness=b,this.byteOffset=2,this.bitOffset=0}getBits(a=1){let b=0,c=0;for(;c<a;){if(this.byteOffset>=this.input.length)throw Error("Reached end of input");let d=this.input[this.byteOffset],e=Math.min(a-c,8-this.bitOffset);if("little-endian"===this.endianness){let a=(1<<e)-1;b|=(d>>this.bitOffset&a)<<c}else{let a=(d&(1<<e)-1<<8-this.bitOffset-e)>>8-this.bitOffset-e;b=b<<e|a}c+=e,this.bitOffset+=e,8===this.bitOffset&&(this.byteOffset++,this.bitOffset=0)}return b}};function aL(a,b){if(b)return 8*(1+a.getBits(5));let c=[9,13,18,30][a.getBits(2)];return 1+a.getBits(c)}function aM(a,b,c,d){return b&&0===c?8*(1+a.getBits(5)):0===c?aL(a,!1):Math.floor(d*[1,1.2,4/3,1.5,16/9,5/4,2][c-1])}var aN={validate:a=>"ff0a"===N(a,0,2),calculate(a){let b=new aK(a,"little-endian"),c=1===b.getBits(1),d=aL(b,c),e=b.getBits(3);return{width:aM(b,c,e,d),height:d}}};function aO(a){let b=$(a,"jxlc",0);if(b)return a.slice(b.offset+8,b.offset+b.size);let c=aP(a);if(c.length>0)return aQ(c)}function aP(a){let b=[],c=0;for(;c<a.length;){let d=$(a,"jxlp",c);if(!d)break;b.push(a.slice(d.offset+12,d.offset+d.size)),c=d.offset+d.size}return b}function aQ(a){let b=new Uint8Array(a.reduce((a,b)=>a+b.length,0)),c=0;for(let d of a)b.set(d,c),c+=d.length;return b}var aR={validate:a=>{if("JXL "!==M(a,4,8))return!1;let b=$(a,"ftyp",0);return!!b&&"jxl "===M(a,b.offset+8,b.offset+12)},calculate(a){let b=aO(a);if(b)return aN.calculate(b);throw Error("No codestream found in JXL container")}},aS={validate:a=>["KTX 11","KTX 20"].includes(M(a,1,7)),calculate:a=>{let b=49===a[5]?"ktx":"ktx2",c="ktx"===b?36:20;return{height:V(a,c+4),width:V(a,c),type:b}}},aT="PNG\r\n\x1a\n",aU="IHDR",aV="CgBI",aW={validate(a){if(aT===M(a,1,8)){let b=M(a,12,16);if(b===aV&&(b=M(a,28,32)),b!==aU)throw TypeError("Invalid PNG");return!0}return!1},calculate:a=>M(a,12,16)===aV?{height:U(a,36),width:U(a,32)}:{height:U(a,20),width:U(a,16)}},aX={P1:"pbm/ascii",P2:"pgm/ascii",P3:"ppm/ascii",P4:"pbm",P5:"pgm",P6:"ppm",P7:"pam",PF:"pfm"},aY={default:a=>{let b=[];for(;a.length>0;){let c=a.shift();if("#"!==c[0]){b=c.split(" ");break}}if(2===b.length)return{height:Number.parseInt(b[1],10),width:Number.parseInt(b[0],10)};throw TypeError("Invalid PNM")},pam:a=>{let b={};for(;a.length>0;){let c=a.shift();if(c.length>16||c.charCodeAt(0)>128)continue;let[d,e]=c.split(" ");if(d&&e&&(b[d.toLowerCase()]=Number.parseInt(e,10)),b.height&&b.width)break}if(b.height&&b.width)return{height:b.height,width:b.width};throw TypeError("Invalid PAM")}},aZ={validate:a=>M(a,0,2)in aX,calculate(a){let b=aX[M(a,0,2)],c=M(a,3).split(/[\r\n]+/);return(aY[b]||aY.default)(c)}},a$={validate:a=>"8BPS"===M(a,0,4),calculate:a=>({height:U(a,14),width:U(a,18)})},a_=/<svg\s([^>"']|"[^"]*"|'[^']*')*>/,a0={height:/\sheight=(['"])([^%]+?)\1/,root:a_,viewbox:/\sviewBox=(['"])(.+?)\1/i,width:/\swidth=(['"])([^%]+?)\1/},a1={in:96,cm:37.79527559055118,em:16,ex:8,m:37.79527559055118*100,mm:37.79527559055118/10,pc:96/72/12,pt:96/72,px:1},a2=RegExp(`^([0-9.]+(?:e\\d+)?)(${Object.keys(a1).join("|")})?$`);function a3(a){let b=a2.exec(a);if(b)return Math.round(Number(b[1])*(a1[b[2]]||1))}function a4(a){let b=a.split(" ");return{height:a3(b[3]),width:a3(b[2])}}function a5(a){let b=a.match(a0.width),c=a.match(a0.height),d=a.match(a0.viewbox);return{height:c&&a3(c[2]),viewbox:d&&a4(d[2]),width:b&&a3(b[2])}}function a6(a){return{height:a.height,width:a.width}}function a7(a,b){let c=b.width/b.height;return a.width?{height:Math.floor(a.width/c),width:a.width}:a.height?{height:a.height,width:Math.floor(a.height*c)}:{height:b.height,width:b.width}}var a8={validate:a=>a_.test(M(a,0,1e3)),calculate(a){let b=M(a).match(a0.root);if(b){let a=a5(b[0]);if(a.width&&a.height)return a6(a);if(a.viewbox)return a7(a,a.viewbox)}throw TypeError("Invalid SVG")}},a9={validate:a=>0===R(a,0)&&0===R(a,4),calculate:a=>({height:R(a,14),width:R(a,12)})},ba={TAG:{WIDTH:256,HEIGHT:257,COMPRESSION:259},TYPE:{SHORT:3,LONG:4,LONG8:16},ENTRY_SIZE:{STANDARD:12,BIG:20},COUNT_SIZE:{STANDARD:2,BIG:8}};function bb(a,{isBigEndian:b,isBigTiff:c}){let d=c?Number(W(a,8,b)):Y(a,32,4,b),e=c?ba.COUNT_SIZE.BIG:ba.COUNT_SIZE.STANDARD;return a.slice(d+e)}function bc(a,b,c,d){switch(b){case ba.TYPE.SHORT:return Y(a,16,c,d);case ba.TYPE.LONG:return Y(a,32,c,d);case ba.TYPE.LONG8:{let b=Number(W(a,c,d));if(b>Number.MAX_SAFE_INTEGER)throw TypeError("Value too large");return b}default:return 0}}function bd(a,b){let c=b?ba.ENTRY_SIZE.BIG:ba.ENTRY_SIZE.STANDARD;if(a.length>c)return a.slice(c)}function be(a,{isBigEndian:b,isBigTiff:c}){let d={},e=a;for(;e?.length;){let a=Y(e,16,0,b),f=Y(e,16,2,b),g=c?Number(W(e,4,b)):Y(e,32,4,b);if(0===a)break;if(1===g&&(f===ba.TYPE.SHORT||f===ba.TYPE.LONG||c&&f===ba.TYPE.LONG8)){let g=c?12:8;d[a]=bc(e,f,g,b)}e=bd(e,c)}return d}function bf(a){let b=M(a,0,2),c=Y(a,16,2,"MM"===b);return{isBigEndian:"MM"===b,isBigTiff:43===c}}function bg(a,b){let c=Y(a,16,4,b),d=Y(a,16,6,b);if(8!==c||0!==d)throw TypeError("Invalid BigTIFF header")}var bh=new Set(["49492a00","4d4d002a","49492b00","4d4d002b"]);function bi(a){return{height:1+S(a,7),width:1+S(a,4)}}function bj(a){return{height:1+((15&a[4])<<10|a[3]<<2|(192&a[2])>>6),width:1+((63&a[2])<<8|a[1])}}function bk(a){return{height:16383&P(a,8),width:16383&P(a,6)}}var bl=new Map([["bmp",_],["cur",ah],["dds",ai],["gif",ak],["heif",am],["icns",at],["ico",af],["j2c",au],["jp2",av],["jpg",aJ],["jxl",aR],["jxl-stream",aN],["ktx",aS],["png",aW],["pnm",aZ],["psd",a$],["svg",a8],["tga",a9],["tiff",{validate:a=>{let b=N(a,0,4);return bh.has(b)},calculate(a){let b=bf(a);b.isBigTiff&&bg(a,b.isBigEndian);let c=be(bb(a,b),b),d={height:c[ba.TAG.HEIGHT],width:c[ba.TAG.WIDTH],type:b.isBigTiff?"bigtiff":"tiff"};if(c[ba.TAG.COMPRESSION]&&(d.compression=c[ba.TAG.COMPRESSION]),!d.width||!d.height)throw TypeError("Invalid Tiff. Missing tags");return d}}],["webp",{validate(a){let b="RIFF"===M(a,0,4),c="WEBP"===M(a,8,12),d="VP8"===M(a,12,15);return b&&c&&d},calculate(a){let b=M(a,12,16),c=a.slice(20,30);if("VP8X"===b){let a=c[0],b=(192&a)==0,d=(1&a)==0;if(b&&d)return bi(c);throw TypeError("Invalid WebP")}if("VP8 "===b&&47!==c[0])return bk(c);let d=N(c,3,6);if("VP8L"===b&&"9d012a"!==d)return bj(c);throw TypeError("Invalid WebP")}}]]),bm=Array.from(bl.keys()),bn=new Map([[0,"heif"],[56,"psd"],[66,"bmp"],[68,"dds"],[71,"gif"],[73,"tiff"],[77,"tiff"],[82,"webp"],[105,"icns"],[137,"png"],[255,"jpg"]]);function bo(a){let b=a[0],c=bn.get(b);return c&&bl.get(c).validate(a)?c:bm.find(b=>bl.get(b).validate(a))}var bp={disabledTypes:[]};function bq(a){let b=bo(a);if(void 0!==b){if(bp.disabledTypes.indexOf(b)>-1)throw TypeError(`disabled file type: ${b}`);let c=bl.get(b).calculate(a);if(void 0!==c){if(c.type=c.type??b,c.images&&c.images.length>1){let a=c.images.reduce((a,b)=>b.width*b.height>a.width*a.height?b:a,c.images[0]);c.width=a.width,c.height=a.height}return c}}throw TypeError(`unsupported file type: ${b}`)}var br=c(73024),bs=c(76760),bt=new TextDecoder,bu=(a,b=0,c=a.length)=>bt.decode(a.slice(b,c)),bv=(a,b=0,c=a.length)=>a.slice(b,c).reduce((a,b)=>a+`0${b.toString(16)}`.slice(-2),""),bw=(a,b)=>new DataView(a.buffer,a.byteOffset+b),bx=(a,b=0)=>bw(a,b).getInt16(0,!0),by=(a,b=0)=>bw(a,b).getUint16(0,!1),bz=(a,b=0)=>bw(a,b).getUint16(0,!0),bA=(a,b=0)=>{let c=bw(a,b);return c.getUint16(0,!0)+(c.getUint8(2)<<16)},bB=(a,b=0)=>bw(a,b).getInt32(0,!0),bC=(a,b=0)=>bw(a,b).getUint32(0,!1),bD=(a,b=0)=>bw(a,b).getUint32(0,!0),bE=(a,b,c)=>bw(a,b).getBigUint64(0,!c),bF={readUInt16BE:by,readUInt16LE:bz,readUInt32BE:bC,readUInt32LE:bD};function bG(a,b,c=0,d=!1){let e=d?"BE":"LE";return bF[`readUInt${b}${e}`](a,c)}function bH(a,b){if(a.length-b<4)return;let c=bC(a,b);if(!(a.length-b<c))return{name:bu(a,4+b,8+b),offset:b,size:c}}function bI(a,b,c){for(;c<a.length;){let d=bH(a,c);if(!d)break;if(d.name===b)return d;c+=d.size>0?d.size:8}}var bJ={validate:a=>"BM"===bu(a,0,2),calculate:a=>({height:Math.abs(bB(a,22)),width:bD(a,18)})},bK=1,bL=6,bM=16;function bN(a,b){let c=a[b];return 0===c?256:c}function bO(a,b){let c=bL+b*bM;return{height:bN(a,c+1),width:bN(a,c)}}var bP={validate(a){let b=bz(a,0),c=bz(a,4);return 0===b&&0!==c&&bz(a,2)===bK},calculate(a){let b=bz(a,4),c=bO(a,0);if(1===b)return c;let d=[];for(let c=0;c<b;c+=1)d.push(bO(a,c));return{width:c.width,height:c.height,images:d}}},bQ=2,bR={validate(a){let b=bz(a,0),c=bz(a,4);return 0===b&&0!==c&&bz(a,2)===bQ},calculate:a=>bP.calculate(a)},bS={validate:a=>0x20534444===bD(a,0),calculate:a=>({height:bD(a,12),width:bD(a,16)})},bT=/^GIF8[79]a/,bU={validate:a=>bT.test(bu(a,0,6)),calculate:a=>({height:bz(a,8),width:bz(a,6)})},bV={avif:"avif",mif1:"heif",msf1:"heif",heic:"heic",heix:"heic",hevc:"heic",hevx:"heic"},bW={validate(a){if("ftyp"!==bu(a,4,8))return!1;let b=bI(a,"ftyp",0);return!!b&&bu(a,b.offset+8,b.offset+12)in bV},calculate(a){let b=bI(a,"meta",0),c=b&&bI(a,"iprp",b.offset+12),d=c&&bI(a,"ipco",c.offset+8);if(!d)throw TypeError("Invalid HEIF, no ipco box found");let e=bu(a,8,12),f=[],g=d.offset+8;for(;g<d.offset+d.size;){let b=bI(a,"ispe",g);if(!b)break;let c=bC(a,b.offset+12),e=bC(a,b.offset+16),h=bI(a,"clap",g),i=c,j=e;h&&h.offset<d.offset+d.size&&(i=c-bC(a,h.offset+12)),f.push({height:j,width:i}),g=b.offset+b.size}if(0===f.length)throw TypeError("Invalid HEIF, no sizes found");return{width:f[0].width,height:f[0].height,type:e,...f.length>1?{images:f}:{}}}},bX=8,bY=4,bZ=4,b$={ICON:32,"ICN#":32,"icm#":16,icm4:16,icm8:16,"ics#":16,ics4:16,ics8:16,is32:16,s8mk:16,icp4:16,icl4:32,icl8:32,il32:32,l8mk:32,icp5:32,ic11:32,ich4:48,ich8:48,ih32:48,h8mk:48,icp6:64,ic12:32,it32:128,t8mk:128,ic07:128,ic08:256,ic13:256,ic09:512,ic14:512,ic10:1024};function b_(a,b){let c=b+bZ;return[bu(a,b,c),bC(a,c)]}function b0(a){let b=b$[a];return{width:b,height:b,type:a}}var b1={validate:a=>"icns"===bu(a,0,4),calculate(a){let b=a.length,c=bC(a,bY),d=bX,e=[];for(;d<c&&d<b;){let b=b_(a,d),c=b0(b[0]);e.push(c),d+=b[1]}if(0===e.length)throw TypeError("Invalid ICNS, no sizes found");return{width:e[0].width,height:e[0].height,...e.length>1?{images:e}:{}}}},b2={validate:a=>0xff4fff51===bC(a,0),calculate:a=>({height:bC(a,12),width:bC(a,8)})},b3={validate(a){if("jP  "!==bu(a,4,8))return!1;let b=bI(a,"ftyp",0);return!!b&&"jp2 "===bu(a,b.offset+8,b.offset+12)},calculate(a){let b=bI(a,"jp2h",0),c=b&&bI(a,"ihdr",b.offset+8);if(c)return{height:bC(a,c.offset+8),width:bC(a,c.offset+12)};throw TypeError("Unsupported JPEG 2000 format")}},b4="45786966",b5=2,b6=6,b7=2,b8="4d4d",b9="4949",ca=12,cb=2;function cc(a){return bv(a,2,6)===b4}function cd(a,b){return{height:by(a,b),width:by(a,b+2)}}function ce(a,b){let c=b6+8,d=bG(a,16,c,b);for(let e=0;e<d;e++){let d=c+cb+e*ca,f=d+ca;if(d>a.length)return;let g=a.slice(d,f);if(274===bG(g,16,0,b)){if(3!==bG(g,16,2,b)||1!==bG(g,32,4,b))return;return bG(g,16,8,b)}}}function cf(a,b){let c=a.slice(b5,b),d=bv(c,b6,b6+b7),e=d===b8,f=d===b9;if(e||f)return ce(c,e)}function cg(a,b){if(b>a.length)throw TypeError("Corrupt JPG, exceeded buffer limits")}var ch={validate:a=>"ffd8"===bv(a,0,2),calculate(a){let b,c,d=a.slice(4);for(;d.length;){let a=by(d,0);if(cg(d,a),255!==d[a]){d=d.slice(1);continue}if(cc(d)&&(b=cf(d,a)),192===(c=d[a+1])||193===c||194===c){let c=cd(d,a+5);if(!b)return c;return{height:c.height,orientation:b,width:c.width}}d=d.slice(a+2)}throw TypeError("Invalid JPG, no size found")}},ci=class{constructor(a,b){this.input=a,this.endianness=b,this.byteOffset=2,this.bitOffset=0}getBits(a=1){let b=0,c=0;for(;c<a;){if(this.byteOffset>=this.input.length)throw Error("Reached end of input");let d=this.input[this.byteOffset],e=Math.min(a-c,8-this.bitOffset);if("little-endian"===this.endianness){let a=(1<<e)-1;b|=(d>>this.bitOffset&a)<<c}else{let a=(d&(1<<e)-1<<8-this.bitOffset-e)>>8-this.bitOffset-e;b=b<<e|a}c+=e,this.bitOffset+=e,8===this.bitOffset&&(this.byteOffset++,this.bitOffset=0)}return b}};function cj(a,b){if(b)return 8*(1+a.getBits(5));let c=[9,13,18,30][a.getBits(2)];return 1+a.getBits(c)}function ck(a,b,c,d){return b&&0===c?8*(1+a.getBits(5)):0===c?cj(a,!1):Math.floor(d*[1,1.2,4/3,1.5,16/9,5/4,2][c-1])}var cl={validate:a=>"ff0a"===bv(a,0,2),calculate(a){let b=new ci(a,"little-endian"),c=1===b.getBits(1),d=cj(b,c),e=b.getBits(3);return{width:ck(b,c,e,d),height:d}}};function cm(a){let b=bI(a,"jxlc",0);if(b)return a.slice(b.offset+8,b.offset+b.size);let c=cn(a);if(c.length>0)return co(c)}function cn(a){let b=[],c=0;for(;c<a.length;){let d=bI(a,"jxlp",c);if(!d)break;b.push(a.slice(d.offset+12,d.offset+d.size)),c=d.offset+d.size}return b}function co(a){let b=new Uint8Array(a.reduce((a,b)=>a+b.length,0)),c=0;for(let d of a)b.set(d,c),c+=d.length;return b}var cp={validate:a=>{if("JXL "!==bu(a,4,8))return!1;let b=bI(a,"ftyp",0);return!!b&&"jxl "===bu(a,b.offset+8,b.offset+12)},calculate(a){let b=cm(a);if(b)return cl.calculate(b);throw Error("No codestream found in JXL container")}},cq={validate:a=>["KTX 11","KTX 20"].includes(bu(a,1,7)),calculate:a=>{let b=49===a[5]?"ktx":"ktx2",c="ktx"===b?36:20;return{height:bD(a,c+4),width:bD(a,c),type:b}}},cr="PNG\r\n\x1a\n",cs="IHDR",ct="CgBI",cu={validate(a){if(cr===bu(a,1,8)){let b=bu(a,12,16);if(b===ct&&(b=bu(a,28,32)),b!==cs)throw TypeError("Invalid PNG");return!0}return!1},calculate:a=>bu(a,12,16)===ct?{height:bC(a,36),width:bC(a,32)}:{height:bC(a,20),width:bC(a,16)}},cv={P1:"pbm/ascii",P2:"pgm/ascii",P3:"ppm/ascii",P4:"pbm",P5:"pgm",P6:"ppm",P7:"pam",PF:"pfm"},cw={default:a=>{let b=[];for(;a.length>0;){let c=a.shift();if("#"!==c[0]){b=c.split(" ");break}}if(2===b.length)return{height:Number.parseInt(b[1],10),width:Number.parseInt(b[0],10)};throw TypeError("Invalid PNM")},pam:a=>{let b={};for(;a.length>0;){let c=a.shift();if(c.length>16||c.charCodeAt(0)>128)continue;let[d,e]=c.split(" ");if(d&&e&&(b[d.toLowerCase()]=Number.parseInt(e,10)),b.height&&b.width)break}if(b.height&&b.width)return{height:b.height,width:b.width};throw TypeError("Invalid PAM")}},cx={validate:a=>bu(a,0,2)in cv,calculate(a){let b=cv[bu(a,0,2)],c=bu(a,3).split(/[\r\n]+/);return(cw[b]||cw.default)(c)}},cy={validate:a=>"8BPS"===bu(a,0,4),calculate:a=>({height:bC(a,14),width:bC(a,18)})},cz=/<svg\s([^>"']|"[^"]*"|'[^']*')*>/,cA={height:/\sheight=(['"])([^%]+?)\1/,root:cz,viewbox:/\sviewBox=(['"])(.+?)\1/i,width:/\swidth=(['"])([^%]+?)\1/},cB={in:96,cm:37.79527559055118,em:16,ex:8,m:3779.5275590551178,mm:3.7795275590551176,pc:96/72/12,pt:96/72,px:1},cC=RegExp(`^([0-9.]+(?:e\\d+)?)(${Object.keys(cB).join("|")})?$`);function cD(a){let b=cC.exec(a);if(b)return Math.round(Number(b[1])*(cB[b[2]]||1))}function cE(a){let b=a.split(" ");return{height:cD(b[3]),width:cD(b[2])}}function cF(a){let b=a.match(cA.width),c=a.match(cA.height),d=a.match(cA.viewbox);return{height:c&&cD(c[2]),viewbox:d&&cE(d[2]),width:b&&cD(b[2])}}function cG(a){return{height:a.height,width:a.width}}function cH(a,b){let c=b.width/b.height;return a.width?{height:Math.floor(a.width/c),width:a.width}:a.height?{height:a.height,width:Math.floor(a.height*c)}:{height:b.height,width:b.width}}var cI={validate:a=>cz.test(bu(a,0,1e3)),calculate(a){let b=bu(a).match(cA.root);if(b){let a=cF(b[0]);if(a.width&&a.height)return cG(a);if(a.viewbox)return cH(a,a.viewbox)}throw TypeError("Invalid SVG")}},cJ={validate:a=>0===bz(a,0)&&0===bz(a,4),calculate:a=>({height:bz(a,14),width:bz(a,12)})},cK={TAG:{WIDTH:256,HEIGHT:257,COMPRESSION:259},TYPE:{SHORT:3,LONG:4,LONG8:16},ENTRY_SIZE:{STANDARD:12,BIG:20},COUNT_SIZE:{STANDARD:2,BIG:8}};function cL(a,{isBigEndian:b,isBigTiff:c}){let d=c?Number(bE(a,8,b)):bG(a,32,4,b),e=c?cK.COUNT_SIZE.BIG:cK.COUNT_SIZE.STANDARD;return a.slice(d+e)}function cM(a,b,c,d){switch(b){case cK.TYPE.SHORT:return bG(a,16,c,d);case cK.TYPE.LONG:return bG(a,32,c,d);case cK.TYPE.LONG8:{let b=Number(bE(a,c,d));if(b>Number.MAX_SAFE_INTEGER)throw TypeError("Value too large");return b}default:return 0}}function cN(a,b){let c=b?cK.ENTRY_SIZE.BIG:cK.ENTRY_SIZE.STANDARD;if(a.length>c)return a.slice(c)}function cO(a,{isBigEndian:b,isBigTiff:c}){let d={},e=a;for(;e?.length;){let a=bG(e,16,0,b),f=bG(e,16,2,b),g=c?Number(bE(e,4,b)):bG(e,32,4,b);if(0===a)break;if(1===g&&(f===cK.TYPE.SHORT||f===cK.TYPE.LONG||c&&f===cK.TYPE.LONG8)){let g=c?12:8;d[a]=cM(e,f,g,b)}e=cN(e,c)}return d}function cP(a){let b=bu(a,0,2),c=bG(a,16,2,"MM"===b);return{isBigEndian:"MM"===b,isBigTiff:43===c}}function cQ(a,b){let c=bG(a,16,4,b),d=bG(a,16,6,b);if(8!==c||0!==d)throw TypeError("Invalid BigTIFF header")}var cR=new Set(["49492a00","4d4d002a","49492b00","4d4d002b"]);function cS(a){return{height:1+bA(a,7),width:1+bA(a,4)}}function cT(a){return{height:1+((15&a[4])<<10|a[3]<<2|(192&a[2])>>6),width:1+((63&a[2])<<8|a[1])}}function cU(a){return{height:16383&bx(a,8),width:16383&bx(a,6)}}var cV=new Map([["bmp",bJ],["cur",bR],["dds",bS],["gif",bU],["heif",bW],["icns",b1],["ico",bP],["j2c",b2],["jp2",b3],["jpg",ch],["jxl",cp],["jxl-stream",cl],["ktx",cq],["png",cu],["pnm",cx],["psd",cy],["svg",cI],["tga",cJ],["tiff",{validate:a=>{let b=bv(a,0,4);return cR.has(b)},calculate(a){let b=cP(a);b.isBigTiff&&cQ(a,b.isBigEndian);let c=cO(cL(a,b),b),d={height:c[cK.TAG.HEIGHT],width:c[cK.TAG.WIDTH],type:b.isBigTiff?"bigtiff":"tiff"};if(c[cK.TAG.COMPRESSION]&&(d.compression=c[cK.TAG.COMPRESSION]),!d.width||!d.height)throw TypeError("Invalid Tiff. Missing tags");return d}}],["webp",{validate(a){let b="RIFF"===bu(a,0,4),c="WEBP"===bu(a,8,12),d="VP8"===bu(a,12,15);return b&&c&&d},calculate(a){let b=bu(a,12,16),c=a.slice(20,30);if("VP8X"===b){let a=c[0],b=(192&a)==0,d=(1&a)==0;if(b&&d)return cS(c);throw TypeError("Invalid WebP")}if("VP8 "===b&&47!==c[0])return cU(c);let d=bv(c,3,6);if("VP8L"===b&&"9d012a"!==d)return cT(c);throw TypeError("Invalid WebP")}}]]),cW=Array.from(cV.keys()),cX=new Map([[0,"heif"],[56,"psd"],[66,"bmp"],[68,"dds"],[71,"gif"],[73,"tiff"],[77,"tiff"],[82,"webp"],[105,"icns"],[137,"png"],[255,"jpg"]]);function cY(a){let b=a[0],c=cX.get(b);return c&&cV.get(c).validate(a)?c:cW.find(b=>cV.get(b).validate(a))}var cZ={disabledTypes:[]};function c$(a){let b=cY(a);if(void 0!==b){if(cZ.disabledTypes.indexOf(b)>-1)throw TypeError(`disabled file type: ${b}`);let c=cV.get(b).calculate(a);if(void 0!==c){if(c.type=c.type??b,c.images&&c.images.length>1){let a=c.images.reduce((a,b)=>b.width*b.height>a.width*a.height?b:a,c.images[0]);c.width=a.width,c.height=a.height}return c}}throw TypeError(`unsupported file type: ${b}`)}var c_=524288,c0=[],c1=100,c2=async()=>{let a=c0.splice(0,c1).map(async({filePath:a,resolve:b,reject:c})=>{let d;try{d=await br.promises.open(bs.resolve(a),"r")}catch(a){return c(a)}try{let{size:a}=await d.stat();if(a<=0)throw Error("Empty file");let c=Math.min(a,c_),e=new Uint8Array(c);await d.read(e,0,c,0),b(c$(e))}catch(a){c(a)}finally{await d.close()}});await Promise.allSettled(a),c0.length&&setTimeout(c2,100)},c3=async a=>new Promise((b,c)=>{c0.push({filePath:a,resolve:b,reject:c}),c2()}),c4=c(48161),c5=c(29006);async function c6(a,b){try{return await b(a)}finally{await e.rm(a,{force:!0,maxRetries:2,recursive:!0})}}let c7=async(a,b={})=>c6(await c8(b),a);async function c8(a){if(a.name){if(void 0!==a.extension&&null!==a.extension)throw Error("The `name` and `extension` options are mutually exclusive");return bs.join(await c9(),a.name)}return await da()+(void 0===a.extension||null===a.extension?"":"."+a.extension.replace(/^\./,""))}async function c9({prefix:a=""}={}){let b=await da(a);return await e.mkdir(b),b}async function da(a=""){let b=await e.realpath(c4.tmpdir());return bs.join(b,a+(0,c5.A)())}async function db(a){return a?.tempFilePath?c3(a.tempFilePath):a?.mimetype==="image/tiff"?await c7(async b=>(await e.writeFile(b,a.data),c3(b)),{extension:"tiff"}):bq(a.data)}let dc=async({collectionSlug:a,filename:b,prefix:c,req:d})=>{let e={filename:{equals:b}};return c&&(e.prefix={equals:c}),!!await d.payload.db.findOne({collection:a,req:d,where:e})};var dd=c(44905);let de=a=>{let b=a.split(".").pop(),c=f(a.substring(0,a.lastIndexOf("."))||a),d=c,e=/(.*)-(\d+)$/,g=c.match(e);if(null===g)d+="-1";else{let a=g[1],b=Number(g[2])+1;d=`${a}-${b}`}return`${d}.${b}`};async function df({collectionSlug:a,desiredFilename:b,prefix:c,req:d,staticPath:e}){let f=b;for(;await dc({collectionSlug:a,filename:f,path:e,prefix:c,req:d})||await (0,dd.h)(`${e}/${f}`);)f=de(f);return f}var dg=c(20876);let dh=a=>{let b=a.split(".").pop();return{name:f(a.substring(0,a.lastIndexOf("."))||a),ext:b}},di=({extension:a,height:b,outputImageName:c,width:d})=>`${c}-${d}x${b}.${a}`,dj=({name:a,filename:b=null,filesize:c=null,height:d=null,mimeType:e=null,sizesToSave:f=[],width:g=null})=>({sizeData:{[a]:{filename:b,filesize:c,height:d,mimeType:e,width:g}},sizesToSave:f}),dk=({dimensions:a,hasFocalPoint:b,imageResizeConfig:c})=>{let{fit:d,withoutEnlargement:e,withoutReduction:f}=c,g=c.width,h=c.height;if(h&&g){let b=a.width<g&&a.height<h;if(void 0===e&&b)return"omit"}if(void 0===e&&(!g||!h)&&(g&&a.width<g||h&&a.height<h))return"omit";let i=a.width<g||a.height<h;if("contain"===d||"inside"===d||!(0,dg.E)(h)&&!(0,dg.E)(g))return"resize";let j=g/h;return a.width/a.height===j||e&&i||f&&!i?"resize":b?"resizeWithFocalPoint":"resize"},dl=a=>a.withoutReduction?{...a,fit:a?.fit||"contain",position:a?.position||"left top"}:a;function dm(a){return a?.pages?a.height/a.pages:a.height}async function dn({config:a,dimensions:b,file:c,mimeType:f,req:g,savedFilename:h,sharp:i,staticPath:j,uploadEdits:k,withMetadata:l}){let{focalPoint:m=!0,imageSizes:o}=a.upload,p=k?.focalPoint?{x:(0,dg.E)(k.focalPoint.x)?Math.round(k.focalPoint.x):50,y:(0,dg.E)(k.focalPoint.y)?Math.round(k.focalPoint.y):50}:void 0,q={...m&&p&&{focalPoint:p},sizeData:{},sizesToSave:[]};if(!o||!i)return q;let r=["image/avif","image/gif","image/webp"].includes(c.mimetype),s={};r&&(s.animated=!0);let t=i(c.tempFilePath||c.data,s).rotate(),u=await t.metadata(),v={...b};[5,6,7,8].includes(u.orientation)&&(v={...b,height:b.width,width:b.height});let w={height:dm(u),width:u.width};return(await Promise.all(o.map(async a=>{let c=dk({dimensions:b,hasFocalPoint:!!p,imageResizeConfig:a=dl(a)});if("omit"===c)return dj({name:a.name});let i=t.clone(),k=i;if("resizeWithFocalPoint"===c){let{height:b,width:c}=a,d=v.width/v.height;b&&!c&&(c=Math.round(b*d)),c&&!b&&(b=Math.round(c/d)),b||(b=w.height),c||(c=w.width);let e=c/b<d;k=i.resize({fastShrinkOnLoad:!1,height:e?b:void 0,width:e?void 0:c});let f=await x({req:g,sharpFile:k,withMetadata:l}),{info:h}=await f.toBuffer({resolveWithObject:!0});w.height=dm({...u,height:h.height}),w.width=h.width;let j=c/2,m=w.width*(p.x/100),o=m+j,q=m-j;o>w.width&&(q=w.width-c),q<0&&(q=0);let r=b/2,s=w.height*(p.y/100),t=s+r,y=s-r;t>w.height&&(y=w.height-b),y<0&&(y=0),k=k.extract({height:b,left:Math.floor(q),top:Math.floor(y),width:c})}else k=i.resize(a);a.formatOptions&&(k=k.toFormat(a.formatOptions.format,a.formatOptions.options)),a.trimOptions&&(k=k.trim(a.trimOptions));let m=await x({req:g,sharpFile:k,withMetadata:l}),{data:o,info:q}=await m.toBuffer({resolveWithObject:!0}),s=dh(h);g.payloadUploadSizes&&(g.payloadUploadSizes[a.name]=o);let y=await (0,d.BI)(o),z=a.generateImageName?a.generateImageName({extension:y?.ext||s.ext,height:dm({...u,height:q.height}),originalName:s.name,sizeName:a.name,width:q.width}):di({extension:y?.ext||s.ext,height:dm({...u,height:q.height}),outputImageName:s.name,width:q.width}),A=`${j}/${z}`;if(await (0,dd.h)(A))try{await e.unlink(A)}catch{}let{height:B,size:C,width:D}=q;return dj({name:a.name,filename:z,filesize:C,height:r&&u.pages?B/u.pages:B,mimeType:y?.mime||f,sizesToSave:[{buffer:o,path:A}],width:D})}))).reduce((a,b)=>(Object.assign(a.sizeData,b.sizeData),a.sizesToSave.push(...b.sizesToSave),a),{...q})}var dp=c(70066);let dq=(a,b)=>{if(!b)return!1;if(a.crop||a.heightInPixels||a.widthInPixels)return!0;if(a.focalPoint){let c=a.focalPoint.x,d=a.focalPoint.y,e="focalX"in b&&b.focalX,f="focalY"in b&&b.focalY;return c!==e||d!==f}return!1},dr=async({collection:{config:a},data:b,isDuplicating:c,operation:h,originalDoc:i,overwriteExistingFiles:k,req:p,throwOnMissingFile:q})=>{if(!a.upload)return{data:b,files:[]};let{sharp:r}=p.payload.config,s=p.file,t=ds({data:b,isDuplicating:c,operation:h,originalDoc:i,req:p}),{constructorOptions:u,disableLocalStorage:v,focalPoint:y=!0,formatOptions:A,imageSizes:B,resizeOptions:C,staticDir:D,trimOptions:E,withMetadata:F}=a.upload,G=D,H=c?i:b;if(!s&&(c||dq(t,H))){let{filename:b,url:c}=H;if(b&&(b.includes("../")||b.includes("..\\")))throw new g.c(p.t);try{if(c&&c.startsWith("/")&&!v){let a=`${G}/${b}`;s=await (0,K.d)(a),k=!0}else b&&c&&(s=await J({data:H,req:p,uploadConfig:a.upload}),k=!0)}catch(a){throw new j(p.t,a instanceof Error?a.message:void 0)}}if(c&&(k=!1),!s){if(q)throw new l(p.t);return{data:b,files:[]}}await w({collection:a,file:s,req:p}),v||await e.mkdir(G,{recursive:!0});let I=b,L=[],M={},N=["image/avif","image/gif","image/webp"].includes(s.mimetype),O="object"==typeof t&&"crop"in t?t.crop:void 0;try{let c,g,h,i,j,l,m=o(s.mimetype),q=m&&!!(C||A||E||u||s.tempFilePath),v={...u};if(N&&(v.animated=!0),r&&(N||q)&&(g=s.tempFilePath?r(s.tempFilePath,v).rotate():r(s.data,v).rotate(),q&&(C&&(g=g.resize(C)),A&&(g=g.toFormat(A.format,A.options)),E&&(g=g.trim(E)))),(m||(0,dp.w)(s.mimetype))&&(M.width=(h=await db(s)).width,M.height=h.height),g){let a=await g.metadata();g=await x({req:p,sharpFile:g,withMetadata:F}),i=await g.toBuffer({resolveWithObject:!0}),({ext:j,mime:l}=await (0,d.BI)(i.data)),M.width=i.info.width,M.height=i.info.height,M.filesize=i.info.size,a.pages&&(M.height=i.info.height/a.pages,M.filesize=i.data.length)}else l=s.mimetype,M.filesize=s.size,j=s.name.includes(".")?s.name.split(".").pop()?.split("?")[0]:"";"application/xml"===l&&"svg"===j&&(l="image/svg+xml"),M.mimeType=l;let w=f(s.name.substring(0,s.name.lastIndexOf("."))||s.name);if(c=`${w}${j?`.${j}`:""}`,!k){let d=b?.prefix;c=await df({collectionSlug:a.slug,desiredFilename:c,prefix:d,req:p,staticPath:G})}M.filename=c;let D=s;if(O&&r){let{data:a,info:b}=await z({cropData:O,dimensions:h,file:s,heightInPixels:t.heightInPixels,req:p,sharp:r,widthInPixels:t.widthInPixels,withMetadata:F});if(C&&!C.withoutEnlargement){let b=await r(a).resize({fit:C?.fit||"cover",height:C?.height,position:C?.position||"center",width:C?.width}).toBuffer({resolveWithObject:!0});if(L.push({buffer:b.data,path:`${G}/${c}`}),D={...D,data:b.data,size:b.info.size},M.width=b.info.width,M.height=b.info.height,N){let a=await g.metadata();M.height=a.pages?b.info.height/a.pages:b.info.height}M.filesize=b.info.size}else{if(L.push({buffer:a,path:`${G}/${c}`}),D={...s,data:a,size:b.size},M.width=b.width,M.height=b.height,N){let a=await g.metadata();M.height=a.pages?b.height/a.pages:b.height}M.filesize=b.size}s.tempFilePath?await e.writeFile(s.tempFilePath,a):p.file=D}else L.push({buffer:i?.data||s.data,path:`${G}/${c}`}),(i?.data||s.data.length>0)&&(s.tempFilePath?await e.writeFile(s.tempFilePath,i?.data||s.data):p.file={...s,data:i?.data||s.data,size:i?.info.size});if(m&&(Array.isArray(B)||!1!==y)){p.payloadUploadSizes={};let{focalPoint:b,sizeData:d,sizesToSave:e}=await dn({config:a,dimensions:O?{...h,height:M.height,width:M.width}:h,file:D,mimeType:M.mimeType,req:p,savedFilename:c||s.name,sharp:r,staticPath:G,uploadEdits:t,withMetadata:F});M.sizes=d,M.focalX=b?.x,M.focalY=b?.y,L.push(...e)}}catch(a){throw p.payload.logger.error(a),new m.e(p.t)}return{data:I={...I,...M},files:L}};function ds(a){let{data:b,isDuplicating:c,operation:d,originalDoc:e,req:f}=a,g=f.query?.uploadEdits&&"object"==typeof f.query.uploadEdits?f.query.uploadEdits:{};if(g.focalPoint)return g;let h=b,i=e;if(i&&"focalX"in i&&"focalY"in i){if(h.focalX===i.focalX&&h.focalY===i.focalY)return;c&&(g.focalPoint={x:h?.focalX||i.focalX,y:h?.focalY||i.focalX})}return h?.focalX&&h?.focalY?g.focalPoint={x:h.focalX,y:h.focalY}:"create"===d&&(g.focalPoint={x:50,y:50}),g}},12814:(a,b,c)=>{"use strict";let d=c(27910).Transform;function e(a){return"string"==typeof a&&(a=Buffer.from(a,"utf-8")),a.toString("base64")}function f(a,b){if(a=(a||"").toString(),b=b||76,a.length<=b)return a;let c=[],d=0,e=1024*b;for(;d<a.length;){let f=a.substr(d,e).replace(RegExp(".{"+b+"}","g"),"$&\r\n");c.push(f),d+=e}return c.join("")}class g extends d{constructor(a){super(),this.options=a||{},!1!==this.options.lineLength&&(this.options.lineLength=this.options.lineLength||76),this._curLine="",this._remainingBytes=!1,this.inputBytes=0,this.outputBytes=0}_transform(a,b,c){if("buffer"!==b&&(a=Buffer.from(a,b)),!a||!a.length)return setImmediate(c);this.inputBytes+=a.length,this._remainingBytes&&this._remainingBytes.length&&(a=Buffer.concat([this._remainingBytes,a],this._remainingBytes.length+a.length),this._remainingBytes=!1),a.length%3?(this._remainingBytes=a.slice(a.length-a.length%3),a=a.slice(0,a.length-a.length%3)):this._remainingBytes=!1;let d=this._curLine+e(a);if(this.options.lineLength){let a=(d=f(d,this.options.lineLength)).lastIndexOf("\n");a<0?(this._curLine=d,d=""):(this._curLine=d.substring(a+1),(d=d.substring(0,a+1))&&!d.endsWith("\r\n")&&(d+="\r\n"))}else this._curLine="";d&&(this.outputBytes+=d.length,this.push(Buffer.from(d,"ascii"))),setImmediate(c)}_flush(a){this._remainingBytes&&this._remainingBytes.length&&(this._curLine+=e(this._remainingBytes)),this._curLine&&(this.outputBytes+=this._curLine.length,this.push(Buffer.from(this._curLine,"ascii")),this._curLine=""),a()}}a.exports={encode:e,wrap:f,Encoder:g}},12985:(a,b,c)=>{"use strict";let d=c(34589),{Readable:e}=c(57075),{RequestAbortedError:f,NotSupportedError:g,InvalidArgumentError:h,AbortError:i}=c(64737),j=c(81350),{ReadableStreamFrom:k}=c(81350),l=Symbol("kConsume"),m=Symbol("kReading"),o=Symbol("kBody"),p=Symbol("kAbort"),q=Symbol("kContentType"),r=Symbol("kContentLength"),s=Symbol("kUsed"),t=Symbol("kBytesRead"),u=()=>{};class v extends e{constructor({resume:a,abort:b,contentType:c="",contentLength:d,highWaterMark:e=65536}){super({autoDestroy:!0,read:a,highWaterMark:e}),this._readableState.dataEmitted=!1,this[p]=b,this[l]=null,this[t]=0,this[o]=null,this[s]=!1,this[q]=c,this[r]=Number.isFinite(d)?d:null,this[m]=!1}_destroy(a,b){a||this._readableState.endEmitted||(a=new f),a&&this[p](),this[s]?b(a):setImmediate(()=>{b(a)})}on(a,b){return("data"===a||"readable"===a)&&(this[m]=!0,this[s]=!0),super.on(a,b)}addListener(a,b){return this.on(a,b)}off(a,b){let c=super.off(a,b);return("data"===a||"readable"===a)&&(this[m]=this.listenerCount("data")>0||this.listenerCount("readable")>0),c}removeListener(a,b){return this.off(a,b)}push(a){return(this[t]+=a?a.length:0,this[l]&&null!==a)?(D(this[l],a),!this[m]||super.push(a)):super.push(a)}text(){return y(this,"text")}json(){return y(this,"json")}blob(){return y(this,"blob")}bytes(){return y(this,"bytes")}arrayBuffer(){return y(this,"arrayBuffer")}async formData(){throw new g}get bodyUsed(){return j.isDisturbed(this)}get body(){return!this[o]&&(this[o]=k(this),this[l]&&(this[o].getReader(),d(this[o].locked))),this[o]}async dump(a){let b=a?.signal;if(null!=b&&("object"!=typeof b||!("aborted"in b)))throw new h("signal must be an AbortSignal");let c=a?.limit&&Number.isFinite(a.limit)?a.limit:131072;return(b?.throwIfAborted(),this._readableState.closeEmitted)?null:await new Promise((a,d)=>{if((this[r]&&this[r]>c||this[t]>c)&&this.destroy(new i),b){let c=()=>{this.destroy(b.reason??new i)};b.addEventListener("abort",c),this.on("close",function(){b.removeEventListener("abort",c),b.aborted?d(b.reason??new i):a(null)})}else this.on("close",a);this.on("error",u).on("data",()=>{this[t]>c&&this.destroy()}).resume()})}setEncoding(a){return Buffer.isEncoding(a)&&(this._readableState.encoding=a),this}}function w(a){return a[o]?.locked===!0||null!==a[l]}function x(a){return j.isDisturbed(a)||w(a)}function y(a,b){return d(!a[l]),new Promise((c,d)=>{if(x(a)){let b=a._readableState;b.destroyed&&!1===b.closeEmitted?a.on("error",a=>{d(a)}).on("close",()=>{d(TypeError("unusable"))}):d(b.errored??TypeError("unusable"))}else queueMicrotask(()=>{a[l]={type:b,stream:a,resolve:c,reject:d,length:0,body:[]},a.on("error",function(a){E(this[l],a)}).on("close",function(){null!==this[l].body&&E(this[l],new f)}),z(a[l])})})}function z(a){if(null===a.body)return;let{_readableState:b}=a.stream;if(b.bufferIndex){let c=b.bufferIndex,d=b.buffer.length;for(let e=c;e<d;e++)D(a,b.buffer[e])}else for(let c of b.buffer)D(a,c);for(b.endEmitted?C(this[l],this._readableState.encoding):a.stream.on("end",function(){C(this[l],this._readableState.encoding)}),a.stream.resume();null!=a.stream.read(););}function A(a,b,c){if(0===a.length||0===b)return"";let d=1===a.length?a[0]:Buffer.concat(a,b),e=d.length,f=3*(e>2&&239===d[0]&&187===d[1]&&191===d[2]);return c&&"utf8"!==c&&"utf-8"!==c?d.subarray(f,e).toString(c):d.utf8Slice(f,e)}function B(a,b){if(0===a.length||0===b)return new Uint8Array(0);if(1===a.length)return new Uint8Array(a[0]);let c=new Uint8Array(Buffer.allocUnsafeSlow(b).buffer),d=0;for(let b=0;b<a.length;++b){let e=a[b];c.set(e,d),d+=e.length}return c}function C(a,b){let{type:c,body:d,resolve:e,stream:f,length:g}=a;try{"text"===c?e(A(d,g,b)):"json"===c?e(JSON.parse(A(d,g,b))):"arrayBuffer"===c?e(B(d,g).buffer):"blob"===c?e(new Blob(d,{type:f[q]})):"bytes"===c&&e(B(d,g)),E(a)}catch(a){f.destroy(a)}}function D(a,b){a.length+=b.length,a.body.push(b)}function E(a,b){null!==a.body&&(b?a.reject(b):a.resolve(),a.type=null,a.stream=null,a.resolve=null,a.reject=null,a.length=0,a.body=null)}a.exports={Readable:v,chunksDecode:A}},13034:a=>{a.exports=b;function b(a,c){if(a&&c)return b(a)(c);if("function"!=typeof a)throw TypeError("need wrapper function");return Object.keys(a).forEach(function(b){d[b]=a[b]}),d;function d(){for(var b=Array(arguments.length),c=0;c<b.length;c++)b[c]=arguments[c];var d=a.apply(this,b),e=b[b.length-1];return"function"==typeof d&&d!==e&&Object.keys(e).forEach(function(a){d[a]=e[a]}),d}}},13090:(a,b,c)=>{"use strict";let d,e,f=c(34589),{pipeline:g}=c(57075),h=c(81350),{RequestContentLengthMismatchError:i,RequestAbortedError:j,SocketError:k,InformationalError:l}=c(64737),{kUrl:m,kReset:o,kClient:p,kRunning:q,kPending:r,kQueue:s,kPendingIdx:t,kRunningIdx:u,kError:v,kSocket:w,kStrictContentLength:x,kOnError:y,kMaxConcurrentStreams:z,kHTTP2Session:A,kResume:B,kSize:C,kHTTPContext:D,kClosed:E,kBodyTimeout:F}=c(10257),{channels:G}=c(84372),H=Symbol("open streams");try{e=c(32467)}catch{e={constants:{}}}let{constants:{HTTP2_HEADER_AUTHORITY:I,HTTP2_HEADER_METHOD:J,HTTP2_HEADER_PATH:K,HTTP2_HEADER_SCHEME:L,HTTP2_HEADER_CONTENT_LENGTH:M,HTTP2_HEADER_EXPECT:N,HTTP2_HEADER_STATUS:O}}=e;function P(a){let b=[];for(let[c,d]of Object.entries(a))if(Array.isArray(d))for(let a of d)b.push(Buffer.from(c),Buffer.from(a));else b.push(Buffer.from(c),Buffer.from(d));return b}function Q(a){let b=a[w];b?.destroyed===!1&&(0===a[C]||0===a[z]?(b.unref(),a[A].unref()):(b.ref(),a[A].ref()))}function R(a){f("ERR_TLS_CERT_ALTNAME_INVALID"!==a.code),this[w][v]=a,this[p][y](a)}function S(a,b,c){if(0===c){let c=new l(`HTTP/2: "frameError" received - type ${a}, code ${b}`);this[w][v]=c,this[p][y](c)}}function T(){let a=new k("other side closed",h.getSocketInfo(this[w]));this.destroy(a),h.destroy(this[w],a)}function U(a){let b=this[v]||new k(`HTTP/2: "GOAWAY" frame received with code ${a}`,h.getSocketInfo(this[w])),c=this[p];if(c[w]=null,c[D]=null,this.close(),this[A]=null,h.destroy(this[w],b),c[u]<c[s].length){let a=c[s][c[u]];c[s][c[u]++]=null,h.errorRequest(c,a,b),c[t]=c[u]}f(0===c[q]),c.emit("disconnect",c[m],[c],b),c.emit("connectionError",c[m],[c],b),c[B]()}function V(){let{[p]:a}=this,{[w]:b}=a,c=this[w][v]||this[v]||new k("closed",h.getSocketInfo(b));if(a[w]=null,a[D]=null,a.destroyed){f(0===a[r]);let b=a[s].splice(a[u]);for(let d=0;d<b.length;d++){let e=b[d];h.errorRequest(a,e,c)}}}function W(){let a=this[v]||new k("closed",h.getSocketInfo(this)),b=this[A][p];b[w]=null,b[D]=null,null!==this[A]&&this[A].destroy(a),b[t]=b[u],f(0===b[q]),b.emit("disconnect",b[m],[b],a),b[B]()}function X(a){f("ERR_TLS_CERT_ALTNAME_INVALID"!==a.code),this[v]=a,this[p][y](a)}function Y(){h.destroy(this,new k("other side closed",h.getSocketInfo(this)))}function Z(){this[E]=!0}function $(a){return"GET"!==a&&"HEAD"!==a&&"OPTIONS"!==a&&"TRACE"!==a&&"CONNECT"!==a}function _(a,b){let e=b.bodyTimeout??a[F],g=a[A],{method:k,path:o,host:p,upgrade:q,expectContinue:r,signal:v,headers:z}=b,{body:C}=b;if(q)return h.errorRequest(a,b,Error("Upgrade not supported for H2")),!1;let D={};for(let a=0;a<z.length;a+=2){let b=z[a+0],c=z[a+1];if(Array.isArray(c))for(let a=0;a<c.length;a++)D[b]?D[b]+=`, ${c[a]}`:D[b]=c[a];else D[b]?D[b]+=`, ${c}`:D[b]=c}let E=null,{hostname:Q,port:R}=a[m];D[I]=p||`${Q}${R?`:${R}`:""}`,D[J]=k;let S=c=>{b.aborted||b.completed||(c=c||new j,h.errorRequest(a,b,c),null!=E&&(E.removeAllListeners("data"),E.close(),a[y](c),a[B]()),h.destroy(C,c))};try{b.onConnect(S)}catch(c){h.errorRequest(a,b,c)}if(b.aborted)return!1;if("CONNECT"===k)return g.ref(),(E=g.request(D,{endStream:!1,signal:v})).pending?E.once("ready",()=>{b.onUpgrade(null,null,E),++g[H],a[s][a[u]++]=null}):(b.onUpgrade(null,null,E),++g[H],a[s][a[u]++]=null),E.once("close",()=>{g[H]-=1,0===g[H]&&g.unref()}),E.setTimeout(e),!0;D[K]=o,D[L]="https";let T="PUT"===k||"POST"===k||"PATCH"===k;C&&"function"==typeof C.read&&C.read(0);let U=h.bodyLength(C);if(h.isFormDataLike(C)){let[a,b]=(d??=c(33518).extractBody)(C);D["content-type"]=b,C=a.stream,U=a.length}if(null==U&&(U=b.contentLength),0!==U&&T||(U=null),$(k)&&U>0&&null!=b.contentLength&&b.contentLength!==U){if(a[x])return h.errorRequest(a,b,new i),!1;process.emitWarning(new i)}if(null!=U&&(f(C,"no body must not have content length"),D[M]=`${U}`),g.ref(),G.sendHeaders.hasSubscribers){let a="";for(let b in D)a+=`${b}: ${D[b]}\r
`;G.sendHeaders.publish({request:b,headers:a,socket:g[w]})}let V="GET"===k||"HEAD"===k||null===C;return r?(D[N]="100-continue",(E=g.request(D,{endStream:V,signal:v})).once("continue",W)):(E=g.request(D,{endStream:V,signal:v}),W()),++g[H],E.setTimeout(e),E.once("response",a=>{let{[O]:c,...d}=a;if(b.onResponseStarted(),b.aborted)return void E.removeAllListeners("data");!1===b.onHeaders(Number(c),P(d),E.resume.bind(E),"")&&E.pause()}),E.on("data",a=>{!1===b.onData(a)&&E.pause()}),E.once("end",c=>{E.removeAllListeners("data"),E.state?.state==null||E.state.state<6?(b.aborted||b.completed||b.onComplete({}),a[s][a[u]++]=null):(--g[H],0===g[H]&&g.unref(),S(c??new l("HTTP/2: stream half-closed (remote)")),a[s][a[u]++]=null,a[t]=a[u]),a[B]()}),E.once("close",()=>{E.removeAllListeners("data"),g[H]-=1,0===g[H]&&g.unref()}),E.once("error",function(a){E.removeAllListeners("data"),S(a)}),E.once("frameError",(a,b)=>{E.removeAllListeners("data"),S(new l(`HTTP/2: "frameError" received - type ${a}, code ${b}`))}),E.on("aborted",()=>{E.removeAllListeners("data")}),E.on("timeout",()=>{let a=new l(`HTTP/2: "stream timeout after ${e}"`);E.removeAllListeners("data"),g[H]-=1,0===g[H]&&g.unref(),S(a)}),E.once("trailers",a=>{b.aborted||b.completed||b.onComplete(a)}),!0;function W(){C&&0!==U?h.isBuffer(C)?aa(S,E,C,a,b,a[w],U,T):h.isBlobLike(C)?"function"==typeof C.stream?ad(S,E,C.stream(),a,b,a[w],U,T):ac(S,E,C,a,b,a[w],U,T):h.isStream(C)?ab(S,a[w],T,E,C,a,b,U):h.isIterable(C)?ad(S,E,C,a,b,a[w],U,T):f(!1):aa(S,E,null,a,b,a[w],U,T)}}function aa(a,b,c,d,e,g,i,j){try{null!=c&&h.isBuffer(c)&&(f(i===c.byteLength,"buffer body must have content length"),b.cork(),b.write(c),b.uncork(),b.end(),e.onBodySent(c)),j||(g[o]=!0),e.onRequestSent(),d[B]()}catch(b){a(b)}}function ab(a,b,c,d,e,i,j,k){f(0!==k||0===i[q],"stream body cannot be pipelined");let l=g(e,d,d=>{d?(h.destroy(l,d),a(d)):(h.removeAllListeners(l),j.onRequestSent(),c||(b[o]=!0),i[B]())});function m(a){j.onBodySent(a)}h.addListener(l,"data",m)}async function ac(a,b,c,d,e,g,h,j){f(h===c.size,"blob body must have content length");try{if(null!=h&&h!==c.size)throw new i;let a=Buffer.from(await c.arrayBuffer());b.cork(),b.write(a),b.uncork(),b.end(),e.onBodySent(a),e.onRequestSent(),j||(g[o]=!0),d[B]()}catch(b){a(b)}}async function ad(a,b,c,d,e,g,h,i){f(0!==h||0===d[q],"iterator body cannot be pipelined");let j=null;function k(){if(j){let a=j;j=null,a()}}let l=()=>new Promise((a,b)=>{f(null===j),g[v]?b(g[v]):j=a});b.on("close",k).on("drain",k);try{for await(let a of c){if(g[v])throw g[v];let c=b.write(a);e.onBodySent(a),c||await l()}b.end(),e.onRequestSent(),i||(g[o]=!0),d[B]()}catch(b){a(b)}finally{b.off("close",k).off("drain",k)}}a.exports=async function(a,b){a[w]=b;let c=e.connect(a[m],{createConnection:()=>b,peerMaxConcurrentStreams:a[z],settings:{enablePush:!1}});return c[H]=0,c[p]=a,c[w]=b,c[A]=null,h.addListener(c,"error",R),h.addListener(c,"frameError",S),h.addListener(c,"end",T),h.addListener(c,"goaway",U),h.addListener(c,"close",V),c.unref(),a[A]=c,b[A]=c,h.addListener(b,"error",X),h.addListener(b,"end",Y),h.addListener(b,"close",W),b[E]=!1,b.on("close",Z),{version:"h2",defaultPipelining:1/0,write:b=>_(a,b),resume(){Q(a)},destroy(a,c){b[E]?queueMicrotask(c):b.destroy(a).on("close",c)},get destroyed(){return b.destroyed},busy:()=>!1}}},13157:(a,b,c)=>{"use strict";let d=c(94735),e=c(32488),f=c(40755),g=c(50147),h=c(24382),i=c(7579),j=c(28354),k=c(79551),l=c(24404),m=c(30596),o=c(91645),p=c(14985),q=c(55511);class r extends d{constructor(a,b,c){super(),this.options=b||{},this._defaults=c||{},this._defaultPlugins={compile:[(...a)=>this._convertDataImages(...a)],stream:[]},this._userPlugins={compile:[],stream:[]},this.meta=new Map,this.dkim=!!this.options.dkim&&new h(this.options.dkim),this.transporter=a,this.transporter.mailer=this,this.logger=e.getLogger(this.options,{component:this.options.component||"mail"}),this.logger.debug({tnx:"create"},"Creating transport: %s",this.getVersionString()),"function"==typeof this.transporter.on&&(this.transporter.on("log",a=>{this.logger.debug({tnx:"transport"},"%s: %s",a.type,a.message)}),this.transporter.on("error",a=>{this.logger.error({err:a,tnx:"transport"},"Transport Error: %s",a.message),this.emit("error",a)}),this.transporter.on("idle",(...a)=>{this.emit("idle",...a)}),this.transporter.on("clear",(...a)=>{this.emit("clear",...a)})),["close","isIdle","verify"].forEach(a=>{this[a]=(...b)=>"function"==typeof this.transporter[a]?("verify"===a&&"function"==typeof this.getSocket&&(this.transporter.getSocket=this.getSocket,this.getSocket=!1),this.transporter[a](...b)):(this.logger.warn({tnx:"transport",methodName:a},"Non existing method %s called for transport",a),!1)}),this.options.proxy&&"string"==typeof this.options.proxy&&this.setupProxy(this.options.proxy)}use(a,b){return a=(a||"").toString(),this._userPlugins.hasOwnProperty(a)?this._userPlugins[a].push(b):this._userPlugins[a]=[b],this}sendMail(a,b=null){let c;b||(c=new Promise((a,c)=>{b=e.callbackPromise(a,c)})),"function"==typeof this.getSocket&&(this.transporter.getSocket=this.getSocket,this.getSocket=!1);let d=new m(this,a);return this.logger.debug({tnx:"transport",name:this.transporter.name,version:this.transporter.version,action:"send"},"Sending mail using %s/%s",this.transporter.name,this.transporter.version),this._processPlugins("compile",d,a=>{if(a)return this.logger.error({err:a,tnx:"plugin",action:"compile"},"PluginCompile Error: %s",a.message),b(a);d.message=new g(d.data).compile(),d.setMailerHeader(),d.setPriorityHeaders(),d.setListHeaders(),this._processPlugins("stream",d,a=>{if(a)return this.logger.error({err:a,tnx:"plugin",action:"stream"},"PluginStream Error: %s",a.message),b(a);(d.data.dkim||this.dkim)&&d.message.processFunc(a=>{let b=d.data.dkim?new h(d.data.dkim):this.dkim;return this.logger.debug({tnx:"DKIM",messageId:d.message.messageId(),dkimDomains:b.keys.map(a=>a.keySelector+"."+a.domainName).join(", ")},"Signing outgoing message with %s keys",b.keys.length),b.sign(a,d.data._dkim)}),this.transporter.send(d,(...a)=>{a[0]&&this.logger.error({err:a[0],tnx:"transport",action:"send"},"Send Error: %s",a[0].message),b(...a)})})}),c}getVersionString(){return j.format("%s (%s; +%s; %s/%s)",l.name,l.version,l.homepage,this.transporter.name,this.transporter.version)}_processPlugins(a,b,c){if(a=(a||"").toString(),!this._userPlugins.hasOwnProperty(a))return c();let d=this._userPlugins[a]||[],e=this._defaultPlugins[a]||[];if(d.length&&this.logger.debug({tnx:"transaction",pluginCount:d.length,step:a},"Using %s plugins for %s",d.length,a),d.length+e.length===0)return c();let f=0,g="default",h=()=>{let a="default"===g?e:d;if(f>=a.length)if("default"!==g||!d.length)return c();else g="user",f=0,a=d;(0,a[f++])(b,a=>{if(a)return c(a);h()})};h()}setupProxy(a){let b=k.parse(a);this.getSocket=(a,c)=>{let d=b.protocol.replace(/:$/,"").toLowerCase();if(this.meta.has("proxy_handler_"+d))return this.meta.get("proxy_handler_"+d)(b,a,c);switch(d){case"http":case"https":i(b.href,a.port,a.host,(a,b)=>a?c(a):c(null,{connection:b}));return;case"socks":case"socks5":case"socks4":case"socks4a":{if(!this.meta.has("proxy_socks_module"))return c(Error("Socks module not loaded"));let d=d=>{let e=!!this.meta.get("proxy_socks_module").SocksClient,f=e?this.meta.get("proxy_socks_module").SocksClient:this.meta.get("proxy_socks_module"),g=Number(b.protocol.replace(/\D/g,""))||5,h={proxy:{ipaddress:d,port:Number(b.port),type:g},[e?"destination":"target"]:{host:a.host,port:a.port},command:"connect"};if(b.auth){let a=decodeURIComponent(b.auth.split(":").shift()),c=decodeURIComponent(b.auth.split(":").pop());e?(h.proxy.userId=a,h.proxy.password=c):4===g?h.userid=a:h.authentication={username:a,password:c}}f.createConnection(h,(a,b)=>a?c(a):c(null,{connection:b.socket||b}))};if(o.isIP(b.hostname))return d(b.hostname);return p.resolve(b.hostname,(a,b)=>{if(a)return c(a);d(Array.isArray(b)?b[0]:b)})}}c(Error("Unknown proxy configuration"))}}_convertDataImages(a,b){if(!this.options.attachDataUrls&&!a.data.attachDataUrls||!a.data.html)return b();a.resolveContent(a.data,"html",(c,d)=>{if(c)return b(c);let e=0;d=(d||"").toString().replace(/(<img\b[^<>]{0,1024} src\s{0,20}=[\s"']{0,20})(data:([^;]+);[^"'>\s]+)/gi,(b,c,d,g)=>{let h=q.randomBytes(10).toString("hex")+"@localhost";return a.data.attachments||(a.data.attachments=[]),Array.isArray(a.data.attachments)||(a.data.attachments=[].concat(a.data.attachments||[])),a.data.attachments.push({path:d,cid:h,filename:"image-"+ ++e+"."+f.detectExtension(g)}),c+"cid:"+h}),a.data.html=d,b()})}set(a,b){return this.meta.set(a,b)}get(a){return this.meta.get(a)}}a.exports=r},13163:(a,b,c)=>{"use strict";let{Writable:d}=c(57075),{EventEmitter:e}=c(78474),{assertCacheKey:f,assertCacheValue:g}=c(9365);class h extends e{#l=1/0;#x=1/0;#k=1/0;#y=0;#z=0;#A=new Map;#B=!1;constructor(a){if(super(),a){if("object"!=typeof a)throw TypeError("MemoryCacheStore options must be an object");if(void 0!==a.maxCount){if("number"!=typeof a.maxCount||!Number.isInteger(a.maxCount)||a.maxCount<0)throw TypeError("MemoryCacheStore options.maxCount must be a non-negative integer");this.#l=a.maxCount}if(void 0!==a.maxSize){if("number"!=typeof a.maxSize||!Number.isInteger(a.maxSize)||a.maxSize<0)throw TypeError("MemoryCacheStore options.maxSize must be a non-negative integer");this.#x=a.maxSize}if(void 0!==a.maxEntrySize){if("number"!=typeof a.maxEntrySize||!Number.isInteger(a.maxEntrySize)||a.maxEntrySize<0)throw TypeError("MemoryCacheStore options.maxEntrySize must be a non-negative integer");this.#k=a.maxEntrySize}}}get size(){return this.#y}isFull(){return this.#y>=this.#x||this.#z>=this.#l}get(a){f(a);let b=`${a.origin}:${a.path}`,c=Date.now(),d=this.#A.get(b),e=d?i(a,d,c):null;return null==e?void 0:{statusMessage:e.statusMessage,statusCode:e.statusCode,headers:e.headers,body:e.body,vary:e.vary?e.vary:void 0,etag:e.etag,cacheControlDirectives:e.cacheControlDirectives,cachedAt:e.cachedAt,staleAt:e.staleAt,deleteAt:e.deleteAt}}createWriteStream(a,b){f(a),g(b);let c=`${a.origin}:${a.path}`,e=this,h={...a,...b,body:[],size:0};return new d({write(a,b,c){"string"==typeof a&&(a=Buffer.from(a,b)),h.size+=a.byteLength,h.size>=e.#k?this.destroy():h.body.push(a),c(null)},final(b){let d=e.#A.get(c);d||(d=[],e.#A.set(c,d));let f=i(a,d,Date.now());if(f){let a=d.indexOf(f);d.splice(a,1,h),e.#y-=f.size}else d.push(h),e.#z+=1;if(e.#y+=h.size,e.#y>e.#x||e.#z>e.#l){for(let[a,b]of(e.#B||(e.emit("maxSizeExceeded",{size:e.#y,maxSize:e.#x,count:e.#z,maxCount:e.#l}),e.#B=!0),e.#A)){for(let a of b.splice(0,b.length/2))e.#y-=a.size,e.#z-=1;0===b.length&&e.#A.delete(a)}e.#y<e.#x&&e.#z<e.#l&&(e.#B=!1)}b(null)}})}delete(a){if("object"!=typeof a)throw TypeError(`expected key to be object, got ${typeof a}`);let b=`${a.origin}:${a.path}`;for(let a of this.#A.get(b)??[])this.#y-=a.size,this.#z-=1;this.#A.delete(b)}}function i(a,b,c){return b.find(b=>b.deleteAt>c&&b.method===a.method&&(null==b.vary||Object.keys(b.vary).every(c=>null===b.vary[c]?void 0===a.headers[c]:b.vary[c]===a.headers[c])))}a.exports=h},13184:(a,b,c)=>{"use strict";let{webidl:d}=c(81399),{URLSerializer:e}=c(62018),{environmentSettingsObject:f}=c(51074),{staticPropertyDescriptors:g,states:h,sentCloseFrameState:i,sendHints:j,opcodes:k}=c(90406),{isConnecting:l,isEstablished:m,isClosing:o,isValidSubprotocol:p,fireEvent:q,utf8Decode:r,toArrayBuffer:s,getURLRecord:t}=c(92803),{establishWebSocketConnection:u,closeWebSocketConnection:v,failWebsocketConnection:w}=c(44255),{ByteParser:x}=c(81422),{kEnumerableProperty:y}=c(81350),{getGlobalDispatcher:z}=c(22787),{types:A}=c(57975),{ErrorEvent:B,CloseEvent:C,createFastMessageEvent:D}=c(54514),{SendQueue:E}=c(9402),{channels:F}=c(84372);class G extends EventTarget{#C={open:null,error:null,close:null,message:null};#D=0;#E="";#F="";#G;#a={onConnectionEstablished:(a,b)=>this.#H(a,b),onFail:(a,b)=>this.#I(a,b),onMessage:(a,b)=>this.#J(a,b),onParserError:a=>w(this.#a,null,a.message),onParserDrain:()=>this.#K(),onSocketData:a=>{this.#L.write(a)||this.#a.socket.pause()},onSocketError:a=>{this.#a.readyState=h.CLOSING,F.socketError.hasSubscribers&&F.socketError.publish(a),this.#a.socket.destroy()},onSocketClose:()=>this.#M(),readyState:h.CONNECTING,socket:null,closeState:new Set,controller:null,wasEverConnected:!1};#N;#O;#L;constructor(a,b=[]){super(),d.util.markAsUncloneable(this);let c="WebSocket constructor";d.argumentLengthCheck(arguments,1,c);let e=d.converters["DOMString or sequence<DOMString> or WebSocketInit"](b,c,"options");a=d.converters.USVString(a),b=e.protocols;let g=t(a,f.settingsObject.baseUrl);if("string"==typeof b&&(b=[b]),b.length!==new Set(b.map(a=>a.toLowerCase())).size||b.length>0&&!b.every(a=>p(a)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");this.#N=new URL(g.href);let h=f.settingsObject;this.#a.controller=u(g,b,h,this.#a,e),this.#a.readyState=G.CONNECTING,this.#O="blob"}close(a,b){d.brandCheck(this,G);let c="WebSocket.close";void 0!==a&&(a=d.converters["unsigned short"](a,c,"code",{clamp:!0})),void 0!==b&&(b=d.converters.USVString(b)),a??=null,b??="",v(this.#a,a,b,!0)}send(a){d.brandCheck(this,G);let b="WebSocket.send";if(d.argumentLengthCheck(arguments,1,b),a=d.converters.WebSocketSendData(a,b,"data"),l(this.#a.readyState))throw new DOMException("Sent before connected.","InvalidStateError");if(!(!m(this.#a.readyState)||o(this.#a.readyState)))if("string"==typeof a){let b=Buffer.from(a);this.#D+=b.byteLength,this.#G.add(b,()=>{this.#D-=b.byteLength},j.text)}else A.isArrayBuffer(a)?(this.#D+=a.byteLength,this.#G.add(a,()=>{this.#D-=a.byteLength},j.arrayBuffer)):ArrayBuffer.isView(a)?(this.#D+=a.byteLength,this.#G.add(a,()=>{this.#D-=a.byteLength},j.typedArray)):d.is.Blob(a)&&(this.#D+=a.size,this.#G.add(a,()=>{this.#D-=a.size},j.blob))}get readyState(){return d.brandCheck(this,G),this.#a.readyState}get bufferedAmount(){return d.brandCheck(this,G),this.#D}get url(){return d.brandCheck(this,G),e(this.#N)}get extensions(){return d.brandCheck(this,G),this.#F}get protocol(){return d.brandCheck(this,G),this.#E}get onopen(){return d.brandCheck(this,G),this.#C.open}set onopen(a){d.brandCheck(this,G),this.#C.open&&this.removeEventListener("open",this.#C.open),"function"==typeof a?(this.#C.open=a,this.addEventListener("open",a)):this.#C.open=null}get onerror(){return d.brandCheck(this,G),this.#C.error}set onerror(a){d.brandCheck(this,G),this.#C.error&&this.removeEventListener("error",this.#C.error),"function"==typeof a?(this.#C.error=a,this.addEventListener("error",a)):this.#C.error=null}get onclose(){return d.brandCheck(this,G),this.#C.close}set onclose(a){d.brandCheck(this,G),this.#C.close&&this.removeEventListener("close",this.#C.close),"function"==typeof a?(this.#C.close=a,this.addEventListener("close",a)):this.#C.close=null}get onmessage(){return d.brandCheck(this,G),this.#C.message}set onmessage(a){d.brandCheck(this,G),this.#C.message&&this.removeEventListener("message",this.#C.message),"function"==typeof a?(this.#C.message=a,this.addEventListener("message",a)):this.#C.message=null}get binaryType(){return d.brandCheck(this,G),this.#O}set binaryType(a){d.brandCheck(this,G),"blob"!==a&&"arraybuffer"!==a?this.#O="blob":this.#O=a}#H(a,b){this.#a.socket=a.socket;let c=new x(this.#a,b);c.on("drain",()=>this.#a.onParserDrain()),c.on("error",a=>this.#a.onParserError(a)),this.#L=c,this.#G=new E(a.socket),this.#a.readyState=h.OPEN;let d=a.headersList.get("sec-websocket-extensions");null!==d&&(this.#F=d);let e=a.headersList.get("sec-websocket-protocol");null!==e&&(this.#E=e),q("open",this)}#I(a,b){b&&q("error",this,(a,b)=>new B(a,b),{error:Error(b),message:b}),this.#a.wasEverConnected||(this.#a.readyState=h.CLOSED,q("close",this,(a,b)=>new C(a,b),{wasClean:!1,code:a,reason:b}))}#J(a,b){let c;if(this.#a.readyState===h.OPEN){if(a===k.TEXT)try{c=r(b)}catch{w(this.#a,1007,"Received invalid UTF-8 in text frame.");return}else a===k.BINARY&&(c="blob"===this.#O?new Blob([b]):s(b));q("message",this,D,{origin:this.#N.origin,data:c})}}#K(){this.#a.socket.resume()}#M(){let a=this.#a.closeState.has(i.SENT)&&this.#a.closeState.has(i.RECEIVED),b=1005,c="",d=this.#L.closingInfo;d&&!d.error?(b=d.code??1005,c=d.reason):this.#a.closeState.has(i.RECEIVED)||(b=1006),this.#a.readyState=h.CLOSED,q("close",this,(a,b)=>new C(a,b),{wasClean:a,code:b,reason:c}),F.close.hasSubscribers&&F.close.publish({websocket:this,code:b,reason:c})}}G.CONNECTING=G.prototype.CONNECTING=h.CONNECTING,G.OPEN=G.prototype.OPEN=h.OPEN,G.CLOSING=G.prototype.CLOSING=h.CLOSING,G.CLOSED=G.prototype.CLOSED=h.CLOSED,Object.defineProperties(G.prototype,{CONNECTING:g,OPEN:g,CLOSING:g,CLOSED:g,url:y,readyState:y,bufferedAmount:y,onopen:y,onerror:y,onclose:y,close:y,onmessage:y,binaryType:y,send:y,extensions:y,protocol:y,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}}),Object.defineProperties(G,{CONNECTING:g,OPEN:g,CLOSING:g,CLOSED:g}),d.converters["sequence<DOMString>"]=d.sequenceConverter(d.converters.DOMString),d.converters["DOMString or sequence<DOMString>"]=function(a,b,c){return d.util.Type(a)===d.util.Types.OBJECT&&Symbol.iterator in a?d.converters["sequence<DOMString>"](a):d.converters.DOMString(a,b,c)},d.converters.WebSocketInit=d.dictionaryConverter([{key:"protocols",converter:d.converters["DOMString or sequence<DOMString>"],defaultValue:()=>[]},{key:"dispatcher",converter:d.converters.any,defaultValue:()=>z()},{key:"headers",converter:d.nullableConverter(d.converters.HeadersInit)}]),d.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(a){return d.util.Type(a)!==d.util.Types.OBJECT||Symbol.iterator in a?{protocols:d.converters["DOMString or sequence<DOMString>"](a)}:d.converters.WebSocketInit(a)},d.converters.WebSocketSendData=function(a){return d.util.Type(a)===d.util.Types.OBJECT&&(d.is.Blob(a)||ArrayBuffer.isView(a)||A.isArrayBuffer(a))?a:d.converters.USVString(a)},a.exports={WebSocket:G}},13246:(a,b,c)=>{"use strict";c.d(b,{f2:()=>l,pz:()=>k});var d=c(15796),e=c(22018),f=c(64746);let g=a=>f.c.isInstance(a)?a.headers?.date??a.headers?.Date:void 0,h=(a,b)=>Math.abs((0,e.C)(b).getTime()-a)>=3e5,i=(a,b)=>{let c=Date.parse(a);return h(c,b)?c-Date.now():b},j=(a,b)=>{if(!b)throw Error(`Property \`${a}\` is not resolved for AWS SDK SigV4Auth`);return b},k=async a=>{let b=j("context",a.context),c=j("config",a.config),d=b.endpointV2?.properties?.authSchemes?.[0],e=j("signer",c.signer),f=await e(d),g=a?.signingRegion;return{config:c,signer:f,signingRegion:g,signingRegionSet:a?.signingRegionSet,signingName:a?.signingName}};class l{async sign(a,b,c){if(!d.K.isInstance(a))throw Error("The request is not an instance of `HttpRequest` and cannot be signed");let f=await k(c),{config:g,signer:h}=f,{signingRegion:i,signingName:j}=f,l=c.context;if(l?.authSchemes?.length){let[a,b]=l.authSchemes;a?.name==="sigv4a"&&b?.name==="sigv4"&&(i=b?.signingRegion??i,j=b?.signingName??j)}return await h.sign(a,{signingDate:(0,e.C)(g.systemClockOffset),signingRegion:i,signingService:j})}errorHandler(a){return b=>{let c=b.ServerTime??g(b.$response);if(c){let d=j("config",a.config),e=d.systemClockOffset;d.systemClockOffset=i(c,d.systemClockOffset),d.systemClockOffset!==e&&b.$metadata&&(b.$metadata.clockSkewCorrected=!0)}throw b}}successHandler(a,b){let c=g(a);if(c){let a=j("config",b.config);a.systemClockOffset=i(c,a.systemClockOffset)}}}},13283:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(70958),e=c(70670);b.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",d.default,e.default]},13413:a=>{"use strict";a.exports=function(){}},13576:(a,b,c)=>{"use strict";a.exports={action:c(60676),clear:c(14213),style:c(3761),strip:c(84806),figures:c(54177),lines:c(68391),wrap:c(49842),entriesToDisplay:c(28455)}},13584:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(47934),e=c(34414),f=c(91340);b.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:b}){let c="maxLength"===a?"more":"fewer";return(0,d.str)`must NOT have ${c} than ${b} characters`},params:({schemaCode:a})=>(0,d._)`{limit: ${a}}`},code(a){let{keyword:b,data:c,schemaCode:g,it:h}=a,i="maxLength"===b?d.operators.GT:d.operators.LT,j=!1===h.opts.unicode?(0,d._)`${c}.length`:(0,d._)`${(0,e.useFunc)(a.gen,f.default)}(${c})`;a.fail$data((0,d._)`${j} ${i} ${g}`)}}},13623:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=[c(22560).default]},13897:(a,b,c)=>{"use strict";let d=c(33873),e="application/octet-stream",f="bin",g=new Map([["application/acad","dwg"],["application/applixware","aw"],["application/arj","arj"],["application/atom+xml","xml"],["application/atomcat+xml","atomcat"],["application/atomsvc+xml","atomsvc"],["application/base64",["mm","mme"]],["application/binhex","hqx"],["application/binhex4","hqx"],["application/book",["book","boo"]],["application/ccxml+xml,","ccxml"],["application/cdf","cdf"],["application/cdmi-capability","cdmia"],["application/cdmi-container","cdmic"],["application/cdmi-domain","cdmid"],["application/cdmi-object","cdmio"],["application/cdmi-queue","cdmiq"],["application/clariscad","ccad"],["application/commonground","dp"],["application/cu-seeme","cu"],["application/davmount+xml","davmount"],["application/drafting","drw"],["application/dsptype","tsp"],["application/dssc+der","dssc"],["application/dssc+xml","xdssc"],["application/dxf","dxf"],["application/ecmascript",["js","es"]],["application/emma+xml","emma"],["application/envoy","evy"],["application/epub+zip","epub"],["application/excel",["xls","xl","xla","xlb","xlc","xld","xlk","xll","xlm","xlt","xlv","xlw"]],["application/exi","exi"],["application/font-tdpfr","pfr"],["application/fractals","fif"],["application/freeloader","frl"],["application/futuresplash","spl"],["application/geo+json","geojson"],["application/gnutar","tgz"],["application/groupwise","vew"],["application/hlp","hlp"],["application/hta","hta"],["application/hyperstudio","stk"],["application/i-deas","unv"],["application/iges",["iges","igs"]],["application/inf","inf"],["application/internet-property-stream","acx"],["application/ipfix","ipfix"],["application/java","class"],["application/java-archive","jar"],["application/java-byte-code","class"],["application/java-serialized-object","ser"],["application/java-vm","class"],["application/javascript","js"],["application/json","json"],["application/lha","lha"],["application/lzx","lzx"],["application/mac-binary","bin"],["application/mac-binhex","hqx"],["application/mac-binhex40","hqx"],["application/mac-compactpro","cpt"],["application/macbinary","bin"],["application/mads+xml","mads"],["application/marc","mrc"],["application/marcxml+xml","mrcx"],["application/mathematica","ma"],["application/mathml+xml","mathml"],["application/mbedlet","mbd"],["application/mbox","mbox"],["application/mcad","mcd"],["application/mediaservercontrol+xml","mscml"],["application/metalink4+xml","meta4"],["application/mets+xml","mets"],["application/mime","aps"],["application/mods+xml","mods"],["application/mp21","m21"],["application/mp4","mp4"],["application/mspowerpoint",["ppt","pot","pps","ppz"]],["application/msword",["doc","dot","w6w","wiz","word"]],["application/mswrite","wri"],["application/mxf","mxf"],["application/netmc","mcp"],["application/octet-stream",["*"]],["application/oda","oda"],["application/oebps-package+xml","opf"],["application/ogg","ogx"],["application/olescript","axs"],["application/onenote","onetoc"],["application/patch-ops-error+xml","xer"],["application/pdf","pdf"],["application/pgp-encrypted","asc"],["application/pgp-signature","pgp"],["application/pics-rules","prf"],["application/pkcs-12","p12"],["application/pkcs-crl","crl"],["application/pkcs10","p10"],["application/pkcs7-mime",["p7c","p7m"]],["application/pkcs7-signature","p7s"],["application/pkcs8","p8"],["application/pkix-attr-cert","ac"],["application/pkix-cert",["cer","crt"]],["application/pkix-crl","crl"],["application/pkix-pkipath","pkipath"],["application/pkixcmp","pki"],["application/plain","text"],["application/pls+xml","pls"],["application/postscript",["ps","ai","eps"]],["application/powerpoint","ppt"],["application/pro_eng",["part","prt"]],["application/prs.cww","cww"],["application/pskc+xml","pskcxml"],["application/rdf+xml","rdf"],["application/reginfo+xml","rif"],["application/relax-ng-compact-syntax","rnc"],["application/resource-lists+xml","rl"],["application/resource-lists-diff+xml","rld"],["application/ringing-tones","rng"],["application/rls-services+xml","rs"],["application/rsd+xml","rsd"],["application/rss+xml","xml"],["application/rtf",["rtf","rtx"]],["application/sbml+xml","sbml"],["application/scvp-cv-request","scq"],["application/scvp-cv-response","scs"],["application/scvp-vp-request","spq"],["application/scvp-vp-response","spp"],["application/sdp","sdp"],["application/sea","sea"],["application/set","set"],["application/set-payment-initiation","setpay"],["application/set-registration-initiation","setreg"],["application/shf+xml","shf"],["application/sla","stl"],["application/smil",["smi","smil"]],["application/smil+xml","smi"],["application/solids","sol"],["application/sounder","sdr"],["application/sparql-query","rq"],["application/sparql-results+xml","srx"],["application/srgs","gram"],["application/srgs+xml","grxml"],["application/sru+xml","sru"],["application/ssml+xml","ssml"],["application/step",["step","stp"]],["application/streamingmedia","ssm"],["application/tei+xml","tei"],["application/thraud+xml","tfi"],["application/timestamped-data","tsd"],["application/toolbook","tbk"],["application/vda","vda"],["application/vnd.3gpp.pic-bw-large","plb"],["application/vnd.3gpp.pic-bw-small","psb"],["application/vnd.3gpp.pic-bw-var","pvb"],["application/vnd.3gpp2.tcap","tcap"],["application/vnd.3m.post-it-notes","pwn"],["application/vnd.accpac.simply.aso","aso"],["application/vnd.accpac.simply.imp","imp"],["application/vnd.acucobol","acu"],["application/vnd.acucorp","atc"],["application/vnd.adobe.air-application-installer-package+zip","air"],["application/vnd.adobe.fxp","fxp"],["application/vnd.adobe.xdp+xml","xdp"],["application/vnd.adobe.xfdf","xfdf"],["application/vnd.ahead.space","ahead"],["application/vnd.airzip.filesecure.azf","azf"],["application/vnd.airzip.filesecure.azs","azs"],["application/vnd.amazon.ebook","azw"],["application/vnd.americandynamics.acc","acc"],["application/vnd.amiga.ami","ami"],["application/vnd.android.package-archive","apk"],["application/vnd.anser-web-certificate-issue-initiation","cii"],["application/vnd.anser-web-funds-transfer-initiation","fti"],["application/vnd.antix.game-component","atx"],["application/vnd.apple.installer+xml","mpkg"],["application/vnd.apple.mpegurl","m3u8"],["application/vnd.aristanetworks.swi","swi"],["application/vnd.audiograph","aep"],["application/vnd.blueice.multipass","mpm"],["application/vnd.bmi","bmi"],["application/vnd.businessobjects","rep"],["application/vnd.chemdraw+xml","cdxml"],["application/vnd.chipnuts.karaoke-mmd","mmd"],["application/vnd.cinderella","cdy"],["application/vnd.claymore","cla"],["application/vnd.cloanto.rp9","rp9"],["application/vnd.clonk.c4group","c4g"],["application/vnd.cluetrust.cartomobile-config","c11amc"],["application/vnd.cluetrust.cartomobile-config-pkg","c11amz"],["application/vnd.commonspace","csp"],["application/vnd.contact.cmsg","cdbcmsg"],["application/vnd.cosmocaller","cmc"],["application/vnd.crick.clicker","clkx"],["application/vnd.crick.clicker.keyboard","clkk"],["application/vnd.crick.clicker.palette","clkp"],["application/vnd.crick.clicker.template","clkt"],["application/vnd.crick.clicker.wordbank","clkw"],["application/vnd.criticaltools.wbs+xml","wbs"],["application/vnd.ctc-posml","pml"],["application/vnd.cups-ppd","ppd"],["application/vnd.curl.car","car"],["application/vnd.curl.pcurl","pcurl"],["application/vnd.data-vision.rdz","rdz"],["application/vnd.denovo.fcselayout-link","fe_launch"],["application/vnd.dna","dna"],["application/vnd.dolby.mlp","mlp"],["application/vnd.dpgraph","dpg"],["application/vnd.dreamfactory","dfac"],["application/vnd.dvb.ait","ait"],["application/vnd.dvb.service","svc"],["application/vnd.dynageo","geo"],["application/vnd.ecowin.chart","mag"],["application/vnd.enliven","nml"],["application/vnd.epson.esf","esf"],["application/vnd.epson.msf","msf"],["application/vnd.epson.quickanime","qam"],["application/vnd.epson.salt","slt"],["application/vnd.epson.ssf","ssf"],["application/vnd.eszigno3+xml","es3"],["application/vnd.ezpix-album","ez2"],["application/vnd.ezpix-package","ez3"],["application/vnd.fdf","fdf"],["application/vnd.fdsn.seed","seed"],["application/vnd.flographit","gph"],["application/vnd.fluxtime.clip","ftc"],["application/vnd.framemaker","fm"],["application/vnd.frogans.fnc","fnc"],["application/vnd.frogans.ltf","ltf"],["application/vnd.fsc.weblaunch","fsc"],["application/vnd.fujitsu.oasys","oas"],["application/vnd.fujitsu.oasys2","oa2"],["application/vnd.fujitsu.oasys3","oa3"],["application/vnd.fujitsu.oasysgp","fg5"],["application/vnd.fujitsu.oasysprs","bh2"],["application/vnd.fujixerox.ddd","ddd"],["application/vnd.fujixerox.docuworks","xdw"],["application/vnd.fujixerox.docuworks.binder","xbd"],["application/vnd.fuzzysheet","fzs"],["application/vnd.genomatix.tuxedo","txd"],["application/vnd.geogebra.file","ggb"],["application/vnd.geogebra.tool","ggt"],["application/vnd.geometry-explorer","gex"],["application/vnd.geonext","gxt"],["application/vnd.geoplan","g2w"],["application/vnd.geospace","g3w"],["application/vnd.gmx","gmx"],["application/vnd.google-earth.kml+xml","kml"],["application/vnd.google-earth.kmz","kmz"],["application/vnd.grafeq","gqf"],["application/vnd.groove-account","gac"],["application/vnd.groove-help","ghf"],["application/vnd.groove-identity-message","gim"],["application/vnd.groove-injector","grv"],["application/vnd.groove-tool-message","gtm"],["application/vnd.groove-tool-template","tpl"],["application/vnd.groove-vcard","vcg"],["application/vnd.hal+xml","hal"],["application/vnd.handheld-entertainment+xml","zmm"],["application/vnd.hbci","hbci"],["application/vnd.hhe.lesson-player","les"],["application/vnd.hp-hpgl",["hgl","hpg","hpgl"]],["application/vnd.hp-hpid","hpid"],["application/vnd.hp-hps","hps"],["application/vnd.hp-jlyt","jlt"],["application/vnd.hp-pcl","pcl"],["application/vnd.hp-pclxl","pclxl"],["application/vnd.hydrostatix.sof-data","sfd-hdstx"],["application/vnd.hzn-3d-crossword","x3d"],["application/vnd.ibm.minipay","mpy"],["application/vnd.ibm.modcap","afp"],["application/vnd.ibm.rights-management","irm"],["application/vnd.ibm.secure-container","sc"],["application/vnd.iccprofile","icc"],["application/vnd.igloader","igl"],["application/vnd.immervision-ivp","ivp"],["application/vnd.immervision-ivu","ivu"],["application/vnd.insors.igm","igm"],["application/vnd.intercon.formnet","xpw"],["application/vnd.intergeo","i2g"],["application/vnd.intu.qbo","qbo"],["application/vnd.intu.qfx","qfx"],["application/vnd.ipunplugged.rcprofile","rcprofile"],["application/vnd.irepository.package+xml","irp"],["application/vnd.is-xpr","xpr"],["application/vnd.isac.fcs","fcs"],["application/vnd.jam","jam"],["application/vnd.jcp.javame.midlet-rms","rms"],["application/vnd.jisp","jisp"],["application/vnd.joost.joda-archive","joda"],["application/vnd.kahootz","ktz"],["application/vnd.kde.karbon","karbon"],["application/vnd.kde.kchart","chrt"],["application/vnd.kde.kformula","kfo"],["application/vnd.kde.kivio","flw"],["application/vnd.kde.kontour","kon"],["application/vnd.kde.kpresenter","kpr"],["application/vnd.kde.kspread","ksp"],["application/vnd.kde.kword","kwd"],["application/vnd.kenameaapp","htke"],["application/vnd.kidspiration","kia"],["application/vnd.kinar","kne"],["application/vnd.koan","skp"],["application/vnd.kodak-descriptor","sse"],["application/vnd.las.las+xml","lasxml"],["application/vnd.llamagraphics.life-balance.desktop","lbd"],["application/vnd.llamagraphics.life-balance.exchange+xml","lbe"],["application/vnd.lotus-1-2-3","123"],["application/vnd.lotus-approach","apr"],["application/vnd.lotus-freelance","pre"],["application/vnd.lotus-notes","nsf"],["application/vnd.lotus-organizer","org"],["application/vnd.lotus-screencam","scm"],["application/vnd.lotus-wordpro","lwp"],["application/vnd.macports.portpkg","portpkg"],["application/vnd.mcd","mcd"],["application/vnd.medcalcdata","mc1"],["application/vnd.mediastation.cdkey","cdkey"],["application/vnd.mfer","mwf"],["application/vnd.mfmp","mfm"],["application/vnd.micrografx.flo","flo"],["application/vnd.micrografx.igx","igx"],["application/vnd.mif","mif"],["application/vnd.mobius.daf","daf"],["application/vnd.mobius.dis","dis"],["application/vnd.mobius.mbk","mbk"],["application/vnd.mobius.mqy","mqy"],["application/vnd.mobius.msl","msl"],["application/vnd.mobius.plc","plc"],["application/vnd.mobius.txf","txf"],["application/vnd.mophun.application","mpn"],["application/vnd.mophun.certificate","mpc"],["application/vnd.mozilla.xul+xml","xul"],["application/vnd.ms-artgalry","cil"],["application/vnd.ms-cab-compressed","cab"],["application/vnd.ms-excel",["xls","xla","xlc","xlm","xlt","xlw","xlb","xll"]],["application/vnd.ms-excel.addin.macroenabled.12","xlam"],["application/vnd.ms-excel.sheet.binary.macroenabled.12","xlsb"],["application/vnd.ms-excel.sheet.macroenabled.12","xlsm"],["application/vnd.ms-excel.template.macroenabled.12","xltm"],["application/vnd.ms-fontobject","eot"],["application/vnd.ms-htmlhelp","chm"],["application/vnd.ms-ims","ims"],["application/vnd.ms-lrm","lrm"],["application/vnd.ms-officetheme","thmx"],["application/vnd.ms-outlook","msg"],["application/vnd.ms-pki.certstore","sst"],["application/vnd.ms-pki.pko","pko"],["application/vnd.ms-pki.seccat","cat"],["application/vnd.ms-pki.stl","stl"],["application/vnd.ms-pkicertstore","sst"],["application/vnd.ms-pkiseccat","cat"],["application/vnd.ms-pkistl","stl"],["application/vnd.ms-powerpoint",["ppt","pot","pps","ppa","pwz"]],["application/vnd.ms-powerpoint.addin.macroenabled.12","ppam"],["application/vnd.ms-powerpoint.presentation.macroenabled.12","pptm"],["application/vnd.ms-powerpoint.slide.macroenabled.12","sldm"],["application/vnd.ms-powerpoint.slideshow.macroenabled.12","ppsm"],["application/vnd.ms-powerpoint.template.macroenabled.12","potm"],["application/vnd.ms-project","mpp"],["application/vnd.ms-word.document.macroenabled.12","docm"],["application/vnd.ms-word.template.macroenabled.12","dotm"],["application/vnd.ms-works",["wks","wcm","wdb","wps"]],["application/vnd.ms-wpl","wpl"],["application/vnd.ms-xpsdocument","xps"],["application/vnd.mseq","mseq"],["application/vnd.musician","mus"],["application/vnd.muvee.style","msty"],["application/vnd.neurolanguage.nlu","nlu"],["application/vnd.noblenet-directory","nnd"],["application/vnd.noblenet-sealer","nns"],["application/vnd.noblenet-web","nnw"],["application/vnd.nokia.configuration-message","ncm"],["application/vnd.nokia.n-gage.data","ngdat"],["application/vnd.nokia.n-gage.symbian.install","n-gage"],["application/vnd.nokia.radio-preset","rpst"],["application/vnd.nokia.radio-presets","rpss"],["application/vnd.nokia.ringing-tone","rng"],["application/vnd.novadigm.edm","edm"],["application/vnd.novadigm.edx","edx"],["application/vnd.novadigm.ext","ext"],["application/vnd.oasis.opendocument.chart","odc"],["application/vnd.oasis.opendocument.chart-template","otc"],["application/vnd.oasis.opendocument.database","odb"],["application/vnd.oasis.opendocument.formula","odf"],["application/vnd.oasis.opendocument.formula-template","odft"],["application/vnd.oasis.opendocument.graphics","odg"],["application/vnd.oasis.opendocument.graphics-template","otg"],["application/vnd.oasis.opendocument.image","odi"],["application/vnd.oasis.opendocument.image-template","oti"],["application/vnd.oasis.opendocument.presentation","odp"],["application/vnd.oasis.opendocument.presentation-template","otp"],["application/vnd.oasis.opendocument.spreadsheet","ods"],["application/vnd.oasis.opendocument.spreadsheet-template","ots"],["application/vnd.oasis.opendocument.text","odt"],["application/vnd.oasis.opendocument.text-master","odm"],["application/vnd.oasis.opendocument.text-template","ott"],["application/vnd.oasis.opendocument.text-web","oth"],["application/vnd.olpc-sugar","xo"],["application/vnd.oma.dd2+xml","dd2"],["application/vnd.openofficeorg.extension","oxt"],["application/vnd.openxmlformats-officedocument.presentationml.presentation","pptx"],["application/vnd.openxmlformats-officedocument.presentationml.slide","sldx"],["application/vnd.openxmlformats-officedocument.presentationml.slideshow","ppsx"],["application/vnd.openxmlformats-officedocument.presentationml.template","potx"],["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","xlsx"],["application/vnd.openxmlformats-officedocument.spreadsheetml.template","xltx"],["application/vnd.openxmlformats-officedocument.wordprocessingml.document","docx"],["application/vnd.openxmlformats-officedocument.wordprocessingml.template","dotx"],["application/vnd.osgeo.mapguide.package","mgp"],["application/vnd.osgi.dp","dp"],["application/vnd.palm","pdb"],["application/vnd.pawaafile","paw"],["application/vnd.pg.format","str"],["application/vnd.pg.osasli","ei6"],["application/vnd.picsel","efif"],["application/vnd.pmi.widget","wg"],["application/vnd.pocketlearn","plf"],["application/vnd.powerbuilder6","pbd"],["application/vnd.previewsystems.box","box"],["application/vnd.proteus.magazine","mgz"],["application/vnd.publishare-delta-tree","qps"],["application/vnd.pvi.ptid1","ptid"],["application/vnd.quark.quarkxpress","qxd"],["application/vnd.realvnc.bed","bed"],["application/vnd.recordare.musicxml","mxl"],["application/vnd.recordare.musicxml+xml","musicxml"],["application/vnd.rig.cryptonote","cryptonote"],["application/vnd.rim.cod","cod"],["application/vnd.rn-realmedia","rm"],["application/vnd.rn-realplayer","rnx"],["application/vnd.route66.link66+xml","link66"],["application/vnd.sailingtracker.track","st"],["application/vnd.seemail","see"],["application/vnd.sema","sema"],["application/vnd.semd","semd"],["application/vnd.semf","semf"],["application/vnd.shana.informed.formdata","ifm"],["application/vnd.shana.informed.formtemplate","itp"],["application/vnd.shana.informed.interchange","iif"],["application/vnd.shana.informed.package","ipk"],["application/vnd.simtech-mindmapper","twd"],["application/vnd.smaf","mmf"],["application/vnd.smart.teacher","teacher"],["application/vnd.solent.sdkm+xml","sdkm"],["application/vnd.spotfire.dxp","dxp"],["application/vnd.spotfire.sfs","sfs"],["application/vnd.stardivision.calc","sdc"],["application/vnd.stardivision.draw","sda"],["application/vnd.stardivision.impress","sdd"],["application/vnd.stardivision.math","smf"],["application/vnd.stardivision.writer","sdw"],["application/vnd.stardivision.writer-global","sgl"],["application/vnd.stepmania.stepchart","sm"],["application/vnd.sun.xml.calc","sxc"],["application/vnd.sun.xml.calc.template","stc"],["application/vnd.sun.xml.draw","sxd"],["application/vnd.sun.xml.draw.template","std"],["application/vnd.sun.xml.impress","sxi"],["application/vnd.sun.xml.impress.template","sti"],["application/vnd.sun.xml.math","sxm"],["application/vnd.sun.xml.writer","sxw"],["application/vnd.sun.xml.writer.global","sxg"],["application/vnd.sun.xml.writer.template","stw"],["application/vnd.sus-calendar","sus"],["application/vnd.svd","svd"],["application/vnd.symbian.install","sis"],["application/vnd.syncml+xml","xsm"],["application/vnd.syncml.dm+wbxml","bdm"],["application/vnd.syncml.dm+xml","xdm"],["application/vnd.tao.intent-module-archive","tao"],["application/vnd.tmobile-livetv","tmo"],["application/vnd.trid.tpt","tpt"],["application/vnd.triscape.mxs","mxs"],["application/vnd.trueapp","tra"],["application/vnd.ufdl","ufd"],["application/vnd.uiq.theme","utz"],["application/vnd.umajin","umj"],["application/vnd.unity","unityweb"],["application/vnd.uoml+xml","uoml"],["application/vnd.vcx","vcx"],["application/vnd.visio","vsd"],["application/vnd.visionary","vis"],["application/vnd.vsf","vsf"],["application/vnd.wap.wbxml","wbxml"],["application/vnd.wap.wmlc","wmlc"],["application/vnd.wap.wmlscriptc","wmlsc"],["application/vnd.webturbo","wtb"],["application/vnd.wolfram.player","nbp"],["application/vnd.wordperfect","wpd"],["application/vnd.wqd","wqd"],["application/vnd.wt.stf","stf"],["application/vnd.xara",["web","xar"]],["application/vnd.xfdl","xfdl"],["application/vnd.yamaha.hv-dic","hvd"],["application/vnd.yamaha.hv-script","hvs"],["application/vnd.yamaha.hv-voice","hvp"],["application/vnd.yamaha.openscoreformat","osf"],["application/vnd.yamaha.openscoreformat.osfpvg+xml","osfpvg"],["application/vnd.yamaha.smaf-audio","saf"],["application/vnd.yamaha.smaf-phrase","spf"],["application/vnd.yellowriver-custom-menu","cmp"],["application/vnd.zul","zir"],["application/vnd.zzazz.deck+xml","zaz"],["application/vocaltec-media-desc","vmd"],["application/vocaltec-media-file","vmf"],["application/voicexml+xml","vxml"],["application/widget","wgt"],["application/winhlp","hlp"],["application/wordperfect",["wp","wp5","wp6","wpd"]],["application/wordperfect6.0",["w60","wp5"]],["application/wordperfect6.1","w61"],["application/wsdl+xml","wsdl"],["application/wspolicy+xml","wspolicy"],["application/x-123","wk1"],["application/x-7z-compressed","7z"],["application/x-abiword","abw"],["application/x-ace-compressed","ace"],["application/x-aim","aim"],["application/x-authorware-bin","aab"],["application/x-authorware-map","aam"],["application/x-authorware-seg","aas"],["application/x-bcpio","bcpio"],["application/x-binary","bin"],["application/x-binhex40","hqx"],["application/x-bittorrent","torrent"],["application/x-bsh",["bsh","sh","shar"]],["application/x-bytecode.elisp","elc"],["application/x-bytecode.python","pyc"],["application/x-bzip","bz"],["application/x-bzip2",["boz","bz2"]],["application/x-cdf","cdf"],["application/x-cdlink","vcd"],["application/x-chat",["cha","chat"]],["application/x-chess-pgn","pgn"],["application/x-cmu-raster","ras"],["application/x-cocoa","cco"],["application/x-compactpro","cpt"],["application/x-compress","z"],["application/x-compressed",["tgz","gz","z","zip"]],["application/x-conference","nsc"],["application/x-cpio","cpio"],["application/x-cpt","cpt"],["application/x-csh","csh"],["application/x-debian-package","deb"],["application/x-deepv","deepv"],["application/x-director",["dir","dcr","dxr"]],["application/x-doom","wad"],["application/x-dtbncx+xml","ncx"],["application/x-dtbook+xml","dtb"],["application/x-dtbresource+xml","res"],["application/x-dvi","dvi"],["application/x-elc","elc"],["application/x-envoy",["env","evy"]],["application/x-esrehber","es"],["application/x-excel",["xls","xla","xlb","xlc","xld","xlk","xll","xlm","xlt","xlv","xlw"]],["application/x-font-bdf","bdf"],["application/x-font-ghostscript","gsf"],["application/x-font-linux-psf","psf"],["application/x-font-otf","otf"],["application/x-font-pcf","pcf"],["application/x-font-snf","snf"],["application/x-font-ttf","ttf"],["application/x-font-type1","pfa"],["application/x-font-woff","woff"],["application/x-frame","mif"],["application/x-freelance","pre"],["application/x-futuresplash","spl"],["application/x-gnumeric","gnumeric"],["application/x-gsp","gsp"],["application/x-gss","gss"],["application/x-gtar","gtar"],["application/x-gzip",["gz","gzip"]],["application/x-hdf","hdf"],["application/x-helpfile",["help","hlp"]],["application/x-httpd-imap","imap"],["application/x-ima","ima"],["application/x-internet-signup",["ins","isp"]],["application/x-internett-signup","ins"],["application/x-inventor","iv"],["application/x-ip2","ip"],["application/x-iphone","iii"],["application/x-java-class","class"],["application/x-java-commerce","jcm"],["application/x-java-jnlp-file","jnlp"],["application/x-javascript","js"],["application/x-koan",["skd","skm","skp","skt"]],["application/x-ksh","ksh"],["application/x-latex",["latex","ltx"]],["application/x-lha","lha"],["application/x-lisp","lsp"],["application/x-livescreen","ivy"],["application/x-lotus","wq1"],["application/x-lotusscreencam","scm"],["application/x-lzh","lzh"],["application/x-lzx","lzx"],["application/x-mac-binhex40","hqx"],["application/x-macbinary","bin"],["application/x-magic-cap-package-1.0","mc$"],["application/x-mathcad","mcd"],["application/x-meme","mm"],["application/x-midi",["mid","midi"]],["application/x-mif","mif"],["application/x-mix-transfer","nix"],["application/x-mobipocket-ebook","prc"],["application/x-mplayer2","asx"],["application/x-ms-application","application"],["application/x-ms-wmd","wmd"],["application/x-ms-wmz","wmz"],["application/x-ms-xbap","xbap"],["application/x-msaccess","mdb"],["application/x-msbinder","obd"],["application/x-mscardfile","crd"],["application/x-msclip","clp"],["application/x-msdownload",["exe","dll"]],["application/x-msexcel",["xls","xla","xlw"]],["application/x-msmediaview",["mvb","m13","m14"]],["application/x-msmetafile","wmf"],["application/x-msmoney","mny"],["application/x-mspowerpoint","ppt"],["application/x-mspublisher","pub"],["application/x-msschedule","scd"],["application/x-msterminal","trm"],["application/x-mswrite","wri"],["application/x-navi-animation","ani"],["application/x-navidoc","nvd"],["application/x-navimap","map"],["application/x-navistyle","stl"],["application/x-netcdf",["cdf","nc"]],["application/x-newton-compatible-pkg","pkg"],["application/x-nokia-9000-communicator-add-on-software","aos"],["application/x-omc","omc"],["application/x-omcdatamaker","omcd"],["application/x-omcregerator","omcr"],["application/x-pagemaker",["pm4","pm5"]],["application/x-pcl","pcl"],["application/x-perfmon",["pma","pmc","pml","pmr","pmw"]],["application/x-pixclscript","plx"],["application/x-pkcs10","p10"],["application/x-pkcs12",["p12","pfx"]],["application/x-pkcs7-certificates",["p7b","spc"]],["application/x-pkcs7-certreqresp","p7r"],["application/x-pkcs7-mime",["p7m","p7c"]],["application/x-pkcs7-signature",["p7s","p7a"]],["application/x-pointplus","css"],["application/x-portable-anymap","pnm"],["application/x-project",["mpc","mpt","mpv","mpx"]],["application/x-qpro","wb1"],["application/x-rar-compressed","rar"],["application/x-rtf","rtf"],["application/x-sdp","sdp"],["application/x-sea","sea"],["application/x-seelogo","sl"],["application/x-sh","sh"],["application/x-shar",["shar","sh"]],["application/x-shockwave-flash","swf"],["application/x-silverlight-app","xap"],["application/x-sit","sit"],["application/x-sprite",["spr","sprite"]],["application/x-stuffit","sit"],["application/x-stuffitx","sitx"],["application/x-sv4cpio","sv4cpio"],["application/x-sv4crc","sv4crc"],["application/x-tar","tar"],["application/x-tbook",["sbk","tbk"]],["application/x-tcl","tcl"],["application/x-tex","tex"],["application/x-tex-tfm","tfm"],["application/x-texinfo",["texi","texinfo"]],["application/x-troff",["roff","t","tr"]],["application/x-troff-man","man"],["application/x-troff-me","me"],["application/x-troff-ms","ms"],["application/x-troff-msvideo","avi"],["application/x-ustar","ustar"],["application/x-visio",["vsd","vst","vsw"]],["application/x-vnd.audioexplosion.mzz","mzz"],["application/x-vnd.ls-xpix","xpix"],["application/x-vrml","vrml"],["application/x-wais-source",["src","wsrc"]],["application/x-winhelp","hlp"],["application/x-wintalk","wtk"],["application/x-world",["wrl","svr"]],["application/x-wpwin","wpd"],["application/x-wri","wri"],["application/x-x509-ca-cert",["cer","crt","der"]],["application/x-x509-user-cert","crt"],["application/x-xfig","fig"],["application/x-xpinstall","xpi"],["application/x-zip-compressed","zip"],["application/xcap-diff+xml","xdf"],["application/xenc+xml","xenc"],["application/xhtml+xml","xhtml"],["application/xml","xml"],["application/xml-dtd","dtd"],["application/xop+xml","xop"],["application/xslt+xml","xslt"],["application/xspf+xml","xspf"],["application/xv+xml","mxml"],["application/yang","yang"],["application/yin+xml","yin"],["application/ynd.ms-pkipko","pko"],["application/zip","zip"],["audio/adpcm","adp"],["audio/aiff",["aiff","aif","aifc"]],["audio/basic",["snd","au"]],["audio/it","it"],["audio/make",["funk","my","pfunk"]],["audio/make.my.funk","pfunk"],["audio/mid",["mid","rmi"]],["audio/midi",["midi","kar","mid"]],["audio/mod","mod"],["audio/mp4","mp4a"],["audio/mpeg",["mpga","mp3","m2a","mp2","mpa","mpg"]],["audio/mpeg3","mp3"],["audio/nspaudio",["la","lma"]],["audio/ogg","oga"],["audio/s3m","s3m"],["audio/tsp-audio","tsi"],["audio/tsplayer","tsp"],["audio/vnd.dece.audio","uva"],["audio/vnd.digital-winds","eol"],["audio/vnd.dra","dra"],["audio/vnd.dts","dts"],["audio/vnd.dts.hd","dtshd"],["audio/vnd.lucent.voice","lvp"],["audio/vnd.ms-playready.media.pya","pya"],["audio/vnd.nuera.ecelp4800","ecelp4800"],["audio/vnd.nuera.ecelp7470","ecelp7470"],["audio/vnd.nuera.ecelp9600","ecelp9600"],["audio/vnd.qcelp","qcp"],["audio/vnd.rip","rip"],["audio/voc","voc"],["audio/voxware","vox"],["audio/wav","wav"],["audio/webm","weba"],["audio/x-aac","aac"],["audio/x-adpcm","snd"],["audio/x-aiff",["aiff","aif","aifc"]],["audio/x-au","au"],["audio/x-gsm",["gsd","gsm"]],["audio/x-jam","jam"],["audio/x-liveaudio","lam"],["audio/x-mid",["mid","midi"]],["audio/x-midi",["midi","mid"]],["audio/x-mod","mod"],["audio/x-mpeg","mp2"],["audio/x-mpeg-3","mp3"],["audio/x-mpegurl","m3u"],["audio/x-mpequrl","m3u"],["audio/x-ms-wax","wax"],["audio/x-ms-wma","wma"],["audio/x-nspaudio",["la","lma"]],["audio/x-pn-realaudio",["ra","ram","rm","rmm","rmp"]],["audio/x-pn-realaudio-plugin",["ra","rmp","rpm"]],["audio/x-psid","sid"],["audio/x-realaudio","ra"],["audio/x-twinvq","vqf"],["audio/x-twinvq-plugin",["vqe","vql"]],["audio/x-vnd.audioexplosion.mjuicemediafile","mjf"],["audio/x-voc","voc"],["audio/x-wav","wav"],["audio/xm","xm"],["chemical/x-cdx","cdx"],["chemical/x-cif","cif"],["chemical/x-cmdf","cmdf"],["chemical/x-cml","cml"],["chemical/x-csml","csml"],["chemical/x-pdb",["pdb","xyz"]],["chemical/x-xyz","xyz"],["drawing/x-dwf","dwf"],["i-world/i-vrml","ivr"],["image/bmp",["bmp","bm"]],["image/cgm","cgm"],["image/cis-cod","cod"],["image/cmu-raster",["ras","rast"]],["image/fif","fif"],["image/florian",["flo","turbot"]],["image/g3fax","g3"],["image/gif","gif"],["image/ief",["ief","iefs"]],["image/jpeg",["jpeg","jpe","jpg","jfif","jfif-tbnl"]],["image/jutvision","jut"],["image/ktx","ktx"],["image/naplps",["nap","naplps"]],["image/pict",["pic","pict"]],["image/pipeg","jfif"],["image/pjpeg",["jfif","jpe","jpeg","jpg"]],["image/png",["png","x-png"]],["image/prs.btif","btif"],["image/svg+xml","svg"],["image/tiff",["tif","tiff"]],["image/vasa","mcf"],["image/vnd.adobe.photoshop","psd"],["image/vnd.dece.graphic","uvi"],["image/vnd.djvu","djvu"],["image/vnd.dvb.subtitle","sub"],["image/vnd.dwg",["dwg","dxf","svf"]],["image/vnd.dxf","dxf"],["image/vnd.fastbidsheet","fbs"],["image/vnd.fpx","fpx"],["image/vnd.fst","fst"],["image/vnd.fujixerox.edmics-mmr","mmr"],["image/vnd.fujixerox.edmics-rlc","rlc"],["image/vnd.ms-modi","mdi"],["image/vnd.net-fpx",["fpx","npx"]],["image/vnd.rn-realflash","rf"],["image/vnd.rn-realpix","rp"],["image/vnd.wap.wbmp","wbmp"],["image/vnd.xiff","xif"],["image/webp","webp"],["image/x-cmu-raster","ras"],["image/x-cmx","cmx"],["image/x-dwg",["dwg","dxf","svf"]],["image/x-freehand","fh"],["image/x-icon","ico"],["image/x-jg","art"],["image/x-jps","jps"],["image/x-niff",["niff","nif"]],["image/x-pcx","pcx"],["image/x-pict",["pct","pic"]],["image/x-portable-anymap","pnm"],["image/x-portable-bitmap","pbm"],["image/x-portable-graymap","pgm"],["image/x-portable-greymap","pgm"],["image/x-portable-pixmap","ppm"],["image/x-quicktime",["qif","qti","qtif"]],["image/x-rgb","rgb"],["image/x-tiff",["tif","tiff"]],["image/x-windows-bmp","bmp"],["image/x-xbitmap","xbm"],["image/x-xbm","xbm"],["image/x-xpixmap",["xpm","pm"]],["image/x-xwd","xwd"],["image/x-xwindowdump","xwd"],["image/xbm","xbm"],["image/xpm","xpm"],["message/rfc822",["eml","mht","mhtml","nws","mime"]],["model/iges",["iges","igs"]],["model/mesh","msh"],["model/vnd.collada+xml","dae"],["model/vnd.dwf","dwf"],["model/vnd.gdl","gdl"],["model/vnd.gtw","gtw"],["model/vnd.mts","mts"],["model/vnd.vtu","vtu"],["model/vrml",["vrml","wrl","wrz"]],["model/x-pov","pov"],["multipart/x-gzip","gzip"],["multipart/x-ustar","ustar"],["multipart/x-zip","zip"],["music/crescendo",["mid","midi"]],["music/x-karaoke","kar"],["paleovu/x-pv","pvu"],["text/asp","asp"],["text/calendar","ics"],["text/css","css"],["text/csv","csv"],["text/ecmascript","js"],["text/h323","323"],["text/html",["html","htm","stm","acgi","htmls","htx","shtml"]],["text/iuls","uls"],["text/javascript","js"],["text/mcf","mcf"],["text/n3","n3"],["text/pascal","pas"],["text/plain",["txt","bas","c","h","c++","cc","com","conf","cxx","def","f","f90","for","g","hh","idc","jav","java","list","log","lst","m","mar","pl","sdml","text"]],["text/plain-bas","par"],["text/prs.lines.tag","dsc"],["text/richtext",["rtx","rt","rtf"]],["text/scriplet","wsc"],["text/scriptlet","sct"],["text/sgml",["sgm","sgml"]],["text/tab-separated-values","tsv"],["text/troff","t"],["text/turtle","ttl"],["text/uri-list",["uni","unis","uri","uris"]],["text/vnd.abc","abc"],["text/vnd.curl","curl"],["text/vnd.curl.dcurl","dcurl"],["text/vnd.curl.mcurl","mcurl"],["text/vnd.curl.scurl","scurl"],["text/vnd.fly","fly"],["text/vnd.fmi.flexstor","flx"],["text/vnd.graphviz","gv"],["text/vnd.in3d.3dml","3dml"],["text/vnd.in3d.spot","spot"],["text/vnd.rn-realtext","rt"],["text/vnd.sun.j2me.app-descriptor","jad"],["text/vnd.wap.wml","wml"],["text/vnd.wap.wmlscript","wmls"],["text/webviewhtml","htt"],["text/x-asm",["asm","s"]],["text/x-audiosoft-intra","aip"],["text/x-c",["c","cc","cpp"]],["text/x-component","htc"],["text/x-fortran",["for","f","f77","f90"]],["text/x-h",["h","hh"]],["text/x-java-source",["java","jav"]],["text/x-java-source,java","java"],["text/x-la-asf","lsx"],["text/x-m","m"],["text/x-pascal","p"],["text/x-script","hlb"],["text/x-script.csh","csh"],["text/x-script.elisp","el"],["text/x-script.guile","scm"],["text/x-script.ksh","ksh"],["text/x-script.lisp","lsp"],["text/x-script.perl","pl"],["text/x-script.perl-module","pm"],["text/x-script.phyton","py"],["text/x-script.rexx","rexx"],["text/x-script.scheme","scm"],["text/x-script.sh","sh"],["text/x-script.tcl","tcl"],["text/x-script.tcsh","tcsh"],["text/x-script.zsh","zsh"],["text/x-server-parsed-html",["shtml","ssi"]],["text/x-setext","etx"],["text/x-sgml",["sgm","sgml"]],["text/x-speech",["spc","talk"]],["text/x-uil","uil"],["text/x-uuencode",["uu","uue"]],["text/x-vcalendar","vcs"],["text/x-vcard","vcf"],["text/xml","xml"],["video/3gpp","3gp"],["video/3gpp2","3g2"],["video/animaflex","afl"],["video/avi","avi"],["video/avs-video","avs"],["video/dl","dl"],["video/fli","fli"],["video/gl","gl"],["video/h261","h261"],["video/h263","h263"],["video/h264","h264"],["video/jpeg","jpgv"],["video/jpm","jpm"],["video/mj2","mj2"],["video/mp4","mp4"],["video/mpeg",["mpeg","mp2","mpa","mpe","mpg","mpv2","m1v","m2v","mp3"]],["video/msvideo","avi"],["video/ogg","ogv"],["video/quicktime",["mov","qt","moov"]],["video/vdo","vdo"],["video/vivo",["viv","vivo"]],["video/vnd.dece.hd","uvh"],["video/vnd.dece.mobile","uvm"],["video/vnd.dece.pd","uvp"],["video/vnd.dece.sd","uvs"],["video/vnd.dece.video","uvv"],["video/vnd.fvt","fvt"],["video/vnd.mpegurl","mxu"],["video/vnd.ms-playready.media.pyv","pyv"],["video/vnd.rn-realvideo","rv"],["video/vnd.uvvu.mp4","uvu"],["video/vnd.vivo",["viv","vivo"]],["video/vosaic","vos"],["video/webm","webm"],["video/x-amt-demorun","xdr"],["video/x-amt-showrun","xsr"],["video/x-atomic3d-feature","fmf"],["video/x-dl","dl"],["video/x-dv",["dif","dv"]],["video/x-f4v","f4v"],["video/x-fli","fli"],["video/x-flv","flv"],["video/x-gl","gl"],["video/x-isvideo","isu"],["video/x-la-asf",["lsf","lsx"]],["video/x-m4v","m4v"],["video/x-motion-jpeg","mjpg"],["video/x-mpeg",["mp3","mp2"]],["video/x-mpeq2a","mp2"],["video/x-ms-asf",["asf","asr","asx"]],["video/x-ms-asf-plugin","asx"],["video/x-ms-wm","wm"],["video/x-ms-wmv","wmv"],["video/x-ms-wmx","wmx"],["video/x-ms-wvx","wvx"],["video/x-msvideo","avi"],["video/x-qtc","qtc"],["video/x-scm","scm"],["video/x-sgi-movie",["movie","mv"]],["windows/metafile","wmf"],["www/mime","mime"],["x-conference/x-cooltalk","ice"],["x-music/x-midi",["mid","midi"]],["x-world/x-3dmf",["3dm","3dmf","qd3","qd3d"]],["x-world/x-svr","svr"],["x-world/x-vrml",["flr","vrml","wrl","wrz","xaf","xof"]],["x-world/x-vrt","vrt"],["xgl/drawing","xgz"],["xgl/movie","xmz"]]),h=new Map([["123","application/vnd.lotus-1-2-3"],["323","text/h323"],["*","application/octet-stream"],["3dm","x-world/x-3dmf"],["3dmf","x-world/x-3dmf"],["3dml","text/vnd.in3d.3dml"],["3g2","video/3gpp2"],["3gp","video/3gpp"],["7z","application/x-7z-compressed"],["a","application/octet-stream"],["aab","application/x-authorware-bin"],["aac","audio/x-aac"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abc","text/vnd.abc"],["abw","application/x-abiword"],["ac","application/pkix-attr-cert"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acgi","text/html"],["acu","application/vnd.acucobol"],["acx","application/internet-property-stream"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afl","video/animaflex"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/postscript"],["aif",["audio/aiff","audio/x-aiff"]],["aifc",["audio/aiff","audio/x-aiff"]],["aiff",["audio/aiff","audio/x-aiff"]],["aim","application/x-aim"],["aip","text/x-audiosoft-intra"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["ani","application/x-navi-animation"],["aos","application/x-nokia-9000-communicator-add-on-software"],["apk","application/vnd.android.package-archive"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["aps","application/mime"],["arc","application/octet-stream"],["arj",["application/arj","application/octet-stream"]],["art","image/x-jg"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asp","text/asp"],["asr","video/x-ms-asf"],["asx",["video/x-ms-asf","application/x-mplayer2","video/x-ms-asf-plugin"]],["atc","application/vnd.acucorp"],["atomcat","application/atomcat+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au",["audio/basic","audio/x-au"]],["avi",["video/avi","video/msvideo","application/x-troff-msvideo","video/x-msvideo"]],["avs","video/avs-video"],["aw","application/applixware"],["axs","application/olescript"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azw","application/vnd.amazon.ebook"],["bas","text/plain"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin",["application/octet-stream","application/mac-binary","application/macbinary","application/x-macbinary","application/x-binary"]],["bm","image/bmp"],["bmi","application/vnd.bmi"],["bmp",["image/bmp","image/x-windows-bmp"]],["boo","application/book"],["book","application/book"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bsh","application/x-bsh"],["btif","image/prs.btif"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c",["text/plain","text/x-c"]],["c++","text/plain"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["c4g","application/vnd.clonk.c4group"],["cab","application/vnd.ms-cab-compressed"],["car","application/vnd.curl.car"],["cat",["application/vnd.ms-pkiseccat","application/vnd.ms-pki.seccat"]],["cc",["text/plain","text/x-c"]],["ccad","application/clariscad"],["cco","application/x-cocoa"],["ccxml","application/ccxml+xml,"],["cdbcmsg","application/vnd.contact.cmsg"],["cdf",["application/cdf","application/x-cdf","application/x-netcdf"]],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer",["application/pkix-cert","application/x-x509-ca-cert"]],["cgm","image/cgm"],["cha","application/x-chat"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cla","application/vnd.claymore"],["class",["application/octet-stream","application/java","application/java-byte-code","application/java-vm","application/x-java-class"]],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod",["image/cis-cod","application/vnd.rim.cod"]],["com",["application/octet-stream","text/plain"]],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt",["application/mac-compactpro","application/x-compactpro","application/x-cpt"]],["crd","application/x-mscardfile"],["crl",["application/pkix-crl","application/pkcs-crl"]],["crt",["application/pkix-cert","application/x-x509-user-cert","application/x-x509-ca-cert"]],["cryptonote","application/vnd.rig.cryptonote"],["csh",["text/x-script.csh","application/x-csh"]],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["css",["text/css","application/x-pointplus"]],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxx","text/plain"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["davmount","application/davmount+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["deb","application/x-debian-package"],["deepv","application/x-deepv"],["def","text/plain"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dif","video/x-dv"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["djvu","image/vnd.djvu"],["dl",["video/dl","video/x-dl"]],["dll","application/x-msdownload"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.document.macroenabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroenabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp",["application/commonground","application/vnd.osgi.dp"]],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drw","application/drafting"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dv","video/x-dv"],["dvi","application/x-dvi"],["dwf",["model/vnd.dwf","drawing/x-dwf"]],["dwg",["application/acad","image/vnd.dwg","image/x-dwg"]],["dxf",["application/dxf","image/vnd.dwg","image/vnd.dxf","image/x-dwg"]],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["el","text/x-script.elisp"],["elc",["application/x-elc","application/x-bytecode.elisp"]],["eml","message/rfc822"],["emma","application/emma+xml"],["env","application/x-envoy"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es",["application/ecmascript","application/x-esrehber"]],["es3","application/vnd.eszigno3+xml"],["esf","application/vnd.epson.esf"],["etx","text/x-setext"],["evy",["application/envoy","application/x-envoy"]],["exe",["application/octet-stream","application/x-msdownload"]],["exi","application/exi"],["ext","application/vnd.novadigm.ext"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f",["text/plain","text/x-fortran"]],["f4v","video/x-f4v"],["f77","text/x-fortran"],["f90",["text/plain","text/x-fortran"]],["fbs","image/vnd.fastbidsheet"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fh","image/x-freehand"],["fif",["application/fractals","image/fif"]],["fig","application/x-xfig"],["fli",["video/fli","video/x-fli"]],["flo",["image/florian","application/vnd.micrografx.flo"]],["flr","x-world/x-vrml"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fmf","video/x-atomic3d-feature"],["fnc","application/vnd.frogans.fnc"],["for",["text/plain","text/x-fortran"]],["fpx",["image/vnd.fpx","image/vnd.net-fpx"]],["frl","application/freeloader"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["funk","audio/make"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g","text/plain"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gdl","model/vnd.gdl"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["gl",["video/gl","video/x-gl"]],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gph","application/vnd.flographit"],["gqf","application/vnd.grafeq"],["gram","application/srgs"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsd","audio/x-gsm"],["gsf","application/x-font-ghostscript"],["gsm","audio/x-gsm"],["gsp","application/x-gsp"],["gss","application/x-gss"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxt","application/vnd.geonext"],["gz",["application/x-gzip","application/x-compressed"]],["gzip",["multipart/x-gzip","application/x-gzip"]],["h",["text/plain","text/x-h"]],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hdf","application/x-hdf"],["help","application/x-helpfile"],["hgl","application/vnd.hp-hpgl"],["hh",["text/plain","text/x-h"]],["hlb","text/x-script"],["hlp",["application/winhlp","application/hlp","application/x-helpfile","application/x-winhelp"]],["hpg","application/vnd.hp-hpgl"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx",["application/mac-binhex40","application/binhex","application/binhex4","application/mac-binhex","application/x-binhex40","application/x-mac-binhex40"]],["hta","application/hta"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["htmls","text/html"],["htt","text/webviewhtml"],["htx","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["ico","image/x-icon"],["ics","text/calendar"],["idc","text/plain"],["ief","image/ief"],["iefs","image/ief"],["ifm","application/vnd.shana.informed.formdata"],["iges",["application/iges","model/iges"]],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs",["application/iges","model/iges"]],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["iii","application/x-iphone"],["ima","application/x-ima"],["imap","application/x-httpd-imap"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["inf","application/inf"],["ins",["application/x-internet-signup","application/x-internett-signup"]],["ip","application/x-ip2"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["isp","application/x-internet-signup"],["isu","video/x-isvideo"],["it","audio/it"],["itp","application/vnd.shana.informed.formtemplate"],["iv","application/x-inventor"],["ivp","application/vnd.immervision-ivp"],["ivr","i-world/i-vrml"],["ivu","application/vnd.immervision-ivu"],["ivy","application/x-livescreen"],["jad","text/vnd.sun.j2me.app-descriptor"],["jam",["application/vnd.jam","audio/x-jam"]],["jar","application/java-archive"],["jav",["text/plain","text/x-java-source"]],["java",["text/plain","text/x-java-source,java","text/x-java-source"]],["jcm","application/x-java-commerce"],["jfif",["image/pipeg","image/jpeg","image/pjpeg"]],["jfif-tbnl","image/jpeg"],["jisp","application/vnd.jisp"],["jlt","application/vnd.hp-jlyt"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jpe",["image/jpeg","image/pjpeg"]],["jpeg",["image/jpeg","image/pjpeg"]],["jpg",["image/jpeg","image/pjpeg"]],["jpgv","video/jpeg"],["jpm","video/jpm"],["jps","image/x-jps"],["js",["application/javascript","application/ecmascript","text/javascript","text/ecmascript","application/x-javascript"]],["json","application/json"],["jut","image/jutvision"],["kar",["audio/midi","music/x-karaoke"]],["karbon","application/vnd.kde.karbon"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["ksh",["application/x-ksh","text/x-script.ksh"]],["ksp","application/vnd.kde.kspread"],["ktx","image/ktx"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["la",["audio/nspaudio","audio/x-nspaudio"]],["lam","audio/x-liveaudio"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["lha",["application/octet-stream","application/lha","application/x-lha"]],["lhx","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["lma",["audio/nspaudio","audio/x-nspaudio"]],["log","text/plain"],["lrm","application/vnd.ms-lrm"],["lsf","video/x-la-asf"],["lsp",["application/x-lisp","text/x-script.lisp"]],["lst","text/plain"],["lsx",["video/x-la-asf","text/x-la-asf"]],["ltf","application/vnd.frogans.ltf"],["ltx","application/x-latex"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh",["application/octet-stream","application/x-lzh"]],["lzx",["application/lzx","application/octet-stream","application/x-lzx"]],["m",["text/plain","text/x-m"]],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m1v","video/mpeg"],["m21","application/mp21"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3u",["audio/x-mpegurl","audio/x-mpequrl"]],["m3u8","application/vnd.apple.mpegurl"],["m4v","video/x-m4v"],["ma","application/mathematica"],["mads","application/mads+xml"],["mag","application/vnd.ecowin.chart"],["man","application/x-troff-man"],["map","application/x-navimap"],["mar","text/plain"],["mathml","application/mathml+xml"],["mbd","application/mbedlet"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc$","application/x-magic-cap-package-1.0"],["mc1","application/vnd.medcalcdata"],["mcd",["application/mcad","application/vnd.mcd","application/x-mathcad"]],["mcf",["image/vasa","text/mcf"]],["mcp","application/netmc"],["mcurl","text/vnd.curl.mcurl"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["me","application/x-troff-me"],["meta4","application/metalink4+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mht","message/rfc822"],["mhtml","message/rfc822"],["mid",["audio/mid","audio/midi","music/crescendo","x-music/x-midi","audio/x-midi","application/x-midi","audio/x-mid"]],["midi",["audio/midi","music/crescendo","x-music/x-midi","audio/x-midi","application/x-midi","audio/x-mid"]],["mif",["application/vnd.mif","application/x-mif","application/x-frame"]],["mime",["message/rfc822","www/mime"]],["mj2","video/mj2"],["mjf","audio/x-vnd.audioexplosion.mjuicemediafile"],["mjpg","video/x-motion-jpeg"],["mlp","application/vnd.dolby.mlp"],["mm",["application/base64","application/x-meme"]],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mme","application/base64"],["mmf","application/vnd.smaf"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mny","application/x-msmoney"],["mod",["audio/mod","audio/x-mod"]],["mods","application/mods+xml"],["moov","video/quicktime"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2",["video/mpeg","audio/mpeg","video/x-mpeg","audio/x-mpeg","video/x-mpeq2a"]],["mp3",["audio/mpeg","audio/mpeg3","video/mpeg","audio/x-mpeg-3","video/x-mpeg"]],["mp4",["video/mp4","application/mp4"]],["mp4a","audio/mp4"],["mpa",["video/mpeg","audio/mpeg"]],["mpc",["application/vnd.mophun.certificate","application/x-project"]],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg",["video/mpeg","audio/mpeg"]],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/x-project"],["mpv","application/x-project"],["mpv2","video/mpeg"],["mpx","application/x-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","application/x-troff-ms"],["mscml","application/mediaservercontrol+xml"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msl","application/vnd.mobius.msl"],["msty","application/vnd.muvee.style"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musicxml","application/vnd.recordare.musicxml+xml"],["mv","video/x-sgi-movie"],["mvb","application/x-msmediaview"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["my","audio/make"],["mzz","application/x-vnd.audioexplosion.mzz"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nap","image/naplps"],["naplps","image/naplps"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncm","application/vnd.nokia.configuration-message"],["ncx","application/x-dtbncx+xml"],["ngdat","application/vnd.nokia.n-gage.data"],["nif","image/x-niff"],["niff","image/x-niff"],["nix","application/x-mix-transfer"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nvd","application/x-navidoc"],["nws","message/rfc822"],["o","application/octet-stream"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omc","application/x-omc"],["omcd","application/x-omcdatamaker"],["omcr","application/x-omcregerator"],["onetoc","application/onenote"],["opf","application/oebps-package+xml"],["org","application/vnd.lotus-organizer"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","application/x-font-otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p10",["application/pkcs10","application/x-pkcs10"]],["p12",["application/pkcs-12","application/x-pkcs12"]],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c",["application/pkcs7-mime","application/x-pkcs7-mime"]],["p7m",["application/pkcs7-mime","application/x-pkcs7-mime"]],["p7r","application/x-pkcs7-certreqresp"],["p7s",["application/pkcs7-signature","application/x-pkcs7-signature"]],["p8","application/pkcs8"],["par","text/plain-bas"],["part","application/pro_eng"],["pas","text/pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcf","application/x-font-pcf"],["pcl",["application/vnd.hp-pcl","application/x-pcl"]],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb",["application/vnd.palm","chemical/x-pdb"]],["pdf","application/pdf"],["pfa","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfunk",["audio/make","audio/make.my.funk"]],["pfx","application/x-pkcs12"],["pgm",["image/x-portable-graymap","image/x-portable-greymap"]],["pgn","application/x-chess-pgn"],["pgp","application/pgp-signature"],["pic",["image/pict","image/x-pict"]],["pict","image/pict"],["pkg","application/x-newton-compatible-pkg"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pko",["application/ynd.ms-pkipko","application/vnd.ms-pki.pko"]],["pl",["text/plain","text/x-script.perl"]],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["plx","application/x-pixclscript"],["pm",["text/x-script.perl-module","image/x-xpixmap"]],["pm4","application/x-pagemaker"],["pm5","application/x-pagemaker"],["pma","application/x-perfmon"],["pmc","application/x-perfmon"],["pml",["application/vnd.ctc-posml","application/x-perfmon"]],["pmr","application/x-perfmon"],["pmw","application/x-perfmon"],["png","image/png"],["pnm",["application/x-portable-anymap","image/x-portable-anymap"]],["portpkg","application/vnd.macports.portpkg"],["pot",["application/vnd.ms-powerpoint","application/mspowerpoint"]],["potm","application/vnd.ms-powerpoint.template.macroenabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["pov","model/x-pov"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroenabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps",["application/vnd.ms-powerpoint","application/mspowerpoint"]],["ppsm","application/vnd.ms-powerpoint.slideshow.macroenabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt",["application/vnd.ms-powerpoint","application/mspowerpoint","application/powerpoint","application/x-mspowerpoint"]],["pptm","application/vnd.ms-powerpoint.presentation.macroenabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["ppz","application/mspowerpoint"],["prc","application/x-mobipocket-ebook"],["pre",["application/vnd.lotus-freelance","application/x-freelance"]],["prf","application/pics-rules"],["prt","application/pro_eng"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd",["application/octet-stream","image/vnd.adobe.photoshop"]],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pvu","paleovu/x-pv"],["pwn","application/vnd.3m.post-it-notes"],["pwz","application/vnd.ms-powerpoint"],["py","text/x-script.phyton"],["pya","audio/vnd.ms-playready.media.pya"],["pyc","application/x-bytecode.python"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qcp","audio/vnd.qcelp"],["qd3","x-world/x-3dmf"],["qd3d","x-world/x-3dmf"],["qfx","application/vnd.intu.qfx"],["qif","image/x-quicktime"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qtc","video/x-qtc"],["qti","image/x-quicktime"],["qtif","image/x-quicktime"],["qxd","application/vnd.quark.quarkxpress"],["ra",["audio/x-realaudio","audio/x-pn-realaudio","audio/x-pn-realaudio-plugin"]],["ram","audio/x-pn-realaudio"],["rar","application/x-rar-compressed"],["ras",["image/cmu-raster","application/x-cmu-raster","image/x-cmu-raster"]],["rast","image/cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rexx","text/x-script.rexx"],["rf","image/vnd.rn-realflash"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm",["application/vnd.rn-realmedia","audio/x-pn-realaudio"]],["rmi","audio/mid"],["rmm","audio/x-pn-realaudio"],["rmp",["audio/x-pn-realaudio-plugin","audio/x-pn-realaudio"]],["rms","application/vnd.jcp.javame.midlet-rms"],["rnc","application/relax-ng-compact-syntax"],["rng",["application/ringing-tones","application/vnd.nokia.ringing-tone"]],["rnx","application/vnd.rn-realplayer"],["roff","application/x-troff"],["rp","image/vnd.rn-realpix"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsd","application/rsd+xml"],["rt",["text/richtext","text/vnd.rn-realtext"]],["rtf",["application/rtf","text/richtext","application/x-rtf"]],["rtx",["text/richtext","application/rtf"]],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["saveme","application/octet-stream"],["sbk","application/x-tbook"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm",["application/vnd.lotus-screencam","video/x-scm","text/x-script.guile","application/x-lotusscreencam","text/x-script.scheme"]],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["sct","text/scriptlet"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkm","application/vnd.solent.sdkm+xml"],["sdml","text/plain"],["sdp",["application/sdp","application/x-sdp"]],["sdr","application/sounder"],["sdw","application/vnd.stardivision.writer"],["sea",["application/sea","application/x-sea"]],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["ser","application/java-serialized-object"],["set","application/set"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sgl","application/vnd.stardivision.writer-global"],["sgm",["text/sgml","text/x-sgml"]],["sgml",["text/sgml","text/x-sgml"]],["sh",["application/x-shar","application/x-bsh","application/x-sh","text/x-script.sh"]],["shar",["application/x-bsh","application/x-shar"]],["shf","application/shf+xml"],["shtml",["text/html","text/x-server-parsed-html"]],["sid","audio/x-psid"],["sis","application/vnd.symbian.install"],["sit",["application/x-stuffit","application/x-sit"]],["sitx","application/x-stuffitx"],["skd","application/x-koan"],["skm","application/x-koan"],["skp",["application/vnd.koan","application/x-koan"]],["skt","application/x-koan"],["sl","application/x-seelogo"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi",["application/smil","application/smil+xml"]],["smil","application/smil"],["snd",["audio/basic","audio/x-adpcm"]],["snf","application/x-font-snf"],["sol","application/solids"],["spc",["text/x-speech","application/x-pkcs7-certificates"]],["spf","application/vnd.yamaha.smaf-phrase"],["spl",["application/futuresplash","application/x-futuresplash"]],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spr","application/x-sprite"],["sprite","application/x-sprite"],["src","application/x-wais-source"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssi","text/x-server-parsed-html"],["ssm","application/streamingmedia"],["ssml","application/ssml+xml"],["sst",["application/vnd.ms-pkicertstore","application/vnd.ms-pki.certstore"]],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["step","application/step"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl",["application/vnd.ms-pkistl","application/sla","application/vnd.ms-pki.stl","application/x-navistyle"]],["stm","text/html"],["stp","application/step"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["sub","image/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svf",["image/vnd.dwg","image/x-dwg"]],["svg","image/svg+xml"],["svr",["x-world/x-svr","application/x-world"]],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t",["text/troff","application/x-troff"]],["talk","text/x-speech"],["tao","application/vnd.tao.intent-module-archive"],["tar","application/x-tar"],["tbk",["application/toolbook","application/x-tbook"]],["tcap","application/vnd.3gpp2.tcap"],["tcl",["text/x-script.tcl","application/x-tcl"]],["tcsh","text/x-script.tcsh"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text",["application/plain","text/plain"]],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tgz",["application/gnutar","application/x-compressed"]],["thmx","application/vnd.ms-officetheme"],["tif",["image/tiff","image/x-tiff"]],["tiff",["image/tiff","image/x-tiff"]],["tmo","application/vnd.tmobile-livetv"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","application/x-troff"],["tra","application/vnd.trueapp"],["trm","application/x-msterminal"],["tsd","application/timestamped-data"],["tsi","audio/tsp-audio"],["tsp",["application/dsptype","audio/tsplayer"]],["tsv","text/tab-separated-values"],["ttf","application/x-font-ttf"],["ttl","text/turtle"],["turbot","image/florian"],["twd","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["ufd","application/vnd.ufdl"],["uil","text/x-uil"],["uls","text/iuls"],["umj","application/vnd.umajin"],["uni","text/uri-list"],["unis","text/uri-list"],["unityweb","application/vnd.unity"],["unv","application/i-deas"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["ustar",["application/x-ustar","multipart/x-ustar"]],["utz","application/vnd.uiq.theme"],["uu",["application/octet-stream","text/x-uuencode"]],["uue","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vda","application/vda"],["vdo","video/vdo"],["vew","application/groupwise"],["vis","application/vnd.visionary"],["viv",["video/vivo","video/vnd.vivo"]],["vivo",["video/vivo","video/vnd.vivo"]],["vmd","application/vocaltec-media-desc"],["vmf","application/vocaltec-media-file"],["voc",["audio/voc","audio/x-voc"]],["vos","video/vosaic"],["vox","audio/voxware"],["vqe","audio/x-twinvq-plugin"],["vqf","audio/x-twinvq"],["vql","audio/x-twinvq-plugin"],["vrml",["model/vrml","x-world/x-vrml","application/x-vrml"]],["vrt","x-world/x-vrt"],["vsd",["application/vnd.visio","application/x-visio"]],["vsf","application/vnd.vsf"],["vst","application/x-visio"],["vsw","application/x-visio"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w60","application/wordperfect6.0"],["w61","application/wordperfect6.1"],["w6w","application/msword"],["wad","application/x-doom"],["wav",["audio/wav","audio/x-wav"]],["wax","audio/x-ms-wax"],["wb1","application/x-qpro"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/vnd.wap.wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["web","application/vnd.xara"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wiz","application/msword"],["wk1","application/x-123"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf",["windows/metafile","application/x-msmetafile"]],["wml","text/vnd.wap.wml"],["wmlc","application/vnd.wap.wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-ms-wmz"],["woff","application/x-font-woff"],["word","application/msword"],["wp","application/wordperfect"],["wp5",["application/wordperfect","application/wordperfect6.0"]],["wp6","application/wordperfect"],["wpd",["application/wordperfect","application/vnd.wordperfect","application/x-wpwin"]],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wq1","application/x-lotus"],["wqd","application/vnd.wqd"],["wri",["application/mswrite","application/x-wri","application/x-mswrite"]],["wrl",["model/vrml","x-world/x-vrml","application/x-world"]],["wrz",["model/vrml","x-world/x-vrml"]],["wsc","text/scriplet"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wsrc","application/x-wais-source"],["wtb","application/vnd.webturbo"],["wtk","application/x-wintalk"],["wvx","video/x-ms-wvx"],["x-png","image/png"],["x3d","application/vnd.hzn-3d-crossword"],["xaf","x-world/x-vrml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm",["image/xbm","image/x-xbm","image/x-xbitmap"]],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdr","video/x-amt-demorun"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xgz","xgl/drawing"],["xhtml","application/xhtml+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xlam","application/vnd.ms-excel.addin.macroenabled.12"],["xlb",["application/excel","application/vnd.ms-excel","application/x-excel"]],["xlc",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xld",["application/excel","application/x-excel"]],["xlk",["application/excel","application/x-excel"]],["xll",["application/excel","application/vnd.ms-excel","application/x-excel"]],["xlm",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xls",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xlsb","application/vnd.ms-excel.sheet.binary.macroenabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroenabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xltm","application/vnd.ms-excel.template.macroenabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlv",["application/excel","application/x-excel"]],["xlw",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xm","audio/xm"],["xml",["application/xml","text/xml","application/atom+xml","application/rss+xml"]],["xmz","xgl/movie"],["xo","application/vnd.olpc-sugar"],["xof","x-world/x-vrml"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpix","application/x-vnd.ls-xpix"],["xpm",["image/xpm","image/x-xpixmap"]],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xsr","video/x-amt-showrun"],["xul","application/vnd.mozilla.xul+xml"],["xwd",["image/x-xwd","image/x-xwindowdump"]],["xyz",["chemical/x-xyz","chemical/x-pdb"]],["yang","application/yang"],["yin","application/yin+xml"],["z",["application/x-compressed","application/x-compress"]],["zaz","application/vnd.zzazz.deck+xml"],["zip",["application/zip","multipart/x-zip","application/x-zip-compressed","application/x-compressed"]],["zir","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zoo","application/octet-stream"],["zsh","text/x-script.zsh"]]);a.exports={detectMimeType(a){if(!a)return e;let b=d.parse(a),c=(b.ext.substr(1)||b.name||"").split("?").shift().trim().toLowerCase(),f=e;return(h.has(c)&&(f=h.get(c)),Array.isArray(f))?f[0]:f},detectExtension(a){if(!a)return f;let b=(a||"").toLowerCase().trim().split("/"),c=b.shift().trim(),d=b.join("/").trim();if(g.has(c+"/"+d)){let a=g.get(c+"/"+d);return Array.isArray(a)?a[0]:a}return"text"===c?"txt":"bin"}}},14213:(a,b,c)=>{"use strict";function d(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=e(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,f=function(){};return{s:f,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:f}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var g,h=!0,i=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return h=a.done,a},e:function(a){i=!0,g=a},f:function(){try{h||null==c.return||c.return()}finally{if(i)throw g}}}}function e(a,b){if(a){if("string"==typeof a)return f(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return f(a,b)}}function f(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}let g=c(84806),h=c(40821),i=h.erase,j=h.cursor,k=a=>[...g(a)].length;a.exports=function(a,b){if(!b)return i.line+j.to(0);let c=0;var e,f=d(a.split(/\r?\n/));try{for(f.s();!(e=f.n()).done;){let a=e.value;c+=1+Math.floor(Math.max(k(a)-1,0)/b)}}catch(a){f.e(a)}finally{f.f()}return i.lines(c)}},14413:(a,b,c)=>{"use strict";a.exports={buildSafeSonicBoom:c(18316),createDate:c(6302),deleteLogProperty:c(40567),filterLog:c(11660),formatTime:c(1078),getPropertyValue:c(47599),handleCustomLevelsNamesOpts:c(16921),handleCustomLevelsOpts:c(5122),interpretConditionals:c(10928),isObject:c(44757),isValidDate:c(8395),joinLinesWithIndentation:c(14466),noop:c(13413),parseFactoryOptions:c(8426),prettifyErrorLog:c(82116),prettifyError:c(81211),prettifyLevel:c(28327),prettifyMessage:c(53962),prettifyMetadata:c(4992),prettifyObject:c(3930),prettifyTime:c(92),splitPropertyKey:c(87285),getLevelLabelData:c(5870)}},14447:(a,b,c)=>{"use strict";let d,e=c(53053),f=c(56704),{mapHttpRequest:g,mapHttpResponse:h}=c(62741),i=c(47346),j=c(99495),{lsCacheSym:k,chindingsSym:l,writeSym:m,serializersSym:o,formatOptsSym:p,endSym:q,stringifiersSym:r,stringifySym:s,stringifySafeSym:t,wildcardFirstSym:u,nestedKeySym:v,formattersSym:w,messageKeySym:x,errorKeySym:y,nestedKeyStrSym:z,msgPrefixSym:A}=c(53057),{isMainThread:B}=c(73566),C=c(40645);function D(){}function E(a){let b="",c=0,d=!1,e=255,f=a.length;if(f>100)return JSON.stringify(a);for(var g=0;g<f&&e>=32;g++)(34===(e=a.charCodeAt(g))||92===e)&&(b+=a.slice(c,g)+"\\",c=g,d=!0);return d?b+=a.slice(c):b=a,e<32?JSON.stringify(a):'"'+b+'"'}function F(a,b,c,d){let e,f=this[s],g=this[t],h=this[r],i=this[q],j=this[l],m=this[o],p=this[w],A=this[x],B=this[y],C=this[k][c]+d;C+=j,p.log&&(a=p.log(a));let D=h[u],F="";for(let b in a)if(e=a[b],Object.prototype.hasOwnProperty.call(a,b)&&void 0!==e){m[b]?e=m[b](e):b===B&&m.err&&(e=m.err(e));let a=h[b]||D;switch(typeof e){case"undefined":case"function":continue;case"number":!1===Number.isFinite(e)&&(e=null);case"boolean":a&&(e=a(e));break;case"string":e=(a||E)(e);break;default:e=(a||f)(e,g)}if(void 0===e)continue;F+=","+E(b)+":"+e}let G="";if(void 0!==b){e=m[A]?m[A](b):b;let a=h[A]||D;switch(typeof e){case"function":break;case"number":!1===Number.isFinite(e)&&(e=null);case"boolean":a&&(e=a(e)),G=',"'+A+'":'+e;break;case"string":G=',"'+A+'":'+(e=(a||E)(e));break;default:G=',"'+A+'":'+(e=(a||f)(e,g))}}return this[v]&&F?C+this[z]+F.slice(1)+"}"+G+i:C+F+G+i}function G(a){return a.write!==a.constructor.prototype.write}function H(a){let b=new i(a);return b.on("error",c),!a.sync&&B&&(j.register(b,I),b.on("close",function(){j.unregister(b)})),b;function c(a){if("EPIPE"===a.code){b.write=D,b.end=D,b.flushSync=D,b.destroy=D;return}b.removeListener("error",c),b.emit("error",a)}}function I(a,b){a.destroyed||("beforeExit"===b?(a.flush(),a.on("drain",function(){a.end()})):a.flushSync())}function J(a){return function(b,c,d={},e){if("string"==typeof d)e=H({dest:d}),d={};else if("string"==typeof e){if(d&&d.transport)throw Error("only one of option.transport or stream can be specified");e=H({dest:e})}else if(d instanceof i||d.writable||d._writableState)e=d,d={};else if(d.transport){let a;if(d.transport instanceof i||d.transport.writable||d.transport._writableState)throw Error("option.transport do not allow stream, please pass to option directly. e.g. pino(transport)");if(d.transport.targets&&d.transport.targets.length&&d.formatters&&"function"==typeof d.formatters.level)throw Error("option.transport.targets do not allow custom level formatters");d.customLevels&&(a=d.useOnlyCustomLevels?d.customLevels:Object.assign({},d.levels,d.customLevels)),e=C({caller:c,...d.transport,levels:a})}if((d=Object.assign({},a,d)).serializers=Object.assign({},a.serializers,d.serializers),d.formatters=Object.assign({},a.formatters,d.formatters),d.prettyPrint)throw Error("prettyPrint option is no longer supported, see the pino-pretty package (https://github.com/pinojs/pino-pretty)");let{enabled:f,onChild:g}=d;return!1===f&&(d.level="silent"),g||(d.onChild=D),e||(e=G(process.stdout)?process.stdout:H({fd:process.stdout.fd||1})),{opts:d,stream:e}}}d="function"==typeof e.tracingChannel?e.tracingChannel("pino_asJson"):{hasSubscribers:!1,traceSync:(a,b,c,...d)=>a.call(c,...d)},a.exports={noop:D,buildSafeSonicBoom:H,asChindings:function(a,b){let c,d=a[l],e=a[s],f=a[t],g=a[r],h=g[u],i=a[o];for(let j in b=(0,a[w].bindings)(b))if(c=b[j],!0===((j.length<5||"level"!==j&&"serializers"!==j&&"formatters"!==j&&"customLevels"!==j)&&b.hasOwnProperty(j)&&void 0!==c)){if(c=i[j]?i[j](c):c,void 0===(c=(g[j]||h||e)(c,f)))continue;d+=',"'+j+'":'+c}return d},asJson:function(a,b,c,e){if(!1===d.hasSubscribers)return F.call(this,a,b,c,e);let f={instance:this,arguments};return d.traceSync(F,f,this,a,b,c,e)},genLog:function(a,b){if(!b)return c;return function(...d){b.call(this,d,c,a)};function c(b,...d){if("object"==typeof b){let c,e=b;null!==b&&(b.method&&b.headers&&b.socket?b=g(b):"function"==typeof b.setHeader&&(b=h(b))),null===e&&0===d.length?c=[null]:(e=d.shift(),c=d),"string"==typeof this[A]&&null!=e&&(e=this[A]+e),this[m](b,f(e,c,this[p]),a)}else{let c=void 0===b?d.shift():b;"string"==typeof this[A]&&null!=c&&(c=this[A]+c),this[m](null,f(c,d,this[p]),a)}}},createArgsNormalizer:J,stringify:function(a,b){try{return JSON.stringify(a)}catch(c){try{return(b||this[t])(a)}catch(a){return'"[unable to serialize, circular reference is too complex to analyze]"'}}},buildFormatters:function(a,b,c){return{level:a,bindings:b,log:c}},normalizeDestFileDescriptor:function(a){let b=Number(a);return"string"==typeof a&&Number.isFinite(b)?b:void 0===a?1:a}}},14466:a=>{"use strict";a.exports=function a({input:a,ident:b="    ",eol:c="\n"}){let d=a.split(/\r?\n/);for(let a=1;a<d.length;a+=1)d[a]=b+d[a];return d.join(c)}},14548:(a,b,c)=>{"use strict";c.d(b,{Y:()=>d});let d=[{label:"(UTC-11:00) Midway Island, Samoa",value:"Pacific/Midway"},{label:"(UTC-11:00) Niue",value:"Pacific/Niue"},{label:"(UTC-10:00) Hawaii",value:"Pacific/Honolulu"},{label:"(UTC-10:00) Cook Islands",value:"Pacific/Rarotonga"},{label:"(UTC-09:00) Alaska",value:"America/Anchorage"},{label:"(UTC-09:00) Gambier Islands",value:"Pacific/Gambier"},{label:"(UTC-08:00) Pacific Time (US & Canada)",value:"America/Los_Angeles"},{label:"(UTC-08:00) Tijuana, Baja California",value:"America/Tijuana"},{label:"(UTC-07:00) Mountain Time (US & Canada)",value:"America/Denver"},{label:"(UTC-07:00) Arizona (No DST)",value:"America/Phoenix"},{label:"(UTC-06:00) Central Time (US & Canada)",value:"America/Chicago"},{label:"(UTC-06:00) Central America",value:"America/Guatemala"},{label:"(UTC-05:00) Eastern Time (US & Canada)",value:"America/New_York"},{label:"(UTC-05:00) Bogota, Lima, Quito",value:"America/Bogota"},{label:"(UTC-04:00) Caracas",value:"America/Caracas"},{label:"(UTC-04:00) Santiago",value:"America/Santiago"},{label:"(UTC-03:00) Buenos Aires",value:"America/Buenos_Aires"},{label:"(UTC-03:00) Brasilia",value:"America/Sao_Paulo"},{label:"(UTC-02:00) South Georgia",value:"Atlantic/South_Georgia"},{label:"(UTC-01:00) Azores",value:"Atlantic/Azores"},{label:"(UTC-01:00) Cape Verde",value:"Atlantic/Cape_Verde"},{label:"(UTC+00:00) London (GMT)",value:"Europe/London"},{label:"(UTC+01:00) Berlin, Paris",value:"Europe/Berlin"},{label:"(UTC+01:00) Lagos",value:"Africa/Lagos"},{label:"(UTC+02:00) Athens, Bucharest",value:"Europe/Athens"},{label:"(UTC+02:00) Cairo",value:"Africa/Cairo"},{label:"(UTC+03:00) Moscow, St. Petersburg",value:"Europe/Moscow"},{label:"(UTC+03:00) Riyadh",value:"Asia/Riyadh"},{label:"(UTC+04:00) Dubai",value:"Asia/Dubai"},{label:"(UTC+04:00) Baku",value:"Asia/Baku"},{label:"(UTC+05:00) Islamabad, Karachi",value:"Asia/Karachi"},{label:"(UTC+05:00) Tashkent",value:"Asia/Tashkent"},{label:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",value:"Asia/Calcutta"},{label:"(UTC+06:00) Dhaka",value:"Asia/Dhaka"},{label:"(UTC+06:00) Almaty",value:"Asia/Almaty"},{label:"(UTC+07:00) Jakarta",value:"Asia/Jakarta"},{label:"(UTC+07:00) Bangkok",value:"Asia/Bangkok"},{label:"(UTC+08:00) Beijing, Shanghai",value:"Asia/Shanghai"},{label:"(UTC+08:00) Singapore",value:"Asia/Singapore"},{label:"(UTC+09:00) Tokyo, Osaka, Sapporo",value:"Asia/Tokyo"},{label:"(UTC+09:00) Seoul",value:"Asia/Seoul"},{label:"(UTC+10:00) Brisbane",value:"Australia/Brisbane"},{label:"(UTC+10:00) Sydney, Melbourne",value:"Australia/Sydney"},{label:"(UTC+10:00) Guam, Port Moresby",value:"Pacific/Guam"},{label:"(UTC+11:00) New Caledonia",value:"Pacific/Noumea"},{label:"(UTC+12:00) Auckland, Wellington",value:"Pacific/Auckland"},{label:"(UTC+12:00) Fiji",value:"Pacific/Fiji"}]},14840:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=function(a){return Object.assign(new String(a),{deserializeJSON:()=>JSON.parse(String(a)),toString:()=>String(a),toJSON:()=>String(a)})};d.from=a=>a&&"object"==typeof a&&(a instanceof d||"deserializeJSON"in a)?a:"string"==typeof a||Object.getPrototypeOf(a)===String.prototype?d(String(a)):d(JSON.stringify(a)),d.fromObject=d.from},14892:(a,b,c)=>{"use strict";var d;function e(){throw Object.defineProperty(Error("cacheTag() is only available with the experimental.useCache config."),"__NEXT_ERROR_CODE",{value:"E628",enumerable:!1,configurable:!0})}d={value:!0},Object.defineProperty(b,"z",{enumerable:!0,get:function(){return e}}),c(63033),c(54063)},15088:(a,b,c)=>{"use strict";c(90229);let{Duplex:d}=c(27910);function e(a){a.emit("close")}function f(){!this.destroyed&&this._writableState.finished&&this.destroy()}function g(a){this.removeListener("error",g),this.destroy(),0===this.listenerCount("error")&&this.emit("error",a)}a.exports=function(a,b){let c=!0,h=new d({...b,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return a.on("message",function(b,c){let d=!c&&h._readableState.objectMode?b.toString():b;h.push(d)||a.pause()}),a.once("error",function(a){h.destroyed||(c=!1,h.destroy(a))}),a.once("close",function(){h.destroyed||h.push(null)}),h._destroy=function(b,d){if(a.readyState===a.CLOSED){d(b),process.nextTick(e,h);return}let f=!1;a.once("error",function(a){f=!0,d(a)}),a.once("close",function(){f||d(b),process.nextTick(e,h)}),c&&a.terminate()},h._final=function(b){if(a.readyState===a.CONNECTING)return void a.once("open",function(){h._final(b)});null!==a._socket&&(a._socket._writableState.finished?(b(),h._readableState.endEmitted&&h.destroy()):(a._socket.once("finish",function(){b()}),a.close()))},h._read=function(){a.isPaused&&a.resume()},h._write=function(b,c,d){if(a.readyState===a.CONNECTING)return void a.once("open",function(){h._write(b,c,d)});a.send(b,d)},h.on("end",f),h.on("error",g),h}},15162:a=>{"use strict";var b=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,c=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,d=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,e=/^-?infinity$/;function f(a){var b=c.exec(a);if(b){var d=parseInt(b[1],10),e=!!b[4];e&&(d=h(d));var f=parseInt(b[2],10)-1,g=b[3],j=new Date(d,f,g);return i(d)&&j.setFullYear(d),j}}function g(a){if(a.endsWith("+00"))return 0;var b=d.exec(a.split(" ")[1]);if(b){var c=b[1];if("Z"===c)return 0;var e="-"===c?-1:1,f=3600*parseInt(b[2],10)+60*parseInt(b[3]||0,10)+parseInt(b[4]||0,10);return f*e*1e3}}function h(a){return-(a-1)}function i(a){return a>=0&&a<100}a.exports=function(a){if(e.test(a))return Number(a.replace("i","I"));var c,d=b.exec(a);if(!d)return f(a)||null;var j=!!d[8],k=parseInt(d[1],10);j&&(k=h(k));var l=parseInt(d[2],10)-1,m=d[3],o=parseInt(d[4],10),p=parseInt(d[5],10),q=parseInt(d[6],10),r=d[7];r=r?1e3*parseFloat(r):0;var s=g(a);return null!=s?(c=new Date(Date.UTC(k,l,m,o,p,q,r)),i(k)&&c.setUTCFullYear(k),0!==s&&c.setTime(c.getTime()-s)):(c=new Date(k,l,m,o,p,q,r),i(k)&&c.setFullYear(k)),c}},15184:(a,b,c)=>{"use strict";let d=c(72953),e=c(24682);class f extends d{#P=null;#Q=null;constructor(a,b={}){super(b),this.#P=a,this.#Q=b}dispatch(a,b){let c=new e({...a,retryOptions:this.#Q},{dispatch:this.#P.dispatch.bind(this.#P),handler:b});return this.#P.dispatch(a,c)}close(){return this.#P.close()}destroy(){return this.#P.destroy()}}a.exports=f},15258:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{normalizeAppPath:function(){return f},normalizeRscURL:function(){return g}});let d=c(92659),e=c(76419);function f(a){return(0,d.ensureLeadingSlash)(a.split("/").reduce((a,b,c,d)=>!b||(0,e.isGroupSegment)(b)||"@"===b[0]||("page"===b||"route"===b)&&c===d.length-1?a:a+"/"+b,""))}function g(a){return a.replace(/\.rsc($|\?)/,"$1")}},15318:(a,b,c)=>{"use strict";let d=c(63590);class e extends d{constructor(a={}){super(a)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(a){this.date.setMinutes(parseInt(a.substr(-2)))}toString(){let a=this.date.getMinutes();return this.token.length>1?String(a).padStart(2,"0"):a}}a.exports=e},15376:(a,b,c)=>{"use strict";c.d(b,{h:()=>d});class d{authSchemes=new Map;constructor(a){for(let[b,c]of Object.entries(a))void 0!==c&&this.authSchemes.set(b,c)}getIdentityProvider(a){return this.authSchemes.get(a)}}},15629:(a,b,c)=>{"use strict";c.d(b,{$:()=>i});var d=c(55511),e=c(90639),f=c(93462);function g(){return new Promise((a,b)=>d.randomBytes(32,(c,d)=>c?b(c):a(d)))}function h(a,b){return new Promise((c,e)=>d.pbkdf2(a,b,25e3,512,"sha256",(a,b)=>a?e(a):c(b)))}let i=async({collection:a,password:b,req:c})=>{let d=(0,f.wJ)(b,{name:"password",type:"text",blockData:{},data:{},event:"submit",path:["password"],preferences:{fields:{}},req:c,required:!0,siblingData:{}});if("string"==typeof d)throw new e.y({collection:a?.slug,errors:[{message:d,path:"password"}]});let i=(await g()).toString("hex");return{hash:(await h(b,i)).toString("hex"),salt:i}}},15796:(a,b,c)=>{"use strict";c.d(b,{K:()=>d});class d{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(a){this.method=a.method||"GET",this.hostname=a.hostname||"localhost",this.port=a.port,this.query=a.query||{},this.headers=a.headers||{},this.body=a.body,this.protocol=a.protocol?":"!==a.protocol.slice(-1)?`${a.protocol}:`:a.protocol:"https:",this.path=a.path?"/"!==a.path.charAt(0)?`/${a.path}`:a.path:"/",this.username=a.username,this.password=a.password,this.fragment=a.fragment}static clone(a){let b=new d({...a,headers:{...a.headers}});return b.query&&(b.query=e(b.query)),b}static isInstance(a){if(!a)return!1;let b=a;return"method"in b&&"protocol"in b&&"hostname"in b&&"path"in b&&"object"==typeof b.query&&"object"==typeof b.headers}clone(){return d.clone(this)}}function e(a){return Object.keys(a).reduce((b,c)=>{let d=a[c];return{...b,[c]:Array.isArray(d)?[...d]:d}},{})}},16176:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(47934),e=c(34414),f=c(56965);b.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:a})=>(0,d._)`{allowedValue: ${a}}`},code(a){let{gen:b,data:c,$data:g,schemaCode:h,schema:i}=a;g||i&&"object"==typeof i?a.fail$data((0,d._)`!${(0,e.useFunc)(b,f.default)}(${c}, ${h})`):a.fail((0,d._)`${i} !== ${c}`)}}},16336:(a,b,c)=>{"use strict";let d=c(91513),e=a=>1==(a%=10)?"st":2===a?"nd":3===a?"rd":"th";class f extends d{constructor(a={}){super(a)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(a){this.date.setDate(parseInt(a.substr(-2)))}toString(){let a=this.date.getDate(),b=this.date.getDay();return"DD"===this.token?String(a).padStart(2,"0"):"Do"===this.token?a+e(a):"d"===this.token?b+1:"ddd"===this.token?this.locales.weekdaysShort[b]:"dddd"===this.token?this.locales.weekdays[b]:a}}a.exports=f},16532:a=>{"use strict";let b=0x7fffffff,c=36,d=1,e=26,f=38,g=700,h=72,i=128,j="-",k=/^xn--/,l=/[^\0-\x7F]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,o={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=35,q=Math.floor,r=String.fromCharCode;function s(a){throw RangeError(o[a])}function t(a,b){let c=[],d=a.length;for(;d--;)c[d]=b(a[d]);return c}function u(a,b){let c=a.split("@"),d="";return c.length>1&&(d=c[0]+"@",a=c[1]),d+t((a=a.replace(m,".")).split("."),b).join(".")}function v(a){let b=[],c=0,d=a.length;for(;c<d;){let e=a.charCodeAt(c++);if(e>=55296&&e<=56319&&c<d){let d=a.charCodeAt(c++);(64512&d)==56320?b.push(((1023&e)<<10)+(1023&d)+65536):(b.push(e),c--)}else b.push(e)}return b}let w=function(a){return a>=48&&a<58?26+(a-48):a>=65&&a<91?a-65:a>=97&&a<123?a-97:c},x=function(a,b){return a+22+75*(a<26)-((0!=b)<<5)},y=function(a,b,d){let h=0;for(a=d?q(a/g):a>>1,a+=q(a/b);a>p*e>>1;h+=c)a=q(a/p);return q(h+(p+1)*a/(a+f))},z=function(a){let f=[],g=a.length,k=0,l=i,m=h,o=a.lastIndexOf(j);o<0&&(o=0);for(let b=0;b<o;++b)a.charCodeAt(b)>=128&&s("not-basic"),f.push(a.charCodeAt(b));for(let h=o>0?o+1:0;h<g;){let i=k;for(let f=1,i=c;;i+=c){h>=g&&s("invalid-input");let j=w(a.charCodeAt(h++));j>=c&&s("invalid-input"),j>q((b-k)/f)&&s("overflow"),k+=j*f;let l=i<=m?d:i>=m+e?e:i-m;if(j<l)break;let o=c-l;f>q(b/o)&&s("overflow"),f*=o}let j=f.length+1;m=y(k-i,j,0==i),q(k/j)>b-l&&s("overflow"),l+=q(k/j),k%=j,f.splice(k++,0,l)}return String.fromCodePoint(...f)},A=function(a){let f=[],g=(a=v(a)).length,k=i,l=0,m=h;for(let b of a)b<128&&f.push(r(b));let o=f.length,p=o;for(o&&f.push(j);p<g;){let g=b;for(let b of a)b>=k&&b<g&&(g=b);let h=p+1;for(let i of(g-k>q((b-l)/h)&&s("overflow"),l+=(g-k)*h,k=g,a))if(i<k&&++l>b&&s("overflow"),i===k){let a=l;for(let b=c;;b+=c){let g=b<=m?d:b>=m+e?e:b-m;if(a<g)break;let h=a-g,i=c-g;f.push(r(x(g+h%i,0))),a=q(h/i)}f.push(r(x(a,0))),m=y(l,h,p===o),l=0,++p}++l,++k}return f.join("")},B=function(a){return u(a,function(a){return k.test(a)?z(a.slice(4).toLowerCase()):a})},C=function(a){return u(a,function(a){return l.test(a)?"xn--"+A(a):a})};a.exports={version:"2.3.1",ucs2:{decode:v,encode:a=>String.fromCodePoint(...a)},decode:z,encode:A,toASCII:C,toUnicode:B}},16605:(a,b,c)=>{"use strict";c.d(b,{X:()=>d});let d=(0,c(78164).m)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#InlineToolbarFeatureClient"},key:"toolbarInline"})},16606:(a,b,c)=>{"use strict";let d=c(68781),{erase:e,cursor:f}=c(40821),g=a=>[...d(a)].length;a.exports=function(a,b){if(!b)return e.line+f.to(0);let c=0;for(let d of a.split(/\r?\n/))c+=1+Math.floor(Math.max(g(d)-1,0)/b);return e.lines(c)}},16628:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(34414);b.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(a){let{gen:b,schema:c,it:e}=a;if((0,d.alwaysValidSchema)(e,c))return void a.fail();let f=b.name("valid");a.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},f),a.failResult(f,()=>a.reset(),()=>a.error())},error:{message:"must NOT be valid"}}},16689:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.assignDefaults=void 0;let d=c(47934),e=c(34414);function f(a,b,c){let{gen:f,compositeRule:g,data:h,opts:i}=a;if(void 0===c)return;let j=(0,d._)`${h}${(0,d.getProperty)(b)}`;if(g)return void(0,e.checkStrictMode)(a,`default is ignored for: ${j}`);let k=(0,d._)`${j} === undefined`;"empty"===i.useDefaults&&(k=(0,d._)`${k} || ${j} === null || ${j} === ""`),f.if(k,(0,d._)`${j} = ${(0,d.stringify)(c)}`)}b.assignDefaults=function(a,b){let{properties:c,items:d}=a.schema;if("object"===b&&c)for(let b in c)f(a,b,c[b].default);else"array"===b&&Array.isArray(d)&&d.forEach((b,c)=>f(a,c,b.default))}},16717:(a,b,c)=>{"use strict";c.d(b,{i:()=>w,DE:()=>D,Mz:()=>x,HY:()=>E,YW:()=>t,v5:()=>y});var d=c(86861),e=c(34318);let f=new Map;function g(a){let b={};if(!a)return b;for(let c of a.split(";"))if(""!==c){let[a,d]=c.split(/:([^]+)/);a&&d&&(b[a.trim()]=d.trim())}return b}function h(a){let b=f.get(a);return void 0===b&&(b=g(a),f.set(a,b)),b}function i(a,...b){let c=new URL("https://lexical.dev/docs/error"),d=new URLSearchParams;for(let c of(d.append("code",a),b))d.append("v",c);throw c.search=d.toString(),Error(`Minified Lexical error #${a}; visit ${c.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function j(a){let b=1,c=a.getParent();for(;null!=c;){if(x(c)){let a=c.getParent();if(E(a)){b++,c=a.getParent();continue}i(40)}break}return b}function k(a){return x(a)&&E(a.getFirstChild())}function l(a){return w().append(a)}function m(a,b){a.splice(a.getChildrenSize(),0,b)}function o(a,b){let c=a.getLastChild(),d=b.getFirstChild();c&&d&&k(c)&&k(d)&&(o(c.getFirstChild(),d.getFirstChild()),d.remove());let e=b.getChildren();e.length>0&&a.append(...e),b.remove()}function p(a){let b="check"!==a.getListType(),c=a.getStart();for(let d of a.getChildren())x(d)&&(d.getValue()!==c&&d.setValue(c),b&&null!=d.getLatest().__checked&&d.setChecked(void 0),E(d.getFirstChild())||c++)}function q(a){let b=new Set;if(k(a)||b.has(a.getKey()))return;let c=a.getParent(),d=a.getNextSibling(),e=a.getPreviousSibling();if(k(d)&&k(e)){let c=e.getFirstChild();if(E(c)){c.append(a);let e=d.getFirstChild();E(e)&&(m(c,e.getChildren()),d.remove(),b.add(d.getKey()))}}else if(k(d)){let b=d.getFirstChild();if(E(b)){let c=b.getFirstChild();null!==c&&c.insertBefore(a)}}else if(k(e)){let b=e.getFirstChild();E(b)&&b.append(a)}else if(E(c)){let b=w().setTextFormat(a.getTextFormat()).setTextStyle(a.getTextStyle()),f=D(c.getListType()).setTextFormat(c.getTextFormat()).setTextStyle(c.getTextStyle());b.append(f),f.append(a),e?e.insertAfter(b):d?d.insertBefore(b):c.append(b)}}function r(a){if(k(a))return;let b=a.getParent(),c=b?b.getParent():void 0;if(E(c?c.getParent():void 0)&&x(c)&&E(b)){let d=b?b.getFirstChild():void 0,e=b?b.getLastChild():void 0;if(a.is(d))c.insertBefore(a),b.isEmpty()&&c.remove();else if(a.is(e))c.insertAfter(a),b.isEmpty()&&c.remove();else{let d=b.getListType(),e=w(),f=D(d);e.append(f),a.getPreviousSiblings().forEach(a=>f.append(a));let g=w(),h=D(d);g.append(h),m(h,a.getNextSiblings()),c.insertBefore(e),c.insertAfter(g),c.replace(a)}}}function s(...a){let b=[];for(let c of a)if(c&&"string"==typeof c)for(let[a]of c.matchAll(/\S+/g))b.push(a);return b}class t extends e.fGB{$config(){return this.config("listitem",{$transform:a=>{if(null==a.__checked)return;let b=a.getParent();E(b)&&"check"!==b.getListType()&&null!=a.getChecked()&&a.setChecked(void 0)},extends:e.fGB,importDOM:(0,e.kBm)({li:()=>({conversion:u,priority:0})})})}constructor(a=1,b,c){super(c),this.__value=void 0===a?1:a,this.__checked=b}afterCloneFrom(a){super.afterCloneFrom(a),this.__value=a.__value,this.__checked=a.__checked}createDOM(a){let b=document.createElement("li");return this.updateListItemDOM(null,b,a),b}updateListItemDOM(a,b,c){let e=this.getParent();E(e)&&"check"===e.getListType()&&function(a,b,c,d){E(b.getFirstChild())?(a.removeAttribute("role"),a.removeAttribute("tabIndex"),a.removeAttribute("aria-checked")):(a.setAttribute("role","checkbox"),a.setAttribute("tabIndex","-1"),c&&b.__checked===c.__checked||a.setAttribute("aria-checked",b.getChecked()?"true":"false"))}(b,this,a),b.value=this.__value,function(a,b,c){let e,f=[],g=[],h=b.list,i=h?h.listitem:void 0;if(h&&h.nested&&(e=h.nested.listitem),void 0!==i&&f.push(...s(i)),h){let a=c.getParent(),b=E(a)&&"check"===a.getListType(),d=c.getChecked();b&&!d||g.push(h.listitemUnchecked),b&&d||g.push(h.listitemChecked),b&&f.push(d?h.listitemChecked:h.listitemUnchecked)}if(void 0!==e){let a=s(e);c.getChildren().some(a=>E(a))?f.push(...a):g.push(...a)}g.length>0&&(0,d.HE)(a,...g),f.length>0&&(0,d.ZB)(a,...f)}(b,c.theme,this);let f=a?a.__style:"",g=this.__style;f!==g&&(""===g?b.removeAttribute("style"):b.style.cssText=g),function(a,b,c){let d=h(b.__textStyle);for(let b in d)a.style.setProperty(`--listitem-marker-${b}`,d[b]);if(c)for(let b in h(c.__textStyle))b in d||a.style.removeProperty(`--listitem-marker-${b}`)}(b,this,a)}updateDOM(a,b,c){let d=b;return this.updateListItemDOM(a,d,c),!1}updateFromJSON(a){return super.updateFromJSON(a).setValue(a.value).setChecked(a.checked)}exportDOM(a){let b=this.createDOM(a._config),c=this.getFormatType();c&&(b.style.textAlign=c);let d=this.getDirection();return d&&(b.dir=d),{element:b}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...a){for(let b=0;b<a.length;b++){let c=a[b];if((0,e.ff4)(c)&&this.canMergeWith(c)){let a=c.getChildren();this.append(...a),c.remove()}else super.append(c)}return this}replace(a,b){if(x(a))return super.replace(a);this.setIndent(0);let c=this.getParentOrThrow();if(!E(c))return a;if(c.__first===this.getKey())c.insertBefore(a);else if(c.__last===this.getKey())c.insertAfter(a);else{let b=D(c.getListType()),d=this.getNextSibling();for(;d;){let a=d;d=d.getNextSibling(),b.append(a)}c.insertAfter(a),a.insertAfter(b)}return b&&((0,e.ff4)(a)||i(139),this.getChildren().forEach(b=>{a.append(b)})),this.remove(),0===c.getChildrenSize()&&c.remove(),a}insertAfter(a,b=!0){let c=this.getParentOrThrow();if(E(c)||i(39),x(a))return super.insertAfter(a,b);let d=this.getNextSiblings();if(c.insertAfter(a,b),0!==d.length){let e=D(c.getListType());d.forEach(a=>e.append(a)),a.insertAfter(e,b)}return a}remove(a){let b=this.getPreviousSibling(),c=this.getNextSibling();super.remove(a),b&&c&&k(b)&&k(c)&&(o(b.getFirstChild(),c.getFirstChild()),c.remove())}insertNewAfter(a,b=!0){let c=w().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(c,b),c}collapseAtStart(a){let b=(0,e.lJ7)();this.getChildren().forEach(a=>b.append(a));let c=this.getParentOrThrow(),d=c.getParentOrThrow(),f=x(d);if(1===c.getChildrenSize())if(f)c.remove(),d.select();else{c.insertBefore(b),c.remove();let d=a.anchor,e=a.focus,f=b.getKey();"element"===d.type&&d.getNode().is(this)&&d.set(f,d.offset,"element"),"element"===e.type&&e.getNode().is(this)&&e.set(f,e.offset,"element")}else c.insertBefore(b),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(a){let b=this.getWritable();return b.__value=a,b}getChecked(){let a,b=this.getLatest(),c=this.getParent();return E(c)&&(a=c.getListType()),"check"===a?!!b.__checked:void 0}setChecked(a){let b=this.getWritable();return b.__checked=a,b}toggleChecked(){let a=this.getWritable();return a.setChecked(!a.__checked)}getIndent(){let a=this.getParent();if(null===a||!this.isAttached())return this.getLatest().__indent;let b=a.getParentOrThrow(),c=0;for(;x(b);)b=b.getParentOrThrow().getParentOrThrow(),c++;return c}setIndent(a){"number"!=typeof a&&i(117),(a=Math.floor(a))>=0||i(199);let b=this.getIndent();for(;b!==a;)b<a?(q(this),b++):(r(this),b--);return this}canInsertAfter(a){return x(a)}canReplaceWith(a){return x(a)}canMergeWith(a){return x(a)||(0,e.bSg)(a)}extractWithChild(a,b){if(!(0,e.I2P)(b))return!1;let c=b.anchor.getNode(),d=b.focus.getNode();return this.isParentOf(c)&&this.isParentOf(d)&&this.getTextContent().length===b.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return D("bullet")}canMergeWhenEmpty(){return!0}}function u(a){if(a.classList.contains("task-list-item")){for(let b of a.children)if("INPUT"===b.tagName)return v(b)}let b=a.getAttribute("aria-checked");return{node:w("true"===b||"false"!==b&&void 0)}}function v(a){return"checkbox"!==a.getAttribute("type")?{node:null}:{node:w(a.hasAttribute("checked"))}}function w(a){return(0,e.pTq)(new t(void 0,a))}function x(a){return a instanceof t}class y extends e.fGB{$config(){return this.config("list",{$transform:a=>{!function(a){let b=a.getNextSibling();E(b)&&a.getListType()===b.getListType()&&o(a,b)}(a),p(a)},extends:e.fGB,importDOM:(0,e.kBm)({ol:()=>({conversion:B,priority:0}),ul:()=>({conversion:B,priority:0})})})}constructor(a="number",b=1,c){super(c);let d=C[a]||a;this.__listType=d,this.__tag="number"===d?"ol":"ul",this.__start=b}afterCloneFrom(a){super.afterCloneFrom(a),this.__listType=a.__listType,this.__tag=a.__tag,this.__start=a.__start}getTag(){return this.getLatest().__tag}setListType(a){let b=this.getWritable();return b.__listType=a,b.__tag="number"===a?"ol":"ul",b}getListType(){return this.getLatest().__listType}getStart(){return this.getLatest().__start}setStart(a){let b=this.getWritable();return b.__start=a,b}createDOM(a,b){let c=this.__tag,d=document.createElement(c);return 1!==this.__start&&d.setAttribute("start",String(this.__start)),d.__lexicalListType=this.__listType,z(d,a.theme,this),d}updateDOM(a,b,c){return a.__tag!==this.__tag||(z(b,c.theme,this),!1)}updateFromJSON(a){return super.updateFromJSON(a).setListType(a.listType).setStart(a.start)}exportDOM(a){let b=this.createDOM(a._config,a);return(0,e.sby)(b)&&(1!==this.__start&&b.setAttribute("start",String(this.__start)),"check"===this.__listType&&b.setAttribute("__lexicalListType","check")),{element:b}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(a,b,c){let d=c;for(let a=0;a<c.length;a++){let b=c[a];x(b)||(d===c&&(d=[...c]),d[a]=w().append(!(0,e.ff4)(b)||E(b)||b.isInline()?b:(0,e.sTu)(b.getTextContent())))}return super.splice(a,b,d)}extractWithChild(a){return x(a)}}function z(a,b,c){let e=[],f=[],g=b.list;if(void 0!==g){let a,b=g[`${c.__tag}Depth`]||[],d=j(c)-1,h=d%b.length,i=b[h],k=g[c.__tag],l=g.nested,m=g.checklist;if(void 0!==l&&l.list&&(a=l.list),void 0!==k&&e.push(k),void 0!==m&&"check"===c.__listType&&e.push(m),void 0!==i){e.push(...s(i));for(let a=0;a<b.length;a++)a!==h&&f.push(c.__tag+a)}if(void 0!==a){let b=s(a);d>1?e.push(...b):f.push(...b)}}f.length>0&&(0,d.HE)(a,...f),e.length>0&&(0,d.ZB)(a,...e)}function A(a){let b=[];for(let c=0;c<a.length;c++){let d=a[c];if(x(d)){b.push(d);let a=d.getChildren();a.length>1&&a.forEach(a=>{E(a)&&b.push(l(a))})}else b.push(l(d))}return b}function B(a){let b=a.nodeName.toLowerCase(),c=null;return"ol"===b?c=D("number",a.start):"ul"===b&&(c=!function(a){if("check"===a.getAttribute("__lexicallisttype")||a.classList.contains("contains-task-list"))return!0;for(let b of a.childNodes)if((0,e.sby)(b)&&b.hasAttribute("aria-checked"))return!0;return!1}(a)?D("bullet"):D("check")),{after:A,node:c}}let C={ol:"number",ul:"bullet"};function D(a="number",b=1){return(0,e.pTq)(new y(a,b))}function E(a){return a instanceof y}(0,e.guI)("INSERT_CHECK_LIST_COMMAND"),(0,e.guI)("UPDATE_LIST_START_COMMAND"),(0,e.guI)("INSERT_UNORDERED_LIST_COMMAND"),(0,e.guI)("INSERT_ORDERED_LIST_COMMAND"),(0,e.guI)("REMOVE_LIST_COMMAND")},16886:(a,b,c)=>{"use strict";c.d(b,{Y:()=>i});var d=c(61302),e=c(54094);let f=({fields:a,path:b,versions:c})=>{let d=[];if(c){d.push("version");let b=a.find(a=>"version"===a.name);b&&"group"===b.type&&(a=b.flattenedFields)}for(let c of b.split(".")){let b=a.find(a=>a.name===c);if(b&&(d.push(c),"relationship"===b.type||"upload"===b.type))break}return d.join(".")},g=({fields:a})=>{let b=[];for(let c of a)if("virtual"in c&&"string"==typeof c.virtual)b.push(c.virtual);else if("group"===c.type||"tab"===c.type)for(let a of g({fields:c.flattenedFields}))b.push(a);return b},h=({fields:a,selectValue:b,topLevelFields:c,versions:d})=>{let e=[];if(!0===b)for(let b of g({fields:a}))e.push(f({fields:c,path:b,versions:d}));else for(let g in b){let i=a.find(a=>a.name===g);if(i){if("virtual"in i&&"string"==typeof i.virtual)e.push(f({fields:c,path:i.virtual,versions:d}));else if("group"===i.type||"tab"===i.type)for(let a of h({fields:i.flattenedFields,selectValue:b[g],topLevelFields:c,versions:d}))e.push(f({fields:c,path:a,versions:d}))}}return e},i=({fields:a,forceSelect:b,select:c,versions:f})=>{if(!c||"exclude"===(0,e.a)(c))return c;if(b&&(c=(0,d.p)(c,b)),c)for(let b of h({fields:a,selectValue:c,topLevelFields:a,versions:f??!1})){let a=c,d=b.split(".");for(let b=0;b<d.length;b++){let c=d.length-1===b,e=d[b];c?a[e]=!0:e in a||(a[e]={},a=a[e])}}return c}},16921:a=>{"use strict";a.exports=function a(a){return a?"string"==typeof a?a.split(",").reduce((a,b,c)=>{let[d,e=c]=b.split(":");return a[d.toLowerCase()]=e,a},{}):"[object Object]"===Object.prototype.toString.call(a)?Object.keys(a).reduce((b,c)=>(b[c.toLowerCase()]=a[c],b),{}):{}:{}}},17204:(a,b,c)=>{"use strict";let d=c(79551),e=1800;class f{constructor(a){this.options=a||{},this.cookies=[]}set(a,b){let c,f=d.parse(b||""),g=this.parse(a);return g.domain?(c=g.domain.replace(/^\./,""),(f.hostname.length<c.length||("."+f.hostname).substr(-c.length+1)!=="."+c)&&(g.domain=f.hostname)):g.domain=f.hostname,g.path||(g.path=this.getPath(f.pathname)),g.expires||(g.expires=new Date(Date.now()+1e3*(Number(this.options.sessionTimeout||e)||e))),this.add(g)}get(a){return this.list(a).map(a=>a.name+"="+a.value).join("; ")}list(a){let b,c,d=[];for(b=this.cookies.length-1;b>=0;b--){if(c=this.cookies[b],this.isExpired(c)){this.cookies.splice(b,b);continue}this.match(c,a)&&d.unshift(c)}return d}parse(a){let b={};return(a||"").toString().split(";").forEach(a=>{let c,d=a.split("="),e=d.shift().trim().toLowerCase(),f=d.join("=").trim();if(e)switch(e){case"expires":"Invalid Date"!==(f=new Date(f)).toString()&&(b.expires=f);break;case"path":b.path=f;break;case"domain":(c=f.toLowerCase()).length&&"."!==c.charAt(0)&&(c="."+c),b.domain=c;break;case"max-age":b.expires=new Date(Date.now()+1e3*(Number(f)||0));break;case"secure":b.secure=!0;break;case"httponly":b.httponly=!0;break;default:b.name||(b.name=e,b.value=f)}}),b}match(a,b){let c=d.parse(b||"");return(c.hostname===a.domain||"."===a.domain.charAt(0)&&("."+c.hostname).substr(-a.domain.length)===a.domain)&&this.getPath(c.pathname).substr(0,a.path.length)===a.path&&(!a.secure||"https:"===c.protocol)}add(a){let b,c;if(!a||!a.name)return!1;for(b=0,c=this.cookies.length;b<c;b++)if(this.compare(this.cookies[b],a)){if(this.isExpired(a))return this.cookies.splice(b,1),!1;return this.cookies[b]=a,!0}return this.isExpired(a)||this.cookies.push(a),!0}compare(a,b){return a.name===b.name&&a.path===b.path&&a.domain===b.domain&&a.secure===b.secure&&a.httponly==a.httponly}isExpired(a){return a.expires&&a.expires<new Date||!a.value}getPath(a){let b=(a||"/").split("/");return b.pop(),"/"!==(b=b.join("/").trim()).charAt(0)&&(b="/"+b),"/"!==b.substr(-1)&&(b+="/"),b}}a.exports=f},17331:(a,b,c)=>{"use strict";c.d(b,{r:()=>d});let d=({descriptionPath:a,hasGenerateFn:b=!1,overrides:c,titlePath:d})=>({name:"preview",type:"ui",admin:{components:{Field:{clientProps:{descriptionPath:a,hasGenerateURLFn:b,titlePath:d},path:"@payloadcms/plugin-seo/client#PreviewComponent"}}},label:"Preview",...c??{}})},17463:(a,b,c)=>{"use strict";c.d(b,{d:()=>h});var d=c(28207),e=c(79748),f=c(33873);let g={svg:"image/svg+xml"},h=async a=>{if("string"!=typeof a)return;let b=f.basename(a),c=f.extname(a).slice(1),[h,i,j]=await Promise.all([e.readFile(a),e.stat(a),(0,d.bN)(a)]);return{name:b,data:h,mimetype:j?.mime||g[c],size:i.size}}},17738:a=>{function b(a,b){return Error("SASL channel binding: "+a+" when parsing public certificate "+b.toString("base64"))}function c(a,c){let d=a[c++];if(d<128)return{length:d,index:c};let e=127&d;if(e>4)throw b("bad length",a);d=0;for(let b=0;b<e;b++)d=d<<8|a[c++];return{length:d,index:c}}function d(a,d){if(6!==a[d++])throw b("non-OID data",a);let{length:e,index:f}=c(a,d),g=(d=f)+e,h=a[d++],i=(h/40|0)+"."+h%40;for(;d<g;){let b=0;for(;d<g;){let c=a[d++];if(b=b<<7|127&c,c<128)break}i+="."+b}return{oid:i,index:d}}function e(a,d){if(48!==a[d++])throw b("non-sequence data",a);return c(a,d)}a.exports={signatureAlgorithmHashFromCertificate:function(a,f){void 0===f&&(f=0),f=e(a,f).index;let{length:g,index:h}=e(a,f);f=e(a,f=h+g).index;let{oid:i,index:j}=d(a,f);switch(i){case"1.2.840.113549.1.1.4":return"MD5";case"1.2.840.113549.1.1.5":case"1.2.840.10045.4.1":return"SHA-1";case"1.2.840.113549.1.1.11":case"1.2.840.10045.4.3.2":return"SHA-256";case"1.2.840.113549.1.1.12":case"1.2.840.10045.4.3.3":return"SHA-384";case"1.2.840.113549.1.1.13":case"1.2.840.10045.4.3.4":case"1.3.101.110":case"1.3.101.112":return"SHA-512";case"1.2.840.113549.1.1.14":case"1.2.840.10045.4.3.1":return"SHA-224";case"1.2.840.113549.1.1.15":return"SHA512-224";case"1.2.840.113549.1.1.16":return"SHA512-256";case"1.2.840.113549.1.1.10":{if(f=e(a,f=j).index,160!==a[f++])throw b("non-tag data",a);f=c(a,f).index,f=e(a,f).index;let{oid:g}=d(a,f);switch(g){case"1.2.840.113549.2.5":return"MD5";case"1.3.14.3.2.26":return"SHA-1";case"2.16.840.1.101.3.4.2.1":return"SHA-256";case"2.16.840.1.101.3.4.2.2":return"SHA-384";case"2.16.840.1.101.3.4.2.3":return"SHA-512"}throw b("unknown hash OID "+g,a)}case"1.3.101.111":case"1.3.101.113":throw b("Ed448 certificate channel binding is not currently supported by Postgres")}throw b("unknown OID "+i,a)}}},18150:(a,b,c)=>{"use strict";a.exports=k;let{messageWithCauses:d,stackWithCauses:e,isErrorLike:f}=c(93618),{pinoErrProto:g,pinoErrorSymbols:h}=c(30693),{seen:i}=h,{toString:j}=Object.prototype;function k(a){if(!f(a))return a;a[i]=void 0;let b=Object.create(g);for(let c in b.type="[object Function]"===j.call(a.constructor)?a.constructor.name:a.name,b.message=d(a),b.stack=e(a),Array.isArray(a.errors)&&(b.aggregateErrors=a.errors.map(a=>k(a))),a)if(void 0===b[c]){let d=a[c];f(d)?"cause"===c||Object.prototype.hasOwnProperty.call(d,i)||(b[c]=k(d)):b[c]=d}return delete a[i],b.raw=a,b}},18154:(a,b,c)=>{"use strict";let d=c(13157),e=c(32488),f=c(33646),g=c(99421),h=c(44064),i=c(56345),j=c(7499),k=c(96238),l=c(18223),m=c(24404),o=(process.env.ETHEREAL_API||"https://api.nodemailer.com").replace(/\/+$/,""),p=(process.env.ETHEREAL_WEB||"https://ethereal.email").replace(/\/+$/,""),q=(process.env.ETHEREAL_API_KEY||"").replace(/\s*/g,"")||null,r=["true","yes","y","1"].includes((process.env.ETHEREAL_CACHE||"yes").toString().trim().toLowerCase()),s=!1;a.exports.createTransport=function(a,b){let c,l;if("object"==typeof a&&"function"!=typeof a.send||"string"==typeof a&&/^(smtps?|direct):/i.test(a))if((l=(c="string"==typeof a?a:a.url)?e.parseConnectionUrl(c):a).pool)a=new f(l);else if(l.sendmail)a=new h(l);else if(l.streamTransport)a=new i(l);else if(l.jsonTransport)a=new j(l);else if(l.SES){if(l.SES.ses&&l.SES.aws){let a=Error("Using legacy SES configuration, expecting @aws-sdk/client-sesv2, see https://nodemailer.com/transports/ses/");throw a.code="LegacyConfig",a}a=new k(l)}else a=new g(l);return new d(a,l,b)},a.exports.createTestAccount=function(a,b){let c;if(b||"function"!=typeof a||(b=a,a=!1),b||(c=new Promise((a,c)=>{b=e.callbackPromise(a,c)})),r&&s)return setImmediate(()=>b(null,s)),c;a=a||o;let d=[],f=0,g={},h={requestor:m.name,version:m.version};q&&(g.Authorization="Bearer "+q);let i=l(a+"/user",{contentType:"application/json",method:"POST",headers:g,body:Buffer.from(JSON.stringify(h))});return i.on("readable",()=>{let a;for(;null!==(a=i.read());)d.push(a),f+=a.length}),i.once("error",a=>b(a)),i.once("end",()=>{let a,c,e=Buffer.concat(d,f);try{a=JSON.parse(e.toString())}catch(a){c=a}return c?b(c):"success"!==a.status||a.error?b(Error(a.error||"Request failed")):void(delete a.status,b(null,s=a))}),c},a.exports.getTestMessageUrl=function(a){if(!a||!a.response)return!1;let b=new Map;return a.response.replace(/\[([^\]]+)\]$/,(a,c)=>{c.replace(/\b([A-Z0-9]+)=([^\s]+)/g,(a,c,d)=>{b.set(c,d)})}),!!(b.has("STATUS")&&b.has("MSGID"))&&(s.web||p)+"/message/"+b.get("MSGID")}},18223:(a,b,c)=>{"use strict";let d=c(81630),e=c(55591),f=c(79551),g=c(74075),h=c(27910).PassThrough,i=c(17204),j=c(24404),k=c(91645),l=5;function m(a,b){let c,o,p;(b=b||{}).fetchRes=b.fetchRes||new h,b.cookies=b.cookies||new i,b.redirects=b.redirects||0,b.maxRedirects=isNaN(b.maxRedirects)?l:b.maxRedirects,b.cookie&&([].concat(b.cookie||[]).forEach(c=>{b.cookies.set(c,a)}),b.cookie=!1);let q=b.fetchRes,r=f.parse(a),s=(b.method||"").toString().trim().toUpperCase()||"GET",t=!1,u="https:"===r.protocol?e:d,v={"accept-encoding":"gzip,deflate","user-agent":"nodemailer/"+j.version};if(Object.keys(b.headers||{}).forEach(a=>{v[a.toLowerCase().trim()]=b.headers[a]}),b.userAgent&&(v["user-agent"]=b.userAgent),r.auth&&(v.Authorization="Basic "+Buffer.from(r.auth).toString("base64")),(c=b.cookies.get(a))&&(v.cookie=c),b.body){if(!1!==b.contentType&&(v["Content-Type"]=b.contentType||"application/x-www-form-urlencoded"),"function"==typeof b.body.pipe)v["Transfer-Encoding"]="chunked",(o=b.body).on("error",b=>{t||(t=!0,b.type="FETCH",b.sourceUrl=a,q.emit("error",b))});else{if(b.body instanceof Buffer)o=b.body;else if("object"==typeof b.body)try{o=Buffer.from(Object.keys(b.body).map(a=>{let c=b.body[a].toString().trim();return encodeURIComponent(a)+"="+encodeURIComponent(c)}).join("&"))}catch(b){if(t)return;t=!0,b.type="FETCH",b.sourceUrl=a,q.emit("error",b);return}else o=Buffer.from(b.body.toString().trim());v["Content-Type"]=b.contentType||"application/x-www-form-urlencoded",v["Content-Length"]=o.length}s=(b.method||"").toString().trim().toUpperCase()||"POST"}let w={method:s,host:r.hostname,path:r.path,port:r.port?r.port:"https:"===r.protocol?443:80,headers:v,rejectUnauthorized:!1,agent:!1};b.tls&&Object.keys(b.tls).forEach(a=>{w[a]=b.tls[a]}),"https:"!==r.protocol||!r.hostname||r.hostname===w.host||k.isIP(r.hostname)||w.servername||(w.servername=r.hostname);try{p=u.request(w)}catch(b){return t=!0,setImmediate(()=>{b.type="FETCH",b.sourceUrl=a,q.emit("error",b)}),q}return b.timeout&&p.setTimeout(b.timeout,()=>{if(t)return;t=!0,p.abort();let b=Error("Request Timeout");b.type="FETCH",b.sourceUrl=a,q.emit("error",b)}),p.on("error",b=>{t||(t=!0,b.type="FETCH",b.sourceUrl=a,q.emit("error",b))}),p.on("response",c=>{let d;if(!t){switch(c.headers["content-encoding"]){case"gzip":case"deflate":d=g.createUnzip()}if(c.headers["set-cookie"]&&[].concat(c.headers["set-cookie"]||[]).forEach(c=>{b.cookies.set(c,a)}),[301,302,303,307,308].includes(c.statusCode)&&c.headers.location){if(b.redirects++,b.redirects>b.maxRedirects){t=!0;let b=Error("Maximum redirect count exceeded");b.type="FETCH",b.sourceUrl=a,q.emit("error",b),p.abort();return}return b.method="GET",b.body=!1,m(f.resolve(a,c.headers.location),b)}if(q.statusCode=c.statusCode,q.headers=c.headers,c.statusCode>=300&&!b.allowErrorResponse){t=!0;let b=Error("Invalid status code "+c.statusCode);b.type="FETCH",b.sourceUrl=a,q.emit("error",b),p.abort();return}c.on("error",b=>{t||(t=!0,b.type="FETCH",b.sourceUrl=a,q.emit("error",b),p.abort())}),d?(c.pipe(d).pipe(q),d.on("error",b=>{t||(t=!0,b.type="FETCH",b.sourceUrl=a,q.emit("error",b),p.abort())})):c.pipe(q)}}),setImmediate(()=>{if(o)try{if("function"==typeof o.pipe)return o.pipe(p);p.write(o)}catch(b){t=!0,b.type="FETCH",b.sourceUrl=a,q.emit("error",b);return}p.end()}),q}a.exports=function(a,b){return m(a,b)},a.exports.Cookies=i},18316:(a,b,c)=>{"use strict";a.exports=g;let{isMainThread:d}=c(75919),e=c(47346),f=c(13413);function g(a){let b=new e(a);return b.on("error",c),!a.sync&&d&&h(b),b;function c(a){if("EPIPE"===a.code){b.write=f,b.end=f,b.flushSync=f,b.destroy=f;return}b.removeListener("error",c)}}function h(a){if(global.WeakRef&&global.WeakMap&&global.FinalizationRegistry){let b=c(99495);b.register(a,i),a.on("close",function(){b.unregister(a)})}}function i(a,b){a.destroyed||("beforeExit"===b?(a.flush(),a.on("drain",function(){a.end()})):a.flushSync())}},18650:(a,b,c)=>{"use strict";let{Writable:d}=c(27910),{getDecoder:e}=c(86336);class f extends d{constructor(a){super({autoDestroy:!0,emitClose:!0,highWaterMark:"number"==typeof a.highWaterMark?a.highWaterMark:void 0});let b=a.defCharset||"utf8";a.conType.params&&"string"==typeof a.conType.params.charset&&(b=a.conType.params.charset),this.charset=b;let c=a.limits;this.fieldSizeLimit=c&&"number"==typeof c.fieldSize?c.fieldSize:1048576,this.fieldsLimit=c&&"number"==typeof c.fields?c.fields:1/0,this.fieldNameSizeLimit=c&&"number"==typeof c.fieldNameSize?c.fieldNameSize:100,this._inKey=!0,this._keyTrunc=!1,this._valTrunc=!1,this._bytesKey=0,this._bytesVal=0,this._fields=0,this._key="",this._val="",this._byte=-2,this._lastPos=0,this._encode=0,this._decoder=e(b)}static detect(a){return"application"===a.type&&"x-www-form-urlencoded"===a.subtype}_write(a,b,c){if(this._fields>=this.fieldsLimit)return c();let d=0,e=a.length;if(this._lastPos=0,-2!==this._byte){if(-1===(d=g(this,a,d,e)))return c(Error("Malformed urlencoded form"));if(d>=e)return c();this._inKey?++this._bytesKey:++this._bytesVal}a:for(;d<e;)if(this._inKey){for(d=h(this,a,d,e);d<e;){switch(a[d]){case 61:this._lastPos<d&&(this._key+=a.latin1Slice(this._lastPos,d)),this._lastPos=++d,this._key=this._decoder(this._key,this._encode),this._encode=0,this._inKey=!1;continue a;case 38:if(this._lastPos<d&&(this._key+=a.latin1Slice(this._lastPos,d)),this._lastPos=++d,this._key=this._decoder(this._key,this._encode),this._encode=0,this._bytesKey>0&&this.emit("field",this._key,"",{nameTruncated:this._keyTrunc,valueTruncated:!1,encoding:this.charset,mimeType:"text/plain"}),this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._bytesKey=0,this._bytesVal=0,++this._fields>=this.fieldsLimit)return this.emit("fieldsLimit"),c();continue;case 43:this._lastPos<d&&(this._key+=a.latin1Slice(this._lastPos,d)),this._key+=" ",this._lastPos=d+1;break;case 37:if(0===this._encode&&(this._encode=1),this._lastPos<d&&(this._key+=a.latin1Slice(this._lastPos,d)),this._lastPos=d+1,this._byte=-1,-1===(d=g(this,a,d+1,e)))return c(Error("Malformed urlencoded form"));if(d>=e)return c();++this._bytesKey,d=h(this,a,d,e);continue}++d,++this._bytesKey,d=h(this,a,d,e)}this._lastPos<d&&(this._key+=a.latin1Slice(this._lastPos,d))}else{for(d=i(this,a,d,e);d<e;){switch(a[d]){case 38:if(this._lastPos<d&&(this._val+=a.latin1Slice(this._lastPos,d)),this._lastPos=++d,this._inKey=!0,this._val=this._decoder(this._val,this._encode),this._encode=0,(this._bytesKey>0||this._bytesVal>0)&&this.emit("field",this._key,this._val,{nameTruncated:this._keyTrunc,valueTruncated:this._valTrunc,encoding:this.charset,mimeType:"text/plain"}),this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._bytesKey=0,this._bytesVal=0,++this._fields>=this.fieldsLimit)return this.emit("fieldsLimit"),c();continue a;case 43:this._lastPos<d&&(this._val+=a.latin1Slice(this._lastPos,d)),this._val+=" ",this._lastPos=d+1;break;case 37:if(0===this._encode&&(this._encode=1),this._lastPos<d&&(this._val+=a.latin1Slice(this._lastPos,d)),this._lastPos=d+1,this._byte=-1,-1===(d=g(this,a,d+1,e)))return c(Error("Malformed urlencoded form"));if(d>=e)return c();++this._bytesVal,d=i(this,a,d,e);continue}++d,++this._bytesVal,d=i(this,a,d,e)}this._lastPos<d&&(this._val+=a.latin1Slice(this._lastPos,d))}c()}_final(a){if(-2!==this._byte)return a(Error("Malformed urlencoded form"));(!this._inKey||this._bytesKey>0||this._bytesVal>0)&&(this._inKey?this._key=this._decoder(this._key,this._encode):this._val=this._decoder(this._val,this._encode),this.emit("field",this._key,this._val,{nameTruncated:this._keyTrunc,valueTruncated:this._valTrunc,encoding:this.charset,mimeType:"text/plain"})),a()}}function g(a,b,c,d){if(c>=d)return d;if(-1===a._byte){let e=j[b[c++]];if(-1===e)return -1;if(e>=8&&(a._encode=2),c<d){let d=j[b[c++]];if(-1===d)return -1;a._inKey?a._key+=String.fromCharCode((e<<4)+d):a._val+=String.fromCharCode((e<<4)+d),a._byte=-2,a._lastPos=c}else a._byte=e}else{let d=j[b[c++]];if(-1===d)return -1;a._inKey?a._key+=String.fromCharCode((a._byte<<4)+d):a._val+=String.fromCharCode((a._byte<<4)+d),a._byte=-2,a._lastPos=c}return c}function h(a,b,c,d){if(a._bytesKey>a.fieldNameSizeLimit){for(!a._keyTrunc&&a._lastPos<c&&(a._key+=b.latin1Slice(a._lastPos,c-1)),a._keyTrunc=!0;c<d;++c){let d=b[c];if(61===d||38===d)break;++a._bytesKey}a._lastPos=c}return c}function i(a,b,c,d){if(a._bytesVal>a.fieldSizeLimit){for(!a._valTrunc&&a._lastPos<c&&(a._val+=b.latin1Slice(a._lastPos,c-1)),a._valTrunc=!0;c<d&&38!==b[c];++c)++a._bytesVal;a._lastPos=c}return c}let j=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];a.exports=f},18669:(a,b,c)=>{"use strict";c.d(b,{Q:()=>e,r:()=>g});var d=c(65540);let e=({block:a})=>({...a,flattenedFields:g({fields:a.fields})}),f=new Map,g=({cache:a,fields:b})=>{if(a){let a=f.get(b);if(a)return a}let c=[];for(let a of b)switch(a.type){case"array":case"group":if((0,d.Z7)(a))c.push({...a,flattenedFields:g({fields:a.fields})});else for(let b of g({fields:a.fields}))c.push(b);break;case"blocks":{let b,d=[];if(a.blockReferences)for(let c of(b=[],a.blockReferences)){if("string"==typeof c){b.push(c);continue}b.push(e({block:c}))}else for(let b of a.blocks){if("string"==typeof b){d.push(b);continue}d.push(e({block:b}))}let f={...a,blockReferences:b,blocks:d};c.push(f);break}case"collapsible":case"row":for(let b of g({fields:a.fields}))c.push(b);break;case"join":c.push(a);break;case"tabs":for(let b of a.tabs)if((0,d.pz)(b))c.push({...b,type:"tab",flattenedFields:g({fields:b.fields})});else for(let a of g({fields:b.fields}))c.push(a);break;default:"ui"!==a.type&&c.push(a)}return f.set(b,c),c}},18754:(a,b,c)=>{"use strict";a.exports={DatePart:c(91513),Meridiem:c(28854),Day:c(16336),Hours:c(2153),Milliseconds:c(83222),Minutes:c(26631),Month:c(71496),Seconds:c(67380),Year:c(98789)}},18807:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=a=>Math.floor(a.getTime()/1e3)},18869:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{INTERCEPTION_ROUTE_MARKERS:function(){return e},extractInterceptionRouteInformation:function(){return g},isInterceptionRouteAppPath:function(){return f}});let d=c(15258),e=["(..)(..)","(.)","(..)","(...)"];function f(a){return void 0!==a.split("/").find(a=>e.find(b=>a.startsWith(b)))}function g(a){let b,c,f;for(let d of a.split("/"))if(c=e.find(a=>d.startsWith(a))){[b,f]=a.split(c,2);break}if(!b||!c||!f)throw Object.defineProperty(Error("Invalid interception route: "+a+". Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>"),"__NEXT_ERROR_CODE",{value:"E269",enumerable:!1,configurable:!0});switch(b=(0,d.normalizeAppPath)(b),c){case"(.)":f="/"===b?"/"+f:b+"/"+f;break;case"(..)":if("/"===b)throw Object.defineProperty(Error("Invalid interception route: "+a+". Cannot use (..) marker at the root level, use (.) instead."),"__NEXT_ERROR_CODE",{value:"E207",enumerable:!1,configurable:!0});f=b.split("/").slice(0,-1).concat(f).join("/");break;case"(...)":f="/"+f;break;case"(..)(..)":let g=b.split("/");if(g.length<=2)throw Object.defineProperty(Error("Invalid interception route: "+a+". Cannot use (..)(..) marker at the root level or one level up."),"__NEXT_ERROR_CODE",{value:"E486",enumerable:!1,configurable:!0});f=g.slice(0,-2).concat(f).join("/");break;default:throw Object.defineProperty(Error("Invariant: unexpected marker"),"__NEXT_ERROR_CODE",{value:"E112",enumerable:!1,configurable:!0})}return{interceptingRoute:b,interceptedRoute:f}}},19024:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DatabaseError=b.serialize=b.parse=void 0;let d=c(76530);Object.defineProperty(b,"DatabaseError",{enumerable:!0,get:function(){return d.DatabaseError}});let e=c(85790);Object.defineProperty(b,"serialize",{enumerable:!0,get:function(){return e.serialize}});let f=c(47797);b.parse=function(a,b){let c=new f.Parser;return a.on("data",a=>c.parse(a,b)),new Promise(b=>a.on("end",()=>b()))}},19071:(a,b,c)=>{"use strict";c.d(b,{M3:()=>g,W2:()=>f,ll:()=>e,t9:()=>h});var d=c(7e3);function e(a){return(0,d.A)(a)&&"string"==typeof a.kty}function f(a){return"oct"!==a.kty&&"string"==typeof a.d}function g(a){return"oct"!==a.kty&&void 0===a.d}function h(a){return e(a)&&"oct"===a.kty&&"string"==typeof a.k}},19435:(a,b,c)=>{"use strict";let{createInflateRaw:d,Z_DEFAULT_WINDOWBITS:e}=c(38522),{isValidClientWindowBits:f}=c(92803),g=Buffer.from([0,0,255,255]),h=Symbol("kBuffer"),i=Symbol("kLength");class j{#R;#Q={};constructor(a){this.#Q.serverNoContextTakeover=a.has("server_no_context_takeover"),this.#Q.serverMaxWindowBits=a.get("server_max_window_bits")}decompress(a,b,c){if(!this.#R){let a=e;if(this.#Q.serverMaxWindowBits){if(!f(this.#Q.serverMaxWindowBits))return void c(Error("Invalid server_max_window_bits"));a=Number.parseInt(this.#Q.serverMaxWindowBits)}this.#R=d({windowBits:a}),this.#R[h]=[],this.#R[i]=0,this.#R.on("data",a=>{this.#R[h].push(a),this.#R[i]+=a.length}),this.#R.on("error",a=>{this.#R=null,c(a)})}this.#R.write(a),b&&this.#R.write(g),this.#R.flush(()=>{let a=Buffer.concat(this.#R[h],this.#R[i]);this.#R[h].length=0,this.#R[i]=0,c(null,a)})}}a.exports={PerMessageDeflate:j}},19565:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(a){if(a&&a.__esModule)return a;var b=Object.create(null);return a&&Object.keys(a).forEach(function(c){if("default"!==c){var d=Object.getOwnPropertyDescriptor(a,c);Object.defineProperty(b,c,d.get?d:{enumerable:!0,get:function(){return a[c]}})}}),b.default=a,Object.freeze(b)}(c(83997));let{env:e={},argv:f=[],platform:g=""}="undefined"==typeof process?{}:process,h="NO_COLOR"in e||f.includes("--no-color"),i="FORCE_COLOR"in e||f.includes("--color"),j="win32"===g,k="dumb"===e.TERM,l=d&&d.isatty&&d.isatty(1)&&e.TERM&&!k,m="CI"in e&&("GITHUB_ACTIONS"in e||"GITLAB_CI"in e||"CIRCLECI"in e),o=!h&&(i||j&&!k||l||m),p=(a,b,c,d,e=b.substring(0,a)+d,f=b.substring(a+c.length),g=f.indexOf(c))=>e+(g<0?f:p(g,f,c,d)),q=(a,b,c,d,e)=>a<0?c+b+d:c+p(a,b,d,e)+d,r=(a,b,c=a,d=a.length+1)=>e=>e||""!==e&&void 0!==e?q((""+e).indexOf(b,d),e,a,b,c):"",s=(a,b,c)=>r(`\x1b[${a}m`,`\x1b[${b}m`,c),t={reset:s(0,0),bold:s(1,22,"\x1b[22m\x1b[1m"),dim:s(2,22,"\x1b[22m\x1b[2m"),italic:s(3,23),underline:s(4,24),inverse:s(7,27),hidden:s(8,28),strikethrough:s(9,29),black:s(30,39),red:s(31,39),green:s(32,39),yellow:s(33,39),blue:s(34,39),magenta:s(35,39),cyan:s(36,39),white:s(37,39),gray:s(90,39),bgBlack:s(40,49),bgRed:s(41,49),bgGreen:s(42,49),bgYellow:s(43,49),bgBlue:s(44,49),bgMagenta:s(45,49),bgCyan:s(46,49),bgWhite:s(47,49),blackBright:s(90,39),redBright:s(91,39),greenBright:s(92,39),yellowBright:s(93,39),blueBright:s(94,39),magentaBright:s(95,39),cyanBright:s(96,39),whiteBright:s(97,39),bgBlackBright:s(100,49),bgRedBright:s(101,49),bgGreenBright:s(102,49),bgYellowBright:s(103,49),bgBlueBright:s(104,49),bgMagentaBright:s(105,49),bgCyanBright:s(106,49),bgWhiteBright:s(107,49)},u=({useColor:a=o}={})=>a?t:Object.keys(t).reduce((a,b)=>({...a,[b]:String}),{}),{reset:v,bold:w,dim:x,italic:y,underline:z,inverse:A,hidden:B,strikethrough:C,black:D,red:E,green:F,yellow:G,blue:H,magenta:I,cyan:J,white:K,gray:L,bgBlack:M,bgRed:N,bgGreen:O,bgYellow:P,bgBlue:Q,bgMagenta:R,bgCyan:S,bgWhite:T,blackBright:U,redBright:V,greenBright:W,yellowBright:X,blueBright:Y,magentaBright:Z,cyanBright:$,whiteBright:_,bgBlackBright:aa,bgRedBright:ab,bgGreenBright:ac,bgYellowBright:ad,bgBlueBright:ae,bgMagentaBright:af,bgCyanBright:ag,bgWhiteBright:ah}=u();b.bgBlack=M,b.bgBlackBright=aa,b.bgBlue=Q,b.bgBlueBright=ae,b.bgCyan=S,b.bgCyanBright=ag,b.bgGreen=O,b.bgGreenBright=ac,b.bgMagenta=R,b.bgMagentaBright=af,b.bgRed=N,b.bgRedBright=ab,b.bgWhite=T,b.bgWhiteBright=ah,b.bgYellow=P,b.bgYellowBright=ad,b.black=D,b.blackBright=U,b.blue=H,b.blueBright=Y,b.bold=w,b.createColors=u,b.cyan=J,b.cyanBright=$,b.dim=x,b.gray=L,b.green=F,b.greenBright=W,b.hidden=B,b.inverse=A,b.isColorSupported=o,b.italic=y,b.magenta=I,b.magentaBright=Z,b.red=E,b.redBright=V,b.reset=v,b.strikethrough=C,b.underline=z,b.white=K,b.whiteBright=_,b.yellow=G,b.yellowBright=X},19669:(a,b,c)=>{"use strict";c.d(b,{L:()=>o});let d=async a=>{let b;switch(a){case"ar":b=(await c.e(8830).then(c.bind(c,58830))).ar;break;case"az":b=(await c.e(7437).then(c.bind(c,37437))).az;break;case"bg":b=(await c.e(6863).then(c.bind(c,6863))).bg;break;case"bn-BD":case"bn-IN":b=(await c.e(8198).then(c.bind(c,28198))).bn;break;case"ca":b=(await c.e(3802).then(c.bind(c,53802))).ca;break;case"cs":b=(await c.e(1685).then(c.bind(c,31685))).cs;break;case"da":b=(await c.e(9220).then(c.bind(c,9220))).da;break;case"de":b=(await c.e(6293).then(c.bind(c,76293))).de;break;case"en-US":b=(await c.e(4946).then(c.bind(c,94946))).enUS;break;case"es":b=(await c.e(5288).then(c.bind(c,45288))).es;break;case"et":b=(await c.e(665).then(c.bind(c,10665))).et;break;case"fa-IR":b=(await c.e(8124).then(c.bind(c,18124))).faIR;break;case"fr":b=(await c.e(5131).then(c.bind(c,5131))).fr;break;case"he":b=(await c.e(6059).then(c.bind(c,96059))).he;break;case"hr":b=(await c.e(9106).then(c.bind(c,69106))).hr;break;case"hu":b=(await c.e(8608).then(c.bind(c,58608))).hu;break;case"id":b=(await c.e(3869).then(c.bind(c,43869))).id;break;case"is":b=(await c.e(6576).then(c.bind(c,36576))).is;break;case"it":b=(await c.e(6802).then(c.bind(c,86802))).it;break;case"ja":b=(await c.e(8734).then(c.bind(c,38734))).ja;break;case"ko":b=(await c.e(4945).then(c.bind(c,44945))).ko;break;case"lt":b=(await c.e(6916).then(c.bind(c,86916))).lt;break;case"lv":b=(await c.e(7442).then(c.bind(c,17442))).lv;break;case"nb":b=(await c.e(6357).then(c.bind(c,36357))).nb;break;case"nl":b=(await c.e(4073).then(c.bind(c,4073))).nl;break;case"pl":b=(await c.e(5767).then(c.bind(c,45767))).pl;break;case"pt":b=(await c.e(1406).then(c.bind(c,41406))).pt;break;case"ro":b=(await c.e(1604).then(c.bind(c,31604))).ro;break;case"rs":b=(await c.e(7912).then(c.bind(c,7912))).sr;break;case"rs-Latin":b=(await c.e(6288).then(c.bind(c,66288))).srLatn;break;case"ru":b=(await c.e(4410).then(c.bind(c,94410))).ru;break;case"sk":b=(await c.e(8300).then(c.bind(c,38300))).sk;break;case"sl-SI":b=(await c.e(5600).then(c.bind(c,25600))).sl;break;case"sv":b=(await c.e(5471).then(c.bind(c,5471))).sv;break;case"ta":b=(await c.e(1252).then(c.bind(c,71252))).ta;break;case"th":b=(await c.e(2409).then(c.bind(c,12409))).th;break;case"tr":b=(await c.e(407).then(c.bind(c,90407))).tr;break;case"uk":b=(await c.e(9309).then(c.bind(c,19309))).uk;break;case"vi":b=(await c.e(7678).then(c.bind(c,77678))).vi;break;case"zh-CN":b=(await c.e(9062).then(c.bind(c,89062))).zhCN;break;case"zh-TW":b=(await c.e(4876).then(c.bind(c,24876))).zhTW}return b?.default?b.default:b};var e=c(61302);let f=["authentication:account","authentication:accountOfCurrentUser","authentication:accountVerified","authentication:alreadyActivated","authentication:alreadyLoggedIn","authentication:apiKey","authentication:authenticated","authentication:backToLogin","authentication:beginCreateFirstUser","authentication:changePassword","authentication:checkYourEmailForPasswordReset","authentication:confirmGeneration","authentication:confirmPassword","authentication:createFirstUser","authentication:emailNotValid","authentication:usernameNotValid","authentication:emailOrUsername","authentication:emailSent","authentication:emailVerified","authentication:enableAPIKey","authentication:failedToUnlock","authentication:forceUnlock","authentication:forgotPassword","authentication:forgotPasswordEmailInstructions","authentication:forgotPasswordUsernameInstructions","authentication:forgotPasswordQuestion","authentication:generate","authentication:generateNewAPIKey","authentication:generatingNewAPIKeyWillInvalidate","authentication:logBackIn","authentication:loggedOutInactivity","authentication:loggedOutSuccessfully","authentication:loggingOut","authentication:login","authentication:logOut","authentication:loggedIn","authentication:loggedInChangePassword","authentication:logout","authentication:logoutUser","authentication:logoutSuccessful","authentication:newAPIKeyGenerated","authentication:newPassword","authentication:passed","authentication:passwordResetSuccessfully","authentication:resetPassword","authentication:stayLoggedIn","authentication:successfullyRegisteredFirstUser","authentication:successfullyUnlocked","authentication:username","authentication:unableToVerify","authentication:tokenRefreshSuccessful","authentication:verified","authentication:verifiedSuccessfully","authentication:verify","authentication:verifyUser","authentication:youAreInactive","dashboard:addWidget","dashboard:deleteWidget","dashboard:searchWidgets","error:autosaving","error:correctInvalidFields","error:deletingTitle","error:documentNotFound","error:emailOrPasswordIncorrect","error:usernameOrPasswordIncorrect","error:loadingDocument","error:insufficientClipboardPermissions","error:invalidClipboardData","error:invalidRequestArgs","error:invalidFileType","error:logoutFailed","error:noMatchedField","error:notAllowedToAccessPage","error:previewing","error:unableToCopy","error:unableToDeleteCount","error:unableToReindexCollection","error:unableToUpdateCount","error:unauthorized","error:unauthorizedAdmin","error:unknown","error:unspecific","error:unverifiedEmail","error:userEmailAlreadyRegistered","error:usernameAlreadyRegistered","error:tokenNotProvided","error:unPublishingDocument","error:problemUploadingFile","error:restoringTitle","fields:addLabel","fields:addLink","fields:addNew","fields:addNewLabel","fields:addRelationship","fields:addUpload","fields:block","fields:blocks","fields:blockType","fields:chooseBetweenCustomTextOrDocument","fields:customURL","fields:chooseDocumentToLink","fields:openInNewTab","fields:enterURL","fields:internalLink","fields:chooseFromExisting","fields:linkType","fields:textToDisplay","fields:searchForLanguage","fields:collapseAll","fields:editLink","fields:editRelationship","fields:itemsAndMore","fields:labelRelationship","fields:latitude","fields:linkedTo","fields:longitude","fields:passwordsDoNotMatch","fields:removeRelationship","fields:removeUpload","fields:saveChanges","fields:searchForBlock","fields:selectFieldsToEdit","fields:showAll","fields:swapRelationship","fields:swapUpload","fields:toggleBlock","fields:uploadNewLabel","folder:byFolder","folder:browseByFolder","folder:deleteFolder","folder:folders","folder:folderTypeDescription","folder:folderName","folder:itemsMovedToFolder","folder:itemsMovedToRoot","folder:itemHasBeenMoved","folder:itemHasBeenMovedToRoot","folder:moveFolder","folder:movingFromFolder","folder:moveItemsToFolderConfirmation","folder:moveItemsToRootConfirmation","folder:moveItemToFolderConfirmation","folder:moveItemToRootConfirmation","folder:noFolder","folder:newFolder","folder:renameFolder","folder:searchByNameInFolder","folder:selectFolderForItem","general:all","general:aboutToDeleteCount","general:aboutToDelete","general:aboutToPermanentlyDelete","general:aboutToPermanentlyDeleteTrash","general:aboutToRestore","general:aboutToRestoreAsDraft","general:aboutToRestoreAsDraftCount","general:aboutToRestoreCount","general:aboutToTrash","general:aboutToTrashCount","general:addBelow","general:addFilter","general:adminTheme","general:allCollections","general:and","general:anotherUser","general:anotherUserTakenOver","general:applyChanges","general:ascending","general:automatic","general:backToDashboard","general:cancel","general:changesNotSaved","general:close","general:collapse","general:collections","general:confirmMove","general:yes","general:no","general:columns","general:columnToSort","general:confirm","general:confirmCopy","general:confirmDeletion","general:confirmDuplication","general:confirmReindex","general:confirmReindexAll","general:confirmReindexDescription","general:confirmReindexDescriptionAll","general:confirmRestoration","general:copied","general:clear","general:clearAll","general:copy","general:copyField","general:copyRow","general:copyWarning","general:copying","general:create","general:created","general:createdAt","general:createNew","general:createNewLabel","general:creating","general:creatingNewLabel","general:currentlyEditing","general:custom","general:dark","general:dashboard","general:delete","general:deleted","general:deletedAt","general:deletePermanently","general:deleteLabel","general:deletedSuccessfully","general:deletedCountSuccessfully","general:deleting","general:descending","general:depth","general:deselectAllRows","general:document","general:documentIsTrashed","general:documentLocked","general:documents","general:duplicate","general:duplicateWithoutSaving","general:edit","general:editAll","general:editing","general:editingLabel","general:editingTakenOver","general:editLabel","general:editedSince","general:email","general:emailAddress","general:emptyTrash","general:emptyTrashLabel","general:enterAValue","general:error","general:errors","general:fallbackToDefaultLocale","general:false","general:filters","general:filterWhere","general:globals","general:goBack","general:groupByLabel","general:isEditing","general:item","general:items","general:language","general:lastModified","general:leaveAnyway","general:leaveWithoutSaving","general:light","general:livePreview","general:lock","general:exitLivePreview","general:loading","general:locale","general:locales","general:menu","general:moreOptions","general:move","general:moveConfirm","general:moveCount","general:moveDown","general:moveUp","general:moving","general:movingCount","general:name","general:next","general:newLabel","general:noDateSelected","general:noFiltersSet","general:noLabel","general:none","general:noOptions","general:noResults","general:notFound","general:nothingFound","general:noTrashResults","general:noUpcomingEventsScheduled","general:noValue","general:of","general:open","general:only","general:or","general:order","general:overwriteExistingData","general:pageNotFound","general:password","general:pasteField","general:pasteRow","general:payloadSettings","general:permanentlyDelete","general:permanentlyDeletedCountSuccessfully","general:perPage","general:previous","general:reindex","general:reindexingAll","general:remove","general:rename","general:reset","general:resetPreferences","general:resetPreferencesDescription","general:resettingPreferences","general:restore","general:restoreAsPublished","general:restoredCountSuccessfully","general:restoring","general:row","general:rows","general:save","general:schedulePublishFor","general:saving","general:searchBy","general:select","general:selectAll","general:selectAllRows","general:selectedCount","general:selectLabel","general:selectValue","general:showAllLabel","general:sorryNotFound","general:sort","general:sortByLabelDirection","general:stayOnThisPage","general:submissionSuccessful","general:submit","general:submitting","general:success","general:successfullyCreated","general:successfullyDuplicated","general:successfullyReindexed","general:takeOver","general:thisLanguage","general:time","general:timezone","general:titleDeleted","general:titleTrashed","general:titleRestored","general:trash","general:trashedCountSuccessfully","general:import","general:export","general:allLocales","general:true","general:upcomingEvents","general:users","general:user","general:username","general:unauthorized","general:unlock","general:unsavedChanges","general:unsavedChangesDuplicate","general:untitled","general:updatedAt","general:updatedLabelSuccessfully","general:updatedCountSuccessfully","general:updateForEveryone","general:updatedSuccessfully","general:updating","general:value","general:viewing","general:viewReadOnly","general:uploading","general:uploadingBulk","general:welcome","localization:localeToPublish","localization:copyToLocale","localization:copyFromTo","localization:selectedLocales","localization:selectLocaleToCopy","localization:selectLocaleToDuplicate","localization:cannotCopySameLocale","localization:copyFrom","localization:copyTo","operators:equals","operators:exists","operators:isNotIn","operators:isIn","operators:contains","operators:isLike","operators:isNotLike","operators:isNotEqualTo","operators:near","operators:isGreaterThan","operators:isLessThan","operators:isGreaterThanOrEqualTo","operators:isLessThanOrEqualTo","operators:within","operators:intersects","upload:addFile","upload:addFiles","upload:bulkUpload","upload:crop","upload:cropToolDescription","upload:dragAndDrop","upload:editImage","upload:fileToUpload","upload:filesToUpload","upload:focalPoint","upload:focalPointDescription","upload:height","upload:pasteURL","upload:previewSizes","upload:selectCollectionToBrowse","upload:selectFile","upload:setCropArea","upload:setFocalPoint","upload:sizesFor","upload:sizes","upload:width","upload:fileName","upload:fileSize","upload:noFile","upload:download","validation:emailAddress","validation:enterNumber","validation:fieldHasNo","validation:greaterThanMax","validation:invalidInput","validation:invalidSelection","validation:invalidSelections","validation:latitudeOutOfBounds","validation:lessThanMin","validation:limitReached","validation:longitudeOutOfBounds","validation:invalidBlock","validation:invalidBlocks","validation:longerThanMin","validation:notValidDate","validation:required","validation:requiresAtLeast","validation:requiresNoMoreThan","validation:requiresTwoNumbers","validation:shorterThanMax","validation:trueOrFalse","validation:timezoneRequired","validation:username","validation:validUploadID","version:aboutToPublishSelection","version:aboutToRestore","version:aboutToRestoreGlobal","version:aboutToRevertToPublished","version:aboutToUnpublish","version:aboutToUnpublishSelection","version:autosave","version:autosavedSuccessfully","version:autosavedVersion","version:versionAgo","version:moreVersions","version:changed","version:changedFieldsCount","version:confirmRevertToSaved","version:compareVersions","version:comparingAgainst","version:currentlyViewing","version:confirmPublish","version:confirmUnpublish","version:confirmVersionRestoration","version:currentDraft","version:currentPublishedVersion","version:currentlyPublished","version:draft","version:draftHasPublishedVersion","version:draftSavedSuccessfully","version:lastSavedAgo","version:modifiedOnly","version:noFurtherVersionsFound","version:noLabelGroup","version:noRowsFound","version:noRowsSelected","version:preview","version:previouslyDraft","version:previouslyPublished","version:previousVersion","version:problemRestoringVersion","version:publish","version:publishAllLocales","version:publishChanges","version:published","version:publishIn","version:publishing","version:restoreAsDraft","version:restoredSuccessfully","version:restoreThisVersion","version:restoring","version:reverting","version:revertToPublished","version:saveDraft","version:scheduledSuccessfully","version:schedulePublish","version:selectLocales","version:selectVersionToCompare","version:showLocales","version:specificVersion","version:status","version:type","version:unpublish","version:unpublishing","version:versionID","version:version","version:versions","version:viewingVersion","version:viewingVersionGlobal","version:viewingVersions","version:viewingVersionsGlobal"];function g(a,b="",c){let d={};for(let[e,f]of Object.entries(a)){if("$schema"===e){d[e]=f;continue}if("object"==typeof f){let a=g(f,e,c);Object.keys(a).length>0&&(d[e]=a)}else for(let a of c){let[c,g]=a.split(":");b===c&&(e===g?d[g]=f:["zero","one","two","few","many","other"].forEach(a=>{e===`${g}_${a}`&&(d[`${g}_${a}`]=f)}))}}return d}function h(a){let b={};return Object.keys(a).sort().forEach(c=>{"object"==typeof a[c]?b[c]=h(a[c]):b[c]=a[c]}),b}let i=(a,b)=>"client"===b?h(g(a.translations,"",f)):a.translations,j=({count:a,key:b,translations:c})=>{let d=b.split(":"),e="",f=d.reduce((b,c,f)=>{if("string"==typeof b)return b;"number"==typeof a&&(0===a&&`${c}_zero`in b?e="_zero":1===a&&`${c}_one`in b?e="_one":2===a&&`${c}_two`in b?e="_two":a>5&&`${c}_many`in b?e="_many":a>2&&a<=5&&`${c}_few`in b?e="_few":`${c}_other`in b&&(e="_other"));let g=c;if(f===d.length-1&&e&&(g=`${c}${e}`),b&&g in b)return b[g]},c);return f||console.log("key not found:",b),f||b},k=({translationString:a,vars:b})=>a.split(/(\{\{.*?\}\})/).map(a=>{if(!(a.startsWith("{{")&&a.endsWith("}}")))return a;{let c=b[a.substring(2,a.length-2).trim()];return null!=c?c:a}}).join("");function l({key:a,translations:b,vars:c}){let d=j({count:"number"==typeof c?.count?c.count:void 0,key:a,translations:b});return c&&(d=k({translationString:d,vars:c})),d||(d=a),d}let m=a=>{let{config:b,language:c,translations:d}=a,f=c&&b?.translations?.[c]?(0,e.p)(d,b.translations[c]):d;return{t:(a,b)=>l({key:a,translations:f,vars:b}),translations:f}},o=function(a,b){let c=new Map;return async d=>{let e=b.reduce((a,b)=>a+String(d[b]),"");if(!c.has(e)){let b=await a(d);c.set(e,b)}return c.get(e)}}(async({config:a,context:b,language:c=a.fallbackLanguage})=>{if(!c||!a.supportedLanguages?.[c])throw Error(`Language ${c} not supported`);let e=i(a.supportedLanguages?.[c],b),{t:f,translations:g}=m({config:a,language:c||a.fallbackLanguage,translations:e}),h=a.supportedLanguages[c]?.dateFNSKey||"en-US";return{dateFNS:await d(h),dateFNSKey:h,fallbackLanguage:a.fallbackLanguage,language:c||a.fallbackLanguage,t:f,translations:g}},["language","context"])},20112:(a,b,c)=>{"use strict";c.d(b,{u:()=>p});let d=a=>async({id:b,collection:c,req:{payload:d},req:e})=>{let f=a?.searchOverrides?.slug||"search";try{await d.delete({collection:f,depth:0,req:e,where:{"doc.relationTo":{equals:c.slug},"doc.value":{equals:b}}})}catch(a){d.logger.error({err:a,msg:`Error deleting ${f} doc.`})}},e=async({collection:a,doc:b,locale:c,onSyncError:d,operation:e,pluginConfig:f,req:{payload:g},req:h})=>{let{id:i,_status:j,title:k}=b||{},{beforeSync:l,defaultPriorities:m,deleteDrafts:o,searchOverrides:p,syncDrafts:q}=f,r=p?.slug||"search",s=c||h.locale,t={doc:{relationTo:a,value:i},title:k},u=`${a}:${i}`,v=f.locales?.length?`${u}:${s}`:u,w=h.context?.syncedDocsSet||new Set;if(w.has(v))return b;if(w.add(v),h.context.syncedDocsSet=w,"function"==typeof l){let c=b;if(g.config?.localization){let d=b&&"deletedAt"in b&&b.deletedAt;c=await g.findByID({id:i,collection:a,locale:s,req:h,trash:d})}t=await l({originalDoc:c,payload:g,req:h,searchDoc:t})}let x=0;if(m){let{[a]:c}=m;if("function"==typeof c)try{x=await c(b)}catch(b){g.logger.error(b),g.logger.error(`Error gathering default priority for ${r} documents related to ${a}`)}else void 0!==c&&(x=c)}let y=q||!q&&"draft"!==j;try{if("create"===e&&y&&await g.create({collection:r,data:{...t,priority:x},depth:0,locale:s,req:h}),"update"===e)try{let c=await g.find({collection:r,depth:0,locale:s,req:h,where:{"doc.relationTo":{equals:a},"doc.value":{equals:i}}}),[d,...e]=c?.docs||[];if(e.length>0)try{let a=e.map(({id:a})=>a);await g.delete({collection:r,depth:0,req:h,where:{id:{in:a}}})}catch(a){g.logger.error({err:a,msg:`Error deleting duplicative ${r} documents.`})}if(d){let{id:c}=d;if(y)try{await g.update({id:c,collection:r,data:{...t,priority:d.priority||x},depth:0,locale:s,req:h})}catch(a){g.logger.error({err:a,msg:`Error updating ${r} document.`})}let e=b&&"deletedAt"in b&&b.deletedAt;if(e)try{await g.delete({id:c,collection:r,depth:0,req:h})}catch(a){g.logger.error({err:a,msg:`Error deleting ${r} document for trashed doc.`})}if(o&&"draft"===j){let{docs:[b]}=await g.find({collection:a,depth:0,draft:!1,limit:1,locale:s,pagination:!1,req:h,where:{and:[{_status:{equals:"published"}},{id:{equals:i}}]}});if(!b&&!e)try{await g.delete({id:c,collection:r,depth:0,req:h})}catch(a){g.logger.error({err:a,msg:`Error deleting ${r} document.`})}}}else if(y)try{await g.create({collection:r,data:{...t,priority:x},depth:0,locale:s,req:h})}catch(a){g.logger.error({err:a,msg:`Error creating ${r} document.`})}}catch(a){g.logger.error({err:a,msg:`Error finding ${r} document.`})}}catch(b){g.logger.error({err:b,msg:`Error syncing ${r} document related to ${a} with id: '${i}'.`}),d&&d()}return b},f=a=>e(a);var g=c(82397),h=c(38053),i=c(8906),j=c(23271),k=c(66089),l=c(46386);let m=a=>async b=>{if((0,g.r)(b),!b.json)return new Response("Req.json is undefined",{status:400});let{collections:c=[]}=await b.json(),d=b.t,f=a?.searchOverrides?.slug||"search",m=a?.collections||[],o=a?.locales?.length?a.locales:b.locale?[b.locale]:[],p=async()=>{let c=await (0,h.R)({req:b}),e=c.collections?.[f];if(!e)return{isValid:!1,message:d("error:notAllowedToPerformAction")};let g=[e.delete,e.update];return a.searchOverrides?.access?.create&&g.push(e.create),a.searchOverrides?.access?.read&&g.push(e.read),g.every(Boolean)?{isValid:!0}:{isValid:!1,message:d("error:notAllowedToPerformAction")}},q=()=>{let a=c.every(a=>m.includes(a));return c.length&&a?{isValid:!0}:{isValid:!1,message:d("error:invalidRequestArgs",{args:"'collections'"})}},r=(0,i.y)({headers:new Headers,req:b}),{isValid:s,message:t}=await p();if(!s)return Response.json({message:t},{headers:r,status:401});let{isValid:u,message:v}=q();if(!u)return Response.json({message:v},{headers:r,status:400});let w=b.payload,{reindexBatchSize:x,syncDrafts:y}=a,z={overrideAccess:!1,req:b,user:b.user},A={_status:{equals:"published"}},B=0,C=0,D=0,E=async(a,b)=>{let{totalDocs:c}=await w.count({collection:a,...z,req:void 0,where:b?void 0:A});return c},F=async a=>{await w.delete({collection:f,depth:0,select:{id:!0},where:{"doc.relationTo":{equals:a}},...z})},G=async c=>{let d=!!w.collections[c]?.config.versions?.drafts,f=await E(c,!0),g=y||!d?f:await E(c,!d),h=Math.ceil(g/x);B+=f,D+=g;for(let f=0;f<o.length;f++){let g=0===f?"create":"update",i=o[f];for(let f=0;f<h;f++){let{docs:h}=await w.find({collection:c,depth:0,limit:x,locale:i,page:f+1,where:y||!d?void 0:A,...z});for(let d of h)await e({collection:c,data:d,doc:d,locale:i,onSyncError:()=>"create"===g&&C++,operation:g,pluginConfig:a,req:b})}}},H=await (0,j.n)(b);try{let a=c.map(async a=>{try{await F(a),await G(a)}catch(c){let b=d("error:unableToReindexCollection",{collection:a});w.logger.error({err:c,msg:b})}});await Promise.all(a)}catch(a){return H&&await (0,k.J)(b),Response.json({message:a.message},{headers:r,status:500})}let I=d("general:successfullyReindexed",{collections:c.join(", "),count:D-C,skips:y?0:B-D,total:B});return H&&await (0,l.w)(b),Response.json({message:I},{headers:r,status:200})},o=a=>{let b=a?.searchOverrides?.slug||"search",c=a?.collections||[],d=a?.labels,e=[{name:"title",type:"text",admin:{readOnly:!0},localized:a.localize},{name:"priority",type:"number",admin:{position:"sidebar"}},{name:"doc",type:"relationship",admin:{position:"sidebar",readOnly:!0},index:!0,maxDepth:0,relationTo:c,required:!0},{name:"docUrl",type:"ui",admin:{components:{Field:{path:"@payloadcms/plugin-search/client#LinkToDoc"}},position:"sidebar"}}];if(!d)throw Error("collectionLabels is required");return{...a?.searchOverrides||{},slug:b,access:{create:()=>!1,read:()=>!0,...a?.searchOverrides?.access||{}},admin:{components:{views:{list:{actions:[{path:"@payloadcms/plugin-search/client#ReindexButton",serverProps:{collectionLabels:d,searchCollections:c,searchSlug:b}}]}}},defaultColumns:["title"],description:"This is a collection of automatically created search results. These results are used by the global site search and will be updated automatically as documents in the CMS are created or updated.",enableRichTextRelationship:!1,useAsTitle:"title",...a?.searchOverrides?.admin||{}},endpoints:[...a?.searchOverrides?.endpoints||[],{handler:m(a),method:"post",path:"/reindex"}],fields:a?.searchOverrides?.fields&&"function"==typeof a?.searchOverrides?.fields?a?.searchOverrides.fields({defaultFields:e}):e,labels:{...a?.searchOverrides?.labels||{plural:"Search Results",singular:"Search Result"}}}},p=a=>b=>{let{collections:c}=b,e="boolean"==typeof a.localize?a.localize:!!b.localization;if(a.localize=e,c){let e=b.localization?b.localization.locales.map(a=>"string"==typeof a?a:a.code):[],g={deleteDrafts:!0,labels:Object.fromEntries(c.filter(({slug:b})=>a.collections?.includes(b)).map(a=>[a.slug,a.labels])),locales:e,reindexBatchSize:a?.reindexBatchSize||50,syncDrafts:!1,...a},h=b?.collections?.map(a=>{let{hooks:b}=a;return(g.collections||[]).indexOf(a.slug)>-1?{...a,hooks:{...a.hooks,afterChange:[...b?.afterChange||[],async b=>{await f({...b,collection:a.slug,pluginConfig:g})}],beforeDelete:[...b?.beforeDelete||[],d(g)]}}:a}).filter(Boolean);return{...b,collections:[...h||[],o(g)]}}return b}},20148:(a,b,c)=>{"use strict";let{kConstruct:d}=c(10257),{urlEquals:e,getFieldValues:f}=c(52940),{kEnumerableProperty:g,isDisturbed:h}=c(81350),{webidl:i}=c(81399),{cloneResponse:j,fromInnerResponse:k,getResponseState:l}=c(62285),{Request:m,fromInnerRequest:o,getRequestState:p}=c(40369),{fetching:q}=c(55852),{urlIsHttpHttpsScheme:r,createDeferredPromise:s,readAllBytes:t}=c(51074),u=c(34589);class v{#S;constructor(){arguments[0]!==d&&i.illegalConstructor(),i.util.markAsUncloneable(this),this.#S=arguments[1]}async match(a,b={}){i.brandCheck(this,v);let c="Cache.match";i.argumentLengthCheck(arguments,1,c),a=i.converters.RequestInfo(a,c,"request"),b=i.converters.CacheQueryOptions(b,c,"options");let d=this.#T(a,b,1);if(0!==d.length)return d[0]}async matchAll(a,b={}){i.brandCheck(this,v);let c="Cache.matchAll";return void 0!==a&&(a=i.converters.RequestInfo(a,c,"request")),b=i.converters.CacheQueryOptions(b,c,"options"),this.#T(a,b)}async add(a){i.brandCheck(this,v);let b="Cache.add";i.argumentLengthCheck(arguments,1,b);let c=[a=i.converters.RequestInfo(a,b,"request")],d=this.addAll(c);return await d}async addAll(a){i.brandCheck(this,v);let b="Cache.addAll";i.argumentLengthCheck(arguments,1,b);let c=[],d=[];for(let c of a){if(void 0===c)throw i.errors.conversionFailed({prefix:b,argument:"Argument 1",types:["undefined is not allowed"]});if("string"==typeof(c=i.converters.RequestInfo(c)))continue;let a=p(c);if(!r(a.url)||"GET"!==a.method)throw i.errors.exception({header:b,message:"Expected http/s scheme when method is not GET."})}let e=[];for(let g of a){let a=p(new m(g));if(!r(a.url))throw i.errors.exception({header:b,message:"Expected http/s scheme."});a.initiator="fetch",a.destination="subresource",d.push(a);let h=s();e.push(q({request:a,processResponse(a){if("error"===a.type||206===a.status||a.status<200||a.status>299)h.reject(i.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(a.headersList.contains("vary")){for(let b of f(a.headersList.get("vary")))if("*"===b){for(let a of(h.reject(i.errors.exception({header:"Cache.addAll",message:"invalid vary field value"})),e))a.abort();return}}},processResponseEndOfBody(a){if(a.aborted)return void h.reject(new DOMException("aborted","AbortError"));h.resolve(a)}})),c.push(h.promise)}let g=Promise.all(c),h=await g,j=[],k=0;for(let a of h){let b={type:"put",request:d[k],response:a};j.push(b),k++}let l=s(),o=null;try{this.#U(j)}catch(a){o=a}return queueMicrotask(()=>{null===o?l.resolve(void 0):l.reject(o)}),l.promise}async put(a,b){i.brandCheck(this,v);let c="Cache.put";i.argumentLengthCheck(arguments,2,c),a=i.converters.RequestInfo(a,c,"request"),b=i.converters.Response(b,c,"response");let d=null;if(!r((d=i.is.Request(a)?p(a):p(new m(a))).url)||"GET"!==d.method)throw i.errors.exception({header:c,message:"Expected an http/s scheme when method is not GET"});let e=l(b);if(206===e.status)throw i.errors.exception({header:c,message:"Got 206 status"});if(e.headersList.contains("vary")){for(let a of f(e.headersList.get("vary")))if("*"===a)throw i.errors.exception({header:c,message:"Got * vary field value"})}if(e.body&&(h(e.body.stream)||e.body.stream.locked))throw i.errors.exception({header:c,message:"Response body is locked or disturbed"});let g=j(e),k=s();null!=e.body?t(e.body.stream.getReader(),k.resolve,k.reject):k.resolve(void 0);let o=[],q={type:"put",request:d,response:g};o.push(q);let u=await k.promise;null!=g.body&&(g.body.source=u);let w=s(),x=null;try{this.#U(o)}catch(a){x=a}return queueMicrotask(()=>{null===x?w.resolve():w.reject(x)}),w.promise}async delete(a,b={}){let c;i.brandCheck(this,v);let d="Cache.delete";i.argumentLengthCheck(arguments,1,d),a=i.converters.RequestInfo(a,d,"request"),b=i.converters.CacheQueryOptions(b,d,"options");let e=null;if(i.is.Request(a)){if("GET"!==(e=p(a)).method&&!b.ignoreMethod)return!1}else u("string"==typeof a),e=p(new m(a));let f=[],g={type:"delete",request:e,options:b};f.push(g);let h=s(),j=null;try{c=this.#U(f)}catch(a){j=a}return queueMicrotask(()=>{null===j?h.resolve(!!c?.length):h.reject(j)}),h.promise}async keys(a,b={}){i.brandCheck(this,v);let c="Cache.keys";void 0!==a&&(a=i.converters.RequestInfo(a,c,"request")),b=i.converters.CacheQueryOptions(b,c,"options");let d=null;if(void 0!==a)if(i.is.Request(a)){if("GET"!==(d=p(a)).method&&!b.ignoreMethod)return[]}else"string"==typeof a&&(d=p(new m(a)));let e=s(),f=[];if(void 0===a)for(let a of this.#S)f.push(a[0]);else for(let a of this.#V(d,b))f.push(a[0]);return queueMicrotask(()=>{let a=[];for(let b of f){let c=o(b,void 0,new AbortController().signal,"immutable");a.push(c)}e.resolve(Object.freeze(a))}),e.promise}#U(a){let b=this.#S,c=[...b],d=[],e=[];try{for(let c of a){let a;if("delete"!==c.type&&"put"!==c.type)throw i.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if("delete"===c.type&&null!=c.response)throw i.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#V(c.request,c.options,d).length)throw new DOMException("???","InvalidStateError");if("delete"===c.type){if(a=this.#V(c.request,c.options),0===a.length)return[];for(let c of a){let a=b.indexOf(c);u(-1!==a),b.splice(a,1)}}else if("put"===c.type){if(null==c.response)throw i.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let e=c.request;if(!r(e.url))throw i.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if("GET"!==e.method)throw i.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(null!=c.options)throw i.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});for(let d of a=this.#V(c.request)){let a=b.indexOf(d);u(-1!==a),b.splice(a,1)}b.push([c.request,c.response]),d.push([c.request,c.response])}e.push([c.request,c.response])}return e}catch(a){throw this.#S.length=0,this.#S=c,a}}#V(a,b,c){let d=[];for(let e of c??this.#S){let[c,f]=e;this.#W(a,c,f,b)&&d.push(e)}return d}#W(a,b,c=null,d){let g=new URL(a.url),h=new URL(b.url);if(d?.ignoreSearch&&(h.search="",g.search=""),!e(g,h,!0))return!1;if(null==c||d?.ignoreVary||!c.headersList.contains("vary"))return!0;for(let d of f(c.headersList.get("vary")))if("*"===d||b.headersList.get(d)!==a.headersList.get(d))return!1;return!0}#T(a,b,c=1/0){let d=null;if(void 0!==a)if(i.is.Request(a)){if("GET"!==(d=p(a)).method&&!b.ignoreMethod)return[]}else"string"==typeof a&&(d=p(new m(a)));let e=[];if(void 0===a)for(let a of this.#S)e.push(a[1]);else for(let a of this.#V(d,b))e.push(a[1]);let f=[];for(let a of e){let b=k(a,"immutable");if(f.push(b.clone()),f.length>=c)break}return Object.freeze(f)}}Object.defineProperties(v.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:g,matchAll:g,add:g,addAll:g,put:g,delete:g,keys:g});let w=[{key:"ignoreSearch",converter:i.converters.boolean,defaultValue:()=>!1},{key:"ignoreMethod",converter:i.converters.boolean,defaultValue:()=>!1},{key:"ignoreVary",converter:i.converters.boolean,defaultValue:()=>!1}];i.converters.CacheQueryOptions=i.dictionaryConverter(w),i.converters.MultiCacheQueryOptions=i.dictionaryConverter([...w,{key:"cacheName",converter:i.converters.DOMString}]),i.converters.Response=i.interfaceConverter(i.is.Response,"Response"),i.converters["sequence<RequestInfo>"]=i.sequenceConverter(i.converters.RequestInfo),a.exports={Cache:v}},20386:(a,b,c)=>{"use strict";let d=c(94735).EventEmitter,{parse:e,serialize:f}=c(19024),{getStream:g,getSecureStream:h}=c(89342),i=f.flush(),j=f.sync(),k=f.end();class l extends d{constructor(a){super(),a=a||{},this.stream=a.stream||g(a.ssl),"function"==typeof this.stream&&(this.stream=this.stream(a)),this._keepAlive=a.keepAlive,this._keepAliveInitialDelayMillis=a.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=a.ssl||!1,this._ending=!1,this._emitMessage=!1;let b=this;this.on("newListener",function(a){"message"===a&&(b._emitMessage=!0)})}connect(a,b){let d=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(a,b),this.stream.once("connect",function(){d._keepAlive&&d.stream.setKeepAlive(!0,d._keepAliveInitialDelayMillis),d.emit("connect")});let e=function(a){d._ending&&("ECONNRESET"===a.code||"EPIPE"===a.code)||d.emit("error",a)};if(this.stream.on("error",e),this.stream.on("close",function(){d.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(a){switch(a.toString("utf8")){case"S":break;case"N":return d.stream.end(),d.emit("error",Error("The server does not support SSL connections"));default:return d.stream.end(),d.emit("error",Error("There was an error establishing an SSL connection"))}let f={socket:d.stream};!0!==d.ssl&&(Object.assign(f,d.ssl),"key"in d.ssl&&(f.key=d.ssl.key));let g=c(91645);g.isIP&&0===g.isIP(b)&&(f.servername=b);try{d.stream=h(f)}catch(a){return d.emit("error",a)}d.attachListeners(d.stream),d.stream.on("error",e),d.emit("sslconnect")})}attachListeners(a){e(a,a=>{let b="error"===a.name?"errorMessage":a.name;this._emitMessage&&this.emit("message",a),this.emit(b,a)})}requestSsl(){this.stream.write(f.requestSsl())}startup(a){this.stream.write(f.startup(a))}cancel(a,b){this._send(f.cancel(a,b))}password(a){this._send(f.password(a))}sendSASLInitialResponseMessage(a,b){this._send(f.sendSASLInitialResponseMessage(a,b))}sendSCRAMClientFinalMessage(a){this._send(f.sendSCRAMClientFinalMessage(a))}_send(a){return!!this.stream.writable&&this.stream.write(a)}query(a){this._send(f.query(a))}parse(a){this._send(f.parse(a))}bind(a){this._send(f.bind(a))}execute(a){this._send(f.execute(a))}flush(){this.stream.writable&&this.stream.write(i)}sync(){this._ending=!0,this._send(j)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){return(this._ending=!0,this._connecting&&this.stream.writable)?this.stream.write(k,()=>{this.stream.end()}):void this.stream.end()}close(a){this._send(f.close(a))}describe(a){this._send(f.describe(a))}sendCopyFromChunk(a){this._send(f.copyData(a))}endCopyFrom(){this._send(f.copyDone())}sendCopyFail(a){this._send(f.copyFail(a))}}a.exports=l},20397:(a,b,c)=>{"use strict";let d=c(22134),e=c(49026).assign,f=c(83646),g=c(94735);class h extends g{constructor(a){if(super(),this.pool=a,this.options=a.options,this.logger=this.pool.logger,this.options.auth)switch((this.options.auth.type||"").toString().toUpperCase()){case"OAUTH2":{let a=new f(this.options.auth,this.logger);a.provisionCallback=this.pool.mailer&&this.pool.mailer.get("oauth2_provision_cb")||a.provisionCallback,this.auth={type:"OAUTH2",user:this.options.auth.user,oauth2:a,method:"XOAUTH2"},a.on("token",a=>this.pool.mailer.emit("token",a)),a.on("error",a=>this.emit("error",a));break}default:if(!this.options.auth.user&&!this.options.auth.pass)break;this.auth={type:(this.options.auth.type||"").toString().toUpperCase()||"LOGIN",user:this.options.auth.user,credentials:{user:this.options.auth.user||"",pass:this.options.auth.pass,options:this.options.auth.options},method:(this.options.auth.method||"").trim().toUpperCase()||this.options.authMethod||!1}}this._connection=!1,this._connected=!1,this.messages=0,this.available=!0}connect(a){this.pool.getSocket(this.options,(b,c)=>{if(b)return a(b);let f=!1,g=this.options;c&&c.connection&&(this.logger.info({tnx:"proxy",remoteAddress:c.connection.remoteAddress,remotePort:c.connection.remotePort,destHost:g.host||"",destPort:g.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",c.connection.remoteAddress,c.connection.remotePort,g.host||"",g.port||""),g=e(!1,g),Object.keys(c).forEach(a=>{g[a]=c[a]})),this.connection=new d(g),this.connection.once("error",b=>{if(this.emit("error",b),!f)return f=!0,a(b)}),this.connection.once("end",()=>{if(this.close(),f)return;f=!0;let b=setTimeout(()=>{if(f)return;let b=Error("Unexpected socket close");this.connection&&this.connection._socket&&this.connection._socket.upgrading&&(b.code="ETLS"),a(b)},1e3);try{b.unref()}catch(a){}}),this.connection.connect(()=>{if(!f)if(!this.auth||!this.connection.allowsAuth&&!g.forceAuth)return f=!0,this._connected=!0,a(null,!0);else this.connection.login(this.auth,b=>{if(!f){if(f=!0,b)return this.connection.close(),this.emit("error",b),a(b);this._connected=!0,a(null,!0)}})})})}send(a,b){if(!this._connected)return this.connect(c=>c?b(c):this.send(a,b));let c=a.message.getEnvelope(),d=a.message.messageId(),e=[].concat(c.to||[]);e.length>3&&e.push("...and "+e.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:d,cid:this.id},"Sending message %s using #%s to <%s>",d,this.id,e.join(", ")),a.data.dsn&&(c.dsn=a.data.dsn),this.connection.send(c,a.message.createReadStream(),(a,e)=>{if(this.messages++,a)return this.connection.close(),this.emit("error",a),b(a);e.envelope={from:c.from,to:c.to},e.messageId=d,setImmediate(()=>{let a;this.messages>=this.options.maxMessages?((a=Error("Resource exhausted")).code="EMAXLIMIT",this.connection.close(),this.emit("error",a)):this.pool._checkRateLimit(()=>{this.available=!0,this.emit("available")})}),b(null,e)})}close(){this._connected=!1,this.auth&&this.auth.oauth2&&this.auth.oauth2.removeAllListeners(),this.connection&&this.connection.close(),this.emit("close")}}a.exports=h},20552:a=>{"use strict";a.exports={WRITE_INDEX:4,READ_INDEX:8}},20674:(a,b,c)=>{"use strict";c.d(b,{l:()=>f});var d=c(42533),e=c(60629);class f{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=f.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(a,b){this.ref=a,this.memberName=b;let c=[],g=a,j=a;for(this._isMemberSchema=!1;h(g);)c.push(g[1]),g=g[0],j=(0,d.L)(g),this._isMemberSchema=!0;if(c.length>0){this.memberTraits={};for(let a=c.length-1;a>=0;--a){let b=c[a];Object.assign(this.memberTraits,(0,e.c)(b))}}else this.memberTraits=0;if(j instanceof f){let a=this.memberTraits;Object.assign(this,j),this.memberTraits=Object.assign({},a,j.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=b??j.memberName;return}if(this.schema=(0,d.L)(j),i(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(j),this.traits=0),this._isMemberSchema&&!b)throw Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](a){let b=this.prototype.isPrototypeOf(a);return b||"object"!=typeof a||null===a?b:a.symbol===this.symbol}static of(a){let b=(0,d.L)(a);if(b instanceof f)return b;if(h(b)){let[c,d]=b;if(c instanceof f)return Object.assign(c.getMergedTraits(),(0,e.c)(d)),c;throw Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(a,null,2)}.`)}return new f(b)}getSchema(){let a=this.schema;return 0===a[0]?a[4]:a}getName(a=!1){let{name:b}=this;return!a&&b&&b.includes("#")?b.split("#")[1]:b||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let a=this.getSchema();return"number"==typeof a?a>=64&&a<128:1===a[0]}isMapSchema(){let a=this.getSchema();return"number"==typeof a?a>=128&&a<=255:2===a[0]}isStructSchema(){let a=this.getSchema()[0];return 3===a||-3===a||4===a}isUnionSchema(){return 4===this.getSchema()[0]}isBlobSchema(){let a=this.getSchema();return 21===a||42===a}isTimestampSchema(){let a=this.getSchema();return"number"==typeof a&&a>=4&&a<=7}isUnitSchema(){return"unit"===this.getSchema()}isDocumentSchema(){return 15===this.getSchema()}isStringSchema(){return 0===this.getSchema()}isBooleanSchema(){return 2===this.getSchema()}isNumericSchema(){return 1===this.getSchema()}isBigIntegerSchema(){return 17===this.getSchema()}isBigDecimalSchema(){return 19===this.getSchema()}isStreaming(){let{streaming:a}=this.getMergedTraits();return!!a||42===this.getSchema()}isIdempotencyToken(){let a=a=>(4&a)==4||!!a?.idempotencyToken,{normalizedTraits:b,traits:c,memberTraits:d}=this;return a(b)||a(c)||a(d)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return(0,e.c)(this.memberTraits)}getOwnTraits(){return(0,e.c)(this.traits)}getKeySchema(){let[a,b]=[this.isDocumentSchema(),this.isMapSchema()];if(!a&&!b)throw Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let c=this.getSchema();return g([a?15:c[4]??0,0],"key")}getValueSchema(){let a=this.getSchema(),[b,c,d]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],e="number"==typeof a?63&a:a&&"object"==typeof a&&(c||d)?a[3+a[0]]:b?15:void 0;if(null!=e)return g([e,0],c?"value":"member");throw Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(a){let b=this.getSchema();if(this.isStructSchema()&&b[4].includes(a)){let c=b[4].indexOf(a),d=b[5][c];return g(h(d)?d:[d,0],a)}if(this.isDocumentSchema())return g([15,0],a);throw Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${a}.`)}getMemberSchemas(){let a={};try{for(let[b,c]of this.structIterator())a[b]=c}catch(a){}return a}getEventStreamMember(){if(this.isStructSchema()){for(let[a,b]of this.structIterator())if(b.isStreaming()&&b.isStructSchema())return a}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw Error("@smithy/core/schema - cannot iterate non-struct schema.");let a=this.getSchema();for(let b=0;b<a[4].length;++b)yield[a[4][b],g([a[5][b],0],a[4][b])]}}function g(a,b){return a instanceof f?Object.assign(a,{memberName:b,_isMemberSchema:!0}):new f(a,b)}let h=a=>Array.isArray(a)&&2===a.length,i=a=>Array.isArray(a)&&a.length>=5},20876:(a,b,c)=>{"use strict";function d(a){return null!=a&&("string"!=typeof a||""!==a.trim())&&!Number.isNaN(Number(a))}c.d(b,{E:()=>d})},21133:(a,b,c)=>{"use strict";c.d(b,{j:()=>e});var d=c(37064);let e=async({collectionConfig:a,ids:b,payload:c,req:e})=>{a.auth?await c.db.deleteMany({collection:d.Y,req:e,where:{or:[{and:[{"user.value":{in:b}},{"user.relationTo":{equals:a.slug}}]},{key:{in:b.map(b=>`collection-${a.slug}-${b}`)}}]}}):await c.db.deleteMany({collection:d.Y,req:e,where:{key:{in:b.map(b=>`collection-${a.slug}-${b}`)}}})}},21438:(a,b,c)=>{"use strict";let d,{maxUnsigned16Bit:e,opcodes:f}=c(90406),g=8192,h=null,i=8192;try{d=c(77598)}catch{d={randomFillSync:function(a,b,c){for(let b=0;b<a.length;++b)a[b]=255*Math.random()|0;return a}}}function j(){return i===g&&(i=0,d.randomFillSync(h??=Buffer.allocUnsafeSlow(g),0,g)),[h[i++],h[i++],h[i++],h[i++]]}class k{constructor(a){this.frameData=a}createFrame(a){let b=this.frameData,c=j(),d=b?.byteLength??0,f=d,g=6;d>e?(g+=8,f=127):d>125&&(g+=2,f=126);let h=Buffer.allocUnsafe(d+g);h[0]=h[1]=0,h[0]|=128,h[0]=(240&h[0])+a,h[g-4]=c[0],h[g-3]=c[1],h[g-2]=c[2],h[g-1]=c[3],h[1]=f,126===f?h.writeUInt16BE(d,2):127===f&&(h[2]=h[3]=0,h.writeUIntBE(d,4,6)),h[1]|=128;for(let a=0;a<d;++a)h[g+a]=b[a]^c[3&a];return h}static createFastTextFrame(a){let b=j(),c=a.length;for(let d=0;d<c;++d)a[d]^=b[3&d];let d=c,g=6;c>e?(g+=8,d=127):c>125&&(g+=2,d=126);let h=Buffer.allocUnsafeSlow(g);return h[0]=128|f.TEXT,h[1]=128|d,h[g-4]=b[0],h[g-3]=b[1],h[g-2]=b[2],h[g-1]=b[3],126===d?h.writeUInt16BE(c,2):127===d&&(h[2]=h[3]=0,h.writeUIntBE(c,4,6)),[h,a]}}a.exports={WebsocketFrameSend:k}},21439:(a,b,c)=>{"use strict";let d=c(14985),e=c(79448),f=c(74210).parse,g=function(a,b,c){return void 0===c?c=process.env["PG"+a.toUpperCase()]:!1===c||(c=process.env[c]),b[a]||c||e[a]},h=function(){switch(process.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return e.ssl},i=function(a){return"'"+(""+a).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},j=function(a,b,c){let d=b[c];null!=d&&a.push(c+"="+i(d))};class k{constructor(a){(a="string"==typeof a?f(a):a||{}).connectionString&&(a=Object.assign({},a,f(a.connectionString))),this.user=g("user",a),this.database=g("database",a),void 0===this.database&&(this.database=this.user),this.port=parseInt(g("port",a),10),this.host=g("host",a),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:g("password",a)}),this.binary=g("binary",a),this.options=g("options",a),this.ssl=void 0===a.ssl?h():a.ssl,"string"==typeof this.ssl&&"true"===this.ssl&&(this.ssl=!0),"no-verify"===this.ssl&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=g("client_encoding",a),this.replication=g("replication",a),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=g("application_name",a,"PGAPPNAME"),this.fallback_application_name=g("fallback_application_name",a,!1),this.statement_timeout=g("statement_timeout",a,!1),this.lock_timeout=g("lock_timeout",a,!1),this.idle_in_transaction_session_timeout=g("idle_in_transaction_session_timeout",a,!1),this.query_timeout=g("query_timeout",a,!1),void 0===a.connectionTimeoutMillis?this.connect_timeout=process.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(a.connectionTimeoutMillis/1e3),!1===a.keepAlive?this.keepalives=0:!0===a.keepAlive&&(this.keepalives=1),"number"==typeof a.keepAliveInitialDelayMillis&&(this.keepalives_idle=Math.floor(a.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(a){let b=[];j(b,this,"user"),j(b,this,"password"),j(b,this,"port"),j(b,this,"application_name"),j(b,this,"fallback_application_name"),j(b,this,"connect_timeout"),j(b,this,"options");let c="object"==typeof this.ssl?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(j(b,c,"sslmode"),j(b,c,"sslca"),j(b,c,"sslkey"),j(b,c,"sslcert"),j(b,c,"sslrootcert"),this.database&&b.push("dbname="+i(this.database)),this.replication&&b.push("replication="+i(this.replication)),this.host&&b.push("host="+i(this.host)),this.isDomainSocket)return a(null,b.join(" "));this.client_encoding&&b.push("client_encoding="+i(this.client_encoding)),d.lookup(this.host,function(c,d){return c?a(c,null):(b.push("hostaddr="+i(d)),a(null,b.join(" ")))})}}a.exports=k},21463:(a,b,c)=>{"use strict";c.d(b,{Z:()=>d,u:()=>e});let d="payload-jobs-stats",e=a=>({slug:d,admin:{group:"System",hidden:!0},fields:[{name:"stats",type:"json"}]})},21641:(a,b,c)=>{"use strict";function d(a,b="and"){if(0===a.length)return{};let c=a.reduce((a,c)=>(c&&"object"==typeof c&&Object.keys(c).length>0&&(b in c?a[b]=[...a[b],...c[b]]:a[b]?.push(c)),a),{[b]:[]});return c[b]?.length===0?{}:c}c.d(b,{h:()=>d})},21879:a=>{"use strict";let b=["mon","tue","wed","thu","fri","sat","sun"],c=[4,7,11,16,25],d=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],e=[19,22],f=[3,7,10,19],g=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];function h(a){if(29!==a.length||!a.endsWith("gmt"))return;for(let b of c)if(" "!==a[b])return;for(let b of e)if(":"!==a[b])return;let f=a.substring(0,3);if(!b.includes(f))return;let g=a.substring(5,7),h=Number.parseInt(g);if(isNaN(h)||h<10&&"0"!==g[0])return;let i=a.substring(8,11),j=d.indexOf(i);if(-1===j)return;let k=Number.parseInt(a.substring(12,16));if(isNaN(k))return;let l=a.substring(17,19),m=Number.parseInt(l);if(isNaN(m)||m<10&&"0"!==l[0])return;let o=a.substring(20,22),p=Number.parseInt(o);if(isNaN(p)||p<10&&"0"!==o[0])return;let q=a.substring(23,25),r=Number.parseInt(q);if(!isNaN(r)&&(!(r<10)||"0"===q[0]))return new Date(Date.UTC(k,j,h,m,p,r))}function i(a){if(24!==a.length)return;for(let b of f)if(" "!==a[b])return;let c=a.substring(0,3);if(!b.includes(c))return;let e=a.substring(4,7),g=d.indexOf(e);if(-1===g)return;let h=a.substring(8,10),i=Number.parseInt(h);if(isNaN(i)||i<10&&" "!==h[0])return;let j=a.substring(11,13),k=Number.parseInt(j);if(isNaN(k)||k<10&&"0"!==j[0])return;let l=a.substring(14,16),m=Number.parseInt(l);if(isNaN(m)||m<10&&"0"!==l[0])return;let o=a.substring(17,19),p=Number.parseInt(o);if(isNaN(p)||p<10&&"0"!==o[0])return;let q=Number.parseInt(a.substring(20,24));if(!isNaN(q))return new Date(Date.UTC(q,g,i,k,m,p))}function j(a,b=new Date){if(!a.endsWith("gmt"))return;let c=a.indexOf(",");if(-1===c||a.length-c-1!=23)return;let e=a.substring(0,c);if(!g.includes(e)||" "!==a[c+1]||"-"!==a[c+4]||"-"!==a[c+8]||" "!==a[c+11]||":"!==a[c+14]||":"!==a[c+17]||" "!==a[c+20])return;let f=a.substring(c+2,c+4),h=Number.parseInt(f);if(isNaN(h)||h<10&&"0"!==f[0])return;let i=a.substring(c+5,c+8),k=d.indexOf(i);if(-1===k)return;let l=Number.parseInt(a.substring(c+9,c+11));if(isNaN(l))return;let m=b.getUTCFullYear(),o=m%100,p=Math.floor(m/100);l>o&&l-o>=50?l+=(p-1)*100:l+=100*p;let q=a.substring(c+12,c+14),r=Number.parseInt(q);if(isNaN(r)||r<10&&"0"!==q[0])return;let s=a.substring(c+15,c+17),t=Number.parseInt(s);if(isNaN(t)||t<10&&"0"!==s[0])return;let u=a.substring(c+18,c+20),v=Number.parseInt(u);if(!isNaN(v)&&(!(v<10)||"0"===u[0]))return new Date(Date.UTC(l,k,h,r,t,v))}a.exports={parseHttpDate:function(a,b){switch((a=a.toLowerCase())[3]){case",":return h(a);case" ":return i(a);default:return j(a,b)}}}},22018:(a,b,c)=>{"use strict";c.d(b,{C:()=>d});let d=a=>new Date(Date.now()+a)},22134:(a,b,c)=>{"use strict";let d=c(30124),e=c(94735).EventEmitter,f=c(91645),g=c(34631),h=c(21820),i=c(55511),j=c(68229),k=c(27910).PassThrough,l=c(49026),m=12e4,o=6e5,p=3e4,q=3e4;class r extends e{constructor(a){super(a),this.id=i.randomBytes(8).toString("base64").replace(/\W/g,""),this.stage="init",this.options=a||{},this.secureConnection=!!this.options.secure,this.alreadySecured=!!this.options.secured,this.port=Number(this.options.port)||(this.secureConnection?465:587),this.host=this.options.host||"localhost",this.servername=this.options.servername?this.options.servername:!f.isIP(this.host)&&this.host,this.allowInternalNetworkInterfaces=this.options.allowInternalNetworkInterfaces||!1,void 0===this.options.secure&&465===this.port&&(this.secureConnection=!0),this.name=this.options.name||this._getHostname(),this.logger=l.getLogger(this.options,{component:this.options.component||"smtp-connection",sid:this.id}),this.customAuth=new Map,Object.keys(this.options.customAuth||{}).forEach(a=>{let b=(a||"").toString().trim().toUpperCase();b&&this.customAuth.set(b,this.options.customAuth[a])}),this.version=d.version,this.authenticated=!1,this.destroyed=!1,this.secure=!!this.secureConnection,this._remainder="",this._responseQueue=[],this.lastServerResponse=!1,this._socket=!1,this._supportedAuth=[],this.allowsAuth=!1,this._envelope=!1,this._supportedExtensions=[],this._maxAllowedSize=0,this._responseActions=[],this._recipientQueue=[],this._greetingTimeout=!1,this._connectionTimeout=!1,this._destroyed=!1,this._closing=!1,this._onSocketData=a=>this._onData(a),this._onSocketError=a=>this._onError(a,"ESOCKET",!1,"CONN"),this._onSocketClose=()=>this._onClose(),this._onSocketEnd=()=>this._onEnd(),this._onSocketTimeout=()=>this._onTimeout()}connect(a){if("function"==typeof a){this.once("connect",()=>{this.logger.debug({tnx:"smtp"},"SMTP handshake finished"),a()});let b=this._isDestroyedMessage("connect");if(b)return a(this._formatError(b,"ECONNECTION",!1,"CONN"))}let b={port:this.port,host:this.host,allowInternalNetworkInterfaces:this.allowInternalNetworkInterfaces,timeout:this.options.dnsTimeout||q};this.options.localAddress&&(b.localAddress=this.options.localAddress);let c=()=>{this._connectionTimeout=setTimeout(()=>{this._onError("Connection timeout","ETIMEDOUT",!1,"CONN")},this.options.connectionTimeout||m),this._socket.on("error",this._onSocketError)};if(this.options.connection){this._socket=this.options.connection,c(),this.secureConnection&&!this.alreadySecured?setImmediate(()=>this._upgradeConnection(a=>{if(a)return void this._onError(Error("Error initiating TLS - "+(a.message||a)),"ETLS",!1,"CONN");this._onConnect()})):setImmediate(()=>this._onConnect());return}return this.options.socket?(this._socket=this.options.socket,l.resolveHostname(b,(a,d)=>{if(a)return setImmediate(()=>this._onError(a,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:b.host,resolved:d.host,cached:!!d.cached},"Resolved %s as %s [cache %s]",b.host,d.host,d.cached?"hit":"miss"),Object.keys(d).forEach(a=>{"_"!==a.charAt(0)&&d[a]&&(b[a]=d[a])});try{this._socket.connect(this.port,this.host,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),c()}catch(a){return setImmediate(()=>this._onError(a,"ECONNECTION",!1,"CONN"))}})):this.secureConnection?(this.options.tls&&Object.keys(this.options.tls).forEach(a=>{b[a]=this.options.tls[a]}),this.servername&&!b.servername&&(b.servername=this.servername),l.resolveHostname(b,(a,d)=>{if(a)return setImmediate(()=>this._onError(a,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:b.host,resolved:d.host,cached:!!d.cached},"Resolved %s as %s [cache %s]",b.host,d.host,d.cached?"hit":"miss"),Object.keys(d).forEach(a=>{"_"!==a.charAt(0)&&d[a]&&(b[a]=d[a])});try{this._socket=g.connect(b,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),c()}catch(a){return setImmediate(()=>this._onError(a,"ECONNECTION",!1,"CONN"))}})):l.resolveHostname(b,(a,d)=>{if(a)return setImmediate(()=>this._onError(a,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:b.host,resolved:d.host,cached:!!d.cached},"Resolved %s as %s [cache %s]",b.host,d.host,d.cached?"hit":"miss"),Object.keys(d).forEach(a=>{"_"!==a.charAt(0)&&d[a]&&(b[a]=d[a])});try{this._socket=f.connect(b,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),c()}catch(a){return setImmediate(()=>this._onError(a,"ECONNECTION",!1,"CONN"))}})}quit(){this._sendCommand("QUIT"),this._responseActions.push(this.close)}close(){if(clearTimeout(this._connectionTimeout),clearTimeout(this._greetingTimeout),this._responseActions=[],this._closing)return;this._closing=!0;let a="end";"init"===this.stage&&(a="destroy"),this.logger.debug({tnx:"smtp"},'Closing connection to the server using "%s"',a);let b=this._socket&&this._socket.socket||this._socket;if(b&&!b.destroyed)try{b[a]()}catch(a){}this._destroy()}login(a,b){let c=this._isDestroyedMessage("login");if(c)return b(this._formatError(c,"ECONNECTION",!1,"API"));if(this._auth=a||{},this._authMethod=(this._auth.method||"").toString().trim().toUpperCase()||!1,this._authMethod||!this._auth.oauth2||this._auth.credentials?this._authMethod&&("XOAUTH2"!==this._authMethod||this._auth.oauth2)||(this._authMethod=(this._supportedAuth[0]||"PLAIN").toUpperCase().trim()):this._authMethod="XOAUTH2","XOAUTH2"!==this._authMethod&&(!this._auth.credentials||!this._auth.credentials.user||!this._auth.credentials.pass))if(!(this._auth.user&&this._auth.pass||this.customAuth.has(this._authMethod)))return b(this._formatError('Missing credentials for "'+this._authMethod+'"',"EAUTH",!1,"API"));else this._auth.credentials={user:this._auth.user,pass:this._auth.pass,options:this._auth.options};if(this.customAuth.has(this._authMethod)){let a,c=this.customAuth.get(this._authMethod),d=!1,e=()=>{d||(d=!0,this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,b(null,!0))},f=c=>{d||(d=!0,b(this._formatError(c,"EAUTH",a,"AUTH "+this._authMethod)))},g=c({auth:this._auth,method:this._authMethod,extensions:[].concat(this._supportedExtensions),authMethods:[].concat(this._supportedAuth),maxAllowedSize:this._maxAllowedSize||!1,sendCommand:(b,c)=>{let d;return c||(d=new Promise((a,b)=>{c=l.callbackPromise(a,b)})),this._responseActions.push(d=>{a=d;let e=d.match(/^(\d+)(?:\s(\d+\.\d+\.\d+))?\s/),f={command:b,response:d};e?(f.status=Number(e[1])||0,e[2]&&(f.code=e[2]),f.text=d.substr(e[0].length)):(f.text=d,f.status=0),c(null,f)}),setImmediate(()=>this._sendCommand(b)),d},resolve:e,reject:f});g&&"function"==typeof g.catch&&g.then(e).catch(f);return}switch(this._authMethod){case"XOAUTH2":this._handleXOauth2Token(!1,b);return;case"LOGIN":this._responseActions.push(a=>{this._actionAUTH_LOGIN_USER(a,b)}),this._sendCommand("AUTH LOGIN");return;case"PLAIN":this._responseActions.push(a=>{this._actionAUTHComplete(a,b)}),this._sendCommand("AUTH PLAIN "+Buffer.from("\0"+this._auth.credentials.user+"\0"+this._auth.credentials.pass,"utf-8").toString("base64"),"AUTH PLAIN "+Buffer.from("\0"+this._auth.credentials.user+"\0/* secret */","utf-8").toString("base64"));return;case"CRAM-MD5":this._responseActions.push(a=>{this._actionAUTH_CRAM_MD5(a,b)}),this._sendCommand("AUTH CRAM-MD5");return}return b(this._formatError('Unknown authentication method "'+this._authMethod+'"',"EAUTH",!1,"API"))}send(a,b,c){if(!b)return c(this._formatError("Empty message","EMESSAGE",!1,"API"));let d=this._isDestroyedMessage("send message");if(d)return c(this._formatError(d,"ECONNECTION",!1,"API"));if(this._maxAllowedSize&&a.size>this._maxAllowedSize)return setImmediate(()=>{c(this._formatError("Message size larger than allowed "+this._maxAllowedSize,"EMESSAGE",!1,"MAIL FROM"))});let e=!1,f=function(){e||(e=!0,c(...arguments))};"function"==typeof b.on&&b.on("error",a=>f(this._formatError(a,"ESTREAM",!1,"API")));let g=Date.now();this._setEnvelope(a,(a,c)=>{if(a){let c=new k;return"function"==typeof b.pipe?b.pipe(c):(c.write(b),c.end()),f(a)}let d=Date.now(),e=this._createSendStream((a,b)=>a?f(a):(c.envelopeTime=d-g,c.messageTime=Date.now()-d,c.messageSize=e.outByteCount,c.response=b,f(null,c)));"function"==typeof b.pipe?b.pipe(e):(e.write(b),e.end())})}reset(a){this._sendCommand("RSET"),this._responseActions.push(b=>"2"!==b.charAt(0)?a(this._formatError("Could not reset session state. response="+b,"EPROTOCOL",b,"RSET")):(this._envelope=!1,a(null,!0)))}_onConnect(){if(clearTimeout(this._connectionTimeout),this.logger.info({tnx:"network",localAddress:this._socket.localAddress,localPort:this._socket.localPort,remoteAddress:this._socket.remoteAddress,remotePort:this._socket.remotePort},"%s established to %s:%s",this.secure?"Secure connection":"Connection",this._socket.remoteAddress,this._socket.remotePort),this._destroyed)return void this.close();this.stage="connected",this._socket.removeListener("data",this._onSocketData),this._socket.removeListener("timeout",this._onSocketTimeout),this._socket.removeListener("close",this._onSocketClose),this._socket.removeListener("end",this._onSocketEnd),this._socket.on("data",this._onSocketData),this._socket.once("close",this._onSocketClose),this._socket.once("end",this._onSocketEnd),this._socket.setTimeout(this.options.socketTimeout||o),this._socket.on("timeout",this._onSocketTimeout),this._greetingTimeout=setTimeout(()=>{this._socket&&!this._destroyed&&this._responseActions[0]===this._actionGreeting&&this._onError("Greeting never received","ETIMEDOUT",!1,"CONN")},this.options.greetingTimeout||p),this._responseActions.push(this._actionGreeting),this._socket.resume()}_onData(a){let b;if(this._destroyed||!a||!a.length)return;let c=(a||"").toString("binary"),d=(this._remainder+c).split(/\r?\n/);this._remainder=d.pop();for(let a=0,c=d.length;a<c;a++){if(this._responseQueue.length&&(b=this._responseQueue[this._responseQueue.length-1],/^\d+-/.test(b.split("\n").pop()))){this._responseQueue[this._responseQueue.length-1]+="\n"+d[a];continue}this._responseQueue.push(d[a])}this._responseQueue.length&&(b=this._responseQueue[this._responseQueue.length-1],/^\d+-/.test(b.split("\n").pop()))||this._processResponse()}_onError(a,b,c,d){clearTimeout(this._connectionTimeout),clearTimeout(this._greetingTimeout),this._destroyed||(a=this._formatError(a,b,c,d),this.logger.error(c,a.message),this.emit("error",a),this.close())}_formatError(a,b,c,d){let e;e=/Error\]$/i.test(Object.prototype.toString.call(a))?a:Error(a),b&&"Error"!==b&&(e.code=b),c&&(e.response=c,e.message+=": "+c);let f="string"==typeof c&&Number((c.match(/^\d+/)||[])[0])||!1;return f&&(e.responseCode=f),d&&(e.command=d),e}_onClose(){let a=!1;return(this._remainder&&this._remainder.trim()&&((this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"server"},this._remainder.replace(/\r?\n$/,"")),this.lastServerResponse=a=this._remainder.trim()),this.logger.info({tnx:"network"},"Connection closed"),this.upgrading&&!this._destroyed)?this._onError(Error("Connection closed unexpectedly"),"ETLS",a,"CONN"):![this._actionGreeting,this.close].includes(this._responseActions[0])&&!this._destroyed||/^[45]\d{2}\b/.test(a)?this._onError(Error("Connection closed unexpectedly"),"ECONNECTION",a,"CONN"):void this._destroy()}_onEnd(){this._socket&&!this._socket.destroyed&&this._socket.destroy()}_onTimeout(){return this._onError(Error("Timeout"),"ETIMEDOUT",!1,"CONN")}_destroy(){this._destroyed||(this._destroyed=!0,this.emit("end"))}_upgradeConnection(a){this._socket.removeListener("data",this._onSocketData),this._socket.removeListener("timeout",this._onSocketTimeout);let b=this._socket,c={socket:this._socket,host:this.host};Object.keys(this.options.tls||{}).forEach(a=>{c[a]=this.options.tls[a]}),this.servername&&!c.servername&&(c.servername=this.servername),this.upgrading=!0;try{this._socket=g.connect(c,()=>(this.secure=!0,this.upgrading=!1,this._socket.on("data",this._onSocketData),b.removeListener("close",this._onSocketClose),b.removeListener("end",this._onSocketEnd),a(null,!0)))}catch(b){return a(b)}this._socket.on("error",this._onSocketError),this._socket.once("close",this._onSocketClose),this._socket.once("end",this._onSocketEnd),this._socket.setTimeout(this.options.socketTimeout||o),this._socket.on("timeout",this._onSocketTimeout),b.resume()}_processResponse(){if(!this._responseQueue.length)return!1;let a=this.lastServerResponse=(this._responseQueue.shift()||"").toString();if(/^\d+-/.test(a.split("\n").pop()))return;(this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"server"},a.replace(/\r?\n$/,"")),a.trim()||setImmediate(()=>this._processResponse());let b=this._responseActions.shift();if("function"!=typeof b)return this._onError(Error("Unexpected Response"),"EPROTOCOL",a,"CONN");b.call(this,a),setImmediate(()=>this._processResponse())}_sendCommand(a,b){if(!this._destroyed){if(this._socket.destroyed)return this.close();(this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"client"},(b||a||"").toString().replace(/\r?\n$/,"")),this._socket.write(Buffer.from(a+"\r\n","utf-8"))}}_setEnvelope(a,b){let c=[],d=!1;if(this._envelope=a||{},this._envelope.from=(this._envelope.from&&this._envelope.from.address||this._envelope.from||"").toString().trim(),this._envelope.to=[].concat(this._envelope.to||[]).map(a=>(a&&a.address||a||"").toString().trim()),!this._envelope.to.length)return b(this._formatError("No recipients defined","EENVELOPE",!1,"API"));if(this._envelope.from&&/[\r\n<>]/.test(this._envelope.from))return b(this._formatError("Invalid sender "+JSON.stringify(this._envelope.from),"EENVELOPE",!1,"API"));/[\x80-\uFFFF]/.test(this._envelope.from)&&(d=!0);for(let a=0,c=this._envelope.to.length;a<c;a++){if(!this._envelope.to[a]||/[\r\n<>]/.test(this._envelope.to[a]))return b(this._formatError("Invalid recipient "+JSON.stringify(this._envelope.to[a]),"EENVELOPE",!1,"API"));/[\x80-\uFFFF]/.test(this._envelope.to[a])&&(d=!0)}if(this._envelope.rcptQueue=JSON.parse(JSON.stringify(this._envelope.to||[])),this._envelope.rejected=[],this._envelope.rejectedErrors=[],this._envelope.accepted=[],this._envelope.dsn)try{this._envelope.dsn=this._setDsnEnvelope(this._envelope.dsn)}catch(a){return b(this._formatError("Invalid DSN "+a.message,"EENVELOPE",!1,"API"))}this._responseActions.push(a=>{this._actionMAIL(a,b)}),d&&this._supportedExtensions.includes("SMTPUTF8")&&(c.push("SMTPUTF8"),this._usingSmtpUtf8=!0),this._envelope.use8BitMime&&this._supportedExtensions.includes("8BITMIME")&&(c.push("BODY=8BITMIME"),this._using8BitMime=!0),this._envelope.size&&this._supportedExtensions.includes("SIZE")&&c.push("SIZE="+this._envelope.size),this._envelope.dsn&&this._supportedExtensions.includes("DSN")&&(this._envelope.dsn.ret&&c.push("RET="+l.encodeXText(this._envelope.dsn.ret)),this._envelope.dsn.envid&&c.push("ENVID="+l.encodeXText(this._envelope.dsn.envid))),this._sendCommand("MAIL FROM:<"+this._envelope.from+">"+(c.length?" "+c.join(" "):""))}_setDsnEnvelope(a){let b=(a.ret||a.return||"").toString().toUpperCase()||null;if(b)switch(b){case"HDRS":case"HEADERS":b="HDRS";break;case"FULL":case"BODY":b="FULL"}if(b&&!["FULL","HDRS"].includes(b))throw Error("ret: "+JSON.stringify(b));let c=(a.envid||a.id||"").toString()||null,d=a.notify||null;if(d){"string"==typeof d&&(d=d.split(","));let a=["NEVER","SUCCESS","FAILURE","DELAY"];if((d=d.map(a=>a.trim().toUpperCase())).filter(b=>!a.includes(b)).length||d.length>1&&d.includes("NEVER"))throw Error("notify: "+JSON.stringify(d.join(",")));d=d.join(",")}let e=(a.recipient||a.orcpt||"").toString()||null;return e&&0>e.indexOf(";")&&(e="rfc822;"+e),{ret:b,envid:c,notify:d,orcpt:e}}_getDsnRcptToArgs(){let a=[];return this._envelope.dsn&&this._supportedExtensions.includes("DSN")&&(this._envelope.dsn.notify&&a.push("NOTIFY="+l.encodeXText(this._envelope.dsn.notify)),this._envelope.dsn.orcpt&&a.push("ORCPT="+l.encodeXText(this._envelope.dsn.orcpt))),a.length?" "+a.join(" "):""}_createSendStream(a){let b,c=new j;return this.options.lmtp?this._envelope.accepted.forEach((b,c)=>{let d=c===this._envelope.accepted.length-1;this._responseActions.push(c=>{this._actionLMTPStream(b,d,c,a)})}):this._responseActions.push(b=>{this._actionSMTPStream(b,a)}),c.pipe(this._socket,{end:!1}),this.options.debug&&((b=new k).on("readable",()=>{let a;for(;a=b.read();)this.logger.debug({tnx:"message"},a.toString("binary").replace(/\r?\n$/,""))}),c.pipe(b)),c.once("end",()=>{this.logger.info({tnx:"message",inByteCount:c.inByteCount,outByteCount:c.outByteCount},"<%s bytes encoded mime message (source size %s bytes)>",c.outByteCount,c.inByteCount)}),c}_actionGreeting(a){if(clearTimeout(this._greetingTimeout),"220"!==a.substr(0,3))return void this._onError(Error("Invalid greeting. response="+a),"EPROTOCOL",a,"CONN");this.options.lmtp?(this._responseActions.push(this._actionLHLO),this._sendCommand("LHLO "+this.name)):(this._responseActions.push(this._actionEHLO),this._sendCommand("EHLO "+this.name))}_actionLHLO(a){if("2"!==a.charAt(0))return void this._onError(Error("Invalid LHLO. response="+a),"EPROTOCOL",a,"LHLO");this._actionEHLO(a)}_actionEHLO(a){let b;if("421"===a.substr(0,3))return void this._onError(Error("Server terminates connection. response="+a),"ECONNECTION",a,"EHLO");if("2"!==a.charAt(0))return this.options.requireTLS?void this._onError(Error("EHLO failed but HELO does not support required STARTTLS. response="+a),"ECONNECTION",a,"EHLO"):(this._responseActions.push(this._actionHELO),void this._sendCommand("HELO "+this.name));if(this._ehloLines=a.split(/\r?\n/).map(a=>a.replace(/^\d+[ -]/,"").trim()).filter(a=>a).slice(1),!this.secure&&!this.options.ignoreTLS&&(/[ -]STARTTLS\b/im.test(a)||this.options.requireTLS)){this._sendCommand("STARTTLS"),this._responseActions.push(this._actionSTARTTLS);return}/[ -]SMTPUTF8\b/im.test(a)&&this._supportedExtensions.push("SMTPUTF8"),/[ -]DSN\b/im.test(a)&&this._supportedExtensions.push("DSN"),/[ -]8BITMIME\b/im.test(a)&&this._supportedExtensions.push("8BITMIME"),/[ -]PIPELINING\b/im.test(a)&&this._supportedExtensions.push("PIPELINING"),/[ -]AUTH\b/i.test(a)&&(this.allowsAuth=!0),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)PLAIN/i.test(a)&&this._supportedAuth.push("PLAIN"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)LOGIN/i.test(a)&&this._supportedAuth.push("LOGIN"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)CRAM-MD5/i.test(a)&&this._supportedAuth.push("CRAM-MD5"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)XOAUTH2/i.test(a)&&this._supportedAuth.push("XOAUTH2"),(b=a.match(/[ -]SIZE(?:[ \t]+(\d+))?/im))&&(this._supportedExtensions.push("SIZE"),this._maxAllowedSize=Number(b[1])||0),this.emit("connect")}_actionHELO(a){if("2"!==a.charAt(0))return void this._onError(Error("Invalid HELO. response="+a),"EPROTOCOL",a,"HELO");this.allowsAuth=!0,this.emit("connect")}_actionSTARTTLS(a){if("2"!==a.charAt(0))return this.options.opportunisticTLS?(this.logger.info({tnx:"smtp"},"Failed STARTTLS upgrade, continuing unencrypted"),this.emit("connect")):void this._onError(Error("Error upgrading connection with STARTTLS"),"ETLS",a,"STARTTLS");this._upgradeConnection((a,b)=>{if(a)return void this._onError(Error("Error initiating TLS - "+(a.message||a)),"ETLS",!1,"STARTTLS");this.logger.info({tnx:"smtp"},"Connection upgraded with STARTTLS"),b?this.options.lmtp?(this._responseActions.push(this._actionLHLO),this._sendCommand("LHLO "+this.name)):(this._responseActions.push(this._actionEHLO),this._sendCommand("EHLO "+this.name)):this.emit("connect")})}_actionAUTH_LOGIN_USER(a,b){if(!/^334[ -]/.test(a))return void b(this._formatError('Invalid login sequence while waiting for "334 VXNlcm5hbWU6"',"EAUTH",a,"AUTH LOGIN"));this._responseActions.push(a=>{this._actionAUTH_LOGIN_PASS(a,b)}),this._sendCommand(Buffer.from(this._auth.credentials.user+"","utf-8").toString("base64"))}_actionAUTH_CRAM_MD5(a,b){let c=a.match(/^334\s+(.+)$/),d="";if(!c)return b(this._formatError("Invalid login sequence while waiting for server challenge string","EAUTH",a,"AUTH CRAM-MD5"));d=c[1];let e=Buffer.from(d,"base64").toString("ascii"),f=i.createHmac("md5",this._auth.credentials.pass);f.update(e);let g=this._auth.credentials.user+" "+f.digest("hex");this._responseActions.push(a=>{this._actionAUTH_CRAM_MD5_PASS(a,b)}),this._sendCommand(Buffer.from(g).toString("base64"),Buffer.from(this._auth.credentials.user+" /* secret */").toString("base64"))}_actionAUTH_CRAM_MD5_PASS(a,b){if(!a.match(/^235\s+/))return b(this._formatError('Invalid login sequence while waiting for "235"',"EAUTH",a,"AUTH CRAM-MD5"));this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,b(null,!0)}_actionAUTH_LOGIN_PASS(a,b){if(!/^334[ -]/.test(a))return b(this._formatError('Invalid login sequence while waiting for "334 UGFzc3dvcmQ6"',"EAUTH",a,"AUTH LOGIN"));this._responseActions.push(a=>{this._actionAUTHComplete(a,b)}),this._sendCommand(Buffer.from((this._auth.credentials.pass||"").toString(),"utf-8").toString("base64"),Buffer.from("/* secret */","utf-8").toString("base64"))}_actionAUTHComplete(a,b,c){if(c||"function"!=typeof b||(c=b,b=!1),"334"===a.substr(0,3)){this._responseActions.push(a=>{b||"XOAUTH2"!==this._authMethod?this._actionAUTHComplete(a,!0,c):setImmediate(()=>this._handleXOauth2Token(!0,c))}),this._sendCommand("");return}if("2"!==a.charAt(0))return this.logger.info({tnx:"smtp",username:this._auth.user,action:"authfail",method:this._authMethod},"User %s failed to authenticate",JSON.stringify(this._auth.user)),c(this._formatError("Invalid login","EAUTH",a,"AUTH "+this._authMethod));this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,c(null,!0)}_actionMAIL(a,b){let c,d;if(2!==Number(a.charAt(0)))return c=this._usingSmtpUtf8&&/^550 /.test(a)&&/[\x80-\uFFFF]/.test(this._envelope.from)?"Internationalized mailbox name not allowed":"Mail command failed",b(this._formatError(c,"EENVELOPE",a,"MAIL FROM"));if(!this._envelope.rcptQueue.length)return b(this._formatError("Can't send mail - no recipients defined","EENVELOPE",!1,"API"));if(this._recipientQueue=[],this._supportedExtensions.includes("PIPELINING"))for(;this._envelope.rcptQueue.length;)d=this._envelope.rcptQueue.shift(),this._recipientQueue.push(d),this._responseActions.push(a=>{this._actionRCPT(a,b)}),this._sendCommand("RCPT TO:<"+d+">"+this._getDsnRcptToArgs());else d=this._envelope.rcptQueue.shift(),this._recipientQueue.push(d),this._responseActions.push(a=>{this._actionRCPT(a,b)}),this._sendCommand("RCPT TO:<"+d+">"+this._getDsnRcptToArgs())}_actionRCPT(a,b){let c,d,e=this._recipientQueue.shift();if(2!==Number(a.charAt(0))?(c=this._usingSmtpUtf8&&/^553 /.test(a)&&/[\x80-\uFFFF]/.test(e)?"Internationalized mailbox name not allowed":"Recipient command failed",this._envelope.rejected.push(e),(d=this._formatError(c,"EENVELOPE",a,"RCPT TO")).recipient=e,this._envelope.rejectedErrors.push(d)):this._envelope.accepted.push(e),this._envelope.rcptQueue.length||this._recipientQueue.length)this._envelope.rcptQueue.length&&(e=this._envelope.rcptQueue.shift(),this._recipientQueue.push(e),this._responseActions.push(a=>{this._actionRCPT(a,b)}),this._sendCommand("RCPT TO:<"+e+">"+this._getDsnRcptToArgs()));else{if(!(this._envelope.rejected.length<this._envelope.to.length))return(d=this._formatError("Can't send mail - all recipients were rejected","EENVELOPE",a,"RCPT TO")).rejected=this._envelope.rejected,d.rejectedErrors=this._envelope.rejectedErrors,b(d);this._responseActions.push(a=>{this._actionDATA(a,b)}),this._sendCommand("DATA")}}_actionDATA(a,b){if(!/^[23]/.test(a))return b(this._formatError("Data command failed","EENVELOPE",a,"DATA"));let c={accepted:this._envelope.accepted,rejected:this._envelope.rejected};this._ehloLines&&this._ehloLines.length&&(c.ehlo=this._ehloLines),this._envelope.rejectedErrors.length&&(c.rejectedErrors=this._envelope.rejectedErrors),b(null,c)}_actionSMTPStream(a,b){return 2!==Number(a.charAt(0))?b(this._formatError("Message failed","EMESSAGE",a,"DATA")):b(null,a)}_actionLMTPStream(a,b,c,d){let e;if(2!==Number(c.charAt(0))){(e=this._formatError("Message failed for recipient "+a,"EMESSAGE",c,"DATA")).recipient=a,this._envelope.rejected.push(a),this._envelope.rejectedErrors.push(e);for(let b=0,c=this._envelope.accepted.length;b<c;b++)this._envelope.accepted[b]===a&&this._envelope.accepted.splice(b,1)}if(b)return d(null,c)}_handleXOauth2Token(a,b){this._auth.oauth2.getToken(a,(c,d)=>{if(c)return this.logger.info({tnx:"smtp",username:this._auth.user,action:"authfail",method:this._authMethod},"User %s failed to authenticate",JSON.stringify(this._auth.user)),b(this._formatError(c,"EAUTH",!1,"AUTH XOAUTH2"));this._responseActions.push(c=>{this._actionAUTHComplete(c,a,b)}),this._sendCommand("AUTH XOAUTH2 "+this._auth.oauth2.buildXOAuth2Token(d),"AUTH XOAUTH2 "+this._auth.oauth2.buildXOAuth2Token("/* secret */"))})}_isDestroyedMessage(a){if(this._destroyed)return"Cannot "+a+" - smtp connection is already destroyed.";if(this._socket){if(this._socket.destroyed)return"Cannot "+a+" - smtp connection socket is already destroyed.";if(!this._socket.writable)return"Cannot "+a+" - smtp connection socket is already half-closed."}}_getHostname(){let a;try{a=h.hostname()||""}catch(b){a="localhost"}return(!a||0>a.indexOf("."))&&(a="[127.0.0.1]"),a.match(/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/)&&(a="["+a+"]"),a}}a.exports=r},22345:(a,b,c)=>{"use strict";let d=c(63367),e={};function f(a){return a.replace(/[^a-zA-Z0-9.-]/g,"").toLowerCase()}function g(a){let b=["domains","aliases"],c={};return Object.keys(a).forEach(d=>{0>b.indexOf(d)&&(c[d]=a[d])}),c}Object.keys(d).forEach(a=>{let b=d[a];e[f(a)]=g(b),[].concat(b.aliases||[]).forEach(a=>{e[f(a)]=g(b)}),[].concat(b.domains||[]).forEach(a=>{e[f(a)]=g(b)})}),a.exports=function(a){return e[a=f(a.split("@").pop())]||!1}},22560:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(47934);b.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:a})=>(0,d.str)`must match format "${a}"`,params:({schemaCode:a})=>(0,d._)`{format: ${a}}`},code(a,b){let{gen:c,data:e,$data:f,schema:g,schemaCode:h,it:i}=a,{opts:j,errSchemaPath:k,schemaEnv:l,self:m}=i;function o(){let f=c.scopeValue("formats",{ref:m.formats,code:j.code.formats}),g=c.const("fDef",(0,d._)`${f}[${h}]`),i=c.let("fType"),k=c.let("format");function o(){return!1===j.strictSchema?d.nil:(0,d._)`${h} && !${k}`}function p(){let a=l.$async?(0,d._)`(${g}.async ? await ${k}(${e}) : ${k}(${e}))`:(0,d._)`${k}(${e})`,c=(0,d._)`(typeof ${k} == "function" ? ${a} : ${k}.test(${e}))`;return(0,d._)`${k} && ${k} !== true && ${i} === ${b} && !${c}`}c.if((0,d._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>c.assign(i,(0,d._)`${g}.type || "string"`).assign(k,(0,d._)`${g}.validate`),()=>c.assign(i,(0,d._)`"string"`).assign(k,g)),a.fail$data((0,d.or)(o(),p()))}function p(){let f=m.formats[g];if(!f)return void p();if(!0===f)return;let[h,i,o]=q(f);function p(){if(!1===j.strictSchema)return void m.logger.warn(a());throw Error(a());function a(){return`unknown format "${g}" ignored in schema at path "${k}"`}}function q(a){let b=a instanceof RegExp?(0,d.regexpCode)(a):j.code.formats?(0,d._)`${j.code.formats}${(0,d.getProperty)(g)}`:void 0,e=c.scopeValue("formats",{key:g,ref:a,code:b});return"object"!=typeof a||a instanceof RegExp?["string",a,e]:[a.type||"string",a.validate,(0,d._)`${e}.validate`]}function r(){if("object"==typeof f&&!(f instanceof RegExp)&&f.async){if(!l.$async)throw Error("async format in sync schema");return(0,d._)`await ${o}(${e})`}return"function"==typeof i?(0,d._)`${o}(${e})`:(0,d._)`${o}.test(${e})`}h===b&&a.pass(r())}j.validateFormats&&(f?o():p())}}},22765:(a,b,c)=>{"use strict";c.d(b,{B:()=>d});class d{serdeContext;setSerdeContext(a){this.serdeContext=a}}},22787:(a,b,c)=>{"use strict";let d=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:e}=c(64737),f=c(83927);function g(a){if(!a||"function"!=typeof a.dispatch)throw new e("Argument agent must implement Agent");Object.defineProperty(globalThis,d,{value:a,writable:!0,enumerable:!1,configurable:!1})}function h(){return globalThis[d]}void 0===h()&&g(new f),a.exports={setGlobalDispatcher:g,getGlobalDispatcher:h}},23042:(a,b,c)=>{"use strict";c.d(b,{_N:()=>g,gD:()=>d,s8:()=>e,sT:()=>h,wA:()=>f});let d=a=>!!(a?.versions&&"object"==typeof a.versions&&a.versions.drafts),e=a=>!!(a?.versions&&"object"==typeof a.versions&&a.versions.drafts&&"object"==typeof a.versions.drafts&&a.versions.drafts.autosave),f=a=>!!(a?.versions&&"object"==typeof a.versions&&a.versions.drafts&&"object"==typeof a.versions.drafts&&a.versions.drafts.validate),g=a=>!!(a?.versions&&"object"==typeof a.versions&&a.versions.drafts&&"object"==typeof a.versions.drafts&&a.versions.drafts.schedulePublish),h=a=>a?.versions&&"object"==typeof a.versions?"maxPerDoc"in a.versions?a.versions.maxPerDoc??0:"max"in a.versions?a.versions.max??0:0:0},23068:(a,b,c)=>{"use strict";c.d(b,{G:()=>f,R:()=>e});var d=c(20674);function*e(a,b){if(a.isUnitSchema())return;let c=a.getSchema();for(let a=0;a<c[4].length;++a){let e=c[4][a],f=c[5][a],g=new d.l([f,0],e);(e in b||g.isIdempotencyToken())&&(yield[e,g])}}function*f(a,b,c){if(a.isUnitSchema())return;let e=a.getSchema(),f=Object.keys(b).filter(a=>"__type"!==a).length;for(let a=0;a<e[4].length&&0!==f;++a){let g=e[4][a],h=e[5][a],i=new d.l([h,0],g),j=g;c&&(j=i.getMergedTraits()[c]??g),j in b&&(yield[g,i],f-=1)}}},23104:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(47934),e=c(34414);b.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:a})=>(0,d._)`{passingSchemas: ${a.passing}}`},code(a){let{gen:b,schema:c,parentSchema:f,it:g}=a;if(!Array.isArray(c))throw Error("ajv implementation error");if(g.opts.discriminator&&f.discriminator)return;let h=c,i=b.let("valid",!1),j=b.let("passing",null),k=b.name("_valid");function l(){h.forEach((c,f)=>{let h;(0,e.alwaysValidSchema)(g,c)?b.var(k,!0):h=a.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},k),f>0&&b.if((0,d._)`${k} && ${i}`).assign(i,!1).assign(j,(0,d._)`[${j}, ${f}]`).else(),b.if(k,()=>{b.assign(i,!0),b.assign(j,f),h&&a.mergeEvaluated(h,d.Name)})})}a.setParams({passing:j}),b.block(l),a.result(i,()=>a.reset(),()=>a.error(!0))}}},23237:(a,b,c)=>{"use strict";c.d(b,{L:()=>d});let d=new Set(["equals","contains","not_equals","in","all","not_in","exists","greater_than","greater_than_equal","less_than","less_than_equal","like","not_like","within","intersects","near"])},23264:(a,b,c)=>{"use strict";c.d(b,{o:()=>d});let d=a=>encodeURIComponent(a).replace(/[!'()*]/g,e),e=a=>`%${a.charCodeAt(0).toString(16).toUpperCase()}`},23271:(a,b,c)=>{"use strict";async function d(a){let{payload:b,transactionID:c}=a;return c instanceof Promise?(await c,!1):!c&&"function"==typeof b.db.beginTransaction&&(a.transactionID=b.db.beginTransaction().then(b=>(b&&(a.transactionID=b),b)),!!await a.transactionID)}c.d(b,{n:()=>d})},23280:(a,b,c)=>{"use strict";let{pipeline:d}=c(57075),{fetching:e}=c(55852),{makeRequest:f}=c(40369),{webidl:g}=c(81399),{EventSourceStream:h}=c(67125),{parseMIMEType:i}=c(62018),{createFastMessageEvent:j}=c(54514),{isNetworkError:k}=c(62285),{delay:l}=c(66081),{kEnumerableProperty:m}=c(81350),{environmentSettingsObject:o}=c(51074),p=!1,q=3e3,r=0,s=1,t=2,u="anonymous",v="use-credentials";class w extends EventTarget{#C={open:null,error:null,message:null};#N;#X=!1;#Y=r;#Z=null;#$=null;#_;#aa;constructor(a,b={}){let c;super(),g.util.markAsUncloneable(this);let d="EventSource constructor";g.argumentLengthCheck(arguments,1,d),p||(p=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"})),a=g.converters.USVString(a),b=g.converters.EventSourceInitDict(b,d,"eventSourceInitDict"),this.#_=b.dispatcher,this.#aa={lastEventId:"",reconnectionTime:q};let e=o;try{c=new URL(a,e.settingsObject.baseUrl),this.#aa.origin=c.origin}catch(a){throw new DOMException(a,"SyntaxError")}this.#N=c.href;let h=u;!0===b.withCredentials&&(h=v,this.#X=!0);let i={redirect:"follow",keepalive:!0,mode:"cors",credentials:"anonymous"===h?"same-origin":"omit",referrer:"no-referrer"};i.client=o.settingsObject,i.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],i.cache="no-store",i.initiator="other",i.urlList=[new URL(this.#N)],this.#Z=f(i),this.#ab()}get readyState(){return this.#Y}get url(){return this.#N}get withCredentials(){return this.#X}#ab(){if(this.#Y===t)return;this.#Y=r;let a={request:this.#Z,dispatcher:this.#_};a.processResponseEndOfBody=a=>{k(a)&&(this.dispatchEvent(new Event("error")),this.close()),this.#ac()},a.processResponse=a=>{if(k(a))if(!a.aborted)return void this.#ac();else{this.close(),this.dispatchEvent(new Event("error"));return}let b=a.headersList.get("content-type",!0),c=null!==b?i(b):"failure",e="failure"!==c&&"text/event-stream"===c.essence;if(200!==a.status||!1===e){this.close(),this.dispatchEvent(new Event("error"));return}this.#Y=s,this.dispatchEvent(new Event("open")),this.#aa.origin=a.urlList[a.urlList.length-1].origin;let f=new h({eventSourceSettings:this.#aa,push:a=>{this.dispatchEvent(j(a.type,a.options))}});d(a.body.stream,f,a=>{a?.aborted===!1&&(this.close(),this.dispatchEvent(new Event("error")))})},this.#$=e(a)}async #ac(){this.#Y!==t&&(this.#Y=r,this.dispatchEvent(new Event("error")),await l(this.#aa.reconnectionTime),this.#Y===r&&(this.#aa.lastEventId.length&&this.#Z.headersList.set("last-event-id",this.#aa.lastEventId,!0),this.#ab()))}close(){g.brandCheck(this,w),this.#Y!==t&&(this.#Y=t,this.#$.abort(),this.#Z=null)}get onopen(){return this.#C.open}set onopen(a){this.#C.open&&this.removeEventListener("open",this.#C.open),"function"==typeof a?(this.#C.open=a,this.addEventListener("open",a)):this.#C.open=null}get onmessage(){return this.#C.message}set onmessage(a){this.#C.message&&this.removeEventListener("message",this.#C.message),"function"==typeof a?(this.#C.message=a,this.addEventListener("message",a)):this.#C.message=null}get onerror(){return this.#C.error}set onerror(a){this.#C.error&&this.removeEventListener("error",this.#C.error),"function"==typeof a?(this.#C.error=a,this.addEventListener("error",a)):this.#C.error=null}}let x={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:r,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:s,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:t,writable:!1}};Object.defineProperties(w,x),Object.defineProperties(w.prototype,x),Object.defineProperties(w.prototype,{close:m,onerror:m,onmessage:m,onopen:m,readyState:m,url:m,withCredentials:m}),g.converters.EventSourceInitDict=g.dictionaryConverter([{key:"withCredentials",converter:g.converters.boolean,defaultValue:()=>!1},{key:"dispatcher",converter:g.converters.any}]),a.exports={EventSource:w,defaultReconnectionTime:q}},23329:(a,b,c)=>{"use strict";c.d(b,{G:()=>d});let d=a=>{let b,c=a.length,d=[],e=!1,f=0;for(let g=0;g<c;++g){let c=a[g];switch(c){case'"':"\\"!==b&&(e=!e);break;case",":e||(d.push(a.slice(f,g)),f=g+1)}b=c}return d.push(a.slice(f)),d.map(a=>{let b=(a=a.trim()).length;return b<2?a:('"'===a[0]&&'"'===a[b-1]&&(a=a.slice(1,b-1)),a.replace(/\\"/g,'"'))})}},23934:(a,b,c)=>{"use strict";let d=c(34589),{finished:e}=c(57075),{AsyncResource:f}=c(16698),{InvalidArgumentError:g,InvalidReturnValueError:h}=c(64737),i=c(81350),{addSignal:j,removeSignal:k}=c(84952);function l(){}class m extends f{constructor(a,b,c){if(!a||"object"!=typeof a)throw new g("invalid opts");let{signal:d,method:e,opaque:f,body:h,onInfo:k,responseHeaders:m}=a;try{if("function"!=typeof c)throw new g("invalid callback");if("function"!=typeof b)throw new g("invalid factory");if(d&&"function"!=typeof d.on&&"function"!=typeof d.addEventListener)throw new g("signal must be an EventEmitter or EventTarget");if("CONNECT"===e)throw new g("invalid method");if(k&&"function"!=typeof k)throw new g("invalid onInfo callback");super("UNDICI_STREAM")}catch(a){throw i.isStream(h)&&i.destroy(h.on("error",l),a),a}this.responseHeaders=m||null,this.opaque=f||null,this.factory=b,this.callback=c,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=h,this.onInfo=k||null,i.isStream(h)&&h.on("error",a=>{this.onError(a)}),j(this,d)}onConnect(a,b){if(this.reason)return void a(this.reason);d(this.callback),this.abort=a,this.context=b}onHeaders(a,b,c,d){let{factory:f,opaque:g,context:j,responseHeaders:k}=this,l="raw"===k?i.parseRawHeaders(b):i.parseHeaders(b);if(a<200){this.onInfo&&this.onInfo({statusCode:a,headers:l});return}if(this.factory=null,null===f)return;let m=this.runInAsyncScope(f,null,{statusCode:a,headers:l,opaque:g,context:j});if(!m||"function"!=typeof m.write||"function"!=typeof m.end||"function"!=typeof m.on)throw new h("expected Writable");return e(m,{readable:!1},a=>{let{callback:b,res:c,opaque:d,trailers:e,abort:f}=this;this.res=null,(a||!c.readable)&&i.destroy(c,a),this.callback=null,this.runInAsyncScope(b,null,a||null,{opaque:d,trailers:e}),a&&f()}),m.on("drain",c),this.res=m,!0!==(void 0!==m.writableNeedDrain?m.writableNeedDrain:m._writableState?.needDrain)}onData(a){let{res:b}=this;return!b||b.write(a)}onComplete(a){let{res:b}=this;k(this),b&&(this.trailers=i.parseHeaders(a),b.end())}onError(a){let{res:b,callback:c,opaque:d,body:e}=this;k(this),this.factory=null,b?(this.res=null,i.destroy(b,a)):c&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(c,null,a,{opaque:d})})),e&&(this.body=null,i.destroy(e,a))}}function o(a,b,c){if(void 0===c)return new Promise((c,d)=>{o.call(this,a,b,(a,b)=>a?d(a):c(b))});try{let d=new m(a,b,c);this.dispatch(a,d)}catch(d){if("function"!=typeof c)throw d;let b=a?.opaque;queueMicrotask(()=>c(d,{opaque:b}))}}a.exports=o},23976:(a,b,c)=>{"use strict";let d=c(27910).Transform;function e(a){let b;"string"==typeof a&&(a=Buffer.from(a,"utf-8"));let c=[[9],[10],[13],[32,60],[62,126]],d="";for(let e=0,f=a.length;e<f;e++){if(g(b=a[e],c)&&(32!==b&&9!==b||e!==f-1&&10!==a[e+1]&&13!==a[e+1])){d+=String.fromCharCode(b);continue}d+="="+(b<16?"0":"")+b.toString(16).toUpperCase()}return d}function f(a,b){let c,d,e;if(a=(a||"").toString(),b=b||76,a.length<=b)return a;let f=0,g=a.length,h=Math.floor(b/3),i="";for(;f<g;){if(c=(e=a.substr(f,b)).match(/\r\n/)){i+=e=e.substr(0,c.index+c[0].length),f+=e.length;continue}if("\n"===e.substr(-1)){i+=e,f+=e.length;continue}if(c=e.substr(-h).match(/\n.*?$/)){i+=e=e.substr(0,e.length-(c[0].length-1)),f+=e.length;continue}if(e.length>b-h&&(c=e.substr(-h).match(/[ \t.,!?][^ \t.,!?]*$/)))e=e.substr(0,e.length-(c[0].length-1));else if(e.match(/[=][\da-f]{0,2}$/i))for((c=e.match(/[=][\da-f]{0,1}$/i))&&(e=e.substr(0,e.length-c[0].length));e.length>3&&e.length<g-f&&!e.match(/^(?:=[\da-f]{2}){1,4}$/i)&&(c=e.match(/[=][\da-f]{2}$/gi))&&!((d=parseInt(c[0].substr(1,2),16))<128)&&(e=e.substr(0,e.length-3),!(d>=192)););f+e.length<g&&"\n"!==e.substr(-1)?(e.length===b&&e.match(/[=][\da-f]{2}$/i)?e=e.substr(0,e.length-3):e.length===b&&(e=e.substr(0,e.length-1)),f+=e.length,e+="=\r\n"):f+=e.length,i+=e}return i}function g(a,b){for(let c=b.length-1;c>=0;c--)if(b[c].length&&(1===b[c].length&&a===b[c][0]||2===b[c].length&&a>=b[c][0]&&a<=b[c][1]))return!0;return!1}class h extends d{constructor(a){super(),this.options=a||{},!1!==this.options.lineLength&&(this.options.lineLength=this.options.lineLength||76),this._curLine="",this.inputBytes=0,this.outputBytes=0}_transform(a,b,c){let d;if("buffer"!==b&&(a=Buffer.from(a,b)),!a||!a.length)return c();this.inputBytes+=a.length,this.options.lineLength?(d=(d=f(d=this._curLine+e(a),this.options.lineLength)).replace(/(^|\n)([^\n]*)$/,(a,b,c)=>(this._curLine=c,b)))&&(this.outputBytes+=d.length,this.push(d)):(d=e(a),this.outputBytes+=d.length,this.push(d,"ascii")),c()}_flush(a){this._curLine&&(this.outputBytes+=this._curLine.length,this.push(this._curLine,"ascii")),a()}}a.exports={encode:e,wrap:f,Encoder:h}},24281:(a,b,c)=>{"use strict";c.d(b,{a:()=>e});var d=c(58412);let e=a=>"object"==typeof a?"url"in a?(0,d.D)(a.url):a:(0,d.D)(a)},24290:(a,b,c)=>{"use strict";c.d(b,{A:()=>p});var d=c(77598),e=c(26390);function f(a,b="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${b} must be ${a}`)}function g(a,b){return a.name===b}function h(a){return parseInt(a.name.slice(4),10)}function i(a){switch(a){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}function j(a,b){if(b.length&&!b.some(b=>a.usages.includes(b))){let a="CryptoKey does not support this operation, its usages must include ";if(b.length>2){let c=b.pop();a+=`one of ${b.join(", ")}, or ${c}.`}else 2===b.length?a+=`one of ${b[0]} or ${b[1]}.`:a+=`${b[0]}.`;throw TypeError(a)}}function k(a,b,...c){switch(b){case"HS256":case"HS384":case"HS512":{if(!g(a.algorithm,"HMAC"))throw f("HMAC");let c=parseInt(b.slice(2),10);if(h(a.algorithm.hash)!==c)throw f(`SHA-${c}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!g(a.algorithm,"RSASSA-PKCS1-v1_5"))throw f("RSASSA-PKCS1-v1_5");let c=parseInt(b.slice(2),10);if(h(a.algorithm.hash)!==c)throw f(`SHA-${c}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!g(a.algorithm,"RSA-PSS"))throw f("RSA-PSS");let c=parseInt(b.slice(2),10);if(h(a.algorithm.hash)!==c)throw f(`SHA-${c}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==a.algorithm.name&&"Ed448"!==a.algorithm.name)throw f("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!g(a.algorithm,"ECDSA"))throw f("ECDSA");let c=i(b);if(a.algorithm.namedCurve!==c)throw f(c,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}j(a,c)}var l=c(10466),m=c(61435),o=c(19071);function p(a,b,c){if(b instanceof Uint8Array){if(!a.startsWith("HS"))throw TypeError((0,l.A)(b,...m.g));return(0,d.createSecretKey)(b)}if(b instanceof d.KeyObject)return b;if((0,e.R)(b))return k(b,a,c),d.KeyObject.from(b);if(o.ll(b))return a.startsWith("HS")?(0,d.createSecretKey)(Buffer.from(b.k,"base64url")):b;throw TypeError((0,l.A)(b,...m.g,"Uint8Array","JSON Web Key"))}},24328:(a,b,c)=>{"use strict";let d=c(24404),e=c(94735).EventEmitter,f=c(91645),g=c(34631),h=c(21820),i=c(55511),j=c(90699),k=c(27910).PassThrough,l=c(32488),m=12e4,o=6e5,p=3e4,q=3e4;class r extends e{constructor(a){super(a),this.id=i.randomBytes(8).toString("base64").replace(/\W/g,""),this.stage="init",this.options=a||{},this.secureConnection=!!this.options.secure,this.alreadySecured=!!this.options.secured,this.port=Number(this.options.port)||(this.secureConnection?465:587),this.host=this.options.host||"localhost",this.servername=this.options.servername?this.options.servername:!f.isIP(this.host)&&this.host,this.allowInternalNetworkInterfaces=this.options.allowInternalNetworkInterfaces||!1,void 0===this.options.secure&&465===this.port&&(this.secureConnection=!0),this.name=this.options.name||this._getHostname(),this.logger=l.getLogger(this.options,{component:this.options.component||"smtp-connection",sid:this.id}),this.customAuth=new Map,Object.keys(this.options.customAuth||{}).forEach(a=>{let b=(a||"").toString().trim().toUpperCase();b&&this.customAuth.set(b,this.options.customAuth[a])}),this.version=d.version,this.authenticated=!1,this.destroyed=!1,this.secure=!!this.secureConnection,this._remainder="",this._responseQueue=[],this.lastServerResponse=!1,this._socket=!1,this._supportedAuth=[],this.allowsAuth=!1,this._envelope=!1,this._supportedExtensions=[],this._maxAllowedSize=0,this._responseActions=[],this._recipientQueue=[],this._greetingTimeout=!1,this._connectionTimeout=!1,this._destroyed=!1,this._closing=!1,this._onSocketData=a=>this._onData(a),this._onSocketError=a=>this._onError(a,"ESOCKET",!1,"CONN"),this._onSocketClose=()=>this._onClose(),this._onSocketEnd=()=>this._onEnd(),this._onSocketTimeout=()=>this._onTimeout()}connect(a){if("function"==typeof a){this.once("connect",()=>{this.logger.debug({tnx:"smtp"},"SMTP handshake finished"),a()});let b=this._isDestroyedMessage("connect");if(b)return a(this._formatError(b,"ECONNECTION",!1,"CONN"))}let b={port:this.port,host:this.host,allowInternalNetworkInterfaces:this.allowInternalNetworkInterfaces,timeout:this.options.dnsTimeout||q};this.options.localAddress&&(b.localAddress=this.options.localAddress);let c=()=>{this._connectionTimeout=setTimeout(()=>{this._onError("Connection timeout","ETIMEDOUT",!1,"CONN")},this.options.connectionTimeout||m),this._socket.on("error",this._onSocketError)};if(this.options.connection){this._socket=this.options.connection,c(),this.secureConnection&&!this.alreadySecured?setImmediate(()=>this._upgradeConnection(a=>{if(a)return void this._onError(Error("Error initiating TLS - "+(a.message||a)),"ETLS",!1,"CONN");this._onConnect()})):setImmediate(()=>this._onConnect());return}return this.options.socket?(this._socket=this.options.socket,l.resolveHostname(b,(a,d)=>{if(a)return setImmediate(()=>this._onError(a,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:b.host,resolved:d.host,cached:!!d.cached},"Resolved %s as %s [cache %s]",b.host,d.host,d.cached?"hit":"miss"),Object.keys(d).forEach(a=>{"_"!==a.charAt(0)&&d[a]&&(b[a]=d[a])});try{this._socket.connect(this.port,this.host,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),c()}catch(a){return setImmediate(()=>this._onError(a,"ECONNECTION",!1,"CONN"))}})):this.secureConnection?(this.options.tls&&Object.keys(this.options.tls).forEach(a=>{b[a]=this.options.tls[a]}),this.servername&&!b.servername&&(b.servername=this.servername),l.resolveHostname(b,(a,d)=>{if(a)return setImmediate(()=>this._onError(a,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:b.host,resolved:d.host,cached:!!d.cached},"Resolved %s as %s [cache %s]",b.host,d.host,d.cached?"hit":"miss"),Object.keys(d).forEach(a=>{"_"!==a.charAt(0)&&d[a]&&(b[a]=d[a])});try{this._socket=g.connect(b,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),c()}catch(a){return setImmediate(()=>this._onError(a,"ECONNECTION",!1,"CONN"))}})):l.resolveHostname(b,(a,d)=>{if(a)return setImmediate(()=>this._onError(a,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:b.host,resolved:d.host,cached:!!d.cached},"Resolved %s as %s [cache %s]",b.host,d.host,d.cached?"hit":"miss"),Object.keys(d).forEach(a=>{"_"!==a.charAt(0)&&d[a]&&(b[a]=d[a])});try{this._socket=f.connect(b,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),c()}catch(a){return setImmediate(()=>this._onError(a,"ECONNECTION",!1,"CONN"))}})}quit(){this._sendCommand("QUIT"),this._responseActions.push(this.close)}close(){if(clearTimeout(this._connectionTimeout),clearTimeout(this._greetingTimeout),this._responseActions=[],this._closing)return;this._closing=!0;let a="end";"init"===this.stage&&(a="destroy"),this.logger.debug({tnx:"smtp"},'Closing connection to the server using "%s"',a);let b=this._socket&&this._socket.socket||this._socket;if(b&&!b.destroyed)try{b[a]()}catch(a){}this._destroy()}login(a,b){let c=this._isDestroyedMessage("login");if(c)return b(this._formatError(c,"ECONNECTION",!1,"API"));if(this._auth=a||{},this._authMethod=(this._auth.method||"").toString().trim().toUpperCase()||!1,this._authMethod||!this._auth.oauth2||this._auth.credentials?this._authMethod&&("XOAUTH2"!==this._authMethod||this._auth.oauth2)||(this._authMethod=(this._supportedAuth[0]||"PLAIN").toUpperCase().trim()):this._authMethod="XOAUTH2","XOAUTH2"!==this._authMethod&&(!this._auth.credentials||!this._auth.credentials.user||!this._auth.credentials.pass))if(!(this._auth.user&&this._auth.pass||this.customAuth.has(this._authMethod)))return b(this._formatError('Missing credentials for "'+this._authMethod+'"',"EAUTH",!1,"API"));else this._auth.credentials={user:this._auth.user,pass:this._auth.pass,options:this._auth.options};if(this.customAuth.has(this._authMethod)){let a,c=this.customAuth.get(this._authMethod),d=!1,e=()=>{d||(d=!0,this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,b(null,!0))},f=c=>{d||(d=!0,b(this._formatError(c,"EAUTH",a,"AUTH "+this._authMethod)))},g=c({auth:this._auth,method:this._authMethod,extensions:[].concat(this._supportedExtensions),authMethods:[].concat(this._supportedAuth),maxAllowedSize:this._maxAllowedSize||!1,sendCommand:(b,c)=>{let d;return c||(d=new Promise((a,b)=>{c=l.callbackPromise(a,b)})),this._responseActions.push(d=>{a=d;let e=d.match(/^(\d+)(?:\s(\d+\.\d+\.\d+))?\s/),f={command:b,response:d};e?(f.status=Number(e[1])||0,e[2]&&(f.code=e[2]),f.text=d.substr(e[0].length)):(f.text=d,f.status=0),c(null,f)}),setImmediate(()=>this._sendCommand(b)),d},resolve:e,reject:f});g&&"function"==typeof g.catch&&g.then(e).catch(f);return}switch(this._authMethod){case"XOAUTH2":this._handleXOauth2Token(!1,b);return;case"LOGIN":this._responseActions.push(a=>{this._actionAUTH_LOGIN_USER(a,b)}),this._sendCommand("AUTH LOGIN");return;case"PLAIN":this._responseActions.push(a=>{this._actionAUTHComplete(a,b)}),this._sendCommand("AUTH PLAIN "+Buffer.from("\0"+this._auth.credentials.user+"\0"+this._auth.credentials.pass,"utf-8").toString("base64"),"AUTH PLAIN "+Buffer.from("\0"+this._auth.credentials.user+"\0/* secret */","utf-8").toString("base64"));return;case"CRAM-MD5":this._responseActions.push(a=>{this._actionAUTH_CRAM_MD5(a,b)}),this._sendCommand("AUTH CRAM-MD5");return}return b(this._formatError('Unknown authentication method "'+this._authMethod+'"',"EAUTH",!1,"API"))}send(a,b,c){if(!b)return c(this._formatError("Empty message","EMESSAGE",!1,"API"));let d=this._isDestroyedMessage("send message");if(d)return c(this._formatError(d,"ECONNECTION",!1,"API"));if(this._maxAllowedSize&&a.size>this._maxAllowedSize)return setImmediate(()=>{c(this._formatError("Message size larger than allowed "+this._maxAllowedSize,"EMESSAGE",!1,"MAIL FROM"))});let e=!1,f=function(){e||(e=!0,c(...arguments))};"function"==typeof b.on&&b.on("error",a=>f(this._formatError(a,"ESTREAM",!1,"API")));let g=Date.now();this._setEnvelope(a,(a,c)=>{if(a){let c=new k;return"function"==typeof b.pipe?b.pipe(c):(c.write(b),c.end()),f(a)}let d=Date.now(),e=this._createSendStream((a,b)=>a?f(a):(c.envelopeTime=d-g,c.messageTime=Date.now()-d,c.messageSize=e.outByteCount,c.response=b,f(null,c)));"function"==typeof b.pipe?b.pipe(e):(e.write(b),e.end())})}reset(a){this._sendCommand("RSET"),this._responseActions.push(b=>"2"!==b.charAt(0)?a(this._formatError("Could not reset session state. response="+b,"EPROTOCOL",b,"RSET")):(this._envelope=!1,a(null,!0)))}_onConnect(){if(clearTimeout(this._connectionTimeout),this.logger.info({tnx:"network",localAddress:this._socket.localAddress,localPort:this._socket.localPort,remoteAddress:this._socket.remoteAddress,remotePort:this._socket.remotePort},"%s established to %s:%s",this.secure?"Secure connection":"Connection",this._socket.remoteAddress,this._socket.remotePort),this._destroyed)return void this.close();this.stage="connected",this._socket.removeListener("data",this._onSocketData),this._socket.removeListener("timeout",this._onSocketTimeout),this._socket.removeListener("close",this._onSocketClose),this._socket.removeListener("end",this._onSocketEnd),this._socket.on("data",this._onSocketData),this._socket.once("close",this._onSocketClose),this._socket.once("end",this._onSocketEnd),this._socket.setTimeout(this.options.socketTimeout||o),this._socket.on("timeout",this._onSocketTimeout),this._greetingTimeout=setTimeout(()=>{this._socket&&!this._destroyed&&this._responseActions[0]===this._actionGreeting&&this._onError("Greeting never received","ETIMEDOUT",!1,"CONN")},this.options.greetingTimeout||p),this._responseActions.push(this._actionGreeting),this._socket.resume()}_onData(a){let b;if(this._destroyed||!a||!a.length)return;let c=(a||"").toString("binary"),d=(this._remainder+c).split(/\r?\n/);this._remainder=d.pop();for(let a=0,c=d.length;a<c;a++){if(this._responseQueue.length&&(b=this._responseQueue[this._responseQueue.length-1],/^\d+-/.test(b.split("\n").pop()))){this._responseQueue[this._responseQueue.length-1]+="\n"+d[a];continue}this._responseQueue.push(d[a])}this._responseQueue.length&&(b=this._responseQueue[this._responseQueue.length-1],/^\d+-/.test(b.split("\n").pop()))||this._processResponse()}_onError(a,b,c,d){clearTimeout(this._connectionTimeout),clearTimeout(this._greetingTimeout),this._destroyed||(a=this._formatError(a,b,c,d),this.logger.error(c,a.message),this.emit("error",a),this.close())}_formatError(a,b,c,d){let e;e=/Error\]$/i.test(Object.prototype.toString.call(a))?a:Error(a),b&&"Error"!==b&&(e.code=b),c&&(e.response=c,e.message+=": "+c);let f="string"==typeof c&&Number((c.match(/^\d+/)||[])[0])||!1;return f&&(e.responseCode=f),d&&(e.command=d),e}_onClose(){let a=!1;return(this._remainder&&this._remainder.trim()&&((this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"server"},this._remainder.replace(/\r?\n$/,"")),this.lastServerResponse=a=this._remainder.trim()),this.logger.info({tnx:"network"},"Connection closed"),this.upgrading&&!this._destroyed)?this._onError(Error("Connection closed unexpectedly"),"ETLS",a,"CONN"):![this._actionGreeting,this.close].includes(this._responseActions[0])&&!this._destroyed||/^[45]\d{2}\b/.test(a)?this._onError(Error("Connection closed unexpectedly"),"ECONNECTION",a,"CONN"):void this._destroy()}_onEnd(){this._socket&&!this._socket.destroyed&&this._socket.destroy()}_onTimeout(){return this._onError(Error("Timeout"),"ETIMEDOUT",!1,"CONN")}_destroy(){this._destroyed||(this._destroyed=!0,this.emit("end"))}_upgradeConnection(a){this._socket.removeListener("data",this._onSocketData),this._socket.removeListener("timeout",this._onSocketTimeout);let b=this._socket,c={socket:this._socket,host:this.host};Object.keys(this.options.tls||{}).forEach(a=>{c[a]=this.options.tls[a]}),this.servername&&!c.servername&&(c.servername=this.servername),this.upgrading=!0;try{this._socket=g.connect(c,()=>(this.secure=!0,this.upgrading=!1,this._socket.on("data",this._onSocketData),b.removeListener("close",this._onSocketClose),b.removeListener("end",this._onSocketEnd),a(null,!0)))}catch(b){return a(b)}this._socket.on("error",this._onSocketError),this._socket.once("close",this._onSocketClose),this._socket.once("end",this._onSocketEnd),this._socket.setTimeout(this.options.socketTimeout||o),this._socket.on("timeout",this._onSocketTimeout),b.resume()}_processResponse(){if(!this._responseQueue.length)return!1;let a=this.lastServerResponse=(this._responseQueue.shift()||"").toString();if(/^\d+-/.test(a.split("\n").pop()))return;(this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"server"},a.replace(/\r?\n$/,"")),a.trim()||setImmediate(()=>this._processResponse());let b=this._responseActions.shift();if("function"!=typeof b)return this._onError(Error("Unexpected Response"),"EPROTOCOL",a,"CONN");b.call(this,a),setImmediate(()=>this._processResponse())}_sendCommand(a,b){if(!this._destroyed){if(this._socket.destroyed)return this.close();(this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"client"},(b||a||"").toString().replace(/\r?\n$/,"")),this._socket.write(Buffer.from(a+"\r\n","utf-8"))}}_setEnvelope(a,b){let c=[],d=!1;if(this._envelope=a||{},this._envelope.from=(this._envelope.from&&this._envelope.from.address||this._envelope.from||"").toString().trim(),this._envelope.to=[].concat(this._envelope.to||[]).map(a=>(a&&a.address||a||"").toString().trim()),!this._envelope.to.length)return b(this._formatError("No recipients defined","EENVELOPE",!1,"API"));if(this._envelope.from&&/[\r\n<>]/.test(this._envelope.from))return b(this._formatError("Invalid sender "+JSON.stringify(this._envelope.from),"EENVELOPE",!1,"API"));/[\x80-\uFFFF]/.test(this._envelope.from)&&(d=!0);for(let a=0,c=this._envelope.to.length;a<c;a++){if(!this._envelope.to[a]||/[\r\n<>]/.test(this._envelope.to[a]))return b(this._formatError("Invalid recipient "+JSON.stringify(this._envelope.to[a]),"EENVELOPE",!1,"API"));/[\x80-\uFFFF]/.test(this._envelope.to[a])&&(d=!0)}if(this._envelope.rcptQueue=JSON.parse(JSON.stringify(this._envelope.to||[])),this._envelope.rejected=[],this._envelope.rejectedErrors=[],this._envelope.accepted=[],this._envelope.dsn)try{this._envelope.dsn=this._setDsnEnvelope(this._envelope.dsn)}catch(a){return b(this._formatError("Invalid DSN "+a.message,"EENVELOPE",!1,"API"))}if(this._responseActions.push(a=>{this._actionMAIL(a,b)}),d&&this._supportedExtensions.includes("SMTPUTF8")&&(c.push("SMTPUTF8"),this._usingSmtpUtf8=!0),this._envelope.use8BitMime&&this._supportedExtensions.includes("8BITMIME")&&(c.push("BODY=8BITMIME"),this._using8BitMime=!0),this._envelope.size&&this._supportedExtensions.includes("SIZE")&&c.push("SIZE="+this._envelope.size),this._envelope.dsn&&this._supportedExtensions.includes("DSN")&&(this._envelope.dsn.ret&&c.push("RET="+l.encodeXText(this._envelope.dsn.ret)),this._envelope.dsn.envid&&c.push("ENVID="+l.encodeXText(this._envelope.dsn.envid))),this._envelope.requireTLSExtensionEnabled){if(!this.secure)return b(this._formatError("REQUIRETLS can only be used over TLS connections (RFC 8689)","EREQUIRETLS",!1,"MAIL FROM"));if(!this._supportedExtensions.includes("REQUIRETLS"))return b(this._formatError("Server does not support REQUIRETLS extension (RFC 8689)","EREQUIRETLS",!1,"MAIL FROM"));c.push("REQUIRETLS")}this._sendCommand("MAIL FROM:<"+this._envelope.from+">"+(c.length?" "+c.join(" "):""))}_setDsnEnvelope(a){let b=(a.ret||a.return||"").toString().toUpperCase()||null;if(b)switch(b){case"HDRS":case"HEADERS":b="HDRS";break;case"FULL":case"BODY":b="FULL"}if(b&&!["FULL","HDRS"].includes(b))throw Error("ret: "+JSON.stringify(b));let c=(a.envid||a.id||"").toString()||null,d=a.notify||null;if(d){"string"==typeof d&&(d=d.split(","));let a=["NEVER","SUCCESS","FAILURE","DELAY"];if((d=d.map(a=>a.trim().toUpperCase())).filter(b=>!a.includes(b)).length||d.length>1&&d.includes("NEVER"))throw Error("notify: "+JSON.stringify(d.join(",")));d=d.join(",")}let e=(a.recipient||a.orcpt||"").toString()||null;return e&&0>e.indexOf(";")&&(e="rfc822;"+e),{ret:b,envid:c,notify:d,orcpt:e}}_getDsnRcptToArgs(){let a=[];return this._envelope.dsn&&this._supportedExtensions.includes("DSN")&&(this._envelope.dsn.notify&&a.push("NOTIFY="+l.encodeXText(this._envelope.dsn.notify)),this._envelope.dsn.orcpt&&a.push("ORCPT="+l.encodeXText(this._envelope.dsn.orcpt))),a.length?" "+a.join(" "):""}_createSendStream(a){let b,c=new j;return this.options.lmtp?this._envelope.accepted.forEach((b,c)=>{let d=c===this._envelope.accepted.length-1;this._responseActions.push(c=>{this._actionLMTPStream(b,d,c,a)})}):this._responseActions.push(b=>{this._actionSMTPStream(b,a)}),c.pipe(this._socket,{end:!1}),this.options.debug&&((b=new k).on("readable",()=>{let a;for(;a=b.read();)this.logger.debug({tnx:"message"},a.toString("binary").replace(/\r?\n$/,""))}),c.pipe(b)),c.once("end",()=>{this.logger.info({tnx:"message",inByteCount:c.inByteCount,outByteCount:c.outByteCount},"<%s bytes encoded mime message (source size %s bytes)>",c.outByteCount,c.inByteCount)}),c}_actionGreeting(a){if(clearTimeout(this._greetingTimeout),"220"!==a.substr(0,3))return void this._onError(Error("Invalid greeting. response="+a),"EPROTOCOL",a,"CONN");this.options.lmtp?(this._responseActions.push(this._actionLHLO),this._sendCommand("LHLO "+this.name)):(this._responseActions.push(this._actionEHLO),this._sendCommand("EHLO "+this.name))}_actionLHLO(a){if("2"!==a.charAt(0))return void this._onError(Error("Invalid LHLO. response="+a),"EPROTOCOL",a,"LHLO");this._actionEHLO(a)}_actionEHLO(a){let b;if("421"===a.substr(0,3))return void this._onError(Error("Server terminates connection. response="+a),"ECONNECTION",a,"EHLO");if("2"!==a.charAt(0))return this.options.requireTLS?void this._onError(Error("EHLO failed but HELO does not support required STARTTLS. response="+a),"ECONNECTION",a,"EHLO"):(this._responseActions.push(this._actionHELO),void this._sendCommand("HELO "+this.name));if(this._ehloLines=a.split(/\r?\n/).map(a=>a.replace(/^\d+[ -]/,"").trim()).filter(a=>a).slice(1),!this.secure&&!this.options.ignoreTLS&&(/[ -]STARTTLS\b/im.test(a)||this.options.requireTLS)){this._sendCommand("STARTTLS"),this._responseActions.push(this._actionSTARTTLS);return}/[ -]SMTPUTF8\b/im.test(a)&&this._supportedExtensions.push("SMTPUTF8"),/[ -]DSN\b/im.test(a)&&this._supportedExtensions.push("DSN"),/[ -]8BITMIME\b/im.test(a)&&this._supportedExtensions.push("8BITMIME"),/[ -]REQUIRETLS\b/im.test(a)&&this._supportedExtensions.push("REQUIRETLS"),/[ -]PIPELINING\b/im.test(a)&&this._supportedExtensions.push("PIPELINING"),/[ -]AUTH\b/i.test(a)&&(this.allowsAuth=!0),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)PLAIN/i.test(a)&&this._supportedAuth.push("PLAIN"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)LOGIN/i.test(a)&&this._supportedAuth.push("LOGIN"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)CRAM-MD5/i.test(a)&&this._supportedAuth.push("CRAM-MD5"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)XOAUTH2/i.test(a)&&this._supportedAuth.push("XOAUTH2"),(b=a.match(/[ -]SIZE(?:[ \t]+(\d+))?/im))&&(this._supportedExtensions.push("SIZE"),this._maxAllowedSize=Number(b[1])||0),this.emit("connect")}_actionHELO(a){if("2"!==a.charAt(0))return void this._onError(Error("Invalid HELO. response="+a),"EPROTOCOL",a,"HELO");this.allowsAuth=!0,this.emit("connect")}_actionSTARTTLS(a){if("2"!==a.charAt(0))return this.options.opportunisticTLS?(this.logger.info({tnx:"smtp"},"Failed STARTTLS upgrade, continuing unencrypted"),this.emit("connect")):void this._onError(Error("Error upgrading connection with STARTTLS"),"ETLS",a,"STARTTLS");this._upgradeConnection((a,b)=>{if(a)return void this._onError(Error("Error initiating TLS - "+(a.message||a)),"ETLS",!1,"STARTTLS");this.logger.info({tnx:"smtp"},"Connection upgraded with STARTTLS"),b?this.options.lmtp?(this._responseActions.push(this._actionLHLO),this._sendCommand("LHLO "+this.name)):(this._responseActions.push(this._actionEHLO),this._sendCommand("EHLO "+this.name)):this.emit("connect")})}_actionAUTH_LOGIN_USER(a,b){if(!/^334[ -]/.test(a))return void b(this._formatError('Invalid login sequence while waiting for "334 VXNlcm5hbWU6"',"EAUTH",a,"AUTH LOGIN"));this._responseActions.push(a=>{this._actionAUTH_LOGIN_PASS(a,b)}),this._sendCommand(Buffer.from(this._auth.credentials.user+"","utf-8").toString("base64"))}_actionAUTH_CRAM_MD5(a,b){let c=a.match(/^334\s+(.+)$/),d="";if(!c)return b(this._formatError("Invalid login sequence while waiting for server challenge string","EAUTH",a,"AUTH CRAM-MD5"));d=c[1];let e=Buffer.from(d,"base64").toString("ascii"),f=i.createHmac("md5",this._auth.credentials.pass);f.update(e);let g=this._auth.credentials.user+" "+f.digest("hex");this._responseActions.push(a=>{this._actionAUTH_CRAM_MD5_PASS(a,b)}),this._sendCommand(Buffer.from(g).toString("base64"),Buffer.from(this._auth.credentials.user+" /* secret */").toString("base64"))}_actionAUTH_CRAM_MD5_PASS(a,b){if(!a.match(/^235\s+/))return b(this._formatError('Invalid login sequence while waiting for "235"',"EAUTH",a,"AUTH CRAM-MD5"));this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,b(null,!0)}_actionAUTH_LOGIN_PASS(a,b){if(!/^334[ -]/.test(a))return b(this._formatError('Invalid login sequence while waiting for "334 UGFzc3dvcmQ6"',"EAUTH",a,"AUTH LOGIN"));this._responseActions.push(a=>{this._actionAUTHComplete(a,b)}),this._sendCommand(Buffer.from((this._auth.credentials.pass||"").toString(),"utf-8").toString("base64"),Buffer.from("/* secret */","utf-8").toString("base64"))}_actionAUTHComplete(a,b,c){if(c||"function"!=typeof b||(c=b,b=!1),"334"===a.substr(0,3)){this._responseActions.push(a=>{b||"XOAUTH2"!==this._authMethod?this._actionAUTHComplete(a,!0,c):setImmediate(()=>this._handleXOauth2Token(!0,c))}),this._sendCommand("");return}if("2"!==a.charAt(0))return this.logger.info({tnx:"smtp",username:this._auth.user,action:"authfail",method:this._authMethod},"User %s failed to authenticate",JSON.stringify(this._auth.user)),c(this._formatError("Invalid login","EAUTH",a,"AUTH "+this._authMethod));this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,c(null,!0)}_actionMAIL(a,b){let c,d;if(2!==Number(a.charAt(0)))return c=this._usingSmtpUtf8&&/^550 /.test(a)&&/[\x80-\uFFFF]/.test(this._envelope.from)?"Internationalized mailbox name not allowed":"Mail command failed",b(this._formatError(c,"EENVELOPE",a,"MAIL FROM"));if(!this._envelope.rcptQueue.length)return b(this._formatError("Can't send mail - no recipients defined","EENVELOPE",!1,"API"));if(this._recipientQueue=[],this._supportedExtensions.includes("PIPELINING"))for(;this._envelope.rcptQueue.length;)d=this._envelope.rcptQueue.shift(),this._recipientQueue.push(d),this._responseActions.push(a=>{this._actionRCPT(a,b)}),this._sendCommand("RCPT TO:<"+d+">"+this._getDsnRcptToArgs());else d=this._envelope.rcptQueue.shift(),this._recipientQueue.push(d),this._responseActions.push(a=>{this._actionRCPT(a,b)}),this._sendCommand("RCPT TO:<"+d+">"+this._getDsnRcptToArgs())}_actionRCPT(a,b){let c,d,e=this._recipientQueue.shift();if(2!==Number(a.charAt(0))?(c=this._usingSmtpUtf8&&/^553 /.test(a)&&/[\x80-\uFFFF]/.test(e)?"Internationalized mailbox name not allowed":"Recipient command failed",this._envelope.rejected.push(e),(d=this._formatError(c,"EENVELOPE",a,"RCPT TO")).recipient=e,this._envelope.rejectedErrors.push(d)):this._envelope.accepted.push(e),this._envelope.rcptQueue.length||this._recipientQueue.length)this._envelope.rcptQueue.length&&(e=this._envelope.rcptQueue.shift(),this._recipientQueue.push(e),this._responseActions.push(a=>{this._actionRCPT(a,b)}),this._sendCommand("RCPT TO:<"+e+">"+this._getDsnRcptToArgs()));else{if(!(this._envelope.rejected.length<this._envelope.to.length))return(d=this._formatError("Can't send mail - all recipients were rejected","EENVELOPE",a,"RCPT TO")).rejected=this._envelope.rejected,d.rejectedErrors=this._envelope.rejectedErrors,b(d);this._responseActions.push(a=>{this._actionDATA(a,b)}),this._sendCommand("DATA")}}_actionDATA(a,b){if(!/^[23]/.test(a))return b(this._formatError("Data command failed","EENVELOPE",a,"DATA"));let c={accepted:this._envelope.accepted,rejected:this._envelope.rejected};this._ehloLines&&this._ehloLines.length&&(c.ehlo=this._ehloLines),this._envelope.rejectedErrors.length&&(c.rejectedErrors=this._envelope.rejectedErrors),b(null,c)}_actionSMTPStream(a,b){return 2!==Number(a.charAt(0))?b(this._formatError("Message failed","EMESSAGE",a,"DATA")):b(null,a)}_actionLMTPStream(a,b,c,d){let e;if(2!==Number(c.charAt(0))){(e=this._formatError("Message failed for recipient "+a,"EMESSAGE",c,"DATA")).recipient=a,this._envelope.rejected.push(a),this._envelope.rejectedErrors.push(e);for(let b=0,c=this._envelope.accepted.length;b<c;b++)this._envelope.accepted[b]===a&&this._envelope.accepted.splice(b,1)}if(b)return d(null,c)}_handleXOauth2Token(a,b){this._auth.oauth2.getToken(a,(c,d)=>{if(c)return this.logger.info({tnx:"smtp",username:this._auth.user,action:"authfail",method:this._authMethod},"User %s failed to authenticate",JSON.stringify(this._auth.user)),b(this._formatError(c,"EAUTH",!1,"AUTH XOAUTH2"));this._responseActions.push(c=>{this._actionAUTHComplete(c,a,b)}),this._sendCommand("AUTH XOAUTH2 "+this._auth.oauth2.buildXOAuth2Token(d),"AUTH XOAUTH2 "+this._auth.oauth2.buildXOAuth2Token("/* secret */"))})}_isDestroyedMessage(a){if(this._destroyed)return"Cannot "+a+" - smtp connection is already destroyed.";if(this._socket){if(this._socket.destroyed)return"Cannot "+a+" - smtp connection socket is already destroyed.";if(!this._socket.writable)return"Cannot "+a+" - smtp connection socket is already half-closed."}}_getHostname(){let a;try{a=h.hostname()||""}catch(b){a="localhost"}return(!a||0>a.indexOf("."))&&(a="[127.0.0.1]"),a.match(/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/)&&(a="["+a+"]"),a}}a.exports=r},24382:(a,b,c)=>{"use strict";let d=c(59381),e=c(1730),f=c(94521),g=c(27910).PassThrough,h=c(29021),i=c(33873),j=c(55511),k="sha256",l=2097152;class m{constructor(a,b,c,d){this.options=a||{},this.keys=b,this.cacheTreshold=Number(this.options.cacheTreshold)||l,this.hashAlgo=this.options.hashAlgo||k,this.cacheDir=this.options.cacheDir||!1,this.chunks=[],this.chunklen=0,this.readPos=0,this.cachePath=!!this.cacheDir&&i.join(this.cacheDir,"message."+Date.now()+"-"+j.randomBytes(14).toString("hex")),this.cache=!1,this.headers=!1,this.bodyHash=!1,this.parser=!1,this.relaxedBody=!1,this.input=c,this.output=d,this.output.usingCache=!1,this.hasErrored=!1,this.input.on("error",a=>{this.hasErrored=!0,this.cleanup(),d.emit("error",a)})}cleanup(){this.cache&&this.cachePath&&h.unlink(this.cachePath,()=>!1)}createReadCache(){this.cache=h.createReadStream(this.cachePath),this.cache.once("error",a=>{this.cleanup(),this.output.emit("error",a)}),this.cache.once("close",()=>{this.cleanup()}),this.cache.pipe(this.output)}sendNextChunk(){if(this.hasErrored)return;if(this.readPos>=this.chunks.length)return this.cache?this.createReadCache():this.output.end();let a=this.chunks[this.readPos++];if(!1===this.output.write(a))return this.output.once("drain",()=>{this.sendNextChunk()});setImmediate(()=>this.sendNextChunk())}sendSignedOutput(){let a=0,b=()=>{if(a>=this.keys.length)return this.output.write(this.parser.rawHeaders),setImmediate(()=>this.sendNextChunk());let c=this.keys[a++],d=f(this.headers,this.hashAlgo,this.bodyHash,{domainName:c.domainName,keySelector:c.keySelector,privateKey:c.privateKey,headerFieldNames:this.options.headerFieldNames,skipFields:this.options.skipFields});return d&&this.output.write(Buffer.from(d+"\r\n")),setImmediate(b)};if(this.bodyHash&&this.headers)return b();this.output.write(this.parser.rawHeaders),this.sendNextChunk()}createWriteCache(){this.output.usingCache=!0,this.cache=h.createWriteStream(this.cachePath),this.cache.once("error",a=>{this.cleanup(),this.relaxedBody.unpipe(this.cache),this.relaxedBody.on("readable",()=>{for(;null!==this.relaxedBody.read(););}),this.hasErrored=!0,this.output.emit("error",a)}),this.cache.once("close",()=>{this.sendSignedOutput()}),this.relaxedBody.removeAllListeners("readable"),this.relaxedBody.pipe(this.cache)}signStream(){this.parser=new d,this.relaxedBody=new e({hashAlgo:this.hashAlgo}),this.parser.on("headers",a=>{this.headers=a}),this.relaxedBody.on("hash",a=>{this.bodyHash=a}),this.relaxedBody.on("readable",()=>{let a;if(!this.cache){for(;null!==(a=this.relaxedBody.read());)if(this.chunks.push(a),this.chunklen+=a.length,this.chunklen>=this.cacheTreshold&&this.cachePath)return this.createWriteCache()}}),this.relaxedBody.on("end",()=>{this.cache||this.sendSignedOutput()}),this.parser.pipe(this.relaxedBody),setImmediate(()=>this.input.pipe(this.parser))}}class o{constructor(a){this.options=a||{},this.keys=[].concat(this.options.keys||{domainName:a.domainName,keySelector:a.keySelector,privateKey:a.privateKey})}sign(a,b){let c=new g,d=a,e=!1;Buffer.isBuffer(a)?(e=a,d=new g):"string"==typeof a&&(e=Buffer.from(a),d=new g);let f=this.options;b&&Object.keys(b).length&&(f={},Object.keys(this.options||{}).forEach(a=>{f[a]=this.options[a]}),Object.keys(b||{}).forEach(a=>{a in f||(f[a]=b[a])}));let h=new m(f,this.keys,d,c);return setImmediate(()=>{h.signStream(),e&&setImmediate(()=>{d.end(e)})}),c}}a.exports=o},24401:(a,b,c)=>{"use strict";c.d(b,{A:()=>f,h:()=>e});var d={"1xx":"Informational","1xx_NAME":"INFORMATIONAL","1xx_MESSAGE":"Indicates an interim response for communicating connection status or request progress prior to completing the requested action and sending a final response.",INFORMATIONAL:"1xx","2xx":"Successful","2xx_NAME":"SUCCESSFUL","2xx_MESSAGE":"Indicates that the client's request was successfully received, understood, and accepted.",SUCCESSFUL:"2xx","3xx":"Redirection","3xx_NAME":"REDIRECTION","3xx_MESSAGE":"Indicates that further action needs to be taken by the user agent in order to fulfill the request.",REDIRECTION:"3xx","4xx":"Client Error","4xx_NAME":"CLIENT_ERROR","4xx_MESSAGE":"Indicates that the client seems to have erred.",CLIENT_ERROR:"4xx","5xx":"Server Error","5xx_NAME":"SERVER_ERROR","5xx_MESSAGE":"Indicates that the server is aware that it has erred or is incapable of performing the requested method.",SERVER_ERROR:"5xx"},e={classes:d,100:"Continue","100_NAME":"CONTINUE","100_MESSAGE":"The server has received the request headers and the client should proceed to send the request body.","100_CLASS":d.INFORMATIONAL,CONTINUE:100,101:"Switching Protocols","101_NAME":"SWITCHING_PROTOCOLS","101_MESSAGE":"The requester has asked the server to switch protocols and the server has agreed to do so.","101_CLASS":d.INFORMATIONAL,SWITCHING_PROTOCOLS:101,102:"Processing","102_NAME":"PROCESSING","102_MESSAGE":"A WebDAV request may contain many sub-requests involving file operations, requiring a long time to complete the request. This code indicates that the server has received and is processing the request, but no response is available yet.[7] This prevents the client from timing out and assuming the request was lost.","102_CLASS":d.INFORMATIONAL,PROCESSING:102,103:"Early Hints","103_NAME":"EARLY_HINTS","103_MESSAGE":"Used to return some response headers before final HTTP message.","103_CLASS":d.INFORMATIONAL,EARLY_HINTS:103,200:"OK","200_NAME":"OK","200_MESSAGE":"Standard response for successful HTTP requests.","200_CLASS":d.SUCCESSFUL,OK:200,201:"Created","201_NAME":"CREATED","201_MESSAGE":"The request has been fulfilled, resulting in the creation of a new resource.","201_CLASS":d.SUCCESSFUL,CREATED:201,202:"Accepted","202_NAME":"ACCEPTED","202_MESSAGE":"The request has been accepted for processing, but the processing has not been completed.","202_CLASS":d.SUCCESSFUL,ACCEPTED:202,203:"Non-Authoritative Information","203_NAME":"NON_AUTHORITATIVE_INFORMATION","203_MESSAGE":"The server is a transforming proxy (e.g. a Web accelerator) that received a 200 OK from its origin, but is returning a modified version of the origin's response.","203_CLASS":d.SUCCESSFUL,NON_AUTHORITATIVE_INFORMATION:203,204:"No Content","204_NAME":"NO_CONTENT","204_MESSAGE":"The server successfully processed the request and is not returning any content.","204_CLASS":d.SUCCESSFUL,NO_CONTENT:204,205:"Reset Content","205_NAME":"RESET_CONTENT","205_MESSAGE":"The server successfully processed the request, but is not returning any content. Unlike a 204 response, this response requires that the requester reset the document view.","205_CLASS":d.SUCCESSFUL,RESET_CONTENT:205,206:"Partial Content","206_NAME":"PARTIAL_CONTENT","206_MESSAGE":"The server is delivering only part of the resource (byte serving) due to a range header sent by the client.","206_CLASS":d.SUCCESSFUL,PARTIAL_CONTENT:206,207:"Multi Status","207_NAME":"MULTI_STATUS","207_MESSAGE":"The message body that follows is by default an XML message and can contain a number of separate response codes, depending on how many sub-requests were made.","207_CLASS":d.SUCCESSFUL,MULTI_STATUS:207,208:"Already Reported","208_NAME":"ALREADY_REPORTED","208_MESSAGE":"The members of a DAV binding have already been enumerated in a preceding part of the (multistatus) response, and are not being included again.","208_CLASS":d.SUCCESSFUL,ALREADY_REPORTED:208,226:"IM Used","226_NAME":"IM_USED","226_MESSAGE":"The server has fulfilled a request for the resource, and the response is a representation of the result of one or more instance-manipulations applied to the current instance.","226_CLASS":d.SUCCESSFUL,IM_USED:226,300:"Multiple Choices","300_NAME":"MULTIPLE_CHOICES","300_MESSAGE":"Indicates multiple options for the resource from which the client may choose.","300_CLASS":d.REDIRECTION,MULTIPLE_CHOICES:300,301:"Moved Permanently","301_NAME":"MOVED_PERMANENTLY","301_MESSAGE":"This and all future requests should be directed to the given URI.","301_CLASS":d.REDIRECTION,MOVED_PERMANENTLY:301,302:"Found","302_NAME":"FOUND","302_MESSAGE":'This is an example of industry practice contradicting the standard. The HTTP/1.0 specification (RFC 1945) required the client to perform a temporary redirect (the original describing phrase was "Moved Temporarily"), but popular browsers implemented 302 with the functionality of a 303 See Other. Therefore, HTTP/1.1 added status codes 303 and 307 to distinguish between the two behaviours.',"302_CLASS":d.REDIRECTION,FOUND:302,303:"See Other","303_NAME":"SEE_OTHER","303_MESSAGE":"The response to the request can be found under another URI using the GET method.","303_CLASS":d.REDIRECTION,SEE_OTHER:303,304:"Not Modified","304_NAME":"NOT_MODIFIED","304_MESSAGE":"Indicates that the resource has not been modified since the version specified by the request headers If-Modified-Since or If-None-Match.","304_CLASS":d.REDIRECTION,NOT_MODIFIED:304,305:"Use Proxy","305_NAME":"USE_PROXY","305_MESSAGE":"The requested resource is available only through a proxy, the address for which is provided in the response.","305_CLASS":d.REDIRECTION,USE_PROXY:305,306:"Switch Proxy","306_NAME":"SWITCH_PROXY","306_MESSAGE":'No longer used. Originally meant "Subsequent requests should use the specified proxy.',"306_CLASS":d.REDIRECTION,SWITCH_PROXY:306,307:"Temporary Redirect","307_NAME":"TEMPORARY_REDIRECT","307_MESSAGE":"In this case, the request should be repeated with another URI; however, future requests should still use the original URI.","307_CLASS":d.REDIRECTION,TEMPORARY_REDIRECT:307,308:"Permanent Redirect","308_NAME":"PERMANENT_REDIRECT","308_MESSAGE":"The request and all future requests should be repeated using another URI.","308_CLASS":d.REDIRECTION,PERMANENT_REDIRECT:308,400:"Bad Request","400_NAME":"BAD_REQUEST","400_MESSAGE":"The server cannot or will not process the request due to an apparent client error.","400_CLASS":d.CLIENT_ERROR,BAD_REQUEST:400,401:"Unauthorized","401_NAME":"UNAUTHORIZED","401_MESSAGE":"Similar to 403 Forbidden, but specifically for use when authentication is required and has failed or has not yet been provided.","401_CLASS":d.CLIENT_ERROR,UNAUTHORIZED:401,402:"Payment Required","402_NAME":"PAYMENT_REQUIRED","402_MESSAGE":"Reserved for future use. The original intention was that this code might be used as part of some form of digital cash or micropayment scheme, as proposed for example by GNU Taler, but that has not yet happened, and this code is not usually used.","402_CLASS":d.CLIENT_ERROR,PAYMENT_REQUIRED:402,403:"Forbidden","403_NAME":"FORBIDDEN","403_MESSAGE":"The request was valid, but the server is refusing action.","403_CLASS":d.CLIENT_ERROR,FORBIDDEN:403,404:"Not Found","404_NAME":"NOT_FOUND","404_MESSAGE":"The requested resource could not be found but may be available in the future. Subsequent requests by the client are permissible.","404_CLASS":d.CLIENT_ERROR,NOT_FOUND:404,405:"Method Not Allowed","405_NAME":"METHOD_NOT_ALLOWED","405_MESSAGE":"A request method is not supported for the requested resource.","405_CLASS":d.CLIENT_ERROR,METHOD_NOT_ALLOWED:405,406:"Not Acceptable","406_NAME":"NOT_ACCEPTABLE","406_MESSAGE":"The requested resource is capable of generating only content not acceptable according to the Accept headers sent in the request.","406_CLASS":d.CLIENT_ERROR,NOT_ACCEPTABLE:406,407:"Proxy Authentication Required","407_NAME":"PROXY_AUTHENTICATION_REQUIRED","407_MESSAGE":"The client must first authenticate itself with the proxy.","407_CLASS":d.CLIENT_ERROR,PROXY_AUTHENTICATION_REQUIRED:407,408:"Request Time-out","408_NAME":"REQUEST_TIMEOUT","408_MESSAGE":"The server timed out waiting for the request.","408_CLASS":d.CLIENT_ERROR,REQUEST_TIMEOUT:408,409:"Conflict","409_NAME":"CONFLICT","409_MESSAGE":"Indicates that the request could not be processed because of conflict in the request, such as an edit conflict between multiple simultaneous updates.","409_CLASS":d.CLIENT_ERROR,CONFLICT:409,410:"Gone","410_NAME":"GONE","410_MESSAGE":"Indicates that the resource requested is no longer available and will not be available again.","410_CLASS":d.CLIENT_ERROR,GONE:410,411:"Length Required","411_NAME":"LENGTH_REQUIRED","411_MESSAGE":"The request did not specify the length of its content, which is required by the requested resource.","411_CLASS":d.CLIENT_ERROR,LENGTH_REQUIRED:411,412:"Precondition Failed","412_NAME":"PRECONDITION_FAILED","412_MESSAGE":"The server does not meet one of the preconditions that the requester put on the request.","412_CLASS":d.CLIENT_ERROR,PRECONDITION_FAILED:412,413:"Request Entity Too Large","413_NAME":"REQUEST_ENTITY_TOO_LARGE","413_MESSAGE":'The request is larger than the server is willing or able to process. Previously called "Request Entity Too Large".',"413_CLASS":d.CLIENT_ERROR,REQUEST_ENTITY_TOO_LARGE:413,414:"Request-URI Too Large","414_NAME":"REQUEST_URI_TOO_LONG","414_MESSAGE":"The URI provided was too long for the server to process.","414_CLASS":d.CLIENT_ERROR,REQUEST_URI_TOO_LONG:414,415:"Unsupported Media Type","415_NAME":"UNSUPPORTED_MEDIA_TYPE","415_MESSAGE":"The request entity has a media type which the server or resource does not support.","415_CLASS":d.CLIENT_ERROR,UNSUPPORTED_MEDIA_TYPE:415,416:"Requested Range not Satisfiable","416_NAME":"REQUESTED_RANGE_NOT_SATISFIABLE","416_MESSAGE":"The client has asked for a portion of the file (byte serving), but the server cannot supply that portion.","416_CLASS":d.CLIENT_ERROR,REQUESTED_RANGE_NOT_SATISFIABLE:416,417:"Expectation Failed","417_NAME":"EXPECTATION_FAILED","417_MESSAGE":"The server cannot meet the requirements of the Expect request-header field.","417_CLASS":d.CLIENT_ERROR,EXPECTATION_FAILED:417,418:"I'm a teapot","418_NAME":"IM_A_TEAPOT","418_MESSAGE":'Any attempt to brew coffee with a teapot should result in the error code "418 I\'m a teapot". The resulting entity body MAY be short and stout.',"418_CLASS":d.CLIENT_ERROR,IM_A_TEAPOT:418,421:"Misdirected Request","421_NAME":"MISDIRECTED_REQUEST","421_MESSAGE":"The request was directed at a server that is not able to produce a response.","421_CLASS":d.CLIENT_ERROR,MISDIRECTED_REQUEST:421,422:"Unprocessable Entity","422_NAME":"UNPROCESSABLE_ENTITY","422_MESSAGE":"The request was well-formed but was unable to be followed due to semantic errors.","422_CLASS":d.CLIENT_ERROR,UNPROCESSABLE_ENTITY:422,423:"Locked","423_NAME":"LOCKED","423_MESSAGE":"The resource that is being accessed is locked.","423_CLASS":d.CLIENT_ERROR,LOCKED:423,424:"Failed Dependency","424_NAME":"FAILED_DEPENDENCY","424_MESSAGE":"The request failed because it depended on another request and that request failed.","424_CLASS":d.CLIENT_ERROR,FAILED_DEPENDENCY:424,425:"Too Early","425_NAME":"TOO_EARLY","425_MESSAGE":"The server is unwilling to risk processing a request that might be replayed.","425_CLASS":d.CLIENT_ERROR,TOO_EARLY:425,426:"Upgrade Required","426_NAME":"UPGRADE_REQUIRED","426_MESSAGE":"The client should switch to a different protocol such as TLS/1.0, given in the Upgrade header field.","426_CLASS":d.CLIENT_ERROR,UPGRADE_REQUIRED:426,428:"Precondition Required","428_NAME":"PRECONDITION_REQUIRED","428_MESSAGE":"The origin server requires the request to be conditional.","428_CLASS":d.CLIENT_ERROR,PRECONDITION_REQUIRED:428,429:"Too Many Requests","429_NAME":"TOO_MANY_REQUESTS","429_MESSAGE":"The user has sent too many requests in a given amount of time.","429_CLASS":d.CLIENT_ERROR,TOO_MANY_REQUESTS:429,431:"Request Header Fields Too Large","431_NAME":"REQUEST_HEADER_FIELDS_TOO_LARGE","431_MESSAGE":"The server is unwilling to process the request because either an individual header field, or all the header fields collectively, are too large.","431_CLASS":d.CLIENT_ERROR,REQUEST_HEADER_FIELDS_TOO_LARGE:431,451:"Unavailable For Legal Reasons","451_NAME":"UNAVAILABLE_FOR_LEGAL_REASONS","451_MESSAGE":"A server operator has received a legal demand to deny access to a resource or to a set of resources that includes the requested resource.","451_CLASS":d.CLIENT_ERROR,UNAVAILABLE_FOR_LEGAL_REASONS:451,500:"Internal Server Error","500_NAME":"INTERNAL_SERVER_ERROR","500_MESSAGE":"A generic error message, given when an unexpected condition was encountered and no more specific message is suitable.","500_CLASS":d.SERVER_ERROR,INTERNAL_SERVER_ERROR:500,501:"Not Implemented","501_NAME":"NOT_IMPLEMENTED","501_MESSAGE":"The server either does not recognize the request method, or it lacks the ability to fulfil the request. Usually this implies future availability.","501_CLASS":d.SERVER_ERROR,NOT_IMPLEMENTED:501,502:"Bad Gateway","502_NAME":"BAD_GATEWAY","502_MESSAGE":"The server was acting as a gateway or proxy and received an invalid response from the upstream server.","502_CLASS":d.SERVER_ERROR,BAD_GATEWAY:502,503:"Service Unavailable","503_NAME":"SERVICE_UNAVAILABLE","503_MESSAGE":"The server is currently unavailable (because it is overloaded or down for maintenance). Generally, this is a temporary state.","503_CLASS":d.SERVER_ERROR,SERVICE_UNAVAILABLE:503,504:"Gateway Time-out","504_NAME":"GATEWAY_TIMEOUT","504_MESSAGE":"The server was acting as a gateway or proxy and did not receive a timely response from the upstream server.","504_CLASS":d.SERVER_ERROR,GATEWAY_TIMEOUT:504,505:"HTTP Version not Supported","505_NAME":"HTTP_VERSION_NOT_SUPPORTED","505_MESSAGE":"The server does not support the HTTP protocol version used in the request.","505_CLASS":d.SERVER_ERROR,HTTP_VERSION_NOT_SUPPORTED:505,506:"Variant Also Negotiates","506_NAME":"VARIANT_ALSO_NEGOTIATES","506_MESSAGE":"Transparent content negotiation for the request results in a circular reference.","506_CLASS":d.SERVER_ERROR,VARIANT_ALSO_NEGOTIATES:506,507:"Insufficient Storage","507_NAME":"INSUFFICIENT_STORAGE","507_MESSAGE":"The server is unable to store the representation needed to complete the request.","507_CLASS":d.SERVER_ERROR,INSUFFICIENT_STORAGE:507,508:"Loop Detected","508_NAME":"LOOP_DETECTED","508_MESSAGE":"The server detected an infinite loop while processing the request.","508_CLASS":d.SERVER_ERROR,LOOP_DETECTED:508,510:"Not Extended","510_NAME":"NOT_EXTENDED","510_MESSAGE":"Further extensions to the request are required for the server to fulfil it.","510_CLASS":d.SERVER_ERROR,NOT_EXTENDED:510,511:"Network Authentication Required","511_NAME":"NETWORK_AUTHENTICATION_REQUIRED","511_MESSAGE":"The client needs to authenticate to gain network access. Intended for use by intercepting proxies used to control access to the network.","511_CLASS":d.SERVER_ERROR,NETWORK_AUTHENTICATION_REQUIRED:511,extra:{unofficial:{103:"Checkpoint","103_NAME":"CHECKPOINT","103_MESSAGE":"Used in the resumable requests proposal to resume aborted PUT or POST requests.","103_CLASS":d.INFORMATIONAL,CHECKPOINT:103,419:"Page Expired","419_NAME":"PAGE_EXPIRED","419_MESSAGE":"Used by the Laravel Framework when a CSRF Token is missing or expired.","419_CLASS":d.CLIENT_ERROR,PAGE_EXPIRED:419,218:"This is fine","218_NAME":"THIS_IS_FINE","218_MESSAGE":"Used as a catch-all error condition for allowing response bodies to flow through Apache when ProxyErrorOverride is enabled. When ProxyErrorOverride is enabled in Apache, response bodies that contain a status code of 4xx or 5xx are automatically discarded by Apache in favor of a generic response or a custom response specified by the ErrorDocument directive.","218_CLASS":d.SUCCESSFUL,THIS_IS_FINE:218,420:"Enhance Your Calm","420_NAME":"ENHANCE_YOUR_CALM","420_MESSAGE":"Returned by version 1 of the Twitter Search and Trends API when the client is being rate limited; versions 1.1 and later use the 429 Too Many Requests response code instead.","420_CLASS":d.CLIENT_ERROR,ENHANCE_YOUR_CALM:420,450:"Blocked by Windows Parental Controls","450_NAME":"BLOCKED_BY_WINDOWS_PARENTAL_CONTROLS","450_MESSAGE":"The Microsoft extension code indicated when Windows Parental Controls are turned on and are blocking access to the requested webpage.","450_CLASS":d.CLIENT_ERROR,BLOCKED_BY_WINDOWS_PARENTAL_CONTROLS:450,498:"Invalid Token","498_NAME":"INVALID_TOKEN","498_MESSAGE":"Returned by ArcGIS for Server. Code 498 indicates an expired or otherwise invalid token.","498_CLASS":d.CLIENT_ERROR,INVALID_TOKEN:498,499:"Token Required","499_NAME":"TOKEN_REQUIRED","499_MESSAGE":"Returned by ArcGIS for Server. Code 499 indicates that a token is required but was not submitted.","499_CLASS":d.CLIENT_ERROR,TOKEN_REQUIRED:499,509:"Bandwidth Limit Exceeded","509_NAME":"BANDWIDTH_LIMIT_EXCEEDED","509_MESSAGE":"The server has exceeded the bandwidth specified by the server administrator.","509_CLASS":d.SERVER_ERROR,BANDWIDTH_LIMIT_EXCEEDED:509,530:"Site is frozen","530_NAME":"SITE_IS_FROZEN","530_MESSAGE":"Used by the Pantheon web platform to indicate a site that has been frozen due to inactivity.","530_CLASS":d.SERVER_ERROR,SITE_IS_FROZEN:530,598:"Network read timeout error","598_NAME":"NETWORK_READ_TIMEOUT_ERROR","598_MESSAGE":"Used by some HTTP proxies to signal a network read timeout behind the proxy to a client in front of the proxy.","598_CLASS":d.SERVER_ERROR,NETWORK_READ_TIMEOUT_ERROR:598},iis:{440:"Login Time-out","440_NAME":"LOGIN_TIME_OUT","440_MESSAGE":"The client's session has expired and must log in again.","440_CLASS":d.CLIENT_ERROR,LOGIN_TIME_OUT:440,449:"Retry With","449_NAME":"RETRY_WITH","449_MESSAGE":"The server cannot honour the request because the user has not provided the required information.","449_CLASS":d.CLIENT_ERROR,RETRY_WITH:449,451:"Redirect","451_NAME":"REDIRECT","451_MESSAGE":"Used in Exchange ActiveSync when either a more efficient server is available or the server cannot access the users' mailbox.","451_CLASS":d.CLIENT_ERROR,REDIRECT:451},nginx:{444:"No Response","444_NAME":"NO_RESPONSE","444_MESSAGE":"Used internally to instruct the server to return no information to the client and close the connection immediately.","444_CLASS":d.CLIENT_ERROR,NO_RESPONSE:444,494:"Request header too large","494_NAME":"REQUEST_HEADER_TOO_LARGE","494_MESSAGE":"Client sent too large request or too long header line.","494_CLASS":d.CLIENT_ERROR,REQUEST_HEADER_TOO_LARGE:494,495:"SSL Certificate Error","495_NAME":"SSL_CERTIFICATE_ERROR","495_MESSAGE":"An expansion of the 400 Bad Request response code, used when the client has provided an invalid client certificate.","495_CLASS":d.CLIENT_ERROR,SSL_CERTIFICATE_ERROR:495,496:"SSL Certificate Required","496_NAME":"SSL_CERTIFICATE_REQUIRED","496_MESSAGE":"An expansion of the 400 Bad Request response code, used when a client certificate is required but not provided.","496_CLASS":d.CLIENT_ERROR,SSL_CERTIFICATE_REQUIRED:496,497:"HTTP Request Sent to HTTPS Port","497_NAME":"HTTP_REQUEST_SENT_TO_HTTPS_PORT","497_MESSAGE":"An expansion of the 400 Bad Request response code, used when the client has made a HTTP request to a port listening for HTTPS requests.","497_CLASS":d.CLIENT_ERROR,HTTP_REQUEST_SENT_TO_HTTPS_PORT:497,499:"Client Closed Request","499_NAME":"CLIENT_CLOSED_REQUEST","499_MESSAGE":"Used when the client has closed the request before the server could send a response.","499_CLASS":d.CLIENT_ERROR,CLIENT_CLOSED_REQUEST:499},cloudflare:{520:"Unknown Error","520_NAME":"UNKNOWN_ERROR","520_MESSAGE":'The 520 error is used as a "catch-all response for when the origin server returns something unexpected", listing connection resets, large headers, and empty or invalid responses as common triggers.',"520_CLASS":d.SERVER_ERROR,UNKNOWN_ERROR:520,521:"Web Server Is Down","521_NAME":"WEB_SERVER_IS_DOWN","521_MESSAGE":"The origin server has refused the connection from Cloudflare.","521_CLASS":d.SERVER_ERROR,WEB_SERVER_IS_DOWN:521,522:"Connection Timed Out","522_NAME":"CONNECTION_TIMED_OUT","522_MESSAGE":"Cloudflare could not negotiate a TCP handshake with the origin server.","522_CLASS":d.SERVER_ERROR,CONNECTION_TIMED_OUT:522,523:"Origin Is Unreachable","523_NAME":"ORIGIN_IS_UNREACHABLE","523_MESSAGE":"Cloudflare could not reach the origin server.","523_CLASS":d.SERVER_ERROR,ORIGIN_IS_UNREACHABLE:523,524:"A Timeout Occurred","524_NAME":"A_TIMEOUT_OCCURRED","524_MESSAGE":"Cloudflare was able to complete a TCP connection to the origin server, but did not receive a timely HTTP response.","524_CLASS":d.SERVER_ERROR,A_TIMEOUT_OCCURRED:524,525:"SSL Handshake Failed","525_NAME":"SSL_HANDSHAKE_FAILED","525_MESSAGE":"Cloudflare could not negotiate a SSL/TLS handshake with the origin server.","525_CLASS":d.SERVER_ERROR,SSL_HANDSHAKE_FAILED:525,526:"Invalid SSL Certificate","526_NAME":"INVALID_SSL_CERTIFICATE","526_MESSAGE":"Cloudflare could not validate the SSL/TLS certificate that the origin server presented.","526_CLASS":d.SERVER_ERROR,INVALID_SSL_CERTIFICATE:526,527:"Railgun Error","527_NAME":"RAILGUN_ERROR","527_MESSAGE":"Error 527 indicates that the request timed out or failed after the WAN connection had been established.","527_CLASS":d.SERVER_ERROR,RAILGUN_ERROR:527}}},f=e},24404:a=>{"use strict";a.exports=JSON.parse('{"name":"nodemailer","version":"7.0.12","description":"Easy as cake e-mail sending from your Node.js applications","main":"lib/nodemailer.js","scripts":{"test":"node --test --test-concurrency=1 test/**/*.test.js test/**/*-test.js","test:coverage":"c8 node --test --test-concurrency=1 test/**/*.test.js test/**/*-test.js","format":"prettier --write \\"**/*.{js,json,md}\\"","format:check":"prettier --check \\"**/*.{js,json,md}\\"","lint":"eslint .","lint:fix":"eslint . --fix","update":"rm -rf node_modules/ package-lock.json && ncu -u && npm install"},"repository":{"type":"git","url":"https://github.com/nodemailer/nodemailer.git"},"keywords":["Nodemailer"],"author":"Andris Reinman","license":"MIT-0","bugs":{"url":"https://github.com/nodemailer/nodemailer/issues"},"homepage":"https://nodemailer.com/","devDependencies":{"@aws-sdk/client-sesv2":"3.940.0","bunyan":"1.8.15","c8":"10.1.3","eslint":"9.39.1","eslint-config-prettier":"10.1.8","globals":"16.5.0","libbase64":"1.3.0","libmime":"5.3.7","libqp":"2.1.1","nodemailer-ntlm-auth":"1.0.4","prettier":"3.6.2","proxy":"1.0.2","proxy-test-server":"1.0.0","smtp-server":"3.16.1"},"engines":{"node":">=6.0.0"}}')},24626:(a,b,c)=>{"use strict";let{PoolBase:d,kClients:e,kNeedDrain:f,kAddClient:g,kGetDispatcher:h,kRemoveClient:i}=c(6082),j=c(77531),{InvalidArgumentError:k}=c(64737),l=c(81350),{kUrl:m}=c(10257),o=c(62094),p=Symbol("options"),q=Symbol("connections"),r=Symbol("factory");function s(a,b){return new j(a,b)}class t extends d{constructor(a,{connections:b,factory:c=s,connect:d,connectTimeout:f,tls:g,maxCachedSessions:h,socketPath:i,autoSelectFamily:j,autoSelectFamilyAttemptTimeout:t,allowH2:u,clientTtl:v,...w}={}){if(null!=b&&(!Number.isFinite(b)||b<0))throw new k("invalid connections");if("function"!=typeof c)throw new k("factory must be a function.");if(null!=d&&"function"!=typeof d&&"object"!=typeof d)throw new k("connect must be a function or an object");super(),"function"!=typeof d&&(d=o({...g,maxCachedSessions:h,allowH2:u,socketPath:i,timeout:f,..."boolean"==typeof j?{autoSelectFamily:j,autoSelectFamilyAttemptTimeout:t}:void 0,...d})),this[q]=b||null,this[m]=l.parseOrigin(a),this[p]={...l.deepClone(w),connect:d,allowH2:u,clientTtl:v},this[p].interceptors=w.interceptors?{...w.interceptors}:void 0,this[r]=c,this.on("connect",(a,b)=>{if(null!=v&&v>0)for(let a of b)Object.assign(a,{ttl:Date.now()})}),this.on("connectionError",(a,b,c)=>{for(let a of b){let b=this[e].indexOf(a);-1!==b&&this[e].splice(b,1)}})}[h](){let a=this[p].clientTtl;for(let b of this[e])if(null!=a&&a>0&&b.ttl&&Date.now()-b.ttl>a)this[i](b);else if(!b[f])return b;if(!this[q]||this[e].length<this[q]){let a=this[r](this[m],this[p]);return this[g](a),a}}}a.exports=t},24635:(a,b,c)=>{"use strict";c.d(b,{p:()=>f});var d=c(46651);let e={Bearer:({headers:a})=>{let b=a.get("Authorization");return b?.startsWith("Bearer ")?b.replace("Bearer ",""):null},cookie:({headers:a,payload:b})=>{let c=a.get("Origin"),e=(0,d.J)(a),f=`${b.config.cookiePrefix}-token`,g=e.get(f);return g&&(!c||0===b.config.csrf.length||b.config.csrf.indexOf(c)>-1)?g:null},JWT:({headers:a})=>{let b=a.get("Authorization");return b?.startsWith("JWT ")?b.replace("JWT ",""):null}},f=a=>{let{headers:b,payload:c}=a;for(let a of c.config.auth.jwtOrder){let d=e[a]({headers:b,payload:c});if(d)return d}return null}},24682:(a,b,c)=>{"use strict";let d=c(34589),{kRetryHandlerDefaultRetry:e}=c(10257),{RequestRetryError:f}=c(64737),g=c(984),{isDisturbed:h,parseRangeHeader:i,wrapRequestBody:j}=c(81350);function k(a){let b=new Date(a).getTime();return isNaN(b)?0:b-Date.now()}class l{constructor(a,{dispatch:b,handler:c}){let{retryOptions:d,...f}=a,{retry:h,maxRetries:i,maxTimeout:k,minTimeout:m,timeoutFactor:o,methods:p,errorCodes:q,retryAfter:r,statusCodes:s}=d??{};this.dispatch=b,this.handler=g.wrap(c),this.opts={...f,body:j(a.body)},this.retryOpts={retry:h??l[e],retryAfter:r??!0,maxTimeout:k??3e4,minTimeout:m??500,timeoutFactor:o??2,maxRetries:i??5,methods:p??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:s??[500,502,503,504,429],errorCodes:q??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE","UND_ERR_SOCKET"]},this.retryCount=0,this.retryCountCheckpoint=0,this.headersSent=!1,this.start=0,this.end=null,this.etag=null}onRequestStart(a,b){this.headersSent||this.handler.onRequestStart?.(a,b)}onRequestUpgrade(a,b,c,d){this.handler.onRequestUpgrade?.(a,b,c,d)}static[e](a,{state:b,opts:c},d){let{statusCode:e,code:f,headers:g}=a,{method:h,retryOptions:i}=c,{maxRetries:j,minTimeout:l,maxTimeout:m,timeoutFactor:o,statusCodes:p,errorCodes:q,methods:r}=i,{counter:s}=b;if(f&&"UND_ERR_REQ_RETRY"!==f&&!q.includes(f)||Array.isArray(r)&&!r.includes(h)||null!=e&&Array.isArray(p)&&!p.includes(e)||s>j)return void d(a);let t=g?.["retry-after"];t&&(t=Number.isNaN(t=Number(t))?k(g["retry-after"]):1e3*t),setTimeout(()=>d(null),t>0?Math.min(t,m):Math.min(l*o**(s-1),m))}onResponseStart(a,b,c,e){if(this.retryCount+=1,b>=300)if(!1===this.retryOpts.statusCodes.includes(b)){this.headersSent=!0,this.handler.onResponseStart?.(a,b,c,e);return}else throw new f("Request failed",b,{headers:c,data:{count:this.retryCount}});if(this.headersSent){if(206!==b&&(this.start>0||200!==b))throw new f("server does not support the range header and the payload was partially consumed",b,{headers:c,data:{count:this.retryCount}});let a=i(c["content-range"]);if(!a)throw new f("Content-Range mismatch",b,{headers:c,data:{count:this.retryCount}});if(null!=this.etag&&this.etag!==c.etag)throw new f("ETag mismatch",b,{headers:c,data:{count:this.retryCount}});let{start:e,size:g,end:h=g?g-1:null}=a;d(this.start===e,"content-range mismatch"),d(null==this.end||this.end===h,"content-range mismatch");return}if(null==this.end){if(206===b){let f=i(c["content-range"]);if(null==f){this.headersSent=!0,this.handler.onResponseStart?.(a,b,c,e);return}let{start:g,size:h,end:j=h?h-1:null}=f;d(null!=g&&Number.isFinite(g),"content-range mismatch"),d(null!=j&&Number.isFinite(j),"invalid content-length"),this.start=g,this.end=j}if(null==this.end){let a=c["content-length"];this.end=null!=a?Number(a)-1:null}d(Number.isFinite(this.start)),d(null==this.end||Number.isFinite(this.end),"invalid content-length"),this.resume=!0,this.etag=null!=c.etag?c.etag:null,null!=this.etag&&"W"===this.etag[0]&&"/"===this.etag[1]&&(this.etag=null),this.headersSent=!0,this.handler.onResponseStart?.(a,b,c,e)}else throw new f("Request failed",b,{headers:c,data:{count:this.retryCount}})}onResponseData(a,b){this.start+=b.length,this.handler.onResponseData?.(a,b)}onResponseEnd(a,b){return this.retryCount=0,this.handler.onResponseEnd?.(a,b)}onResponseError(a,b){if(a?.aborted||h(this.opts.body))return void this.handler.onResponseError?.(a,b);function c(b){if(null!=b||a?.aborted||h(this.opts.body))return this.handler.onResponseError?.(a,b);if(0!==this.start){let a={range:`bytes=${this.start}-${this.end??""}`};null!=this.etag&&(a["if-match"]=this.etag),this.opts={...this.opts,headers:{...this.opts.headers,...a}}}try{this.retryCountCheckpoint=this.retryCount,this.dispatch(this.opts,this)}catch(b){this.handler.onResponseError?.(a,b)}}this.retryCount-this.retryCountCheckpoint>0?this.retryCount=this.retryCountCheckpoint+(this.retryCount-this.retryCountCheckpoint):this.retryCount+=1,this.retryOpts.retry(b,{state:{counter:this.retryCount},opts:{retryOptions:this.retryOpts,...this.opts}},c.bind(this))}}a.exports=l},24769:(a,b,c)=>{"use strict";var d;d={value:!0},Object.defineProperty(b,"M",{enumerable:!0,get:function(){return h}});let e=c(29294),f=c(63033),g=c(30563);function h(){let a="unstable_noStore()",b=e.workAsyncStorage.getStore(),c=f.workUnitAsyncStorage.getStore();if(b){if(!b.forceStatic){if(b.isUnstableNoStore=!0,c)switch(c.type){case"prerender":case"prerender-client":return}(0,g.markCurrentScopeAsDynamic)(b,c,a)}}}},25362:(a,b,c)=>{"use strict";c.d(b,{nm0:()=>bJ});var d=c(79646),e=c(55511),f=c(73136),g=c(33873);c(15088),c(92065),c(51969),c(90229),c(88453);var h=c(70404),i=c(73346),j=c(34952);async function k(a,b){let{collection:c,data:d,disableEmail:e,expiration:f}=b,g=a.collections[c];if(!g)throw new h.L(`The collection with slug ${String(c)} can't be found. Forgot Password Operation.`);return(0,j.g)({collection:g,data:d,disableEmail:e,expiration:f,req:await (0,i.M)(b,a)})}var l=c(82509);async function m(a,b){let{collection:c,data:d,depth:e,overrideAccess:f=!0,showHiddenFields:g}=b,j=a.collections[c];if(!j)throw new h.L(`The collection with slug ${String(c)} can't be found. Login Operation.`);let k={collection:j,data:d,depth:e,overrideAccess:f,req:await (0,i.M)(b,a),showHiddenFields:g},m=await (0,l.k)(k);return j.config.auth.removeTokenFromResponses&&delete m.token,m}var o=c(68398);async function p(a,b){let{collection:c,data:d,overrideAccess:e}=b,f=a.collections[c];if(!f)throw new h.L(`The collection with slug ${String(c)} can't be found. Reset Password Operation.`);let g=await (0,o.q)({collection:f,data:d,overrideAccess:e,req:await (0,i.M)(b,a)});return f.config.auth.removeTokenFromResponses&&delete g.token,g}var q=c(72818);async function r(a,b){let{collection:c,data:d,overrideAccess:e=!0}=b,f=a.collections[c];if(!f)throw new h.L(`The collection with slug ${String(c)} can't be found. Unlock Operation.`);return(0,q.k)({collection:f,data:d,overrideAccess:e,req:await (0,i.M)(b,a)})}var s=c(30951);async function t(a,b){let{collection:c,token:d}=b,e=a.collections[c];if(!e)throw new h.L(`The collection with slug ${String(c)} can't be found. Verify Email Operation.`);return(0,s.p)({collection:e,req:await (0,i.M)(b,a),token:d})}var u=c(31052);async function v(a,b){let{collection:c,disableErrors:d,overrideAccess:e=!0,trash:f=!1,where:g}=b,j=a.collections[c];if(!j)throw new h.L(`The collection with slug ${String(c)} can't be found. Count Operation.`);return(0,u.R)({collection:j,disableErrors:d,overrideAccess:e,req:await (0,i.M)(b,a),trash:f,where:g})}var w=c(46601),x=c(17463),y=c(48071);async function z(a,b){let{collection:c,data:d,depth:e,disableTransaction:f,disableVerificationEmail:g,draft:j,duplicateFromID:k,file:l,filePath:m,overrideAccess:o=!0,overwriteExistingFiles:p=!1,populate:q,select:r,showHiddenFields:s}=b,t=a.collections[c];if(!t)throw new h.L(`The collection with slug ${String(c)} can't be found. Create Operation.`);let u=await (0,i.M)(b,a);return u.file=l??await (0,x.d)(m),(0,y.k)({collection:t,data:(0,w.Zt)(d),depth:e,disableTransaction:f,disableVerificationEmail:g,draft:j,duplicateFromID:k,overrideAccess:o,overwriteExistingFiles:p,populate:q,req:u,select:r,showHiddenFields:s})}var A=c(72688),B=c(32952);async function C(a,b){let{id:c,collection:d,depth:e,disableTransaction:f,overrideAccess:g=!0,overrideLock:j,populate:k,select:l,showHiddenFields:m,trash:o=!1,where:p}=b,q=a.collections[d];if(!q)throw new h.L(`The collection with slug ${String(d)} can't be found. Delete Operation.`);let r={id:c,collection:q,depth:e,disableTransaction:f,overrideAccess:g,overrideLock:j,populate:k,req:await (0,i.M)(b,a),select:l,showHiddenFields:m,trash:o,where:p};return b.id?(0,B.l)(r):(0,A.N)(r)}var D=c(94190);async function E(a,b){let{id:c,collection:d,data:e,depth:f,disableTransaction:g,draft:j,overrideAccess:k=!0,populate:l,select:m,selectedLocales:o,showHiddenFields:p}=b,q=a.collections[d];if(!q)throw new h.L(`The collection with slug ${String(d)} can't be found. Duplicate Operation.`);if(!0===q.config.disableDuplicate)throw new h.L(`The collection with slug ${String(d)} cannot be duplicated.`,400);let r=await (0,i.M)(b,a);return(0,D.h)({id:c,collection:q,data:e,depth:f,disableTransaction:g,draft:j,overrideAccess:k,populate:l,req:r,select:m,selectedLocales:o,showHiddenFields:p})}var F=c(45912);async function G(a,b){let{collection:c,currentDepth:d,depth:e,disableErrors:f,draft:g=!1,includeLockStatus:j,joins:k,limit:l,overrideAccess:m=!0,page:o,pagination:p=!0,populate:q,select:r,showHiddenFields:s,sort:t,trash:u=!1,where:v}=b,w=a.collections[c];if(!w)throw new h.L(`The collection with slug ${String(c)} can't be found. Find Operation.`);return(0,F.L)({collection:w,currentDepth:d,depth:e,disableErrors:f,draft:g,includeLockStatus:j,joins:k,limit:l,overrideAccess:m,page:o,pagination:p,populate:q,req:await (0,i.M)(b,a),select:r,showHiddenFields:s,sort:t,trash:u,where:v})}var H=c(87936);async function I(a,b){let{id:c,collection:d,currentDepth:e,data:f,depth:g,disableErrors:j=!1,draft:k=!1,flattenLocales:l,includeLockStatus:m,joins:o,overrideAccess:p=!0,populate:q,select:r,showHiddenFields:s,trash:t=!1}=b,u=a.collections[d];if(!u)throw new h.L(`The collection with slug ${String(d)} can't be found. Find By ID Operation.`);return(0,H.$)({id:c,collection:u,currentDepth:e,data:f,depth:g,disableErrors:j,draft:k,flattenLocales:l,includeLockStatus:m,joins:o,overrideAccess:p,populate:q,req:await (0,i.M)(b,a),select:r,showHiddenFields:s,trash:t})}var J=c(24401),K=c(99408),L=c(10631),M=c(35597),N=c(71898),O=c(86069),P=c(47470),Q=c(10353),R=c(43835),S=c(66089),T=c(35183),U=c(96683);let V=async a=>{let b=a;try{let a,{collection:{config:c},disableErrors:d,overrideAccess:e,populate:f,showHiddenFields:g=!1,trash:i=!1,where:j}=b=await (0,U.v)({args:b,collection:b.collection.config,operation:"readDistinct"}),k=b.req,{locale:l,payload:m}=k;if(!e&&(a=await (0,K.m)({disableErrors:d,req:k},c.access.read),!1===a))return{hasNextPage:!1,hasPrevPage:!1,limit:b.limit||0,nextPage:null,page:1,pagingCounter:1,prevPage:null,totalDocs:0,totalPages:0,values:[]};let o=(0,L.m)(j,a);(0,N.D)({fields:c.flattenedFields,payload:m,where:o}),o=(0,Q.v)({enableTrash:c.trash,trash:i,where:o}),await (0,M.d)({collectionConfig:c,overrideAccess:e,req:k,where:j??{}});let p=(0,R.p)({config:m.config,fields:c.flattenedFields,includeRelationships:!0,path:b.field});if(!p)throw new h.L(`Field ${b.field} was not found in the collection ${c.slug}`,J.A.BAD_REQUEST);if(p.field.hidden&&!g||p.field.access?.read&&!await p.field.access.read({req:k}))throw new O.c(k.t);if("virtual"in p.field&&p.field.virtual){if("string"!=typeof p.field.virtual)throw new h.L("Cannot findDistinct by a virtual field that isn't linked to a relationship field.");let a="",o=c.flattenedFields,q=p.field.virtual.split(".");for(let b of p.field.virtual.split(".")){a=`${a}${b}`,q.shift();let c=o.find(a=>a.name===b);if(("relationship"===c.type||"upload"===c.type)&&"string"==typeof c.relationTo)break;"flattenedFields"in c&&(o=c.flattenedFields)}let r=`${a}.${q.join(".")}`,s=await m.findDistinct({collection:c.slug,depth:b.depth,disableErrors:d,field:r,limit:b.limit,locale:l,overrideAccess:e,page:b.page,populate:f,req:k,showHiddenFields:g,sort:b.sort,trash:i,where:j});for(let a of s.values)a[b.field]=a[r],delete a[r];return s}let q=await m.db.findDistinct({collection:c.slug,field:b.field,limit:b.limit,locale:l,page:b.page,req:k,sort:b.sort,where:o});if(("relationship"===p.field.type||"upload"===p.field.type)&&b.depth){let a=[],c={...p.field};for(let d of(p.field.hasMany&&(c.hasMany=!1),q.values))a.push((0,P.x)({currentDepth:0,depth:b.depth,draft:!1,fallbackLocale:k.fallbackLocale||null,field:c,locale:k.locale||null,overrideAccess:b.overrideAccess??!0,parentIsLocalized:!1,populate:f,req:k,showHiddenFields:!1,siblingDoc:d}));await Promise.all(a)}return q=await (0,T.E)({args:b,collection:c,operation:"findDistinct",result:q})}catch(a){throw await (0,S.J)(b.req),a}};async function W(a,b){let{collection:c,depth:d=0,disableErrors:e,field:f,limit:g,overrideAccess:j=!0,page:k,populate:l,showHiddenFields:m,sort:o,trash:p=!1,where:q}=b,r=a.collections[c];if(!r)throw new h.L(`The collection with slug ${String(c)} can't be found. Find Operation.`);return V({collection:r,depth:d,disableErrors:e,field:f,limit:g,overrideAccess:j,page:k,populate:l,req:await (0,i.M)(b,a),showHiddenFields:m,sort:o,trash:p,where:q})}var X=c(47566);async function Y(a,b){let{id:c,collection:d,depth:e,disableErrors:f=!1,overrideAccess:g=!0,populate:j,select:k,showHiddenFields:l,trash:m=!1}=b,o=a.collections[d];if(!o)throw new h.L(`The collection with slug ${String(d)} can't be found. Find Version By ID Operation.`);return(0,X.L)({id:c,collection:o,depth:e,disableErrors:f,overrideAccess:g,populate:j,req:await (0,i.M)(b,a),select:k,showHiddenFields:l,trash:m})}var Z=c(52765);async function $(a,b){let{collection:c,depth:d,limit:e,overrideAccess:f=!0,page:g,pagination:j=!0,populate:k,select:l,showHiddenFields:m,sort:o,trash:p=!1,where:q}=b,r=a.collections[c];if(!r)throw new h.L(`The collection with slug ${String(c)} can't be found. Find Versions Operation.`);return(0,Z.s)({collection:r,depth:d,limit:e,overrideAccess:f,page:g,pagination:j,populate:k,req:await (0,i.M)(b,a),select:l,showHiddenFields:m,sort:o,trash:p,where:q})}var _=c(75041);async function aa(a,b){let{id:c,collection:d,depth:e,overrideAccess:f=!0,populate:g,select:j,showHiddenFields:k}=b,l=a.collections[d];if(!l)throw new h.L(`The collection with slug ${String(d)} can't be found. Restore Version Operation.`);let m={id:c,collection:l,depth:e,overrideAccess:f,payload:a,populate:g,req:await (0,i.M)(b,a),select:j,showHiddenFields:k};return(0,_.c)(m)}var ab=c(70494),ac=c(69138);async function ad(a,b){let{id:c,autosave:d,collection:e,data:f,depth:g,disableTransaction:j,draft:k,file:l,filePath:m,limit:o,overrideAccess:p=!0,overrideLock:q,overwriteExistingFiles:r=!1,populate:s,publishSpecificLocale:t,select:u,showHiddenFields:v,sort:w,trash:y=!1,where:z}=b,A=a.collections[e];if(!A)throw new h.L(`The collection with slug ${String(e)} can't be found. Update Operation.`);let B=await (0,i.M)(b,a);B.file=l??await (0,x.d)(m);let C={id:c,autosave:d,collection:A,data:f,depth:g,disableTransaction:j,draft:k,limit:o,overrideAccess:p,overrideLock:q,overwriteExistingFiles:r,payload:a,populate:s,publishSpecificLocale:t,req:B,select:u,showHiddenFields:v,sort:w,trash:y,where:z};return b.id?(0,ac.Z)(C):(0,ab.L)(C)}var ae=c(41144);let af=async a=>{try{let b,{disableErrors:c,global:d,overrideAccess:e,where:f}=a,g=a.req,{payload:h}=g;if(d.hooks?.beforeOperation?.length)for(let b of d.hooks.beforeOperation)a=await b({args:a,context:g.context,global:d,operation:"countVersions",req:g})||a;if(!e&&(b=await (0,K.m)({disableErrors:c,req:g},d.access.readVersions),!1===b))return{totalDocs:0};let i=(0,L.m)(f,b),j=(0,ae.p)(h.config,d,!0);return await (0,M.d)({globalConfig:d,overrideAccess:e,req:g,versionFields:j,where:f}),await h.db.countGlobalVersions({global:d.slug,req:g,where:i})}catch(b){throw await (0,S.J)(a.req),b}};async function ag(a,b){let{disableErrors:c,global:d,overrideAccess:e=!0,where:f}=b,g=a.globals.config.find(({slug:a})=>a===d);if(!g)throw new h.L(`The global with slug ${String(d)} can't be found. Count Global Versions Operation.`);return af({disableErrors:c,global:g,overrideAccess:e,req:await (0,i.M)(b,a),where:f})}var ah=c(35305);async function ai(a,b){let{slug:c,data:d,depth:e,draft:f=!1,flattenLocales:g,includeLockStatus:j,overrideAccess:k=!0,populate:l,select:m,showHiddenFields:o}=b,p=a.globals.config.find(a=>a.slug===c);if(!p)throw new h.L(`The global with slug ${String(c)} can't be found.`);return(0,ah.j)({slug:c,data:d,depth:e,draft:f,flattenLocales:g,globalConfig:p,includeLockStatus:j,overrideAccess:k,populate:l,req:await (0,i.M)(b,a),select:m,showHiddenFields:o})}var aj=c(97833);async function ak(a,b){let{id:c,slug:d,depth:e,disableErrors:f=!1,overrideAccess:g=!0,populate:j,select:k,showHiddenFields:l}=b,m=a.globals.config.find(a=>a.slug===d);if(!m)throw new h.L(`The global with slug ${String(d)} can't be found.`);return(0,aj.L)({id:c,depth:e,disableErrors:f,globalConfig:m,overrideAccess:g,populate:j,req:await (0,i.M)(b,a),select:k,showHiddenFields:l})}var al=c(51960);async function am(a,b){let{slug:c,depth:d,limit:e,overrideAccess:f=!0,page:g,pagination:j=!0,populate:k,select:l,showHiddenFields:m,sort:o,where:p}=b,q=a.globals.config.find(a=>a.slug===c);if(!q)throw new h.L(`The global with slug ${String(c)} can't be found.`);return(0,al.s)({depth:d,globalConfig:q,limit:e,overrideAccess:f,page:g,pagination:j,populate:k,req:await (0,i.M)(b,a),select:l,showHiddenFields:m,sort:o,where:p})}var an=c(47892);async function ao(a,b){let{id:c,slug:d,depth:e,overrideAccess:f=!0,populate:g,showHiddenFields:j}=b,k=a.globals.config.find(a=>a.slug===d);if(!k)throw new h.L(`The global with slug ${String(d)} can't be found.`);return(0,an.c)({id:c,depth:e,globalConfig:k,overrideAccess:f,populate:g,req:await (0,i.M)(b,a),showHiddenFields:j})}var ap=c(79234);async function aq(a,b){let{slug:c,data:d,depth:e,draft:f,overrideAccess:g=!0,overrideLock:j,populate:k,publishSpecificLocale:l,select:m,showHiddenFields:o}=b,p=a.globals.config.find(a=>a.slug===c);if(!p)throw new h.L(`The global with slug ${String(c)} can't be found.`);return(0,ap.L)({slug:c,data:(0,w.Zt)(d),depth:e,draft:f,globalConfig:p,overrideAccess:g,overrideLock:j,populate:k,publishSpecificLocale:l,req:await (0,i.M)(b,a),select:m,showHiddenFields:o})}var ar=c(36136);let as="aes-256-ctr";function at(a){let b=e.randomBytes(16),c=this.secret,d=e.createCipheriv(as,c,b),f=d.update(a,"utf8","hex")+d.final("hex"),g=b.toString("hex");return`${g}${f}`}function au(a){let b=a.slice(0,32),c=a.slice(32),d=this.secret,f=e.createDecipheriv(as,d,Buffer.from(b,"hex"));return f.update(c,"hex","utf8")+f.final("utf8")}var av=c(56405),aw=c(38053);let ax=async a=>{let{canSetHeaders:b,headers:c}=a,d=a.req,{payload:e}=d;try{let{responseHeaders:a,user:f}=await (0,av.F)({canSetHeaders:b,headers:c,payload:e});return d.user=f,d.responseHeaders=a,{permissions:await (0,aw.R)({req:d}),responseHeaders:a,user:f}}catch(a){throw await (0,S.J)(d),a}},ay=async(a,b)=>{let{headers:c,req:d}=b;return await ax({canSetHeaders:!!b.canSetHeaders,headers:c,req:await (0,i.M)({req:d},a)})},az=a=>async({headers:b,isGraphQL:c=!1,payload:d})=>{let f=b.get("Authorization");if(f?.startsWith(`${a.slug} API-Key `)){let b=f.replace(`${a.slug} API-Key `,""),g=[{apiKeyIndex:{equals:e.createHmac("sha1",d.secret).update(b).digest("hex")}},{apiKeyIndex:{equals:e.createHmac("sha256",d.secret).update(b).digest("hex")}}];try{let b={};a.auth?.verify?b.and=[{or:g},{_verified:{not_equals:!1}}]:b.or=g;let e=await d.find({collection:a.slug,depth:c?0:a.auth.depth,limit:1,overrideAccess:!0,pagination:!1,where:b});if(e.docs&&e.docs.length>0){let b=e.docs[0];return b.collection=a.slug,b._strategy="api-key",{user:b}}}catch(a){}}return{user:null}};var aA=c(61213),aB=c(77598),aC=c(57975),aD=c(43732),aE=c(75467),aF=c(75523),aG=c(24290);let aH=(0,aC.promisify)(aB.verify),aI=async(a,b,c,d)=>{let e=(0,aG.A)(a,b,"verify");if(a.startsWith("HS")){let b=await (0,aF.A)(a,e,d),f=c;try{return aB.timingSafeEqual(f,b)}catch{return!1}}let f=(0,aD.A)(a),g=(0,aE.A)(a,e);try{return await aH(f,d,g,c)}catch{return!1}};var aJ=c(74492),aK=c(71656),aL=c(98415),aM=c(7e3),aN=c(79909),aO=c(89985);let aP=(a,b)=>{if(void 0!==b&&(!Array.isArray(b)||b.some(a=>"string"!=typeof a)))throw TypeError(`"${a}" option must be an array of strings`);if(b)return new Set(b)};var aQ=c(19071);let aR=a=>a.d?(0,aB.createPrivateKey)({format:"jwk",key:a}):(0,aB.createPublicKey)({format:"jwk",key:a});async function aS(a,b){if(!(0,aM.A)(a))throw TypeError("JWK must be an object");switch(b||=a.alg,a.kty){case"oct":if("string"!=typeof a.k||!a.k)throw TypeError('missing "k" (Key Value) Parameter value');return(0,aA.D4)(a.k);case"RSA":if(void 0!==a.oth)throw new aJ.T0('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return aR({...a,alg:b});default:throw new aJ.T0('Unsupported "kty" (Key Type) Parameter value')}}async function aT(a,b,c){let d,e;if(!(0,aM.A)(a))throw new aJ.Ye("Flattened JWS must be an object");if(void 0===a.protected&&void 0===a.header)throw new aJ.Ye('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==a.protected&&"string"!=typeof a.protected)throw new aJ.Ye("JWS Protected Header incorrect type");if(void 0===a.payload)throw new aJ.Ye("JWS Payload missing");if("string"!=typeof a.signature)throw new aJ.Ye("JWS Signature missing or incorrect type");if(void 0!==a.header&&!(0,aM.A)(a.header))throw new aJ.Ye("JWS Unprotected Header incorrect type");let f={};if(a.protected)try{let b=(0,aA.D4)(a.protected);f=JSON.parse(aK.D0.decode(b))}catch{throw new aJ.Ye("JWS Protected Header is invalid")}if(!(0,aL.A)(f,a.header))throw new aJ.Ye("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let g={...f,...a.header},h=(0,aO.A)(aJ.Ye,new Map([["b64",!0]]),c?.crit,f,g),i=!0;if(h.has("b64")&&"boolean"!=typeof(i=f.b64))throw new aJ.Ye('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:j}=g;if("string"!=typeof j||!j)throw new aJ.Ye('JWS "alg" (Algorithm) Header Parameter missing or invalid');let k=c&&aP("algorithms",c.algorithms);if(k&&!k.has(j))throw new aJ.Rb('"alg" (Algorithm) Header Parameter value not allowed');if(i){if("string"!=typeof a.payload)throw new aJ.Ye("JWS Payload must be a string")}else if("string"!=typeof a.payload&&!(a.payload instanceof Uint8Array))throw new aJ.Ye("JWS Payload must be a string or an Uint8Array instance");let l=!1;"function"==typeof b?(b=await b(f,a),l=!0,(0,aN.I)(j,b,"verify"),(0,aQ.ll)(b)&&(b=await aS(b,j))):(0,aN.I)(j,b,"verify");let m=(0,aK.xW)(aK.Rd.encode(a.protected??""),aK.Rd.encode("."),"string"==typeof a.payload?aK.Rd.encode(a.payload):a.payload);try{d=(0,aA.D4)(a.signature)}catch{throw new aJ.Ye("Failed to base64url decode the signature")}if(!await aI(j,b,d,m))throw new aJ.h2;if(i)try{e=(0,aA.D4)(a.payload)}catch{throw new aJ.Ye("Failed to base64url decode the payload")}else e="string"==typeof a.payload?aK.Rd.encode(a.payload):a.payload;let o={payload:e};return(void 0!==a.protected&&(o.protectedHeader=f),void 0!==a.header&&(o.unprotectedHeader=a.header),l)?{...o,key:b}:o}async function aU(a,b,c){if(a instanceof Uint8Array&&(a=aK.D0.decode(a)),"string"!=typeof a)throw new aJ.Ye("Compact JWS must be a string or Uint8Array");let{0:d,1:e,2:f,length:g}=a.split(".");if(3!==g)throw new aJ.Ye("Invalid Compact JWS");let h=await aT({payload:e,protected:d,signature:f},b,c),i={payload:h.payload,protectedHeader:h.protectedHeader};return"function"==typeof b?{...i,key:h.key}:i}var aV=c(18807),aW=c(90534);let aX=a=>a.toLowerCase().replace(/^application\//,""),aY=(a,b)=>"string"==typeof a?b.includes(a):!!Array.isArray(a)&&b.some(Set.prototype.has.bind(new Set(a))),aZ=(a,b,c={})=>{let d,e;try{d=JSON.parse(aK.D0.decode(b))}catch{}if(!(0,aM.A)(d))throw new aJ.Dp("JWT Claims Set must be a top-level JSON object");let{typ:f}=c;if(f&&("string"!=typeof a.typ||aX(a.typ)!==aX(f)))throw new aJ.ie('unexpected "typ" JWT header value',d,"typ","check_failed");let{requiredClaims:g=[],issuer:h,subject:i,audience:j,maxTokenAge:k}=c,l=[...g];for(let a of(void 0!==k&&l.push("iat"),void 0!==j&&l.push("aud"),void 0!==i&&l.push("sub"),void 0!==h&&l.push("iss"),new Set(l.reverse())))if(!(a in d))throw new aJ.ie(`missing required "${a}" claim`,d,a,"missing");if(h&&!(Array.isArray(h)?h:[h]).includes(d.iss))throw new aJ.ie('unexpected "iss" claim value',d,"iss","check_failed");if(i&&d.sub!==i)throw new aJ.ie('unexpected "sub" claim value',d,"sub","check_failed");if(j&&!aY(d.aud,"string"==typeof j?[j]:j))throw new aJ.ie('unexpected "aud" claim value',d,"aud","check_failed");switch(typeof c.clockTolerance){case"string":e=(0,aW.A)(c.clockTolerance);break;case"number":e=c.clockTolerance;break;case"undefined":e=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:m}=c,o=(0,aV.A)(m||new Date);if((void 0!==d.iat||k)&&"number"!=typeof d.iat)throw new aJ.ie('"iat" claim must be a number',d,"iat","invalid");if(void 0!==d.nbf){if("number"!=typeof d.nbf)throw new aJ.ie('"nbf" claim must be a number',d,"nbf","invalid");if(d.nbf>o+e)throw new aJ.ie('"nbf" claim timestamp check failed',d,"nbf","check_failed")}if(void 0!==d.exp){if("number"!=typeof d.exp)throw new aJ.ie('"exp" claim must be a number',d,"exp","invalid");if(d.exp<=o-e)throw new aJ.n('"exp" claim timestamp check failed',d,"exp","check_failed")}if(k){let a=o-d.iat;if(a-e>("number"==typeof k?k:(0,aW.A)(k)))throw new aJ.n('"iat" claim timestamp check failed (too far in the past)',d,"iat","check_failed");if(a<0-e)throw new aJ.ie('"iat" claim timestamp check failed (it should be in the past)',d,"iat","check_failed")}return d};async function a$(a,b,c){let d=await aU(a,b,c);if(d.protectedHeader.crit?.includes("b64")&&!1===d.protectedHeader.b64)throw new aJ.Dp("JWTs MUST NOT use unencoded payload");let e={payload:aZ(d.protectedHeader,d.payload,c),protectedHeader:d.protectedHeader};return"function"==typeof b?{...e,key:d.key}:e}var a_=c(24635);async function a0({isGraphQL:a,payload:b,strategyName:c="local-jwt"}){if("object"!=typeof b?.config?.admin?.autoLogin||b.config.admin?.autoLogin.prefillOnly||!b?.config?.admin?.autoLogin||!b.config.admin?.autoLogin.email&&!b.config.admin?.autoLogin.username)return{user:null};let d=b.collections[b.config.admin.user],e={or:[]};b.config.admin?.autoLogin.email?e.or?.push({email:{equals:b.config.admin?.autoLogin.email}}):b.config.admin?.autoLogin.username&&e.or?.push({username:{equals:b.config.admin?.autoLogin.username}});let f=(await b.find({collection:d.config.slug,depth:a?0:d.config.auth.depth,limit:1,pagination:!1,where:e})).docs[0];return f?(f.collection=d.config.slug,f._strategy=c,{user:f}):{user:null}}let a1=async({headers:a,isGraphQL:b=!1,payload:c,strategyName:d="local-jwt"})=>{try{let e=(0,a_.p)({headers:a,payload:c});if(!e){if("true"!==a.get("DisableAutologin"))return await a0({isGraphQL:b,payload:c,strategyName:d});return{user:null}}let f=new TextEncoder().encode(c.secret),{payload:g}=await a$(e,f),h=c.collections[g.collection],i=await c.findByID({id:g.id,collection:g.collection,depth:b?0:h.config.auth.depth});if(i&&(!h.config.auth.verify||i._verified)){if(h.config.auth.useSessions){if(!(i.sessions||[]).find(({id:a})=>a===g.sid)||!g.sid)return{user:null};i._sid=g.sid}return i.collection=h.config.slug,i._strategy=d,{user:i}}if("true"!==a.get("DisableAutologin"))return await a0({isGraphQL:b,payload:c,strategyName:d});return{user:null}}catch(e){if("true"!==a.get("DisableAutologin"))return await a0({isGraphQL:b,payload:c,strategyName:d});return{user:null}}};var a2=c(79748),a3=c(1708),a4=c(43628);function a5({addToImportMap:a,baseDir:b,collections:c,config:d,importMap:e,imports:f}){for(let g of c){if((0,a4.J)({addToImportMap:a,baseDir:b,config:d,fields:g.fields,importMap:e,imports:f}),a(g.admin?.components?.afterList),a(g.admin?.components?.listMenuItems),a(g.admin?.components?.afterListTable),a(g.admin?.components?.beforeList),a(g.admin?.components?.beforeListTable),a(g.admin?.components?.Description),a(g.admin?.components?.edit?.beforeDocumentControls),a(g.admin?.components?.edit?.editMenuItems),a(g.admin?.components?.edit?.PreviewButton),a(g.admin?.components?.edit?.PublishButton),a(g.admin?.components?.edit?.SaveButton),a(g.admin?.components?.edit?.SaveDraftButton),a(g.admin?.components?.edit?.Upload),g.upload?.admin?.components?.controls&&a(g.upload?.admin?.components?.controls),g.admin?.components?.views?.edit)for(let b of Object.values(g.admin?.components?.views?.edit))"Component"in b&&a(b?.Component),"actions"in b&&a(b?.actions),"tab"in b&&(a(b?.tab?.Component),a(b?.tab?.Pill));a(g.admin?.components?.views?.list?.Component),a(g.admin?.components?.views?.list?.actions)}}function a6({addToImportMap:a,baseDir:b,config:c,globals:d,importMap:e,imports:f}){for(let g of d)if((0,a4.J)({addToImportMap:a,baseDir:b,config:c,fields:g.fields,importMap:e,imports:f}),a(g.admin?.components?.elements?.Description),a(g.admin?.components?.elements?.PreviewButton),a(g.admin?.components?.elements?.PublishButton),a(g.admin?.components?.elements?.SaveButton),a(g.admin?.components?.elements?.SaveDraftButton),g.admin?.components?.views?.edit)for(let b of Object.values(g.admin?.components?.views?.edit))"Component"in b&&a(b?.Component),"actions"in b&&a(b?.actions),"tab"in b&&(a(b?.tab?.Component),a(b?.tab?.Pill))}function a7({addToImportMap:a,baseDir:b,config:c,importMap:d,imports:e}){if(a5({addToImportMap:a,baseDir:b,collections:c.collections,config:c,importMap:d,imports:e}),a6({addToImportMap:a,baseDir:b,config:c,globals:c.globals,importMap:d,imports:e}),c?.blocks){let f=Object.values(c.blocks);f?.length&&(0,a4.J)({addToImportMap:a,baseDir:b,config:c,fields:f,importMap:d,imports:e})}if("object"==typeof c.admin?.avatar&&a(c.admin?.avatar?.Component),a(c.admin?.components?.Nav),a(c.admin?.components?.header),a(c.admin?.components?.logout?.Button),a(c.admin?.components?.settingsMenu),a(c.admin?.components?.graphics?.Icon),a(c.admin?.components?.graphics?.Logo),a(c.admin?.components?.actions),a(c.admin?.components?.afterDashboard),a(c.admin?.components?.afterLogin),a(c.admin?.components?.afterNavLinks),a(c.admin?.components?.beforeDashboard),a(c.admin?.components?.beforeLogin),a(c.admin?.components?.beforeNavLinks),a(c.admin?.components?.providers),c.admin?.components?.views&&Object.keys(c.admin?.components?.views)?.length)for(let b in c.admin?.components?.views){let d=c.admin?.components?.views[b];a(d?.Component)}if(c.admin?.dashboard?.widgets?.length)for(let b of c.admin.dashboard.widgets)a(b.ComponentPath);if(c?.admin?.importMap?.generators?.length)for(let f of c.admin.importMap.generators)f({addToImportMap:a,baseDir:b,config:c,importMap:d,imports:e});if(c?.admin?.dependencies)for(let b of Object.values(c.admin.dependencies))a(b.path)}var a8=c(58754);function a9(a,b){let c=a.replace(/\\/g,"/"),d=b.replace(/\\/g,"/");if(c.startsWith("./")){let a=d.startsWith("./")?d.substring(2):d;return`${c}${a}`}return g.posix.join(c,d)}function ba({importMap:a,importMapToBaseDirPath:b,imports:c,payloadComponent:d}){if(!d)return null;let{exportName:f,path:g}=(0,a8.R)(d);if(a[g+"#"+f])return null;let h=f+"_"+e.createHash("md5").update(g).digest("hex");if(a[g+"#"+f]=h,!(g.startsWith(".")||g.startsWith("/")))return c[h]={path:g,specifier:f},{path:g,specifier:f};{let a=a9(b,g);return c[h]={path:a,specifier:f},{path:a,specifier:f}}}function bb({baseDir:a,importMapPath:b}){let c=g.dirname(b),d=g.relative(c,a).replace(/\\/g,"/");return d?d.startsWith(".")||d.startsWith("/")||(d=`./${d}`):d="./",d.endsWith("/")||(d+="/"),d}async function bc(a){try{return await a2.access(a),!0}catch{return!1}}async function bd({adminRoute:a="/admin",importMapFile:b,rootDir:c}){let d;if(b?.length){if(!await bc(b))try{await a2.writeFile(b,"",{flag:"wx"})}catch(a){return Error(`Could not find the import map file at ${b}${a instanceof Error&&a?.message?`: ${a.message}`:""}`)}d=b}else{let b=g.resolve(c,`app/(payload)${a}/`),e=g.resolve(c,`src/app/(payload)${a}/`);if(b&&await bc(b))d=g.resolve(b,"importMap.js"),await bc(d)||await a2.writeFile(d,"",{flag:"wx"});else{if(!(e&&await bc(e)))return Error(`Could not find Payload import map folder. Looked in ${b} and ${e}`);d=g.resolve(e,"importMap.js"),await bc(d)||await a2.writeFile(d,"",{flag:"wx"})}}return d}async function be(a,b){let c=b?.log??!0;c&&console.log("Generating import map");let d={},e={},f=a3.env.ROOT_DIR??a3.cwd(),g=a.admin.importMap.baseDir??a3.cwd(),h=await bd({adminRoute:a.routes.admin,importMapFile:a?.admin?.importMap?.importMapFile,rootDir:f});if(h instanceof Error)if(b?.ignoreResolveError)return;else throw h;let i=bb({baseDir:g,importMapPath:h});a7({addToImportMap:a=>{if(a){if("object"!=typeof a&&"string"!=typeof a)throw console.error(a),Error("addToImportMap > Payload component must be an object or a string");if(Array.isArray(a))for(let b of a)ba({importMap:d,importMapToBaseDirPath:i,imports:e,payloadComponent:b});else ba({importMap:d,importMapToBaseDirPath:i,imports:e,payloadComponent:a})}},baseDir:a.admin.importMap.baseDir,config:a,importMap:d,imports:e}),await bf({componentMap:d,force:b?.force,importMap:e,importMapFilePath:h,log:c})}async function bf({componentMap:a,force:b,importMap:c,importMapFilePath:d,log:e}){let f=[];for(let[a,{path:b,specifier:d}]of Object.entries(c))f.push(`import { ${d} as ${a} } from '${b}'`);let g=[];for(let[b,c]of Object.entries(a))g.push(`  "${b}": ${c}`);let h=`${f.join("\n")}

export const importMap = {
${g.join(",\n")}
}
`;if(!b){let a=await a2.readFile(d,"utf-8");if(a?.trim()===h?.trim()){e&&console.log("No new imports found, skipping writing import map");return}}e&&console.log("Writing import map to",d),await a2.writeFile(d,h)}var bg=c(35355);let bh=async a=>{let b=a;try{let a,c,{collection:{config:d},disableErrors:e,overrideAccess:f,req:g,where:h}=b=await (0,U.v)({args:b,collection:b.collection.config,operation:"countVersions"}),{locale:i,payload:j}=g;if(!f&&(a=await (0,K.m)({disableErrors:e,req:g},d.access.readVersions),!1===a))return{totalDocs:0};let k=(0,L.m)(h,a),l=(0,bg.c)(j.config,d,!0);return(0,N.D)({fields:l,payload:j,where:k}),await (0,M.d)({collectionConfig:d,overrideAccess:f,req:g,versionFields:l,where:h}),c=await j.db.countVersions({collection:d.slug,locale:i,req:g,where:k}),c=await (0,T.E)({args:b,collection:d,operation:"countVersions",result:c})}catch(a){throw await (0,S.J)(b.req),a}};async function bi(a,b){let{collection:c,disableErrors:d,overrideAccess:e=!0,where:f}=b,g=a.collections[c];if(!g)throw new h.L(`The collection with slug ${String(c)} can't be found. Count Versions Operation.`);return bh({collection:g,disableErrors:d,overrideAccess:e,req:await (0,i.M)(b,a),where:f})}let bj={defaultFromAddress:"info@payloadcms.com",defaultFromName:"Payload"},bk=a=>{let b;return"string"==typeof a.to?b=a.to:Array.isArray(a.to)?b=a.to.map(a=>"string"==typeof a?a:a.address?a.address:"").join(", "):a.to?.address&&(b=a.to.address),b},bl=({payload:a})=>({name:"console",defaultFromAddress:bj.defaultFromAddress,defaultFromName:bj.defaultFromName,sendEmail:async b=>{let c=bk(b),d=`Email attempted without being configured. To: '${c}', Subject: '${b.subject}'`;return a.logger.info({msg:d}),Promise.resolve()}});var bm=c(65540),bn=c(38807),bo=c(98198),bp=c(2861),bq=c(29404);let br=a=>({handleSchedules:async b=>{let c=b?.req??await (0,i.M)({},a);return await (0,bo.L6)({allQueues:b?.allQueues,queue:b?.queue,req:c})},queue:async b=>{let c,d=b?.overrideAccess!==!1,e=b.req??await (0,i.M)({},a);if(!d){let b=a.config.jobs?.access?.queue??(()=>!0);if(!await b({req:e}))throw new O.c(e.t)}if(b.queue)c=b.queue;else if(b.workflow){let d=a.config.jobs?.workflows?.find(({slug:a})=>a===b.workflow);d?.queue&&(c=d.queue)}let f={input:b.input};return(c&&(f.queue=c),b.waitUntil&&(f.waitUntil=b.waitUntil?.toISOString()),b.workflow&&(f.workflowSlug=b.workflow),b.task&&(f.taskSlug=b.task),b.meta&&(f.meta=b.meta),a?.config?.jobs?.depth||a?.config?.jobs?.runHooks)?await a.create({collection:bn.SJ,data:f,depth:a.config.jobs.depth??0,overrideAccess:d,req:e}):(0,bn.Sf)({config:a.config,doc:await a.db.create({collection:bn.SJ,data:f,req:e})})},run:async b=>{let c=b?.req??await (0,i.M)({},a);return await (0,bp.A)({allQueues:b?.allQueues,limit:b?.limit,overrideAccess:b?.overrideAccess!==!1,processingOrder:b?.processingOrder,queue:b?.queue,req:c,sequential:b?.sequential,silent:b?.silent,where:b?.where})},runByID:async b=>{let c=b.req??await (0,i.M)({},a);return await (0,bp.A)({id:b.id,overrideAccess:!1!==b.overrideAccess,req:c,silent:b.silent})},cancel:async b=>{let c=b.req??await (0,i.M)({},a);if(!1===b.overrideAccess){let b=a.config.jobs?.access?.cancel??(()=>!0);if(!await b({req:c}))throw new O.c(c.t)}let d=[b.where,{completedAt:{exists:!1}},{hasError:{not_equals:!0}}];b.queue&&d.push({queue:{equals:b.queue}}),await (0,bq.Y)({data:{completedAt:null,error:{cancelled:!0},hasError:!0,processing:!1,waitUntil:null},depth:0,disableTransaction:!0,req:c,returning:!1,where:{and:d}})},cancelByID:async b=>{let c=b.req??await (0,i.M)({},a);if(!1===b.overrideAccess){let b=a.config.jobs?.access?.cancel??(()=>!0);if(!await b({req:c}))throw new O.c(c.t)}await (0,bq.l)({id:b.id,data:{completedAt:null,error:{cancelled:!0},hasError:!0,processing:!1,waitUntil:null},depth:0,disableTransaction:!0,req:c,returning:!1})}});var bs=c(65679),bt=c(81218);function bu(){return"phase-production-build"===process.env.NEXT_PHASE||"build"===process.env.npm_lifecycle_event}var bv=c(1042),bw=c(44479);let bx={colorize:!0,ignore:"pid,hostname",translateTime:"SYS:HH:MM:ss"},by=(0,bw.build)({...bx,destination:1,sync:!0}),bz=(0,bw.build)(bx),bA=(a="payload",b)=>{if(!b)return(0,bv.pino)(bz);if("sync"===b)return(0,bv.pino)(by);if(!("options"in b))return b;{let{destination:c,options:d}=b;return d.name||(d.name=a),d.enabled||(d.enabled="true"!==process.env.DISABLE_LOGGING),(0,bv.pino)(d,c)}};var bB=c(33372);let bC=a=>{(0,bB.BI)({event:{type:"server-init"},payload:a})};var bD=c(39182);let bE=(0,f.fileURLToPath)("file:///home/node/app/node_modules/.pnpm/payload@3.69.0_graphql@16.10.0_typescript@5.7.3/node_modules/payload/dist/index.js"),bF=g.dirname(bE);class bG{auth=async a=>ay(this,a);authStrategies;blocks={};collections={};config;count=async a=>v(this,a);countGlobalVersions=async a=>ag(this,a);countVersions=async a=>bi(this,a);create=async a=>z(this,a);crons=[];db;decrypt=au;destroy=async()=>{if(this.crons.length){let a=this.crons.splice(0,this.crons.length);await Promise.all(a.map(a=>a.stop()))}this.db?.destroy&&"function"==typeof this.db.destroy&&await this.db.destroy()};duplicate=async a=>E(this,a);email;encrypt=at;extensions;find=async a=>G(this,a);findByID=async a=>I(this,a);findDistinct=async a=>W(this,a);findGlobal=async a=>ai(this,a);findGlobalVersionByID=async a=>ak(this,a);findGlobalVersions=async a=>am(this,a);findVersionByID=async a=>Y(this,a);findVersions=async a=>$(this,a);forgotPassword=async a=>k(this,a);getAdminURL=()=>(0,bt.Q)({adminRoute:this.config.routes.admin,path:"",serverURL:this.config.serverURL});getAPIURL=()=>(0,bt.Q)({apiRoute:this.config.routes.api,path:"",serverURL:this.config.serverURL});globals;importMap;jobs=br(this);kv;logger;login=async a=>m(this,a);resetPassword=async a=>p(this,a);restoreGlobalVersion=async a=>ao(this,a);restoreVersion=async a=>aa(this,a);schema;secret;sendEmail;types;unlock=async a=>r(this,a);updateGlobal=async a=>aq(this,a);validationRules;verifyEmail=async a=>t(this,a);versions={};async _initializeCrons(){if(this.config.jobs.enabled&&this.config.jobs.autoRun&&!bu()){let a="* * * * *",b=10,c="function"==typeof this.config.jobs.autoRun?await this.config.jobs.autoRun(this):this.config.jobs.autoRun;await Promise.all(c.map(c=>{let d=new ar.l4(c.cron??a,async()=>{if(bs.sO.shouldAutoSchedule&&!c.disableScheduling&&this.config.jobs.scheduling&&await this.jobs.handleSchedules({allQueues:c.allQueues,queue:c.queue}),bs.sO.shouldAutoRun){if("function"==typeof this.config.jobs.shouldAutoRun&&!await this.config.jobs.shouldAutoRun(this))return void d.stop();await this.jobs.run({allQueues:c.allQueues,limit:c.limit??b,queue:c.queue,silent:c.silent})}},{protect:!0});this.crons.push(d)}))}}async bin({args:a,cwd:b,log:c}){return new Promise((e,f)=>{let h=(0,d.spawn)("node",[g.resolve(bF,"../bin.js"),...a],{cwd:b,stdio:c||void 0===c?"inherit":"ignore"});h.on("exit",a=>{e({code:a})}),h.on("error",a=>{f(a)})})}delete(a){return C(this,a)}async init(a){if(this.importMap=a.importMap,!a?.config)throw Error("Error: the payload config is required to initialize payload.");if(this.config=await a.config,this.logger=bA("payload",this.config.logger),!this.config.secret)throw Error("Error: missing secret key. A secret key is needed to secure Payload.");for(let a of(this.secret=e.createHash("sha256").update(this.config.secret).digest("hex").slice(0,32),this.globals={config:this.config.globals},this.config.collections)){let b,c=({field:a})=>!!["array","blocks","group"].includes(a.type)||"tab"===a.type&&"name"in a||((0,bm.Z7)(a)&&"id"===a.name?(b=a.type,!0):void 0);(0,bD.m)({callback:c,config:this.config,fields:a.fields,parentIsLocalized:!1}),this.collections[a.slug]={config:a,customIDType:b}}if(this.blocks=this.config.blocks.reduce((a,b)=>(a[b.slug]=b,a),{}),this.db=this.config.db.init({payload:this}),this.db.payload=this,this.kv=this.config.kv.init({payload:this}),this.db?.init&&await this.db.init(),!a.disableDBConnect&&this.db.connect&&await this.db.connect(),this.config.email instanceof Promise){let a=await this.config.email;this.email=a({payload:this})}else this.config.email?this.email=this.config.email({payload:this}):("phase-production-build"!==process.env.NEXT_PHASE&&this.logger.warn("No email adapter provided. Email will be written to console. More info at https://payloadcms.com/docs/email/overview."),this.email=bl({payload:this}));if(!this.config.sharp&&this.config.collections.some(a=>a.upload.imageSizes||a.upload.formatOptions)&&this.logger.warn("Image resizing is enabled for one or more collections, but sharp not installed. Please install 'sharp' and pass into the config."),process.env.VERCEL){let a=this.config.collections.filter(a=>a.upload&&void 0===a.upload.adapter);if(a.length){let b=a.map(a=>a.slug).join(", ");this.logger.warn(`Collections with uploads enabled require a storage adapter when deploying to Vercel. Collection(s) without storage adapters: ${b}. See https://payloadcms.com/docs/upload/storage-adapters for more info.`)}}this.sendEmail=this.email.sendEmail,bC(this);let b=!1;this.authStrategies=this.config.collections.reduce((a,c)=>(c?.auth&&(c.auth.strategies.length>0&&a.push(...c.auth.strategies),c.auth?.useAPIKey&&a.push({name:`${c.slug}-api-key`,authenticate:az(c)}),c.auth.disableLocalStrategy||b||(b=!0)),a),[]),b&&this.authStrategies.push({name:"local-jwt",authenticate:a1});try{a.disableOnInit||("function"==typeof a.onInit&&await a.onInit(this),"function"==typeof this.config.onInit&&await this.config.onInit(this))}catch(a){throw this.logger.error({err:a},"Error running onInit function"),a}return a.cron&&await this._initializeCrons(),this}update(a){return ad(this,a)}}new bG;let bH=async(a,b,c,d)=>{"function"==typeof b.db.destroy&&await b.db.destroy(),b.config=a,b.collections=a.collections.reduce((a,c)=>(a[c.slug]={config:c,customIDType:b.collections[c.slug]?.customIDType},a),{}),b.blocks=a.blocks.reduce((a,b)=>(a[b.slug]=b,a),{}),b.globals={config:a.globals},!1!==a.typescript.autoGenerate&&b.bin({args:["generate:types"],log:!1}),!0!==c&&a.admin?.importMap?.autoGenerate!==!1&&await be(a,{ignoreResolveError:!0,log:!0}),b.db?.init&&await b.db.init(),!d?.disableDBConnect&&b.db.connect&&await b.db.connect({hotReload:!0}),global._payload_clientConfigs={},global._payload_schemaMap=null,global._payload_clientSchemaMap=null,global._payload_doNotCacheClientConfig=!0,global._payload_doNotCacheSchemaMap=!0,global._payload_doNotCacheClientSchemaMap=!0},bI=global._payload;bI||(bI=global._payload=new Map);let bJ=async a=>{if(!a?.config)throw Error("Error: the payload config is required for getPayload to work.");let b=!1,c=bI.get(a.key??"default");if(c?b=!0:(c={initializedCrons:!!a.cron,payload:null,promise:null,reload:!1,ws:null},bI.set(a.key??"default",c)),b&&(a.disableOnInit=!0),c.payload){if(a.cron&&!c.initializedCrons&&(c.initializedCrons=!0,await c.payload._initializeCrons()),!0===c.reload){let b;c.reload=new Promise(a=>b=a);let d=await a.config;await bH(d,c.payload,!1,a),b()}return c.reload instanceof Promise&&await c.reload,a?.importMap&&(c.payload.importMap=a.importMap),c.payload}try{c.promise||(c.promise=new bG().init(a)),c.payload=await c.promise,c.ws}catch(a){throw c.promise=null,a.payloadInitError=!0,a}return a?.importMap&&(c.payload.importMap=a.importMap),c.payload}},25443:(a,b,c)=>{"use strict";c.d(b,{t:()=>d});let d=({collectionConfig:a,sort:b})=>(b||(b=a.defaultSort?a.defaultSort:"-createdAt"),"string"==typeof b&&(b=[b]),b.map(a=>{let b,c="";return("-"===a[0]?(b=a.substring(1),c="-"):b=a,"id"===b)?`${c}parent`:`${c}version.${b}`}))},25679:(a,b,c)=>{"use strict";let{createDeferredPromise:d,environmentSettingsObject:e}=c(51074),{states:f,opcodes:g,sentCloseFrameState:h}=c(90406),{webidl:i}=c(81399),{getURLRecord:j,isValidSubprotocol:k,isEstablished:l,utf8Decode:m}=c(92803),{establishWebSocketConnection:o,failWebsocketConnection:p,closeWebSocketConnection:q}=c(44255),{types:r}=c(57975),{channels:s}=c(84372),{WebsocketFrameSend:t}=c(21438),{ByteParser:u}=c(81422),{WebSocketError:v,createUnvalidatedWebSocketError:w}=c(34037),{utf8DecodeBytes:x}=c(51074),{kEnumerableProperty:y}=c(81350),z=!1;class A{#N;#ad;#ae;#af;#ag;#ah;#ai=!1;#a={onConnectionEstablished:(a,b)=>this.#H(a,b),onFail:(a,b)=>{},onMessage:(a,b)=>this.#J(a,b),onParserError:a=>p(this.#a,null,a.message),onParserDrain:()=>this.#a.socket.resume(),onSocketData:a=>{this.#L.write(a)||this.#a.socket.pause()},onSocketError:a=>{this.#a.readyState=f.CLOSING,s.socketError.hasSubscribers&&s.socketError.publish(a),this.#a.socket.destroy()},onSocketClose:()=>this.#M(),readyState:f.CONNECTING,socket:null,closeState:new Set,controller:null,wasEverConnected:!1};#L;constructor(a,b){z||(process.emitWarning("WebSocketStream is experimental! Expect it to change at any time.",{code:"UNDICI-WSS"}),z=!0),i.argumentLengthCheck(arguments,1,"WebSocket"),a=i.converters.USVString(a),null!==b&&(b=i.converters.WebSocketStreamOptions(b));let c=j(a,e.settingsObject.baseUrl),g=b.protocols;if(g.length!==new Set(g.map(a=>a.toLowerCase())).size||g.length>0&&!g.every(a=>k(a)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(this.#N=c.toString(),this.#ad=d(),this.#ae=d(),null!=b.signal){let a=b.signal;if(a.aborted){this.#ad.reject(a.reason),this.#ae.reject(a.reason);return}a.addEventListener("abort",()=>{l(this.#a.readyState)||(p(this.#a),this.#a.readyState=f.CLOSING,this.#ad.reject(a.reason),this.#ae.reject(a.reason),this.#ai=!0)},{once:!0})}let h=e.settingsObject;this.#a.controller=o(c,g,h,this.#a,b)}get url(){return this.#N.toString()}get opened(){return this.#ad.promise}get closed(){return this.#ae.promise}close(a){null!==a&&(a=i.converters.WebSocketCloseInfo(a));let b=a.closeCode??null,c=a.reason;q(this.#a,b,c,!0)}#aj(a){let b=d(),c=null,e=null;if(ArrayBuffer.isView(a)||r.isArrayBuffer(a))c=new Uint8Array(ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):a),e=g.BINARY;else{let d;try{d=i.converters.DOMString(a)}catch(a){b.reject(a);return}c=new TextEncoder().encode(d),e=g.TEXT}if(!this.#a.closeState.has(h.SENT)&&!this.#a.closeState.has(h.RECEIVED)){let a=new t(c);this.#a.socket.write(a.createFrame(e),()=>{b.resolve(void 0)})}return b}#H(a,b){this.#a.socket=a.socket;let c=new u(this.#a,b);c.on("drain",()=>this.#a.onParserDrain()),c.on("error",a=>this.#a.onParserError(a)),this.#L=c,this.#a.readyState=f.OPEN;let d=b??"",e=a.headersList.get("sec-websocket-protocol")??"",g=new ReadableStream({start:a=>{this.#ag=a},pull(b){let c;for(;b.desiredSize>0&&null!==(c=a.socket.read());)b.enqueue(c)},cancel:a=>this.#ak(a)}),h=new WritableStream({write:a=>this.#aj(a),close:()=>q(this.#a,null,null),abort:a=>this.#al(a)});this.#af=g,this.#ah=h,this.#ad.resolve({extensions:d,protocol:e,readable:g,writable:h})}#J(a,b){let c;if(this.#a.readyState===f.OPEN){if(a===g.TEXT)try{c=m(b)}catch{p(this.#a,"Received invalid UTF-8 in text frame.");return}else a===g.BINARY&&(c=new Uint8Array(b.buffer,b.byteOffset,b.byteLength));this.#ag.enqueue(c)}}#M(){let a=this.#a.closeState.has(h.SENT)&&this.#a.closeState.has(h.RECEIVED);if(this.#a.readyState=f.CLOSED,this.#ai)return;this.#a.wasEverConnected||this.#ad.reject(new v("Socket never opened"));let b=this.#L.closingInfo,c=b?.code??1005;this.#a.closeState.has(h.SENT)||this.#a.closeState.has(h.RECEIVED)||(c=1006);let d=b?.reason==null?"":x(Buffer.from(b.reason));if(a)this.#af.cancel().catch(()=>{}),this.#ah.locked||this.#ah.abort(new DOMException("A closed WebSocketStream cannot be written to","InvalidStateError")),this.#ae.resolve({closeCode:c,reason:d});else{let a=w("unclean close",c,d);this.#ag.error(a),this.#ah.abort(a),this.#ae.reject(a)}}#al(a){let b=null,c="";i.is.WebSocketError(a)&&(b=a.closeCode,c=a.reason),q(this.#a,b,c)}#ak(a){this.#al(a)}}Object.defineProperties(A.prototype,{url:y,opened:y,closed:y,close:y,[Symbol.toStringTag]:{value:"WebSocketStream",writable:!1,enumerable:!1,configurable:!0}}),i.converters.WebSocketStreamOptions=i.dictionaryConverter([{key:"protocols",converter:i.sequenceConverter(i.converters.USVString),defaultValue:()=>[]},{key:"signal",converter:i.nullableConverter(i.converters.AbortSignal),defaultValue:()=>null}]),i.converters.WebSocketCloseInfo=i.dictionaryConverter([{key:"closeCode",converter:a=>i.converters["unsigned short"](a,{enforceRange:!0})},{key:"reason",converter:i.converters.USVString,defaultValue:()=>""}]),a.exports={WebSocketStream:A}},25812:(a,b,c)=>{"use strict";let d=c(27910).Transform,e=c(55511);class f extends d{constructor(a){super(),a=a||{},this.chunkBuffer=[],this.chunkBufferLen=0,this.bodyHash=e.createHash(a.hashAlgo||"sha1"),this.remainder="",this.byteLength=0,this.debug=a.debug,this._debugBody=!!a.debug&&[]}updateHash(a){let b,c="",d="file";for(let b=a.length-1;b>=0;b--){let e=a[b];if("file"===d&&(10===e||13===e));else if("file"===d&&(9===e||32===e))d="line";else if("line"===d&&(9===e||32===e));else if(("file"===d||"line"===d)&&(d="body",b===a.length-1))break;if(0===b){if("file"===d&&(!this.remainder||/[\r\n]$/.test(this.remainder))||"line"===d&&(!this.remainder||/[ \t]$/.test(this.remainder))){this.remainder+=a.toString("binary");return}else if("line"===d||"file"===d){c=a.toString("binary"),a=!1;break}}if("body"===d){c=a.slice(b+1).toString("binary"),a=a.slice(0,b+1);break}}let e=!!this.remainder;if(a&&!e){for(let b=0,c=a.length;b<c;b++)if(b&&10===a[b]&&13!==a[b-1]){e=!0;break}else if(b&&13===a[b]&&32===a[b-1]){e=!0;break}else if(b&&32===a[b]&&32===a[b-1]){e=!0;break}else if(9===a[b]){e=!0;break}}e?(b=this.remainder+(a?a.toString("binary"):""),this.remainder=c,b=b.replace(/\r?\n/g,"\n").replace(/[ \t]*$/gm,"").replace(/[ \t]+/gm," ").replace(/\n/g,"\r\n"),a=Buffer.from(b,"binary")):c&&(this.remainder=c),this.debug&&this._debugBody.push(a),this.bodyHash.update(a)}_transform(a,b,c){if(!a||!a.length)return c();"string"==typeof a&&(a=Buffer.from(a,b)),this.updateHash(a),this.byteLength+=a.length,this.push(a),c()}_flush(a){/[\r\n]$/.test(this.remainder)&&this.byteLength>2&&this.bodyHash.update(Buffer.from("\r\n")),this.byteLength||this.push(Buffer.from("\r\n")),this.emit("hash",this.bodyHash.digest("base64"),!!this.debug&&Buffer.concat(this._debugBody)),a()}}a.exports=f},25876:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c=Function.prototype.toString,d=Object.create,e=Object.prototype.toString,f=function(){function a(){this._keys=[],this._values=[]}return a.prototype.has=function(a){return!!~this._keys.indexOf(a)},a.prototype.get=function(a){return this._values[this._keys.indexOf(a)]},a.prototype.set=function(a,b){this._keys.push(a),this._values.push(b)},a}();function g(){return new f}function h(){return new WeakMap}var i="undefined"!=typeof WeakMap?h:g;function j(a){if(!a)return d(null);var b=a.constructor;if(b===Object)return a===Object.prototype?{}:d(a);if(b&&~c.call(b).indexOf("[native code]"))try{return new b}catch(a){}return d(a)}function k(a){var b="";return a.global&&(b+="g"),a.ignoreCase&&(b+="i"),a.multiline&&(b+="m"),a.unicode&&(b+="u"),a.sticky&&(b+="y"),b}function l(a){return a.flags}var m="g"===/test/g.flags?l:k;function o(a){var b=e.call(a);return b.substring(8,b.length-1)}function p(a){return a[Symbol.toStringTag]||o(a)}var q="undefined"!=typeof Symbol?p:o,r=Object.defineProperty,s=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,v=Object.prototype,w=v.hasOwnProperty,x=v.propertyIsEnumerable,y="function"==typeof u;function z(a){return t(a).concat(u(a))}var A=y?z:t;function B(a,b,c){for(var d=A(a),e=0,f=d.length,g=void 0,h=void 0;e<f;++e)if("callee"!==(g=d[e])&&"caller"!==g){if(h=s(a,g),!h){b[g]=c.copier(a[g],c);continue}h.get||h.set||(h.value=c.copier(h.value,c));try{r(b,g,h)}catch(a){b[g]=h.value}}return b}function C(a,b){return a.slice(0)}function D(a,b){return new b.Constructor(C(a.buffer))}function E(a,b){var c=new b.Constructor;return b.cache.set(a,c),a.forEach(function(a,d){c.set(d,b.copier(a,b))}),c}function F(a,b){return B(a,E(a,b),b)}function G(a,b){var c=j(b.prototype);for(var d in b.cache.set(a,c),a)w.call(a,d)&&(c[d]=b.copier(a[d],b));return c}function H(a,b){var c=j(b.prototype);for(var d in b.cache.set(a,c),a)w.call(a,d)&&(c[d]=b.copier(a[d],b));for(var e=u(a),f=0,g=e.length,h=void 0;f<g;++f)h=e[f],x.call(a,h)&&(c[h]=b.copier(a[h],b));return c}function I(a,b){return new b.Constructor(a.valueOf())}function J(a,b){return a}function K(a,b){var c=new b.Constructor;return b.cache.set(a,c),a.forEach(function(a){c.add(b.copier(a,b))}),c}function L(a,b){return B(a,K(a,b),b)}var M=Array.isArray,N=Object.assign,O=Object.getPrototypeOf||function(a){return a.__proto__},P={array:function(a,b){var c=new b.Constructor;b.cache.set(a,c);for(var d=0,e=a.length;d<e;++d)c[d]=b.copier(a[d],b);return c},arrayBuffer:C,blob:function(a,b){return a.slice(0,a.size,a.type)},dataView:D,date:function(a,b){return new b.Constructor(a.getTime())},error:J,map:E,object:y?H:G,regExp:function(a,b){var c=new b.Constructor(a.source,m(a));return c.lastIndex=a.lastIndex,c},set:K},Q=N({},P,{array:function(a,b){var c=new b.Constructor;return b.cache.set(a,c),B(a,c,b)},map:F,object:function(a,b){var c=j(b.prototype);return b.cache.set(a,c),B(a,c,b)},set:L});function R(a){return{Arguments:a.object,Array:a.array,ArrayBuffer:a.arrayBuffer,Blob:a.blob,Boolean:I,DataView:a.dataView,Date:a.date,Error:a.error,Float32Array:a.arrayBuffer,Float64Array:a.arrayBuffer,Int8Array:a.arrayBuffer,Int16Array:a.arrayBuffer,Int32Array:a.arrayBuffer,Map:a.map,Number:I,Object:a.object,Promise:J,RegExp:a.regExp,Set:a.set,String:I,WeakMap:J,WeakSet:J,Uint8Array:a.arrayBuffer,Uint8ClampedArray:a.arrayBuffer,Uint16Array:a.arrayBuffer,Uint32Array:a.arrayBuffer,Uint64Array:a.arrayBuffer}}function S(a){var b=R(N({},P,a)),c=b.Array,d=b.Object;function e(a,e){if(e.prototype=e.Constructor=void 0,!a||"object"!=typeof a)return a;if(e.cache.has(a))return e.cache.get(a);if(e.prototype=O(a),e.Constructor=e.prototype&&e.prototype.constructor,!e.Constructor||e.Constructor===Object)return d(a,e);if(M(a))return c(a,e);var f=b[q(a)];return f?f(a,e):"function"==typeof a.then?a:d(a,e)}return function(a){return e(a,{Constructor:void 0,cache:i(),copier:e,prototype:void 0})}}function T(a){return S(N({},Q,a))}var U=T({}),V=S({});b.copyStrict=U,b.createCopier=S,b.createStrictCopier=T,b.default=V},25915:a=>{"use strict";a.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},26089:a=>{"use strict";let b,c=0,d=1e3,e=499,f=Symbol("kFastTimer"),g=[],h=-2,i=-1,j=0,k=1;function l(){c+=e;let a=0,b=g.length;for(;a<b;){let d=g[a];d._state===j?(d._idleStart=c-e,d._state=k):d._state===k&&c>=d._idleStart+d._idleTimeout&&(d._state=i,d._idleStart=-1,d._onTimeout(d._timerArg)),d._state===i?(d._state=h,0!=--b&&(g[a]=g[b])):++a}g.length=b,0!==g.length&&m()}function m(){b?b.refresh():(clearTimeout(b),(b=setTimeout(l,e)).unref&&b.unref())}class o{[f]=!0;_state=h;_idleTimeout=-1;_idleStart=-1;_onTimeout;_timerArg;constructor(a,b,c){this._onTimeout=a,this._idleTimeout=b,this._timerArg=c,this.refresh()}refresh(){this._state===h&&g.push(this),b&&1!==g.length||m(),this._state=j}clear(){this._state=i,this._idleStart=-1}}a.exports={setTimeout:(a,b,c)=>b<=d?setTimeout(a,b,c):new o(a,b,c),clearTimeout(a){a[f]?a.clear():clearTimeout(a)},setFastTimeout:(a,b,c)=>new o(a,b,c),clearFastTimeout(a){a.clear()},now:()=>c,tick(a=0){c+=a-d+1,l(),l()},reset(){c=0,g.length=0,clearTimeout(b),b=null},kFastTimer:f}},26119:(a,b,c)=>{"use strict";c.d(b,{zh:()=>d});let d={dateFNSKey:"zh-CN",translations:{authentication:{account:"",accountOfCurrentUser:"",accountVerified:"",alreadyActivated:"",alreadyLoggedIn:"",apiKey:"API ",authenticated:"",backToLogin:"",beginCreateFirstUser:"",changePassword:"",checkYourEmailForPasswordReset:"",confirmGeneration:"",confirmPassword:"",createFirstUser:"",emailNotValid:"",emailOrUsername:"",emailSent:"",emailVerified:"",enableAPIKey:" API ",failedToUnlock:"",forceUnlock:"",forgotPassword:"",forgotPasswordEmailInstructions:"",forgotPasswordQuestion:"",forgotPasswordUsernameInstructions:"",generate:"",generateNewAPIKey:" API ",generatingNewAPIKeyWillInvalidate:" API <1></1>",lockUntil:"",logBackIn:"",loggedIn:"<0></0>",loggedInChangePassword:"<0></0>",loggedOutInactivity:"",loggedOutSuccessfully:"",loggingOut:"...",login:"",loginAttempts:"",loginUser:"",loginWithAnotherUser:"<0></0>",logOut:"",logout:"",logoutSuccessful:"",logoutUser:"",newAccountCreated:' <a href="{{serverURL}}">{{serverURL}}</a>  : <a href="{{verificationURL}}">{{verificationURL}}</a><br> ',newAPIKeyGenerated:" API ",newPassword:"",passed:"",passwordResetSuccessfully:"",resetPassword:"",resetPasswordExpiration:"",resetPasswordToken:"",resetYourPassword:"",stayLoggedIn:"",successfullyRegisteredFirstUser:"",successfullyUnlocked:"",tokenRefreshSuccessful:"",unableToVerify:"",username:"",usernameNotValid:"",verified:"",verifiedSuccessfully:"",verify:"",verifyUser:"",verifyYourEmail:"",youAreInactive:"",youAreReceivingResetPassword:"",youDidNotRequestPassword:""},dashboard:{addWidget:"",deleteWidget:" {{id}}",searchWidgets:"..."},error:{accountAlreadyActivated:"",autosaving:"",correctInvalidFields:"",deletingFile:"",deletingTitle:"{{title}}",documentNotFound:" ID  {{id}} ",emailOrPasswordIncorrect:"",followingFieldsInvalid_one:"",followingFieldsInvalid_other:"",incorrectCollection:"",insufficientClipboardPermissions:"",invalidClipboardData:"",invalidFileType:"",invalidFileTypeValue:" {{value}}",invalidRequestArgs:"{{args}}",loadingDocument:" ID  {{id}} ",localesNotSaved_one:"",localesNotSaved_other:"",logoutFailed:"",missingEmail:"",missingIDOfDocument:" ID ",missingIDOfVersion:" ID",missingRequiredData:"",noFilesUploaded:"",noMatchedField:"{{label}}",notAllowedToAccessPage:"",notAllowedToPerformAction:"",notFound:"",noUser:"",previewing:"",problemUploadingFile:"",restoringTitle:" {{title}} ",tokenInvalidOrExpired:"",tokenNotProvided:"",unableToCopy:"",unableToDeleteCount:" {{total}}  {{label}}  {{count}} ",unableToReindexCollection:" {{collection}} ",unableToUpdateCount:" {{total}}  {{label}}  {{count}} ",unauthorized:"",unauthorizedAdmin:"",unknown:"",unPublishingDocument:"",unspecific:"",unverifiedEmail:"",userEmailAlreadyRegistered:"",userLocked:"",usernameAlreadyRegistered:"",usernameOrPasswordIncorrect:"",valueMustBeUnique:"",verificationTokenInvalid:""},fields:{addLabel:" {{label}}",addLink:"",addNew:"",addNewLabel:" {{label}}",addRelationship:"",addUpload:"",block:"",blocks:"",blockType:"",chooseBetweenCustomTextOrDocument:" URL ",chooseDocumentToLink:"",chooseFromExisting:"",chooseLabel:" {{label}}",collapseAll:"",customURL:" URL",editLabelData:" {{label}} ",editLink:"",editRelationship:"",enterURL:" URL",internalLink:"",itemsAndMore:"{{items}}  {{count}} ",labelRelationship:"{{label}} ",latitude:"",linkedTo:" <0>{{label}}</0>",linkType:"",longitude:"",newLabel:" {{label}}",openInNewTab:"",passwordsDoNotMatch:"",relatedDocument:"",relationTo:"",removeRelationship:"",removeUpload:"",saveChanges:"",searchForBlock:"",searchForLanguage:"",selectExistingLabel:" {{label}}",selectFieldsToEdit:"",showAll:"",swapRelationship:"",swapUpload:"",textToDisplay:"",toggleBlock:"",uploadNewLabel:" {{label}}"},folder:{browseByFolder:"",byFolder:"",deleteFolder:"",folderName:"",folders:"",folderTypeDescription:"",itemHasBeenMoved:"{{title}}  {{folderName}}",itemHasBeenMovedToRoot:"{{title}} ",itemsMovedToFolder:"{{title}}  {{folderName}}",itemsMovedToRoot:"{{title}} ",moveFolder:"",moveItemsToFolderConfirmation:" <1>{{count}} {{label}}</1>  <2>{{toFolder}}</2>",moveItemsToRootConfirmation:" <1>{{count}} {{label}}</1> ",moveItemToFolderConfirmation:" <1>{{title}}</1>  <2>{{toFolder}}</2>",moveItemToRootConfirmation:" <1>{{title}}</1> ",movingFromFolder:" {{fromFolder}}  {{title}}",newFolder:"",noFolder:"",renameFolder:"",searchByNameInFolder:" {{folderName}} ",selectFolderForItem:" {{title}} "},general:{name:"",aboutToDelete:" {{label}} <1>{{title}}</1>",aboutToDeleteCount_many:" {{count}}  {{label}}",aboutToDeleteCount_one:" {{count}}  {{label}}",aboutToDeleteCount_other:" {{count}}  {{label}}",aboutToPermanentlyDelete:" {{label}} <1>{{title}}</1>",aboutToPermanentlyDeleteTrash:" <0>{{count}}</0>  <1>{{label}}</1>",aboutToRestore:" {{label}} <1>{{title}}</1>",aboutToRestoreAsDraft:" {{label}} <1>{{title}}</1> ",aboutToRestoreAsDraftCount:" {{count}}  {{label}} ",aboutToRestoreCount:" {{count}}  {{label}}",aboutToTrash:" {{label}} <1>{{title}}</1> ",aboutToTrashCount:" {{count}}  {{label}} ",addBelow:"",addFilter:"",adminTheme:"",all:"",allCollections:"",allLocales:"",and:"",anotherUser:"",anotherUserTakenOver:"",applyChanges:"",ascending:"",automatic:"",backToDashboard:"",cancel:"",changesNotSaved:"",clear:"",clearAll:"",close:"",collapse:"",collections:"",columns:"",columnToSort:"",confirm:"",confirmCopy:"",confirmDeletion:"",confirmDuplication:"",confirmMove:"",confirmReindex:" {{collections}}",confirmReindexAll:"",confirmReindexDescription:" {{collections}} ",confirmReindexDescriptionAll:"",confirmRestoration:"",copied:"",copy:"",copyField:"",copying:"",copyRow:"",copyWarning:" {{from}}  {{label}} {{title}}  {{to}}",create:"",created:"",createdAt:"",createNew:"",createNewLabel:" {{label}}",creating:"",creatingNewLabel:" {{label}}",currentlyEditing:"",custom:"",dark:"",dashboard:"",delete:"",deleted:"",deletedAt:"",deletedCountSuccessfully:" {{count}}  {{label}}",deletedSuccessfully:"",deleteLabel:" {{label}}",deletePermanently:"",deleting:"...",depth:"",descending:"",deselectAllRows:"",document:"",documentIsTrashed:" {{label}} ",documentLocked:"",documents:"",duplicate:"",duplicateWithoutSaving:"()",edit:"",editAll:"",editedSince:"",editing:"",editingLabel_many:" {{count}} {{label}}",editingLabel_one:" {{count}} {{label}}",editingLabel_other:" {{count}} {{label}}",editingTakenOver:"",editLabel:" {{label}}",email:"",emailAddress:"",emptyTrash:"",emptyTrashLabel:" {{label}} ",enterAValue:"",error:"",errors:"",exitLivePreview:"",export:"",fallbackToDefaultLocale:"",false:"",filter:"",filters:"",filterWhere:" {{label}}",globals:"",goBack:"",groupByLabel:" {{label}} ",import:"",isEditing:"",item:"",items:"",language:"",lastModified:"",leaveAnyway:"",leaveWithoutSaving:"",light:"",livePreview:"",loading:"",locale:"",locales:"",lock:"",menu:"",moreOptions:"",move:"",moveConfirm:" {{count}}  {{label}}  <1>{{destination}}</1>",moveCount:" {{count}}  {{label}}",moveDown:"",moveUp:"",moving:"",movingCount:" {{count}} {{label}}",newLabel:" {{label}}",newPassword:"",next:"",no:"",noDateSelected:"",noFiltersSet:"",noLabel:"< {{label}}>",none:"",noOptions:"",noResults:" {{label}}{{label}} ",notFound:"",nothingFound:"",noTrashResults:" {{label}}",noUpcomingEventsScheduled:"",noValue:"",of:"",only:"",open:"",or:"",order:"",overwriteExistingData:"",pageNotFound:"",password:"",pasteField:"",pasteRow:"",payloadSettings:"Payload ",permanentlyDelete:"",permanentlyDeletedCountSuccessfully:" {{count}}  {{label}}",perPage:": {{limit}}",previous:"",reindex:"",reindexingAll:" {{collections}}",remove:"",rename:"",reset:"",resetPreferences:"",resetPreferencesDescription:"",resettingPreferences:"",restore:"",restoreAsPublished:"",restoredCountSuccessfully:" {{count}}  {{label}}",restoring:"...",row:"",rows:"",save:"",saving:"...",schedulePublishFor:" {{title}} ",searchBy:" {{label}}",select:"",selectAll:" {{count}}  {{label}}",selectAllRows:"",selectedCount:" {{count}}  {{label}}",selectLabel:" {{label}}",selectValue:"",showAllLabel:" {{label}}",sorryNotFound:"",sort:"",sortByLabelDirection:" {{label}} {{direction}} ",stayOnThisPage:"",submissionSuccessful:"",submit:"",submitting:"...",success:"",successfullyCreated:" {{label}}",successfullyDuplicated:" {{label}}",successfullyReindexed:" {{count}}  {{collections}}  {{total}}  {{skips}} ",takeOver:"",thisLanguage:" ()",time:"",timezone:"",titleDeleted:"{{label}}{{title}}",titleRestored:"{{label}}{{title}}",titleTrashed:"{{label}}{{title}}",trash:"",trashedCountSuccessfully:"{{count}} {{label}} ",true:"",unauthorized:"",unlock:"",unsavedChanges:"",unsavedChangesDuplicate:"",untitled:"",upcomingEvents:"",updatedAt:"",updatedCountSuccessfully:" {{count}} {{label}}",updatedLabelSuccessfully:" {{label}}",updatedSuccessfully:"",updateForEveryone:"",updating:"",uploading:"",uploadingBulk:" {{current}} / {{total}}",user:"",username:"",users:"",value:"",viewing:"",viewReadOnly:"",welcome:"",yes:""},localization:{cannotCopySameLocale:"",copyFrom:"",copyFromTo:" {{from}}  {{to}}",copyTo:"",copyToLocale:"",localeToPublish:"",selectedLocales:"",selectLocaleToCopy:"",selectLocaleToDuplicate:""},operators:{contains:"",equals:"",exists:"",intersects:"",isGreaterThan:"",isGreaterThanOrEqualTo:"",isIn:"...",isLessThan:"",isLessThanOrEqualTo:"",isLike:"",isNotEqualTo:"",isNotIn:"...",isNotLike:"",near:"...",within:"..."},upload:{addFile:"",addFiles:"",bulkUpload:"",crop:"",cropToolDescription:"",download:"",dragAndDrop:"",dragAndDropHere:"",editImage:"",fileName:"",fileSize:"",filesToUpload:"",fileToUpload:"",focalPoint:"",focalPointDescription:"",height:"",lessInfo:"",moreInfo:"",noFile:"",pasteURL:"",previewSizes:"",selectCollectionToBrowse:"",selectFile:"",setCropArea:"",setFocalPoint:"",sizes:"",sizesFor:"{{label}} ",width:""},validation:{emailAddress:"",enterNumber:"",fieldHasNo:" {{label}}",greaterThanMax:"{{value}}  {{label}} {{max}}",invalidBlock:'"{{block}}"',invalidBlocks:"{{blocks}}",invalidInput:"",invalidSelection:"",invalidSelections:"",latitudeOutOfBounds:"-9090",lessThanMin:"{{value}}  {{label}} {{min}}",limitReached:" {{max}} ",longerThanMin:" {{minLength}} ",longitudeOutOfBounds:"-180180",notValidDate:"{{value}}",required:"",requiresAtLeast:" {{count}}  {{label}}",requiresNoMoreThan:" {{count}}  {{label}}",requiresTwoNumbers:"",shorterThanMax:" {{maxLength}} ",timezoneRequired:"",trueOrFalse:'""""',username:"",validUploadID:" ID"},version:{type:"",aboutToPublishSelection:" {{label}} ",aboutToRestore:" {{label}}  {{versionDate}} ",aboutToRestoreGlobal:" {{label}}  {{versionDate}} ",aboutToRevertToPublished:"",aboutToUnpublish:"",aboutToUnpublishSelection:" {{label}} ",autosave:"",autosavedSuccessfully:"",autosavedVersion:"",changed:"",changedFieldsCount_one:"{{count}} ",changedFieldsCount_other:"{{count}} ",compareVersion:"",compareVersions:"",comparingAgainst:"",confirmPublish:"",confirmRevertToSaved:"",confirmUnpublish:"",confirmVersionRestoration:"",currentDocumentStatus:" {{docStatus}} ",currentDraft:"",currentlyPublished:"",currentlyViewing:"",currentPublishedVersion:"",draft:"",draftHasPublishedVersion:"",draftSavedSuccessfully:"",lastSavedAgo:" {{distance}} ",modifiedOnly:"",moreVersions:"...",noFurtherVersionsFound:"",noLabelGroup:"",noRowsFound:" {{label}}",noRowsSelected:" {{label}}",preview:"",previouslyDraft:"",previouslyPublished:"",previousVersion:"",problemRestoringVersion:"",publish:"",publishAllLocales:"",publishChanges:"",published:"",publishIn:" {{locale}} ",publishing:"",restoreAsDraft:"",restoredSuccessfully:"",restoreThisVersion:"",restoring:"...",reverting:"...",revertToPublished:"",saveDraft:"",scheduledSuccessfully:"",schedulePublish:"",selectLocales:"",selectVersionToCompare:"",showingVersionsFor:"",showLocales:"",specificVersion:"",status:"",unpublish:"",unpublishing:"...",version:"",versionAgo:"{{distance}} ",versionCount_many:" {{count}} ",versionCount_none:"",versionCount_one:" {{count}} ",versionCount_other:" {{count}} ",versionID:" ID",versions:"",viewingVersion:" {{entityLabel}} {{documentTitle}} ",viewingVersionGlobal:" {{entityLabel}} ",viewingVersions:" {{entityLabel}} {{documentTitle}} ",viewingVersionsGlobal:" {{entityLabel}} "}}}},26182:(a,b,c)=>{"use strict";c.d(b,{G:()=>d});let d=(a,b)=>{if(a.id&&Array.isArray(b)){let c=b.find(b=>"object"==typeof b&&"id"in b&&b.id===a.id&&b);if(c)return c}return{}}},26258:(a,b,c)=>{"use strict";let{wellknownHeaderNames:d,headerNameLowerCasedRecord:e}=c(46221);class f{value=null;left=null;middle=null;right=null;code;constructor(a,b,c){if(void 0===c||c>=a.length)throw TypeError("Unreachable");if((this.code=a.charCodeAt(c))>127)throw TypeError("key must be ascii string");a.length!==++c?this.middle=new f(a,b,c):this.value=b}add(a,b){let c=a.length;if(0===c)throw TypeError("Unreachable");let d=0,e=this;for(;;){let g=a.charCodeAt(d);if(g>127)throw TypeError("key must be ascii string");if(e.code===g)if(c===++d){e.value=b;break}else if(null!==e.middle)e=e.middle;else{e.middle=new f(a,b,d);break}else if(e.code<g)if(null!==e.left)e=e.left;else{e.left=new f(a,b,d);break}else if(null!==e.right)e=e.right;else{e.right=new f(a,b,d);break}}}search(a){let b=a.length,c=0,d=this;for(;null!==d&&c<b;){let e=a[c];for(e<=90&&e>=65&&(e|=32);null!==d;){if(e===d.code){if(b===++c)return d;d=d.middle;break}d=d.code<e?d.left:d.right}}return null}}class g{node=null;insert(a,b){null===this.node?this.node=new f(a,b,0):this.node.add(a,b)}lookup(a){return this.node?.search(a)?.value??null}}let h=new g;for(let a=0;a<d.length;++a){let b=e[d[a]];h.insert(b,b)}a.exports={TernarySearchTree:g,tree:h}},26390:(a,b,c)=>{"use strict";c.d(b,{A:()=>f,R:()=>g});var d=c(77598),e=c(57975);let f=d.webcrypto,g=a=>e.types.isCryptoKey(a)},26582:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateUnion=b.validateArray=b.usePattern=b.callValidateCode=b.schemaProperties=b.allSchemaProperties=b.noPropertyInData=b.propertyInData=b.isOwnProperty=b.hasPropFunc=b.reportMissingProp=b.checkMissingProp=b.checkReportMissingProp=void 0;let d=c(47934),e=c(34414),f=c(10004),g=c(34414);function h(a){return a.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,d._)`Object.prototype.hasOwnProperty`})}function i(a,b,c){return(0,d._)`${h(a)}.call(${b}, ${c})`}function j(a,b,c,e){let f=(0,d._)`${b}${(0,d.getProperty)(c)} === undefined`;return e?(0,d.or)(f,(0,d.not)(i(a,b,c))):f}function k(a){return a?Object.keys(a).filter(a=>"__proto__"!==a):[]}b.checkReportMissingProp=function(a,b){let{gen:c,data:e,it:f}=a;c.if(j(c,e,b,f.opts.ownProperties),()=>{a.setParams({missingProperty:(0,d._)`${b}`},!0),a.error()})},b.checkMissingProp=function({gen:a,data:b,it:{opts:c}},e,f){return(0,d.or)(...e.map(e=>(0,d.and)(j(a,b,e,c.ownProperties),(0,d._)`${f} = ${e}`)))},b.reportMissingProp=function(a,b){a.setParams({missingProperty:b},!0),a.error()},b.hasPropFunc=h,b.isOwnProperty=i,b.propertyInData=function(a,b,c,e){let f=(0,d._)`${b}${(0,d.getProperty)(c)} !== undefined`;return e?(0,d._)`${f} && ${i(a,b,c)}`:f},b.noPropertyInData=j,b.allSchemaProperties=k,b.schemaProperties=function(a,b){return k(b).filter(c=>!(0,e.alwaysValidSchema)(a,b[c]))},b.callValidateCode=function({schemaCode:a,data:b,it:{gen:c,topSchemaRef:e,schemaPath:g,errorPath:h},it:i},j,k,l){let m=l?(0,d._)`${a}, ${b}, ${e}${g}`:b,o=[[f.default.instancePath,(0,d.strConcat)(f.default.instancePath,h)],[f.default.parentData,i.parentData],[f.default.parentDataProperty,i.parentDataProperty],[f.default.rootData,f.default.rootData]];i.opts.dynamicRef&&o.push([f.default.dynamicAnchors,f.default.dynamicAnchors]);let p=(0,d._)`${m}, ${c.object(...o)}`;return k!==d.nil?(0,d._)`${j}.call(${k}, ${p})`:(0,d._)`${j}(${p})`};let l=(0,d._)`new RegExp`;b.usePattern=function({gen:a,it:{opts:b}},c){let e=b.unicodeRegExp?"u":"",{regExp:f}=b.code,h=f(c,e);return a.scopeValue("pattern",{key:h.toString(),ref:h,code:(0,d._)`${"new RegExp"===f.code?l:(0,g.useFunc)(a,f)}(${c}, ${e})`})},b.validateArray=function(a){let{gen:b,data:c,keyword:f,it:g}=a,h=b.name("valid");if(g.allErrors){let a=b.let("valid",!0);return i(()=>b.assign(a,!1)),a}return b.var(h,!0),i(()=>b.break()),h;function i(g){let i=b.const("len",(0,d._)`${c}.length`);b.forRange("i",0,i,c=>{a.subschema({keyword:f,dataProp:c,dataPropType:e.Type.Num},h),b.if((0,d.not)(h),g)})}},b.validateUnion=function(a){let{gen:b,schema:c,keyword:f,it:g}=a;if(!Array.isArray(c))throw Error("ajv implementation error");if(c.some(a=>(0,e.alwaysValidSchema)(g,a))&&!g.opts.unevaluated)return;let h=b.let("valid",!1),i=b.name("_valid");b.block(()=>c.forEach((c,e)=>{let g=a.subschema({keyword:f,schemaProp:e,compositeRule:!0},i);b.assign(h,(0,d._)`${h} || ${i}`),a.mergeValidEvaluated(g,i)||b.if((0,d.not)(h))})),a.result(h,()=>a.reset(),()=>a.error(!0))}},26631:(a,b,c)=>{"use strict";let d=c(91513);class e extends d{constructor(a={}){super(a)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(a){this.date.setMinutes(parseInt(a.substr(-2)))}toString(){let a=this.date.getMinutes();return this.token.length>1?String(a).padStart(2,"0"):a}}a.exports=e},26708:(a,b,c)=>{"use strict";let d=c(80427),e=c(25812),f=c(91611),g=c(27910).PassThrough,h=c(29021),i=c(33873),j=c(55511),k="sha256",l=2097152;class m{constructor(a,b,c,d){this.options=a||{},this.keys=b,this.cacheTreshold=Number(this.options.cacheTreshold)||l,this.hashAlgo=this.options.hashAlgo||k,this.cacheDir=this.options.cacheDir||!1,this.chunks=[],this.chunklen=0,this.readPos=0,this.cachePath=!!this.cacheDir&&i.join(this.cacheDir,"message."+Date.now()+"-"+j.randomBytes(14).toString("hex")),this.cache=!1,this.headers=!1,this.bodyHash=!1,this.parser=!1,this.relaxedBody=!1,this.input=c,this.output=d,this.output.usingCache=!1,this.hasErrored=!1,this.input.on("error",a=>{this.hasErrored=!0,this.cleanup(),d.emit("error",a)})}cleanup(){this.cache&&this.cachePath&&h.unlink(this.cachePath,()=>!1)}createReadCache(){this.cache=h.createReadStream(this.cachePath),this.cache.once("error",a=>{this.cleanup(),this.output.emit("error",a)}),this.cache.once("close",()=>{this.cleanup()}),this.cache.pipe(this.output)}sendNextChunk(){if(this.hasErrored)return;if(this.readPos>=this.chunks.length)return this.cache?this.createReadCache():this.output.end();let a=this.chunks[this.readPos++];if(!1===this.output.write(a))return this.output.once("drain",()=>{this.sendNextChunk()});setImmediate(()=>this.sendNextChunk())}sendSignedOutput(){let a=0,b=()=>{if(a>=this.keys.length)return this.output.write(this.parser.rawHeaders),setImmediate(()=>this.sendNextChunk());let c=this.keys[a++],d=f(this.headers,this.hashAlgo,this.bodyHash,{domainName:c.domainName,keySelector:c.keySelector,privateKey:c.privateKey,headerFieldNames:this.options.headerFieldNames,skipFields:this.options.skipFields});return d&&this.output.write(Buffer.from(d+"\r\n")),setImmediate(b)};if(this.bodyHash&&this.headers)return b();this.output.write(this.parser.rawHeaders),this.sendNextChunk()}createWriteCache(){this.output.usingCache=!0,this.cache=h.createWriteStream(this.cachePath),this.cache.once("error",a=>{this.cleanup(),this.relaxedBody.unpipe(this.cache),this.relaxedBody.on("readable",()=>{for(;null!==this.relaxedBody.read(););}),this.hasErrored=!0,this.output.emit("error",a)}),this.cache.once("close",()=>{this.sendSignedOutput()}),this.relaxedBody.removeAllListeners("readable"),this.relaxedBody.pipe(this.cache)}signStream(){this.parser=new d,this.relaxedBody=new e({hashAlgo:this.hashAlgo}),this.parser.on("headers",a=>{this.headers=a}),this.relaxedBody.on("hash",a=>{this.bodyHash=a}),this.relaxedBody.on("readable",()=>{let a;if(!this.cache){for(;null!==(a=this.relaxedBody.read());)if(this.chunks.push(a),this.chunklen+=a.length,this.chunklen>=this.cacheTreshold&&this.cachePath)return this.createWriteCache()}}),this.relaxedBody.on("end",()=>{this.cache||this.sendSignedOutput()}),this.parser.pipe(this.relaxedBody),setImmediate(()=>this.input.pipe(this.parser))}}class o{constructor(a){this.options=a||{},this.keys=[].concat(this.options.keys||{domainName:a.domainName,keySelector:a.keySelector,privateKey:a.privateKey})}sign(a,b){let c=new g,d=a,e=!1;Buffer.isBuffer(a)?(e=a,d=new g):"string"==typeof a&&(e=Buffer.from(a),d=new g);let f=this.options;b&&Object.keys(b).length&&(f={},Object.keys(this.options||{}).forEach(a=>{f[a]=this.options[a]}),Object.keys(b||{}).forEach(a=>{a in f||(f[a]=b[a])}));let h=new m(f,this.keys,d,c);return setImmediate(()=>{h.signStream(),e&&setImmediate(()=>{d.end(e)})}),c}}a.exports=o},26743:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.renderTable=b.printTable=b.Table=void 0,b.Table=d(c(72827)).default;let e=c(92309);Object.defineProperty(b,"printTable",{enumerable:!0,get:function(){return e.printSimpleTable}}),Object.defineProperty(b,"renderTable",{enumerable:!0,get:function(){return e.renderSimpleTable}})},26749:(a,b,c)=>{"use strict";let d=c(34589),e=c(984);a.exports=class{#a;#am=!1;#an=!1;#ao=!1;constructor(a){if("object"!=typeof a||null===a)throw TypeError("handler must be an object");this.#a=e.wrap(a)}onRequestStart(...a){this.#a.onRequestStart?.(...a)}onRequestUpgrade(...a){return d(!this.#am),d(!this.#an),this.#a.onRequestUpgrade?.(...a)}onResponseStart(...a){return d(!this.#am),d(!this.#an),d(!this.#ao),this.#ao=!0,this.#a.onResponseStart?.(...a)}onResponseData(...a){return d(!this.#am),d(!this.#an),this.#a.onResponseData?.(...a)}onResponseEnd(...a){return d(!this.#am),d(!this.#an),this.#am=!0,this.#a.onResponseEnd?.(...a)}onResponseError(...a){return this.#an=!0,this.#a.onResponseError?.(...a)}onBodySent(){}}},26982:a=>{"use strict";let b=Symbol("kDone"),c=Symbol("kRun");class d{constructor(a){this[b]=()=>{this.pending--,this[c]()},this.concurrency=a||1/0,this.jobs=[],this.pending=0}add(a){this.jobs.push(a),this[c]()}[c](){if(this.pending!==this.concurrency&&this.jobs.length){let a=this.jobs.shift();this.pending++,a(this[b])}}}a.exports=d},26986:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(47934);b.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:b}){let c="maxItems"===a?"more":"fewer";return(0,d.str)`must NOT have ${c} than ${b} items`},params:({schemaCode:a})=>(0,d._)`{limit: ${a}}`},code(a){let{keyword:b,data:c,schemaCode:e}=a,f="maxItems"===b?d.operators.GT:d.operators.LT;a.fail$data((0,d._)`${c}.length ${f} ${e}`)}}},27092:(a,b,c)=>{var d=c(94337),e=c(91099),f=c(73334),g=c(69710);b.getTypeParser=j,b.setTypeParser=k,b.arrayParser=f,b.builtins=g;var h={text:{},binary:{}};function i(a){return String(a)}function j(a,b){return h[b=b||"text"]&&h[b][a]||i}function k(a,b,c){"function"==typeof b&&(c=b,b="text"),h[b][a]=c}d.init(function(a,b){h.text[a]=b}),e.init(function(a,b){h.binary[a]=b})},27356:(a,b,c)=>{"use strict";c.d(b,{$:()=>h});let d=a=>"string"==typeof a&&a.length>0?a.split(",").map(a=>a.trim()):[],e=a=>`AWS_BEARER_TOKEN_${a.replace(/[\s-]/g,"_").toUpperCase()}`,f="AWS_AUTH_SCHEME_PREFERENCE",g="auth_scheme_preference",h={environmentVariableSelector:(a,b)=>b?.signingName&&e(b.signingName)in a?["httpBearerAuth"]:f in a?d(a[f]):void 0,configFileSelector:a=>{if(g in a)return d(a[g])},default:[]}},27362:(a,b,c)=>{"use strict";c.d(b,{W:()=>d});let d=(a,b)=>{try{let c=new URL(a);return b.some(a=>Object.entries(a).every(([a,b])=>{if(!b)return!0;if("protocol"===a)return"string"==typeof b&&c.protocol===`${b}:`;if("pathname"===a){let a=b.replace(/\*\*/g,".*").replace(/\*/g,"[^/]*").replace(/\/$/,"(/)?");return RegExp(`^${a}$`).test(c.pathname)}return c[a]===b}))}catch{return!1}}},27528:(a,b,c)=>{"use strict";let d=c(27910).Transform;class e extends d{constructor(a){super(a),this.options=a||{}}_transform(a,b,c){let d,e=0;for(let b=0,c=a.length;b<c;b++)13===a[b]&&(d=a.slice(e,b),e=b+1,this.push(d));e&&e<a.length?(d=a.slice(e),this.push(d)):e||this.push(a),c()}}a.exports=e},27552:(a,b,c)=>{"use strict";let d=c(94735),e=c(30124),f=c(49026),g=c(37327),h=c(6190);class i extends d{constructor(a){super(),a=a||{},this.options=a||{},this.ses=this.options.SES,this.name="SESTransport",this.version=e.version,this.logger=f.getLogger(this.options,{component:this.options.component||"ses-transport"})}getRegion(a){return this.ses.sesClient.config&&"function"==typeof this.ses.sesClient.config.region?this.ses.sesClient.config.region().then(b=>a(null,b)).catch(b=>a(b)):a(null,!1)}send(a,b){let c={ts:Date.now(),pending:!0},d=a.message._headers.find(a=>/^from$/i.test(a.key));if(d){let a=new h("text/plain");d=a._convertAddresses(a._parseAddresses(d.value))}let e=a.data.envelope||a.message.getEnvelope(),f=a.message.messageId(),i=[].concat(e.to||[]);i.length>3&&i.push("...and "+i.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:f},"Sending message %s to <%s>",f,i.join(", "));let j=b=>{a.data._dkim||(a.data._dkim={}),a.data._dkim.skipFields&&"string"==typeof a.data._dkim.skipFields?a.data._dkim.skipFields+=":date:message-id":a.data._dkim.skipFields="date:message-id";let c=a.message.createReadStream(),d=c.pipe(new g),e=[],f=0;d.on("readable",()=>{let a;for(;null!==(a=d.read());)e.push(a),f+=a.length}),c.once("error",a=>d.emit("error",a)),d.once("error",a=>{b(a)}),d.once("end",()=>b(null,Buffer.concat(e,f)))};setImmediate(()=>j((g,h)=>{if(g)return this.logger.error({err:g,tnx:"send",messageId:f},"Failed creating message for %s. %s",f,g.message),c.pending=!1,b(g);let i={Content:{Raw:{Data:h}},FromEmailAddress:d||e.from,Destination:{ToAddresses:e.to}};Object.keys(a.data.ses||{}).forEach(b=>{i[b]=a.data.ses[b]}),this.getRegion((a,d)=>{(a||!d)&&(d="us-east-1");let g=new this.ses.SendEmailCommand(i);this.ses.sesClient.send(g).then(a=>{"us-east-1"===d&&(d="email"),c.pending=!0,b(null,{envelope:{from:e.from,to:e.to},messageId:"<"+a.MessageId+(/@/.test(a.MessageId)?"":"@"+d+".amazonses.com")+">",response:a.MessageId,raw:h})}).catch(a=>{this.logger.error({err:a,tnx:"send"},"Send error for %s: %s",f,a.message),c.pending=!1,b(a)})})}))}verify(a){let b;a||(b=new Promise((b,c)=>{a=f.callbackPromise(b,c)}));let c=b=>b&&!["InvalidParameterValue","MessageRejected"].includes(b.code||b.Code||b.name)?a(b):a(null,!0),d={Content:{Raw:{Data:Buffer.from("From: <invalid@invalid>\r\nTo: <invalid@invalid>\r\n Subject: Invalid\r\n\r\nInvalid")}},FromEmailAddress:"invalid@invalid",Destination:{ToAddresses:["invalid@invalid"]}};return this.getRegion((a,b)=>{(a||!b)&&(b="us-east-1");let e=new this.ses.SendEmailCommand(d);this.ses.sesClient.send(e).then(a=>c(null,a)).catch(a=>c(a))}),b}}a.exports=i},27574:(a,b)=>{"use strict";b.parse=function(a,b){return new c(a,b).parse()};class c{constructor(a,b){this.source=a,this.transform=b||d,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var a=this.source[this.position++];return"\\"===a?{value:this.source[this.position++],escaped:!0}:{value:a,escaped:!1}}record(a){this.recorded.push(a)}newEntry(a){var b;(this.recorded.length>0||a)&&("NULL"!==(b=this.recorded.join(""))||a||(b=null),null!==b&&(b=this.transform(b)),this.entries.push(b),this.recorded=[])}consumeDimensions(){if("["===this.source[0])for(;!this.isEof()&&"="!==this.nextCharacter().value;);}parse(a){var b,d,e;for(this.consumeDimensions();!this.isEof();)if("{"!==(b=this.nextCharacter()).value||e){if("}"!==b.value||e)'"'!==b.value||b.escaped?","!==b.value||e?this.record(b.value):this.newEntry():(e&&this.newEntry(!0),e=!e);else if(this.dimension--,!this.dimension&&(this.newEntry(),a))return this.entries}else this.dimension++,this.dimension>1&&(d=new c(this.source.substr(this.position-1),this.transform),this.entries.push(d.parse(!0)),this.position+=d.position-2);if(0!==this.dimension)throw Error("array dimension not balanced");return this.entries}}function d(a){return a}},27761:a=>{"use strict";let b=["GET","HEAD","POST"],c=new Set(b),d=[101,204,205,304],e=[301,302,303,307,308],f=new Set(e),g=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","4190","5060","5061","6000","6566","6665","6666","6667","6668","6669","6679","6697","10080"],h=new Set(g),i=["no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],j=["",...i],k=new Set(i),l=["follow","manual","error"],m=["GET","HEAD","OPTIONS","TRACE"],o=new Set(m),p=["navigate","same-origin","no-cors","cors"],q=["omit","same-origin","include"],r=["default","no-store","reload","no-cache","force-cache","only-if-cached"],s=["content-encoding","content-language","content-location","content-type","content-length"],t=["half"],u=["CONNECT","TRACE","TRACK"],v=new Set(u),w=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],x=new Set(w);a.exports={subresource:w,forbiddenMethods:u,requestBodyHeader:s,referrerPolicy:j,requestRedirect:l,requestMode:p,requestCredentials:q,requestCache:r,redirectStatus:e,corsSafeListedMethods:b,nullBodyStatus:d,safeMethods:m,badPorts:g,requestDuplex:t,subresourceSet:x,badPortsSet:h,redirectStatusSet:f,corsSafeListedMethodsSet:c,safeMethodsSet:o,forbiddenMethodsSet:v,referrerPolicyTokens:k}},27782:a=>{a.exports=g,g.default=g,g.stable=k,g.stableStringify=k;var b="[...]",c="[Circular]",d=[],e=[];function f(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function g(a,b,c,g){void 0===g&&(g=f()),i(a,"",0,[],void 0,0,g);try{h=0===e.length?JSON.stringify(a,b,c):JSON.stringify(a,m(b),c)}catch(a){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==d.length;){var h,j=d.pop();4===j.length?Object.defineProperty(j[0],j[1],j[3]):j[0][j[1]]=j[2]}}return h}function h(a,b,c,f){var g=Object.getOwnPropertyDescriptor(f,c);void 0!==g.get?g.configurable?(Object.defineProperty(f,c,{value:a}),d.push([f,c,b,g])):e.push([b,c,a]):(f[c]=a,d.push([f,c,b]))}function i(a,d,e,f,g,j,k){if(j+=1,"object"==typeof a&&null!==a){for(l=0;l<f.length;l++)if(f[l]===a)return void h(c,a,d,g);if(void 0!==k.depthLimit&&j>k.depthLimit||void 0!==k.edgesLimit&&e+1>k.edgesLimit)return void h(b,a,d,g);if(f.push(a),Array.isArray(a))for(l=0;l<a.length;l++)i(a[l],l,l,f,a,j,k);else{var l,m=Object.keys(a);for(l=0;l<m.length;l++){var o=m[l];i(a[o],o,l,f,a,j,k)}}f.pop()}}function j(a,b){return a<b?-1:+(a>b)}function k(a,b,c,g){void 0===g&&(g=f());var h,i=l(a,"",0,[],void 0,0,g)||a;try{h=0===e.length?JSON.stringify(i,b,c):JSON.stringify(i,m(b),c)}catch(a){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==d.length;){var j=d.pop();4===j.length?Object.defineProperty(j[0],j[1],j[3]):j[0][j[1]]=j[2]}}return h}function l(a,e,f,g,i,k,m){if(k+=1,"object"==typeof a&&null!==a){for(o=0;o<g.length;o++)if(g[o]===a)return void h(c,a,e,i);try{if("function"==typeof a.toJSON)return}catch(a){return}if(void 0!==m.depthLimit&&k>m.depthLimit||void 0!==m.edgesLimit&&f+1>m.edgesLimit)return void h(b,a,e,i);if(g.push(a),Array.isArray(a))for(o=0;o<a.length;o++)l(a[o],o,o,g,a,k,m);else{var o,p={},q=Object.keys(a).sort(j);for(o=0;o<q.length;o++){var r=q[o];l(a[r],r,o,g,a,k,m),p[r]=a[r]}if(void 0===i)return p;d.push([i,e,a]),i[e]=p}g.pop()}}function m(a){return a=void 0!==a?a:function(a,b){return b},function(b,c){if(e.length>0)for(var d=0;d<e.length;d++){var f=e[d];if(f[1]===b&&f[0]===c){c=f[2],e.splice(d,1);break}}return a.call(this,b,c)}}},28207:(a,b,c)=>{"use strict";c.d(b,{bN:()=>o});var d=c(37830),e=c(51455),f=c(6901),g=c(43420),h=c(77127);class i extends g.G{constructor(a,b){super(b),this.fileHandle=a}async readBuffer(a,b){let c=this.normalizeOptions(a,b);if(this.position=c.position,0===c.length)return 0;let d=await this.fileHandle.read(a,c.offset,c.length,c.position);if(this.position+=d.bytesRead,d.bytesRead<c.length&&(!b||!b.mayBeLess))throw new h.d1;return d.bytesRead}async peekBuffer(a,b){let c=this.normalizeOptions(a,b),d=await this.fileHandle.read(a,c.offset,c.length,c.position);if(!c.mayBeLess&&d.bytesRead<c.length)throw new h.d1;return d.bytesRead}async close(){return await this.fileHandle.close(),super.close()}}async function j(a){let b=await (0,e.open)(a,"r"),c=await b.stat();return new i(b,{fileInfo:{path:a,size:c.size}})}async function k(a,b){let c=b??{};if(c.fileInfo=c.fileInfo??{},a.path){let b=await (0,e.stat)(a.path);c.fileInfo.path=a.path,c.fileInfo.size=b.size}return(0,f.n7)(a,c)}var l=c(49556);class m extends l.U1{async fromStream(a){let b=await (a instanceof d.ReadableStream?f.Xx(a):k(a));try{return super.fromTokenizer(b)}finally{await b.close()}}async fromFile(a){let b=await j(a);try{return await super.fromTokenizer(b)}finally{await b.close()}}async toDetectionStream(a,b={}){let{default:d}=await Promise.resolve().then(c.t.bind(c,57075,19)),{sampleSize:e=l.rB}=b;return new Promise((b,c)=>{a.on("error",c),a.once("readable",()=>{(async()=>{try{let g=new d.PassThrough,h=d.pipeline?d.pipeline(a,g,()=>{}):a.pipe(g),i=a.read(e)??a.read()??new Uint8Array(0);try{g.fileType=await this.fromBuffer(i)}catch(a){a instanceof f.d1?g.fileType=void 0:c(a)}b(h)}catch(a){c(a)}})()})})}}async function o(a,b){return new m(b).fromFile(a,b)}},28322:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(47934),e=c(34414),f=c(56965);b.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,d._)`{allowedValues: ${a}}`},code(a){let b,c,{gen:g,data:h,$data:i,schema:j,schemaCode:k,it:l}=a;if(!i&&0===j.length)throw Error("enum must have non-empty array");let m=j.length>=l.opts.loopEnum,o=()=>null!=b?b:b=(0,e.useFunc)(g,f.default);if(m||i)c=g.let("valid"),a.block$data(c,p);else{if(!Array.isArray(j))throw Error("ajv implementation error");let a=g.const("vSchema",k);c=(0,d.or)(...j.map((b,c)=>q(a,c)))}function p(){g.assign(c,!1),g.forOf("v",k,a=>g.if((0,d._)`${o()}(${h}, ${a})`,()=>g.assign(c,!0).break()))}function q(a,b){let c=j[b];return"object"==typeof c&&null!==c?(0,d._)`${o()}(${h}, ${a}[${b}])`:(0,d._)`${h} === ${c}`}a.pass(c)}}},28327:(a,b,c)=>{"use strict";a.exports=e;let d=c(47599);function e({log:a,context:b}){let{colorizer:c,customLevels:e,customLevelNames:f,levelKey:g,getLevelLabelData:h}=b,i=b.customPrettifiers?.level,j=d(a,g);if(void 0===j)return;let k=c(j,{customLevels:e,customLevelNames:f});if(i){let[b]=h(j);return i(j,g,a,{label:b,labelColorized:k,colors:c.colors})}return k}},28362:(a,b,c)=>{"use strict";c.d(b,{k:()=>A});var d=c(20674),e=c(23329);let f="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",g="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",h="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",i="(\\d?\\d)",j="(\\d{4})",k=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),l=RegExp(`^${f}, ${i} ${g} ${j} ${h} GMT$`),m=RegExp(`^${f}, ${i}-${g}-(\\d\\d) ${h} GMT$`),o=RegExp(`^${f} ${g} ( [1-9]|\\d\\d) ${h} ${j}$`),p=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],q=a=>{if(null==a)return;let b=NaN;if("number"==typeof a)b=a;else if("string"==typeof a){if(!/^-?\d*\.?\d+$/.test(a))throw TypeError("parseEpochTimestamp - numeric string invalid.");b=Number.parseFloat(a)}else"object"==typeof a&&1===a.tag&&(b=a.value);if(isNaN(b)||Math.abs(b)===1/0)throw TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(1e3*b))},r=a=>{if(null==a)return;if("string"!=typeof a)throw TypeError("RFC3339 timestamps must be strings");let b=k.exec(a);if(!b)throw TypeError(`Invalid RFC3339 timestamp format ${a}`);let[,c,d,e,f,g,h,,i,j]=b;t(d,1,12),t(e,1,31),t(f,0,23),t(g,0,59),t(h,0,60);let l=new Date(Date.UTC(Number(c),Number(d)-1,Number(e),Number(f),Number(g),Number(h),Number(i)?Math.round(1e3*parseFloat(`0.${i}`)):0));if(l.setUTCFullYear(Number(c)),"Z"!=j.toUpperCase()){let[,a,b,c]=/([+-])(\d\d):(\d\d)/.exec(j)||[void 0,"+",0,0],d="-"===a?1:-1;l.setTime(l.getTime()+d*(60*Number(b)*6e4+60*Number(c)*1e3))}return l},s=a=>{let b,c,d,e,f,g,h,i;if(null!=a){if("string"!=typeof a)throw TypeError("RFC7231 timestamps must be strings.");if((i=l.exec(a))?[,b,c,d,e,f,g,h]=i:(i=m.exec(a))?([,b,c,d,e,f,g,h]=i,d=(Number(d)+1900).toString()):(i=o.exec(a))&&([,c,b,e,f,g,h,d]=i),d&&g){let a=Date.UTC(Number(d),p.indexOf(c),Number(b),Number(e),Number(f),Number(g),h?Math.round(1e3*parseFloat(`0.${h}`)):0);t(b,1,31),t(e,0,23),t(f,0,59),t(g,0,60);let i=new Date(a);return i.setUTCFullYear(Number(d)),i}throw TypeError(`Invalid RFC7231 date-time value ${a}.`)}};function t(a,b,c){let d=Number(a);if(d<b||d>c)throw Error(`Value ${d} out of range [${b}, ${c}]`)}var u=c(14840),v=c(67557),w=c(46734),x=c(38756),y=c(32151),z=c(75981);class A extends y.f{settings;constructor(a){super(),this.settings=a}read(a,b){let c=d.l.of(a);if(c.isListSchema())return(0,e.G)(b).map(a=>this.read(c.getValueSchema(),a));if(c.isBlobSchema())return(this.serdeContext?.base64Decoder??w.E)(b);if(c.isTimestampSchema())switch((0,z.V)(c,this.settings)){case 5:return r(b);case 6:return s(b);case 7:return q(b);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",b),new Date(b)}if(c.isStringSchema()){let a=c.getMergedTraits().mediaType,d=b;if(a)return c.getMergedTraits().httpHeader&&(d=this.base64ToUtf8(d)),("application/json"===a||a.endsWith("+json"))&&(d=u.A.from(d)),d}return c.isNumericSchema()?Number(b):c.isBigIntegerSchema()?BigInt(b):c.isBigDecimalSchema()?new v.D(b,"bigDecimal"):c.isBooleanSchema()?"true"===String(b).toLowerCase():b}base64ToUtf8(a){return(this.serdeContext?.utf8Encoder??x.P)((this.serdeContext?.base64Decoder??w.E)(a))}}},28455:a=>{"use strict";a.exports=(a,b,c)=>{c=c||b;let d=Math.min(b-c,a-Math.floor(c/2));d<0&&(d=0);let e=Math.min(d+c,b);return{startIndex:d,endIndex:e}}},28854:(a,b,c)=>{"use strict";let d=c(91513);class e extends d{constructor(a={}){super(a)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let a=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?a.toUpperCase():a}}a.exports=e},28984:(a,b,c)=>{"use strict";c.d(b,{D:()=>g});var d=c(7282),e=c(24401),f=c(70404);class g extends f.L{constructor(a){super(a?a("error:unauthorized"):d.en.translations.error.unauthorized,e.h.UNAUTHORIZED)}}},29006:(a,b,c)=>{"use strict";c.d(b,{A:()=>l});var d=c(77598),e=c.n(d);let f={randomUUID:e().randomUUID},g=new Uint8Array(256),h=g.length;function i(){return h>g.length-16&&(e().randomFillSync(g),h=0),g.slice(h,h+=16)}let j=[];for(let a=0;a<256;++a)j.push((a+256).toString(16).slice(1));function k(a,b=0){return(j[a[b+0]]+j[a[b+1]]+j[a[b+2]]+j[a[b+3]]+"-"+j[a[b+4]]+j[a[b+5]]+"-"+j[a[b+6]]+j[a[b+7]]+"-"+j[a[b+8]]+j[a[b+9]]+"-"+j[a[b+10]]+j[a[b+11]]+j[a[b+12]]+j[a[b+13]]+j[a[b+14]]+j[a[b+15]]).toLowerCase()}let l=function(a,b,c){if(f.randomUUID&&!b&&!a)return f.randomUUID();let d=(a=a||{}).random||(a.rng||i)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,b){c=c||0;for(let a=0;a<16;++a)b[c+a]=d[a];return b}return k(d)}},29351:(a,b,c)=>{"use strict";c.d(b,{D:()=>g,b:()=>e});var d=c(86159);let e=void 0;function f(a){return void 0===a||"string"==typeof a&&a.length<=50}function g(a){let b=(0,d.t)(a.userAgentAppId??e),{customUserAgent:c}=a;return Object.assign(a,{customUserAgent:"string"==typeof c?[[c]]:c,userAgentAppId:async()=>{let c=await b();if(!f(c)){let b=a.logger?.constructor?.name!=="NoOpLogger"&&a.logger?a.logger:console;"string"!=typeof c?b?.warn("userAgentAppId must be a string or undefined."):c.length>50&&b?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return c}})}},29404:(a,b,c)=>{"use strict";c.d(b,{Y:()=>f,l:()=>e});var d=c(38807);async function e(a){let b=await f(a);if(b)return b[0]}async function f({id:a,data:b,depth:c,disableTransaction:e,limit:f,req:g,returning:h,sort:i,where:j}){let k=a?1:f,l=a?{id:{equals:a}}:j;if(c||g.payload.config?.jobs?.runHooks){let f=await g.payload.update({id:a,collection:d.SJ,data:b,depth:c,disableTransaction:e,limit:k,req:g,where:l});return!1!==h&&f?f.docs:null}let m={transactionID:"mongoose"!==g.payload.db.name?await g.payload.db.beginTransaction():void 0};void 0===b.updatedAt&&(b.updatedAt=new Date().toISOString());let o=a?{id:a,data:b,req:m,returning:h}:{data:b,limit:k,req:m,returning:h,sort:i,where:l},p=await g.payload.db.updateJobs(o);return("mongoose"!==g.payload.db.name&&m.transactionID&&await g.payload.db.commitTransaction(m.transactionID),!1!==h&&p?.length)?p.map(a=>(0,d.Sf)({config:g.payload.config,doc:a})):null}},29523:(a,b,c)=>{"use strict";c.d(b,{A:()=>h});var d=c(55599),e=c(54031);let f=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,g=["__proto__","profile __proto__"],h=a=>{let b,c,h={};for(let i of a.split(/\r?\n/)){let a=i.split(/(^|\s)[;#]/)[0].trim();if("["===a[0]&&"]"===a[a.length-1]){b=void 0,c=void 0;let h=a.substring(1,a.length-1),i=f.exec(h);if(i){let[,a,,c]=i;Object.values(d.I).includes(a)&&(b=[a,c].join(e.Q))}else b=h;if(g.includes(h))throw Error(`Found invalid profile name "${h}"`)}else if(b){let d=a.indexOf("=");if(![0,-1].includes(d)){let[f,g]=[a.substring(0,d).trim(),a.substring(d+1).trim()];if(""===g)c=f;else{c&&i.trimStart()===i&&(c=void 0),h[b]=h[b]||{};let a=c?[c,f].join(e.Q):f;h[b][a]=g}}}}return h}},29641:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(78006),e=c(79605),f=c(84225),g=c(58865),h=c(8388),i=c(91316),j=c(69930),k=c(32449),l=c(70276),m=c(98290),o=c(16628),p=c(69890),q=c(23104),r=c(70631),s=c(44698),t=c(64955);b.default=function(a=!1){let b=[o.default,p.default,q.default,r.default,s.default,t.default,j.default,k.default,i.default,l.default,m.default];return a?b.push(e.default,g.default):b.push(d.default,f.default),b.push(h.default),b}},29831:(a,b,c)=>{var d,e=c(44538),f=c(50561);try{d=c(29021)}catch(a){}var g=function(){},h=/^v?\.0/.test(process.version),i=function(a){return"function"==typeof a},j=function(a){return!!h&&!!d&&(a instanceof(d.ReadStream||g)||a instanceof(d.WriteStream||g))&&i(a.close)},k=function(a){return a.setHeader&&i(a.abort)},l=function(a,b,c,d){d=e(d);var h=!1;a.on("close",function(){h=!0}),f(a,{readable:b,writable:c},function(a){if(a)return d(a);h=!0,d()});var l=!1;return function(b){if(!h&&!l){if(l=!0,j(a))return a.close(g);if(k(a))return a.abort();if(i(a.destroy))return a.destroy();d(b||Error("stream was destroyed"))}}},m=function(a){a()},o=function(a,b){return a.pipe(b)};a.exports=function(){var a,b=Array.prototype.slice.call(arguments),c=i(b[b.length-1]||g)&&b.pop()||g;if(Array.isArray(b[0])&&(b=b[0]),b.length<2)throw Error("pump requires two streams per minimum");var d=b.map(function(e,f){var g=f<b.length-1;return l(e,g,f>0,function(b){a||(a=b),b&&d.forEach(m),g||(d.forEach(m),c(a))})});return b.reduce(o)}},30097:(a,b,c)=>{"use strict";c.d(b,{y:()=>e});var d=c(38807);let e=async({id:a,slug:b,payload:c,req:e})=>{try{await c.db.deleteMany({collection:d.SJ,req:e,where:{and:[{completedAt:{exists:!1}},{processing:{equals:!1}},{"input.doc.value":{equals:a}},{"input.doc.relationTo":{equals:b}},{taskSlug:{equals:"schedulePublish"}}]}})}catch(d){c.logger.error({err:d,msg:`There was an error deleting scheduled publish jobs from the queue for ${b} document with ID ${a}.`})}}},30124:a=>{"use strict";a.exports=JSON.parse('{"name":"nodemailer","version":"7.0.9","description":"Easy as cake e-mail sending from your Node.js applications","main":"lib/nodemailer.js","scripts":{"test":"node --test --test-concurrency=1 test/**/*.test.js test/**/*-test.js","test:coverage":"c8 node --test --test-concurrency=1 test/**/*.test.js test/**/*-test.js","format":"prettier --write \\"**/*.{js,json,md}\\"","format:check":"prettier --check \\"**/*.{js,json,md}\\"","lint":"eslint .","lint:fix":"eslint . --fix","update":"rm -rf node_modules/ package-lock.json && ncu -u && npm install"},"repository":{"type":"git","url":"https://github.com/nodemailer/nodemailer.git"},"keywords":["Nodemailer"],"author":"Andris Reinman","license":"MIT-0","bugs":{"url":"https://github.com/nodemailer/nodemailer/issues"},"homepage":"https://nodemailer.com/","devDependencies":{"@aws-sdk/client-sesv2":"3.901.0","bunyan":"1.8.15","c8":"10.1.3","eslint":"^9.37.0","eslint-config-prettier":"^10.1.8","globals":"^16.4.0","libbase64":"1.3.0","libmime":"5.3.7","libqp":"2.1.1","nodemailer-ntlm-auth":"1.0.4","prettier":"^3.6.2","proxy":"1.0.2","proxy-test-server":"1.0.0","smtp-server":"3.14.0"},"engines":{"node":">=6.0.0"}}')},30301:(a,b,c)=>{"use strict";let d=c(94735).EventEmitter,e=function(){},f=(a,b)=>{let c=a.findIndex(b);return -1===c?void 0:a.splice(c,1)[0]};class g{constructor(a,b,c){this.client=a,this.idleListener=b,this.timeoutId=c}}class h{constructor(a){this.callback=a}}function i(){throw Error("Release called on client which has already been released to the pool.")}function j(a,b){let c,d;return b?{callback:b,result:void 0}:{callback:function(a,b){a?c(a):d(b)},result:new a(function(a,b){d=a,c=b}).catch(a=>{throw Error.captureStackTrace(a),a})}}function k(a,b){return function c(d){d.client=b,b.removeListener("error",c),b.on("error",()=>{a.log("additional client error after disconnection due to error",d)}),a._remove(b),a.emit("error",d,b)}}class l extends d{constructor(a,b){super(),this.options=Object.assign({},a),null!=a&&"password"in a&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:a.password}),null!=a&&a.ssl&&a.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.min=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||b||c(40092).Client,this.Promise=this.options.Promise||global.Promise,void 0===this.options.idleTimeoutMillis&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){return this._clients.length>this.options.min}_pulseQueue(){if(this.log("pulse queue"),this.ended)return void this.log("pulse queue ended");if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(a=>{this._remove(a.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length)return void this.log("no queued requests");if(!this._idle.length&&this._isFull())return;let a=this._pendingQueue.shift();if(this._idle.length){let b=this._idle.pop();clearTimeout(b.timeoutId);let c=b.client;c.ref&&c.ref();let d=b.idleListener;return this._acquireClient(c,a,d,!1)}if(!this._isFull())return this.newClient(a);throw Error("unexpected condition")}_remove(a,b){let c=f(this._idle,b=>b.client===a);void 0!==c&&clearTimeout(c.timeoutId),this._clients=this._clients.filter(b=>b!==a);let d=this;a.end(()=>{d.emit("remove",a),"function"==typeof b&&b()})}connect(a){if(this.ending){let b=Error("Cannot use a pool after calling end on the pool");return a?a(b):this.Promise.reject(b)}let b=j(this.Promise,a),c=b.result;if(this._isFull()||this._idle.length){if(this._idle.length&&process.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new h(b.callback)),c;let a=(a,c,d)=>{clearTimeout(e),b.callback(a,c,d)},d=new h(a),e=setTimeout(()=>{f(this._pendingQueue,b=>b.callback===a),d.timedOut=!0,b.callback(Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return e.unref&&e.unref(),this._pendingQueue.push(d),c}return this.newClient(new h(b.callback)),c}newClient(a){let b,c=new this.Client(this.options);this._clients.push(c);let d=k(this,c);this.log("checking client timeout");let f=!1;this.options.connectionTimeoutMillis&&(b=setTimeout(()=>{this.log("ending client due to timeout"),f=!0,c.connection?c.connection.stream.destroy():c.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),c.connect(g=>{if(b&&clearTimeout(b),c.on("error",d),g)this.log("client failed to connect",g),this._clients=this._clients.filter(a=>a!==c),f&&(g=Error("Connection terminated due to connection timeout",{cause:g})),this._pulseQueue(),a.timedOut||a.callback(g,void 0,e);else{if(this.log("new client connected"),0!==this.options.maxLifetimeSeconds){let a=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(c),-1!==this._idle.findIndex(a=>a.client===c)&&this._acquireClient(c,new h((a,b,c)=>c()),d,!1)},1e3*this.options.maxLifetimeSeconds);a.unref(),c.once("end",()=>clearTimeout(a))}return this._acquireClient(c,a,d,!0)}})}_acquireClient(a,b,c,d){d&&this.emit("connect",a),this.emit("acquire",a),a.release=this._releaseOnce(a,c),a.removeListener("error",c),b.timedOut?d&&this.options.verify?this.options.verify(a,a.release):a.release():d&&this.options.verify?this.options.verify(a,c=>{if(c)return a.release(c),b.callback(c,void 0,e);b.callback(void 0,a,a.release)}):b.callback(void 0,a,a.release)}_releaseOnce(a,b){let c=!1;return d=>{c&&i(),c=!0,this._release(a,b,d)}}_release(a,b,c){let d;return(a.on("error",b),a._poolUseCount=(a._poolUseCount||0)+1,this.emit("release",c,a),c||this.ending||!a._queryable||a._ending||a._poolUseCount>=this.options.maxUses)?(a._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(a,this._pulseQueue.bind(this))):this._expired.has(a)?(this.log("remove expired client"),this._expired.delete(a),this._remove(a,this._pulseQueue.bind(this))):void(this.options.idleTimeoutMillis&&this._isAboveMin()&&(d=setTimeout(()=>{this.log("remove idle client"),this._remove(a,this._pulseQueue.bind(this))},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&d.unref()),this.options.allowExitOnIdle&&a.unref(),this._idle.push(new g(a,b,d)),this._pulseQueue())}query(a,b,c){if("function"==typeof a){let b=j(this.Promise,a);return setImmediate(function(){return b.callback(Error("Passing a function as the first parameter to pool.query is not supported"))}),b.result}"function"==typeof b&&(c=b,b=void 0);let d=j(this.Promise,c);return c=d.callback,this.connect((d,e)=>{if(d)return c(d);let f=!1,g=a=>{f||(f=!0,e.release(a),c(a))};e.once("error",g),this.log("dispatching query");try{e.query(a,b,(a,b)=>{if(this.log("query dispatched"),e.removeListener("error",g),!f)return(f=!0,e.release(a),a)?c(a):c(void 0,b)})}catch(a){return e.release(a),c(a)}}),d.result}end(a){if(this.log("ending"),this.ending){let b=Error("Called end on pool more than once");return a?a(b):this.Promise.reject(b)}this.ending=!0;let b=j(this.Promise,a);return this._endCallback=b.callback,this._pulseQueue(),b.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((a,b)=>a+ +!!this._expired.has(b),0)}get totalCount(){return this._clients.length}}a.exports=l},30500:(a,b,c)=>{"use strict";c.d(b,{q:()=>e});var d=c(90639);let e=({authOptions:{disableLocalStrategy:a,loginWithUsername:b},collectionSlug:c,data:e,operation:f,originalDoc:g,req:h})=>{if(!a&&b&&!b.requireEmail&&!b.requireUsername){let a=!1;if("create"!==f||e.email||e.username?"update"===f&&("email"in e&&!e.email&&"username"in e&&!e.username&&(a=!0),"email"in e&&!e.email&&!g.username&&!e?.username&&(a=!0),"username"in e&&!e.username&&!g.email&&!e?.email&&(a=!0)):a=!0,a)throw new d.y({collection:c,errors:[{message:"Username or email is required",path:"username"},{message:"Username or email is required",path:"email"}]},h.t)}}},30596:(a,b,c)=>{"use strict";let d=c(32488),e=c(39072),f=c(1483);class g{constructor(a,b){this.mailer=a,this.data={},this.message=null,b=b||{};let c=a.options||{},d=a._defaults||{};Object.keys(b).forEach(a=>{this.data[a]=b[a]}),this.data.headers=this.data.headers||{},Object.keys(d).forEach(a=>{a in this.data?"headers"===a&&Object.keys(d.headers).forEach(a=>{a in this.data.headers||(this.data.headers[a]=d.headers[a])}):this.data[a]=d[a]}),["disableFileAccess","disableUrlAccess","normalizeHeaderKey"].forEach(a=>{a in c&&(this.data[a]=c[a])})}resolveContent(...a){return d.resolveContent(...a)}resolveAll(a){let b=[[this.data,"html"],[this.data,"text"],[this.data,"watchHtml"],[this.data,"amp"],[this.data,"icalEvent"]];this.data.alternatives&&this.data.alternatives.length&&this.data.alternatives.forEach((a,c)=>{b.push([this.data.alternatives,c])}),this.data.attachments&&this.data.attachments.length&&this.data.attachments.forEach((a,c)=>{!a.filename&&(a.filename=(a.path||a.href||"").split("/").pop().split("?").shift()||"attachment-"+(c+1),0>a.filename.indexOf(".")&&(a.filename+="."+f.detectExtension(a.contentType))),a.contentType||(a.contentType=f.detectMimeType(a.filename||a.path||a.href||"bin")),b.push([this.data.attachments,c])});let c=new e;["from","to","cc","bcc","sender","replyTo"].forEach(a=>{let b;this.message?b=[].concat(c._parseAddresses(this.message.getHeader("replyTo"===a?"reply-to":a))||[]):this.data[a]&&(b=[].concat(c._parseAddresses(this.data[a])||[])),b&&b.length?this.data[a]=b:a in this.data&&(this.data[a]=null)}),["from","sender"].forEach(a=>{this.data[a]&&(this.data[a]=this.data[a].shift())});let g=0,h=()=>{if(g>=b.length)return a(null,this.data);let c=b[g++];if(!c[0]||!c[0][c[1]])return h();d.resolveContent(...c,(b,d)=>{if(b)return a(b);let e={content:d};c[0][c[1]]&&"object"==typeof c[0][c[1]]&&!Buffer.isBuffer(c[0][c[1]])&&Object.keys(c[0][c[1]]).forEach(a=>{a in e||["content","path","href","raw"].includes(a)||(e[a]=c[0][c[1]][a])}),c[0][c[1]]=e,h()})};setImmediate(()=>h())}normalize(a){let b=this.data.envelope||this.message.getEnvelope(),c=this.message.messageId();this.resolveAll((d,e)=>d?a(d):(e.envelope=b,e.messageId=c,["html","text","watchHtml","amp"].forEach(a=>{e[a]&&e[a].content&&("string"==typeof e[a].content?e[a]=e[a].content:Buffer.isBuffer(e[a].content)&&(e[a]=e[a].content.toString()))}),e.icalEvent&&Buffer.isBuffer(e.icalEvent.content)&&(e.icalEvent.content=e.icalEvent.content.toString("base64"),e.icalEvent.encoding="base64"),e.alternatives&&e.alternatives.length&&e.alternatives.forEach(a=>{a&&a.content&&Buffer.isBuffer(a.content)&&(a.content=a.content.toString("base64"),a.encoding="base64")}),e.attachments&&e.attachments.length&&e.attachments.forEach(a=>{a&&a.content&&Buffer.isBuffer(a.content)&&(a.content=a.content.toString("base64"),a.encoding="base64")}),e.normalizedHeaders={},Object.keys(e.headers||{}).forEach(a=>{let b=[].concat(e.headers[a]||[]).shift();(b=b&&b.value||b)&&(["references","in-reply-to","message-id","content-id"].includes(a)&&(b=this.message._encodeHeaderValue(a,b)),e.normalizedHeaders[a]=b)}),e.list&&"object"==typeof e.list&&this._getListHeaders(e.list).forEach(a=>{e.normalizedHeaders[a.key]=a.value.map(a=>a&&a.value||a).join(", ")}),e.references&&(e.normalizedHeaders.references=this.message._encodeHeaderValue("references",e.references)),e.inReplyTo&&(e.normalizedHeaders["in-reply-to"]=this.message._encodeHeaderValue("in-reply-to",e.inReplyTo)),a(null,e)))}setMailerHeader(){this.message&&this.data.xMailer&&this.message.setHeader("X-Mailer",this.data.xMailer)}setPriorityHeaders(){if(this.message&&this.data.priority)switch((this.data.priority||"").toString().toLowerCase()){case"high":this.message.setHeader("X-Priority","1 (Highest)"),this.message.setHeader("X-MSMail-Priority","High"),this.message.setHeader("Importance","High");break;case"low":this.message.setHeader("X-Priority","5 (Lowest)"),this.message.setHeader("X-MSMail-Priority","Low"),this.message.setHeader("Importance","Low")}}setListHeaders(){this.message&&this.data.list&&"object"==typeof this.data.list&&this.data.list&&"object"==typeof this.data.list&&this._getListHeaders(this.data.list).forEach(a=>{a.value.forEach(b=>{this.message.addHeader(a.key,b)})})}_getListHeaders(a){return Object.keys(a).map(b=>({key:"list-"+b.toLowerCase().trim(),value:[].concat(a[b]||[]).map(a=>({prepared:!0,foldLines:!0,value:[].concat(a||[]).map(a=>{if("string"==typeof a&&(a={url:a}),a&&a.url){if("id"===b.toLowerCase().trim()){let b=a.comment||"";return b=f.isPlainText(b)?'"'+b+'"':f.encodeWord(b),(a.comment?b+" ":"")+this._formatListUrl(a.url).replace(/^<[^:]+\/{,2}/,"")}let c=a.comment||"";return f.isPlainText(c)||(c=f.encodeWord(c)),this._formatListUrl(a.url)+(a.comment?" ("+c+")":"")}return""}).filter(a=>a).join(", ")}))}))}_formatListUrl(a){return(a=a.replace(/[\s<]+|[\s>]+/g,""),/^(https?|mailto|ftp):/.test(a))?"<"+a+">":/^[^@]+@[^@]+$/.test(a)?"<mailto:"+a+">":"<http://"+a+">"}}a.exports=g},30645:(a,b,c)=>{"use strict";c.d(b,{vK:()=>h});var d=c(15796);let e="content-length";function f(a){return b=>async c=>{let f=c.request;if(d.K.isInstance(f)){let{body:b,headers:c}=f;if(b&&-1===Object.keys(c).map(a=>a.toLowerCase()).indexOf(e))try{let c=a(b);f.headers={...f.headers,[e]:String(c)}}catch(a){}}return b({...c,request:f})}}let g={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},h=a=>({applyToStack:b=>{b.add(f(a.bodyLengthChecker),g)}})},30648:(a,b,c)=>{"use strict";c.d(b,{m:()=>d});class d extends Error{name="ProviderError";tryNextLink;constructor(a,b=!0){let c,e=!0;"boolean"==typeof b?(c=void 0,e=b):null!=b&&"object"==typeof b&&(c=b.logger,e=b.tryNextLink??!0),super(a),this.tryNextLink=e,Object.setPrototypeOf(this,d.prototype),c?.debug?.(`@smithy/property-provider ${e?"->":"(!)"} ${a}`)}static from(a,b=!0){return Object.assign(new this(a.message,b),a)}}},30693:a=>{"use strict";let b=Symbol("circular-ref-tag"),c=Symbol("pino-raw-err-ref"),d=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},aggregateErrors:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[c]},set:function(a){this[c]=a}}});Object.defineProperty(d,c,{writable:!0,value:{}}),a.exports={pinoErrProto:d,pinoErrorSymbols:{seen:b,rawSymbol:c}}},30701:a=>{"use strict";var b,c=function(){function a(a,b){if("function"!=typeof a)throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+a+".");this._batchLoadFn=a,this._maxBatchSize=i(b),this._batchScheduleFn=j(b),this._cacheKeyFn=k(b),this._cacheMap=l(b),this._batch=null,this.name=m(b)}var b=a.prototype;return b.load=function(a){if(null==a)throw TypeError("The loader.load() function must be called with a value, but got: "+String(a)+".");var b,c=e(this),d=this._cacheMap;if(d){b=this._cacheKeyFn(a);var f=d.get(b);if(f){var g=c.cacheHits||(c.cacheHits=[]);return new Promise(function(a){g.push(function(){a(f)})})}}c.keys.push(a);var h=new Promise(function(a,b){c.callbacks.push({resolve:a,reject:b})});return d&&d.set(b,h),h},b.loadMany=function(a){if(!o(a))throw TypeError("The loader.loadMany() function must be called with Array<key> but got: "+a+".");for(var b=[],c=0;c<a.length;c++)b.push(this.load(a[c]).catch(function(a){return a}));return Promise.all(b)},b.clear=function(a){var b=this._cacheMap;if(b){var c=this._cacheKeyFn(a);b.delete(c)}return this},b.clearAll=function(){var a=this._cacheMap;return a&&a.clear(),this},b.prime=function(a,b){var c=this._cacheMap;if(c){var d,e=this._cacheKeyFn(a);void 0===c.get(e)&&(b instanceof Error?(d=Promise.reject(b)).catch(function(){}):d=Promise.resolve(b),c.set(e,d))}return this},a}(),d="object"==typeof process&&"function"==typeof process.nextTick?function(a){b||(b=Promise.resolve()),b.then(function(){process.nextTick(a)})}:"function"==typeof setImmediate?function(a){setImmediate(a)}:function(a){setTimeout(a)};function e(a){var b=a._batch;if(null!==b&&!b.hasDispatched&&b.keys.length<a._maxBatchSize)return b;var c={hasDispatched:!1,keys:[],callbacks:[]};return a._batch=c,a._batchScheduleFn(function(){f(a,c)}),c}function f(a,b){var c;if(b.hasDispatched=!0,0===b.keys.length)return void h(b);try{c=a._batchLoadFn(b.keys)}catch(c){return g(a,b,TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function errored synchronously: "+String(c)+"."))}if(!c||"function"!=typeof c.then)return g(a,b,TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(c)+"."));c.then(function(a){if(!o(a))throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(a)+".");if(a.length!==b.keys.length)throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(b.keys)+"\n\nValues:\n"+String(a));h(b);for(var c=0;c<b.callbacks.length;c++){var d=a[c];d instanceof Error?b.callbacks[c].reject(d):b.callbacks[c].resolve(d)}}).catch(function(c){g(a,b,c)})}function g(a,b,c){h(b);for(var d=0;d<b.keys.length;d++)a.clear(b.keys[d]),b.callbacks[d].reject(c)}function h(a){if(a.cacheHits)for(var b=0;b<a.cacheHits.length;b++)a.cacheHits[b]()}function i(a){if(!(!a||!1!==a.batch))return 1;var b=a&&a.maxBatchSize;if(void 0===b)return 1/0;if("number"!=typeof b||b<1)throw TypeError("maxBatchSize must be a positive number: "+b);return b}function j(a){var b=a&&a.batchScheduleFn;if(void 0===b)return d;if("function"!=typeof b)throw TypeError("batchScheduleFn must be a function: "+b);return b}function k(a){var b=a&&a.cacheKeyFn;if(void 0===b)return function(a){return a};if("function"!=typeof b)throw TypeError("cacheKeyFn must be a function: "+b);return b}function l(a){if(!(!a||!1!==a.cache))return null;var b=a&&a.cacheMap;if(void 0===b)return new Map;if(null!==b){var c=["get","set","delete","clear"].filter(function(a){return b&&"function"!=typeof b[a]});if(0!==c.length)throw TypeError("Custom cacheMap missing methods: "+c.join(", "))}return b}function m(a){return a&&a.name?a.name:null}function o(a){return"object"==typeof a&&null!==a&&"number"==typeof a.length&&(0===a.length||a.length>0&&Object.prototype.hasOwnProperty.call(a,a.length-1))}a.exports=c},30951:(a,b,c)=>{"use strict";c.d(b,{p:()=>k});var d=c(24401),e=c(86069),f=c(70404),g=c(10353),h=c(46386),i=c(23271),j=c(66089);let k=async a=>{let{collection:b,req:c,token:k}=a;if(b.config.auth.disableLocalStrategy)throw new e.c(c.t);if(!Object.prototype.hasOwnProperty.call(a,"token"))throw new f.L("Missing required data.",d.h.BAD_REQUEST);try{let a=await (0,i.n)(c),e=(0,g.v)({enableTrash:!!b.config.trash,trash:!1,where:{_verificationToken:{equals:k}}}),j=await c.payload.db.findOne({collection:b.config.slug,req:c,where:e});if(!j)throw new f.L("Verification token is invalid.",d.h.FORBIDDEN);return j.updatedAt=new Date().toISOString(),await c.payload.db.updateOne({id:j.id,collection:b.config.slug,data:{...j,_verificationToken:null,_verified:!0},req:c,returning:!1}),a&&await (0,h.w)(c),!0}catch(a){throw await (0,j.J)(c),a}}},30971:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CodeGen=b.Name=b.nil=b.stringify=b.str=b._=b.KeywordCxt=void 0;var d=c(7235);Object.defineProperty(b,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var e=c(47934);Object.defineProperty(b,"_",{enumerable:!0,get:function(){return e._}}),Object.defineProperty(b,"str",{enumerable:!0,get:function(){return e.str}}),Object.defineProperty(b,"stringify",{enumerable:!0,get:function(){return e.stringify}}),Object.defineProperty(b,"nil",{enumerable:!0,get:function(){return e.nil}}),Object.defineProperty(b,"Name",{enumerable:!0,get:function(){return e.Name}}),Object.defineProperty(b,"CodeGen",{enumerable:!0,get:function(){return e.CodeGen}});let f=c(76011),g=c(1948),h=c(39859),i=c(31104),j=c(47934),k=c(75624),l=c(37175),m=c(34414),o=c(25915),p=c(8739),q=(a,b)=>new RegExp(a,b);q.code="new RegExp";let r=["removeAdditional","useDefaults","coerceTypes"],s=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),t={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},u={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function w(a){var b,c,d,e,f,g,h,i,j,k,l,m,o,r,s,t,u,w,x,y,z,A,B,C,D;let E=a.strict,F=null==(b=a.code)?void 0:b.optimize,G=!0===F||void 0===F?1:F||0,H=null!=(d=null==(c=a.code)?void 0:c.regExp)?d:q,I=null!=(e=a.uriResolver)?e:p.default;return{strictSchema:null==(g=null!=(f=a.strictSchema)?f:E)||g,strictNumbers:null==(i=null!=(h=a.strictNumbers)?h:E)||i,strictTypes:null!=(k=null!=(j=a.strictTypes)?j:E)?k:"log",strictTuples:null!=(m=null!=(l=a.strictTuples)?l:E)?m:"log",strictRequired:null!=(r=null!=(o=a.strictRequired)?o:E)&&r,code:a.code?{...a.code,optimize:G,regExp:H}:{optimize:G,regExp:H},loopRequired:null!=(s=a.loopRequired)?s:v,loopEnum:null!=(t=a.loopEnum)?t:v,meta:null==(u=a.meta)||u,messages:null==(w=a.messages)||w,inlineRefs:null==(x=a.inlineRefs)||x,schemaId:null!=(y=a.schemaId)?y:"$id",addUsedSchema:null==(z=a.addUsedSchema)||z,validateSchema:null==(A=a.validateSchema)||A,validateFormats:null==(B=a.validateFormats)||B,unicodeRegExp:null==(C=a.unicodeRegExp)||C,int32range:null==(D=a.int32range)||D,uriResolver:I}}class x{constructor(a={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,a=this.opts={...a,...w(a)};let{es5:b,lines:c}=this.opts.code;this.scope=new j.ValueScope({scope:{},prefixes:s,es5:b,lines:c}),this.logger=F(a.logger);let d=a.validateFormats;a.validateFormats=!1,this.RULES=(0,h.getRules)(),y.call(this,t,a,"NOT SUPPORTED"),y.call(this,u,a,"DEPRECATED","warn"),this._metaOpts=D.call(this),a.formats&&B.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),a.keywords&&C.call(this,a.keywords),"object"==typeof a.meta&&this.addMetaSchema(a.meta),A.call(this),a.validateFormats=d}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:a,meta:b,schemaId:c}=this.opts,d=o;"id"===c&&((d={...o}).id=d.$id,delete d.$id),b&&a&&this.addMetaSchema(d,d[c],!1)}defaultMeta(){let{meta:a,schemaId:b}=this.opts;return this.opts.defaultMeta="object"==typeof a?a[b]||a:void 0}validate(a,b){let c;if("string"==typeof a){if(!(c=this.getSchema(a)))throw Error(`no schema with key or ref "${a}"`)}else c=this.compile(a);let d=c(b);return"$async"in c||(this.errors=c.errors),d}compile(a,b){let c=this._addSchema(a,b);return c.validate||this._compileSchemaEnv(c)}compileAsync(a,b){if("function"!=typeof this.opts.loadSchema)throw Error("options.loadSchema should be a function");let{loadSchema:c}=this.opts;return d.call(this,a,b);async function d(a,b){await e.call(this,a.$schema);let c=this._addSchema(a,b);return c.validate||f.call(this,c)}async function e(a){a&&!this.getSchema(a)&&await d.call(this,{$ref:a},!0)}async function f(a){try{return this._compileSchemaEnv(a)}catch(b){if(!(b instanceof g.default))throw b;return h.call(this,b),await i.call(this,b.missingSchema),f.call(this,a)}}function h({missingSchema:a,missingRef:b}){if(this.refs[a])throw Error(`AnySchema ${a} is loaded but ${b} cannot be resolved`)}async function i(a){let c=await j.call(this,a);this.refs[a]||await e.call(this,c.$schema),this.refs[a]||this.addSchema(c,a,b)}async function j(a){let b=this._loading[a];if(b)return b;try{return await (this._loading[a]=c(a))}finally{delete this._loading[a]}}}addSchema(a,b,c,d=this.opts.validateSchema){let e;if(Array.isArray(a)){for(let b of a)this.addSchema(b,void 0,c,d);return this}if("object"==typeof a){let{schemaId:b}=this.opts;if(void 0!==(e=a[b])&&"string"!=typeof e)throw Error(`schema ${b} must be string`)}return b=(0,k.normalizeId)(b||e),this._checkUnique(b),this.schemas[b]=this._addSchema(a,c,b,d,!0),this}addMetaSchema(a,b,c=this.opts.validateSchema){return this.addSchema(a,b,!0,c),this}validateSchema(a,b){let c;if("boolean"==typeof a)return!0;if(void 0!==(c=a.$schema)&&"string"!=typeof c)throw Error("$schema must be a string");if(!(c=c||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),this.errors=null,!0;let d=this.validate(c,a);if(!d&&b){let a="schema is invalid: "+this.errorsText();if("log"===this.opts.validateSchema)this.logger.error(a);else throw Error(a)}return d}getSchema(a){let b;for(;"string"==typeof(b=z.call(this,a));)a=b;if(void 0===b){let{schemaId:c}=this.opts,d=new i.SchemaEnv({schema:{},schemaId:c});if(!(b=i.resolveSchema.call(this,d,a)))return;this.refs[a]=b}return b.validate||this._compileSchemaEnv(b)}removeSchema(a){if(a instanceof RegExp)return this._removeAllSchemas(this.schemas,a),this._removeAllSchemas(this.refs,a),this;switch(typeof a){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let b=z.call(this,a);return"object"==typeof b&&this._cache.delete(b.schema),delete this.schemas[a],delete this.refs[a],this}case"object":{let b=a;this._cache.delete(b);let c=a[this.opts.schemaId];return c&&(c=(0,k.normalizeId)(c),delete this.schemas[c],delete this.refs[c]),this}default:throw Error("ajv.removeSchema: invalid parameter")}}addVocabulary(a){for(let b of a)this.addKeyword(b);return this}addKeyword(a,b){let c;if("string"==typeof a)c=a,"object"==typeof b&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),b.keyword=c);else if("object"==typeof a&&void 0===b){if(Array.isArray(c=(b=a).keyword)&&!c.length)throw Error("addKeywords: keyword must be string or non-empty array")}else throw Error("invalid addKeywords parameters");if(H.call(this,c,b),!b)return(0,m.eachItem)(c,a=>I.call(this,a)),this;K.call(this,b);let d={...b,type:(0,l.getJSONTypes)(b.type),schemaType:(0,l.getJSONTypes)(b.schemaType)};return(0,m.eachItem)(c,0===d.type.length?a=>I.call(this,a,d):a=>d.type.forEach(b=>I.call(this,a,d,b))),this}getKeyword(a){let b=this.RULES.all[a];return"object"==typeof b?b.definition:!!b}removeKeyword(a){let{RULES:b}=this;for(let c of(delete b.keywords[a],delete b.all[a],b.rules)){let b=c.rules.findIndex(b=>b.keyword===a);b>=0&&c.rules.splice(b,1)}return this}addFormat(a,b){return"string"==typeof b&&(b=new RegExp(b)),this.formats[a]=b,this}errorsText(a=this.errors,{separator:b=", ",dataVar:c="data"}={}){return a&&0!==a.length?a.map(a=>`${c}${a.instancePath} ${a.message}`).reduce((a,c)=>a+b+c):"No errors"}$dataMetaSchema(a,b){let c=this.RULES.all;for(let d of(a=JSON.parse(JSON.stringify(a)),b)){let b=d.split("/").slice(1),e=a;for(let a of b)e=e[a];for(let a in c){let b=c[a];if("object"!=typeof b)continue;let{$data:d}=b.definition,f=e[a];d&&f&&(e[a]=M(f))}}return a}_removeAllSchemas(a,b){for(let c in a){let d=a[c];(!b||b.test(c))&&("string"==typeof d?delete a[c]:d&&!d.meta&&(this._cache.delete(d.schema),delete a[c]))}}_addSchema(a,b,c,d=this.opts.validateSchema,e=this.opts.addUsedSchema){let f,{schemaId:g}=this.opts;if("object"==typeof a)f=a[g];else if(this.opts.jtd)throw Error("schema must be object");else if("boolean"!=typeof a)throw Error("schema must be object or boolean");let h=this._cache.get(a);if(void 0!==h)return h;c=(0,k.normalizeId)(f||c);let j=k.getSchemaRefs.call(this,a,c);return h=new i.SchemaEnv({schema:a,schemaId:g,meta:b,baseId:c,localRefs:j}),this._cache.set(h.schema,h),e&&!c.startsWith("#")&&(c&&this._checkUnique(c),this.refs[c]=h),d&&this.validateSchema(a,!0),h}_checkUnique(a){if(this.schemas[a]||this.refs[a])throw Error(`schema with key or id "${a}" already exists`)}_compileSchemaEnv(a){if(a.meta?this._compileMetaSchema(a):i.compileSchema.call(this,a),!a.validate)throw Error("ajv implementation error");return a.validate}_compileMetaSchema(a){let b=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,a)}finally{this.opts=b}}}function y(a,b,c,d="error"){for(let e in a){let f=e;f in b&&this.logger[d](`${c}: option ${e}. ${a[f]}`)}}function z(a){return a=(0,k.normalizeId)(a),this.schemas[a]||this.refs[a]}function A(){let a=this.opts.schemas;if(a)if(Array.isArray(a))this.addSchema(a);else for(let b in a)this.addSchema(a[b],b)}function B(){for(let a in this.opts.formats){let b=this.opts.formats[a];b&&this.addFormat(a,b)}}function C(a){if(Array.isArray(a))return void this.addVocabulary(a);for(let b in this.logger.warn("keywords option as map is deprecated, pass array"),a){let c=a[b];c.keyword||(c.keyword=b),this.addKeyword(c)}}function D(){let a={...this.opts};for(let b of r)delete a[b];return a}x.ValidationError=f.default,x.MissingRefError=g.default,b.default=x;let E={log(){},warn(){},error(){}};function F(a){if(!1===a)return E;if(void 0===a)return console;if(a.log&&a.warn&&a.error)return a;throw Error("logger must implement log, warn and error methods")}let G=/^[a-z_$][a-z0-9_$:-]*$/i;function H(a,b){let{RULES:c}=this;if((0,m.eachItem)(a,a=>{if(c.keywords[a])throw Error(`Keyword ${a} is already defined`);if(!G.test(a))throw Error(`Keyword ${a} has invalid name`)}),b&&b.$data&&!("code"in b||"validate"in b))throw Error('$data keyword must have "code" or "validate" function')}function I(a,b,c){var d;let e=null==b?void 0:b.post;if(c&&e)throw Error('keyword with "post" flag cannot have "type"');let{RULES:f}=this,g=e?f.post:f.rules.find(({type:a})=>a===c);if(g||(g={type:c,rules:[]},f.rules.push(g)),f.keywords[a]=!0,!b)return;let h={keyword:a,definition:{...b,type:(0,l.getJSONTypes)(b.type),schemaType:(0,l.getJSONTypes)(b.schemaType)}};b.before?J.call(this,g,h,b.before):g.rules.push(h),f.all[a]=h,null==(d=b.implements)||d.forEach(a=>this.addKeyword(a))}function J(a,b,c){let d=a.rules.findIndex(a=>a.keyword===c);d>=0?a.rules.splice(d,0,b):(a.rules.push(b),this.logger.warn(`rule ${c} is not defined`))}function K(a){let{metaSchema:b}=a;void 0!==b&&(a.$data&&this.opts.$data&&(b=M(b)),a.validateSchema=this.compile(b,!0))}let L={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function M(a){return{anyOf:[a,L]}}},31052:(a,b,c)=>{"use strict";c.d(b,{R:()=>l});var d=c(99408),e=c(10631),f=c(35597),g=c(71898),h=c(10353),i=c(66089),j=c(35183),k=c(96683);let l=async a=>{let b=a;try{let a,c,{collection:{config:i},disableErrors:l,overrideAccess:m,req:o,trash:p=!1,where:q}=b=await (0,k.v)({args:b,collection:b.collection.config,operation:"count"}),{payload:r}=o;if(!m&&(a=await (0,d.m)({disableErrors:l,req:o},i.access.read),!1===a))return{totalDocs:0};let s=(0,e.m)(q,a);return(0,g.D)({fields:i.flattenedFields,payload:r,where:s}),s=(0,h.v)({enableTrash:i.trash,trash:p,where:s}),await (0,f.d)({collectionConfig:i,overrideAccess:m,req:o,where:q}),c=await r.db.count({collection:i.slug,req:o,where:s}),c=await (0,j.E)({args:b,collection:i,operation:"count",result:c})}catch(a){throw await (0,i.J)(b.req),a}}},31104:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.resolveSchema=b.getCompilingSchema=b.resolveRef=b.compileSchema=b.SchemaEnv=void 0;let d=c(47934),e=c(76011),f=c(10004),g=c(75624),h=c(34414),i=c(7235);class j{constructor(a){var b;let c;this.refs={},this.dynamicAnchors={},"object"==typeof a.schema&&(c=a.schema),this.schema=a.schema,this.schemaId=a.schemaId,this.root=a.root||this,this.baseId=null!=(b=a.baseId)?b:(0,g.normalizeId)(null==c?void 0:c[a.schemaId||"$id"]),this.schemaPath=a.schemaPath,this.localRefs=a.localRefs,this.meta=a.meta,this.$async=null==c?void 0:c.$async,this.refs={}}}function k(a){let b,c,h=m.call(this,a);if(h)return h;let j=(0,g.getFullPath)(this.opts.uriResolver,a.root.baseId),{es5:k,lines:l}=this.opts.code,{ownProperties:o}=this.opts,p=new d.CodeGen(this.scope,{es5:k,lines:l,ownProperties:o});a.$async&&(b=p.scopeValue("Error",{ref:e.default,code:(0,d._)`require("ajv/dist/runtime/validation_error").default`}));let q=p.scopeName("validate");a.validateName=q;let r={gen:p,allErrors:this.opts.allErrors,data:f.default.data,parentData:f.default.parentData,parentDataProperty:f.default.parentDataProperty,dataNames:[f.default.data],dataPathArr:[d.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:p.scopeValue("schema",!0===this.opts.code.source?{ref:a.schema,code:(0,d.stringify)(a.schema)}:{ref:a.schema}),validateName:q,ValidationError:b,schema:a.schema,schemaEnv:a,rootId:j,baseId:a.baseId||j,schemaPath:d.nil,errSchemaPath:a.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,d._)`""`,opts:this.opts,self:this};try{this._compilations.add(a),(0,i.validateFunctionCode)(r),p.optimize(this.opts.code.optimize);let b=p.toString();c=`${p.scopeRefs(f.default.scope)}return ${b}`,this.opts.code.process&&(c=this.opts.code.process(c,a));let e=Function(`${f.default.self}`,`${f.default.scope}`,c)(this,this.scope.get());if(this.scope.value(q,{ref:e}),e.errors=null,e.schema=a.schema,e.schemaEnv=a,a.$async&&(e.$async=!0),!0===this.opts.code.source&&(e.source={validateName:q,validateCode:b,scopeValues:p._values}),this.opts.unevaluated){let{props:a,items:b}=r;e.evaluated={props:a instanceof d.Name?void 0:a,items:b instanceof d.Name?void 0:b,dynamicProps:a instanceof d.Name,dynamicItems:b instanceof d.Name},e.source&&(e.source.evaluated=(0,d.stringify)(e.evaluated))}return a.validate=e,a}catch(b){throw delete a.validate,delete a.validateName,c&&this.logger.error("Error compiling schema, function code:",c),b}finally{this._compilations.delete(a)}}function l(a){return(0,g.inlineRef)(a.schema,this.opts.inlineRefs)?a.schema:a.validate?a:k.call(this,a)}function m(a){for(let b of this._compilations)if(o(b,a))return b}function o(a,b){return a.schema===b.schema&&a.root===b.root&&a.baseId===b.baseId}function p(a,b){let c;for(;"string"==typeof(c=this.refs[b]);)b=c;return c||this.schemas[b]||q.call(this,a,b)}function q(a,b){let c=this.opts.uriResolver.parse(b),d=(0,g._getFullPath)(this.opts.uriResolver,c),e=(0,g.getFullPath)(this.opts.uriResolver,a.baseId,void 0);if(Object.keys(a.schema).length>0&&d===e)return s.call(this,c,a);let f=(0,g.normalizeId)(d),h=this.refs[f]||this.schemas[f];if("string"==typeof h){let b=q.call(this,a,h);if("object"!=typeof(null==b?void 0:b.schema))return;return s.call(this,c,b)}if("object"==typeof(null==h?void 0:h.schema)){if(h.validate||k.call(this,h),f===(0,g.normalizeId)(b)){let{schema:b}=h,{schemaId:c}=this.opts,d=b[c];return d&&(e=(0,g.resolveUrl)(this.opts.uriResolver,e,d)),new j({schema:b,schemaId:c,root:a,baseId:e})}return s.call(this,c,h)}}b.SchemaEnv=j,b.compileSchema=k,b.resolveRef=function(a,b,c){var d;c=(0,g.resolveUrl)(this.opts.uriResolver,b,c);let e=a.refs[c];if(e)return e;let f=p.call(this,a,c);if(void 0===f){let e=null==(d=a.localRefs)?void 0:d[c],{schemaId:g}=this.opts;e&&(f=new j({schema:e,schemaId:g,root:a,baseId:b}))}if(void 0!==f)return a.refs[c]=l.call(this,f)},b.getCompilingSchema=m,b.resolveSchema=q;let r=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function s(a,{baseId:b,schema:c,root:d}){var e;let f;if((null==(e=a.fragment)?void 0:e[0])!=="/")return;for(let d of a.fragment.slice(1).split("/")){if("boolean"==typeof c)return;let a=c[(0,h.unescapeFragment)(d)];if(void 0===a)return;let e="object"==typeof(c=a)&&c[this.opts.schemaId];!r.has(d)&&e&&(b=(0,g.resolveUrl)(this.opts.uriResolver,b,e))}if("boolean"!=typeof c&&c.$ref&&!(0,h.schemaHasRulesButRef)(c,this.RULES)){let a=(0,g.resolveUrl)(this.opts.uriResolver,b,c.$ref);f=q.call(this,d,a)}let{schemaId:i}=this.opts;if((f=f||new j({schema:c,schemaId:i,root:d,baseId:b})).schema!==f.root.schema)return f}},31117:a=>{"use strict";let b=Symbol.for("undici.globalOrigin.1");a.exports={getGlobalOrigin:function(){return globalThis[b]},setGlobalOrigin:function(a){if(void 0===a)return void Object.defineProperty(globalThis,b,{value:void 0,writable:!0,enumerable:!1,configurable:!1});let c=new URL(a);if("http:"!==c.protocol&&"https:"!==c.protocol)throw TypeError(`Only http & https urls are allowed, received ${c.protocol}`);Object.defineProperty(globalThis,b,{value:c,writable:!0,enumerable:!1,configurable:!1})}}},31123:(a,b,c)=>{"use strict";c.d(b,{d:()=>d});let d=(a,b)=>0===b.length||b.map(a=>a.replace("*","")).some(b=>a.startsWith(b))},31143:(a,b,c)=>{"use strict";let d=c(93695),e={};function f(a){return a.replace(/[^a-zA-Z0-9.-]/g,"").toLowerCase()}function g(a){let b=["domains","aliases"],c={};return Object.keys(a).forEach(d=>{0>b.indexOf(d)&&(c[d]=a[d])}),c}Object.keys(d).forEach(a=>{let b=d[a];e[f(a)]=g(b),[].concat(b.aliases||[]).forEach(a=>{e[f(a)]=g(b)}),[].concat(b.domains||[]).forEach(a=>{e[f(a)]=g(b)})}),a.exports=function(a){return e[a=f(a.split("@").pop())]||!1}},31538:a=>{"use strict";a.exports=(a,b,c)=>{c=c||b;let d=Math.min(b-c,a-Math.floor(c/2));d<0&&(d=0);let e=Math.min(d+c,b);return{startIndex:d,endIndex:e}}},31589:(a,b,c)=>{"use strict";c.d(b,{UF:()=>o,vL:()=>m});var d=c(69327),e=c(57206),f=c(92461);let g=(a,b=!1)=>{if(b){for(let b of a.split("."))if(!g(b))return!1;return!0}return!(!(0,e.X)(a)||a.length<3||a.length>63||a!==a.toLowerCase()||(0,f.o)(a))},h=":",i="/",j=a=>{let b=a.split(h);if(b.length<6)return null;let[c,d,e,f,g,...j]=b;return"arn"!==c||""===d||""===e||""===j.join(h)?null:{partition:d,service:e,region:f,accountId:g,resourceId:j.map(a=>a.split(i)).flat()}},k=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il|mx)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-east-2":{"description":"Asia Pacific (Taipei)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"ap-southeast-5":{"description":"Asia Pacific (Malaysia)"},"ap-southeast-6":{"description":"Asia Pacific (New Zealand)"},"ap-southeast-7":{"description":"Asia Pacific (Thailand)"},"aws-global":{"description":"aws global region"},"ca-central-1":{"description":"Canada (Central)"},"ca-west-1":{"description":"Canada West (Calgary)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"mx-central-1":{"description":"Mexico (Central)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"aws-cn global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-eusc","outputs":{"dnsSuffix":"amazonaws.eu","dualStackDnsSuffix":"api.amazonwebservices.eu","implicitGlobalRegion":"eusc-de-east-1","name":"aws-eusc","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^eusc\\\\-(de)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"eusc-de-east-1":{"description":"EU (Germany)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"api.aws.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"aws-iso global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"api.aws.scloud","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"aws-iso-b global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"},"us-isob-west-1":{"description":"US ISOB West"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"api.cloud-aws.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-e-global":{"description":"aws-iso-e global region"},"eu-isoe-west-1":{"description":"EU ISOE West"}}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"api.aws.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-f-global":{"description":"aws-iso-f global region"},"us-isof-east-1":{"description":"US ISOF EAST"},"us-isof-south-1":{"description":"US ISOF SOUTH"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"aws-us-gov global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}}],"version":"1.1"}'),l="",m=()=>l,o={isVirtualHostableS3Bucket:g,parseArn:j,partition:a=>{let{partitions:b}=k;for(let c of b){let{regions:b,outputs:d}=c;for(let[c,e]of Object.entries(b))if(c===a)return{...d,...e}}for(let c of b){let{regionRegex:b,outputs:d}=c;if(new RegExp(b).test(a))return{...d}}let c=b.find(a=>"aws"===a.id);if(!c)throw Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...c.outputs}}};d.m.aws=o},32036:(a,b,c)=>{"use strict";c.d(b,{sM:()=>v});var d=c(31589),e=c(15796);function f(a,b,c){a.__aws_sdk_context?a.__aws_sdk_context.features||(a.__aws_sdk_context.features={}):a.__aws_sdk_context={features:{}},a.__aws_sdk_context.features[b]=c}let g=/\d{12}\.ddb/;async function h(a,b,c){let d=c.request;if(d?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&f(a,"PROTOCOL_RPC_V2_CBOR","M"),"function"==typeof b.retryStrategy){let c=await b.retryStrategy();"function"==typeof c.acquireInitialRetryToken?c.constructor?.name?.includes("Adaptive")?f(a,"RETRY_MODE_ADAPTIVE","F"):f(a,"RETRY_MODE_STANDARD","E"):f(a,"RETRY_MODE_LEGACY","D")}if("function"==typeof b.accountIdEndpointMode){let c=a.endpointV2;switch(String(c?.url?.hostname).match(g)&&f(a,"ACCOUNT_ID_ENDPOINT","O"),await b.accountIdEndpointMode?.()){case"disabled":f(a,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":f(a,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":f(a,"ACCOUNT_ID_MODE_REQUIRED","R")}}let e=a.__smithy_context?.selectedHttpAuthScheme?.identity;if(e?.$source){let b=e;for(let[c,d]of(b.accountId&&f(a,"RESOLVED_ACCOUNT_ID","T"),Object.entries(b.$source??{})))f(a,c,d)}}let i="user-agent",j="x-amz-user-agent",k=" ",l="/",m=/[^!$%&'*+\-.^_`|~\w]/g,o=/[^!$%&'*+\-.^_`|~\w#]/g,p="-",q=1024;function r(a){let b="";for(let c in a){let d=a[c];if(b.length+d.length+1<=q){b.length?b+=","+d:b+=d;continue}break}return b}let s=a=>(b,c)=>async f=>{let{request:g}=f;if(!e.K.isInstance(g))return b(f);let{headers:l}=g,m=c?.userAgent?.map(t)||[],o=(await a.defaultUserAgentProvider()).map(t);await h(c,a,f);let p=c;o.push(`m/${r(Object.assign({},c.__smithy_context?.features,p.__aws_sdk_context?.features))}`);let q=a?.customUserAgent?.map(t)||[],s=await a.userAgentAppId();s&&o.push(t(["app",`${s}`]));let u=(0,d.vL)(),v=(u?[u]:[]).concat([...o,...m,...q]).join(k),w=[...o.filter(a=>a.startsWith("aws-sdk-")),...q].join(k);return"browser"!==a.runtime?(w&&(l[j]=l[j]?`${l[i]} ${w}`:w),l[i]=v):l[j]=v,b({...f,request:g})},t=a=>{let b=a[0].split(l).map(a=>a.replace(m,p)).join(l),c=a[1]?.replace(o,p),d=b.indexOf(l),e=b.substring(0,d),f=b.substring(d+1);return"api"===e&&(f=f.toLowerCase()),[e,f,c].filter(a=>a&&a.length>0).reduce((a,b,c)=>{switch(c){case 0:return b;case 1:return`${a}/${b}`;default:return`${a}#${b}`}},"")},u={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},v=a=>({applyToStack:b=>{b.add(s(a),u)}})},32151:(a,b,c)=>{"use strict";c.d(b,{f:()=>d});class d{serdeContext;setSerdeContext(a){this.serdeContext=a}}},32197:(a,b,c)=>{"use strict";c.d(b,{K:()=>e});let d=({fields:a,sort:b})=>{let c=b,d=!1;for(let e of(0===b.indexOf("-")&&(d=!0,c=c.substring(1)),c.split("."))){let b=a.find(a=>a.name===e);if(!b)break;if("fields"in b){a=b.flattenedFields;continue}if("virtual"in b&&"string"==typeof b.virtual)return`${d?"-":""}${b.virtual}`}return b},e=({fields:a,sort:b})=>{if(b)return Array.isArray(b)?b.map(b=>d({fields:a,sort:b})):d({fields:a,sort:b})}},32438:(a,b,c)=>{"use strict";let{EventEmitter:d}=c(78474),{lsCacheSym:e,levelValSym:f,setLevelSym:g,getLevelSym:h,chindingsSym:i,parsedChindingsSym:j,mixinSym:k,asJsonSym:l,writeSym:m,mixinMergeStrategySym:o,timeSym:p,timeSliceIndexSym:q,streamSym:r,serializersSym:s,formattersSym:t,errorKeySym:u,messageKeySym:v,useOnlyCustomLevelsSym:w,needsMetadataGsym:x,redactFmtSym:y,stringifySym:z,formatOptsSym:A,stringifiersSym:B,msgPrefixSym:C,hooksSym:D}=c(53057),{getLevel:E,setLevel:F,isLevelEnabled:G,mappings:H,initialLsCache:I,genLsCache:J,assertNoLevelCollisions:K}=c(47597),{asChindings:L,asJson:M,buildFormatters:N,stringify:O,noop:P}=c(14447),{version:Q}=c(60203),R=c(49814),S={constructor:class{},child:U,bindings:V,setBindings:W,flush:Z,isLevelEnabled:G,version:Q,get level(){return this[h]()},set level(lvl){this[g](lvl)},get levelVal(){return this[f]},set levelVal(n){throw Error("levelVal is read-only")},get msgPrefix(){return this[C]},get[Symbol.toStringTag](){return"Pino"},[e]:I,[m]:Y,[l]:M,[h]:E,[g]:F};Object.setPrototypeOf(S,d.prototype),a.exports=function(){return Object.create(S)};let T=a=>a;function U(a,b){if(!a)throw Error("missing bindings for child Pino");let c=this[s],d=this[t],e=Object.create(this);if(null==b)return e[t].bindings!==T&&(e[t]=N(d.level,T,d.log)),e[i]=L(e,a),e[g](this.level),this.onChild!==P&&this.onChild(e),e;if(!0===b.hasOwnProperty("serializers")){for(let a in e[s]=Object.create(null),c)e[s][a]=c[a];let a=Object.getOwnPropertySymbols(c);for(var f=0;f<a.length;f++){let b=a[f];e[s][b]=c[b]}for(let a in b.serializers)e[s][a]=b.serializers[a];let d=Object.getOwnPropertySymbols(b.serializers);for(var h=0;h<d.length;h++){let a=d[h];e[s][a]=b.serializers[a]}}else e[s]=c;if(b.hasOwnProperty("formatters")){let{level:a,bindings:c,log:f}=b.formatters;e[t]=N(a||d.level,c||T,f||d.log)}else e[t]=N(d.level,T,d.log);if(!0===b.hasOwnProperty("customLevels")&&(K(this.levels,b.customLevels),e.levels=H(b.customLevels,e[w]),J(e)),"object"==typeof b.redact&&null!==b.redact||Array.isArray(b.redact)){e.redact=b.redact;let a=R(e.redact,O),c={stringify:a[y]};e[z]=O,e[B]=a,e[A]=c}"string"==typeof b.msgPrefix&&(e[C]=(this[C]||"")+b.msgPrefix),e[i]=L(e,a);let j=b.level||this.level;return e[g](j),this.onChild(e),e}function V(){let a=this[i],b=JSON.parse(`{${a.substr(1)}}`);return delete b.pid,delete b.hostname,b}function W(a){let b=L(this,a);this[i]=b,delete this[j]}function X(a,b){return Object.assign(b,a)}function Y(a,b,c){let d,e=this[p](),f=this[k],g=this[u],h=this[v],i=this[o]||X,j=this[D].streamWrite;null==a?d={}:a instanceof Error?(d={[g]:a},void 0===b&&(b=a.message)):(d=a,void 0===b&&void 0===a[h]&&a[g]&&(b=a[g].message)),f&&(d=i(d,f(d,c,this)));let m=this[l](d,b,c,e),s=this[r];!0===s[x]&&(s.lastLevel=c,s.lastObj=d,s.lastMsg=b,s.lastTime=e.slice(this[q]),s.lastLogger=this),s.write(j?j(m):m)}function Z(a){if(null!=a&&"function"!=typeof a)throw Error("callback must be a function");let b=this[r];"function"==typeof b.flush?b.flush(a||P):a&&a()}},32449:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(26582),e=c(47934),f=c(10004),g=c(34414);b.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:a})=>(0,e._)`{additionalProperty: ${a.additionalProperty}}`},code(a){let{gen:b,schema:c,parentSchema:h,data:i,errsCount:j,it:k}=a;if(!j)throw Error("ajv implementation error");let{allErrors:l,opts:m}=k;if(k.props=!0,"all"!==m.removeAdditional&&(0,g.alwaysValidSchema)(k,c))return;let o=(0,d.allSchemaProperties)(h.properties),p=(0,d.allSchemaProperties)(h.patternProperties);function q(c){let f;if(o.length>8){let a=(0,g.schemaRefOrVal)(k,h.properties,"properties");f=(0,d.isOwnProperty)(b,a,c)}else f=o.length?(0,e.or)(...o.map(a=>(0,e._)`${c} === ${a}`)):e.nil;return p.length&&(f=(0,e.or)(f,...p.map(b=>(0,e._)`${(0,d.usePattern)(a,b)}.test(${c})`))),(0,e.not)(f)}function r(a){b.code((0,e._)`delete ${i}[${a}]`)}function s(d){if("all"===m.removeAdditional||m.removeAdditional&&!1===c)return void r(d);if(!1===c){a.setParams({additionalProperty:d}),a.error(),l||b.break();return}if("object"==typeof c&&!(0,g.alwaysValidSchema)(k,c)){let c=b.name("valid");"failing"===m.removeAdditional?(t(d,c,!1),b.if((0,e.not)(c),()=>{a.reset(),r(d)})):(t(d,c),l||b.if((0,e.not)(c),()=>b.break()))}}function t(b,c,d){let e={keyword:"additionalProperties",dataProp:b,dataPropType:g.Type.Str};!1===d&&Object.assign(e,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(e,c)}(function a(){b.forIn("key",i,a=>{o.length||p.length?b.if(q(a),()=>s(a)):s(a)})})(),a.ok((0,e._)`${j} === ${f.default.errors}`)}}},32488:(a,b,c)=>{"use strict";let d,e=c(79551),f=c(28354),g=c(29021),h=c(18223),i=c(14985),j=c(91645),k=c(21820),l=3e5,m=3e4,o=1e3,p=0;a.exports._lastCacheCleanup=()=>p,a.exports._resetCacheCleanup=()=>{p=0};try{d=k.networkInterfaces()}catch(a){}a.exports.networkInterfaces=d;let q=(b,c)=>{let d=a.exports.networkInterfaces;return!d||Object.keys(d).map(a=>d[a]).reduce((a,b)=>a.concat(b),[]).filter(a=>!a.internal||c).filter(a=>a.family==="IPv"+b||a.family===b).length>0},r=(a,b,c,d)=>{if(!q(a,(c=c||{}).allowInternalNetworkInterfaces))return d(null,[]);(i.Resolver?new i.Resolver(c):i)["resolve"+a](b,(a,b)=>{if(a){switch(a.code){case i.NODATA:case i.NOTFOUND:case i.NOTIMP:case i.SERVFAIL:case i.CONNREFUSED:case i.REFUSED:case"EAI_AGAIN":return d(null,[])}return d(a)}return d(null,Array.isArray(b)?b:[].concat(b||[]))})},s=a.exports.dnsCache=new Map,t=(a,b)=>a?Object.assign({servername:a.servername,host:a.addresses&&a.addresses.length?1===a.addresses.length?a.addresses[0]:a.addresses[Math.floor(Math.random()*a.addresses.length)]:null},b||{}):Object.assign({},b||{});function u(a,b){let c=!1,d=[],e=0;a.on("error",a=>{c||(c=!0,b(a))}),a.on("readable",()=>{let b;for(;null!==(b=a.read());)d.push(b),e+=b.length}),a.on("end",()=>{let a;if(!c){c=!0;try{a=Buffer.concat(d,e)}catch(a){return b(a)}b(null,a)}})}function v(a){let b=0,c=new Map;a.forEach(a=>{a.length>b&&(b=a.length)}),a.forEach(a=>{let d=a.toUpperCase();d.length<b&&(d+=" ".repeat(b-d.length)),c.set(a,d)});let d=(a,b,d,...e)=>{let g="";b&&("server"===b.tnx?g="S: ":"client"===b.tnx&&(g="C: "),b.sid&&(g="["+b.sid+"] "+g),b.cid&&(g="[#"+b.cid+"] "+g)),(d=f.format(d,...e)).split(/\r?\n/).forEach(b=>{console.log("[%s] %s %s",new Date().toISOString().substr(0,19).replace(/T/," "),c.get(a),g+b)})},e={};return a.forEach(a=>{e[a]=d.bind(null,a)}),e}a.exports.resolveHostname=(a,b)=>{let c;if(!(a=a||{}).host&&a.servername&&(a.host=a.servername),!a.host||j.isIP(a.host))return b(null,t({addresses:[a.host],servername:a.servername||!1},{cached:!1}));if(s.has(a.host)){c=s.get(a.host);let d=Date.now();if(d-p>m){for(let[a,b]of(p=d,s.entries()))b.expires&&b.expires<d&&s.delete(a);if(s.size>o){let a=Math.floor(.1*o);Array.from(s.keys()).slice(0,a).forEach(a=>s.delete(a))}}if(!c.expires||c.expires>=d)return b(null,t(c.value,{cached:!0}))}r(4,a.host,a,(d,e)=>{if(d)return c?(s.set(a.host,{value:c.value,expires:Date.now()+(a.dnsTtl||l)}),b(null,t(c.value,{cached:!0,error:d}))):b(d);if(e&&e.length){let c={addresses:e,servername:a.servername||a.host};return s.set(a.host,{value:c,expires:Date.now()+(a.dnsTtl||l)}),b(null,t(c,{cached:!1}))}r(6,a.host,a,(d,e)=>{if(d)return c?(s.set(a.host,{value:c.value,expires:Date.now()+(a.dnsTtl||l)}),b(null,t(c.value,{cached:!0,error:d}))):b(d);if(e&&e.length){let c={addresses:e,servername:a.servername||a.host};return s.set(a.host,{value:c,expires:Date.now()+(a.dnsTtl||l)}),b(null,t(c,{cached:!1}))}try{i.lookup(a.host,{all:!0},(d,e)=>{if(d)return c?(s.set(a.host,{value:c.value,expires:Date.now()+(a.dnsTtl||l)}),b(null,t(c.value,{cached:!0,error:d}))):b(d);let f=!!e&&e.filter(a=>q(a.family)).map(a=>a.address).shift();if(e&&e.length&&!f&&console.warn(`Failed to resolve IPv${e[0].family} addresses with current network`),!f&&c)return b(null,t(c.value,{cached:!0}));let g={addresses:f?[f]:[a.host],servername:a.servername||a.host};return s.set(a.host,{value:g,expires:Date.now()+(a.dnsTtl||l)}),b(null,t(g,{cached:!1}))})}catch(e){if(c)return s.set(a.host,{value:c.value,expires:Date.now()+(a.dnsTtl||l)}),b(null,t(c.value,{cached:!0,error:d}));return b(d)}})})},a.exports.parseConnectionUrl=a=>{a=a||"";let b={};return[e.parse(a,!0)].forEach(a=>{let c;switch(a.protocol){case"smtp:":b.secure=!1;break;case"smtps:":b.secure=!0;break;case"direct:":b.direct=!0}!isNaN(a.port)&&Number(a.port)&&(b.port=Number(a.port)),a.hostname&&(b.host=a.hostname),a.auth&&(c=a.auth.split(":"),b.auth||(b.auth={}),b.auth.user=c.shift(),b.auth.pass=c.join(":")),Object.keys(a.query||{}).forEach(c=>{let d=b,e=c,f=a.query[c];switch(!isNaN(f)&&(f=Number(f)),f){case"true":f=!0;break;case"false":f=!1}if(0===c.indexOf("tls."))e=c.substr(4),b.tls||(b.tls={}),d=b.tls;else if(c.indexOf(".")>=0)return;e in d||(d[e]=f)})}),b},a.exports._logFunc=(a,b,c,d,e,...f)=>{let g={};Object.keys(c||{}).forEach(a=>{"level"!==a&&(g[a]=c[a])}),Object.keys(d||{}).forEach(a=>{"level"!==a&&(g[a]=d[a])}),a[b](g,e,...f)},a.exports.getLogger=(b,c)=>{let d={},e=["trace","debug","info","warn","error","fatal"];if(!(b=b||{}).logger)return e.forEach(a=>{d[a]=()=>!1}),d;let f=b.logger;return!0===b.logger&&(f=v(e)),e.forEach(b=>{d[b]=(d,e,...g)=>{a.exports._logFunc(f,b,c,d,e,...g)}}),d},a.exports.callbackPromise=(a,b)=>function(){let c=Array.from(arguments),d=c.shift();d?b(d):a(...c)},a.exports.parseDataURI=a=>{let b,c;if("string"!=typeof a||!a.startsWith("data:"))return null;let d=a.indexOf(",");if(-1===d)return null;let e=a.substring(d+1),f=a.substring(5,d).split(";");if(f.length>0){let a=f[f.length-1].toLowerCase().trim();["base64","utf8","utf-8"].includes(a)&&-1===a.indexOf("=")&&(b=a,f.pop())}let g=f.length>0?f.shift():"application/octet-stream",h={};for(let a=0;a<f.length;a++){let b=f[a],c=b.indexOf("=");if(c>0){let a=b.substring(0,c).trim(),d=b.substring(c+1).trim();a&&(h[a]=d)}}try{if("base64"===b)c=Buffer.from(e,"base64");else try{c=Buffer.from(decodeURIComponent(e))}catch(a){c=Buffer.from(e)}}catch(a){c=Buffer.alloc(0)}return{data:c,encoding:b||null,contentType:g||"application/octet-stream",params:h}},a.exports.resolveContent=(b,c,d)=>{let e;d||(e=new Promise((b,c)=>{d=a.exports.callbackPromise(b,c)}));let f=b&&b[c]&&b[c].content||b[c],i=("object"==typeof b[c]&&b[c].encoding||"utf8").toString().toLowerCase().replace(/[-_\s]/g,"");if(!f)return d(null,f);if("object"==typeof f){if("function"==typeof f.pipe)return u(f,(a,e)=>{if(a)return d(a);b[c].content?b[c].content=e:b[c]=e,d(null,e)});else if(/^https?:\/\//i.test(f.path||f.href))return u(h(f.path||f.href),d);else if(/^data:/i.test(f.path||f.href)){let b=a.exports.parseDataURI(f.path||f.href);return b&&b.data?d(null,b.data):d(null,Buffer.from(0))}else if(f.path)return u(g.createReadStream(f.path),d)}return"string"!=typeof b[c].content||["utf8","usascii","ascii"].includes(i)||(f=Buffer.from(b[c].content,i)),setImmediate(()=>d(null,f)),e},a.exports.assign=function(){let a=Array.from(arguments),b=a.shift()||{};return a.forEach(a=>{Object.keys(a||{}).forEach(c=>{["tls","auth"].includes(c)&&a[c]&&"object"==typeof a[c]?(b[c]||(b[c]={}),Object.keys(a[c]).forEach(d=>{b[c][d]=a[c][d]})):b[c]=a[c]})}),b},a.exports.encodeXText=a=>{if(!/[^\x21-\x2A\x2C-\x3C\x3E-\x7E]/.test(a))return a;let b=Buffer.from(a),c="";for(let a=0,d=b.length;a<d;a++){let d=b[a];d<33||d>126||43===d||61===d?c+="+"+(d<16?"0":"")+d.toString(16).toUpperCase():c+=String.fromCharCode(d)}return c}},32528:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{getSortedRouteObjects:function(){return d.getSortedRouteObjects},getSortedRoutes:function(){return d.getSortedRoutes},isDynamicRoute:function(){return e.isDynamicRoute}});let d=c(62178),e=c(90022)},32603:(a,b,c)=>{"use strict";c.d(b,{e:()=>g});var d=c(7282),e=c(24401),f=c(70404);class g extends f.L{constructor(a){super(a?a("error:problemUploadingFile"):d.en.translations.error.problemUploadingFile,e.h.BAD_REQUEST)}}},32724:(a,b,c)=>{"use strict";let d=c(68781);a.exports=function(a,b){let c=String(d(a)||"").split(/\r?\n/);return b?c.map(a=>Math.ceil(a.length/b)).reduce((a,b)=>a+b):c.length}},32885:(a,b,c)=>{"use strict";c.d(b,{S:()=>e,v:()=>d});let d=a=>Object.assign(a,{useDualstackEndpoint:a.useDualstackEndpoint??!1,useFipsEndpoint:a.useFipsEndpoint??!1,defaultSigningName:"ses"}),e={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}},32952:(a,b,c)=>{"use strict";c.d(b,{l:()=>x});var d=c(99408),e=c(65716),f=c(10631),g=c(82545),h=c(86069),i=c(1276),j=c(21133),k=c(34611),l=c(10353),m=c(77600),o=c(46386),p=c(23042),q=c(23271),r=c(66089),s=c(16886),t=c(86442),u=c(30097),v=c(35183),w=c(96683);let x=async a=>{let b=a;try{let a=!b.disableTransaction&&await (0,q.n)(b.req),{id:c,collection:{config:r},depth:x,overrideAccess:y,overrideLock:z,populate:A,req:{fallbackLocale:B,locale:C,payload:{config:D},payload:E},req:F,select:G,showHiddenFields:H,trash:I=!1}=b=await (0,w.v)({args:b,collection:b.collection.config,operation:"delete"}),J=!!y||await (0,d.m)({id:c,req:F},r.access.delete),K=(0,e.L)(J);if(r.hooks?.beforeDelete?.length)for(let a of r.hooks.beforeDelete)await a({id:c,collection:r,context:F.context,req:F});let L=(0,f.m)({id:{equals:c}},J);L=(0,l.v)({enableTrash:r.trash,trash:I,where:L});let M=await F.payload.db.findOne({collection:r.slug,locale:F.locale,req:F,where:L});if(!M&&!K)throw new g.M(F.t);if(!M&&K)throw new h.c(F.t);await (0,m.B)({id:c,collectionSlug:r.slug,lockErrorMessage:`Document with ID ${c} is currently locked and cannot be deleted.`,overrideLock:z,req:F}),await (0,k.F)({collectionConfig:r,config:D,doc:M,overrideDelete:!0,req:F}),r.versions&&await (0,t.H)({id:c,slug:r.slug,payload:E,req:F}),(0,p._N)(r)&&await (0,u.y)({id:c,slug:r.slug,payload:E,req:F});let N=(0,s.Y)({fields:r.flattenedFields,forceSelect:r.forceSelect,select:G}),O=await F.payload.db.deleteOne({collection:r.slug,req:F,select:N,where:{id:{equals:c}}});if(await (0,j.j)({collectionConfig:r,ids:[c],payload:E,req:F}),O=await (0,i.v)({collection:r,context:F.context,depth:x,doc:O,draft:void 0,fallbackLocale:B,global:null,locale:C,overrideAccess:y,populate:A,req:F,select:N,showHiddenFields:H}),r.hooks?.afterRead?.length)for(let a of r.hooks.afterRead)O=await a({collection:r,context:F.context,doc:O,req:F})||O;if(r.hooks?.afterDelete?.length)for(let a of r.hooks.afterDelete)O=await a({id:c,collection:r,context:F.context,doc:O,req:F})||O;return O=await (0,v.E)({args:b,collection:r,operation:"deleteByID",result:O}),a&&await (0,o.w)(F),O}catch(a){throw await (0,r.J)(b.req),a}}},33078:(a,b,c)=>{"use strict";c.d(b,{O:()=>d});class d{namespace;schemas;exceptions;static registries=new Map;constructor(a,b=new Map,c=new Map){this.namespace=a,this.schemas=b,this.exceptions=c}static for(a){return d.registries.has(a)||d.registries.set(a,new d(a)),d.registries.get(a)}register(a,b){let c=this.normalizeShapeId(a);d.for(c.split("#")[0]).schemas.set(c,b)}getSchema(a){let b=this.normalizeShapeId(a);if(!this.schemas.has(b))throw Error(`@smithy/core/schema - schema not found for ${b}`);return this.schemas.get(b)}registerError(a,b){let c=a,e=d.for(c[1]);e.schemas.set(c[1]+"#"+c[2],c),e.exceptions.set(c,b)}getErrorCtor(a){let b=a;return d.for(b[1]).exceptions.get(b)}getBaseException(){for(let a of this.exceptions.keys())if(Array.isArray(a)){let[,b,c]=a,d=b+"#"+c;if(d.startsWith("smithy.ts.sdk.synthetic.")&&d.endsWith("ServiceException"))return a}}find(a){return[...this.schemas.values()].find(a)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(a){return a.includes("#")?a:this.namespace+"#"+a}}},33282:(a,b,c)=>{"use strict";c.d(b,{R:()=>h});var d=c(21820),e=c(33873);let f={},g=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",h=()=>{let{HOME:a,USERPROFILE:b,HOMEPATH:c,HOMEDRIVE:h=`C:${e.sep}`}=process.env;if(a)return a;if(b)return b;if(c)return`${h}${c}`;let i=g();return f[i]||(f[i]=(0,d.homedir)()),f[i]}},33372:(a,b,c)=>{"use strict";c.d(b,{BI:()=>D});var d=c(79646),e=c(84140),f=c(55511),g=c(29021),h=c(33873),i=c(79551);async function j({condition:a,dir:b,fileNames:c}){let{root:d}=h.parse(b);for(;;){if(c?.length){let e=!1;for(let d of c){let c=h.resolve(b,d);if(await k(c)){if(!a)return c;e=!0;break}}if(!e&&b!==d){b=h.dirname(b);continue}}let e=await a?.(b);if(!0===e)return b;if("string"==typeof e&&e?.length)return e;if(b===d)return null;b=h.dirname(b)}}async function k(a){try{return await g.promises.access(a),!0}catch{return!1}}var l=c(34589),m=c(73024),o=c(76760),p=c(48161),q=c(1708);let r=p.homedir(),s=p.tmpdir(),{env:t}=q,u=a=>{let b=o.join(r,"Library");return{cache:o.join(b,"Caches",a),config:o.join(b,"Preferences",a),data:o.join(b,"Application Support",a),log:o.join(b,"Logs",a),temp:o.join(s,a)}},v=a=>{let b=t.APPDATA||o.join(r,"AppData","Roaming"),c=t.LOCALAPPDATA||o.join(r,"AppData","Local");return{cache:o.join(c,a,"Cache"),config:o.join(b,a,"Config"),data:o.join(c,a,"Data"),log:o.join(c,a,"Log"),temp:o.join(s,a)}},w=a=>{let b=o.basename(r);return{cache:o.join(t.XDG_CACHE_HOME||o.join(r,".cache"),a),config:o.join(t.XDG_CONFIG_HOME||o.join(r,".config"),a),data:o.join(t.XDG_DATA_HOME||o.join(r,".local","share"),a),log:o.join(t.XDG_STATE_HOME||o.join(r,".local","state"),a),temp:o.join(s,b,a)}};function x(a,{suffix:b="nodejs"}={}){if("string"!=typeof a)throw TypeError(`Expected a string, got ${typeof a}`);return(b&&(a+=`-${b}`),"darwin"===q.platform)?u(a):"win32"===q.platform?v(a):w(a)}let y=()=>Object.create(null),z=(a,b)=>{let c=new Set(["function","symbol","undefined"]),d=typeof b;if(c.has(d))throw TypeError(`Setting a value of type \`${d}\` for key \`${a}\` is not allowed as it's not supported by JSON`)};class A{#Q;_deserialize=a=>JSON.parse(a);_serialize=a=>JSON.stringify(a,void 0,"	");events;path;constructor(){let a={configFileMode:438,configName:"config",fileExtension:"json",projectSuffix:"nodejs"},b=x("payload",{suffix:a.projectSuffix}).config;this.#Q=a,this.events=new EventTarget;let c=a.fileExtension?`.${a.fileExtension}`:"";this.path=o.resolve(b,`${a.configName??"config"}${c}`);let d=this.store,e=Object.assign(y(),d);try{l.deepEqual(d,e)}catch{this.store=e}}_ensureDirectory(){m.mkdirSync(o.dirname(this.path),{recursive:!0})}_write(a){let b=this._serialize(a);m.writeFileSync(this.path,b,{mode:this.#Q.configFileMode})}delete(a){let{store:b}=this;delete b[a],this.store=b}get(a){let{store:b}=this;return b[a]}set(a,b){if("string"!=typeof a&&"object"!=typeof a)throw TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof a}`);if("object"!=typeof a&&void 0===b)throw TypeError("Use `delete()` to clear values");let{store:c}=this,d=(a,b)=>{z(a,b),c[a]=b};if("object"==typeof a)for(let[b,c]of Object.entries(a))d(b,c);else d(a,b);this.store=c}*[Symbol.iterator](){for(let[a,b]of Object.entries(this.store))yield[a,b]}get size(){return Object.keys(this.store).length}get store(){try{let a=m.readFileSync(this.path,"utf8"),b=this._deserialize(a);return Object.assign(y(),b)}catch(a){if(a?.code==="ENOENT")return this._ensureDirectory(),y();throw a}}set store(a){this._ensureDirectory(),this._write(a),this.events.dispatchEvent(new Event("change"))}}var B=c(61294);let C=null,D=async({event:a,payload:b})=>{try{if(!1!==b.config.telemetry){let{packageJSON:c,packageJSONPath:d}=await H();if(!C){let{projectID:a,source:d}=F(b,c);C={ciName:e.isCI?e.name:null,envID:E(),isCI:e.isCI,nodeEnv:"production",nodeVersion:process.version,payloadVersion:J(c),projectID:a,projectIDSource:d,...K(b),dbAdapter:b.db.name,emailAdapter:b.email?.name||null,uploadAdapters:b.config.upload.adapters}}if(process.env.PAYLOAD_TELEMETRY_DEBUG)return void b.logger.info({event:{...C,...a,packageJSONPath:d},msg:"Telemetry Event"});await fetch("https://telemetry.payloadcms.com/events",{body:JSON.stringify({...C,...a}),headers:{"Content-Type":"application/json"},method:"post"})}}catch(a){}},E=()=>{let a=new A,b="envID",c=a.get(b);if(c)return c;let d=(0,f.randomBytes)(32).toString("hex");return a.set(b,d),d},F=(a,b)=>{let c=G(a);if(c)return{projectID:(0,B.Q)(c,a.secret),source:"git"};let d=I(a,b);if(d)return{projectID:(0,B.Q)(d,a.secret),source:"packageJSON"};let e=a.config.serverURL;if(e)return{projectID:(0,B.Q)(e,a.secret),source:"serverURL"};let f=process.cwd();return{projectID:(0,B.Q)(f,a.secret),source:"cwd"}},G=a=>{try{let b=(0,d.execSync)("git config --local --get remote.origin.url",{stdio:"pipe",timeout:1e3});return(0,B.Q)(String(b).trim(),a.secret)}catch(a){return null}},H=async()=>{let a=h.resolve(process.cwd(),"package.json");if(!g.existsSync(a)){let b=(0,i.fileURLToPath)("file:///home/node/app/node_modules/.pnpm/payload@3.69.0_graphql@16.10.0_typescript@5.7.3/node_modules/payload/dist/utilities/telemetry/index.js"),c=h.dirname(b);a=await j({dir:c,fileNames:["package.json"]})}return{packageJSON:JSON.parse(await g.promises.readFile(a,"utf-8")),packageJSONPath:a}},I=(a,b)=>(0,B.Q)(b.name,a.secret),J=a=>a?.dependencies?.payload??"",K=a=>a.config.localization?{locales:a.config.localization.localeCodes,localizationDefaultLocale:a.config.localization.defaultLocale,localizationEnabled:!0}:{locales:[],localizationDefaultLocale:null,localizationEnabled:!1}},33518:(a,b,c)=>{"use strict";let d,e,f=c(81350),{ReadableStreamFrom:g,readableStreamClose:h,createDeferredPromise:i,fullyReadBody:j,extractMimeType:k,utf8DecodeBytes:l}=c(51074),{FormData:m,setFormDataState:o}=c(47904),{webidl:p}=c(81399),{Blob:q}=c(4573),r=c(34589),{isErrored:s,isDisturbed:t}=c(57075),{isArrayBuffer:u}=c(73429),{serializeAMimeType:v}=c(62018),{multipartFormDataParser:w}=c(84378);try{let a=c(77598);d=b=>a.randomInt(0,b)}catch{d=a=>Math.floor(Math.random()*a)}let x=new TextEncoder;function y(){}let z=globalThis.FinalizationRegistry&&0!==process.version.indexOf("v18");function A(a,b=!1){let c=null;c=p.is.ReadableStream(a)?a:p.is.Blob(a)?a.stream():new ReadableStream({async pull(a){let b="string"==typeof i?x.encode(i):i;b.byteLength&&a.enqueue(b),queueMicrotask(()=>h(a))},start(){},type:"bytes"}),r(p.is.ReadableStream(c));let e=null,i=null,j=null,k=null;if("string"==typeof a)i=a,k="text/plain;charset=UTF-8";else if(p.is.URLSearchParams(a))i=a.toString(),k="application/x-www-form-urlencoded;charset=UTF-8";else if(u(a))i=new Uint8Array(a.slice());else if(ArrayBuffer.isView(a))i=new Uint8Array(a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength));else if(p.is.FormData(a)){let b=`----formdata-undici-0${`${d(1e11)}`.padStart(11,"0")}`,c=`--${b}\r
Content-Disposition: form-data`,f=a=>a.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),g=a=>a.replace(/\r?\n|\r/g,"\r\n"),h=[],l=new Uint8Array([13,10]);j=0;let m=!1;for(let[b,d]of a)if("string"==typeof d){let a=x.encode(c+`; name="${f(g(b))}"`+`\r
\r
${g(d)}\r
`);h.push(a),j+=a.byteLength}else{let a=x.encode(`${c}; name="${f(g(b))}"`+(d.name?`; filename="${f(d.name)}"`:"")+"\r\n"+`Content-Type: ${d.type||"application/octet-stream"}\r
\r
`);h.push(a,d,l),"number"==typeof d.size?j+=a.byteLength+d.size+l.byteLength:m=!0}let o=x.encode(`--${b}--\r
`);h.push(o),j+=o.byteLength,m&&(j=null),i=a,e=async function*(){for(let a of h)a.stream?yield*a.stream():yield a},k=`multipart/form-data; boundary=${b}`}else if(p.is.Blob(a))i=a,j=a.size,a.type&&(k=a.type);else if("function"==typeof a[Symbol.asyncIterator]){if(b)throw TypeError("keepalive");if(f.isDisturbed(a)||a.locked)throw TypeError("Response body object should not be disturbed or locked");c=p.is.ReadableStream(a)?a:g(a)}if(("string"==typeof i||f.isBuffer(i))&&(j=Buffer.byteLength(i)),null!=e){let b;c=new ReadableStream({async start(){b=e(a)[Symbol.asyncIterator]()},async pull(a){let{value:d,done:e}=await b.next();if(e)queueMicrotask(()=>{a.close(),a.byobRequest?.respond(0)});else if(!s(c)){let b=new Uint8Array(d);b.byteLength&&a.enqueue(b)}return a.desiredSize>0},async cancel(a){await b.return()},type:"bytes"})}return[{stream:c,source:i,length:j},k]}function B(a,b=!1){return p.is.ReadableStream(a)&&(r(!f.isDisturbed(a),"The body has already been consumed."),r(!a.locked,"The stream is locked.")),A(a,b)}function C(a){if(a.aborted)throw new DOMException("The operation was aborted.","AbortError")}function D(a,b){return{blob(){return E(this,a=>{let c=H(b(this));return null===c?c="":c&&(c=v(c)),new q([a],{type:c})},a,b)},arrayBuffer(){return E(this,a=>new Uint8Array(a).buffer,a,b)},text(){return E(this,l,a,b)},json(){return E(this,G,a,b)},formData(){return E(this,a=>{let c=H(b(this));if(null!==c)switch(c.essence){case"multipart/form-data":{let b=w(a,c),d=new m;return o(d,b),d}case"application/x-www-form-urlencoded":{let b=new URLSearchParams(a.toString()),c=new m;for(let[a,d]of b)c.append(a,d);return c}}throw TypeError('Content-Type was not one of "multipart/form-data" or "application/x-www-form-urlencoded".')},a,b)},bytes(){return E(this,a=>new Uint8Array(a),a,b)}}}async function E(a,b,c,d){p.brandCheck(a,c);let e=d(a);if(F(e))throw TypeError("Body is unusable: Body has already been read");C(e);let f=i(),g=a=>f.reject(a),h=a=>{try{f.resolve(b(a))}catch(a){g(a)}};return null==e.body?h(Buffer.allocUnsafe(0)):j(e.body,h,g),f.promise}function F(a){let b=a.body;return null!=b&&(b.stream.locked||f.isDisturbed(b.stream))}function G(a){return JSON.parse(l(a))}function H(a){let b=k(a.headersList);return"failure"===b?null:b}z&&(e=new FinalizationRegistry(a=>{let b=a.deref();!b||b.locked||t(b)||s(b)||b.cancel("Response object has been garbage collected").catch(y)})),a.exports={extractBody:A,safelyExtractBody:B,cloneBody:function(a,b){let[c,d]=b.stream.tee();return z&&e.register(a,new WeakRef(c)),b.stream=c,{stream:d,length:b.length,source:b.source}},mixinBody:function(a,b){Object.assign(a.prototype,D(a,b))},streamRegistry:e,hasFinalizationRegistry:z,bodyUnusable:F}},33576:(a,b,c)=>{"use strict";c.d(b,{X:()=>f});var d=c(65540),e=c(70404);class f extends e.L{constructor(a){super(`RichText field${(0,d.Z7)(a)?` "${a.name}"`:""} is missing the editor prop. For sub-richText fields, the editor props is required, as it would otherwise create infinite recursion.`)}}},33636:(a,b,c)=>{"use strict";let{Transform:d}=c(57075),{Console:e}=c(37540),f=process.versions.icu?"":"Y ",g=process.versions.icu?"":"N ";a.exports=class{constructor({disableColors:a}={}){this.transform=new d({transform(a,b,c){c(null,a)}}),this.logger=new e({stdout:this.transform,inspectOptions:{colors:!a&&!process.env.CI}})}format(a){let b=a.map(({method:a,path:b,data:{statusCode:c},persist:d,times:e,timesInvoked:h,origin:i})=>({Method:a,Origin:i,Path:b,"Status code":c,Persistent:d?f:g,Invocations:h,Remaining:d?1/0:e-h}));return this.logger.table(b),this.transform.read().toString()}}},33646:(a,b,c)=>{"use strict";let d=c(94735),e=c(98427),f=c(24328),g=c(31143),h=c(32488),i=c(24404);class j extends d{constructor(a){let b;super(),"string"==typeof(a=a||{})&&(a={url:a});let c=a.service;"function"==typeof a.getSocket&&(this.getSocket=a.getSocket),a.url&&(b=h.parseConnectionUrl(a.url),c=c||b.service),this.options=h.assign(!1,a,b,c&&g(c)),this.options.maxConnections=this.options.maxConnections||5,this.options.maxMessages=this.options.maxMessages||100,this.logger=h.getLogger(this.options,{component:this.options.component||"smtp-pool"});let d=new f(this.options);this.name="SMTP (pool)",this.version=i.version+"[client:"+d.version+"]",this._rateLimit={counter:0,timeout:null,waiting:[],checkpoint:!1,delta:Number(this.options.rateDelta)||1e3,limit:Number(this.options.rateLimit)||0},this._closed=!1,this._queue=[],this._connections=[],this._connectionCounter=0,this.idling=!0,setImmediate(()=>{this.idling&&this.emit("idle")})}getSocket(a,b){return setImmediate(()=>b(null,!1))}send(a,b){return!this._closed&&(this._queue.push({mail:a,requeueAttempts:0,callback:b}),this.idling&&this._queue.length>=this.options.maxConnections&&(this.idling=!1),setImmediate(()=>this._processMessages()),!0)}close(){let a,b=this._connections.length;if(this._closed=!0,clearTimeout(this._rateLimit.timeout),!b&&!this._queue.length)return;for(let c=b-1;c>=0;c--)this._connections[c]&&this._connections[c].available&&((a=this._connections[c]).close(),this.logger.info({tnx:"connection",cid:a.id,action:"removed"},"Connection #%s removed",a.id));if(b&&!this._connections.length&&this.logger.debug({tnx:"connection"},"All connections removed"),!this._queue.length)return;let c=()=>{if(!this._queue.length)return void this.logger.debug({tnx:"connection"},"Pending queue entries cleared");let b=this._queue.shift();if(b&&"function"==typeof b.callback)try{b.callback(Error("Connection pool was closed"))}catch(b){this.logger.error({err:b,tnx:"callback",cid:a.id},"Callback error for #%s: %s",a.id,b.message)}setImmediate(c)};setImmediate(c)}_processMessages(){let a,b,c;if(this._closed)return;if(!this._queue.length){this.idling||(this.idling=!0,this.emit("idle"));return}for(b=0,c=this._connections.length;b<c;b++)if(this._connections[b].available){a=this._connections[b];break}if(!a&&this._connections.length<this.options.maxConnections&&(a=this._createConnection()),!a){this.idling=!1;return}!this.idling&&this._queue.length<this.options.maxConnections&&(this.idling=!0,this.emit("idle"));let d=a.queueEntry=this._queue.shift();d.messageId=(a.queueEntry.mail.message.getHeader("message-id")||"").replace(/[<>\s]/g,""),a.available=!1,this.logger.debug({tnx:"pool",cid:a.id,messageId:d.messageId,action:"assign"},"Assigned message <%s> to #%s (%s)",d.messageId,a.id,a.messages+1),this._rateLimit.limit&&(this._rateLimit.counter++,this._rateLimit.checkpoint||(this._rateLimit.checkpoint=Date.now())),a.send(d.mail,(b,c)=>{if(d===a.queueEntry){try{d.callback(b,c)}catch(b){this.logger.error({err:b,tnx:"callback",cid:a.id},"Callback error for #%s: %s",a.id,b.message)}a.queueEntry=!1}})}_createConnection(){let a=new e(this);return a.id=++this._connectionCounter,this.logger.info({tnx:"pool",cid:a.id,action:"conection"},"Created new pool resource #%s",a.id),a.on("available",()=>{this.logger.debug({tnx:"connection",cid:a.id,action:"available"},"Connection #%s became available",a.id),this._closed?this.close():this._processMessages()}),a.once("error",b=>{if("EMAXLIMIT"!==b.code?this.logger.error({err:b,tnx:"pool",cid:a.id},"Pool Error for #%s: %s",a.id,b.message):this.logger.debug({tnx:"pool",cid:a.id,action:"maxlimit"},"Max messages limit exchausted for #%s",a.id),a.queueEntry){try{a.queueEntry.callback(b)}catch(b){this.logger.error({err:b,tnx:"callback",cid:a.id},"Callback error for #%s: %s",a.id,b.message)}a.queueEntry=!1}this._removeConnection(a),this._continueProcessing()}),a.once("close",()=>{this.logger.info({tnx:"connection",cid:a.id,action:"closed"},"Connection #%s was closed",a.id),this._removeConnection(a),a.queueEntry?setTimeout(()=>{a.queueEntry&&(this._shouldRequeuOnConnectionClose(a.queueEntry)?this._requeueEntryOnConnectionClose(a):this._failDeliveryOnConnectionClose(a)),this._continueProcessing()},50):(this._closed||!this.idling||this._connections.length||this.emit("clear"),this._continueProcessing())}),this._connections.push(a),a}_shouldRequeuOnConnectionClose(a){return void 0===this.options.maxRequeues||this.options.maxRequeues<0||a.requeueAttempts<this.options.maxRequeues}_failDeliveryOnConnectionClose(a){if(a.queueEntry&&a.queueEntry.callback){try{a.queueEntry.callback(Error("Reached maximum number of retries after connection was closed"))}catch(b){this.logger.error({err:b,tnx:"callback",messageId:a.queueEntry.messageId,cid:a.id},"Callback error for #%s: %s",a.id,b.message)}a.queueEntry=!1}}_requeueEntryOnConnectionClose(a){a.queueEntry.requeueAttempts=a.queueEntry.requeueAttempts+1,this.logger.debug({tnx:"pool",cid:a.id,messageId:a.queueEntry.messageId,action:"requeue"},"Re-queued message <%s> for #%s. Attempt: #%s",a.queueEntry.messageId,a.id,a.queueEntry.requeueAttempts),this._queue.unshift(a.queueEntry),a.queueEntry=!1}_continueProcessing(){this._closed?this.close():setTimeout(()=>this._processMessages(),100)}_removeConnection(a){let b=this._connections.indexOf(a);-1!==b&&this._connections.splice(b,1)}_checkRateLimit(a){if(!this._rateLimit.limit)return a();let b=Date.now();return this._rateLimit.counter<this._rateLimit.limit?a():(this._rateLimit.waiting.push(a),this._rateLimit.checkpoint<=b-this._rateLimit.delta)?this._clearRateLimit():void(!this._rateLimit.timeout&&(this._rateLimit.timeout=setTimeout(()=>this._clearRateLimit(),this._rateLimit.delta-(b-this._rateLimit.checkpoint)),this._rateLimit.checkpoint=b))}_clearRateLimit(){for(clearTimeout(this._rateLimit.timeout),this._rateLimit.timeout=null,this._rateLimit.counter=0,this._rateLimit.checkpoint=!1;this._rateLimit.waiting.length;)setImmediate(this._rateLimit.waiting.shift())}isIdle(){return this.idling}verify(a){let b;a||(b=new Promise((b,c)=>{a=h.callbackPromise(b,c)}));let c=new e(this).auth;return this.getSocket(this.options,(b,d)=>{if(b)return a(b);let e=this.options;d&&d.connection&&(this.logger.info({tnx:"proxy",remoteAddress:d.connection.remoteAddress,remotePort:d.connection.remotePort,destHost:e.host||"",destPort:e.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",d.connection.remoteAddress,d.connection.remotePort,e.host||"",e.port||""),e=h.assign(!1,e),Object.keys(d).forEach(a=>{e[a]=d[a]}));let g=new f(e),i=!1;g.once("error",b=>{if(!i)return i=!0,g.close(),a(b)}),g.once("end",()=>{if(!i)return i=!0,a(Error("Connection closed"))});let j=()=>{if(!i)return i=!0,g.quit(),a(null,!0)};g.connect(()=>{if(!i)if(c&&(g.allowsAuth||e.forceAuth))g.login(c,b=>{if(!i){if(b)return i=!0,g.close(),a(b);j()}});else if(!c&&g.allowsAuth&&e.forceAuth){let b=Error("Authentication info was not provided");return b.code="NoAuth",i=!0,g.close(),a(b)}else j()})}),b}}a.exports=j},33772:(a,b,c)=>{let d=c(85558),e=c(63190),{style:f,clear:g}=c(78339),{cursor:h,erase:i}=c(40821);class j extends e{constructor(a={}){super(a),this.msg=a.message,this.value=!!a.initial,this.active=a.active||"on",this.inactive=a.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(a,b){if(" "===a)this.value=!this.value;else if("1"===a)this.value=!0;else{if("0"!==a)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(h.hide):this.out.write(g(this.outputText,this.out.columns)),super.render(),this.outputText=[f.symbol(this.done,this.aborted),d.bold(this.msg),f.delimiter(this.done),this.value?this.inactive:d.cyan().underline(this.inactive),d.gray("/"),this.value?d.cyan().underline(this.active):this.active].join(" "),this.out.write(i.line+h.to(0)+this.outputText))}}a.exports=j},33934:(a,b,c)=>{"use strict";c.d(b,{jR:()=>R});var d=c(90467);let e={name:"name",type:"text",label:"Name (lowercase, no special characters)",required:!0},f={name:"label",type:"text",label:"Label",localized:!0},g={name:"required",type:"checkbox",label:"Required"},h={name:"width",type:"number",label:"Field Width (percentage)"},i={name:"placeholder",type:"text",label:"Placeholder"},j={slug:"radio",fields:[{type:"row",fields:[{...e,admin:{width:"50%"}},{...f,admin:{width:"50%"}}]},{type:"row",fields:[{...h,admin:{width:"50%"}},{name:"defaultValue",type:"text",admin:{width:"50%"},label:"Default Value",localized:!0}]},{name:"options",type:"array",fields:[{type:"row",fields:[{name:"label",type:"text",admin:{width:"50%"},label:"Label",localized:!0,required:!0},{name:"value",type:"text",admin:{width:"50%"},label:"Value",required:!0}]}],label:"Radio Attribute Options",labels:{plural:"Options",singular:"Option"}},g],labels:{plural:"Radio Fields",singular:"Radio"}},k={slug:"select",fields:[{type:"row",fields:[{...e,admin:{width:"50%"}},{...f,admin:{width:"50%"}}]},{type:"row",fields:[{...h,admin:{width:"50%"}},{name:"defaultValue",type:"text",admin:{width:"50%"},label:"Default Value",localized:!0}]},{type:"row",fields:[{...i}]},{name:"options",type:"array",fields:[{type:"row",fields:[{name:"label",type:"text",admin:{width:"50%"},label:"Label",localized:!0,required:!0},{name:"value",type:"text",admin:{width:"50%"},label:"Value",required:!0}]}],label:"Select Attribute Options",labels:{plural:"Options",singular:"Option"}},g],labels:{plural:"Select Fields",singular:"Select"}},l={slug:"text",fields:[{type:"row",fields:[{...e,admin:{width:"50%"}},{...f,admin:{width:"50%"}}]},{type:"row",fields:[{...h,admin:{width:"50%"}},{name:"defaultValue",type:"text",admin:{width:"50%"},label:"Default Value",localized:!0}]},g],labels:{plural:"Text Fields",singular:"Text"}},m={slug:"textarea",fields:[{type:"row",fields:[{...e,admin:{width:"50%"}},{...f,admin:{width:"50%"}}]},{type:"row",fields:[{...h,admin:{width:"50%"}},{name:"defaultValue",type:"text",admin:{width:"50%"},label:"Default Value",localized:!0}]},g],labels:{plural:"Text Area Fields",singular:"Text Area"}},o={slug:"number",fields:[{type:"row",fields:[{...e,admin:{width:"50%"}},{...f,admin:{width:"50%"}}]},{type:"row",fields:[{...h,admin:{width:"50%"}},{name:"defaultValue",type:"number",admin:{width:"50%"},label:"Default Value"}]},g],labels:{plural:"Number Fields",singular:"Number"}},p={slug:"email",fields:[{type:"row",fields:[{...e,admin:{width:"50%"}},{...f,admin:{width:"50%"}}]},h,g],labels:{plural:"Email Fields",singular:"Email"}},q={slug:"state",fields:[{type:"row",fields:[{...e,admin:{width:"50%"}},{...f,admin:{width:"50%"}}]},h,g],labels:{plural:"State Fields",singular:"State"}},r={slug:"country",fields:[{type:"row",fields:[{...e,admin:{width:"50%"}},{...f,admin:{width:"50%"}}]},h,g],labels:{plural:"Country Fields",singular:"Country"}},s={slug:"checkbox",fields:[{type:"row",fields:[{...e,admin:{width:"50%"}},{...f,admin:{width:"50%"}}]},{type:"row",fields:[{...h,admin:{width:"50%"}},{...g,admin:{width:"50%"}}]},{name:"defaultValue",type:"checkbox",label:"Default Value"}],labels:{plural:"Checkbox Fields",singular:"Checkbox"}},t={checkbox:s,country:r,date:{slug:"date",fields:[{type:"row",fields:[{...e,admin:{width:"50%"}},{...f,admin:{width:"50%"}}]},{type:"row",fields:[{...h,admin:{width:"50%"}},{...g,admin:{width:"50%"}}]},{name:"defaultValue",type:"date",label:"Default Value"}],labels:{plural:"Date Fields",singular:"Date"}},email:p,message:{slug:"message",fields:[{name:"message",type:"richText",localized:!0}],labels:{plural:"Message Blocks",singular:"Message"}},number:o,payment:a=>{let b=null;return a?.paymentProcessor&&(b={name:"paymentProcessor",type:"select",label:"Payment Processor",options:[],...a.paymentProcessor}),{slug:"payment",fields:[{type:"row",fields:[{...e,admin:{width:"50%"}},{...f,admin:{width:"50%"}}]},{type:"row",fields:[{...h,admin:{width:"50%"}},{name:"basePrice",type:"number",admin:{width:"50%"},label:"Base Price"}]},b,{name:"priceConditions",type:"array",fields:[{name:"fieldToUse",type:"text",admin:{components:{Field:"@payloadcms/plugin-form-builder/client#DynamicFieldSelector"}}},{name:"condition",type:"select",defaultValue:"hasValue",label:"Condition",options:[{label:"Has Any Value",value:"hasValue"},{label:"Equals",value:"equals"},{label:"Does Not Equal",value:"notEquals"}]},{name:"valueForCondition",type:"text",admin:{condition:(a,{condition:b})=>"equals"===b||"notEquals"===b},label:"Value"},{name:"operator",type:"select",defaultValue:"add",options:[{label:"Add",value:"add"},{label:"Subtract",value:"subtract"},{label:"Multiply",value:"multiply"},{label:"Divide",value:"divide"}]},{name:"valueType",type:"radio",admin:{width:"100%"},defaultValue:"static",label:"Value Type",options:[{label:"Static Value",value:"static"},{label:"Value Of Field",value:"valueOfField"}]},{name:"valueForOperator",type:"text",admin:{components:{Field:"@payloadcms/plugin-form-builder/client#DynamicPriceSelector"}},label:"Value"}],label:"Price Conditions",labels:{plural:"Price Conditions",singular:"Price Condition"}},g].filter(Boolean),labels:{plural:"Payment Fields",singular:"Payment"}}},radio:j,select:k,state:q,text:l,textarea:m},u=a=>{let b={name:"redirect",type:"group",admin:{condition:(a,b)=>b?.confirmationType==="redirect",hideGutter:!0},fields:[{name:"url",type:"text",label:"URL to redirect to",required:!0}]};a.redirectRelationships&&(b.fields.unshift({name:"reference",type:"relationship",admin:{condition:(a,b)=>b?.type==="reference"},label:"Document to link to",maxDepth:2,relationTo:a.redirectRelationships,required:!0}),b.fields.unshift({name:"type",type:"radio",admin:{layout:"horizontal"},defaultValue:"reference",options:[{label:"Internal link",value:"reference"},{label:"Custom URL",value:"custom"}]}),"row"!==b.fields[2].type&&(b.fields[2].label="Custom URL"),b.fields[2].admin={condition:(a,b)=>b?.type==="custom"});let c=[{name:"title",type:"text",required:!0},{name:"fields",type:"blocks",blocks:Object.entries(a?.fields||{}).map(([a,b])=>{if(!1!==b){let c=t[a];return void 0===c&&"object"==typeof b?b:"object"==typeof c&&"object"==typeof b?(0,d.AG)(c,b):"function"==typeof c?c(b):c}return null}).filter(Boolean)},{name:"submitButtonLabel",type:"text",localized:!0},{name:"confirmationType",type:"radio",admin:{description:"Choose whether to display an on-page message or redirect to a different page after they submit the form.",layout:"horizontal"},defaultValue:"message",options:[{label:"Message",value:"message"},{label:"Redirect",value:"redirect"}]},{name:"confirmationMessage",type:"richText",admin:{condition:(a,b)=>b?.confirmationType==="message"},localized:!0,required:!0},b,{name:"emails",type:"array",access:{read:({req:{user:a}})=>!!a},admin:{description:"Send custom emails when the form submits. Use comma separated lists to send the same email to multiple recipients. To reference a value from this form, wrap that field's name with double curly brackets, i.e. {{firstName}}. You can use a wildcard {{*}} to output all data and {{*:table}} to format it as an HTML table in the email."},fields:[{type:"row",fields:[{name:"emailTo",type:"text",admin:{placeholder:'"Email Sender" <sender@email.com>',width:"100%"},label:"Email To"},{name:"cc",type:"text",admin:{style:{maxWidth:"50%"}},label:"CC"},{name:"bcc",type:"text",admin:{style:{maxWidth:"50%"}},label:"BCC"}]},{type:"row",fields:[{name:"replyTo",type:"text",admin:{placeholder:'"Reply To" <reply-to@email.com>',width:"50%"},label:"Reply To"},{name:"emailFrom",type:"text",admin:{placeholder:'"Email From" <email-from@email.com>',width:"50%"},label:"Email From"}]},{name:"subject",type:"text",defaultValue:"You've received a new message.",label:"Subject",localized:!0,required:!0},{name:"message",type:"richText",admin:{description:"Enter the message that should be sent in this email."},label:"Message",localized:!0}]}];return{...a?.formOverrides||{},slug:a?.formOverrides?.slug||"forms",access:{read:()=>!0,...a?.formOverrides?.access||{}},admin:{enableRichTextRelationship:!1,useAsTitle:"title",...a?.formOverrides?.admin||{}},fields:a?.formOverrides?.fields&&"function"==typeof a?.formOverrides?.fields?a.formOverrides.fields({defaultFields:c}):c}},v={name:"payment",type:"group",fields:[{name:"field",type:"text",label:"Field"},{name:"status",type:"text",label:"Status"},{name:"amount",type:"number",admin:{description:"Amount in cents"}},{name:"paymentProcessor",type:"text"},{name:"creditCard",type:"group",fields:[{name:"token",type:"text",label:"token"},{name:"brand",type:"text",label:"Brand"},{name:"number",type:"text",label:"Number"}],label:"Credit Card"}]},w=async(a,b)=>{let{data:c,operation:d}=a,e=c;if("create"===d){let{handlePayment:c}=b||{};"function"==typeof c&&(e=await c(a))}return e},x={async converter({converters:a,node:b,parent:c,submissionData:d}){let e=await L({converters:a,lexicalNodes:b.children,parent:{...b,parent:c},submissionData:d}),f=[b.format?`text-align: ${b.format};`:"",b.indent>0?`padding-inline-start: ${40*b.indent}px;`:""].filter(Boolean).join(" ");return`<${b?.tag}${f?` style='${f}'`:""}>${e}</${b?.tag}>`},nodeTypes:["heading"]},y={converter:()=>"<br>",nodeTypes:["linebreak"]};function z(a){let b="<table>";for(let[c,d]of Object.entries(a))b+=`<tr><td>${c}</td><td>${d}</td></tr>`;return b+"</table>"}let A=(a,b)=>{let c=/\{\{(.+?)\}\}/g;return a&&b?a.replace(c,(a,c)=>{if(c.includes("*")){if("*"===c)return b.map(({field:a,value:b})=>`${a} : ${b}`).join(" <br /> ");else if("*:table"===c)return z(b.reduce((a,{field:b,value:c})=>(a[b]=c,a),{}))}else{let a=b.find(({field:a})=>c===a);if(a)return a.value}return c}):a},B={async converter({converters:a,node:b,parent:c,submissionData:d}){let e=await L({converters:a,lexicalNodes:b.children,parent:{...b,parent:c},submissionData:d}),f="custom"===b.fields.linkType?b.fields.url:b.fields.doc?.value?.id;return d&&(f=A(f,d)),`<a href="${f}"${b.fields.newTab?' rel="noopener noreferrer" target="_blank"':""}>${e}</a>`},nodeTypes:["link"]},C={converter:async({converters:a,node:b,parent:c,submissionData:d})=>{let e=await L({converters:a,lexicalNodes:b.children,parent:{...b,parent:c},submissionData:d});return`<${b?.tag} class="${b?.listType}">${e}</${b?.tag}>`},nodeTypes:["list"]},D={converter:async({converters:a,node:b,parent:c})=>{let d=await L({converters:a,lexicalNodes:b.children,parent:{...b,parent:c}});return"listType"in c&&c?.listType==="check"?`<li aria-checked=${b.checked?"true":"false"} class="${b.checked,"list-item-checkbox-checked"}"
          role="checkbox"
          tabIndex=-1
          value=${b?.value}
      >
          ${d}
          </li>`:`<li value=${b?.value}>${d}</li>`},nodeTypes:["listitem"]},E={async converter({converters:a,node:b,parent:c,submissionData:d}){let e=await L({converters:a,lexicalNodes:b.children,parent:{...b,parent:c},submissionData:d});return`<p>${e}</p>`},nodeTypes:["paragraph"]},F={async converter({converters:a,node:b,parent:c,submissionData:d}){let e=await L({converters:a,lexicalNodes:b.children,parent:{...b,parent:c},submissionData:d}),f=[b.format?`text-align: ${b.format};`:"",b.indent>0?`padding-inline-start: ${40*b.indent}px;`:""].filter(Boolean).join(" ");return`<blockquote${f?` style='${f}'`:""}>${e}</blockquote>`},nodeTypes:["quote"]},G={IS_NORMAL:0,IS_TOKEN:1,IS_SEGMENTED:2,IS_BOLD:1,IS_ITALIC:2,IS_STRIKETHROUGH:4,IS_UNDERLINE:8,IS_CODE:16,IS_SUBSCRIPT:32,IS_SUPERSCRIPT:64,IS_HIGHLIGHT:128,IS_DIRECTIONLESS:1,IS_UNMERGEABLE:2,IS_ALIGN_LEFT:1,IS_ALIGN_CENTER:2,IS_ALIGN_RIGHT:3,IS_ALIGN_JUSTIFY:4,IS_ALIGN_START:5,IS_ALIGN_END:6};G.IS_BOLD,G.IS_ITALIC,G.IS_STRIKETHROUGH,G.IS_UNDERLINE,G.IS_CODE,G.IS_SUBSCRIPT,G.IS_SUPERSCRIPT,G.IS_HIGHLIGHT;let H="---",I="A-Za-z\xc0-\xd6\xd8-\xf6\xf8------";RegExp("^[^"+I+"]*["+H+"]"),RegExp("^[^"+H+"]*["+I+"]"),G.IS_BOLD,G.IS_CODE,G.IS_HIGHLIGHT,G.IS_ITALIC,G.IS_STRIKETHROUGH,G.IS_SUBSCRIPT,G.IS_SUPERSCRIPT,G.IS_UNDERLINE,G.IS_DIRECTIONLESS,G.IS_UNMERGEABLE,G.IS_ALIGN_CENTER,G.IS_ALIGN_END,G.IS_ALIGN_JUSTIFY,G.IS_ALIGN_LEFT,G.IS_ALIGN_RIGHT,G.IS_ALIGN_START,G.IS_ALIGN_CENTER,G.IS_ALIGN_END,G.IS_ALIGN_JUSTIFY,G.IS_ALIGN_LEFT,G.IS_ALIGN_RIGHT,G.IS_ALIGN_START,G.IS_NORMAL,G.IS_SEGMENTED,G.IS_TOKEN,G.IS_NORMAL,G.IS_SEGMENTED,G.IS_TOKEN;let J=[E,{converter({node:a,submissionData:b}){let c=a.text;return b&&(c=A(c,b)),a.format&G.IS_BOLD&&(c=`<strong>${c}</strong>`),a.format&G.IS_ITALIC&&(c=`<em>${c}</em>`),a.format&G.IS_STRIKETHROUGH&&(c=`<span style="text-decoration: line-through">${c}</span>`),a.format&G.IS_UNDERLINE&&(c=`<span style="text-decoration: underline">${c}</span>`),a.format&G.IS_CODE&&(c=`<code>${c}</code>`),a.format&G.IS_SUBSCRIPT&&(c=`<sub>${c}</sub>`),a.format&G.IS_SUPERSCRIPT&&(c=`<sup>${c}</sup>`),c},nodeTypes:["text"]},y,B,x,F,C,D];async function K(a,b){let c=J;return a?.root?.children?.length?await L({converters:c,lexicalNodes:a?.root?.children,parent:a?.root,submissionData:b}):""}async function L({converters:a,lexicalNodes:b,parent:c,submissionData:d}){let e=a.find(a=>a.nodeTypes.includes("unknown"));return(await Promise.all(b.map(async(b,f)=>{let g=a.find(a=>a.nodeTypes.includes(b.type));return g?g.converter({childIndex:f,converters:a,node:b,parent:c,submissionData:d}):e?e.converter({childIndex:f,converters:a,node:b,parent:c,submissionData:d}):"<span>unknown node</span>"}))).join("")||""}var M=c(50200);let N=a=>"text"in a,O=(a,b)=>a?.map(a=>{if(N(a)){let c=a.text.includes("{{*")?A(a.text,b):`<span>${M(A(a.text,b))}</span>`;return a.bold&&(c=`
        <strong>
          ${c}
        </strong>
      `),a.code&&(c=`
        <code>
          ${c}
        </code>
      `),a.italic&&(c=`
        <em >
          ${c}
        </em>
      `),c}if(!a)return null;switch(a.type){case"h1":return`
        <h1>
          ${O(a.children,b)}
        </h1>
      `;case"h2":return`
        <h2>
          ${O(a.children,b)}
        </h2>
      `;case"h3":return`
        <h3>
          ${O(a.children,b)}
        </h3>
      `;case"h4":return`
        <h4>
          ${O(a.children,b)}
        </h4>
      `;case"h5":return`
        <h5>
          ${O(a.children,b)}
        </h5>
      `;case"h6":return`
        <h6>
          ${O(a.children,b)}
        </h6>
      `;case"indent":return`
          <p style="padding-left: 20px">
            ${O(a.children,b)}
          </p>
        `;case"li":return`
        <li>
          ${O(a.children,b)}
        </li>
      `;case"link":return`
          <a href={${M(A(a.url,b))}}>
          ${O(a.children,b)}
        </a>
      `;case"ol":return`
        <ol>
          ${O(a.children,b)}
        </ol>
      `;case"quote":return`
        <blockquote>
          ${O(a.children,b)}
        </blockquote>
      `;case"ul":return`
        <ul>
          ${O(a.children,b)}
        </ul>
      `;default:return`
        <p>
          ${O(a.children,b)}
        </p>
      `}}).filter(Boolean).join(""),P=async(a,b)=>{if("create"===a.operation){let{data:c,doc:{id:d},req:{locale:e,payload:f},req:g}=a,{form:h,submissionData:i}=c||{},{beforeEmail:j,defaultToEmail:k,formOverrides:l}=b||{};try{let b=(await f.findByID({id:h,collection:l?.slug||"forms",locale:e,req:g})).emails,c=[...i,{field:"formSubmissionID",value:String(d)}];if(b&&b.length){let d=await Promise.all(b.map(async a=>{let{bcc:b,cc:d,emailFrom:e,emailTo:g,message:h,replyTo:i,subject:j}=a,l=g||k||f.email.defaultFromAddress,m=A(l,c),o=d?A(d,c):"",p=b?A(b,c):"",q=A(e,c),r=A(i||e,c),s=h&&!Array.isArray(h)&&"root"in h?await K(h,c):O(h,c);return{bcc:p,cc:o,from:q,html:`<div>${s}</div>`,replyTo:r,subject:A(j,c),to:m}})),e=d;"function"==typeof j&&(e=await j(d,a)),await Promise.all(e.map(async a=>{let{to:b}=a;try{return await f.sendEmail(a)}catch(a){f.logger.error({err:a,msg:`Error while sending email to address: ${b}. Email not sent.`})}}))}else f.logger.info({msg:"No emails to send."})}catch(b){let a=`Error while sending one or more emails in form submission id: ${d}.`;f.logger.error({err:b,msg:a})}}},Q=a=>{let b=a?.formOverrides?.slug||"forms",c=[{name:"form",type:"relationship",relationTo:b,required:!0,validate:async(a,{req:{payload:c},req:d})=>{if(!c)return!0;if(c){let e;try{return e=await c.findByID({id:a,collection:b,req:d}),!0}catch(a){return"Cannot create this submission because this form does not exist."}}}},{name:"submissionData",type:"array",fields:[{name:"field",type:"text",required:!0},{name:"value",type:"textarea",required:!0,validate:a=>void 0!==a||"This field is required."}]},...a?.fields?.payment?[v]:[]];return{...a?.formSubmissionOverrides||{},slug:a?.formSubmissionOverrides?.slug||"form-submissions",access:{create:()=>!0,read:({req:{user:a}})=>!!a,update:()=>!1,...a?.formSubmissionOverrides?.access||{}},admin:{...a?.formSubmissionOverrides?.admin||{},enableRichTextRelationship:!1},fields:a?.formSubmissionOverrides?.fields&&"function"==typeof a?.formSubmissionOverrides?.fields?a.formSubmissionOverrides.fields({defaultFields:c}):c,hooks:{...a?.formSubmissionOverrides?.hooks||{},afterChange:[b=>P(b,a),...a?.formSubmissionOverrides?.hooks?.afterChange||[]],beforeChange:[b=>w(b,a),...a?.formSubmissionOverrides?.hooks?.beforeChange||[]]}}},R=a=>b=>{let c={...a,fields:{checkbox:!0,country:!0,email:!0,message:!0,number:!0,payment:!1,select:!0,state:!0,text:!0,textarea:!0,...a.fields}};return{...b,collections:[...b?.collections||[],u(c),Q(c)]}}},34037:(a,b,c)=>{"use strict";let{webidl:d}=c(81399),{validateCloseCodeAndReason:e}=c(92803),{kConstruct:f}=c(10257),{kEnumerableProperty:g}=c(81350);class h extends DOMException{#ap;#aq;constructor(a="",b){if(super(a=d.converters.DOMString(a,"WebSocketError","message"),"WebSocketError"),b===f)return;null!==b&&(b=d.converters.WebSocketCloseInfo(b));let c=b.closeCode??null,g=b.reason??"";e(c,g),0!==g.length&&null===c&&(c=1e3),this.#ap=c,this.#aq=g}get closeCode(){return this.#ap}get reason(){return this.#aq}static createUnvalidatedWebSocketError(a,b,c){let d=new h(a,f);return d.#ap=b,d.#aq=c,d}}let{createUnvalidatedWebSocketError:i}=h;delete h.createUnvalidatedWebSocketError,Object.defineProperties(h.prototype,{closeCode:g,reason:g,[Symbol.toStringTag]:{value:"WebSocketError",writable:!1,enumerable:!1,configurable:!0}}),d.is.WebSocketError=d.util.MakeTypeAssertion(h),a.exports={WebSocketError:h,createUnvalidatedWebSocketError:i}},34049:(a,b,c)=>{"use strict";let d=c(34589),{AsyncResource:e}=c(16698),{Readable:f}=c(12985),{InvalidArgumentError:g,RequestAbortedError:h}=c(64737),i=c(81350);function j(){}class k extends e{constructor(a,b){if(!a||"object"!=typeof a)throw new g("invalid opts");let{signal:c,method:d,opaque:e,body:f,onInfo:k,responseHeaders:l,highWaterMark:m}=a;try{if("function"!=typeof b)throw new g("invalid callback");if(m&&("number"!=typeof m||m<0))throw new g("invalid highWaterMark");if(c&&"function"!=typeof c.on&&"function"!=typeof c.addEventListener)throw new g("signal must be an EventEmitter or EventTarget");if("CONNECT"===d)throw new g("invalid method");if(k&&"function"!=typeof k)throw new g("invalid onInfo callback");super("UNDICI_REQUEST")}catch(a){throw i.isStream(f)&&i.destroy(f.on("error",j),a),a}this.method=d,this.responseHeaders=l||null,this.opaque=e||null,this.callback=b,this.res=null,this.abort=null,this.body=f,this.trailers={},this.context=null,this.onInfo=k||null,this.highWaterMark=m,this.reason=null,this.removeAbortListener=null,c?.aborted?this.reason=c.reason??new h:c&&(this.removeAbortListener=i.addAbortListener(c,()=>{this.reason=c.reason??new h,this.res?i.destroy(this.res.on("error",j),this.reason):this.abort&&this.abort(this.reason)}))}onConnect(a,b){if(this.reason)return void a(this.reason);d(this.callback),this.abort=a,this.context=b}onHeaders(a,b,c,d){let{callback:e,opaque:g,abort:h,context:j,responseHeaders:k,highWaterMark:l}=this,m="raw"===k?i.parseRawHeaders(b):i.parseHeaders(b);if(a<200){this.onInfo&&this.onInfo({statusCode:a,headers:m});return}let o="raw"===k?i.parseHeaders(b):m,p=o["content-type"],q=o["content-length"],r=new f({resume:c,abort:h,contentType:p,contentLength:"HEAD"!==this.method&&q?Number(q):null,highWaterMark:l});this.removeAbortListener&&(r.on("close",this.removeAbortListener),this.removeAbortListener=null),this.callback=null,this.res=r,null!==e&&this.runInAsyncScope(e,null,null,{statusCode:a,headers:m,trailers:this.trailers,opaque:g,body:r,context:j})}onData(a){return this.res.push(a)}onComplete(a){i.parseHeaders(a,this.trailers),this.res.push(null)}onError(a){let{res:b,callback:c,body:d,opaque:e}=this;c&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(c,null,a,{opaque:e})})),b&&(this.res=null,queueMicrotask(()=>{i.destroy(b.on("error",j),a)})),d&&(this.body=null,i.isStream(d)&&(d.on("error",j),i.destroy(d,a))),this.removeAbortListener&&(this.removeAbortListener(),this.removeAbortListener=null)}}function l(a,b){if(void 0===b)return new Promise((b,c)=>{l.call(this,a,(a,d)=>a?c(a):b(d))});try{let c=new k(a,b);this.dispatch(a,c)}catch(d){if("function"!=typeof b)throw d;let c=a?.opaque;queueMicrotask(()=>b(d,{opaque:c}))}}a.exports=l,a.exports.RequestHandler=k},34111:(a,b,c)=>{"use strict";c.d(b,{f:()=>ct});var d=c(7282),e=c(61302);let f={slug:"users",admin:{useAsTitle:"email"},auth:{tokenExpiration:7200},fields:[],labels:{plural:({t:a})=>a("general:users"),singular:({t:a})=>a("general:user")}};var g=c(50510),h=c(82397);let i=a=>a.map(a=>{let b=a.handler;return["patch","post"].includes(a.method)&&(a.handler=async a=>(await (0,g.z)(a),(0,h.r)(a),b(a))),a});var j=c(24401),k=c(8906),l=c(10782);let m=async a=>{let b=(0,k.y)({headers:new Headers,req:a});try{let c=await (0,l.m)({req:a});return Response.json(c,{headers:b,status:j.h.OK})}catch(a){return Response.json({error:a},{headers:b,status:j.h.INTERNAL_SERVER_ERROR})}};var o=c(70404);let p=a=>{let b=a.routeParams?.collection;if("string"!=typeof b)throw new o.L("No collection was specified",400);let c=a.payload.collections[b];if(!c)throw new o.L(`Collection with the slug ${b} was not found`,404);return c},q=(a,{disableSanitize:b,optionalID:c}={})=>{let d=p(a),e=a.routeParams?.id;if("string"!=typeof e){if(c)return{id:void 0,collection:d};throw new o.L("ID was not specified",400)}if(!0===b)return{id:e,collection:d};let f=e,g="number"===a.payload.db.defaultIDType;return g&&"text"===d.customIDType&&(g=!1),g&&(f=parseFloat(f)),{id:f,collection:d}},r=a=>{let b=a.routeParams?.global;if("string"!=typeof b)throw new o.L("No global was specified",400);let c=a.payload.globals.config.find(a=>a.slug===b);if(!c)throw new o.L(`Global with the slug ${b} was not found`,404);return c};var s=c(34952);let t=async a=>{let{t:b}=a,c=p(a),d=c.config.auth?.loginWithUsername?{email:"string"==typeof a.data?.email?a.data.email:"",username:"string"==typeof a.data?.username?a.data.username:""}:{email:"string"==typeof a.data?.email?a.data.email:""};return await (0,s.g)({collection:c,data:d,disableEmail:!!a.data?.disableEmail,expiration:"number"==typeof a.data?.expiration?a.data.expiration:void 0,req:a}),Response.json({message:b("general:success")},{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var u=c(42200);let v=async a=>{let b=await (0,u.M)({collection:p(a).config.slug,req:a});return Response.json({initialized:b},{headers:(0,k.y)({headers:new Headers,req:a})})};var w=c(20876),x=c(75058),y=c(82509);let z=async a=>{let b=p(a),{searchParams:c,t:d}=a,e=c.get("depth"),f=b.config.auth?.loginWithUsername!==!1?{email:"string"==typeof a.data?.email?a.data.email:"",password:"string"==typeof a.data?.password?a.data.password:"",username:"string"==typeof a.data?.username?a.data.username:""}:{email:"string"==typeof a.data?.email?a.data.email:"",password:"string"==typeof a.data?.password?a.data.password:""},g=await (0,y.k)({collection:b,data:f,depth:(0,w.E)(e)?Number(e):void 0,req:a}),h=(0,x.IS)({collectionAuthConfig:b.config.auth,cookiePrefix:a.payload.config.cookiePrefix,token:g.token});return b.config.auth.removeTokenFromResponses&&delete g.token,Response.json({message:d("authentication:passed"),...g},{headers:(0,k.y)({headers:new Headers({"Set-Cookie":h}),req:a}),status:j.h.OK})};var A=c(41728);let B=async a=>{let b=p(a),{searchParams:c,t:d}=a,e=await (0,A.u)({allSessions:"true"===c.get("allSessions"),collection:b,req:a}),f=(0,k.y)({headers:new Headers,req:a});if(!e)return Response.json({message:d("error:logoutFailed")},{headers:f,status:j.h.BAD_REQUEST});let g=(0,x.DN)({collectionAuthConfig:b.config.auth,config:a.payload.config,cookiePrefix:a.payload.config.cookiePrefix});return f.set("Set-Cookie",g),Response.json({message:d("authentication:logoutSuccessful")},{headers:f,status:j.h.OK})},C=(a={})=>{let b={},c=a;return Object.keys(c).forEach(a=>{"false"===c[a]||!1===c[a]?b[a]=!1:b[a]={count:"true"===c[a].count,limit:(0,w.E)(c[a]?.limit)?Number(c[a].limit):void 0,page:(0,w.E)(c[a]?.page)?Number(c[a].page):void 0,sort:c[a]?.sort?c[a].sort:void 0,where:c[a]?.where?c[a].where:void 0}}),b},D=a=>{if(a&&"object"==typeof a)for(let b in a){let c=b;"true"===a[c]?a[c]=!0:"false"===a[c]?a[c]=!1:"object"==typeof a[c]&&D(a[c])}return a},E=a=>{if(a&&"object"==typeof a){for(let b in a)a[b]=D(a[b]);return a}};var F=c(24635),G=c(93514);let H=async a=>{let{searchParams:b}=a,c=p(a),d=(0,F.p)(a),e=b.get("depth"),f=b.get("depth"),{depth:g,draft:h,joins:i,populate:l,select:m}=a.query,o=g||e,q=h||f,r=await (0,G.M)({collection:c,currentToken:d,depth:(0,w.E)(o)?Number(o):void 0,draft:"true"===q,joins:C(i),populate:E(l),req:a,select:D(m)});return c.config.auth.removeTokenFromResponses&&delete r.token,Response.json({...r,message:a.t("authentication:account")},{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var I=c(62503);let J=async a=>{let b=p(a),{t:c}=a,d=(0,k.y)({headers:new Headers,req:a}),e=await (0,I.r)({collection:b,req:a});if(e.setCookie){let c=(0,x.IS)({collectionAuthConfig:b.config.auth,cookiePrefix:a.payload.config.cookiePrefix,token:e.refreshedToken});b.config.auth.removeTokenFromResponses&&delete e.refreshedToken,d.set("Set-Cookie",c)}return Response.json({message:c("authentication:tokenRefreshSuccessful"),...e},{headers:d,status:j.h.OK})};var K=c(86069),L=c(10353),M=c(46386),N=c(23271),O=c(66089),P=c(30500);let Q=async a=>{let{collection:{config:b,config:{slug:c,auth:{verify:d}}},data:e,req:f,req:{payload:g}}=a;if(b.auth.disableLocalStrategy)throw new K.c(f.t);try{let h=await (0,N.n)(f);(0,P.q)({authOptions:b.auth,collectionSlug:c,data:e,operation:"create",req:f});let i=(0,L.v)({enableTrash:!!b.trash,trash:!1,where:{}});if(await g.db.findOne({collection:b.slug,req:f,where:i}))throw new K.c(f.t);let j=await g.create({collection:c,data:e,overrideAccess:!0,req:f});d&&await g.update({id:j.id,collection:c,data:{_verified:!0},req:f});let{exp:k,token:l}=await g.login({...a,collection:c,req:f});return j.collection=c,j._strategy="local-jwt",h&&await (0,M.w)(f),{exp:k,token:l,user:j}}catch(a){throw await (0,O.J)(f),a}},R=async a=>{let b=p(a),{data:c,t:d}=a,e=b.config.auth?.loginWithUsername?{email:"string"==typeof a.data?.email?a.data.email:"",password:"string"==typeof a.data?.password?a.data.password:"",username:"string"==typeof a.data?.username?a.data.username:""}:{email:"string"==typeof a.data?.email?a.data.email:"",password:"string"==typeof a.data?.password?a.data.password:""},f=await Q({collection:b,data:{...c,...e},req:a}),g=(0,x.IS)({collectionAuthConfig:b.config.auth,cookiePrefix:a.payload.config.cookiePrefix,token:f.token});return Response.json({exp:f.exp,message:d("authentication:successfullyRegisteredFirstUser"),token:f.token,user:f.user},{headers:(0,k.y)({headers:new Headers({"Set-Cookie":g}),req:a}),status:j.h.OK})};var S=c(68398);let T=async a=>{let b=p(a),{searchParams:c,t:d}=a,e=c.get("depth"),f=await (0,S.q)({collection:b,data:{password:"string"==typeof a.data?.password?a.data.password:"",token:"string"==typeof a.data?.token?a.data.token:""},depth:e?Number(e):void 0,req:a}),g=(0,x.IS)({collectionAuthConfig:b.config.auth,cookiePrefix:a.payload.config.cookiePrefix,token:f.token});return b.config.auth.removeTokenFromResponses&&delete f.token,Response.json({message:d("authentication:passwordResetSuccessfully"),...f},{headers:(0,k.y)({headers:new Headers({"Set-Cookie":g}),req:a}),status:j.h.OK})};var U=c(72818);let V=async a=>{let b=p(a),{t:c}=a,d=b.config.auth?.loginWithUsername!==!1?{email:"string"==typeof a.data?.email?a.data.email:"",username:"string"==typeof a.data?.username?a.data.username:""}:{email:"string"==typeof a.data?.email?a.data.email:""};return await (0,U.k)({collection:b,data:d,req:a}),Response.json({message:c("general:success")},{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var W=c(30951);let X=async a=>{let{id:b,collection:c}=q(a,{disableSanitize:!0}),{t:d}=a;return await (0,W.p)({collection:c,req:a,token:b}),Response.json({message:d("authentication:accountVerified")},{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})},Y=i([{handler:m,method:"get",path:"/access"}]),Z=i([{handler:t,method:"post",path:"/forgot-password"},{handler:v,method:"get",path:"/init"},{handler:z,method:"post",path:"/login"},{handler:B,method:"post",path:"/logout"},{handler:H,method:"get",path:"/me"},{handler:J,method:"post",path:"/refresh-token"},{handler:R,method:"post",path:"/first-register"},{handler:T,method:"post",path:"/reset-password"},{handler:V,method:"post",path:"/unlock"},{handler:X,method:"post",path:"/verify/:id"}]),$=[{name:"loginAttempts",type:"number",defaultValue:0,hidden:!0},{name:"lockUntil",type:"date",hidden:!0}];var _=c(55511);let aa=[{name:"enableAPIKey",type:"checkbox",admin:{components:{Field:!1}},label:({t:a})=>a("authentication:enableAPIKey")},{name:"apiKey",type:"text",admin:{components:{Field:!1}},hooks:{afterRead:[({req:a,value:b})=>b?a.payload.decrypt(b):void 0],beforeChange:[({req:a,value:b})=>b?a.payload.encrypt(b):null]},label:({t:a})=>a("authentication:apiKey")},{name:"apiKeyIndex",type:"text",admin:{disabled:!0},hidden:!0,hooks:{beforeValidate:[({data:a,req:b,value:c})=>a?.apiKey===!1||a?.apiKey===null||a?.enableAPIKey===!1||a?.enableAPIKey===null?null:a?.apiKey?_.createHmac("sha256",b.payload.secret).update(a.apiKey).digest("hex"):c]}}],ab=[{name:"resetPasswordToken",type:"text",hidden:!0},{name:"resetPasswordExpiration",type:"date",hidden:!0},{name:"salt",type:"text",hidden:!0},{name:"hash",type:"text",hidden:!0}];var ac=c(93462);let ad={name:"email",type:"email",admin:{components:{Field:!1}},hooks:{beforeChange:[({value:a})=>{if(a)return a.toLowerCase().trim()}]},label:({t:a})=>a("general:email"),required:!0,unique:!0,validate:ac.Rp},ae={name:"sessions",type:"array",access:{read:({doc:a,req:{user:b}})=>b?.id===a?.id,update:()=>!1},admin:{disabled:!0},fields:[{name:"id",type:"text",required:!0},{name:"createdAt",type:"date",defaultValue:()=>new Date},{name:"expiresAt",type:"date",required:!0}]},af={name:"username",type:"text",admin:{components:{Field:!1}},hooks:{beforeChange:[({value:a})=>{if(a)return a.toLowerCase().trim()}]},label:({t:a})=>a("authentication:username"),required:!0,unique:!0,validate:ac.Xh},ag=[{name:"_verified",type:"checkbox",access:{create:({req:{user:a}})=>!!a,read:({req:{user:a}})=>!!a,update:({req:{user:a}})=>!!a},admin:{components:{Field:!1}},label:({t:a})=>a("authentication:verified")},{name:"_verificationToken",type:"text",hidden:!0,hooks:{beforeChange:[({data:a,operation:b,originalDoc:c,value:d})=>"update"===b&&a?._verified===!0&&c?._verified===!1?null:d]}}],ah=a=>{let b=[];if(a.useAPIKey&&b.push(...aa),!a.disableLocalStrategy||"object"==typeof a.disableLocalStrategy&&a.disableLocalStrategy.enableFields){let c,d={...ad};a.loginWithUsername&&(c={...af},"object"==typeof a.loginWithUsername&&(!1===a.loginWithUsername.requireEmail&&(d.required=!1),!1===a.loginWithUsername.requireUsername&&(c.required=!1),!1===a.loginWithUsername.allowEmailLogin&&(d.unique=!1))),b.push(d),c&&b.push(c),b.push(...ab),a.verify&&b.push(...ag),a?.maxLoginAttempts&&a.maxLoginAttempts>0&&b.push(...$),a.useSessions&&b.push(ae)}return b};class ai extends o.L{constructor(a){super(`Timestamps are required in the collection ${a.slug} because you have opted in to Versions.`)}}var aj=c(85088),ak=c(65540),al=c(90467);let am=(a,b)=>{let c=[...a||[]];return b.forEach(a=>{let b=null;if((0,ak.Z7)(a)){let d=c.find((c,d)=>!!(0,ak.Z7)(c)&&c.name===a.name&&(b=d,!0));if(d){let e={...d};c.splice(b,1);let f=(0,al.ct)(a,e);(0,ak.sd)(a)&&(0,ak.sd)(e)&&(f.fields=am(e.fields,a.fields)),c.push(f)}else c.push(a)}}),c};var an=c(28207),ao=c(79748),ap=c(33873),aq=c(99408);let ar=async({collection:a,filename:b,req:c})=>{if(b.includes("../")||b.includes("..\\"))throw new K.c(c.t);let{config:d}=a,e=await (0,aq.m)({data:{filename:b},isReadingStaticFile:!0,req:c},d.access.read);if("object"==typeof e){let a={and:[{or:[{filename:{equals:b}}]},e]};d.upload.imageSizes&&d.upload.imageSizes.forEach(({name:c})=>{a.and?.[0]?.or?.push({[`sizes.${c}.filename`]:{equals:b}})});let f=await c.payload.db.findOne({collection:d.slug,req:c,where:a});if(!f)throw new K.c(c.t);return f}};var as=c(29021);function at(a){return new ReadableStream({async pull(b){let{done:c,value:d}=await a.next();c?b.close():b.enqueue(d)}})}async function*au(a){for await(let b of a)yield new Uint8Array(b)}function av({filePath:a,options:b}){return at(au(as.createReadStream(a,b)))}var aw=c(73403),ax=c(7358);function ay({fileSize:a,rangeHeader:b}){if(!b)return{type:"full",range:null};let c=ax(a,b);if(-1===c||-2===c||"bytes"!==c.type||0===c.length)return{type:"invalid",range:null};let d=c[0];return d?{type:"partial",range:{end:d.end,start:d.start}}:{type:"invalid",range:null}}let az=async a=>{let b,c,d,e=p(a),f=a.routeParams?.filename;if(!e.config.upload)throw new o.L(`This collection is not an upload collection: ${e.config.slug}`,j.h.BAD_REQUEST);let g=await ar({collection:e,filename:f,req:a});if(g instanceof Response)return g;if(e.config.upload.handlers?.length){let b=null,c=new Headers;for(let d of e.config.upload.handlers)if((b=await d(a,{doc:g,headers:c,params:{collection:e.config.slug,filename:f}}))&&b instanceof Response)break;if(b instanceof Response)return b}let h=e.config.upload?.staticDir||e.config.slug,i=ap.resolve(`${h}/${f}`);try{b=await ao.stat(i)}catch(b){if("ENOENT"===b.code)return a.payload.logger.error(`File ${f} for collection ${e.config.slug} is missing on the disk. Expected path: ${i}`),Response.json({errors:[{message:"Something went wrong."}]},{headers:(0,k.y)({headers:new Headers,req:a}),status:500});throw b}let l=await (0,an.bN)(i)||(0,aw.F)(i),m=l.mime;i.endsWith(".svg")&&"application/xml"===l.mime&&(m="image/svg+xml");let q=a.headers.get("range"),r=ay({fileSize:b.size,rangeHeader:q});if("invalid"===r.type){let c=new Headers;return c.set("Content-Range",`bytes */${b.size}`),c=e.config.upload?.modifyResponseHeaders&&e.config.upload.modifyResponseHeaders({headers:c})||c,new Response(null,{headers:(0,k.y)({headers:c,req:a}),status:j.h.REQUESTED_RANGE_NOT_SATISFIABLE})}let s=new Headers;s.set("Content-Type",m),s.set("Accept-Ranges","bytes");let t="partial"===r.type,u=r.range;if(t&&u){let a=u.end-u.start+1;s.set("Content-Length",String(a)),s.set("Content-Range",`bytes ${u.start}-${u.end}/${b.size}`),c=av({filePath:i,options:{end:u.end,start:u.start}}),d=j.h.PARTIAL_CONTENT}else s.set("Content-Length",String(b.size)),c=av({filePath:i}),d=j.h.OK;return s=e.config.upload?.modifyResponseHeaders&&e.config.upload.modifyResponseHeaders({headers:s})||s,new Response(c,{headers:(0,k.y)({headers:s,req:a}),status:d})};var aA=c(27362);let aB=i([{handler:async a=>{let{id:b,collection:c}=q(a,{optionalID:!0});if(!a.user)throw new K.c(a.t);let d=c?.config;if(b){if(!await (0,aq.m)({req:a},d.access.update))throw new K.c(a.t)}else if(!await (0,aq.m)({req:a},d.access?.create))throw new K.c(a.t);try{if(!a.url)throw new o.L("Request URL is missing.",400);let{searchParams:b}=new URL(a.url),c=b.get("src");if(!c||"string"!=typeof c)throw new o.L("A valid URL string is required.",400);let e=new URL(c);if("object"==typeof d.upload?.pasteURL&&!(0,aA.W)(e.href,d.upload.pasteURL.allowList))throw new o.L(`The provided URL (${e.href}) is not allowed.`,400);let f=await fetch(e.href,{headers:{"Accept-Encoding":"identity"}});if(!f.ok)throw new o.L(`Failed to fetch file from ${e.href}`,f.status);let g=decodeURIComponent(e.pathname.split("/").pop()||"");return new Response(f.body,{headers:{"Content-Disposition":`attachment; filename="${g}"`,"Content-Length":f.headers.get("content-length")||"","Content-Type":f.headers.get("content-type")||"application/octet-stream"}})}catch(a){throw new o.L(`Error fetching file: ${a instanceof Error?a.message:"Unknown error"}`,500)}},method:"get",path:"/paste-url/:id?"},{handler:az,method:"get",path:"/file/:filename"}]);var aC=c(81218),aD=c(31123);let aE=a=>(b,{siblingData:c})=>!c.filename||(b?!!(0,aD.d)(b,a)||`Invalid file type: '${b}'`:"Invalid file type"),aF=({collectionSlug:a,config:b,filename:c})=>{if(c)return(0,aC.Q)({apiRoute:b.routes?.api||"",path:`/${a}/file/${encodeURIComponent(c)}`,serverURL:b.serverURL})},aG=({collection:a,config:b})=>{let c="object"==typeof a.upload?a.upload:{},d={name:"mimeType",type:"text",admin:{hidden:!0,readOnly:!0},label:"MIME Type"},e={name:"thumbnailURL",type:"text",admin:{hidden:!0,readOnly:!0},hooks:{afterRead:[({originalDoc:c})=>{let d="boolean"!=typeof a.upload?a.upload?.adminThumbnail:void 0;return"function"==typeof d?d({doc:c}):"string"==typeof d&&"sizes"in c&&c.sizes?.[d]?.filename?aF({collectionSlug:a.slug,config:b,filename:c.sizes?.[d].filename}):null}]},label:"Thumbnail URL"},f={name:"width",type:"number",admin:{hidden:!0,readOnly:!0},label:({t:a})=>a("upload:width")},g={name:"height",type:"number",admin:{hidden:!0,readOnly:!0},label:({t:a})=>a("upload:height")},h={name:"filesize",type:"number",admin:{hidden:!0,readOnly:!0},label:({t:a})=>a("upload:fileSize")},i={name:"filename",type:"text",admin:{disableBulkEdit:!0,hidden:!0,readOnly:!0},index:!0,label:({t:a})=>a("upload:fileName")};!0!==a.upload&&("object"!=typeof a.upload||a.upload.filenameCompoundIndex)||(i.unique=!0);let j={name:"url",type:"text",admin:{hidden:!0,readOnly:!0},label:"URL"},k=[{...j,hooks:{afterRead:[({data:c,value:d})=>d&&!c?.filename?d:aF({collectionSlug:a.slug,config:b,filename:c?.filename})]}},e,i,d,h,f,g];return(!1!==c.focalPoint||c.imageSizes||c.resizeOptions)&&(k=k.concat(["focalX","focalY"].map(a=>({name:a,type:"number",admin:{disableGroupBy:!0,disableListColumn:!0,disableListFilter:!0,hidden:!0}})))),c.mimeTypes&&(d.validate=aE(c.mimeTypes)),c.imageSizes&&(k=k.concat([{name:"sizes",type:"group",admin:{hidden:!0},fields:c.imageSizes.map(c=>({name:c.name,type:"group",admin:{hidden:!0,...c.admin?.disableGroupBy&&{disableGroupBy:!0},...c.admin?.disableListColumn&&{disableListColumn:!0},...c.admin?.disableListFilter&&{disableListFilter:!0}},fields:[{...j,admin:{...j.admin,...c.admin?.disableGroupBy&&{disableGroupBy:!0},...c.admin?.disableListColumn&&{disableListColumn:!0},...c.admin?.disableListFilter&&{disableListFilter:!0}},hooks:{afterRead:[({data:d,value:e})=>{if(e&&c.height&&c.width&&!d?.filename)return e;let f=d?.sizes?.[c.name]?.filename;return f?(0,aC.Q)({apiRoute:b.routes?.api||"",path:`/${a.slug}/file/${encodeURIComponent(f)}`,serverURL:b.serverURL}):null}]}},{...f,admin:{...f.admin,...c.admin?.disableGroupBy&&{disableGroupBy:!0},...c.admin?.disableListColumn&&{disableListColumn:!0},...c.admin?.disableListFilter&&{disableListFilter:!0}}},{...g,admin:{...g.admin,...c.admin?.disableGroupBy&&{disableGroupBy:!0},...c.admin?.disableListColumn&&{disableListColumn:!0},...c.admin?.disableListFilter&&{disableListFilter:!0}}},{...d,admin:{...d.admin,...c.admin?.disableGroupBy&&{disableGroupBy:!0},...c.admin?.disableListColumn&&{disableListColumn:!0},...c.admin?.disableListFilter&&{disableListFilter:!0}}},{...h,admin:{...h.admin,...c.admin?.disableGroupBy&&{disableGroupBy:!0},...c.admin?.disableListColumn&&{disableListColumn:!0},...c.admin?.disableListFilter&&{disableListFilter:!0}}},{...i,admin:{...i.admin,...c.admin?.disableGroupBy&&{disableGroupBy:!0},...c.admin?.disableListColumn&&{disableListColumn:!0},...c.admin?.disableListFilter&&{disableListFilter:!0}},unique:!1}],label:c.name})),label:({t:a})=>a("upload:sizes")}])),k};var aH=c(18669),aI=c(8933),aJ=c(80548);let aK={autosaveInterval:2e3},aL=a=>"boolean"==typeof a?a:"true"===a||"false"!==a&&void 0,aM=["autosave","draft","trash","overrideLock","pagination","flattenLocales"],aN=["depth","limit","page"],aO=a=>{let b=a||{};for(let c of aM)c in a&&(b[c]=aL(a[c]));for(let c of aN)c in a&&(0,w.E)(a[c])&&(b[c]=Number(a[c]));return"populate"in a&&(b.populate=E(a.populate)),"select"in a&&(b.select=D(a.select)),"joins"in a&&(b.joins=C(a.joins)),"sort"in a&&(b.sort="string"==typeof a.sort?a.sort.split(","):void 0),"data"in a&&"string"==typeof a.data&&a.data.length>0&&(b.data=JSON.parse(a.data)),b};var aP=c(31052);let aQ=async a=>{let b=p(a),{trash:c,where:d}=aO(a.query),e=await (0,aP.R)({collection:b,req:a,trash:c,where:d});return Response.json(e,{status:j.h.OK})};var aR=c(38203),aS=c(48071);let aT=async a=>{let b=p(a),{autosave:c,depth:d,draft:e,populate:f,select:g}=aO(a.query),h=a.query.publishSpecificLocale,i=await (0,aS.k)({autosave:c,collection:b,data:a.data,depth:d,draft:e,populate:f,publishSpecificLocale:h,req:a,select:g});return Response.json({doc:i,message:a.t("general:successfullyCreated",{label:(0,aR.s)(b.config.labels.singular,a.i18n)})},{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.CREATED})};var aU=c(72688);let aV=async a=>{let b=p(a),{depth:c,overrideLock:d,populate:e,select:f,trash:g,where:h}=aO(a.query),i=await (0,aU.N)({collection:b,depth:c,overrideLock:d??!1,populate:e,req:a,select:f,trash:g,where:h}),l=(0,k.y)({headers:new Headers,req:a});if(0===i.errors.length){let c=a.t("general:deletedCountSuccessfully",{count:i.docs.length,label:(0,aR.s)(b.config.labels[1===i.docs.length?"singular":"plural"],a.i18n)});return Response.json({...i,message:c},{headers:l,status:j.h.OK})}i.errors=i.errors.map(a=>a.isPublic?a:{...a,message:"Something went wrong."});let m=i.docs.length+i.errors.length,o=a.t("error:unableToDeleteCount",{count:i.errors.length,label:(0,aR.s)(b.config.labels[1===m?"singular":"plural"],a.i18n),total:m});return Response.json({...i,message:o},{headers:l,status:j.h.BAD_REQUEST})};var aW=c(32952);let aX=async a=>{let{id:b,collection:c}=q(a),{depth:d,overrideLock:e,populate:f,select:g,trash:h}=aO(a.query),i=await (0,aW.l)({id:b,collection:c,depth:d,overrideLock:e??!1,populate:f,req:a,select:g,trash:h}),l=(0,k.y)({headers:new Headers,req:a});return i?Response.json({doc:i,message:a.t("general:deletedSuccessfully")},{headers:l,status:j.h.OK}):Response.json({message:a.t("general:notFound")},{headers:l,status:j.h.NOT_FOUND})};var aY=c(99899);let aZ=async a=>{let{id:b,collection:c}=q(a,{optionalID:!0}),d=await (0,aY.O)({id:b,collection:c,req:a});return Response.json(d,{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var a$=c(94190);let a_=async a=>{let{id:b,collection:c}=q(a),{depth:d,draft:e,populate:f,select:g,selectedLocales:h}=aO(a.query),i=await (0,a$.h)({id:b,collection:c,data:a.data,depth:d,draft:e,populate:f,req:a,select:g,selectedLocales:h}),l=a.t("general:successfullyDuplicated",{label:(0,aR.s)(c.config.labels.singular,a.i18n)});return Response.json({doc:i,message:l},{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var a0=c(45912);let a1=async a=>{let b=p(a),{depth:c,draft:d,joins:e,limit:f,page:g,pagination:h,populate:i,select:l,sort:m,trash:o,where:q}=aO(a.query),r=await (0,a0.L)({collection:b,depth:c,draft:d,joins:e,limit:f,page:g,pagination:h,populate:i,req:a,select:l,sort:m,trash:o,where:q});return Response.json(r,{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var a2=c(87936);let a3=async a=>{let{data:b}=a,{id:c,collection:d}=q(a),{data:e,depth:f,draft:g,flattenLocales:h,joins:i,populate:l,select:m,trash:o}=aO({...a.query,...b}),p=await (0,a2.$)({id:c,collection:d,data:e,depth:f,draft:g,flattenLocales:h,joins:i,populate:l,req:a,select:m,trash:o});return Response.json(p,{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var a4=c(47566);let a5=async a=>{let{depth:b,populate:c,select:d,trash:e}=aO(a.query),{id:f,collection:g}=q(a),h=await (0,a4.L)({id:f,collection:g,depth:b,populate:c,req:a,select:d,trash:e});return Response.json(h,{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var a6=c(52765);let a7=async a=>{let b=p(a),{depth:c,limit:d,page:e,pagination:f,populate:g,select:h,sort:i,trash:l,where:m}=aO(a.query),o=await (0,a6.s)({collection:b,depth:c,limit:d,page:e,pagination:f,populate:g,req:a,select:h,sort:i,trash:l,where:m});return Response.json(o,{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var a8=c(75041);let a9=async a=>{let{id:b,collection:c}=q(a),{depth:d,draft:e,populate:f}=aO(a.query),g=await (0,a8.c)({id:b,collection:c,depth:d,draft:e,populate:f,req:a});return Response.json({...g,message:a.t("version:restoredSuccessfully")},{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var ba=c(70494);let bb=async a=>{let b=p(a),{depth:c,draft:d,limit:e,overrideLock:f,populate:g,select:h,sort:i,trash:l,where:m}=aO(a.query),o=await (0,ba.L)({collection:b,data:a.data,depth:c,draft:d,limit:e,overrideLock:f??!1,populate:g,req:a,select:h,sort:i,trash:l,where:m}),q=(0,k.y)({headers:new Headers,req:a});if(0===o.errors.length){let c=a.t("general:updatedCountSuccessfully",{count:o.docs.length,label:(0,aR.s)(b.config.labels[1===o.docs.length?"singular":"plural"],a.i18n)});return Response.json({...o,message:c},{headers:q,status:j.h.OK})}o.errors=o.errors.map(a=>a.isPublic?a:{...a,message:"Something went wrong."});let r=o.docs.length+o.errors.length,s=a.t("error:unableToUpdateCount",{count:o.errors.length,label:(0,aR.s)(b.config.labels[1===r?"singular":"plural"],a.i18n),total:r});return Response.json({...o,message:s},{headers:q,status:j.h.BAD_REQUEST})};var bc=c(69138);let bd=[...i([{handler:aQ,method:"get",path:"/count"},{handler:aT,method:"post",path:"/"},{handler:aV,method:"delete",path:"/"},{handler:aX,method:"delete",path:"/:id"},{handler:aZ,method:"post",path:"/access/:id?"},{handler:a7,method:"get",path:"/versions"},{handler:a_,method:"post",path:"/:id/duplicate"},{handler:a1,method:"get",path:"/"},{handler:a3,method:"get",path:"/:id"},{handler:a5,method:"get",path:"/versions/:id"},{handler:a9,method:"post",path:"/versions/:id"},{handler:bb,method:"patch",path:"/"},{handler:async a=>{let{id:b,collection:c}=q(a),{autosave:d,depth:e,draft:f,overrideLock:g,populate:h,publishSpecificLocale:i,select:l,trash:m}=aO(a.query),o=await (0,bc.Z)({id:b,autosave:d,collection:c,data:a.data,depth:e,draft:f,overrideLock:g??!1,populate:h,publishSpecificLocale:i,req:a,select:l,trash:m}),p=a.t("general:updatedSuccessfully");return f&&(p=a.t("version:draftSavedSuccessfully")),d&&(p=a.t("version:autosavedSuccessfully")),Response.json({doc:o,message:p},{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})},method:"patch",path:"/:id"}])];var be=c(84790);be.I,be.I,be.I,be.I,be.I;let bf=a=>(a.access={create:be.I,delete:be.I,read:be.I,unlock:be.I,update:be.I,...a.access||{}},a.admin={components:{},custom:{},enableRichTextLink:!0,enableRichTextRelationship:!0,useAsTitle:"id",...a.admin||{},pagination:{defaultLimit:10,limits:[5,10,25,50,100],...a.admin?.pagination||{}}},a.auth=a.auth??!1,a.custom=a.custom??{},a.endpoints=a.endpoints??[],a.fields=a.fields??[],a.folders=a.folders??!1,a.hooks={afterChange:[],afterDelete:[],afterForgotPassword:[],afterLogin:[],afterLogout:[],afterMe:[],afterOperation:[],afterRead:[],afterRefresh:[],beforeChange:[],beforeDelete:[],beforeLogin:[],beforeOperation:[],beforeRead:[],beforeValidate:[],me:[],refresh:[],...a.hooks||{}},a.timestamps=a.timestamps??!0,a.upload=a.upload??!1,a.versions=a.versions??!1,a.indexes=a.indexes??[],a),bg=a=>(a.cookies={sameSite:"Lax",secure:!1,...a.cookies||{}},a.forgotPassword=a.forgotPassword??{},a.lockTime=a.lockTime??6e5,a.loginWithUsername=a.loginWithUsername??!1,a.maxLoginAttempts=a.maxLoginAttempts??5,a.tokenExpiration=a.tokenExpiration??7200,a.useSessions=a.useSessions??!0,a.verify=a.verify??!1,a.strategies=a.strategies??[],a.disableLocalStrategy||!0!==a.verify||(a.verify={}),a),bh=a=>({allowEmailLogin:!1,requireEmail:!1,requireUsername:!0,...a||{}});var bi=c(72909),bj=c(43835);let bk=({fields:a,indexes:b})=>{let c=[];for(let d of b){let b={fields:[],unique:d.unique??!1};for(let c of d.fields){let d=(0,bj.p)({fields:a,path:c});if(!d)throw new bi.s(`Field ${c} was not found`);let{field:e,localizedPath:f,pathHasLocalized:g}=d;if(["array","blocks","group","tab"].includes(e.type))throw new bi.s(`Compound index on ${e.type} cannot be set. Path: ${f}`);b.fields.push({field:e,localizedPath:f,path:c,pathHasLocalized:g})}c.push(b)}return c};var bl=c(73077);let bm=a=>{if(a.admin?.useAsTitle?.includes("."))throw new bi.s(`"useAsTitle" cannot be a nested field. Please specify a top-level field in the collection "${a.slug}"`);if(a?.admin&&a.admin?.useAsTitle&&"id"!==a.admin.useAsTitle){let b=(0,bl.L)(a.fields).find(b=>!!(0,ak.Z7)(b)&&!!a.admin&&b.name===a.admin.useAsTitle);if(a.auth){if("email"!==a.admin.useAsTitle&&!b)throw new bi.s(`The field "${a.admin.useAsTitle}" specified in "admin.useAsTitle" does not exist in the collection "${a.slug}"`)}else{if(b&&"virtual"in b&&!0===b.virtual)throw new bi.s(`The field "${a.admin.useAsTitle}" specified in "admin.useAsTitle" in the collection "${a.slug}" is virtual. A virtual field can be used as the title only when linked to a relationship field.`);if(!b)throw new bi.s(`The field "${a.admin.useAsTitle}" specified in "admin.useAsTitle" does not exist in the collection "${a.slug}"`)}}},bn=async(a,b,c,d)=>{if(b._sanitized)return b;b._sanitized=!0;let e=bf(b),f=d??a.collections.map(a=>a.slug)??[],g={},h=[];if(e.fields=await (0,aj.b)({collectionConfig:e,config:a,fields:e.fields,joinPath:"",joins:g,parentIsLocalized:!1,polymorphicJoins:h,richTextSanitizationPromises:c,validRelationships:f}),!1!==e.endpoints){if(e.endpoints||(e.endpoints=[]),e.auth)for(let a of Z)e.endpoints.push(a);if(e.upload)for(let a of aB)e.endpoints.push(a);for(let a of bd)e.endpoints.push(a)}if(!1!==e.timestamps){let a=null,b=null,c=null;e.fields.some(d=>((0,ak.Z7)(d)&&("updatedAt"===d.name&&(a=!0),"createdAt"===d.name&&(b=!0),"deletedAt"===d.name&&(c=!0)),b&&a&&(!e.trash||c))),a||e.fields.push({name:"updatedAt",type:"date",admin:{disableBulkEdit:!0,hidden:!0},index:!0,label:({t:a})=>a("general:updatedAt")}),b||e.fields.push({name:"createdAt",admin:{disableBulkEdit:!0,hidden:!0},type:"date",index:!0,label:({t:a})=>a("general:createdAt")}),e.trash&&!c&&e.fields.push({name:"deletedAt",type:"date",admin:{disableBulkEdit:!0,hidden:!0},index:!0,label:({t:a})=>a("general:deletedAt")})}let i=(0,aI.h6)(e.slug);if(e.labels={plural:e.labels?.plural||i.plural,singular:e.labels?.singular||i.singular},e.versions){if(!0===e.versions&&(e.versions={drafts:!1,maxPerDoc:100}),!1===e.timestamps)throw new ai(b);e.versions.maxPerDoc="number"==typeof e.versions.maxPerDoc?e.versions.maxPerDoc:100,e.versions.drafts&&(!0===e.versions.drafts&&(e.versions.drafts={autosave:!1,validate:!1}),!0===e.versions.drafts.autosave&&(e.versions.drafts.autosave={interval:aK.autosaveInterval}),void 0===e.versions.drafts.validate&&(e.versions.drafts.validate=!1),e.fields=am(e.fields,aJ.nz))}else delete e.versions;if(!0===e.folders?e.folders={browseByFolder:!0}:e.folders&&(e.folders.browseByFolder=e.folders.browseByFolder??!0),e.upload){!0===e.upload&&(e.upload={}),e.upload.cacheTags=e.upload?.cacheTags??!0,e.upload.bulkUpload=e.upload?.bulkUpload??!0,e.upload.staticDir=e.upload.staticDir||e.slug,e.admin.useAsTitle=e.admin?.useAsTitle&&"id"!==e.admin.useAsTitle?e.admin.useAsTitle:"filename";let b=aG({collection:e,config:a});e.fields=am(e.fields,b)}if(e.auth){if(e.auth=bg("boolean"==typeof e.auth?{}:e.auth),e.disableDuplicate=e.disableDuplicate??!0,e.auth.loginWithUsername)if(!0===e.auth.loginWithUsername)e.auth.loginWithUsername=bh({});else{let a=bh(e.auth.loginWithUsername);!1===a.allowEmailLogin&&(a.requireUsername=!0),e.auth.loginWithUsername=a}else e.auth.loginWithUsername=!1;b?.admin?.useAsTitle||(e.admin.useAsTitle=e.auth.loginWithUsername?"username":"email"),e.fields=am(e.fields,ah(e.auth))}b?.admin?.pagination?.limits?.length&&(e.admin.pagination.limits=b.admin.pagination.limits),bm(e);let j=e;return j.joins=g,j.polymorphicJoins=h,j.flattenedFields=(0,aH.r)({fields:j.fields}),j.sanitizedIndexes=bk({fields:j.flattenedFields,indexes:j.indexes}),j},bo={slug:"payload-migrations",admin:{hidden:!0},endpoints:!1,fields:[{name:"name",type:"text"},{name:"batch",type:"number"}],graphQL:!1,lockDocuments:!1};class bp extends o.L{constructor(a,b){super(`Collection ${a} already in use: "${b}"`)}}var bq=c(14548),br=c(1953);let bs=({collectionSpecific:a,folderFieldName:b,folderSlug:c,overrides:d={}})=>{let e={name:b,type:"relationship",admin:{},hasMany:!1,index:!0,label:"Folder",relationTo:c,validate:async(b,{collectionSlug:d,data:e,overrideAccess:f,previousValue:g,req:h})=>{if(!a||!b)return!0;let i=(0,br.r)(b);if(g&&(0,br.r)(g)===i)return!0;{let a=null;if(("string"==typeof b||"number"==typeof b)&&(a=await h.payload.findByID({id:i,collection:c,depth:0,overrideAccess:f,req:h,select:{folderType:!0},user:h.user})),!a||!d)return`Folder with ID ${i} not found in collection ${c}`;{let b=a.folderType||[];if(0===b.length)return!0;if(d===c){let a=("folderType"in e?e.folderType:[]).filter(a=>!b.includes(a));return 0===a.length||`Folder with ID ${i} does not allow documents of type ${a.join(", ")}`}return!!b.includes(d)||`Folder with ID ${i} does not allow documents of type ${d}`}}}};return d?.admin&&(e.admin={...e.admin,...d.admin||{}},d.admin.components&&(e.admin.components={...e.admin.components,...d.admin.components||{}})),e},bt=({folderFieldName:a,folderSlug:b})=>async({id:c,req:d})=>{await d.payload.delete({collection:b,req:d,where:{[a]:{equals:c}}})},bu=({collectionSlugs:a,folderFieldName:b})=>async({id:c,req:d})=>{for(let e of a)await d.payload.update({collection:e,data:{[b]:null},req:d,where:{[b]:{equals:c}}})};var bv=c(9085);let bw=({foldersSlug:a})=>async({data:b,originalDoc:c,req:d})=>{let e=(0,br.r)(c||{}),f=(0,br.r)(b?.folder||c?.folder||{});if(Array.isArray(b?.folderType)&&b.folderType.length>0){let f=b.folderType,g=Array.isArray(c?.folderType)&&c.folderType.length>0?c.folderType:void 0,h=g?g.filter(a=>!f.includes(a)):f;if(h&&h.length>0){let f=!1;("string"==typeof e||"number"==typeof e)&&(f=(await d.payload.findByID({id:e,collection:a,joins:{documentsAndFolders:{limit:1e8,where:{or:[{relationTo:{in:h}}]}}},overrideAccess:!0,req:d})).documentsAndFolders.docs.length>0);let g=!1;if(f||"string"!=typeof e&&"number"!=typeof e||(g=(await d.payload.find({collection:a,limit:1,req:d,where:{and:[{folderType:{in:h}},{folder:{equals:e}}]}})).totalDocs>0),f||g){let a=h.map(a=>d.payload.collections[a]?.config.labels.singular?(0,bv.B)(d.payload.collections[a]?.config.labels.plural,d.i18n):a);throw new o.L(`The folder "${b.name||c.name}" contains ${f?"documents":"folders"} that still belong to the following collections: ${a.join(", ")}`,400)}}}else if((b?.folderType===null||Array.isArray(b?.folderType)&&b?.folderType.length===0)&&f){let e;if("string"==typeof f||"number"==typeof f)try{e=await d.payload.findByID({id:f,collection:a,overrideAccess:!0,req:d,select:{name:!0,folderType:!0},user:d.user})}catch(a){}if(e&&e?.folderType&&Array.isArray(e.folderType)&&e.folderType.length>0)throw new o.L(`The folder "${b?.name||c.name}" must have folder-type set since its parent folder ${e?.name?`"${e?.name}" `:""}has a folder-type set.`,400)}return b};async function bx({folderCollectionSlug:a,folderFieldName:b,folderID:c,parentIDToFind:d,payload:e}){let f=await e.findByID({id:c,collection:a}),g=f[b]?(0,br.r)(f[b]):void 0;return!!g&&(g===d||bx({folderCollectionSlug:a,folderFieldName:b,folderID:g,parentIDToFind:d,payload:e}))}let by=({folderFieldName:a})=>async({doc:b,previousDoc:c,req:d})=>{if(c[a]!==b[a]&&b[a]&&d.payload.config.folders){let e=(0,br.r)(b[a]);e&&await bx({folderCollectionSlug:d.payload.config.folders.slug,folderFieldName:a,folderID:e,parentIDToFind:b.id,payload:d.payload})&&await d.payload.update({id:e,collection:d.payload.config.folders.slug,data:{[a]:c[a]?(0,br.r)(c[a]):null},req:d})}},bz=({slug:a,collectionSpecific:b,debug:c,folderEnabledCollections:d,folderFieldName:e})=>{let{collectionOptions:f,collectionSlugs:g}=d.reduce((a,b)=>(a.collectionSlugs.push(b.slug),a.collectionOptions.push({label:b.labels?.plural||b.slug,value:b.slug}),a),{collectionOptions:[],collectionSlugs:[]});return{slug:a,access:{create:be.I,delete:be.I,read:be.I,readVersions:be.I,update:be.I},admin:{hidden:!c,useAsTitle:"name"},fields:[{name:"name",type:"text",index:!0,required:!0},bs({collectionSpecific:b,folderFieldName:e,folderSlug:a,overrides:{admin:{hidden:!c}}}),{name:"documentsAndFolders",type:"join",admin:{hidden:!c},collection:[a,...g],hasMany:!0,on:e},...b?[{name:"folderType",type:"select",admin:{components:{Field:{clientProps:{options:f},path:"@payloadcms/ui#FolderTypeField"}},position:"sidebar"},hasMany:!0,options:f}]:[]],hooks:{afterChange:[by({folderFieldName:e})],afterDelete:[bu({collectionSlugs:g,folderFieldName:e})],beforeDelete:[bt({folderFieldName:e,folderSlug:a})],beforeValidate:[...b?[bw({foldersSlug:a})]:[]]},labels:{plural:"Folders",singular:"Folder"},typescript:{interface:"FolderInterface"}}};async function bA({collectionSpecific:a,config:b,folderEnabledCollections:c,richTextSanitizationPromises:d=[],validRelationships:e=[]}){if(!1===b.folders)return;let f=bz({slug:b.folders.slug,collectionSpecific:a,debug:b.folders.debug,folderEnabledCollections:c,folderFieldName:b.folders.fieldName}),g=b.collections.push(f);if(Array.isArray(b.folders?.collectionOverrides)&&b?.folders.collectionOverrides.length)for(let a of b.folders.collectionOverrides)f=await a({collection:f});let h=await bn(b,f,d,e);b.collections[g-1]=h}let bB=({collection:a,collectionSpecific:b,folderFieldName:c,folderSlug:d})=>{a.fields.push(bs({collectionSpecific:b,folderFieldName:c,folderSlug:d,overrides:{admin:{allowCreate:!1,allowEdit:!1,components:{Cell:"@payloadcms/ui/rsc#FolderTableCell",Field:"@payloadcms/ui/rsc#FolderField"}}}}))};var bC=c(42740);let bD=async a=>{let b=r(a),c=await (0,bC.O)({globalConfig:b,req:a});return Response.json(c,{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var bE=c(35305);let bF=async a=>{let b=r(a),{data:c,searchParams:d}=a,e=c?c.depth:d.get("depth"),f=c?c.flattenLocales:d.has("flattenLocales")?"true"===d.get("flattenLocales"):void 0,g=await (0,bE.j)({slug:b.slug,data:c?c?.data:d.get("data")?JSON.parse(d.get("data")):void 0,depth:(0,w.E)(e)?Number(e):void 0,draft:c?c.draft:"true"===d.get("draft"),flattenLocales:f,globalConfig:b,populate:E(a.query.populate),req:a,select:D(a.query.select)});return Response.json(g,{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var bG=c(97833);let bH=async a=>{let b=r(a),{searchParams:c}=a,d=c.get("depth"),e=await (0,bG.L)({id:a.routeParams.id,depth:(0,w.E)(d)?Number(d):void 0,globalConfig:b,populate:E(a.query.populate),req:a,select:D(a.query.select)});return Response.json(e,{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var bI=c(51960);let bJ=async a=>{let b=r(a),{depth:c,limit:d,page:e,pagination:f,populate:g,select:h,sort:i,where:l}=a.query,m=await (0,bI.s)({depth:(0,w.E)(c)?Number(c):void 0,globalConfig:b,limit:(0,w.E)(d)?Number(d):void 0,page:(0,w.E)(e)?Number(e):void 0,pagination:"false"!==f&&void 0,populate:E(g),req:a,select:D(h),sort:"string"==typeof i?i.split(","):void 0,where:l});return Response.json(m,{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var bK=c(47892);let bL=async a=>{let b=r(a),{searchParams:c}=a,d=c.get("depth"),e=c.get("draft"),f=await (0,bK.c)({id:a.routeParams.id,depth:(0,w.E)(d)?Number(d):void 0,draft:"true"===e||void 0,globalConfig:b,populate:E(a.query.populate),req:a});return Response.json({doc:f,message:a.t("version:restoredSuccessfully")},{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})};var bM=c(79234);let bN=i([{handler:bD,method:"post",path:"/access"},{handler:bF,method:"get",path:"/"},{handler:bH,method:"get",path:"/versions/:id"},{handler:bJ,method:"get",path:"/versions"},{handler:bL,method:"post",path:"/versions/:id"},{handler:async a=>{let b=r(a),{searchParams:c}=a,d=c.get("depth"),e="true"===c.get("draft"),f="true"===c.get("autosave"),g=a.query.publishSpecificLocale,h=await (0,bM.L)({slug:b.slug,autosave:f,data:a.data,depth:(0,w.E)(d)?Number(d):void 0,draft:e,globalConfig:b,populate:E(a.query.populate),publishSpecificLocale:g,req:a,select:D(a.query.select)}),i=a.t("general:updatedSuccessfully");return e&&(i=a.t("version:draftSavedSuccessfully")),f&&(i=a.t("version:autosavedSuccessfully")),Response.json({message:i,result:h},{headers:(0,k.y)({headers:new Headers,req:a}),status:j.h.OK})},method:"post",path:"/"}]),bO=async(a,b,c,d)=>{if(b._sanitized)return b;b._sanitized=!0,b.label=b.label||(0,aI.x4)(b.slug),b.endpoints=b.endpoints??[],b.hooks||(b.hooks={}),b.access||(b.access={}),b.admin||(b.admin={}),b.access.read||(b.access.read=be.I),b.access.update||(b.access.update=be.I),b.hooks.beforeValidate||(b.hooks.beforeValidate=[]),b.hooks.beforeChange||(b.hooks.beforeChange=[]),b.hooks.afterChange||(b.hooks.afterChange=[]),b.hooks.beforeRead||(b.hooks.beforeRead=[]),b.hooks.afterRead||(b.hooks.afterRead=[]);let e=d??a.collections?.map(a=>a.slug)??[];if(b.fields=await (0,aj.b)({config:a,fields:b.fields,globalConfig:b,parentIsLocalized:!1,richTextSanitizationPromises:c,validRelationships:e}),!1!==b.endpoints)for(let a of(b.endpoints||(b.endpoints=[]),bN))b.endpoints.push(a);b.versions&&(!0===b.versions&&(b.versions={drafts:!1,max:100}),b.versions.max="number"==typeof b.versions.max?b.versions.max:100,b.versions.drafts&&(!0===b.versions.drafts&&(b.versions.drafts={autosave:!1,validate:!1}),!0===b.versions.drafts.autosave&&(b.versions.drafts.autosave={interval:aK.autosaveInterval}),void 0===b.versions.drafts.validate&&(b.versions.drafts.validate=!1),b.fields=am(b.fields,aJ.nz))),b.custom||(b.custom={});let f=null,g=null;return b.fields.some(a=>((0,ak.Z7)(a)&&("updatedAt"===a.name&&(f=!0),"createdAt"===a.name&&(g=!0)),g&&f)),f||b.fields.push({name:"updatedAt",type:"date",admin:{disableBulkEdit:!0,hidden:!0},label:({t:a})=>a("general:updatedAt")}),g||b.fields.push({name:"createdAt",type:"date",admin:{disableBulkEdit:!0,hidden:!0},label:({t:a})=>a("general:createdAt")}),b.flattenedFields=(0,aH.r)({fields:b.fields}),b};var bP=c(93204),bQ=c(55878),bR=c(37064);let bS=a=>a?a.or&&!a.and?{or:a.or.map(a=>a.and?a:{and:[a]})}:a.and&&!a.or?{or:[{and:a.and}]}:a.or||a.and?a:{or:[{and:[a]}]}:{};var bT=c(23237);let bU=a=>!!(a?.or&&(a?.or?.length===0||a?.or?.length>0&&a?.or?.[0]?.and&&a?.or?.[0]?.and?.length>0))&&a.or.every(a=>!!(a.and&&Array.isArray(a.and))&&a.and.every(a=>{if("object"!=typeof a)return!1;let b=Object.keys(a);if(0===b.length)return!1;for(let c of b){let b=Object.keys(a[c])[0];if(!b||!bT.L.has(b))return!1}return!0})),bV=["delete","read","update","create"],bW={create:be.I,delete:be.I,read:be.I,unlock:be.I,update:be.I},bX=a=>bV.reduce((b,c)=>(b[c]=async b=>{let{req:d}=b,e=a?.queryPresets?.access?.[c]?await a.queryPresets.access[c](b):!bW?.[c]||bW[c](b);return!1!==e&&("create"===c?e:{and:[{or:[...d?.user?[{and:[{[`access.${c}.users`]:{in:[d.user.id]}},{[`access.${c}.constraint`]:{in:["onlyMe","specificUsers"]}}]}]:[],{[`access.${c}.constraint`]:{equals:"everyone"}},...await Promise.all((a?.queryPresets?.constraints?.[c]||[]).map(async a=>{let d=a.access?await a.access(b):void 0;return{and:[..."object"==typeof d?[d]:!1===d?[{id:{equals:null}}]:[],{[`access.${c}.constraint`]:{equals:a.value}}]}}))]},..."object"==typeof e?[e]:[]]})},b),{});var bY=c(73346);let bZ=async(a,{data:b,overrideAccess:c,req:d})=>{if(!d.context._preventLockout&&!c){let a=await (0,bY.M)({context:{_preventLockout:!0},req:{user:d.user}},d.payload),c=await (0,N.n)(a),e=await a.payload.create({collection:b1,data:{...b,isTemp:!0},req:a}),f=!1,g=!1;try{await a.payload.findByID({id:e.id,collection:b1,overrideAccess:!1,req:a,user:a.user}),g=!0,await a.payload.update({id:e.id,collection:b1,data:e,overrideAccess:!1,req:a,user:a.user}),f=!0}catch(a){if(!g||!f)throw new o.L("This action will lock you out of this preset.",403,{},!0)}finally{c?await (0,O.J)(a):await a.payload.delete({id:e.id,collection:b1,req:a})}}return!0},b$=["read","update","delete"],b_=[{label:"Everyone",value:"everyone"},{label:"Only Me",value:"onlyMe"},{label:"Specific Users",value:"specificUsers"}],b0=a=>({name:"access",type:"group",admin:{components:{Cell:"@payloadcms/ui#QueryPresetsAccessCell"},condition:a=>!!a?.isShared},fields:b$.map(b=>({type:"collapsible",fields:[{name:b,type:"group",admin:{hideGutter:!0},fields:[{name:"constraint",type:"select",defaultValue:"onlyMe",filterOptions:b=>"function"==typeof a?.queryPresets?.filterConstraints?a.queryPresets.filterConstraints(b):b.options,label:({i18n:c})=>`Specify who can ${b} this ${(0,aR.s)(a.queryPresets?.labels?.singular||"Preset",c)}`,options:[...b_,...a?.queryPresets?.constraints?.[b]?.map(a=>({label:a.label,value:a.value}))||[]]},{name:"users",type:"relationship",admin:{condition:a=>a?.access?.[b]?.constraint==="specificUsers"},hasMany:!0,hooks:{beforeChange:[({data:a,req:c})=>a?.access?.[b]?.constraint==="onlyMe"&&c.user?[c.user.id]:a?.access?.[b]?.constraint==="specificUsers"&&c.user?[...a?.access?.[b]?.users||[],c.user.id]:void 0]},relationTo:a.admin?.user??"users"},...a?.queryPresets?.constraints?.[b]?.reduce((a,c)=>(c.fields?.forEach((d,e)=>{a.push({...d}),(0,ak.Z7)(d)&&(a[e].admin={...a[e]?.admin||{},condition:a=>a?.access?.[b]?.constraint===c.value})}),a),[])||[]],label:!1}],label:()=>(0,aI.x4)(b)})),label:"Sharing settings",validate:bZ}),b1="payload-query-presets",b2=a=>({slug:b1,access:bX(a),admin:{defaultColumns:["title","isShared","access","where","columns","groupBy"],hidden:!0,useAsTitle:"title"},fields:[{name:"title",type:"text",required:!0},{name:"isShared",type:"checkbox",defaultValue:!1,validate:(a,{data:b})=>{let c=b;if(c?.access){let b=Object.values(c.access).some(a=>"onlyMe"!==a.constraint);if(!a&&b)return'If any constraint is not "onlyMe", the preset must be shared'}return!0}},b0(a),{name:"where",type:"json",admin:{components:{Cell:"@payloadcms/ui#QueryPresetsWhereCell",Field:"@payloadcms/ui#QueryPresetsWhereField"}},hooks:{beforeValidate:[({data:a})=>{if(a?.where)if(bU(a.where))return a.where;else return bS(a.where);return a?.where}]},label:"Filters"},{name:"columns",type:"json",admin:{components:{Cell:"@payloadcms/ui#QueryPresetsColumnsCell",Field:"@payloadcms/ui#QueryPresetsColumnField"}},validate:a=>{if(a)try{JSON.parse(JSON.stringify(a))}catch{return"Invalid JSON"}return!0}},{name:"groupBy",type:"text",admin:{components:{Cell:"@payloadcms/ui#QueryPresetsGroupByCell",Field:"@payloadcms/ui#QueryPresetsGroupByField"}},label:"Group By"},{name:"relatedCollection",type:"select",admin:{hidden:!0},options:a.collections?a.collections.reduce((a,b)=>(b.enableQueryPresets&&a.push({label:b.labels?.plural||b.slug,value:b.slug}),a),[]):[],required:!0},{name:"isTemp",type:"checkbox",admin:{description:"This is a temporary field used to determine if updating the preset would remove the user's access to it. When `true`, this record will be deleted after running the preset's `validate` function.",disabled:!0,hidden:!0}}],hooks:{beforeValidate:[({data:a,operation:b})=>{let c=a;if(("create"===b||"update"===b)&&(b$.forEach(a=>{c.access||(c.access={}),c.access?.[a]||(c[a]={}),c.access[a]?.constraint||(c.access[a]={...c.access[a],constraint:"onlyMe"})}),c?.access)){let a=Object.values(c.access).some(a=>"onlyMe"!==a.constraint);c.isShared=a}return c}]},labels:{plural:"Presets",singular:"Preset",...a.queryPresets?.labels||{}},lockDocuments:!1});var b3=c(38807),b4=c(21463),b5=c(23042);let b6=({adminUserSlug:a,collections:b,globals:c})=>({slug:"schedulePublish",handler:async({input:b,req:c})=>{let d,e=b?.type!=="publish"&&b?.type?"draft":"published",f=b.user,g=null;return f&&((g=await c.payload.findByID({id:f,collection:a,depth:0})).collection=a),b?.type==="publish"&&b.locale&&c.payload.config.localization&&c.payload.config.localization.locales.find(({code:a})=>a===b.locale)&&(d=b.locale),b.doc&&await c.payload.update({id:b.doc.value,collection:b.doc.relationTo,data:{_status:e},depth:0,overrideAccess:null===g,publishSpecificLocale:d,user:g}),b.global&&await c.payload.updateGlobal({slug:b.global,data:{_status:e},depth:0,overrideAccess:null===g,publishSpecificLocale:d,user:g}),{output:{}}},inputSchema:[{name:"type",type:"radio",defaultValue:"publish",options:["publish","unpublish"]},{name:"locale",type:"text"},...b.length>0?[{name:"doc",type:"relationship",relationTo:b}]:[],{name:"global",type:"select",options:c},{name:"user",type:"relationship",relationTo:a}]}),b7="payload-folders",b8="folder",b9={};class ca{payload;collectionSlug;constructor(a,b){this.payload=a,this.collectionSlug=b}async clear(){await this.payload.db.deleteMany({collection:this.collectionSlug,req:b9,where:{}})}async delete(a){await this.payload.db.deleteOne({collection:this.collectionSlug,req:b9,where:{key:{equals:a}}})}async get(a){let b=await this.payload.db.findOne({collection:this.collectionSlug,joins:!1,req:b9,select:{data:!0,key:!0},where:{key:{equals:a}}});return null===b?null:b.data}async has(a){let{totalDocs:b}=await this.payload.db.count({collection:this.collectionSlug,req:b9,where:{key:{equals:a}}});return b>0}async keys(){return(await this.payload.db.find({collection:this.collectionSlug,limit:0,pagination:!1,req:b9,select:{key:!0}})).docs.map(a=>a.key)}async set(a,b){await this.payload.db.upsert({collection:this.collectionSlug,data:{data:b,key:a},joins:!1,req:b9,select:{},where:{key:{equals:a}}})}}let cb=(a={})=>{let b=a.kvCollectionOverrides?.slug??"payload-kv";return{init:({payload:a})=>new ca(a,b),kvCollection:{slug:b,access:{create:()=>!1,delete:()=>!1,read:()=>!1,update:()=>!1},admin:{hidden:!0},fields:[{name:"key",type:"text",index:!0,required:!0,unique:!0},{name:"data",type:"json",required:!0}],lockDocuments:!1,timestamps:!1,...a.kvCollectionOverrides}}};"function"==typeof process?.cwd&&process.cwd(),"function"==typeof process?.cwd&&process.cwd(),be.I,be.I,be.I,"function"==typeof process?.cwd&&process.cwd();let cc=a=>(a.admin={avatar:"gravatar",components:{},custom:{},dateFormat:"MMMM do yyyy, h:mm a",dependencies:{},theme:"all",...a.admin||{},importMap:{baseDir:`${"function"==typeof process?.cwd?process.cwd():""}`,...a?.admin?.importMap||{}},meta:{defaultOGImageType:"dynamic",robots:"noindex, nofollow",titleSuffix:"- Payload",...a?.admin?.meta||{}},routes:{account:"/account",browseByFolder:"/browse-by-folder",createFirstUser:"/create-first-user",forgot:"/forgot",inactivity:"/logout-inactivity",login:"/login",logout:"/logout",reset:"/reset",unauthorized:"/unauthorized",...a?.admin?.routes||{}}},a.bin=a.bin??[],a.collections=a.collections??[],a.cookiePrefix=a.cookiePrefix??"payload",a.cors=a.cors??[],a.csrf=a.csrf??[],a.custom=a.custom??{},a.defaultDepth=a.defaultDepth??2,a.defaultMaxTextLength=a.defaultMaxTextLength??4e4,a.endpoints=a.endpoints??[],a.globals=a.globals??[],a.graphQL={disableIntrospectionInProduction:!0,disablePlaygroundInProduction:!0,maxComplexity:1e3,schemaOutputFile:`${"function"==typeof process?.cwd?process.cwd():""}/schema.graphql`,...a.graphQL||{}},a.hooks=a.hooks??{},a.i18n=a.i18n??{},a.jobs={deleteJobOnComplete:!0,depth:0,...a.jobs||{},access:{cancel:be.I,queue:be.I,run:be.I,...a.jobs?.access||{}}},a.localization=a.localization??!1,a.maxDepth=a.maxDepth??10,a.routes={admin:"/admin",api:"/api",graphQL:"/graphql",graphQLPlayground:"/graphql-playground",...a.routes||{}},a.serverURL=a.serverURL??"",a.telemetry=a.telemetry??!0,a.typescript={autoGenerate:!0,outputFile:`${"function"==typeof process?.cwd?process.cwd():""}/payload-types.ts`,...a.typescript||{}},a.upload=a.upload??{},a.auth={jwtOrder:["JWT","Bearer","cookie"],...a.auth||{}},a.kv=a.kv??cb(),a.kv?.kvCollection&&a.collections.push(a.kv.kvCollection),!1!==a.folders&&a.collections.some(a=>!!a.folders)?a.folders={slug:a.folders?.slug??b7,browseByFolder:a.folders?.browseByFolder??!0,collectionOverrides:a.folders?.collectionOverrides||void 0,collectionSpecific:a.folders?.collectionSpecific??!0,debug:a.folders?.debug??!1,fieldName:a.folders?.fieldName??b8}:a.folders=!1,a);var cd=c(39182);let ce="0123456789abcdefghijklmnopqrstuvwxyz";function cf(a,b,c){let d=c[0];if(null!=b&&a>=b)throw Error(a+" >= "+b);if(a.slice(-1)===d||b&&b.slice(-1)===d)throw Error("trailing zero");if(b){let e=0;for(;(a[e]||d)===b[e];)e++;if(e>0)return b.slice(0,e)+cf(a.slice(e),b.slice(e),c)}let e=a?c.indexOf(a[0]):0,f=null!=b?c.indexOf(b[0]):c.length;return f-e>1?c[Math.round(.5*(e+f))]:b&&b.length>1?b.slice(0,1):c[e]+cf(a.slice(1),null,c)}function cg(a){if(a.length!==ch(a[0]))throw Error("invalid integer part of order key: "+a)}function ch(a){if(a>="a"&&a<="z")return a.charCodeAt(0)-97+2;if(a>="A"&&a<="Z")return 90-a.charCodeAt(0)+2;throw Error("invalid order key head: "+a)}function ci(a){let b=ch(a[0]);if(b>a.length)throw Error("invalid order key: "+a);return a.slice(0,b)}function cj(a,b){if(a==="A"+b[0].repeat(26))throw Error("invalid order key: "+a);let c=ci(a);if(a.slice(c.length).slice(-1)===b[0])throw Error("invalid order key: "+a)}function ck(a,b){cg(a);let[c,...d]=a.split(""),e=!0;for(let a=d.length-1;e&&a>=0;a--){let c=b.indexOf(d[a])+1;c===b.length?d[a]=b[0]:(d[a]=b[c],e=!1)}if(!e)return c+d.join("");{if("Z"===c)return"a"+b[0];if("z"===c)return null;let a=String.fromCharCode(c.charCodeAt(0)+1);return a>"a"?d.push(b[0]):d.pop(),a+d.join("")}}function cl(a,b){cg(a);let[c,...d]=a.split(""),e=!0;for(let a=d.length-1;e&&a>=0;a--){let c=b.indexOf(d[a])-1;-1===c?d[a]=b.slice(-1):(d[a]=b[c],e=!1)}if(!e)return c+d.join("");{if("a"===c)return"Z"+b.slice(-1);if("A"===c)return null;let a=String.fromCharCode(c.charCodeAt(0)-1);return a<"Z"?d.push(b.slice(-1)):d.pop(),a+d.join("")}}function cm(a,b,c=ce){if(null!=a&&cj(a,c),null!=b&&cj(b,c),null!=a&&null!=b&&a>=b)throw Error(a+" >= "+b);if(null==a){if(null==b)return"a"+c[0];let a=ci(b),d=b.slice(a.length);if(a==="A"+c[0].repeat(26))return a+cf("",d,c);if(a<b)return a;let e=cl(a,c);if(null==e)throw Error("cannot decrement any more");return e}if(null==b){let b=ci(a),d=a.slice(b.length),e=ck(b,c);return null==e?b+cf(d,null,c):e}let d=ci(a),e=a.slice(d.length),f=ci(b),g=b.slice(f.length);if(d===f)return d+cf(e,g,c);let h=ck(d,c);if(null==h)throw Error("cannot increment any more");return h<b?h:d+cf(e,null,c)}function cn(a,b,c,d=ce){if(0===c)return[];if(1===c)return[cm(a,b,d)];if(null==b){let e=cm(a,b,d),f=[e];for(let a=0;a<c-1;a++)f.push(e=cm(e,b,d));return f}if(null==a){let e=cm(a,b,d),f=[e];for(let b=0;b<c-1;b++)f.push(e=cm(a,e,d));return f.reverse(),f}let e=Math.floor(c/2),f=cm(a,b,d);return[...cn(a,f,e,d),f,...cn(f,b,c-e-1,d)]}let co=a=>{let b=new Map;a.collections.forEach(c=>{if(c.orderable){let a=b.get(c)||[];b.set(c,[...a,"_order"]),c.defaultSort=c.defaultSort??"_order"}(0,cd.m)({callback:({field:c,parentRef:d,ref:e})=>{if("array"===c.type||"blocks"===c.type)return!1;if("group"===c.type||"tab"===c.type){let a=d?.prefix?`${d.prefix}_`:"";e.prefix=`${a}${c.name}`}if("join"===c.type&&!0===c.orderable){if(Array.isArray(c.collection))throw new o.L("Orderable joins must target a single collection",j.h.BAD_REQUEST,{},!0);let e=a.collections.find(a=>a.slug===c.collection);if(!e)return!1;c.defaultSort=c.defaultSort??`_${c.collection}_${c.name}_order`;let f=b.get(e)||[],g=d?.prefix?`${d.prefix}_`:"";b.set(e,[...f,`_${c.collection}_${g}${c.name}_order`])}},fields:c.fields})}),Array.from(b.entries()).forEach(([a,b])=>{cp(a,b)}),b.size>0&&cq(a)},cp=(a,b)=>{b.forEach(b=>{let c={name:b,type:"text",admin:{disableBulkEdit:!0,disabled:!0,disableGroupBy:!0,disableListColumn:!0,disableListFilter:!0,hidden:!0,readOnly:!0},hooks:{beforeDuplicate:[({siblingData:a})=>{delete a[b]}]},index:!0};a.fields.unshift(c)}),a.hooks||(a.hooks={}),a.hooks.beforeChange||(a.hooks.beforeChange=[]);let c=async({data:c,originalDoc:d,req:e})=>{for(let f of b)if(!c[f]&&!d?.[f]){let b=await e.payload.find({collection:a.slug,depth:0,limit:1,pagination:!1,req:e,select:{[f]:!0},sort:`-${f}`,where:{[f]:{exists:!0}}}),d=b.docs[0]?.[f]||null;c[f]=cm(d,null)}return c};a.hooks.beforeChange.push(c)},cq=a=>{let b={handler:async b=>{let{collectionSlug:c,docsToMove:d,newKeyWillBe:e,orderableFieldName:f,target:g}=await b.json?.();if(!Array.isArray(d)||0===d.length)return new Response(JSON.stringify({error:"docsToMove must be a non-empty array"}),{headers:{"Content-Type":"application/json"},status:400});if("greater"!==e&&"less"!==e)return new Response(JSON.stringify({error:'newKeyWillBe must be "greater" or "less"'}),{headers:{"Content-Type":"application/json"},status:400});let h=a.collections.find(a=>a.slug===c);if(!h)return new Response(JSON.stringify({error:`Collection ${c} not found`}),{headers:{"Content-Type":"application/json"},status:400});if("string"!=typeof f)return new Response(JSON.stringify({error:"orderableFieldName must be a string"}),{headers:{"Content-Type":"application/json"},status:400});if(h.access?.update&&await (0,aq.m)({id:d[0],data:{},req:b},h.access.update),!g.key){let{docs:a}=await b.payload.find({collection:h.slug,depth:0,limit:0,req:b,select:{[f]:!0},where:{[f]:{exists:!1}}});await (0,N.n)(b);try{for(let c of a)await b.payload.update({id:c.id,collection:h.slug,data:{},depth:0,req:b}),await (0,M.w)(b)}catch(a){if(await (0,O.J)(b),a instanceof Error)throw new o.L(a.message,j.h.INTERNAL_SERVER_ERROR)}return new Response(JSON.stringify({message:"initial migration",success:!0}),{headers:{"Content-Type":"application/json"},status:200})}if("object"!=typeof g||void 0===g.id||"string"!=typeof g.key)return new Response(JSON.stringify({error:"target must be an object with id"}),{headers:{"Content-Type":"application/json"},status:400});let i=g.id,k=g.key;if("pending"===k){let a=await b.payload.findByID({id:i,collection:h.slug,depth:0,select:{[f]:!0}});k=a?.[f]||null}let l=await b.payload.find({collection:h.slug,depth:0,limit:1,pagination:!1,select:{[f]:!0},sort:"greater"===e?f:`-${f}`,where:{[f]:{["greater"===e?"greater_than":"less_than"]:k}}}),m=l.docs?.[0]?.[f]||null,p="greater"===e?cn(k,m,d.length):cn(m,k,d.length);for(let[a,c]of d.entries())await b.payload.update({id:c,collection:h.slug,data:{[f]:p[a]},depth:0,req:b});return new Response(JSON.stringify({orderValues:p,success:!0}),{headers:{"Content-Type":"application/json"},status:200})},method:"post",path:"/reorder"};a.endpoints||(a.endpoints=[]),a.endpoints.push(b)},cr=a=>{let b={...a};if(a?.compatibility?.allowLocalizedWithinLocalized&&(process.env.NEXT_PUBLIC_PAYLOAD_COMPATIBILITY_allowLocalizedWithinLocalized="true"),b.loggingLevels={Forbidden:"info",Locked:"info",MissingFile:"info",NotFound:"info",ValidationError:"info",...b.loggingLevels||{}},(b.admin.dashboard??={widgets:[]}).widgets.push({slug:"collections",ComponentPath:"@payloadcms/ui/rsc#CollectionCards",minWidth:"full"}),b.admin.dashboard.defaultLayout??=[{widgetSlug:"collections",width:"full"}],!b?.admin?.user){let a=b.collections.find(({auth:a})=>!!a);a?b.admin.user=a.slug:(b.admin.user=f.slug,b.collections.push(f))}let c=b.collections.find(({slug:a})=>a===b.admin.user);if(!c||!c.auth)throw new bi.s(`${b.admin.user} is not a valid admin user collection`);b?.admin?.timezones?("function"==typeof b?.admin?.timezones?.supportedTimezones&&(b.admin.timezones.supportedTimezones=b.admin.timezones.supportedTimezones({defaultTimezones:bq.Y})),b?.admin?.timezones?.supportedTimezones||(b.admin.timezones.supportedTimezones=bq.Y)):b.admin.timezones={supportedTimezones:bq.Y};let d=Intl.supportedValuesOf("timeZone");return b.admin.timezones.supportedTimezones.forEach(a=>{if("UTC"!==a.value&&!d.includes(a.value))throw new bi.s(`Timezone ${a.value} is not supported by the current runtime via the Intl API.`)}),b},cs=async a=>{let b=cc(a),c=cr(b);for(let a of(co(c),c.endpoints||(c.endpoints=[]),Y))c.endpoints.push(a);c.localization&&c.localization.locales?.length>0&&("string"==typeof c.localization.locales[0]?(c.localization.localeCodes=[...c.localization.locales],c.localization.locales=c.localization.locales.map(a=>({code:a,label:a,rtl:!1,toString:()=>a}))):(c.localization.localeCodes=c.localization.locales.map(a=>a.code),c.localization.locales=c.localization.locales.map(a=>({...a,toString:()=>a.code}))),c.localization.fallback=c.localization?.fallback??!0);let f={fallbackLanguage:"en",supportedLanguages:{en:d.en},translations:{}};if(a?.i18n){f.supportedLanguages=a.i18n?.supportedLanguages||f.supportedLanguages;let b=Object.keys(f.supportedLanguages),c=a.i18n?.fallbackLanguage||f.fallbackLanguage;f.fallbackLanguage=b.includes(c)?c:b[0],f.translations=a.i18n?.translations||f.translations}c.i18n=f;let g=[],h=[],i=[],j=[],k=new Set,l=[...c.collections?.map(a=>a.slug)??[],b3.SJ,bQ.q,bR.Y];if(!1!==c.folders&&l.push(c.folders.slug),c.blocks=[],a.blocks?.length)for(let b of a.blocks){let a=b;if(!0===a._sanitized)continue;a._sanitized=!0,a.fields=a.fields.concat(bP.s),a.labels=a.labels?a.labels:(0,aI.h6)(a.slug),a.fields=await (0,aj.b)({config:c,existingFieldNames:new Set,fields:a.fields,parentIsLocalized:!1,richTextSanitizationPromises:g,validRelationships:l});let d=(0,aH.Q)({block:b});c.blocks.push(d)}let m=[];for(let a=0;a<c.collections.length;a++){if(k.has(c.collections[a].slug))throw new bp("slug",c.collections[a].slug);k.add(c.collections[a].slug);let b=c.collections[a]?.versions?.drafts;"object"==typeof b&&b.schedulePublish&&h.push(c.collections[a].slug),c.collections[a].enableQueryPresets&&(i.push(c.collections[a].slug),l.includes(b1)||l.push(b1)),!1!==c.folders&&c.collections[a].folders&&bB({collection:c.collections[a],collectionSpecific:c.folders.collectionSpecific,folderFieldName:c.folders.fieldName,folderSlug:c.folders.slug}),c.collections[a]=await bn(c,c.collections[a],g,l),!1!==c.folders&&c.collections[a].folders&&m.push(c.collections[a])}if(c.globals.length>0)for(let a=0;a<c.globals.length;a++)(0,b5._N)(c.globals[a])&&j.push(c.globals[a].slug),c.globals[a]=await bO(c,c.globals[a],g,l);if((h.length||j.length)&&((c.jobs??={}).tasks??=[]).push(b6({adminUserSlug:c.admin.user,collections:h,globals:j})),(c.jobs??={}).enabled=!!(Array.isArray(b.jobs?.tasks)&&b.jobs?.tasks?.length||Array.isArray(b.jobs?.workflows)&&b.jobs?.workflows?.length),c.jobs.enabled){(c?.jobs?.tasks?.length&&c.jobs.tasks.some(a=>a.schedule)||c?.jobs?.workflows?.length&&c.jobs.workflows.some(a=>a.schedule))&&(c.jobs.scheduling=!0,(c.globals??=[]).push(await bO(c,(0,b4.u)(c),g,l)),c.jobs.stats=!0);let a=(0,b3.MT)(c.jobs);if("function"==typeof c.jobs.jobsCollectionOverrides){a=c.jobs.jobsCollectionOverrides({defaultJobsCollection:a});let b=a?.hooks;if(b&&c?.jobs?.runHooks!==!0)for(let[a,c]of Object.entries(b)){let b=+("afterRead"===a||"beforeChange"===a);if(c.length>b){console.warn(`The jobsCollectionOverrides function is returning a collection with an additional ${a} hook defined. These hooks will not run unless the jobs.runHooks option is set to true. Setting this option to true will negatively impact performance.`);break}}}let b=await bn(c,a,g,l);(c.collections??=[]).push(b)}!1!==c.folders&&m.length&&await bA({collectionSpecific:c.folders.collectionSpecific,config:c,folderEnabledCollections:m,richTextSanitizationPromises:g,validRelationships:l}),b.collections.push(await bn(c,(0,bQ.l)(c),g,l)),b.collections.push(await bn(c,(0,bR.p)(c),g,l));let o=await bn(c,bo,g,l);c?.db?.indexSortableFields&&(o.indexes=[{fields:["batch","name"],unique:!1}]),b.collections.push(o),i.length>0&&b.collections.push(await bn(c,b2(c),g,l)),""!==c.serverURL&&c.csrf.push(c.serverURL);let p=new Set;for(let a of c.collections)a.upload?.adapter&&p.add(a.upload.adapter);c.upload||(c.upload={adapters:[]}),c.upload.adapters=Array.from(new Set(c.collections.map(a=>a.upload?.adapter).filter(Boolean))),a.email&&(c.email=a.email),"function"==typeof a.editor&&(c.editor=await a.editor({config:c,isRoot:!0,parentIsLocalized:!1}),c.editor.i18n&&Object.keys(c.editor.i18n).length>=0&&(c.i18n.translations=(0,e.p)(c.i18n.translations,c.editor.i18n)));let q=[];for(let a of g)q.push(a(c));return await Promise.all(q),c};async function ct(a){if(Array.isArray(a.plugins)){let b=a;for(let c of a.plugins)b=await c(b);return await cs(b)}return await cs(a)}},34318:(a,b,c)=>{"use strict";function d(a,...b){let c=new URL("https://lexical.dev/docs/error"),e=new URLSearchParams;for(let c of(e.append("code",a),b))e.append("v",c);throw c.search=e.toString(),Error(`Minified Lexical error #${a}; visit ${c.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}c.d(b,{Cyw:()=>dq,GMe:()=>db,I2P:()=>cw,Kp7:()=>dp,NiT:()=>ea,WKo:()=>b3,bSg:()=>dF,dxY:()=>e1,fGB:()=>dl,ff4:()=>dm,guI:()=>aX,ieJ:()=>dH,kBm:()=>b_,kFe:()=>cm,lJ7:()=>dE,nYP:()=>eQ,pTq:()=>eJ,sTu:()=>cl,sby:()=>eR,vJq:()=>cM,wH$:()=>b4});let e="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,f=e&&"documentMode"in document?document.documentMode:null,g=e&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),h=e&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),i=!(!e||!("InputEvent"in window)||f)&&"getTargetRanges"in new window.InputEvent("input"),j=e&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),k=e&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,l=e&&/Android/.test(navigator.userAgent),m=e&&/^(?=.*Chrome).*/i.test(navigator.userAgent),o=e&&l&&m,p=e&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!m;function q(...a){let b=[];for(let c of a)if(c&&"string"==typeof c)for(let[a]of c.matchAll(/\S+/g))b.push(a);return b}let r=1,s=3,t=9,u=11,v=0,w=1,x=2,y=4,z=8,A=128,B=2047,C=1,D=2,E=3,F=4,G=5,H=6,I=j||k||p?"\xa0":"",J="\n\n",K=h?"\xa0":I,L={bold:1,capitalize:1024,code:16,highlight:128,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512},M={directionless:1,unmergeable:2},N={center:2,end:6,justify:4,left:1,right:3,start:5},O={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},P={normal:0,segmented:2,token:1},Q={0:"normal",2:"segmented",1:"token"},R="$config";function S(a,b,c,d,e,f){let g=a.getFirstChild();for(;null!==g;){let a=g.__key;g.__parent===b&&(dm(g)&&S(g,a,c,d,e,f),c.has(a)||f.delete(a),e.push(a)),g=g.getNextSibling()}}let T=100,U=!1,V=0;function W(a){V=a.timeStamp}function X(a,b,c){let d="BR"===a.nodeName,e=b.__lexicalLineBreak;return e&&(a===e||d&&a.previousSibling===e)||d&&void 0!==d6(a,c)}function Y(a,b,c){let d=eO(eG(c)),e=null,f=null;null!==d&&d.anchorNode===a&&(e=d.anchorOffset,f=d.focusOffset);let g=a.nodeValue;null!==g&&ej(b,g,e,f,!1)}function Z(a,b,c){if(cw(a)){let b=a.anchor.getNode();if(b.is(c)&&a.format!==b.getFormat())return!1}return dX(b)&&c.isAttached()}function $(a,b,c,d){for(let e=a;e&&!e2(e);e=eA(e)){let a=d6(e,b);if(void 0!==a){let b=d4(a,c);if(b)return dq(b)||!eR(e)?void 0:[e,b]}else if(e===d)return[d,eb(c)]}}function _(a,b,c){U=!0;let d=performance.now()-V>T;try{di(a,()=>{let e=cM()||function(a){return a.getEditorState().read(()=>{let a=cM();return null!==a?a.clone():null})}(a),f=new Map,g=a.getRootElement(),i=a._editorState,j=a._blockCursorElement,k=!1,l="";for(let c=0;c<b.length;c++){let m=b[c],o=m.type,p=m.target,q=$(p,a,i,g);if(!q)continue;let[r,s]=q;if("characterData"===o)d&&cm(s)&&dX(p)&&Z(e,p,s)&&Y(p,s,a);else if("childList"===o){k=!0;let b=m.addedNodes;for(let c=0;c<b.length;c++){let d=b[c],e=d5(d),f=d.parentNode;if(null!=f&&d!==j&&null===e&&!X(d,f,a)){if(h){let a=(eR(d)?d.innerText:null)||d.nodeValue;a&&(l+=a)}f.removeChild(d)}}let c=m.removedNodes,d=c.length;if(d>0){let b=0;for(let e=0;e<d;e++){let d=c[e];(X(d,p,a)||j===d)&&(p.appendChild(d),b++)}d!==b&&f.set(r,s)}}}if(f.size>0)for(let[b,c]of f)c.reconcileObservedMutation(b,a);let m=c.takeRecords();if(m.length>0){for(let b=0;b<m.length;b++){let c=m[b],d=c.addedNodes,e=c.target;for(let b=0;b<d.length;b++){let c=d[b],f=c.parentNode;null==f||"BR"!==c.nodeName||X(c,e,a)||f.removeChild(c)}}c.takeRecords()}null!==e&&(k&&ec(e),h&&ew(a)&&e.insertRawText(l))})}finally{U=!1}}function aa(a){let b=a._observer;null!==b&&_(a,b.takeRecords(),b)}function ab(a){!function(a){0===V&&eG(a).addEventListener("textInput",W,!0)}(a),a._observer=new MutationObserver((b,c)=>{_(a,b,c)})}function ac(a){let b=new Map,c=new Set;for(let d="function"==typeof a?a:a.replace;d.prototype&&void 0!==d.prototype.getType;d=Object.getPrototypeOf(d)){let{ownNodeConfig:a}=e4(d);if(a&&a.stateConfigs)for(let d of a.stateConfigs){let a;"stateConfig"in d?(a=d.stateConfig,d.flat&&c.add(a.key)):a=d,b.set(a.key,a)}}return{flatKeys:c,sharedConfigMap:b}}class ad{constructor(a,b,c,d=new Map,e){this.node=a,this.sharedNodeState=b,this.unknownState=c,this.knownState=d;let{sharedConfigMap:f}=this.sharedNodeState,g=void 0!==e?e:function(a,b,c){let d=c.size;if(b)for(let e in b){let b=a.get(e);b&&c.has(b)||d++}return d}(f,c,d);this.size=g}getValue(a){let b=this.knownState.get(a);if(void 0!==b)return b;this.sharedNodeState.sharedConfigMap.set(a.key,a);let c=a.defaultValue;if(this.unknownState&&a.key in this.unknownState){let b=this.unknownState[a.key];void 0!==b&&(c=a.parse(b)),this.updateFromKnown(a,c)}return c}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){let a={...this.unknownState},b={};for(let[b,c]of this.knownState)b.isEqual(c,b.defaultValue)?delete a[b.key]:a[b.key]=b.unparse(c);for(let c of this.sharedNodeState.flatKeys)c in a&&(b[c]=a[c],delete a[c]);return ag(a)&&(b.$=a),b}getWritable(a){if(this.node===a)return this;let{sharedNodeState:b,unknownState:c}=this,d=new Map(this.knownState);return new ad(a,b,function(a,b,c){let d;if(c)for(let[e,f]of Object.entries(c)){let c=a.get(e);c?b.has(c)||b.set(c,c.parse(f)):(d=d||{})[e]=f}return d}(b.sharedConfigMap,d,c),d,this.size)}updateFromKnown(a,b){let c=a.key;this.sharedNodeState.sharedConfigMap.set(c,a);let{knownState:d,unknownState:e}=this;d.has(a)||e&&c in e||(e&&(delete e[c],this.unknownState=ag(e)),this.size++),d.set(a,b)}updateFromUnknown(a,b){let c=this.sharedNodeState.sharedConfigMap.get(a);c?this.updateFromKnown(c,c.parse(b)):(this.unknownState=this.unknownState||{},a in this.unknownState||this.size++,this.unknownState[a]=b)}updateFromJSON(a){let{knownState:b}=this;for(let a of b.keys())b.set(a,a.defaultValue);if(this.size=b.size,this.unknownState=void 0,a)for(let[b,c]of Object.entries(a))this.updateFromUnknown(b,c)}}function ae(a){let b=a.getWritable(),c=b.__state?b.__state.getWritable(b):new ad(b,af(b));return b.__state=c,c}function af(a){return a.__state?a.__state.sharedNodeState:dM(eY(),a.getType()).sharedNodeState}function ag(a){if(a)for(let b in a)return a}function ah(a,b,c){for(let[d,e]of b.knownState){if(a.has(d.key))continue;a.add(d.key);let b=c?c.getValue(d):d.defaultValue;if(b!==e&&!d.isEqual(b,e))return!0}return!1}function ai(a,b,c){let{unknownState:d}=b,e=c?c.unknownState:void 0;if(d){for(let[b,c]of Object.entries(d))if(!a.has(b)&&(a.add(b),c!==(e?e[b]:void 0)))return!0}return!1}function aj(a,b){let c=a.__state;return c&&c.node===a?c.getWritable(b):c}function ak(a,b){let c=a.__mode,d=a.__format,e=a.__style,f=b.__mode,g=b.__format,h=b.__style,i=a.__state,j=b.__state;return(null===c||c===f)&&(null===d||d===g)&&(null===e||e===h)&&(null===a.__state||i===j||function(a,b){if(a===b)return!0;if(a&&b&&a.size!==b.size)return!1;let c=new Set;return!(a&&ah(c,a,b)||b&&ah(c,b,a)||a&&ai(c,a,b)||b&&ai(c,b,a))}(i,j))}function al(a,b){let c=a.mergeWithSibling(b),d=c5()._normalizedNodes;return d.add(a.__key),d.add(b.__key),c}function am(a){let b,c,d=a;if(""!==d.__text||!d.isSimpleText()||d.isUnmergeable()){for(;null!==(b=d.getPreviousSibling())&&cm(b)&&b.isSimpleText()&&!b.isUnmergeable();){if(""!==b.__text){ak(b,d)&&(d=al(b,d));break}b.remove()}for(;null!==(c=d.getNextSibling())&&cm(c)&&c.isSimpleText()&&!c.isUnmergeable();){if(""!==c.__text){ak(d,c)&&(d=al(d,c));break}c.remove()}}else d.remove()}function an(a){return ao(a.anchor),ao(a.focus),a}function ao(a){for(;"element"===a.type;){let b,c,d=a.getNode(),e=a.offset;if(e===d.getChildrenSize()?(b=d.getChildAtIndex(e-1),c=!0):(b=d.getChildAtIndex(e),c=!1),cm(b)){a.set(b.__key,c?b.getTextContentSize():0,"text",!0);break}if(!dm(b))break;a.set(b.__key,c?b.getChildrenSize():0,"element",!0)}}let ap,aq,ar,as,at,au,av,aw,ax,ay,az="",aA=null,aB="",aC="",aD=!1,aE=!1;function aF(a,b){let c=av.get(a);if(null!==b){let c=aW(a);c.parentNode===b&&b.removeChild(c)}if(aw.has(a)||aq._keyToDOMMap.delete(a),dm(c)){let a=aR(c,av);aG(a,0,a.length-1,null)}void 0!==c&&et(ay,ar,as,c,"destroyed")}function aG(a,b,c,d){let e=b;for(;e<=c;++e){let b=a[e];void 0!==b&&aF(b,d)}}function aH(a,b){a.setProperty("text-align",b)}let aI="40px";function aJ(a,b){let c=ap.theme.indent;if("string"==typeof c){let d=a.classList.contains(c);b>0&&!d?a.classList.add(c):b<1&&d&&a.classList.remove(c)}let d=getComputedStyle(a).getPropertyValue("--lexical-indent-base-value")||aI;a.style.setProperty("padding-inline-start",0===b?"":`calc(${b} * ${d})`)}function aK(a,b){let c=a.style;0===b?aH(c,""):b===C?aH(c,"left"):b===D?aH(c,"center"):b===E?aH(c,"right"):b===F?aH(c,"justify"):b===G?aH(c,"start"):b===H&&aH(c,"end")}function aL(a,b){let c=function(a){let b=a.__dir;if(null!==b)return b;if(ds(a))return null;let c=a.getParentOrThrow();return ds(c)&&null===c.__dir?"auto":null}(b);null!==c?a.dir=c:a.removeAttribute("dir")}function aM(a,b){let c=aw.get(a);void 0===c&&d(60);let e=c.createDOM(ap,aq);if(function(a,b,c){let d=c._keyToDOMMap;(function(a,b,c){a[`__lexicalKey_${b._key}`]=c})(b,c,a),d.set(a,b)}(a,e,aq),cm(c)?e.setAttribute("data-lexical-text","true"):dq(c)&&e.setAttribute("data-lexical-decorator","true"),dm(c)){let a=c.__indent,b=c.__size;if(aL(e,c),0!==a&&aJ(e,a),0!==b){let a=b-1;aN(aR(c,aw),c,0,a,c.getDOMSlot(e))}let d=c.__format;0!==d&&aK(e,d),c.isInline()||aP(null,c,e),ey(c)&&(az+=J,aC+=J)}else{let b=c.getTextContent();if(dq(c)){let b=c.decorate(aq,ap);null!==b&&aT(a,b),e.contentEditable="false"}az+=b,aC+=b}return null!==b&&b.insertChild(e),et(ay,ar,as,c,"created"),e}function aN(a,b,c,d,e){let f=az;az="";let g=c;for(;g<=d;++g){aM(a[g],e);let b=aw.get(a[g]);null!==b&&cm(b)&&(null===aA&&(aA=b.getFormat()),""===aB&&(aB=b.getStyle()))}ey(b)&&(az+=J),e.element.__lexicalTextContent=az,az=f+az}function aO(a,b){if(a){let c=a.__last;if(c){let a=b.get(c);if(a)return b4(a)?"line-break":dq(a)&&a.isInline()?"decorator":null}return"empty"}return null}function aP(a,b,c){let d=aO(a,av),e=aO(b,aw);d!==e&&b.getDOMSlot(c).setManagedLineBreak(e)}function aQ(a,b,c){var e;aA=null,aB="",function(a,b,c){let e=az,f=a.__size,g=b.__size;az="";let h=c.element;if(1===f&&1===g){let c=a.__first,d=b.__first;if(c===d)aS(c,h);else{let a=aW(c),b=aM(d,null);try{h.replaceChild(b,a)}catch(e){if("object"==typeof e&&null!=e)throw Error(`${e.toString()} Parent: ${h.tagName}, new child: {tag: ${b.tagName} key: ${d}}, old child: {tag: ${a.tagName}, key: ${c}}.`);throw e}aF(c,null)}let e=aw.get(d);cm(e)&&(null===aA&&(aA=e.getFormat()),""===aB&&(aB=e.getStyle()))}else{let e=aR(a,av),i=aR(b,aw);if(e.length!==f&&d(227),i.length!==g&&d(228),0===f)0!==g&&aN(i,b,0,g-1,c);else if(0===g){if(0!==f){let a=null==c.after&&null==c.before&&null==c.element.__lexicalLineBreak;aG(e,0,f-1,a?null:h),a&&(h.textContent="")}}else!function(a,b,c,d,e,f){let g=d-1,h=e-1,i,j,k=f.getFirstChild(),l=0,m=0;for(;l<=g&&m<=h;){let a=b[l],d=c[m];if(a===d)k=aU(aS(d,f.element)),l++,m++;else{void 0===i&&(i=new Set(b)),void 0===j&&(j=new Set(c));let e=j.has(a),g=i.has(d);if(e)if(g){let a=ez(aq,d);a===k?k=aU(aS(d,f.element)):(f.withBefore(k).insertChild(a),aS(d,f.element)),l++,m++}else aM(d,f.withBefore(k)),m++;else k=aU(aW(a)),aF(a,f.element),l++}let e=aw.get(d);null!==e&&cm(e)&&(null===aA&&(aA=e.getFormat()),""===aB&&(aB=e.getStyle()))}let o=l>g,p=m>h;if(o&&!p){let b=c[h+1],d=void 0===b?null:aq.getElementByKey(b);aN(c,a,m,h,f.withBefore(d))}else p&&!o&&aG(b,l,g,f.element)}(b,e,i,f,g,c)}ey(b)&&(az+=J),h.__lexicalTextContent=az,az=e+az}(a,b,b.getDOMSlot(c)),e=b,null==aA||aA===e.__textFormat||aE||e.setTextFormat(aA),function(a){""===aB||aB===a.__textStyle||aE||a.setTextStyle(aB)}(b)}function aR(a,b){let c=[],e=a.__first;for(;null!==e;){let a=b.get(e);void 0===a&&d(101),c.push(e),e=a.__next}return c}function aS(a,b){let c=av.get(a),e=aw.get(a);void 0!==c&&void 0!==e||d(61);let f=aD||au.has(a)||at.has(a),g=ez(aq,a);if(c===e&&!f){if(dm(c)){let a=g.__lexicalTextContent;void 0!==a&&(az+=a,aC+=a)}else{let a=c.getTextContent();aC+=a,az+=a}return g}if(c!==e&&f&&et(ay,ar,as,e,"updated"),e.updateDOM(c,g,ap)){let c=aM(a,null);return null===b&&d(62),b.replaceChild(c,g),aF(a,null),c}if(dm(c)&&dm(e)){let a=e.__indent;(aD||a!==c.__indent)&&aJ(g,a);let b=e.__format;if((aD||b!==c.__format)&&aK(g,b),f&&(aQ(c,e,g),ds(e)||e.isInline()||aP(c,e,g)),ey(e)&&(az+=J,aC+=J),(aD||e.__dir!==c.__dir)&&(aL(g,e),ds(e)&&!aD))for(let a of e.getChildren())dm(a)&&aL(ez(aq,a.getKey()),a)}else{let b=e.getTextContent();if(dq(e)){let b=e.decorate(aq,ap);null!==b&&aT(a,b)}az+=b,aC+=b}if(!aE&&ds(e)&&e.__cachedText!==aC){let a=e.getWritable();a.__cachedText=aC,e=a}return g}function aT(a,b){let c=aq._pendingDecorators,d=aq._decorators;if(null===c){if(d[a]===b)return;c=d8(aq)}c[a]=b}function aU(a){let b=a.nextSibling;return null!==b&&b===aq._blockCursorElement&&(b=b.nextSibling),b}function aV(a,b,c,d,e,f){az="",aC="",aD=d===x,aq=c,ap=c._config,ar=c._nodes,as=aq._listeners.mutation,at=e,au=f,av=a._nodeMap,aw=b._nodeMap,aE=b._readOnly,ax=new Map(c._keyToDOMMap);let g=new Map;return ay=g,aS("root",null),aq=void 0,ar=void 0,at=void 0,au=void 0,av=void 0,aw=void 0,ap=void 0,ax=void 0,ay=void 0,g}function aW(a){let b=ax.get(a);return void 0===b&&d(75,a),b}function aX(a){return{type:a}}let aY=aX("SELECTION_CHANGE_COMMAND"),aZ=(aX("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),aX("CLICK_COMMAND")),a$=aX("DELETE_CHARACTER_COMMAND"),a_=aX("INSERT_LINE_BREAK_COMMAND"),a0=aX("INSERT_PARAGRAPH_COMMAND"),a1=aX("CONTROLLED_TEXT_INSERTION_COMMAND"),a2=aX("PASTE_COMMAND"),a3=aX("REMOVE_TEXT_COMMAND"),a4=aX("DELETE_WORD_COMMAND"),a5=aX("DELETE_LINE_COMMAND"),a6=aX("FORMAT_TEXT_COMMAND"),a7=aX("UNDO_COMMAND"),a8=aX("REDO_COMMAND"),a9=aX("KEYDOWN_COMMAND"),ba=aX("KEY_ARROW_RIGHT_COMMAND"),bb=aX("MOVE_TO_END"),bc=aX("KEY_ARROW_LEFT_COMMAND"),bd=aX("MOVE_TO_START"),be=aX("KEY_ARROW_UP_COMMAND"),bf=aX("KEY_ARROW_DOWN_COMMAND"),bg=aX("KEY_ENTER_COMMAND"),bh=aX("KEY_SPACE_COMMAND"),bi=aX("KEY_BACKSPACE_COMMAND"),bj=aX("KEY_ESCAPE_COMMAND"),bk=aX("KEY_DELETE_COMMAND"),bl=aX("KEY_TAB_COMMAND"),bm=(aX("INSERT_TAB_COMMAND"),aX("INDENT_CONTENT_COMMAND"),aX("OUTDENT_CONTENT_COMMAND"),aX("DROP_COMMAND")),bn=(aX("FORMAT_ELEMENT_COMMAND"),aX("DRAGSTART_COMMAND")),bo=aX("DRAGOVER_COMMAND"),bp=aX("DRAGEND_COMMAND"),bq=aX("COPY_COMMAND"),br=aX("CUT_COMMAND"),bs=aX("SELECT_ALL_COMMAND"),bt=(aX("CLEAR_EDITOR_COMMAND"),aX("CLEAR_HISTORY_COMMAND"),aX("CAN_REDO_COMMAND"),aX("CAN_UNDO_COMMAND"),aX("FOCUS_COMMAND")),bu=aX("BLUR_COMMAND"),bv=aX("KEY_MODIFIER_COMMAND"),bw=Object.freeze({}),bx=30,by=[["keydown",function(a,b){if((bz=a.timeStamp,bA=a.key,!(b.isComposing()||ex(b,a9,a)))&&null!=a.key){if(bI&&eq(a))return di(b,()=>{bS(b,bJ)}),bI=!1,void(bJ="");if(function(a){return en(a,"ArrowRight",{shiftKey:"any"})}(a))ex(b,ba,a);else if(function(a){return en(a,"ArrowRight",eo)}(a))ex(b,bb,a);else if(function(a){return en(a,"ArrowLeft",{shiftKey:"any"})}(a))ex(b,bc,a);else if(function(a){return en(a,"ArrowLeft",eo)}(a))ex(b,bd,a);else if(function(a){return en(a,"ArrowUp",{altKey:"any",shiftKey:"any"})}(a))ex(b,be,a);else if(function(a){return en(a,"ArrowDown",{altKey:"any",shiftKey:"any"})}(a))ex(b,bf,a);else if(function(a){return en(a,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})}(a))bG=!0,ex(b,bg,a);else if(function(a){return" "===a.key}(a))ex(b,bh,a);else if(function(a){return g&&en(a,"o",{ctrlKey:!0})}(a))a.preventDefault(),bG=!0,ex(b,a_,!0);else if(function(a){return en(a,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})}(a))bG=!1,ex(b,bg,a);else if(function(a){return en(a,"Backspace",{shiftKey:"any"})||g&&en(a,"h",{ctrlKey:!0})}(a))eq(a)?ex(b,bi,a):(a.preventDefault(),ex(b,a$,!0));else if(function(a){return"Escape"===a.key}(a))ex(b,bj,a);else if(function(a){return en(a,"Delete",{})||g&&en(a,"d",{ctrlKey:!0})}(a))!function(a){return"Delete"===a.key}(a)?(a.preventDefault(),ex(b,a$,!1)):ex(b,bk,a);else if(function(a){return en(a,"Backspace",ep)}(a))a.preventDefault(),ex(b,a4,!0);else if(function(a){return en(a,"Delete",ep)}(a))a.preventDefault(),ex(b,a4,!1);else if(function(a){return g&&en(a,"Backspace",{metaKey:!0})}(a))a.preventDefault(),ex(b,a5,!0);else if(function(a){return g&&(en(a,"Delete",{metaKey:!0})||en(a,"k",{ctrlKey:!0}))}(a))a.preventDefault(),ex(b,a5,!1);else if(function(a){return en(a,"b",eo)}(a))a.preventDefault(),ex(b,a6,"bold");else if(function(a){return en(a,"u",eo)}(a))a.preventDefault(),ex(b,a6,"underline");else if(function(a){return en(a,"i",eo)}(a))a.preventDefault(),ex(b,a6,"italic");else if(function(a){return en(a,"Tab",{shiftKey:"any"})}(a))ex(b,bl,a);else if(function(a){return en(a,"z",eo)}(a))a.preventDefault(),ex(b,a7,void 0);else if(function(a){return g?en(a,"z",{metaKey:!0,shiftKey:!0}):en(a,"y",{ctrlKey:!0})||en(a,"z",{ctrlKey:!0,shiftKey:!0})}(a))a.preventDefault(),ex(b,a8,void 0);else{let c=b._editorState._selection;null===c||cw(c)?er(a)&&(a.preventDefault(),ex(b,bs,a)):function(a){return en(a,"c",eo)}(a)?(a.preventDefault(),ex(b,bq,a)):function(a){return en(a,"x",eo)}(a)?(a.preventDefault(),ex(b,br,a)):er(a)&&(a.preventDefault(),ex(b,bs,a))}(function(a){return a.ctrlKey||a.shiftKey||a.altKey||a.metaKey})(a)&&ex(b,bv,a)}}],["pointerdown",function(a,b){let c=a.target,d=a.pointerType;eS(c)&&"touch"!==d&&"pen"!==d&&0===a.button&&di(b,()=>{dP(c)||(bF=!0)})}],["compositionstart",function(a,b){di(b,()=>{let c=cM();if(cw(c)&&!b.isComposing()){let d=c.anchor,e=c.anchor.getNode();d2(d.key),(a.timeStamp<bz+bx||"element"===d.type||!c.isCollapsed()||e.getFormat()!==c.format||cm(e)&&e.getStyle()!==c.style)&&ex(b,a1,K)}})}],["compositionend",function(a,b){h?bH=!0:!k&&(j||p)?(bI=!0,bJ=a.data):di(b,()=>{bS(b,a.data)})}],["input",function(a,b){a.stopPropagation(),di(b,()=>{if(eR(a.target)&&dP(a.target))return;let c=cM(),d=a.data,e=bR(a);if(null!=d&&cw(c)&&bM(c,e,d,a.timeStamp,!1)){bH&&(bS(b,d),bH=!1);let e=c.anchor.getNode(),f=eO(eG(b));if(null===f)return;let g=c.isBackward(),l=g?c.anchor.offset:c.focus.offset,m=g?c.focus.offset:c.anchor.offset;i&&!c.isCollapsed()&&cm(e)&&null!==f.anchorNode&&e.getTextContent().slice(0,l)+d+e.getTextContent().slice(l+m)===eh(f.anchorNode)||ex(b,a1,d);let o=d.length;h&&o>1&&"insertCompositionText"===a.inputType&&!b.isComposing()&&(c.anchor.offset-=o),j||k||p||!b.isComposing()||(bz=0,d2(null))}else ei(!1,b,null!==d?d:void 0),bH&&(bS(b,d||void 0),bH=!1);!function(){c2(),aa(c5())}()},{event:a}),bC=null}],["click",function(a,b){di(b,()=>{let c=cM(),d=eO(eG(b)),e=cN();if(d){if(cw(c)){let b=c.anchor,f=b.getNode();if("element"===b.type&&0===b.offset&&c.isCollapsed()&&!ds(f)&&1===ea().getChildrenSize()&&f.getTopLevelElementOrThrow().isEmpty()&&null!==e&&c.is(e))d.removeAllRanges(),c.dirty=!0;else if(3===a.detail&&!c.isCollapsed()&&f!==c.focus.getNode()){let a=function(a,b){let c=a;for(;c!==ea()&&null!=c;){if(b(c))return c;c=c.getParent()}return null}(f,a=>dm(a)&&!a.isInline());dm(a)&&a.select(0)}}else if("touch"===a.pointerType||"pen"===a.pointerType){let c=d.anchorNode;(eR(c)||dX(c))&&ec(cL(e,d,b,a))}}ex(b,aZ,a)})}],["cut",bw],["copy",bw],["dragstart",bw],["dragover",bw],["dragend",bw],["paste",bw],["focus",bw],["blur",bw],["drop",bw]];i&&by.push(["beforeinput",(a,b)=>(function(a,b){let c=a.inputType,e=bR(a);"deleteCompositionText"===c||h&&ew(b)||"insertCompositionText"!==c&&di(b,()=>{var f;let g=cM();if("deleteContentBackward"===c){if(null===g){let a=cN();if(!cw(a))return;ec(a.clone())}if(cw(g)){let c=g.anchor.key===g.focus.key;if(f=a.timeStamp,"MediaLast"===bA&&f<bz+bx&&b.isComposing()&&c){if(d2(null),bz=0,setTimeout(()=>{di(b,()=>{d2(null)})},bx),cw(g)){let a=g.anchor.getNode();a.markDirty(),cm(a)||d(142),bQ(g,a)}}else{d2(null),a.preventDefault();let d=g.anchor.getNode(),e=d.getTextContent(),f=d.canInsertTextAfter(),h=0===g.anchor.offset&&g.focus.offset===e.length,i=o&&c&&!h&&f;if(i&&g.isCollapsed()&&(i=!dq(ev(g.anchor,!0))),!i){ex(b,a$,!0);let a=cM();o&&cw(a)&&a.isCollapsed()&&(bK=a,setTimeout(()=>bK=null))}}return}}if(!cw(g))return;let h=a.data;null!==bC&&ei(!1,b,bC),g.dirty&&null===bC||!g.isCollapsed()||ds(g.anchor.getNode())||null===e||g.applyDOMRange(e),bC=null;let i=g.anchor,j=g.focus,l=i.getNode(),m=j.getNode();if("insertText"!==c&&"insertTranspose"!==c)switch(a.preventDefault(),c){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":ex(b,a1,a);break;case"insertFromComposition":d2(null),ex(b,a1,a);break;case"insertLineBreak":d2(null),ex(b,a_,!1);break;case"insertParagraph":d2(null),bG&&!k?(bG=!1,ex(b,a_,!1)):ex(b,a0,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":ex(b,a2,a);break;case"deleteByComposition":(function(a,b){return a!==b||dm(a)||dm(b)||!dV(a)||!dV(b)})(l,m)&&ex(b,a3,a);break;case"deleteByDrag":case"deleteByCut":ex(b,a3,a);break;case"deleteContent":ex(b,a$,!1);break;case"deleteWordBackward":ex(b,a4,!0);break;case"deleteWordForward":ex(b,a4,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":ex(b,a5,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":ex(b,a5,!1);break;case"formatStrikeThrough":ex(b,a6,"strikethrough");break;case"formatBold":ex(b,a6,"bold");break;case"formatItalic":ex(b,a6,"italic");break;case"formatUnderline":ex(b,a6,"underline");break;case"historyUndo":ex(b,a7,void 0);break;case"historyRedo":ex(b,a8,void 0)}else{if("\n"===h)a.preventDefault(),ex(b,a_,!1);else if(h===J)a.preventDefault(),ex(b,a0,void 0);else if(null==h&&a.dataTransfer){let b=a.dataTransfer.getData("text/plain");a.preventDefault(),g.insertRawText(b)}else null!=h&&bM(g,e,h,a.timeStamp,!0)?(a.preventDefault(),ex(b,a1,h)):bC=h;bB=a.timeStamp}})})(a,b)]);let bz=0,bA=null,bB=0,bC=null,bD=new WeakMap,bE=!1,bF=!1,bG=!1,bH=!1,bI=!1,bJ="",bK=null,bL=[0,"",0,"root",0];function bM(a,b,c,d,e){let f=a.anchor,g=a.focus,h=f.getNode(),j=c5(),k=eO(eG(j)),l=null!==k?k.anchorNode:null,m=f.key,o=j.getElementByKey(m),p=c.length;return m!==g.key||!cm(h)||(!e&&(!i||bB<d+50)||h.isDirty()&&p<2||ee(c))&&f.offset!==g.offset&&!h.isComposing()||dW(h)||h.isDirty()&&p>1||(e||!i)&&null!==o&&!h.isComposing()&&l!==dZ(o)||null!==k&&null!==b&&(!b.collapsed||b.startContainer!==k.anchorNode||b.startOffset!==k.anchorOffset)||h.getFormat()!==a.format||h.getStyle()!==a.style||function(a,b){if(b.isSegmented())return!0;if(!a.isCollapsed())return!1;let c=a.anchor.offset,d=b.getParentOrThrow(),e=dV(b);return 0===c?!b.canInsertTextBefore()||!d.canInsertTextBefore()&&!b.isComposing()||e||function(a){let b=a.getPreviousSibling();return(cm(b)||dm(b)&&b.isInline())&&!b.canInsertTextAfter()}(b):c===b.getTextContentSize()&&(!b.canInsertTextAfter()||!d.canInsertTextAfter()&&!b.isComposing()||e)}(a,h)}function bN(a,b){return dX(a)&&null!==a.nodeValue&&0!==b&&b!==a.nodeValue.length}function bO(a,b,c){let{anchorNode:e,anchorOffset:f,focusNode:g,focusOffset:h}=a;bE&&(bE=!1,bN(e,f)&&bN(g,h)&&!bK)||di(b,()=>{if(!c)return void ec(null);if(!dR(b,e,g))return;let i=cM();if(bK&&cw(i)&&i.isCollapsed()){let a=i.anchor,b=bK.anchor;(a.key===b.key&&a.offset===b.offset+1||1===a.offset&&b.getNode().is(a.getNode().getPreviousSibling()))&&ec(i=bK.clone())}if(bK=null,cw(i)){let c=i.anchor,e=c.getNode();if(i.isCollapsed()){"Range"===a.type&&a.anchorNode===a.focusNode&&(i.dirty=!0);let f=eG(b).event,g=f?f.timeStamp:performance.now(),[h,j,k,l,m]=bL,o=ea(),p=!1===b.isComposing()&&""===o.getTextContent();if(g<m+200&&c.offset===k&&c.key===l)bP(i,h,j);else if("text"===c.type)cm(e)||d(141),bQ(i,e);else if("element"===c.type&&!p){dm(e)||d(259);let a=c.getNode();a.isEmpty()?function(a,b){bP(a,b.getTextFormat(),b.getTextStyle())}(i,a):bP(i,0,"")}}else{let a=c.key,b=i.focus.key,d=i.getNodes(),e=d.length,g=i.isBackward(),j=g?h:f,k=g?f:h,l=g?b:a,m=g?a:b,o=B,p=!1;for(let a=0;a<e;a++){let b=d[a],c=b.getTextContentSize();if(cm(b)&&0!==c&&(0!==a||b.__key!==l||j!==c)&&(a!==e-1||b.__key!==m||0!==k)&&(p=!0,0==(o&=b.getFormat())))break}i.format=p?o:0}}ex(b,aY,void 0)})}function bP(a,b,c){a.format===b&&a.style===c||(a.format=b,a.style=c,a.dirty=!0)}function bQ(a,b){bP(a,b.getFormat(),b.getStyle())}function bR(a){if(!a.getTargetRanges)return null;let b=a.getTargetRanges();return 0===b.length?null:b[0]}function bS(a,b){let c=a._compositionKey;if(d2(null),null!==c&&null!=b){if(""===b){let b=d4(c),d=dZ(a.getElementByKey(c));return void(null!==d&&null!==d.nodeValue&&cm(b)&&ej(b,d.nodeValue,null,null,!0))}if("\n"===b[b.length-1]){let b=cM();if(cw(b)){let c=b.focus;return b.anchor.set(c.key,c.offset,c.type),void ex(a,bg,null)}}}ei(!0,a,b)}function bT(a){let b=a.__lexicalEventHandles;return void 0===b&&(a.__lexicalEventHandles=b=[]),b}let bU=new Map;function bV(a){let b=eP(a.target);if(null===b)return;let c=dT(b.anchorNode);if(null===c)return;bF&&(bF=!1,di(c,()=>{let d=cN(),e=b.anchorNode;(eR(e)||dX(e))&&ec(cL(d,b,c,a))}));let d=ef(c),e=d[d.length-1],f=e._key,g=bU.get(f),h=g||e;h!==c&&bO(b,h,!1),bO(b,c,!0),c!==e?bU.set(f,c):g&&bU.delete(f)}function bW(a){a._lexicalHandled=!0}function bX(a){return!0===a._lexicalHandled}let bY=()=>{};function bZ(a){let b=a.ownerDocument,c=bD.get(b);if(void 0===c)return void bY();let e=c-1;e>=0||d(164),bD.set(b,e),0===e&&b.removeEventListener("selectionchange",bV);let f=dU(a);dS(f)?(!function(a){if(null!==a._parentEditor){let b=ef(a),c=b[b.length-1]._key;bU.get(c)===a&&bU.delete(c)}else bU.delete(a._key)}(f),a.__lexicalEditor=null):f&&d(198);let g=bT(a);for(let a=0;a<g.length;a++)g[a]();a.__lexicalEventHandles=[]}function b$(a,b,c){c2();let d=a.__key,e=a.getParent();if(null===e)return;let f=function(a){let b=cM();if(!cw(b)||!dm(a))return b;let{anchor:c,focus:d}=b,e=c.getNode(),f=d.getNode();return eE(e,a)&&c.set(a.__key,0,"element"),eE(f,a)&&d.set(a.__key,0,"element"),b}(a),g=!1;if(cw(f)&&b){let b=f.anchor,c=f.focus;b.key===d&&(cQ(b,a,e,a.getPreviousSibling(),a.getNextSibling()),g=!0),c.key===d&&(cQ(c,a,e,a.getPreviousSibling(),a.getNextSibling()),g=!0)}else cy(f)&&b&&a.isSelected()&&a.selectPrevious();if(cw(f)&&b&&!g){let b=a.getIndexWithinParent();d0(a),cO(f,e,b,-1)}else d0(a);c||eI(e)||e.canBeEmpty()||!e.isEmpty()||b$(e,b),b&&f&&ds(e)&&e.isEmpty()&&e.selectEnd()}function b_(a){return a}class b0{static getType(){let{ownNodeType:a}=e4(this);return void 0===a&&d(64,this.name),a}static clone(a){d(65,this.name)}$config(){return{}}config(a,b){let c=b.extends||Object.getPrototypeOf(this.constructor);return Object.assign(b,{extends:c,type:a}),{[a]:b}}afterCloneFrom(a){this.__key===a.__key?(this.__parent=a.__parent,this.__next=a.__next,this.__prev=a.__prev,this.__state=a.__state):a.__state&&(this.__state=a.__state.getWritable(this))}constructor(a){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),d_(this,a)}getType(){return this.__type}isInline(){d(137,this.constructor.name)}isAttached(){let a=this.__key;for(;null!==a;){if("root"===a)return!0;let b=d4(a);if(null===b)break;a=b.__parent}return!1}isSelected(a){let b=a||cM();if(null==b)return!1;let c=b.getNodes().some(a=>a.__key===this.__key);if(cm(this))return c;if(cw(b)&&"element"===b.anchor.type&&"element"===b.focus.type){if(b.isCollapsed())return!1;let a=this.getParent();if(dq(this)&&this.isInline()&&a){let c=b.isBackward()?b.focus:b.anchor;if(a.is(c.getNode())&&c.offset===a.getChildrenSize()&&this.is(a.getLastChild()))return!1}}return c}getKey(){return this.__key}getIndexWithinParent(){let a=this.getParent();if(null===a)return -1;let b=a.getFirstChild(),c=0;for(;null!==b;){if(this.is(b))return c;c++,b=b.getNextSibling()}return -1}getParent(){let a=this.getLatest().__parent;return null===a?null:d4(a)}getParentOrThrow(){let a=this.getParent();return null===a&&d(66,this.__key),a}getTopLevelElement(){let a=this;for(;null!==a;){let b=a.getParent();if(eI(b))return dm(a)||a===this&&dq(a)||d(194),a;a=b}return null}getTopLevelElementOrThrow(){let a=this.getTopLevelElement();return null===a&&d(67,this.__key),a}getParents(){let a=[],b=this.getParent();for(;null!==b;)a.push(b),b=b.getParent();return a}getParentKeys(){let a=[],b=this.getParent();for(;null!==b;)a.push(b.__key),b=b.getParent();return a}getPreviousSibling(){let a=this.getLatest().__prev;return null===a?null:d4(a)}getPreviousSiblings(){let a=[],b=this.getParent();if(null===b)return a;let c=b.getFirstChild();for(;null!==c&&!c.is(this);)a.push(c),c=c.getNextSibling();return a}getNextSibling(){let a=this.getLatest().__next;return null===a?null:d4(a)}getNextSiblings(){let a=[],b=this.getNextSibling();for(;null!==b;)a.push(b),b=b.getNextSibling();return a}getCommonAncestor(a){let b=dm(this)?this:this.getParent(),c=dm(a)?a:a.getParent(),d=b&&c?fA(b,c):null;return d?d.commonAncestor:null}is(a){return null!=a&&this.__key===a.__key}isBefore(a){let b=fA(this,a);return null!==b&&("descendant"===b.type||("branch"===b.type?-1===fx(b):("same"!==b.type&&"ancestor"!==b.type&&d(279),!1)))}isParentOf(a){let b=fA(this,a);return null!==b&&"ancestor"===b.type}getNodesBetween(a){let b=this.isBefore(a),c=[],e=new Set,f=this;for(;null!==f;){let g=f.__key;if(e.has(g)||(e.add(g),c.push(f)),f===a)break;let h=dm(f)?b?f.getFirstChild():f.getLastChild():null;if(null!==h){f=h;continue}let i=b?f.getNextSibling():f.getPreviousSibling();if(null!==i){f=i;continue}let j=f.getParentOrThrow();if(e.has(j.__key)||c.push(j),j===a)break;let k=null,l=j;do{if(null===l&&d(68),k=b?l.getNextSibling():l.getPreviousSibling(),null===(l=l.getParent()))break;null!==k||e.has(l.__key)||c.push(l)}while(null===k);f=k}return b||c.reverse(),c}isDirty(){let a=c5()._dirtyLeaves;return null!==a&&a.has(this.__key)}getLatest(){let a=d4(this.__key);return null===a&&d(113),a}getWritable(){c2();let a=c4(),b=c5(),c=a._nodeMap,d=this.__key,e=this.getLatest(),f=b._cloneNotNeeded,g=cM();if(null!==g&&g.setCachedNodes(null),f.has(d))return d1(e),e;let h=e0(e);return f.add(d),d1(h),c.set(d,h),h}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(a,b){d(70)}updateDOM(a,b,c){d(71)}exportDOM(a){return{element:this.createDOM(a._config,a)}}exportJSON(){let a=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...a}}static importJSON(a){d(18,this.name)}updateFromJSON(a){return function(a,b){let c=a.getWritable(),d=b.$,e=d;for(let a of af(c).flatKeys)a in b&&(void 0!==e&&e!==d||(e={...d}),e[a]=b[a]);return(c.__state||e)&&ae(a).updateFromJSON(e),c}(this,a)}static transform(){return null}remove(a){b$(this,!0,a)}replace(a,b){c2();let c=cM();null!==c&&(c=c.clone()),eK(this,a);let e=this.getLatest(),f=this.__key,g=a.__key,h=a.getWritable(),i=this.getParentOrThrow().getWritable(),j=i.__size;d0(h);let k=e.getPreviousSibling(),l=e.getNextSibling(),m=e.__prev,o=e.__next,p=e.__parent;if((b$(e,!1,!0),null===k)?i.__first=g:k.getWritable().__next=g,(h.__prev=m,null===l)?i.__last=g:l.getWritable().__prev=g,h.__next=o,h.__parent=p,i.__size=j,b&&(dm(this)&&dm(h)||d(139),this.getChildren().forEach(a=>{h.append(a)})),cw(c)){ec(c);let a=c.anchor,b=c.focus;a.key===f&&cu(a,h),b.key===f&&cu(b,h)}return d3()===f&&d2(g),h}insertAfter(a,b=!0){c2(),eK(this,a);let c=this.getWritable(),d=a.getWritable(),e=d.getParent(),f=cM(),g=!1,h=!1;if(null!==e){let b=a.getIndexWithinParent();if(d0(d),cw(f)){let a=e.__key,c=f.anchor,d=f.focus;g="element"===c.type&&c.key===a&&c.offset===b+1,h="element"===d.type&&d.key===a&&d.offset===b+1}}let i=this.getNextSibling(),j=this.getParentOrThrow().getWritable(),k=d.__key,l=c.__next;if(null===i?j.__last=k:i.getWritable().__prev=k,j.__size++,c.__next=k,d.__next=l,d.__prev=c.__key,d.__parent=c.__parent,b&&cw(f)){let a=this.getIndexWithinParent();cO(f,j,a+1);let b=j.__key;g&&f.anchor.set(b,a+2,"element"),h&&f.focus.set(b,a+2,"element")}return a}insertBefore(a,b=!0){c2(),eK(this,a);let c=this.getWritable(),d=a.getWritable(),e=d.__key;d0(d);let f=this.getPreviousSibling(),g=this.getParentOrThrow().getWritable(),h=c.__prev,i=this.getIndexWithinParent();null===f?g.__first=e:f.getWritable().__next=e,g.__size++,c.__prev=e,d.__prev=h,d.__next=c.__key,d.__parent=c.__parent;let j=cM();return b&&cw(j)&&cO(j,this.getParentOrThrow(),i),a}isParentRequired(){return!1}createParentElementNode(){return dE()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(a,b){c2();let c=this.getPreviousSibling(),d=this.getParentOrThrow();if(null===c)return d.select(0,0);if(dm(c))return c.select();if(!cm(c)){let a=c.getIndexWithinParent()+1;return d.select(a,a)}return c.select(a,b)}selectNext(a,b){c2();let c=this.getNextSibling(),d=this.getParentOrThrow();if(null===c)return d.select();if(dm(c))return c.select(0,0);if(!cm(c)){let a=c.getIndexWithinParent();return d.select(a,a)}return c.select(a,b)}markDirty(){this.getWritable()}reconcileObservedMutation(a,b){this.markDirty()}}class b1 extends b0{static getType(){return"linebreak"}static clone(a){return new b1(a.__key)}constructor(a){super(a)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:a=>(function(a){let b=a.parentElement;if(null!==b&&eV(b)){let c=b.firstChild;if(c===a||c.nextSibling===a&&b5(c)){let c=b.lastChild;if(c===a||c.previousSibling===a&&b5(c))return!0}}return!1})(a)||function(a){let b=a.parentElement;if(null!==b&&eV(b)){let c=b.firstChild;if(c===a||c.nextSibling===a&&b5(c))return!1;let d=b.lastChild;if(d===a||d.previousSibling===a&&b5(d))return!0}return!1}(a)?null:{conversion:b2,priority:0}}}static importJSON(a){return b3().updateFromJSON(a)}}function b2(a){return{node:b3()}}function b3(){return eJ(new b1)}function b4(a){return a instanceof b1}function b5(a){return dX(a)&&/^( |\t|\r?\n)+$/.test(a.textContent||"")}function b6(a,b){return 16&b?"code":b&A?"mark":32&b?"sub":64&b?"sup":null}function b7(a,b){return 1&b?"strong":2&b?"em":"span"}function b8(a,b,c,d,e){let f=d.classList,g=es(e,"base");void 0!==g&&f.add(...g);let h=!1,i=b&z&&b&y;for(let a in void 0!==(g=es(e,"underlineStrikethrough"))&&(c&z&&c&y?(h=!0,i||f.add(...g)):i&&f.remove(...g)),L){let d=L[a];if(void 0!==(g=es(e,a)))if(c&d){if(h&&("underline"===a||"strikethrough"===a)){b&d&&f.remove(...g);continue}b&d&&(!i||"underline"!==a)&&"strikethrough"!==a||f.add(...g)}else b&d&&f.remove(...g)}}function b9(a,b,c){let d=b.firstChild,e=c.isComposing(),f=a+(e?I:"");if(null==d)b.textContent=f;else{let a=d.nodeValue;if(a!==f)if(e||h){let[b,c,e]=function(a,b){let c=a.length,d=b.length,e=0,f=0;for(;e<c&&e<d&&a[e]===b[e];)e++;for(;f+e<c&&f+e<d&&a[c-f-1]===b[d-f-1];)f++;return[e,c-e-f,b.slice(e,d-f)]}(a,f);0!==c&&d.deleteData(b,c),d.insertData(b,e)}else d.nodeValue=f}}function ca(a,b,c,d,e,f){b9(e,a,b);let g=f.theme.text;void 0!==g&&b8(0,0,d,a,g)}function cb(a,b){let c=document.createElement(b);return c.appendChild(a),c}class cc extends b0{static getType(){return"text"}static clone(a){return new cc(a.__text,a.__key)}afterCloneFrom(a){super.afterCloneFrom(a),this.__text=a.__text,this.__format=a.__format,this.__style=a.__style,this.__mode=a.__mode,this.__detail=a.__detail}constructor(a="",b){super(b),this.__text=a,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){return Q[this.getLatest().__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===d3()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(a){let b=L[a];return!!(this.getFormat()&b)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(a,b){return d$(this.getLatest().__format,a,b)}canHaveFormat(){return!0}isInline(){return!0}createDOM(a,b){let c=this.__format,d=b6(0,c),e=b7(0,c),f=null===d?e:d,g=document.createElement(f),h=g;this.hasFormat("code")&&g.setAttribute("spellcheck","false"),null!==d&&(h=document.createElement(e),g.appendChild(h)),ca(h,this,0,c,this.__text,a);let i=this.__style;return""!==i&&(g.style.cssText=i),g}updateDOM(a,b,c){let e=this.__text,f=a.__format,g=this.__format,h=b6(0,f),i=b6(0,g),j=b7(0,f),k=b7(0,g);if((null===h?j:h)!==(null===i?k:i))return!0;if(h===i&&j!==k){let a=b.firstChild;null==a&&d(48);let f=document.createElement(k);return ca(f,this,0,g,e,c),b.replaceChild(f,a),!1}let l=b;null!==i&&null!==h&&null==(l=b.firstChild)&&d(49),b9(e,l,this);let m=c.theme.text;void 0!==m&&f!==g&&b8(0,f,g,l,m);let o=a.__style,p=this.__style;return o!==p&&(b.style.cssText=p),!1}static importDOM(){return{"#text":()=>({conversion:ch,priority:0}),b:()=>({conversion:ce,priority:0}),code:()=>({conversion:ck,priority:0}),em:()=>({conversion:ck,priority:0}),i:()=>({conversion:ck,priority:0}),mark:()=>({conversion:ck,priority:0}),s:()=>({conversion:ck,priority:0}),span:()=>({conversion:cd,priority:0}),strong:()=>({conversion:ck,priority:0}),sub:()=>({conversion:ck,priority:0}),sup:()=>({conversion:ck,priority:0}),u:()=>({conversion:ck,priority:0})}}static importJSON(a){return cl().updateFromJSON(a)}updateFromJSON(a){return super.updateFromJSON(a).setTextContent(a.text).setFormat(a.format).setDetail(a.detail).setMode(a.mode).setStyle(a.style)}exportDOM(a){let{element:b}=super.exportDOM(a);return eR(b)||d(132),b.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?b.style.textTransform="lowercase":this.hasFormat("uppercase")?b.style.textTransform="uppercase":this.hasFormat("capitalize")&&(b.style.textTransform="capitalize"),this.hasFormat("bold")&&(b=cb(b,"b")),this.hasFormat("italic")&&(b=cb(b,"i")),this.hasFormat("strikethrough")&&(b=cb(b,"s")),this.hasFormat("underline")&&(b=cb(b,"u")),{element:b}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(a,b){}setFormat(a){let b=this.getWritable();return b.__format="string"==typeof a?L[a]:a,b}setDetail(a){let b=this.getWritable();return b.__detail="string"==typeof a?M[a]:a,b}setStyle(a){let b=this.getWritable();return b.__style=a,b}toggleFormat(a){let b=d$(this.getFormat(),a,null);return this.setFormat(b)}toggleDirectionless(){let a=this.getWritable();return a.__detail^=1,a}toggleUnmergeable(){let a=this.getWritable();return a.__detail^=2,a}setMode(a){let b=P[a];if(this.__mode===b)return this;let c=this.getWritable();return c.__mode=b,c}setTextContent(a){if(this.__text===a)return this;let b=this.getWritable();return b.__text=a,b}select(a,b){c2();let c=a,d=b,e=cM(),f=this.getTextContent(),g=this.__key;if("string"==typeof f){let a=f.length;void 0===c&&(c=a),void 0===d&&(d=a)}else c=0,d=0;if(!cw(e))return cI(g,c,g,d,"text","text");{let a=d3();a!==e.anchor.key&&a!==e.focus.key||d2(g),e.setTextNodeRange(this,c,this,d)}return e}selectStart(){return this.select(0,0)}selectEnd(){let a=this.getTextContentSize();return this.select(a,a)}spliceText(a,b,c,d){let e=this.getWritable(),f=e.__text,g=c.length,h=a;h<0&&(h=g+h)<0&&(h=0);let i=cM();if(d&&cw(i)){let b=a+g;i.setTextNodeRange(e,b,e,b)}return e.__text=f.slice(0,h)+c+f.slice(h+b),e}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...a){let b;c2();let c=this.getLatest(),d=c.getTextContent();if(""===d)return[];let e=c.__key,f=d3(),g=d.length;a.sort((a,b)=>a-b),a.push(g);let h=[],i=a.length;for(let b=0,c=0;b<g&&c<=i;c++){let e=a[c];e>b&&(h.push(d.slice(b,e)),b=e)}let j=h.length;if(1===j)return[c];let k=h[0],l=c.getParent(),m=c.getFormat(),o=c.getStyle(),p=c.__detail,q=!1,r=null,s=null,t=cM();if(cw(t)){let[a,b]=t.isBackward()?[t.focus,t.anchor]:[t.anchor,t.focus];"text"===a.type&&a.key===e&&(r=a),"text"===b.type&&b.key===e&&(s=b)}c.isSegmented()?((b=cl(k)).__format=m,b.__style=o,b.__detail=p,b.__state=aj(c,b),q=!0):b=c.setTextContent(k);let u=[b];for(let a=1;a<j;a++){let b=cl(h[a]);b.__format=m,b.__style=o,b.__detail=p,b.__state=aj(c,b);let d=b.__key;f===e&&d2(d),u.push(b)}let v=r?r.offset:null,w=s?s.offset:null,x=0;for(let a of u){if(!r&&!s)break;let b=x+a.getTextContentSize();if(null!==r&&null!==v&&v<=b&&v>=x&&(r.set(a.getKey(),v-x,"text"),v<b&&(r=null)),null!==s&&null!==w&&w<=b&&w>=x){s.set(a.getKey(),w-x,"text");break}x=b}if(null!==l){!function(a){let b=a.getPreviousSibling(),c=a.getNextSibling();null!==b&&d1(b),null!==c&&d1(c)}(this);let a=l.getWritable(),b=this.getIndexWithinParent();q?(a.splice(b,0,u),this.remove()):a.splice(b,1,u),cw(t)&&cO(t,l,b,j-1)}return u}mergeWithSibling(a){let b=a===this.getPreviousSibling();b||a===this.getNextSibling()||d(50);let c=this.__key,e=a.__key,f=this.__text,g=f.length;d3()===e&&d2(c);let h=cM();if(cw(h)){let d=h.anchor,f=h.focus;null!==d&&d.key===e&&cR(d,b,c,a,g),null!==f&&f.key===e&&cR(f,b,c,a,g)}let i=a.__text,j=b?i+f:f+i;this.setTextContent(j);let k=this.getWritable();return a.remove(),k}isTextEntity(){return!1}}function cd(a){return{forChild:cn(a.style),node:null}}function ce(a){let b=a,c="normal"===b.style.fontWeight;return{forChild:cn(b.style,c?void 0:"bold"),node:null}}let cf=new WeakMap;function cg(a){if(!eR(a))return!1;if("PRE"===a.nodeName)return!0;let b=a.style.whiteSpace;return"string"==typeof b&&b.startsWith("pre")}function ch(a){let b=a;null===a.parentElement&&d(129);let c=b.textContent||"";if(null!==function(a){let b,c=a.parentNode,d=[a];for(;null!==c&&void 0===(b=cf.get(c))&&!cg(c);)d.push(c),c=c.parentNode;let e=void 0===b?c:b;for(let a=0;a<d.length;a++)cf.set(d[a],e);return e}(b)){let a=c.split(/(\r?\n|\t)/),b=[],d=a.length;for(let c=0;c<d;c++){let d=a[c];"\n"===d||"\r\n"===d?b.push(b3()):"	"===d?b.push(cp()):""!==d&&b.push(cl(d))}return{node:b}}if(""===(c=c.replace(/\r/g,"").replace(/[ \t\n]+/g," ")))return{node:null};if(" "===c[0]){let a=b,d=!0;for(;null!==a&&null!==(a=ci(a,!1));){let b=a.textContent||"";if(b.length>0){/[ \t\n]$/.test(b)&&(c=c.slice(1)),d=!1;break}}d&&(c=c.slice(1))}if(" "===c[c.length-1]){let a=b,d=!0;for(;null!==a&&null!==(a=ci(a,!0));)if((a.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){d=!1;break}d&&(c=c.slice(0,c.length-1))}return""===c?{node:null}:{node:cl(c)}}function ci(a,b){let c=a;for(;;){let a;for(;null===(a=b?c.nextSibling:c.previousSibling);){let a=c.parentElement;if(null===a)return null;c=a}if(eR(c=a)){let a=c.style.display;if(""===a&&!eU(c)||""!==a&&!a.startsWith("inline"))return null}let d=c;for(;null!==(d=b?c.firstChild:c.lastChild);)c=d;if(dX(c))return c;if("BR"===c.nodeName)return null}}let cj={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function ck(a){let b=cj[a.nodeName.toLowerCase()];return void 0===b?{node:null}:{forChild:cn(a.style,b),node:null}}function cl(a=""){return eJ(new cc(a))}function cm(a){return a instanceof cc}function cn(a,b){let c=a.fontWeight,d=a.textDecoration.split(" "),e="700"===c||"bold"===c,f=d.includes("line-through"),g="italic"===a.fontStyle,h=d.includes("underline"),i=a.verticalAlign;return a=>(cm(a)&&(e&&!a.hasFormat("bold")&&a.toggleFormat("bold"),f&&!a.hasFormat("strikethrough")&&a.toggleFormat("strikethrough"),g&&!a.hasFormat("italic")&&a.toggleFormat("italic"),h&&!a.hasFormat("underline")&&a.toggleFormat("underline"),"sub"!==i||a.hasFormat("subscript")||a.toggleFormat("subscript"),"super"!==i||a.hasFormat("superscript")||a.toggleFormat("superscript"),b&&!a.hasFormat(b)&&a.toggleFormat(b)),a)}class co extends cc{static getType(){return"tab"}static clone(a){return new co(a.__key)}constructor(a){super("	",a),this.__detail=2}static importDOM(){return null}createDOM(a){let b=super.createDOM(a),c=es(a.theme,"tab");return void 0!==c&&b.classList.add(...c),b}static importJSON(a){return cp().updateFromJSON(a)}setTextContent(a){return"	"!==a&&""!==a&&d(126),super.setTextContent("	")}spliceText(a,b,c,e){return""===c&&0===b||"	"===c&&1===b||d(286),this}setDetail(a){return 2!==a&&d(127),this}setMode(a){return"normal"!==a&&d(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function cp(){return eJ(new co)}function cq(a){return a instanceof co}class cr{constructor(a,b,c){this._selection=null,this.key=a,this.offset=b,this.type=c}is(a){return this.key===a.key&&this.offset===a.offset&&this.type===a.type}isBefore(a){return this.key===a.key?this.offset<a.offset:0>fw(fK(fB(this,"next")),fK(fB(a,"next")))}getNode(){let a=d4(this.key);return null===a&&d(20),a}set(a,b,c,d){let e=this._selection,f=this.key;d&&this.key===a&&this.offset===b&&this.type===c||(this.key=a,this.offset=b,this.type=c,c1()||(d3()===f&&d2(a),null!==e&&(e.setCachedNodes(null),e.dirty=!0)))}}function cs(a,b,c){return new cr(a,b,c)}function ct(a,b){let c=b.__key,d=a.offset,e="element";if(cm(b)){e="text";let a=b.getTextContentSize();d>a&&(d=a)}else if(!dm(b)){let a=b.getNextSibling();if(cm(a))c=a.__key,d=0,e="text";else{let a=b.getParent();a&&(c=a.__key,d=b.getIndexWithinParent()+1)}}a.set(c,d,e)}function cu(a,b){if(dm(b)){let c=b.getLastDescendant();dm(c)||cm(c)?ct(a,c):ct(a,b)}else ct(a,b)}class cv{constructor(a){this._cachedNodes=null,this._nodes=a,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(a){this._cachedNodes=a}is(a){if(!cy(a))return!1;let b=this._nodes,c=a._nodes;return b.size===c.size&&Array.from(b).every(a=>c.has(a))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(a){this.dirty=!0,this._nodes.add(a),this._cachedNodes=null}delete(a){this.dirty=!0,this._nodes.delete(a),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(a){return this._nodes.has(a)}clone(){return new cv(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(a){}insertText(){}insertNodes(a){let b,c=this.getNodes(),d=c.length,e=c[d-1];if(cm(e))b=e.select();else{let a=e.getIndexWithinParent()+1;b=e.getParentOrThrow().select(a,a)}b.insertNodes(a);for(let a=0;a<d;a++)c[a].remove()}getNodes(){let a=this._cachedNodes;if(null!==a)return a;let b=this._nodes,c=[];for(let a of b){let b=d4(a);null!==b&&c.push(b)}return c1()||(this._cachedNodes=c),c}getTextContent(){let a=this.getNodes(),b="";for(let c=0;c<a.length;c++)b+=a[c].getTextContent();return b}deleteNodes(){let a=this.getNodes();if((cM()||cN())===this&&a[0]){let b=fj(a[0],"next");fD(fu(b,b))}for(let b of a)b.remove()}}function cw(a){return a instanceof cx}class cx{constructor(a,b,c,d){this.anchor=a,this.focus=b,a._selection=this,b._selection=this,this._cachedNodes=null,this.format=c,this.style=d,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(a){this._cachedNodes=a}is(a){return!!cw(a)&&this.anchor.is(a.anchor)&&this.focus.is(a.focus)&&this.format===a.format&&this.style===a.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){let a=this._cachedNodes;if(null!==a)return a;let b=function(a){let b=[],[c,d]=a.getTextSlices();c&&b.push(c.caret.origin);let e=new Set,f=new Set;for(let c of a)if(ff(c)){let{origin:a}=c;0===b.length?e.add(a):(f.add(a),b.push(a))}else{let{origin:a}=c;dm(a)&&f.has(a)||b.push(a)}if(d&&b.push(d.caret.origin),fe(a.focus)&&dm(a.focus.origin)&&null===a.focus.getNodeAtCaret())for(let c=fn(a.focus.origin,"previous");ff(c)&&e.has(c.origin)&&!c.origin.isEmpty()&&c.origin.is(b[b.length-1]);c=fp(c))e.delete(c.origin),b.pop();for(;b.length>1;){let a=b[b.length-1];if(!dm(a)||f.has(a)||a.isEmpty()||e.has(a))break;b.pop()}if(0===b.length&&a.isCollapsed()){let c=fK(a.anchor),d=fK(a.anchor.getFlipped()),e=a=>fd(a)?a.origin:a.getNodeAtCaret(),f=e(c)||e(d)||(a.anchor.getNodeAtCaret()?c.origin:d.origin);b.push(f)}return b}(fN(fF(this),"next"));return c1()||(this._cachedNodes=b),b}setTextNodeRange(a,b,c,d){this.anchor.set(a.__key,b,"text"),this.focus.set(c.__key,d,"text")}getTextContent(){let a=this.getNodes();if(0===a.length)return"";let b=a[0],c=a[a.length-1],d=this.anchor,e=this.focus,f=d.isBefore(e),[g,h]=cA(this),i="",j=!0;for(let k=0;k<a.length;k++){let l=a[k];if(dm(l)&&!l.isInline())j||(i+="\n"),j=!l.isEmpty();else if(j=!1,cm(l)){let a=l.getTextContent();l===b?l===c?"element"===d.type&&"element"===e.type&&e.offset!==d.offset||(a=g<h?a.slice(g,h):a.slice(h,g)):a=f?a.slice(g):a.slice(h):l===c&&(a=f?a.slice(0,h):a.slice(0,g)),i+=a}else!dq(l)&&!b4(l)||l===c&&this.isCollapsed()||(i+=l.getTextContent())}return i}applyDOMRange(a){let b=c5(),c=b.getEditorState()._selection,d=cH(a.startContainer,a.startOffset,a.endContainer,a.endOffset,b,c);if(null===d)return;let[e,f]=d;this.anchor.set(e.key,e.offset,e.type,!0),this.focus.set(f.key,f.offset,f.type,!0),an(this)}clone(){let a=this.anchor,b=this.focus;return new cx(cs(a.key,a.offset,a.type),cs(b.key,b.offset,b.type),this.format,this.style)}toggleFormat(a){this.format=d$(this.format,a,null),this.dirty=!0}setFormat(a){this.format=a,this.dirty=!0}setStyle(a){this.style=a,this.dirty=!0}hasFormat(a){let b=L[a];return!!(this.format&b)}insertRawText(a){let b=a.split(/(\r?\n|\t)/),c=[],d=b.length;for(let a=0;a<d;a++){let d=b[a];"\n"===d||"\r\n"===d?c.push(b3()):"	"===d?c.push(cp()):c.push(cl(d))}this.insertNodes(c)}insertText(a){let b=this.anchor,c=this.focus,e=this.format,f=this.style,g=b,h=c;!this.isCollapsed()&&c.isBefore(b)&&(g=c,h=b),"element"===g.type&&function(a,b,c,d){let e=a.getNode(),f=e.getChildAtIndex(a.offset),g=cl();if(g.setFormat(c),g.setStyle(d),dF(f))f.splice(0,0,[g]);else{let a=ds(e)?dE().append(g):g;null===f?e.append(a):f.insertBefore(a)}a.is(b)&&b.set(g.__key,0,"text"),a.set(g.__key,0,"text")}(g,h,e,f),"element"===h.type&&fC(h,fK(fB(h,"next")));let i=g.offset,j=h.offset,k=this.getNodes(),l=k.length,m=k[0];cm(m)||d(26);let o=m.getTextContent().length,p=m.getParentOrThrow(),q=k[l-1];if(1===l&&"element"===h.type&&(j=o,h.set(g.key,j,"text")),this.isCollapsed()&&i===o&&(dW(m)||!m.canInsertTextAfter()||!p.canInsertTextAfter()&&null===m.getNextSibling())){let b=m.getNextSibling();if(cm(b)&&b.canInsertTextBefore()&&!dW(b)||((b=cl()).setFormat(e),b.setStyle(f),p.canInsertTextAfter()?m.insertAfter(b):p.insertAfter(b)),b.select(0,0),m=b,""!==a)return void this.insertText(a)}else if(this.isCollapsed()&&0===i&&(dW(m)||!m.canInsertTextBefore()||!p.canInsertTextBefore()&&null===m.getPreviousSibling())){let b=m.getPreviousSibling();if(cm(b)&&!dW(b)||((b=cl()).setFormat(e),p.canInsertTextBefore()?m.insertBefore(b):p.insertBefore(b)),b.select(),m=b,""!==a)return void this.insertText(a)}else if(m.isSegmented()&&i!==o){let a=cl(m.getTextContent());a.setFormat(e),m.replace(a),m=a}else if(!this.isCollapsed()&&""!==a){let b=q.getParent();if(!p.canInsertTextBefore()||!p.canInsertTextAfter()||dm(b)&&(!b.canInsertTextBefore()||!b.canInsertTextAfter()))return this.insertText(""),cG(this.anchor,this.focus,null),void this.insertText(a)}if(1===l){if(dV(m)){let b=cl(a);return b.select(),void m.replace(b)}let b=m.getFormat(),c=m.getStyle();if(i!==j||b===e&&c===f){if(cq(m)){let b=cl(a);return b.setFormat(e),b.setStyle(f),b.select(),void m.replace(b)}}else{if(""!==m.getTextContent()){let b=cl(a);if(b.setFormat(e),b.setStyle(f),b.select(),0===i)m.insertBefore(b,!1);else{let[a]=m.splitText(i);a.insertAfter(b,!1)}return void(b.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=a.length))}m.setFormat(e),m.setStyle(f)}let d=j-i;""===(m=m.spliceText(i,d,a,!0)).getTextContent()?m.remove():"text"===this.anchor.type&&(m.isComposing()?this.anchor.offset-=a.length:(this.format=b,this.style=c))}else{let b=new Set([...m.getParentKeys(),...q.getParentKeys()]),c=dm(m)?m:m.getParentOrThrow(),d=dm(q)?q:q.getParentOrThrow(),e=q;if(!c.is(d)&&d.isInline())do e=d,d=d.getParentOrThrow();while(d.isInline());if("text"===h.type&&(0!==j||""===q.getTextContent())||"element"===h.type&&q.getIndexWithinParent()<j)if(cm(q)&&!dV(q)&&j!==q.getTextContentSize()){if(q.isSegmented()){let a=cl(q.getTextContent());q.replace(a),q=a}ds(h.getNode())||"text"!==h.type||(q=q.spliceText(0,j,"")),b.add(q.__key)}else{let a=q.getParentOrThrow();a.canBeEmpty()||1!==a.getChildrenSize()?q.remove():a.remove()}else b.add(q.__key);let f=d.getChildren(),g=new Set(k),p=c.is(d),r=c.isInline()&&null===m.getNextSibling()?c:m;for(let a=f.length-1;a>=0;a--){let b=f[a];if(b.is(m)||dm(b)&&b.isParentOf(m))break;b.isAttached()&&(!g.has(b)||b.is(e)?p||r.insertAfter(b,!1):b.remove())}if(!p){let a=d,c=null;for(;null!==a;){let d=a.getChildren(),e=d.length;(0===e||d[e-1].is(c))&&(b.delete(a.__key),c=a),a=a.getParent()}}if(dV(m))if(i===o)m.select();else{let b=cl(a);b.select(),m.replace(b)}else""===(m=m.spliceText(i,o-i,a,!0)).getTextContent()?m.remove():m.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=a.length);for(let a=1;a<l;a++){let c=k[a],d=c.__key;b.has(d)||c.remove()}}}removeText(){let a=cM()===this;fE(this,fJ(fF(this))),a&&cM()!==this&&ec(this)}formatText(a,b=null){if(this.isCollapsed())return this.toggleFormat(a),void d2(null);let c=this.getNodes(),d=[];for(let a of c)cm(a)&&d.push(a);let e=b=>{c.forEach(c=>{if(dm(c)){let d=c.getFormatFlags(a,b);c.setTextFormat(d)}})},f=d.length;if(0===f)return this.toggleFormat(a),d2(null),void e(b);let g=this.anchor,h=this.focus,i=this.isBackward(),j=i?h:g,k=i?g:h,l=0,m=d[0],o="element"===j.type?0:j.offset;if("text"===j.type&&o===m.getTextContentSize()&&(l=1,m=d[1],o=0),null==m)return;let p=m.getFormatFlags(a,b);e(p);let q=f-1,r=d[q],s="text"===k.type?k.offset:r.getTextContentSize();if(m.is(r)){if(o===s)return;if(dW(m)||0===o&&s===m.getTextContentSize())m.setFormat(p);else{let a=m.splitText(o,s),b=0===o?a[0]:a[1];b.setFormat(p),"text"===j.type&&j.set(b.__key,0,"text"),"text"===k.type&&k.set(b.__key,s-o,"text")}return void(this.format=p)}0===o||dW(m)||([,m]=m.splitText(o),o=0),m.setFormat(p);let t=r.getFormatFlags(a,p);s>0&&(s===r.getTextContentSize()||dW(r)||([r]=r.splitText(s)),r.setFormat(t));for(let b=l+1;b<q;b++){let c=d[b],e=c.getFormatFlags(a,t);c.setFormat(e)}"text"===j.type&&j.set(m.__key,o,"text"),"text"===k.type&&k.set(r.__key,s,"text"),this.format=p|t}insertNodes(a){var b;if(0===a.length)return;if(this.isCollapsed()||this.removeText(),"root"===this.anchor.key){this.insertParagraph();let b=cM();return cw(b)||d(134),b.insertNodes(a)}let c=(this.isBackward()?this.focus:this.anchor).getNode(),e=eX(c,eW),f=a[a.length-1];if(dm(e)&&"__language"in e){if("__language"in a[0])this.insertText(a[0].getTextContent());else{let b=cU(this);e.splice(b,0,a),f.selectEnd()}return}if(!a.some(a=>(dm(a)||dq(a))&&!a.isInline())){dm(e)||d(211,c.constructor.name,c.getType());let b=cU(this);return e.splice(b,0,a),void f.selectEnd()}let g=function(a){let b=dE(),c=null;for(let d=0;d<a.length;d++){let e=a[d],f=b4(e);if(f||dq(e)&&e.isInline()||dm(e)&&e.isInline()||cm(e)||e.isParentRequired()){if(null===c&&(c=e.createParentElementNode(),b.append(c),f))continue;null!==c&&c.append(e)}else b.append(e),c=null}return b}(a),h=g.getLastDescendant(),i=g.getChildren(),j=dm(e)&&e.isEmpty()?null:this.insertParagraph(),k=i[i.length-1],l=i[0];dm(b=l)&&eW(b)&&!b.isEmpty()&&dm(e)&&(!e.isEmpty()||e.canMergeWhenEmpty())&&(dm(e)||d(211,c.constructor.name,c.getType()),e.append(...l.getChildren()),l=i[1]),l&&(null===e&&d(212,c.constructor.name,c.getType()),function(a,b,c){let e=b.getParentOrThrow().getLastChild(),f=b,g=[b];for(;f!==e;)f.getNextSibling()||d(140),g.push(f=f.getNextSibling());let h=a;for(let a of g)h=h.insertAfter(a)}(e,l));let m=eX(h,eW);j&&dm(m)&&(j.canMergeWhenEmpty()||eW(k))&&(m.append(...j.getChildren()),j.remove()),dm(e)&&e.isEmpty()&&e.remove(),h.selectEnd();let o=dm(e)?e.getLastChild():null;b4(o)&&m!==e&&o.remove()}insertParagraph(){if("root"===this.anchor.key){let a=dE();return ea().splice(this.anchor.offset,0,[a]),a.select(),a}let a=cU(this),b=eX(this.anchor.getNode(),eW);dm(b)||d(213);let c=b.getChildAtIndex(a),e=c?[c,...c.getNextSiblings()]:[],f=b.insertNewAfter(this,!1);return f?(f.append(...e),f.selectStart(),f):null}insertLineBreak(a){let b=b3();if(this.insertNodes([b]),a){let a=b.getParentOrThrow(),c=b.getIndexWithinParent();a.select(c,c)}}extract(){let a=this.getNodes(),b=a.length,c=b-1,d=this.anchor,e=this.focus,f=a[0],g=a[c],[h,i]=cA(this);if(0===b)return[];if(1===b){if(cm(f)&&!this.isCollapsed()){let a=h>i?i:h,b=h>i?h:i,c=f.splitText(a,b),d=0===a?c[0]:c[1];return null!=d?[d]:[]}return[f]}let j=d.isBefore(e);if(cm(f)){let b=j?h:i;b===f.getTextContentSize()?a.shift():0!==b&&([,f]=f.splitText(b),a[0]=f)}if(cm(g)){let b=g.getTextContent().length,d=j?i:h;0===d?a.pop():d!==b&&([g]=g.splitText(d),a[c]=g)}return a}modify(a,b,c){if(cW(this,a,b,c))return;let d="move"===a,e=c5(),f=eO(eG(e));if(!f)return;let g=e._blockCursorElement,h=e._rootElement,i=this.focus.getNode();if(null===h||null===g||!dm(i)||i.isInline()||i.canBeEmpty()||eN(g,e,h),this.dirty){let a=ez(e,this.anchor.key),b=ez(e,this.focus.key);"text"===this.anchor.type&&(a=dZ(a)),"text"===this.focus.type&&(b=dZ(b)),a&&b&&cS(f,a,this.anchor.offset,b,this.focus.offset)}if(function(a,b,c,d){a.modify(b,c,d)}(f,a,b?"backward":"forward",c),f.rangeCount>0){let a=f.getRangeAt(0),c=this.anchor.getNode(),e=ds(c)?c:eH(c);if(this.applyDOMRange(a),this.dirty=!0,!d){let c=this.getNodes(),d=[],g=!1;for(let a=0;a<c.length;a++){let b=c[a];eE(b,e)?d.push(b):g=!0}if(g&&d.length>0)if(b){let a=d[0];dm(a)?a.selectStart():a.getParentOrThrow().selectStart()}else{let a=d[d.length-1];dm(a)?a.selectEnd():a.getParentOrThrow().selectEnd()}f.anchorNode===a.startContainer&&f.anchorOffset===a.startOffset||function(a){let b=a.focus,c=a.anchor,d=c.key,e=c.offset,f=c.type;c.set(b.key,b.offset,b.type,!0),b.set(d,e,f,!0)}(this)}}"lineboundary"===c&&cW(this,a,b,c,"decorators")}forwardDeletion(a,b,c){if(!c&&("element"===a.type&&dm(b)&&a.offset===b.getChildrenSize()||"text"===a.type&&a.offset===b.getTextContentSize())){let a=b.getParent(),c=b.getNextSibling()||(null===a?null:a.getNextSibling());if(dm(c)&&c.isShadowRoot())return!0}return!1}deleteCharacter(a){let b=this.isCollapsed();if(this.isCollapsed()){let b=this.anchor,c=b.getNode();if(this.forwardDeletion(b,c,a))return;let d=fs(fB(b,a?"previous":"next"));if(d.getTextSlices().every(a=>null===a||0===a.distance)){let a={type:"initial"};for(let b of d.iterNodeCarets("shadowRoot"))if(ff(b))if(b.origin.isInline());else{if(b.origin.isShadowRoot()){if("merge-block"===a.type)break;if(dm(d.anchor.origin)&&d.anchor.origin.isEmpty()){let a=fK(b);fE(this,fu(a,a)),d.anchor.origin.remove()}return}"merge-next-block"!==a.type&&"merge-block"!==a.type||(a={block:a.block,caret:b,type:"merge-block"})}else{if("merge-block"===a.type)break;if(fe(b)){if(dm(b.origin)){if(b.origin.isInline()){if(!b.origin.isParentOf(d.anchor.origin))break}else a={block:b.origin,type:"merge-next-block"};continue}if(dq(b.origin)){if(b.origin.isIsolated());else if("merge-next-block"===a.type&&(b.origin.isKeyboardSelectable()||!b.origin.isInline())&&dm(d.anchor.origin)&&d.anchor.origin.isEmpty()){d.anchor.origin.remove();let a=cK();a.add(b.origin.getKey()),ec(a)}else b.origin.remove();return}break}}if("merge-block"===a.type){let{caret:b,block:c}=a;return fE(this,fu(!b.origin.isEmpty()&&c.isEmpty()?fG(fj(c,b.direction)):d.anchor,b)),this.removeText()}}let e=this.focus;if(this.modify("extend",a,"character"),this.isCollapsed()){if(a&&0===b.offset&&cB(this,b.getNode()))return}else{let d="text"===e.type?e.getNode():null;if(c="text"===b.type?b.getNode():null,null!==d&&d.isSegmented()){let b=e.offset,f=d.getTextContentSize();if(d.is(c)||a&&b!==f||!a&&0!==b)return void cD(d,a,b)}else if(null!==c&&c.isSegmented()){let e=b.offset,f=c.getTextContentSize();if(c.is(d)||a&&0!==e||!a&&e!==f)return void cD(c,a,e)}!function(a,b){let c=a.anchor,d=a.focus,e=c.getNode();if(e===d.getNode()&&"text"===c.type&&"text"===d.type){let a=c.offset,f=d.offset,g=a<f,h=g?a:f,i=g?f:a,j=i-1;h!==j&&function(a){return!(ee(a)||cC(a))}(e.getTextContent().slice(h,i))&&(b?d.set(d.key,j,d.type):c.set(c.key,j,c.type))}}(this,a)}}if(this.removeText(),a&&!b&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){let a=this.anchor.getNode();a.isEmpty()&&ds(a.getParent())&&null===a.getPreviousSibling()&&cB(this,a)}}deleteLine(a){this.isCollapsed()&&this.modify("extend",a,"lineboundary"),this.isCollapsed()?this.deleteCharacter(a):this.removeText()}deleteWord(a){if(this.isCollapsed()){let b=this.anchor,c=b.getNode();if(this.forwardDeletion(b,c,a))return;this.modify("extend",a,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function cy(a){return a instanceof cv}function cz(a){let b=a.offset;if("text"===a.type)return b;let c=a.getNode();return b===c.getChildrenSize()?c.getTextContent().length:0}function cA(a){let b=a.getStartEndPoints();if(null===b)return[0,0];let[c,d]=b;return"element"===c.type&&"element"===d.type&&c.key===d.key&&c.offset===d.offset?[0,0]:[cz(c),cz(d)]}function cB(a,b){for(let c=b;c;c=c.getParent()){if(dm(c)){if(c.collapseAtStart(a))return!0;if(eI(c))break}if(c.getPreviousSibling())break}return!1}let cC=(()=>{try{let a=RegExp("\\p{Emoji}","u"),b=a.test.bind(a);if(b("")&&b("#")&&b("\uD83D\uDC4D"))return b}catch(a){}return()=>!1})();function cD(a,b,c){let d=a,e=d.getTextContent().split(/(?=\s)/g),f=e.length,g=0,h=0;for(let a=0;a<f;a++){let d=a===f-1;if(h=g,g+=e[a].length,b&&g===c||g>c||d){e.splice(a,1),d&&(h=void 0);break}}let i=e.join("").trim();""===i?d.remove():(d.setTextContent(i),d.select(h,h))}function cE(a,b,c,e){let f,g=b;if(eR(a)){let h=!1,i=a.childNodes,j=i.length,k=e._blockCursorElement;g===j&&(h=!0,g=j-1);let l=i[g],m=!1;if(l===k)l=i[g+1],m=!0;else if(null!==k){let c=k.parentNode;a===c&&b>Array.prototype.indexOf.call(c.children,k)&&g--}if(cm(f=ed(l)))g=fl(f,h?"next":"previous");else{let i=ed(a);if(null===i)return null;if(dm(i)){let j=e.getElementByKey(i.getKey());null===j&&d(214);let k=i.getDOMSlot(j);[i,g]=k.resolveChildIndex(i,j,a,b),dm(i)||d(215),h&&g>=i.getChildrenSize()&&(g=Math.max(0,i.getChildrenSize()-1));let l=i.getChildAtIndex(g);if(dm(l)&&function(a,b,c){let d=a.getParent();return null===c||null===d||!d.canBeEmpty()||d!==c.getNode()}(l,0,c)){let a=h?l.getLastDescendant():l.getFirstDescendant();i=null===a||dm(l=a)?l:l.getParentOrThrow(),g=0}cm(l)?(f=l,i=null,g=fl(l,h?"next":"previous")):l!==i&&h&&!m&&(dm(i)||d(216),g=Math.min(i.getChildrenSize(),g+1))}else{let c=i.getIndexWithinParent();g=0===b&&dq(i)&&ed(a)===i?c:c+1,i=i.getParentOrThrow()}if(dm(i))return cs(i.__key,g,"element")}}else f=ed(a);return cm(f)?cs(f.__key,fl(f,g,"clamp"),"text"):null}function cF(a,b,c){let d=a.offset,e=a.getNode();if(0===d){let d=e.getPreviousSibling(),f=e.getParent();if(b){if((c||!b)&&null===d&&dm(f)&&f.isInline()){let b=f.getPreviousSibling();cm(b)&&a.set(b.__key,b.getTextContent().length,"text")}}else dm(d)&&!c&&d.isInline()?a.set(d.__key,d.getChildrenSize(),"element"):cm(d)&&a.set(d.__key,d.getTextContent().length,"text")}else if(d===e.getTextContent().length){let d=e.getNextSibling(),f=e.getParent();if(b&&dm(d)&&d.isInline())a.set(d.__key,0,"element");else if((c||b)&&null===d&&dm(f)&&f.isInline()&&!f.canInsertTextAfter()){let b=f.getNextSibling();cm(b)&&a.set(b.__key,0,"text")}}}function cG(a,b,c){if("text"===a.type&&"text"===b.type){let d=a.isBefore(b),e=a.is(b);cF(a,d,e),cF(b,!d,e),e&&b.set(a.key,a.offset,a.type);let f=c5();if(f.isComposing()&&f._compositionKey!==a.key&&cw(c)){let d=c.anchor,e=c.focus;a.set(d.key,d.offset,d.type,!0),b.set(e.key,e.offset,e.type,!0)}}}function cH(a,b,c,d,e,f){if(null===a||null===c||!dR(e,a,c))return null;let g=cE(a,b,cw(f)?f.anchor:null,e);if(null===g)return null;let h=cE(c,d,cw(f)?f.focus:null,e);if(null===h)return null;if("element"===g.type&&"element"===h.type){let b=ed(a),d=ed(c);if(dq(b)&&dq(d))return null}return cG(g,h,f),[g,h]}function cI(a,b,c,d,e,f){let g=c4(),h=new cx(cs(a,b,e),cs(c,d,f),0,"");return h.dirty=!0,g._selection=h,h}function cJ(){return new cx(cs("root",0,"element"),cs("root",0,"element"),0,"")}function cK(){return new cv(new Set)}function cL(a,b,c,d){let e,f,g,h,i=c._window;if(null===i)return null;let j=d||i.event,k=j?j.type:void 0,l="selectionchange"===k,m=!U&&(l||"beforeinput"===k||"compositionstart"===k||"compositionend"===k||"click"===k&&j&&3===j.detail||"drop"===k||void 0===k);if(cw(a)&&!m)return a.clone();if(null===b)return null;if(e=b.anchorNode,f=b.focusNode,g=b.anchorOffset,h=b.focusOffset,l&&cw(a)&&!dR(c,e,f))return a.clone();let o=cH(e,g,f,h,c,a);if(null===o)return null;let[p,q]=o;return new cx(p,q,cw(a)?a.format:0,cw(a)?a.style:"")}function cM(){return c4()._selection}function cN(){return c5()._editorState._selection}function cO(a,b,c,d=1){let e=a.anchor,f=a.focus,g=e.getNode(),h=f.getNode();if(!b.is(g)&&!b.is(h))return;let i=b.__key;if(a.isCollapsed()){let b=e.offset;if(c<=b&&d>0||c<b&&d<0){let c=Math.max(0,b+d);e.set(i,c,"element"),f.set(i,c,"element"),cP(a)}}else{let g=a.isBackward(),h=g?f:e,j=h.getNode(),k=g?e:f,l=k.getNode();if(b.is(j)){let a=h.offset;(c<=a&&d>0||c<a&&d<0)&&h.set(i,Math.max(0,a+d),"element")}if(b.is(l)){let a=k.offset;(c<=a&&d>0||c<a&&d<0)&&k.set(i,Math.max(0,a+d),"element")}}cP(a)}function cP(a){let b=a.anchor,c=b.offset,d=a.focus,e=d.offset,f=b.getNode(),g=d.getNode();if(a.isCollapsed()){if(!dm(f))return;let a=f.getChildrenSize(),e=c>=a,g=e?f.getChildAtIndex(a-1):f.getChildAtIndex(c);if(cm(g)){let a=0;e&&(a=g.getTextContentSize()),b.set(g.__key,a,"text"),d.set(g.__key,a,"text")}}else{if(dm(f)){let a=f.getChildrenSize(),d=c>=a,e=d?f.getChildAtIndex(a-1):f.getChildAtIndex(c);if(cm(e)){let a=0;d&&(a=e.getTextContentSize()),b.set(e.__key,a,"text")}}if(dm(g)){let a=g.getChildrenSize(),b=e>=a,c=b?g.getChildAtIndex(a-1):g.getChildAtIndex(e);if(cm(c)){let a=0;b&&(a=c.getTextContentSize()),d.set(c.__key,a,"text")}}}}function cQ(a,b,c,d,e){let f=null,g=0,h=null;null!==d?(f=d.__key,cm(d)?(g=d.getTextContentSize(),h="text"):dm(d)&&(g=d.getChildrenSize(),h="element")):null!==e&&(f=e.__key,cm(e)?h="text":dm(e)&&(h="element")),null!==f&&null!==h?a.set(f,g,h):(-1===(g=b.getIndexWithinParent())&&(g=c.getChildrenSize()),a.set(c.__key,g,"element"))}function cR(a,b,c,d,e){"text"===a.type?a.set(c,a.offset+(b?0:e),"text"):a.offset>d.getIndexWithinParent()&&a.set(a.key,a.offset-1,"element")}function cS(a,b,c,d,e){try{a.setBaseAndExtent(b,c,d,e)}catch(a){}}function cT(a,b,c,d,e,f,g){let h=d.anchorNode,i=d.focusNode,j=d.anchorOffset,k=d.focusOffset,l=document.activeElement;if(e.has(dy)&&l!==f||null!==l&&dQ(l))return;if(!cw(b))return void(null!==a&&dR(c,h,i)&&d.removeAllRanges());let m=b.anchor,o=b.focus,p=m.key,q=o.key,r=ez(c,p),s=ez(c,q),t=m.offset,u=o.offset,v=b.format,w=b.style,x=b.isCollapsed(),y=r,z=s,A=!1;if("text"===m.type){y=dZ(r);let a=m.getNode();A=a.getFormat()!==v||a.getStyle()!==w}else cw(a)&&"text"===a.anchor.type&&(A=!0);if("text"===o.type&&(z=dZ(s)),null!==y&&null!==z&&(x&&(null===a||A||cw(a)&&(a.format!==v||a.style!==w))&&(bL=[v,w,t,p,performance.now()]),j!==t||k!==u||h!==y||i!==z||"Range"===d.type&&x||(null!==l&&f.contains(l)||f.focus({preventScroll:!0}),"element"===m.type))){if(cS(d,y,t,z,u),!e.has(dz)&&b.isCollapsed()&&null!==f&&f===document.activeElement){let a=cw(b)&&"element"===b.anchor.type?y.childNodes[t]||null:d.rangeCount>0?d.getRangeAt(0):null;if(null!==a){let b;if(a instanceof Text){let c=document.createRange();c.selectNode(a),b=c.getBoundingClientRect()}else b=a.getBoundingClientRect();!function(a,b,c){let d=eB(c),e=eF(d);if(null===d||null===e)return;let{top:f,bottom:g}=b,h=0,i=0,j=c;for(;null!==j;){let b=j===d.body;if(b)h=0,i=eG(a).innerHeight;else{let a=j.getBoundingClientRect();h=a.top,i=a.bottom}let c=0;if(f<h?c=-(h-f):g>i&&(c=g-i),0!==c)if(b)e.scrollBy(0,c);else{let a=j.scrollTop;j.scrollTop+=c;let b=j.scrollTop-a;f-=b,g-=b}if(b)break;j=eA(j)}}(c,b,f)}}bE=!0}}function cU(a){let b=a;a.isCollapsed()||b.removeText();let c=cM();cw(c)&&(b=c),cw(b)||d(161);let e=b.anchor,f=e.getNode(),g=e.offset;for(;!eW(f);){let a=f;if([f,g]=cV(f,g),a.is(f))break}return g}function cV(a,b){let c=a.getParent();if(!c){let a=dE();return ea().append(a),a.select(),[ea(),0]}if(cm(a)){let d=a.splitText(b);if(0===d.length)return[c,a.getIndexWithinParent()];let e=+(0!==b);return[c,d[0].getIndexWithinParent()+e]}if(!dm(a)||0===b)return[c,a.getIndexWithinParent()];let d=a.getChildAtIndex(b);if(d){let c=new cx(cs(a.__key,b,"element"),cs(a.__key,b,"element"),0,""),e=a.insertNewAfter(c);e&&e.append(d,...d.getNextSiblings())}return[c,a.getIndexWithinParent()+1]}function cW(a,b,c,d,e="decorators-and-blocks"){if("move"===b&&"character"===d&&!a.isCollapsed()){let[b,d]=c===a.isBackward()?[a.focus,a.anchor]:[a.anchor,a.focus];return d.set(b.key,b.offset,b.type),!0}let f=fB(a.focus,c?"previous":"next"),g="lineboundary"===d,h="move"===b,i=f,j="decorators-and-blocks"===e;if(!fL(i)){for(let a of i){j=!1;let{origin:b}=a;if(!dq(b)||b.isIsolated()||(i=a,!g||!b.isInline()))break}if(j)for(let a of fs(f).iterNodeCarets("extend"===b?"shadowRoot":"root")){if(ff(a))a.origin.isInline()||(i=a);else{if(dm(a.origin))continue;dq(a.origin)&&!a.origin.isInline()&&(i=a)}break}}if(i===f)return!1;if(h&&!g&&dq(i.origin)&&i.origin.isKeyboardSelectable()){let a=cK();return a.add(i.origin.getKey()),ec(a),!0}return i=fK(i),h&&fC(a.anchor,i),fC(a.focus,i),j||!g}let cX=null,cY=null,cZ=!1,c$=!1,c_=0,c0={characterData:!0,childList:!0,subtree:!0};function c1(){return cZ||null!==cX&&cX._readOnly}function c2(){cZ&&d(13)}function c3(){c_>99&&d(14)}function c4(){return null===cX&&d(195,c6()),cX}function c5(){return null===cY&&d(196,c6()),cY}function c6(){let a=0,b=new Set,c=dI.version;if("undefined"!=typeof window)for(let d of document.querySelectorAll("[contenteditable]")){let e=dU(d);if(dS(e))a++;else if(e){let a=String(e.constructor.version||"<0.17.1");a===c&&(a+=" (separately built, likely a bundler configuration issue)"),b.add(a)}}let d=` Detected on the page: ${a} compatible editor(s) with version ${c}`;return b.size&&(d+=` and incompatible editors with versions ${Array.from(b).join(", ")}`),d}function c7(){return cY}function c8(a,b,c){let d=b.__type,e=dM(a,d),f=c.get(d);void 0===f&&(f=Array.from(e.transforms),c.set(d,f));let g=f.length;for(let a=0;a<g&&(f[a](b),b.isAttached());a++);}function c9(a,b){return void 0!==a&&a.__key!==b&&a.isAttached()}function da(a,b){if(!b)return;let c=a._updateTags,d=b;for(let a of(Array.isArray(b)||(d=[b]),d))c.add(a)}function db(a){return dc(a,c5()._nodes)}function dc(a,b){let c=a.type,e=b.get(c);void 0===e&&d(17,c);let f=e.klass;a.type!==f.getType()&&d(18,f.name);let g=f.importJSON(a),h=a.children;if(dm(g)&&Array.isArray(h))for(let a=0;a<h.length;a++){let c=dc(h[a],b);g.append(c)}return g}function dd(a,b,c){let d=cX,e=cZ,f=cY;cX=b,cZ=!0,cY=a;try{return c()}finally{cX=d,cZ=e,cY=f}}function de(a,b){let c=a._pendingEditorState,d=a._rootElement,e=a._headless||null===d;if(null===c)return;let f=a._editorState,g=f._selection,h=c._selection,i=a._dirtyType!==v,j=cX,k=cZ,l=cY,m=a._updating,o=a._observer,p=null;if(a._pendingEditorState=null,a._editorState=c,!e&&i&&null!==o){cY=a,cX=c,cZ=!1,a._updating=!0;try{let b=a._dirtyType,d=a._dirtyElements,e=a._dirtyLeaves;o.disconnect(),p=aV(f,c,a,b,d,e)}catch(b){if(b instanceof Error&&a._onError(b),c$)throw b;return dG(a,null,d,c),ab(a),a._dirtyType=x,c$=!0,de(a,f),void(c$=!1)}finally{o.observe(d,c0),a._updating=m,cX=j,cZ=k,cY=l}}c._readOnly||(c._readOnly=!0);let r=a._dirtyLeaves,s=a._dirtyElements,t=a._normalizedNodes,u=a._updateTags,w=a._deferred;i&&(a._dirtyType=v,a._cloneNotNeeded.clear(),a._dirtyLeaves=new Set,a._dirtyElements=new Map,a._normalizedNodes=new Set,a._updateTags=new Set),function(a,b){let c,d=a._decorators,e=a._pendingDecorators||d,f=b._nodeMap;for(c in e)f.has(c)||(e===d&&(e=d8(a)),delete e[c])}(a,c);let y=e?null:eO(eG(a));if(a._editable&&null!==y&&(i||null===h||h.dirty)&&null!==d&&!u.has(dA)){cY=a,cX=c;try{if(null!==o&&o.disconnect(),i||null===h||h.dirty){let b=a._blockCursorElement;null!==b&&eN(b,a,d),cT(g,h,a,y,u,d)}!function(a,b,c){let d=a._blockCursorElement;if(cw(c)&&c.isCollapsed()&&"element"===c.anchor.type&&b.contains(document.activeElement)){let e=c.anchor,f=e.getNode(),g=e.offset,h=!1,i=null;if(g===f.getChildrenSize())eM(f.getChildAtIndex(g-1))&&(h=!0);else{let b=f.getChildAtIndex(g);if(null!==b&&eM(b)){let c=b.getPreviousSibling();(null===c||eM(c))&&(h=!0,i=a.getElementByKey(b.__key))}}if(h){let c=a.getElementByKey(f.__key);return null===d&&(a._blockCursorElement=d=function(a){let b=a.theme,c=document.createElement("div");c.contentEditable="false",c.setAttribute("data-lexical-cursor","true");let d=b.blockCursor;return void 0!==d&&("string"==typeof d&&(d=b.blockCursor=q(d)),void 0!==d&&c.classList.add(...d)),c}(a._config)),b.style.caretColor="transparent",null===i?c.appendChild(d):c.insertBefore(d,i)}}null!==d&&eN(d,a,b)}(a,d,h)}finally{null!==o&&o.observe(d,c0),cY=l,cX=j}}null!==p&&function(a,b,c,d,e){let f=Array.from(a._listeners.mutation),g=f.length;for(let a=0;a<g;a++){let[g,h]=f[a];for(let a of h){let f=b.get(a);void 0!==f&&g(f,{dirtyLeaves:d,prevEditorState:e,updateTags:c})}}}(a,p,u,r,f),cw(h)||null===h||null!==g&&g.is(h)||a.dispatchCommand(aY,void 0);let z=a._pendingDecorators;null!==z&&(a._decorators=z,a._pendingDecorators=null,df("decorator",a,!0,z)),function(a,b,c){let d=d9(b),e=d9(c);d!==e&&df("textcontent",a,!0,e)}(a,b||f,c),df("update",a,!0,{dirtyElements:s,dirtyLeaves:r,editorState:c,mutatedNodes:p,normalizedNodes:t,prevEditorState:b||f,tags:u}),function(a,b){if(a._deferred=[],0!==b.length){let c=a._updating;a._updating=!0;try{for(let a=0;a<b.length;a++)b[a]()}finally{a._updating=c}}}(a,w),function(a){let b=a._updates;if(0!==b.length){let c=b.shift();if(c){let[b,d]=c;dh(a,b,d)}}}(a)}function df(a,b,c,...d){let e=b._updating;b._updating=c;try{let c=Array.from(b._listeners[a]);for(let a=0;a<c.length;a++)c[a].apply(null,d)}finally{b._updating=e}}function dg(a,b){let c=a._updates,e=b||!1;for(;0!==c.length;){let b=c.shift();if(b){let c,[f,g]=b,h=a._pendingEditorState;void 0!==g&&(c=g.onUpdate,g.skipTransforms&&(e=!0),g.discrete&&(null===h&&d(191),h._flushSync=!0),c&&a._deferred.push(c),da(a,g.tag)),null==h?dh(a,f,g):f()}}return e}function dh(a,b,c){let e=a._updateTags,f,g=!1,h=!1;void 0!==c&&(f=c.onUpdate,da(a,c.tag),g=c.skipTransforms||!1,h=c.discrete||!1),f&&a._deferred.push(f);let i=a._editorState,j=a._pendingEditorState,k=!1;(null===j||j._readOnly)&&(j=a._pendingEditorState=dt(j||i),k=!0),j._flushSync=h;let l=cX,m=cZ,o=cY,p=a._updating;cX=j,cZ=!1,a._updating=!0,cY=a;let q=a._headless||null===a.getRootElement();dK(null);try{k&&(q?null!==i._selection&&(j._selection=i._selection.clone()):j._selection=function(a,b){let c=a.getEditorState()._selection,d=eO(eG(a));return cw(c)||null==c?cL(c,d,a,b):c.clone()}(a,c&&c.event||null));let e=a._compositionKey;b(),g=dg(a,g),function(a,b){let c=b.getEditorState()._selection,d=a._selection;if(cw(d)){let a,b=d.anchor,e=d.focus;if("text"===b.type&&(a=b.getNode()).selectionTransform(c,d),"text"===e.type){let b=e.getNode();a!==b&&b.selectionTransform(c,d)}}}(j,a),a._dirtyType!==v&&(g?function(a,b){let c=b._dirtyLeaves,d=a._nodeMap;for(let a of c){let b=d.get(a);cm(b)&&b.isAttached()&&b.isSimpleText()&&!b.isUnmergeable()&&am(b)}}(j,a):function(a,b){let c=b._dirtyLeaves,d=b._dirtyElements,e=a._nodeMap,f=d3(),g=new Map,h=c,i=h.size,j=d,k=j.size;for(;i>0||k>0;){if(i>0){for(let a of(b._dirtyLeaves=new Set,h)){let d=e.get(a);cm(d)&&d.isAttached()&&d.isSimpleText()&&!d.isUnmergeable()&&am(d),void 0!==d&&c9(d,f)&&c8(b,d,g),c.add(a)}if((i=(h=b._dirtyLeaves).size)>0){c_++;continue}}for(let a of(b._dirtyLeaves=new Set,b._dirtyElements=new Map,j.delete("root")&&j.set("root",!0),j)){let c=a[0],h=a[1];if(d.set(c,h),!h)continue;let i=e.get(c);void 0!==i&&c9(i,f)&&c8(b,i,g)}i=(h=b._dirtyLeaves).size,k=(j=b._dirtyElements).size,c_++}b._dirtyLeaves=c,b._dirtyElements=d}(j,a),dg(a),function(a,b,c,d){let e=a._nodeMap,f=b._nodeMap,g=[];for(let[a]of d){let b=f.get(a);void 0!==b&&(b.isAttached()||(dm(b)&&S(b,a,e,f,g,d),e.has(a)||d.delete(a),g.push(a)))}for(let a of g)f.delete(a);for(let a of c){let b=f.get(a);void 0===b||b.isAttached()||(e.has(a)||c.delete(a),f.delete(a))}}(i,j,a._dirtyLeaves,a._dirtyElements)),e!==a._compositionKey&&(j._flushSync=!0);let f=j._selection;if(cw(f)){let a=j._nodeMap,b=f.anchor.key,c=f.focus.key;void 0!==a.get(b)&&void 0!==a.get(c)||d(19)}else cy(f)&&0===f._nodes.size&&(j._selection=null)}catch(b){return b instanceof Error&&a._onError(b),a._pendingEditorState=i,a._dirtyType=x,a._cloneNotNeeded.clear(),a._dirtyLeaves=new Set,a._dirtyElements.clear(),void de(a)}finally{cX=l,cZ=m,cY=o,a._updating=p,c_=0}a._dirtyType!==v||a._deferred.length>0||function(a,b){let c=b.getEditorState()._selection,d=a._selection;if(null!==d){if(d.dirty||!d.is(c))return!0}else if(null!==c)return!0;return!1}(j,a)?j._flushSync?(j._flushSync=!1,de(a)):k&&dO(()=>{de(a)}):(j._flushSync=!1,k&&(e.clear(),a._deferred=[],a._pendingEditorState=null))}function di(a,b,c){cY===a&&void 0===c?b():dh(a,b,c)}class dj{constructor(a,b,c){this.element=a,this.before=b||null,this.after=c||null}withBefore(a){return new dj(this.element,a,this.after)}withAfter(a){return new dj(this.element,this.before,a)}withElement(a){return this.element===a?this:new dj(a,this.before,this.after)}insertChild(a){let b=this.before||this.getManagedLineBreak();return null!==b&&b.parentElement!==this.element&&d(222),this.element.insertBefore(a,b),this}removeChild(a){return a.parentElement!==this.element&&d(223),this.element.removeChild(a),this}replaceChild(a,b){return b.parentElement!==this.element&&d(224),this.element.replaceChild(a,b),this}getFirstChild(){let a=this.after?this.after.nextSibling:this.element.firstChild;return a===this.before||a===this.getManagedLineBreak()?null:a}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(a){if(null===a)this.removeManagedLineBreak();else{let b="decorator"===a&&(k||j);this.insertManagedLineBreak(b)}}removeManagedLineBreak(){let a=this.getManagedLineBreak();if(a){let b=this.element,c="IMG"===a.nodeName?a.nextSibling:null;c&&b.removeChild(c),b.removeChild(a),b.__lexicalLineBreak=void 0}}insertManagedLineBreak(a){let b=this.getManagedLineBreak();if(b){if(a===("IMG"===b.nodeName))return;this.removeManagedLineBreak()}let c=this.element,d=this.before,e=document.createElement("br");if(c.insertBefore(e,d),a){let a=document.createElement("img");a.setAttribute("data-lexical-linebreak","true"),a.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",a.alt="",c.insertBefore(a,e),c.__lexicalLineBreak=a}else c.__lexicalLineBreak=e}getFirstChildOffset(){let a=0;for(let b=this.after;null!==b;b=b.previousSibling)a++;return a}resolveChildIndex(a,b,c,d){if(c===this.element){let b=this.getFirstChildOffset();return[a,Math.min(b+a.getChildrenSize(),Math.max(b,d))]}let e=dk(b,c);e.push(d);let f=dk(b,this.element),g=a.getIndexWithinParent();for(let a=0;a<f.length;a++){let b=e[a],c=f[a];if(void 0===b||b<c)break;if(b>c){g+=1;break}}return[a.getParentOrThrow(),g]}}function dk(a,b){let c=[],e=b;for(;e!==a&&null!==e;e=e.parentNode){let a=0;for(let b=e.previousSibling;null!==b;b=b.previousSibling)a++;c.push(a)}return e!==a&&d(225),c.reverse()}class dl extends b0{constructor(a){super(a),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(a){super.afterCloneFrom(a),this.__key===a.__key&&(this.__first=a.__first,this.__last=a.__last,this.__size=a.__size),this.__indent=a.__indent,this.__format=a.__format,this.__style=a.__style,this.__dir=a.__dir,this.__textFormat=a.__textFormat,this.__textStyle=a.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){return O[this.getFormat()]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){let a=[],b=this.getFirstChild();for(;null!==b;)a.push(b),b=b.getNextSibling();return a}getChildrenKeys(){let a=[],b=this.getFirstChild();for(;null!==b;)a.push(b.__key),b=b.getNextSibling();return a}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){let a=c5()._dirtyElements;return null!==a&&a.has(this.__key)}isLastChild(){let a=this.getLatest(),b=this.getParentOrThrow().getLastChild();return null!==b&&b.is(a)}getAllTextNodes(){let a=[],b=this.getFirstChild();for(;null!==b;){if(cm(b)&&a.push(b),dm(b)){let c=b.getAllTextNodes();a.push(...c)}b=b.getNextSibling()}return a}getFirstDescendant(){let a=this.getFirstChild();for(;dm(a);){let b=a.getFirstChild();if(null===b)break;a=b}return a}getLastDescendant(){let a=this.getLastChild();for(;dm(a);){let b=a.getLastChild();if(null===b)break;a=b}return a}getDescendantByIndex(a){let b=this.getChildren(),c=b.length;if(a>=c){let a=b[c-1];return dm(a)&&a.getLastDescendant()||a||null}let d=b[a];return dm(d)&&d.getFirstDescendant()||d||null}getFirstChild(){let a=this.getLatest().__first;return null===a?null:d4(a)}getFirstChildOrThrow(){let a=this.getFirstChild();return null===a&&d(45,this.__key),a}getLastChild(){let a=this.getLatest().__last;return null===a?null:d4(a)}getLastChildOrThrow(){let a=this.getLastChild();return null===a&&d(96,this.__key),a}getChildAtIndex(a){let b,c,d=this.getChildrenSize();if(a<d/2){for(b=this.getFirstChild(),c=0;null!==b&&c<=a;){if(c===a)return b;b=b.getNextSibling(),c++}return null}for(b=this.getLastChild(),c=d-1;null!==b&&c>=a;){if(c===a)return b;b=b.getPreviousSibling(),c--}return null}getTextContent(){let a="",b=this.getChildren(),c=b.length;for(let d=0;d<c;d++){let e=b[d];a+=e.getTextContent(),dm(e)&&d!==c-1&&!e.isInline()&&(a+=J)}return a}getTextContentSize(){let a=0,b=this.getChildren(),c=b.length;for(let d=0;d<c;d++){let e=b[d];a+=e.getTextContentSize(),dm(e)&&d!==c-1&&!e.isInline()&&(a+=J.length)}return a}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(a){if(""!==a){let b=N[a];return!!(this.getFormat()&b)}return!1}hasTextFormat(a){let b=L[a];return!!(this.getTextFormat()&b)}getFormatFlags(a,b){return d$(this.getLatest().__textFormat,a,b)}getTextStyle(){return this.getLatest().__textStyle}select(a,b){c2();let c=cM(),d=a,e=b,f=this.getChildrenSize();if(!this.canBeEmpty()){if(0===a&&0===b){let a=this.getFirstChild();if(cm(a)||dm(a))return a.select(0,0)}else if((void 0===a||a===f)&&(void 0===b||b===f)){let a=this.getLastChild();if(cm(a)||dm(a))return a.select()}}void 0===d&&(d=f),void 0===e&&(e=f);let g=this.__key;return cw(c)?(c.anchor.set(g,d,"element"),c.focus.set(g,e,"element"),c.dirty=!0,c):cI(g,d,g,e,"element","element")}selectStart(){let a=this.getFirstDescendant();return a?a.selectStart():this.select()}selectEnd(){let a=this.getLastDescendant();return a?a.selectEnd():this.select()}clear(){let a=this.getWritable();return this.getChildren().forEach(a=>a.remove()),a}append(...a){return this.splice(this.getChildrenSize(),0,a)}setDirection(a){let b=this.getWritable();return b.__dir=a,b}setFormat(a){return this.getWritable().__format=""!==a?N[a]:0,this}setStyle(a){return this.getWritable().__style=a||"",this}setTextFormat(a){let b=this.getWritable();return b.__textFormat=a,b}setTextStyle(a){let b=this.getWritable();return b.__textStyle=a,b}setIndent(a){return this.getWritable().__indent=a,this}splice(a,b,c){let e=c.length,f=this.getChildrenSize(),g=this.getWritable();a+b<=f||d(226,String(a),String(b),String(f));let h=g.__key,i=[],j=[],k=this.getChildAtIndex(a+b),l=null,m=f-b+e;if(0!==a)if(a===f)l=this.getLastChild();else{let b=this.getChildAtIndex(a);null!==b&&(l=b.getPreviousSibling())}if(b>0){let a=null===l?this.getFirstChild():l.getNextSibling();for(let c=0;c<b;c++){null===a&&d(100);let b=a.getNextSibling(),c=a.__key;d0(a.getWritable()),j.push(c),a=b}}let o=l;for(let a=0;a<e;a++){let b=c[a];null!==o&&b.is(o)&&(l=o=o.getPreviousSibling());let e=b.getWritable();e.__parent===h&&m--,d0(e);let f=b.__key;if(null===o)g.__first=f,e.__prev=null;else{let a=o.getWritable();a.__next=f,e.__prev=a.__key}b.__key===h&&d(76),e.__parent=h,i.push(f),o=b}if(a+b===f)null!==o&&(o.getWritable().__next=null,g.__last=o.__key);else if(null!==k){let a=k.getWritable();if(null!==o){let b=o.getWritable();a.__prev=o.__key,b.__next=k.__key}else a.__prev=null}if(g.__size=m,j.length){let a=cM();if(cw(a)){let b=new Set(j),c=new Set(i),{anchor:d,focus:e}=a;dn(d,b,c)&&cQ(d,d.getNode(),this,l,k),dn(e,b,c)&&cQ(e,e.getNode(),this,l,k),0!==m||this.canBeEmpty()||eI(this)||this.remove()}}return g}getDOMSlot(a){return new dj(a)}exportDOM(a){let{element:b}=super.exportDOM(a);if(eR(b)){let a=this.getIndent();a>0&&(b.style.paddingInlineStart=40*a+"px");let c=this.getDirection();c&&(b.dir=c)}return{element:b}}exportJSON(){let a={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},b=this.getTextFormat(),c=this.getTextStyle();return 0!==b&&(a.textFormat=b),""!==c&&(a.textStyle=c),a}updateFromJSON(a){return super.updateFromJSON(a).setFormat(a.format).setIndent(a.indent).setDirection(a.direction).setTextFormat(a.textFormat||0).setTextStyle(a.textStyle||"")}insertNewAfter(a,b){return null}canIndent(){return!0}collapseAtStart(a){return!1}excludeFromCopy(a){return!1}canReplaceWith(a){return!0}canInsertAfter(a){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(a){return!1}extractWithChild(a,b,c){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(a,b){let c=this.getDOMSlot(a),d=c.getFirstChild();for(let a=this.getFirstChild();a;a=a.getNextSibling()){let e=b.getElementByKey(a.getKey());null!==e&&(null==d?(c.insertChild(e),d=e):d!==e&&c.replaceChild(e,d),d=d.nextSibling)}}}function dm(a){return a instanceof dl}function dn(a,b,c){let d=a.getNode();for(;d;){let a=d.__key;if(b.has(a)&&!c.has(a))return!0;d=d.getParent()}return!1}class dp extends b0{decorate(a,b){d(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function dq(a){return a instanceof dp}class dr extends dl{static getType(){return"root"}static clone(){return new dr}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){d(51)}getTextContent(){let a=this.__cachedText;return(c1()||c5()._dirtyType===v)&&null!==a?a:super.getTextContent()}remove(){d(52)}replace(a){d(53)}insertBefore(a){d(54)}insertAfter(a){d(55)}updateDOM(a,b){return!1}splice(a,b,c){for(let a of c)dm(a)||dq(a)||d(282);return super.splice(a,b,c)}static importJSON(a){return ea().updateFromJSON(a)}collapseAtStart(){return!0}}function ds(a){return a instanceof dr}function dt(a){return new dw(new Map(a._nodeMap))}function du(){return new dw(new Map([["root",new dr]]))}function dv(a){let b=a.exportJSON(),c=a.constructor;if(b.type!==c.getType()&&d(130,c.name),dm(a)){let e=b.children;Array.isArray(e)||d(59,c.name);let f=a.getChildren();for(let a=0;a<f.length;a++){let b=dv(f[a]);e.push(b)}}return b}class dw{constructor(a,b){this._nodeMap=a,this._selection=b||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(a,b){return dd(b&&b.editor||null,this,a)}clone(a){let b=new dw(this._nodeMap,void 0===a?this._selection:a);return b._readOnly=!0,b}toJSON(){return dd(null,this,()=>({root:dv(ea())}))}}let dx="history-merge",dy="collaboration",dz="skip-scroll-into-view",dA="skip-dom-selection";class dB extends dl{static getType(){return"artificial"}createDOM(a){return document.createElement("div")}}class dC extends dl{static getType(){return"paragraph"}static clone(a){return new dC(a.__key)}createDOM(a){let b=document.createElement("p"),c=es(a.theme,"paragraph");return void 0!==c&&b.classList.add(...c),b}updateDOM(a,b,c){return!1}static importDOM(){return{p:a=>({conversion:dD,priority:0})}}exportDOM(a){let{element:b}=super.exportDOM(a);if(eR(b)){this.isEmpty()&&b.append(document.createElement("br"));let a=this.getFormatType();a&&(b.style.textAlign=a)}return{element:b}}static importJSON(a){return dE().updateFromJSON(a)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(a,b){let c=dE();c.setTextFormat(a.format),c.setTextStyle(a.style);let d=this.getDirection();return c.setDirection(d),c.setFormat(this.getFormatType()),c.setStyle(this.getStyle()),this.insertAfter(c,b),c}collapseAtStart(){let a=this.getChildren();if(0===a.length||cm(a[0])&&""===a[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function dD(a){let b=dE();return a.style&&(b.setFormat(a.style.textAlign),e1(a,b)),{node:b}}function dE(){return eJ(new dC)}function dF(a){return a instanceof dC}function dG(a,b,c,d){let e=a._keyToDOMMap;e.clear(),a._editorState=du(),a._pendingEditorState=d,a._compositionKey=null,a._dirtyType=v,a._cloneNotNeeded.clear(),a._dirtyLeaves=new Set,a._dirtyElements.clear(),a._normalizedNodes=new Set,a._updateTags=new Set,a._updates=[],a._blockCursorElement=null;let f=a._observer;null!==f&&(f.disconnect(),a._observer=null),null!==b&&(b.textContent=""),null!==c&&(c.textContent="",e.set("root",c))}function dH(a){let b,c=a||{},d=c7(),e=c.theme||{},f=void 0===a?d:c.parentEditor||null,g=c.disableEvents||!1,h=du(),i=c.namespace||(null!==f?f._config.namespace:eg()),j=c.editorState,k=[dr,cc,b1,co,dC,dB,...c.nodes||[]],{onError:l,html:m}=c,o=void 0===c.editable||c.editable;if(void 0===a&&null!==d)b=d._nodes;else{b=new Map;for(let a=0;a<k.length;a++){let c=k[a],d=null,e=null;if("function"!=typeof c){let a=c;c=a.replace,d=a.with,e=a.withKlass||null}let{ownNodeConfig:f}=e4(c),g=c.getType(),h=c.transform(),i=new Set;f&&f.$transform&&i.add(f.$transform),null!==h&&i.add(h),b.set(g,{exportDOM:m&&m.export?m.export.get(c):void 0,klass:c,replace:d,replaceWithKlass:e,sharedNodeState:ac(k[a]),transforms:i})}}let p=new dI(h,f,b,{disableEvents:g,namespace:i,theme:e},l||console.error,function(a,b){let c=new Map,d=new Set,e=a=>{Object.keys(a).forEach(b=>{let d=c.get(b);void 0===d&&(d=[],c.set(b,d)),d.push(a[b])})};return a.forEach(a=>{let b=a.klass.importDOM;if(null==b||d.has(b))return;d.add(b);let c=b.call(a.klass);null!==c&&e(c)}),b&&e(b),c}(b,m?m.import:void 0),o,a);return void 0!==j&&(p._pendingEditorState=j,p._dirtyType=x),p}class dI{constructor(a,b,c,d,e,f,g,h){this._createEditorArgs=h,this._parentEditor=b,this._rootElement=null,this._editorState=a,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=d,this._nodes=c,this._decorators={},this._pendingDecorators=null,this._dirtyType=v,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=eg(),this._onError=e,this._htmlConversions=f,this._editable=g,this._headless=null!==b&&b._headless,this._window=null,this._blockCursorElement=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(a){let b=this._listeners.update;return b.add(a),()=>{b.delete(a)}}registerEditableListener(a){let b=this._listeners.editable;return b.add(a),()=>{b.delete(a)}}registerDecoratorListener(a){let b=this._listeners.decorator;return b.add(a),()=>{b.delete(a)}}registerTextContentListener(a){let b=this._listeners.textcontent;return b.add(a),()=>{b.delete(a)}}registerRootListener(a){let b=this._listeners.root;return a(this._rootElement,null),b.add(a),()=>{a(null,this._rootElement),b.delete(a)}}registerCommand(a,b,c){void 0===c&&d(35);let e=this._commands;e.has(a)||e.set(a,[new Set,new Set,new Set,new Set,new Set]);let f=e.get(a);void 0===f&&d(36,String(a));let g=f[c];return g.add(b),()=>{g.delete(b),f.every(a=>0===a.size)&&e.delete(a)}}registerMutationListener(a,b,c){let d=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(a)).klass,e=this._listeners.mutation,f=e.get(b);void 0===f&&(f=new Set,e.set(b,f)),f.add(d);let g=c&&c.skipInitialization;return void 0!==g&&g||this.initializeMutationListener(b,d),()=>{f.delete(d),0===f.size&&e.delete(b)}}getRegisteredNode(a){let b=this._nodes.get(a.getType());return void 0===b&&d(37,a.name),b}resolveRegisteredNodeAfterReplacements(a){for(;a.replaceWithKlass;)a=this.getRegisteredNode(a.replaceWithKlass);return a}initializeMutationListener(a,b){let c=this._editorState,d=e_(c).get(b.getType());if(!d)return;let e=new Map;for(let a of d.keys())e.set(a,"created");e.size>0&&a(e,{dirtyLeaves:new Set,prevEditorState:c,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(a,b){let c=this.getRegisteredNode(a);return c.transforms.add(b),c}registerNodeTransform(a,b){let c=this.registerNodeTransformToKlass(a,b),d=[c],e=c.replaceWithKlass;if(null!=e){let a=this.registerNodeTransformToKlass(e,b);d.push(a)}return function(a,b){let c=e_(a.getEditorState()),d=[];for(let a of b){let b=c.get(a);b&&d.push(b)}0!==d.length&&a.update(()=>{for(let a of d)for(let b of a.keys()){let a=d4(b);a&&a.markDirty()}},null===a._pendingEditorState?{tag:dx}:void 0)}(this,d.map(a=>a.klass.getType())),()=>{d.forEach(a=>a.transforms.delete(b))}}hasNode(a){return this._nodes.has(a.getType())}hasNodes(a){return a.every(this.hasNode.bind(this))}dispatchCommand(a,b){return ex(this,a,b)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(a){let b=this._rootElement;if(a!==b){let c=es(this._config.theme,"root"),d=this._pendingEditorState||this._editorState;if(this._rootElement=a,dG(this,b,a,d),null!==b&&(this._config.disableEvents||bZ(b),null!=c&&b.classList.remove(...c)),null!==a){let b=eF(a),d=a.style;d.userSelect="text",d.whiteSpace="pre-wrap",d.wordBreak="break-word",a.setAttribute("data-lexical-editor","true"),this._window=b,this._dirtyType=x,ab(this),this._updateTags.add(dx),de(this),this._config.disableEvents||function(a,b){let c=a.ownerDocument,d=bD.get(c);(void 0===d||d<1)&&c.addEventListener("selectionchange",bV),bD.set(c,(d||0)+1),a.__lexicalEditor=b;let e=bT(a);for(let c=0;c<by.length;c++){let[d,f]=by[c],g="function"==typeof f?a=>{bX(a)||(bW(a),(b.isEditable()||"click"===d)&&f(a,b))}:a=>{if(bX(a))return;bW(a);let c=b.isEditable();switch(d){case"cut":return c&&ex(b,br,a);case"copy":return ex(b,bq,a);case"paste":return c&&ex(b,a2,a);case"dragstart":return c&&ex(b,bn,a);case"dragover":return c&&ex(b,bo,a);case"dragend":return c&&ex(b,bp,a);case"focus":return c&&ex(b,bt,a);case"blur":return c&&ex(b,bu,a);case"drop":return c&&ex(b,bm,a)}};a.addEventListener(d,g),e.push(()=>{a.removeEventListener(d,g)})}}(a,this),null!=c&&a.classList.add(...c)}else this._window=null,this._updateTags.add(dx),de(this);df("root",this,!1,a,b)}}getElementByKey(a){return this._keyToDOMMap.get(a)||null}getEditorState(){return this._editorState}setEditorState(a,b){a.isEmpty()&&d(38);let c=a;c._readOnly&&((c=dt(a))._selection=a._selection?a._selection.clone():null),aa(this);let e=this._pendingEditorState,f=this._updateTags,g=void 0!==b?b.tag:null;null===e||e.isEmpty()||(null!=g&&f.add(g),de(this)),this._pendingEditorState=c,this._dirtyType=x,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=g&&f.add(g),this._updating||de(this)}parseEditorState(a,b){return function(a,b,c){let d=du(),e=cX,f=cZ,g=cY,h=b._dirtyElements,i=b._dirtyLeaves,j=b._cloneNotNeeded,k=b._dirtyType;b._dirtyElements=new Map,b._dirtyLeaves=new Set,b._cloneNotNeeded=new Set,b._dirtyType=0,cX=d,cZ=!1,cY=b,dK(null);try{let e=b._nodes;dc(a.root,e),c&&c(),d._readOnly=!0}catch(a){a instanceof Error&&b._onError(a)}finally{b._dirtyElements=h,b._dirtyLeaves=i,b._cloneNotNeeded=j,b._dirtyType=k,cX=e,cZ=f,cY=g}return d}("string"==typeof a?JSON.parse(a):a,this,b)}read(a){return de(this),this.getEditorState().read(a,{editor:this})}update(a,b){!function(a,b,c){a._updating?a._updates.push([b,c]):dh(a,b,c)}(this,a,b)}focus(a,b={}){let c=this._rootElement;null!==c&&(c.setAttribute("autocapitalize","off"),di(this,()=>{let d=cM(),e=ea();null!==d?d.dirty||ec(d.clone()):0!==e.getChildrenSize()&&("rootStart"===b.defaultSelection?e.selectStart():e.selectEnd()),eC("focus"),eD(()=>{c.removeAttribute("autocapitalize"),a&&a()})}),null===this._pendingEditorState&&c.removeAttribute("autocapitalize"))}blur(){let a=this._rootElement;null!==a&&a.blur();let b=eO(this._window);null!==b&&b.removeAllRanges()}isEditable(){return this._editable}setEditable(a){this._editable!==a&&(this._editable=a,df("editable",this,!0,a))}toJSON(){return{editorState:this._editorState.toJSON()}}}dI.version="0.35.0+prod.esm";let dJ=null;function dK(a){dJ=a}let dL=1;function dM(a,b){let c=dN(a,b);return void 0===c&&d(30,b),c}function dN(a,b){return a._nodes.get(b)}let dO="function"==typeof queueMicrotask?queueMicrotask:a=>{Promise.resolve().then(a)};function dP(a){return dq(d7(a))}function dQ(a){let b=document.activeElement;if(!eR(b))return!1;let c=b.nodeName;return dq(d7(a))&&("INPUT"===c||"TEXTAREA"===c||"true"===b.contentEditable&&null==dU(b))}function dR(a,b,c){let d=a.getRootElement();try{return null!==d&&d.contains(b)&&d.contains(c)&&null!==b&&!dQ(b)&&dT(b)===a}catch(a){return!1}}function dS(a){return a instanceof dI}function dT(a){let b=a;for(;null!=b;){let a=dU(b);if(dS(a))return a;b=eA(b)}return null}function dU(a){return a?a.__lexicalEditor:null}function dV(a){return cq(a)||a.isToken()}function dW(a){return dV(a)||a.isSegmented()}function dX(a){return eS(a)&&a.nodeType===s}function dY(a){return eS(a)&&a.nodeType===t}function dZ(a){let b=a;for(;null!=b;){if(dX(b))return b;b=b.firstChild}return null}function d$(a,b,c){let d=L[b];if(null!==c&&(a&d)==(c&d))return a;let e=a^d;return"subscript"===b?e&=~L.superscript:"superscript"===b?e&=~L.subscript:"lowercase"===b?(e&=~L.uppercase,e&=~L.capitalize):"uppercase"===b?(e&=~L.lowercase,e&=~L.capitalize):"capitalize"===b&&(e&=~L.lowercase,e&=~L.uppercase),e}function d_(a,b){let c=function(){let a=dJ;return dJ=null,a}();if(null!=(b=b||c&&c.__key))return void(a.__key=b);c2(),c3();let d=c5(),e=c4(),f=""+dL++;e._nodeMap.set(f,a),dm(a)?d._dirtyElements.set(f,!0):d._dirtyLeaves.add(f),d._cloneNotNeeded.add(f),d._dirtyType=w,a.__key=f}function d0(a){let b=a.getParent();if(null!==b){let c=a.getWritable(),d=b.getWritable(),e=a.getPreviousSibling(),f=a.getNextSibling(),g=null!==f?f.__key:null,h=null!==e?e.__key:null,i=null!==e?e.getWritable():null,j=null!==f?f.getWritable():null;null===e&&(d.__first=g),null===f&&(d.__last=h),null!==i&&(i.__next=g),null!==j&&(j.__prev=h),c.__prev=null,c.__next=null,c.__parent=null,d.__size--}}function d1(a){c3();let b=a.getLatest(),c=b.__parent,d=c4(),e=c5(),f=d._nodeMap,g=e._dirtyElements;null!==c&&function(a,b,c){let d=a;for(;null!==d;){if(c.has(d))return;let a=b.get(d);if(void 0===a)break;c.set(d,!1),d=a.__parent}}(c,f,g);let h=b.__key;e._dirtyType=w,dm(a)?g.set(h,!0):e._dirtyLeaves.add(h)}function d2(a){c2();let b=c5(),c=b._compositionKey;if(a!==c){if(b._compositionKey=a,null!==c){let a=d4(c);null!==a&&a.getWritable()}if(null!==a){let b=d4(a);null!==b&&b.getWritable()}}}function d3(){return c1()?null:c5()._compositionKey}function d4(a,b){let c=(b||c4())._nodeMap.get(a);return void 0===c?null:c}function d5(a,b){let c=d6(a,c5());return void 0!==c?d4(c,b):null}function d6(a,b){return a[`__lexicalKey_${b._key}`]}function d7(a,b){let c=a;for(;null!=c;){let a=d5(c,b);if(null!==a)return a;c=eA(c)}return null}function d8(a){let b=Object.assign({},a._decorators);return a._pendingDecorators=b,b}function d9(a){return a.read(()=>ea().getTextContent())}function ea(){return eb(c4())}function eb(a){return a._nodeMap.get("root")}function ec(a){c2();let b=c4();null!==a&&(a.dirty=!0,a.setCachedNodes(null)),b._selection=a}function ed(a){let b=c5(),c=function(a,b){let c=a;for(;null!=c;){let a=d6(c,b);if(void 0!==a)return a;c=eA(c)}return null}(a,b);return null===c?a===b.getRootElement()?d4("root"):null:d4(c)}function ee(a){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(a)}function ef(a){let b=[],c=a;for(;null!==c;)b.push(c),c=c._parentEditor;return b}function eg(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function eh(a){return dX(a)?a.nodeValue:null}function ei(a,b,c){let d=eO(eG(b));if(null===d)return;let e=d.anchorNode,{anchorOffset:f,focusOffset:g}=d;if(null!==e){let b=eh(e),d=d7(e);if(null!==b&&cm(d)){if(b===I&&c){let a=c.length;b=c,f=a,g=a}null!==b&&ej(d,b,f,g,a)}}}function ej(a,b,c,d,e){let f=a;if(f.isAttached()&&(e||!f.isDirty())){let g=f.isComposing(),h=b;(g||e)&&b[b.length-1]===I&&(h=b.slice(0,-1));let i=f.getTextContent();if(e||h!==i){if(""===h){if(d2(null),j||k||p)f.remove();else{let a=c5();setTimeout(()=>{a.update(()=>{f.isAttached()&&f.remove()})},20)}return}let b=f.getParent(),e=cN(),i=f.getTextContentSize(),l=d3(),m=f.getKey();if(f.isToken()||null!==l&&m===l&&!g||cw(e)&&(null!==b&&!b.canInsertTextBefore()&&0===e.anchor.offset||e.anchor.key===a.__key&&0===e.anchor.offset&&!f.canInsertTextBefore()&&!g||e.focus.key===a.__key&&e.focus.offset===i&&!f.canInsertTextAfter()&&!g))return void f.markDirty();let o=cM();if(!cw(o)||null===c||null===d)return void ek(f,h,o);if(o.setTextNodeRange(f,c,f,d),f.isSegmented()){let a=cl(f.getTextContent());f.replace(a),f=a}ek(f,h,o)}}}function ek(a,b,c){if(a.setTextContent(b),cw(c)){let b=a.getKey();for(let d of["anchor","focus"]){let e=c[d];"text"===e.type&&e.key===b&&(e.offset=fl(a,e.offset,"clamp"))}}}function el(a,b,c){let d=b[c]||!1;return"any"===d||d===a[c]}function em(a,b){return el(a,b,"altKey")&&el(a,b,"ctrlKey")&&el(a,b,"shiftKey")&&el(a,b,"metaKey")}function en(a,b,c){return em(a,c)&&a.key.toLowerCase()===b.toLowerCase()}let eo={ctrlKey:!g,metaKey:g},ep={altKey:g,ctrlKey:!g};function eq(a){return"Backspace"===a.key}function er(a){return en(a,"a",eo)}function es(a,b){void 0===a.__lexicalClassNameCache&&(a.__lexicalClassNameCache={});let c=a.__lexicalClassNameCache,d=c[b];if(void 0!==d)return d;let e=a[b];if("string"==typeof e){let a=q(e);return c[b]=a,a}return e}function et(a,b,c,e,f){if(0===c.size)return;let g=e.__type,h=e.__key,i=b.get(g);void 0===i&&d(33,g);let j=i.klass,k=a.get(j);void 0===k&&(k=new Map,a.set(j,k));let l=k.get(h),m="destroyed"===l&&"created"===f;(void 0===l||m)&&k.set(h,m?"updated":f)}function eu(a,b,c){let d=a.getParent(),e=c,f=a;return null!==d&&(b&&0===c?(e=f.getIndexWithinParent(),f=d):b||c!==f.getChildrenSize()||(e=f.getIndexWithinParent()+1,f=d)),f.getChildAtIndex(b?e-1:e)}function ev(a,b){let c=a.offset;if("element"===a.type)return eu(a.getNode(),b,c);{let d=a.getNode();if(b&&0===c||!b&&c===d.getTextContentSize()){let a=b?d.getPreviousSibling():d.getNextSibling();return null===a?eu(d.getParentOrThrow(),b,d.getIndexWithinParent()+ +!b):a}}return null}function ew(a){let b=eG(a).event,c=b&&b.inputType;return"insertFromPaste"===c||"insertFromPasteAsQuotation"===c}function ex(a,b,c){return function(a,b,c){let d=ef(a);for(let e=4;e>=0;e--)for(let f=0;f<d.length;f++){let g=d[f],h=g._commands.get(b);if(void 0!==h){let b=h[e];if(void 0!==b){let d=Array.from(b),e=d.length,f=!1;if(di(g,()=>{for(let b=0;b<e;b++)if(d[b](c,a))return void(f=!0)}),f)return f}}}return!1}(a,b,c)}function ey(a){return!ds(a)&&!a.isLastChild()&&!a.isInline()}function ez(a,b){let c=a._keyToDOMMap.get(b);return void 0===c&&d(75,b),c}function eA(a){let b=a.assignedSlot||a.parentElement;return eT(b)?b.host:b}function eB(a){return dY(a)?a:eR(a)?a.ownerDocument:null}function eC(a){c2(),c5()._updateTags.add(a)}function eD(a){c2(),c5()._deferred.push(a)}function eE(a,b){let c=a.getParent();for(;null!==c;){if(c.is(b))return!0;c=c.getParent()}return!1}function eF(a){let b=eB(a);return b?b.defaultView:null}function eG(a){let b=a._window;return null===b&&d(78),b}function eH(a){let b=a.getParentOrThrow();for(;null!==b&&!eI(b);)b=b.getParentOrThrow();return b}function eI(a){return ds(a)||dm(a)&&a.isShadowRoot()}function eJ(a){let b=c5(),c=a.getType(),e=dN(b,c);void 0===e&&d(200,a.constructor.name,c);let{replace:f,replaceWithKlass:g}=e;if(null!==f){let b=f(a),e=b.constructor;return null!==g?b instanceof g||d(201,g.name,g.getType(),e.name,e.getType(),a.constructor.name,c):b instanceof a.constructor&&e!==a.constructor||d(202,e.name,e.getType(),a.constructor.name,c),b.__key===a.__key&&d(203,a.constructor.name,c,e.name,e.getType()),b}return a}function eK(a,b){!ds(a.getParent())||dm(b)||dq(b)||d(99)}function eL(a){let b=d4(a);return null===b&&d(63,a),b}function eM(a){return(dq(a)||dm(a)&&!a.canBeEmpty())&&!a.isInline()}function eN(a,b,c){c.style.removeProperty("caret-color"),b._blockCursorElement=null;let d=a.parentElement;null!==d&&d.removeChild(a)}function eO(a){return e?(a||window).getSelection():null}function eP(a){let b=eF(a);return b?b.getSelection():null}function eQ(a){return eR(a)&&"A"===a.tagName}function eR(a){return eS(a)&&a.nodeType===r}function eS(a){return"object"==typeof a&&null!==a&&"nodeType"in a&&"number"==typeof a.nodeType}function eT(a){return eS(a)&&a.nodeType===u}function eU(a){let b=RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==a.nodeName.match(b)}function eV(a){let b=RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return null!==a.nodeName.match(b)}function eW(a){if(dq(a)&&!a.isInline())return!0;if(!dm(a)||eI(a))return!1;let b=a.getFirstChild(),c=null===b||b4(b)||cm(b)||b.isInline();return!a.isInline()&&!1!==a.canBeEmpty()&&c}function eX(a,b){let c=a;for(;null!==c&&null!==c.getParent()&&!b(c);)c=c.getParentOrThrow();return b(c)?c:null}function eY(){return c5()}let eZ=new WeakMap,e$=new Map;function e_(a){if(!a._readOnly&&a.isEmpty())return e$;a._readOnly||d(192);let b=eZ.get(a);return b||(b=function(a){let b=new Map;for(let[c,d]of a._nodeMap){let a=d.__type,e=b.get(a);e||(e=new Map,b.set(a,e)),e.set(c,d)}return b}(a),eZ.set(a,b)),b}function e0(a){let b=a.constructor.clone(a);return b.afterCloneFrom(a),b}function e1(a,b){let c=Math.round((parseInt(a.style.paddingInlineStart,10)||0)/40);b.setIndent(c)}function e2(a){return!0===a.__lexicalUnmanaged}function e3(a,b){return function(a,b){return Object.prototype.hasOwnProperty.call(a,b)}(a,b)&&a[b]!==b0[b]}function e4(a){let b=R in a.prototype?a.prototype[R]():void 0,c=function(a){return a===dp||a===dl||a===b0}(a),d=!c&&e3(a,"getType")?a.getType():void 0,e,f=d;if(b)if(d)e=b[d];else for(let[a,c]of Object.entries(b))f=a,e=c;if(!c&&f&&(e3(a,"getType")||(a.getType=()=>f),e3(a,"clone")||(a.clone=b=>(dK(b),new a)),e3(a,"importJSON")||(a.importJSON=e&&e.$importJSON||(b=>(new a).updateFromJSON(b))),!e3(a,"importDOM")&&e)){let{importDOM:b}=e;b&&(a.importDOM=()=>b)}return{ownNodeConfig:e,ownNodeType:f}}let e5={next:"previous",previous:"next"};class e6{constructor(a){this.origin=a}[Symbol.iterator](){return fv({hasNext:fe,initial:this.getAdjacentCaret(),map:a=>a,step:a=>a.getAdjacentCaret()})}getAdjacentCaret(){return fj(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return fj(this.origin,this.direction)}remove(){let a=this.getNodeAtCaret();return a&&a.remove(),this}replaceOrInsert(a,b){let c=this.getNodeAtCaret();return a.is(this.origin)||a.is(c)||(null===c?this.insert(a):c.replace(a,b)),this}splice(a,b,c="next"){let e=c===this.direction?b:Array.from(b).reverse(),f=this,g=this.getParentAtCaret(),h=new Map;for(let b=f.getAdjacentCaret();null!==b&&h.size<a;b=b.getAdjacentCaret()){let a=b.origin.getWritable();h.set(a.getKey(),a)}for(let a of e){if(h.size>0){let b=f.getNodeAtCaret();if(b)if(h.delete(b.getKey()),h.delete(a.getKey()),b.is(a)||f.origin.is(a));else{let c=a.getParent();c&&c.is(g)&&a.remove(),b.replace(a)}else null===b&&d(263,Array.from(h).join(" "))}else f.insert(a);f=fj(a,this.direction)}for(let a of h.values())a.remove();return this}}class e7 extends e6{type="child";getLatest(){let a=this.origin.getLatest();return a===this.origin?this:fn(a,this.direction)}getParentCaret(a="root"){return fj(fa(this.getParentAtCaret(),a),this.direction)}getFlipped(){let a=e9(this.direction);return fj(this.getNodeAtCaret(),a)||fn(this.origin,a)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(a){return a instanceof e7&&this.direction===a.direction&&this.origin.is(a.origin)}isSamePointCaret(a){return this.isSameNodeCaret(a)}}let e8={root:ds,shadowRoot:eI};function e9(a){return e5[a]}function fa(a,b="root"){return e8[b](a)?null:a}class fb extends e6{type="sibling";getLatest(){let a=this.origin.getLatest();return a===this.origin?this:fj(a,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return dm(this.origin)?fn(this.origin,this.direction):null}getParentCaret(a="root"){return fj(fa(this.getParentAtCaret(),a),this.direction)}getFlipped(){let a=e9(this.direction);return fj(this.getNodeAtCaret(),a)||fn(this.origin.getParentOrThrow(),a)}isSamePointCaret(a){return a instanceof fb&&this.direction===a.direction&&this.origin.is(a.origin)}isSameNodeCaret(a){return(a instanceof fb||a instanceof fc)&&this.direction===a.direction&&this.origin.is(a.origin)}}class fc extends e6{type="text";constructor(a,b){super(a),this.offset=b}getLatest(){let a=this.origin.getLatest();return a===this.origin?this:fk(a,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(a="root"){return fj(fa(this.getParentAtCaret(),a),this.direction)}getFlipped(){return fk(this.origin,e9(this.direction),this.offset)}isSamePointCaret(a){return a instanceof fc&&this.direction===a.direction&&this.origin.is(a.origin)&&this.offset===a.offset}isSameNodeCaret(a){return(a instanceof fb||a instanceof fc)&&this.direction===a.direction&&this.origin.is(a.origin)}getSiblingCaret(){return fj(this.origin,this.direction)}}function fd(a){return a instanceof fc}function fe(a){return a instanceof fb}function ff(a){return a instanceof e7}let fg={next:class extends fc{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(a){return this.origin.insertAfter(a),this}},previous:class extends fc{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(a){return this.origin.insertBefore(a),this}}},fh={next:class extends fb{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(a){return this.origin.insertAfter(a),this}},previous:class extends fb{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(a){return this.origin.insertBefore(a),this}}},fi={next:class extends e7{direction="next";getNodeAtCaret(){return this.origin.getFirstChild()}insert(a){return this.origin.splice(0,0,[a]),this}},previous:class extends e7{direction="previous";getNodeAtCaret(){return this.origin.getLastChild()}insert(a){return this.origin.splice(this.origin.getChildrenSize(),0,[a]),this}}};function fj(a,b){return a?new fh[b](a):null}function fk(a,b,c){return a?new fg[b](a,fl(a,c)):null}function fl(a,b,c="error"){let d=a.getTextContentSize(),e="next"===b?d:"previous"===b?0:b;return(e<0||e>d)&&("clamp"!==c&&function(a,...b){let c=new URL("https://lexical.dev/docs/error"),d=new URLSearchParams;for(let a of(d.append("code",284),b))d.append("v",a);c.search=d.toString(),console.warn(`Minified Lexical warning #${284}; visit ${c.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(284,String(b),String(d),a.getKey()),e=e<0?0:d),e}function fm(a,b){return new fr(a,b)}function fn(a,b){return dm(a)?new fi[b](a):null}function fo(a){return a&&a.getChildCaret()||a}function fp(a){return a&&fo(a.getAdjacentCaret())}class fq{type="node-caret-range";constructor(a,b,c){this.anchor=a,this.focus=b,this.direction=c}getLatest(){let a=this.anchor.getLatest(),b=this.focus.getLatest();return a===this.anchor&&b===this.focus?this:new fq(a,b,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){let a=a=>{let b=this[a].getLatest();return fd(b)?function(a,b){let{direction:c,origin:d}=a;return fm(a,fl(d,"focus"===b?e9(c):c)-a.offset)}(b,a):null},b=a("anchor"),c=a("focus");if(b&&c){let{caret:a}=b,{caret:d}=c;if(a.isSameNodeCaret(d))return[fm(a,d.offset-a.offset),null]}return[b,c]}iterNodeCarets(a="root"){let b=fd(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),c=this.focus.getLatest(),d=fd(c),e=b=>b.isSameNodeCaret(c)?null:fp(b)||b.getParentCaret(a);return fv({hasNext:a=>null!==a&&!(d&&c.isSameNodeCaret(a)),initial:b.isSameNodeCaret(c)?null:e(b),map:a=>a,step:e})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class fr{type="slice";constructor(a,b){this.caret=a,this.distance=b}getSliceIndices(){let{distance:a,caret:{offset:b}}=this,c=b+a;return c<b?[c,b]:[b,c]}getTextContent(){let[a,b]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(a,b)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){let{caret:{origin:a,direction:b}}=this,[c,d]=this.getSliceIndices(),e=a.getTextContent();return fk(a.setTextContent(e.slice(0,c)+e.slice(d)),b,c)}}function fs(a){return fu(a,fj(ea(),a.direction))}function ft(a){return fu(a,a)}function fu(a,b){return a.direction!==b.direction&&d(265),new fq(a,b,a.direction)}function fv(a){let{initial:b,hasNext:c,step:d,map:e}=a,f=b;return{[Symbol.iterator](){return this},next(){if(!c(f))return{done:!0,value:void 0};let a={done:!1,value:e(f)};return f=d(f),a}}}function fw(a,b){let c=fA(a.origin,b.origin);switch(null===c&&d(275,a.origin.getKey(),b.origin.getKey()),c.type){case"same":{let c="text"===a.type,d="text"===b.type;return c&&d?function(a,b){return Math.sign(a-b)}(a.offset,b.offset):a.type===b.type?0:c?-1:d?1:"child"===a.type?-1:1}case"ancestor":return"child"===a.type?-1:1;case"descendant":return"child"===b.type?1:-1;case"branch":return fx(c)}}function fx(a){let{a:b,b:c}=a,d=b.__key,e=c.__key,f=b,g=c;for(;f&&g;f=f.getNextSibling(),g=g.getNextSibling()){if(f.__key===e)return -1;if(g.__key===d)return 1}return null===f?1:-1}function fy(a,b){return b.is(a)}function fz(a){return dm(a)?[a.getLatest(),null]:[a.getParent(),a.getLatest()]}function fA(a,b){if(a.is(b))return{commonAncestor:a,type:"same"};let c=new Map;for(let[b,d]=fz(a);b;d=b,b=b.getParent())c.set(b,d);for(let[e,f]=fz(b);e;f=e,e=e.getParent()){let g=c.get(e);if(void 0!==g)return null===g?(fy(a,e)||d(276),{commonAncestor:e,type:"ancestor"}):null===f?(fy(b,e)||d(277),{commonAncestor:e,type:"descendant"}):((dm(g)||fy(a,g))&&(dm(f)||fy(b,f))&&e.is(g.getParent())&&e.is(f.getParent())||d(278),{a:g,b:f,commonAncestor:e,type:"branch"})}return null}function fB(a,b){let{type:c,key:e,offset:f}=a,g=eL(a.key);return"text"===c?(cm(g)||d(266,g.getType(),e),fk(g,b,f)):(dm(g)||d(267,g.getType(),e),fO(g,a.offset,b))}function fC(a,b){let{origin:c,direction:e}=b,f="next"===e;fd(b)?a.set(c.getKey(),b.offset,"text"):fe(b)?cm(c)?a.set(c.getKey(),fl(c,e),"text"):a.set(c.getParentOrThrow().getKey(),c.getIndexWithinParent()+ +!!f,"element"):(ff(b)&&dm(c)||d(268),a.set(c.getKey(),f?0:c.getChildrenSize(),"element"))}function fD(a){let b=cM(),c=cw(b)?b:cJ();return fE(c,a),ec(c),c}function fE(a,b){fC(a.anchor,b.anchor),fC(a.focus,b.focus)}function fF(a){let{anchor:b,focus:c}=a,d=fB(b,"next"),e=fB(c,"next"),f=0>=fw(d,e)?"next":"previous";return fu(fM(d,f),fM(e,f))}function fG(a){let{direction:b,origin:c}=a,d=fj(c,e9(b)).getNodeAtCaret();return d?fj(d,b):fn(c.getParentOrThrow(),b)}function fH(a,b="root"){let c=[a];for(let d=ff(a)?a.getParentCaret(b):a.getSiblingCaret();null!==d;d=d.getParentCaret(b))c.push(fG(d));return c}function fI(a){return!!a&&a.origin.isAttached()}function fJ(a,b="removeEmptySlices"){let c,e;if(a.isCollapsed())return a;let f="root",g="next",h=b,i=fN(a,g),j=fH(i.anchor,f),k=fH(i.focus.getFlipped(),f),l=new Set,m=[];for(let a of i.iterNodeCarets(f))if(ff(a))l.add(a.origin.getKey());else if(fe(a)){let{origin:b}=a;dm(b)&&!l.has(b.getKey())||m.push(b)}for(let a of m)a.remove();for(let a of i.getTextSlices()){if(!a)continue;let{origin:b}=a.caret,c=b.getTextContentSize(),d=fG(fj(b,g)),e=b.getMode();if(Math.abs(a.distance)===c&&"removeEmptySlices"===h||"token"===e&&0!==a.distance)d.remove();else if(0!==a.distance){h="removeEmptySlices";let b=a.removeTextSlice(),c=a.caret.origin;if("segmented"===e){let a=b.origin,c=cl(a.getTextContent()).setStyle(a.getStyle()).setFormat(a.getFormat());d.replaceOrInsert(c),b=fk(c,g,b.offset)}c.is(j[0].origin)&&(j[0]=b),c.is(k[0].origin)&&(k[0]=b.getFlipped())}}for(let a of j)if(fI(a)){c=fK(a);break}for(let a of k)if(fI(a)){e=fK(a);break}let o=function(a,b,c){let d;if(!a||!b)return null;let e=a.getParentAtCaret(),f=b.getParentAtCaret();if(!e||!f)return null;let g=e.getParents().reverse();g.push(e);let h=f.getParents().reverse();h.push(f);let i=Math.min(g.length,h.length);for(d=0;d<i&&g[d]===h[d];d++);let j=(a,b)=>{let c;for(let e=d;e<a.length;e++){let d=a[e];if(eI(d))return;!c&&b(d)&&(c=d)}return c},k=j(g,eW),l=k&&j(h,a=>c.has(a.getKey())&&eW(a));return k&&l?[k,l]:null}(c,e,l);if(o){let[a,b]=o;fn(a,"previous").splice(0,b.getChildren()),b.remove()}let p=[c,e,...j,...k].find(fI);if(p)return ft(fM(fK(p),a.direction));d(269,JSON.stringify(j.map(a=>a.origin.__key)))}function fK(a){let b=function(a){let b=a;for(;ff(b);){let a=fp(b);if(!ff(a))break;b=a}return b}(a.getLatest()),{direction:c}=b;if(cm(b.origin))return fd(b)?b:fk(b.origin,c,c);let d=b.getAdjacentCaret();return fe(d)&&cm(d.origin)?fk(d.origin,c,e9(c)):b}function fL(a){return fd(a)&&a.offset!==fl(a.origin,a.direction)}function fM(a,b){return a.direction===b?a:a.getFlipped()}function fN(a,b){return a.direction===b?a:fu(fM(a.focus,b),fM(a.anchor,b))}function fO(a,b,c){let d=fn(a,"next");for(let a=0;a<b;a++){let a=d.getAdjacentCaret();if(null===a)break;d=a}return fM(d,c)}},34352:(a,b,c)=>{"use strict";c.d(b,{e$:()=>h});var d=c(98927),e=c(5239);let f="AWS_USE_DUALSTACK_ENDPOINT",g="use_dualstack_endpoint",h={environmentVariableSelector:a=>(0,d.Q)(a,f,e.c.ENV),configFileSelector:a=>(0,d.Q)(a,g,e.c.CONFIG),default:!1}},34414:(a,b,c)=>{"use strict";var d;Object.defineProperty(b,"__esModule",{value:!0}),b.checkStrictMode=b.getErrorPath=b.Type=b.useFunc=b.setEvaluated=b.evaluatedPropsToName=b.mergeEvaluated=b.eachItem=b.unescapeJsonPointer=b.escapeJsonPointer=b.escapeFragment=b.unescapeFragment=b.schemaRefOrVal=b.schemaHasRulesButRef=b.schemaHasRules=b.checkUnknownRules=b.alwaysValidSchema=b.toHash=void 0;let e=c(47934),f=c(37133);function g(a,b=a.schema){let{opts:c,self:d}=a;if(!c.strictSchema||"boolean"==typeof b)return;let e=d.RULES.keywords;for(let c in b)e[c]||p(a,`unknown keyword: "${c}"`)}function h(a,b){if("boolean"==typeof a)return!a;for(let c in a)if(b[c])return!0;return!1}function i(a){return"number"==typeof a?`${a}`:a.replace(/~/g,"~0").replace(/\//g,"~1")}function j(a){return a.replace(/~1/g,"/").replace(/~0/g,"~")}function k({mergeNames:a,mergeToName:b,mergeValues:c,resultToName:d}){return(f,g,h,i)=>{let j=void 0===h?g:h instanceof e.Name?(g instanceof e.Name?a(f,g,h):b(f,g,h),h):g instanceof e.Name?(b(f,h,g),g):c(g,h);return i!==e.Name||j instanceof e.Name?j:d(f,j)}}function l(a,b){if(!0===b)return a.var("props",!0);let c=a.var("props",(0,e._)`{}`);return void 0!==b&&m(a,c,b),c}function m(a,b,c){Object.keys(c).forEach(c=>a.assign((0,e._)`${b}${(0,e.getProperty)(c)}`,!0))}b.toHash=function(a){let b={};for(let c of a)b[c]=!0;return b},b.alwaysValidSchema=function(a,b){return"boolean"==typeof b?b:0===Object.keys(b).length||(g(a,b),!h(b,a.self.RULES.all))},b.checkUnknownRules=g,b.schemaHasRules=h,b.schemaHasRulesButRef=function(a,b){if("boolean"==typeof a)return!a;for(let c in a)if("$ref"!==c&&b.all[c])return!0;return!1},b.schemaRefOrVal=function({topSchemaRef:a,schemaPath:b},c,d,f){if(!f){if("number"==typeof c||"boolean"==typeof c)return c;if("string"==typeof c)return(0,e._)`${c}`}return(0,e._)`${a}${b}${(0,e.getProperty)(d)}`},b.unescapeFragment=function(a){return j(decodeURIComponent(a))},b.escapeFragment=function(a){return encodeURIComponent(i(a))},b.escapeJsonPointer=i,b.unescapeJsonPointer=j,b.eachItem=function(a,b){if(Array.isArray(a))for(let c of a)b(c);else b(a)},b.mergeEvaluated={props:k({mergeNames:(a,b,c)=>a.if((0,e._)`${c} !== true && ${b} !== undefined`,()=>{a.if((0,e._)`${b} === true`,()=>a.assign(c,!0),()=>a.assign(c,(0,e._)`${c} || {}`).code((0,e._)`Object.assign(${c}, ${b})`))}),mergeToName:(a,b,c)=>a.if((0,e._)`${c} !== true`,()=>{!0===b?a.assign(c,!0):(a.assign(c,(0,e._)`${c} || {}`),m(a,c,b))}),mergeValues:(a,b)=>!0===a||{...a,...b},resultToName:l}),items:k({mergeNames:(a,b,c)=>a.if((0,e._)`${c} !== true && ${b} !== undefined`,()=>a.assign(c,(0,e._)`${b} === true ? true : ${c} > ${b} ? ${c} : ${b}`)),mergeToName:(a,b,c)=>a.if((0,e._)`${c} !== true`,()=>a.assign(c,!0===b||(0,e._)`${c} > ${b} ? ${c} : ${b}`)),mergeValues:(a,b)=>!0===a||Math.max(a,b),resultToName:(a,b)=>a.var("items",b)})},b.evaluatedPropsToName=l,b.setEvaluated=m;let o={};function p(a,b,c=a.opts.strictSchema){if(c){if(b=`strict mode: ${b}`,!0===c)throw Error(b);a.self.logger.warn(b)}}b.useFunc=function(a,b){return a.scopeValue("func",{ref:b,code:o[b.code]||(o[b.code]=new f._Code(b.code))})},function(a){a[a.Num=0]="Num",a[a.Str=1]="Str"}(d||(b.Type=d={})),b.getErrorPath=function(a,b,c){if(a instanceof e.Name){let f=b===d.Num;return c?f?(0,e._)`"[" + ${a} + "]"`:(0,e._)`"['" + ${a} + "']"`:f?(0,e._)`"/" + ${a}`:(0,e._)`"/" + ${a}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return c?(0,e.getProperty)(a).toString():"/"+i(a)},b.checkStrictMode=p},34611:(a,b,c)=>{"use strict";c.d(b,{F:()=>j});var d=c(79748),e=c(7282),f=c(24401),g=c(70404);class h extends g.L{constructor(a){super(a?a("error:deletingFile"):e.en.translations.error.deletingFile,f.h.INTERNAL_SERVER_ERROR)}}var i=c(44905);let j=async({collectionConfig:a,doc:b,files:c=[],overrideDelete:e,req:f})=>{if(a.upload&&(e||c.length>0)){let{staticDir:c}=a.upload,e=`${c}/${b.filename}`;try{await (0,i.h)(e)&&await d.unlink(e)}catch(a){throw new h(f.t)}if(b.sizes)for(let a of Object.values(b.sizes)){let b=`${c}/${a.filename}`;try{await (0,i.h)(b)&&await d.unlink(b)}catch(a){throw new h(f.t)}}}}},34952:(a,b,c)=>{"use strict";c.d(b,{g:()=>r});var d=c(55511),e=c(24401),f=c(79551),g=c(35183),h=c(96683),i=c(70404),j=c(86069),k=c(10353),l=c(46386),m=c(81218),o=c(23271),p=c(66089),q=c(48240);let r=async a=>{let b=a.collection.config.auth.loginWithUsername,{data:c}=a,{canLoginWithEmail:r,canLoginWithUsername:s}=(0,q.Y)(b),t=r&&(a.data.email||"").toLowerCase().trim()||null,u="username"in c&&"string"==typeof c?.username?c.username.toLowerCase().trim():null,v=a;if(a.collection.config.auth.disableLocalStrategy)throw new j.c(a.req.t);if(!t&&!u)throw new i.L(`Missing ${b?"username":"email"}.`,e.h.BAD_REQUEST);try{let a=await (0,o.n)(v.req),{collection:{config:c},disableEmail:j,expiration:p,req:{payload:{config:q,email:w},payload:x},req:y}=v=await (0,h.v)({args:v,collection:v.collection.config,operation:"forgotPassword"}),z=d.randomBytes(20).toString("hex");if(!t&&!u)throw new i.L(`Missing ${b?"username":"email"}.`,e.h.BAD_REQUEST);let A={};r&&t?A={email:{equals:t}}:s&&u&&(A={username:{equals:u}}),A=(0,k.v)({enableTrash:c.trash,trash:!1,where:A});let B=await x.db.findOne({collection:c.slug,req:y,where:A});if(!B)return await (0,l.w)(v.req),null;let C=new Date(Date.now()+(c.auth?.forgotPassword?.expiration??p??36e5)).toISOString();if(B=await x.update({id:B.id,collection:c.slug,data:{resetPasswordExpiration:C,resetPasswordToken:z},req:y}),!j&&B.email){let a=new f.URL(y.url).protocol,b=null!==q.serverURL&&""!==q.serverURL?q.serverURL:`${a}//${y.headers.get("host")}`,d=(0,m.Q)({adminRoute:q.routes.admin,path:`${q.admin.routes.reset}/${z}`,serverURL:b}),e=`${y.t("authentication:youAreReceivingResetPassword")}
    <a href="${d}">${d}</a>
    ${y.t("authentication:youDidNotRequestPassword")}`;"function"==typeof c.auth.forgotPassword?.generateEmailHTML&&(e=await c.auth.forgotPassword.generateEmailHTML({req:y,token:z,user:B}));let g=y.t("authentication:resetYourPassword");"function"==typeof c.auth.forgotPassword?.generateEmailSubject&&(g=await c.auth.forgotPassword.generateEmailSubject({req:y,token:z,user:B})),await w.sendEmail({from:`"${w.defaultFromName}" <${w.defaultFromAddress}>`,html:e,subject:g,to:B.email})}if(c.hooks?.afterForgotPassword?.length)for(let a of c.hooks.afterForgotPassword)await a({args:v,collection:v.collection?.config,context:y.context});return z=await (0,g.E)({args:v,collection:v.collection?.config,operation:"forgotPassword",result:z}),a&&await (0,l.w)(y),z}catch(a){throw await (0,p.J)(v.req),a}}},34959:(a,b,c)=>{"use strict";let{parseHeaders:d}=c(81350),{InvalidArgumentError:e}=c(64737),f=Symbol("resume");class g{#ar=!1;#aq=null;#as=!1;#at;[f]=null;constructor(a){this.#at=a}pause(){this.#ar=!0}resume(){this.#ar&&(this.#ar=!1,this[f]?.())}abort(a){this.#as||(this.#as=!0,this.#aq=a,this.#at(a))}get aborted(){return this.#as}get reason(){return this.#aq}get paused(){return this.#ar}}a.exports=class a{#a;#$;constructor(a){this.#a=a}static unwrap(b){return b.onRequestStart?new a(b):b}onConnect(a,b){this.#$=new g(a),this.#a.onRequestStart?.(this.#$,b)}onUpgrade(a,b,c){this.#a.onRequestUpgrade?.(this.#$,a,d(b),c)}onHeaders(a,b,c,e){return this.#$[f]=c,this.#a.onResponseStart?.(this.#$,a,d(b),e),!this.#$.paused}onData(a){return this.#a.onResponseData?.(this.#$,a),!this.#$.paused}onComplete(a){this.#a.onResponseEnd?.(this.#$,d(a))}onError(a){if(!this.#a.onResponseError)throw new e("invalid onError method");this.#a.onResponseError?.(this.#$,a)}}},35183:(a,b,c)=>{"use strict";c.d(b,{E:()=>d});let d=async a=>{let{args:b,collection:c,operation:d,result:e}=a,f=e;if(b.collection.config.hooks?.afterOperation?.length)for(let a of b.collection.config.hooks.afterOperation){let e=await a({args:b,collection:c,operation:d,req:b.req,result:f});void 0!==e&&(f=e)}return f}},35305:(a,b,c)=>{"use strict";c.d(b,{j:()=>m});var d=c(99408),e=c(82545),f=c(1276),g=c(55878),h=c(54094),i=c(23042),j=c(66089),k=c(16886),l=c(48445);let m=async a=>{let{slug:b,depth:c,draft:m=!1,flattenLocales:o,globalConfig:p,includeLockStatus:q,overrideAccess:r=!1,populate:s,req:{fallbackLocale:t,locale:u},req:v,select:w,showHiddenFields:x}=a;try{let j;if(p.hooks?.beforeOperation?.length)for(let b of p.hooks.beforeOperation)a=await b({args:a,context:a.req.context,global:p,operation:"read",req:a.req})||a;if(r||(j=await (0,d.m)({req:v},p.access.read)),!1===j)throw new e.M(v.t);let y=(0,k.Y)({fields:p.flattenedFields,forceSelect:p.forceSelect,select:w}),z=await v.payload.db.findGlobal({slug:b,locale:u,req:v,select:y,where:r?void 0:j}),A=z&&Object.keys(z).length>0;if(!A&&!a.data&&!r&&!0!==j)return{};let B=a.data??(A?z:null)??{};if(q&&b){let a=null;try{let c=p?.lockDocuments,d=300,e="object"==typeof c?c.duration:d,f=1e3*e,h=await v.payload.find({collection:g.q,depth:1,limit:1,overrideAccess:!1,pagination:!1,req:v,where:{and:[{globalSlug:{equals:b}},{updatedAt:{greater_than:new Date(new Date().getTime()-f)}}]}});h&&h.docs.length>0&&(a=h.docs[0])}catch{}B._isLocked=!!a,B._userEditing=a?.user?.value??null}if(m&&(0,i.gD)(p)&&(B=await (0,l.M)({accessResult:j,doc:B,entity:p,entityType:"global",overrideAccess:r,req:v,select:y})),p.hooks?.beforeRead?.length)for(let a of p.hooks.beforeRead)B=await a({context:v.context,doc:B,global:p,req:v})||B;if(y&&B.globalType){let a=(0,h.a)(y);("include"!==a||y.globalType)&&("exclude"!==a||!1!==y.globalType)||delete B.globalType}if(B=await (0,f.v)({collection:null,context:v.context,depth:c,doc:B,draft:m,fallbackLocale:t,flattenLocales:o,global:p,locale:u,overrideAccess:r,populate:s,req:v,select:y,showHiddenFields:x}),p.hooks?.afterRead?.length)for(let a of p.hooks.afterRead)B=await a({context:v.context,doc:B,global:p,req:v})||B;return B}catch(a){throw await (0,j.J)(v),a}}},35355:(a,b,c)=>{"use strict";c.d(b,{c:()=>f});var d=c(23042),e=c(80548);let f=(a,b,c)=>{let f=[{name:"parent",type:"relationship",index:!0,relationTo:b.slug},{name:"version",type:"group",fields:b.fields.filter(a=>!("name"in a)||"id"!==a.name),...c&&{flattenedFields:b.flattenedFields.filter(a=>"id"!==a.name)}},{name:"createdAt",type:"date",admin:{disabled:!0},index:!0},{name:"updatedAt",type:"date",admin:{disabled:!0},index:!0}];return(0,d.gD)(b)&&(a.localization&&(f.push(e.FU),f.push({name:"publishedLocale",type:"select",admin:{disableBulkEdit:!0,disabled:!0},index:!0,options:a.localization.locales.map(a=>"string"==typeof a?a:a.code)})),f.push({name:"latest",type:"checkbox",admin:{disabled:!0},index:!0}),(0,d.s8)(b)&&f.push({name:"autosave",type:"checkbox",index:!0})),f}},35597:(a,b,c)=>{"use strict";c.d(b,{d:()=>l});var d=c(73304),e=c(23237),f=c(65540),g=c(53294),h=c(81126),i=c(70404);function j({collectionSlug:a,fields:b,globalSlug:c,incomingPath:d,locale:e,overrideAccess:g=!1,parentIsLocalized:h,payload:k}){let l=d.split("."),m=k.config.localization,o=[{collectionSlug:a,complete:!1,field:void 0,fields:b,globalSlug:c,invalid:!1,parentIsLocalized:h,path:""}];for(let a=0;a<l.length;a+=1){let b=l[a],d=o.find(({complete:a})=>!a);if(d){let p,q,{path:r}=d,s=r?`${r}.${b}`:b,t=h;if(d?.field?.type==="blocks")if("blockType"===b)q={name:"blockType",type:"text"};else for(let a of d.field.blockReferences??d.field.blocks){let c;if(q=(c="string"==typeof a?k.blocks[a]:a).flattenedFields.find(a=>a.name===b))break}else p=d?.field&&"flattenedFields"in d.field?d.field.flattenedFields:d.fields,t=h||d.field?.localized,q=p.find(a=>a.name===b);if(d.field=q,"globalType"===s&&c)return d.path=s,d.complete=!0,d.field={name:"globalType",type:"text"},o;if("relationTo"===s)return d.path=s,d.complete=!0,d.field={name:"relationTo",type:"select",options:Object.keys(k.collections)},o;if(!q&&"id"===s&&a===l.length-1)return d.path=s,d.field={name:"id",type:k.db.defaultIDType},d.complete=!0,o;if(q){"hidden"in q&&q.hidden&&!g&&(d.invalid=!0);let b=l[a+1],h=(0,f.Cd)({field:q,parentIsLocalized:t}),p=m&&m.localeCodes.includes(b)&&h;switch(p?(a+=1,s=`${s}.${b}`):m&&h&&(s=`${s}.${e}`),q.type){case"join":case"relationship":case"upload":if("join"!==q.type&&"string"!=typeof q.relationTo)d.path=l.join("."),[q.name,"relationTo","value"].includes(l.at(-1))?d.complete=!0:d.invalid=!0;else{d.complete=!0,d.path=s;let b=l.slice(p?a+2:a+1).join(".");if(b){let a;if("join"===q.type){if(Array.isArray(q.collection))throw new i.L("Not supported");a=k.collections[q.collection].config}else a=k.collections[q.relationTo].config;o=[...o,...j({collectionSlug:a.slug,fields:a.flattenedFields,globalSlug:c,incomingPath:b,locale:e,parentIsLocalized:!1,payload:k})]}return o}break;case"json":case"richText":{let b=l.slice(a+1).join(".");return l.forEach(a=>{/^\w+(?:\.\w+)*$/.test(a)||(d.invalid=!0)}),d.complete=!0,d.path=b?`${s}.${b}`:s,o}default:a+1===l.length&&(d.complete=!0),d.path=s}}else{d.invalid=!0,d.path=s;break}}}return o}async function k({collectionConfig:a,constraint:b,errors:c,fields:d,globalConfig:e,operator:i,overrideAccess:k,parentIsLocalized:m,path:o,policies:p,polymorphicJoin:q,req:r,val:s,versionFields:t}){let u;u="_id"===o?"id":o.replace(/__/g,".");let v=[],{slug:w}=a||e,x={};e&&!p.globals[w]&&(p.globals[w]=await (0,g.a)({blockReferencesPermissions:x,entity:e,entityType:"global",fetchData:!1,operations:["read"],req:r})),"id"!==u&&(v=j({collectionSlug:a?.slug,fields:d,globalSlug:e?.slug,incomingPath:u,locale:r.locale,overrideAccess:k,parentIsLocalized:m,payload:r.payload}));let y=[];if(v.at(-1)?.path==="id"){let a=v.at(-2)?.field;a&&("relationship"===a.type||"upload"===a.type)&&"string"==typeof a.relationTo&&v.pop()}y.push(...v.map(async({collectionSlug:d,field:j,invalid:m,path:u},w)=>{if(m){q||c.push({path:u});return}if("join"===j.type&&u===o&&(b[`${u}.id`]=b[u],delete b[u]),"virtual"in j&&j.virtual&&!0===j.virtual&&c.push({path:u}),!q||"relationTo"!==u){if(!k&&(0,f.Z7)(j)){let b;d&&(p.collections[d]||(p.collections[d]=await (0,g.a)({blockReferencesPermissions:x,entity:r.payload.collections[d].config,entityType:"collection",fetchData:!1,operations:["read"],req:(0,h.i)(r,"transactionID")})),["hash","salt"].includes(o)&&a.auth&&!a.auth?.disableLocalStrategy&&c.push({path:o}));let f=u;u.endsWith(`.${r.locale}`)&&(f=u.slice(0,-(r.locale.length+1))),("relationship"===j.type||"upload"===j.type)&&Array.isArray(j.relationTo)&&(f=f.replace(".value",""));let i=e?"globals":"collections",k=d||e.slug,l=f.split(".");t?(b=p[i][k].fields,("parent"===l[0]||"version"===l[0]||"snapshot"===l[0]||"latest"===l[0])&&l.shift()):b=p[i][k].fields,l.length&&(l.forEach(a=>{b[a]&&(b="fields"in b[a]?b[a].fields:b[a])}),b?.read?.permission||c.push({path:f}))}w>1&&v.slice(1).reverse().forEach(({collectionSlug:a,path:b},d)=>{0===d&&y.push(l({collectionConfig:r.payload.collections[a].config,errors:c,globalConfig:void 0,overrideAccess:k,policies:p,req:r,where:{[b]:{[i]:s}}}))})}})),await Promise.all(y)}async function l({collectionConfig:a,errors:b=[],globalConfig:c,overrideAccess:f,policies:g={collections:{},globals:{}},polymorphicJoin:h,req:i,versionFields:j,where:m}){let o=j||(c||a).flattenedFields;if("object"==typeof m){let p=[];for(let d in m){let q=m[d];if(("and"===d||"or"===d)&&Array.isArray(q))for(let d of q)a?p.push(l({collectionConfig:a,errors:b,overrideAccess:f,policies:g,polymorphicJoin:h,req:i,versionFields:j,where:d})):p.push(l({errors:b,globalConfig:c,overrideAccess:f,policies:g,polymorphicJoin:h,req:i,versionFields:j,where:d}));else if(!Array.isArray(q))for(let l in q){let r=q[l];e.L.has(l)&&p.push(k({collectionConfig:a,constraint:m,errors:b,fields:o,globalConfig:c,operator:l,overrideAccess:f,path:d,policies:g,polymorphicJoin:h,req:i,val:r,versionFields:j}))}}if(await Promise.all(p),b.length>0)throw new d.l(b)}}},36124:(a,b,c)=>{"use strict";let d,e=c(74075),f=c(53795),g=c(26982),{kStatusCode:h}=c(82455),i=Buffer[Symbol.species],j=Buffer.from([0,0,255,255]),k=Symbol("permessage-deflate"),l=Symbol("total-length"),m=Symbol("callback"),o=Symbol("buffers"),p=Symbol("error");class q{constructor(a,b,c){this._maxPayload=0|c,this._options=a||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!b,this._deflate=null,this._inflate=null,this.params=null,d||(d=new g(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let a={};return this._options.serverNoContextTakeover&&(a.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(a.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(a.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?a.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(a.client_max_window_bits=!0),a}accept(a){return a=this.normalizeParams(a),this.params=this._isServer?this.acceptAsServer(a):this.acceptAsClient(a),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let a=this._deflate[m];this._deflate.close(),this._deflate=null,a&&a(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(a){let b=this._options,c=a.find(a=>(!1!==b.serverNoContextTakeover||!a.server_no_context_takeover)&&(!a.server_max_window_bits||!1!==b.serverMaxWindowBits&&("number"!=typeof b.serverMaxWindowBits||!(b.serverMaxWindowBits>a.server_max_window_bits)))&&("number"!=typeof b.clientMaxWindowBits||!!a.client_max_window_bits));if(!c)throw Error("None of the extension offers can be accepted");return b.serverNoContextTakeover&&(c.server_no_context_takeover=!0),b.clientNoContextTakeover&&(c.client_no_context_takeover=!0),"number"==typeof b.serverMaxWindowBits&&(c.server_max_window_bits=b.serverMaxWindowBits),"number"==typeof b.clientMaxWindowBits?c.client_max_window_bits=b.clientMaxWindowBits:(!0===c.client_max_window_bits||!1===b.clientMaxWindowBits)&&delete c.client_max_window_bits,c}acceptAsClient(a){let b=a[0];if(!1===this._options.clientNoContextTakeover&&b.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(b.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&b.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(b.client_max_window_bits=this._options.clientMaxWindowBits);return b}normalizeParams(a){return a.forEach(a=>{Object.keys(a).forEach(b=>{let c=a[b];if(c.length>1)throw Error(`Parameter "${b}" must have only a single value`);if(c=c[0],"client_max_window_bits"===b){if(!0!==c){let a=+c;if(!Number.isInteger(a)||a<8||a>15)throw TypeError(`Invalid value for parameter "${b}": ${c}`);c=a}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${b}": ${c}`)}else if("server_max_window_bits"===b){let a=+c;if(!Number.isInteger(a)||a<8||a>15)throw TypeError(`Invalid value for parameter "${b}": ${c}`);c=a}else if("client_no_context_takeover"===b||"server_no_context_takeover"===b){if(!0!==c)throw TypeError(`Invalid value for parameter "${b}": ${c}`)}else throw Error(`Unknown parameter "${b}"`);a[b]=c})}),a}decompress(a,b,c){d.add(d=>{this._decompress(a,b,(a,b)=>{d(),c(a,b)})})}compress(a,b,c){d.add(d=>{this._compress(a,b,(a,b)=>{d(),c(a,b)})})}_decompress(a,b,c){let d=this._isServer?"client":"server";if(!this._inflate){let a=`${d}_max_window_bits`,b="number"!=typeof this.params[a]?e.Z_DEFAULT_WINDOWBITS:this.params[a];this._inflate=e.createInflateRaw({...this._options.zlibInflateOptions,windowBits:b}),this._inflate[k]=this,this._inflate[l]=0,this._inflate[o]=[],this._inflate.on("error",t),this._inflate.on("data",s)}this._inflate[m]=c,this._inflate.write(a),b&&this._inflate.write(j),this._inflate.flush(()=>{let a=this._inflate[p];if(a){this._inflate.close(),this._inflate=null,c(a);return}let e=f.concat(this._inflate[o],this._inflate[l]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[l]=0,this._inflate[o]=[],b&&this.params[`${d}_no_context_takeover`]&&this._inflate.reset()),c(null,e)})}_compress(a,b,c){let d=this._isServer?"server":"client";if(!this._deflate){let a=`${d}_max_window_bits`,b="number"!=typeof this.params[a]?e.Z_DEFAULT_WINDOWBITS:this.params[a];this._deflate=e.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:b}),this._deflate[l]=0,this._deflate[o]=[],this._deflate.on("data",r)}this._deflate[m]=c,this._deflate.write(a),this._deflate.flush(e.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let a=f.concat(this._deflate[o],this._deflate[l]);b&&(a=new i(a.buffer,a.byteOffset,a.length-4)),this._deflate[m]=null,this._deflate[l]=0,this._deflate[o]=[],b&&this.params[`${d}_no_context_takeover`]&&this._deflate.reset(),c(null,a)})}}function r(a){this[o].push(a),this[l]+=a.length}function s(a){if(this[l]+=a.length,this[k]._maxPayload<1||this[l]<=this[k]._maxPayload)return void this[o].push(a);this[p]=RangeError("Max payload size exceeded"),this[p].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[p][h]=1009,this.removeListener("data",s),this.reset()}function t(a){this[k]._inflate=null,a[h]=1007,this[m](a)}a.exports=q},36136:(a,b,c)=>{"use strict";function d(a,b,c,e,f,g,h,i){return d.fromTZ(d.tp(a,b,c,e,f,g,h),i)}function e(a,b=new Date){let c=b.toLocaleString("en-US",{timeZone:a,timeZoneName:"shortOffset"}).split(" ").slice(-1)[0],d=b.toLocaleString("en-US").replace(/[\u202f]/," ");return Date.parse(`${d} GMT`)-Date.parse(`${d} ${c}`)}function f(a,b){let c=new Date(Date.parse(a));if(isNaN(c))throw Error("minitz: Invalid ISO8601 passed to parser.");let e=a.substring(9);return a.includes("Z")||e.includes("-")||e.includes("+")?d.tp(c.getUTCFullYear(),c.getUTCMonth()+1,c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),"Etc/UTC"):d.tp(c.getFullYear(),c.getMonth()+1,c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds(),b)}c.d(b,{l4:()=>u}),d.fromTZISO=(a,b,c)=>d.fromTZ(f(a,b),c),d.fromTZ=function(a,b){let c=new Date(Date.UTC(a.y,a.m-1,a.d,a.h,a.i,a.s)),d=e(a.tz,c),f=new Date(c.getTime()-d),g=e(a.tz,f);if(g-d==0)return f;{let d=new Date(c.getTime()-g),h=e(a.tz,d);if(h-g==0||!b&&h-g>0)return d;if(b)throw Error("Invalid date passed to fromTZ()");return f}},d.toTZ=function(a,b){let c=new Date(a.toLocaleString("en-US",{timeZone:b}).replace(/[\u202f]/," "));return{y:c.getFullYear(),m:c.getMonth()+1,d:c.getDate(),h:c.getHours(),i:c.getMinutes(),s:c.getSeconds(),tz:b}},d.tp=(a,b,c,d,e,f,g)=>({y:a,m:b,d:c,h:d,i:e,s:f,tz:g}),d.minitz=d;var g=32,h=63,i=[1,2,4,8,16],j=class{pattern;timezone;second;minute;hour;day;month;dayOfWeek;lastDayOfMonth;starDOM;starDOW;constructor(a,b){this.pattern=a,this.timezone=b,this.second=Array(60).fill(0),this.minute=Array(60).fill(0),this.hour=Array(24).fill(0),this.day=Array(31).fill(0),this.month=Array(12).fill(0),this.dayOfWeek=Array(7).fill(0),this.lastDayOfMonth=!1,this.starDOM=!1,this.starDOW=!1,this.parse()}parse(){if(!("string"==typeof this.pattern||this.pattern instanceof String))throw TypeError("CronPattern: Pattern has to be of type string.");this.pattern.indexOf("@")>=0&&(this.pattern=this.handleNicknames(this.pattern).trim());let a=this.pattern.replace(/\s+/g," ").split(" ");if(a.length<5||a.length>6)throw TypeError("CronPattern: invalid configuration format ('"+this.pattern+"'), exactly five or six space separated parts are required.");if(5===a.length&&a.unshift("0"),a[3].indexOf("L")>=0&&(a[3]=a[3].replace("L",""),this.lastDayOfMonth=!0),"*"==a[3]&&(this.starDOM=!0),a[4].length>=3&&(a[4]=this.replaceAlphaMonths(a[4])),a[5].length>=3&&(a[5]=this.replaceAlphaDays(a[5])),"*"==a[5]&&(this.starDOW=!0),this.pattern.indexOf("?")>=0){let b=new m(new Date,this.timezone).getDate(!0);a[0]=a[0].replace("?",b.getSeconds().toString()),a[1]=a[1].replace("?",b.getMinutes().toString()),a[2]=a[2].replace("?",b.getHours().toString()),this.starDOM||(a[3]=a[3].replace("?",b.getDate().toString())),a[4]=a[4].replace("?",(b.getMonth()+1).toString()),this.starDOW||(a[5]=a[5].replace("?",b.getDay().toString()))}this.throwAtIllegalCharacters(a),this.partToArray("second",a[0],0,1),this.partToArray("minute",a[1],0,1),this.partToArray("hour",a[2],0,1),this.partToArray("day",a[3],-1,1),this.partToArray("month",a[4],-1,1),this.partToArray("dayOfWeek",a[5],0,h),this.dayOfWeek[7]&&(this.dayOfWeek[0]=this.dayOfWeek[7])}partToArray(a,b,c,d){let e=this[a],f="day"===a&&this.lastDayOfMonth;if(""===b&&!f)throw TypeError("CronPattern: configuration entry "+a+" ("+b+") is empty, check for trailing spaces.");if("*"===b)return e.fill(d);let g=b.split(",");if(g.length>1)for(let b=0;b<g.length;b++)this.partToArray(a,g[b],c,d);else -1!==b.indexOf("-")&&-1!==b.indexOf("/")?this.handleRangeWithStepping(b,a,c,d):-1!==b.indexOf("-")?this.handleRange(b,a,c,d):-1!==b.indexOf("/")?this.handleStepping(b,a,c,d):""!==b&&this.handleNumber(b,a,c,d)}throwAtIllegalCharacters(a){for(let b=0;b<a.length;b++)if((5===b?/[^/*0-9,\-#L]+/:/[^/*0-9,-]+/).test(a[b]))throw TypeError("CronPattern: configuration entry "+b+" ("+a[b]+") contains illegal characters.")}handleNumber(a,b,c,d){let e=this.extractNth(a,b),f=parseInt(e[0],10)+c;if(isNaN(f))throw TypeError("CronPattern: "+b+" is not a number: '"+a+"'");this.setPart(b,f,e[1]||d)}setPart(a,b,c){if(!Object.prototype.hasOwnProperty.call(this,a))throw TypeError("CronPattern: Invalid part specified: "+a);if("dayOfWeek"===a){if(7===b&&(b=0),b<0||b>6)throw RangeError("CronPattern: Invalid value for dayOfWeek: "+b);this.setNthWeekdayOfMonth(b,c);return}if("second"===a||"minute"===a){if(b<0||b>=60)throw RangeError("CronPattern: Invalid value for "+a+": "+b)}else if("hour"===a){if(b<0||b>=24)throw RangeError("CronPattern: Invalid value for "+a+": "+b)}else if("day"===a){if(b<0||b>=31)throw RangeError("CronPattern: Invalid value for "+a+": "+b)}else if("month"===a&&(b<0||b>=12))throw RangeError("CronPattern: Invalid value for "+a+": "+b);this[a][b]=c}handleRangeWithStepping(a,b,c,d){let e=this.extractNth(a,b),f=e[0].match(/^(\d+)-(\d+)\/(\d+)$/);if(null===f)throw TypeError("CronPattern: Syntax error, illegal range with stepping: '"+a+"'");let[,g,h,i]=f,j=parseInt(g,10)+c,k=parseInt(h,10)+c,l=parseInt(i,10);if(isNaN(j))throw TypeError("CronPattern: Syntax error, illegal lower range (NaN)");if(isNaN(k))throw TypeError("CronPattern: Syntax error, illegal upper range (NaN)");if(isNaN(l))throw TypeError("CronPattern: Syntax error, illegal stepping: (NaN)");if(0===l)throw TypeError("CronPattern: Syntax error, illegal stepping: 0");if(l>this[b].length)throw TypeError("CronPattern: Syntax error, steps cannot be greater than maximum value of part ("+this[b].length+")");if(j>k)throw TypeError("CronPattern: From value is larger than to value: '"+a+"'");for(let a=j;a<=k;a+=l)this.setPart(b,a,e[1]||d)}extractNth(a,b){let c=a,d;if(c.includes("#")){if("dayOfWeek"!==b)throw Error("CronPattern: nth (#) only allowed in day-of-week field");d=c.split("#")[1],c=c.split("#")[0]}return[c,d]}handleRange(a,b,c,d){let e=this.extractNth(a,b),f=e[0].split("-");if(2!==f.length)throw TypeError("CronPattern: Syntax error, illegal range: '"+a+"'");let g=parseInt(f[0],10)+c,h=parseInt(f[1],10)+c;if(isNaN(g))throw TypeError("CronPattern: Syntax error, illegal lower range (NaN)");if(isNaN(h))throw TypeError("CronPattern: Syntax error, illegal upper range (NaN)");if(g>h)throw TypeError("CronPattern: From value is larger than to value: '"+a+"'");for(let a=g;a<=h;a++)this.setPart(b,a,e[1]||d)}handleStepping(a,b,c,d){let e=this.extractNth(a,b),f=e[0].split("/");if(2!==f.length)throw TypeError("CronPattern: Syntax error, illegal stepping: '"+a+"'");""===f[0]&&(f[0]="*");let g=0;"*"!==f[0]&&(g=parseInt(f[0],10)+c);let h=parseInt(f[1],10);if(isNaN(h))throw TypeError("CronPattern: Syntax error, illegal stepping: (NaN)");if(0===h)throw TypeError("CronPattern: Syntax error, illegal stepping: 0");if(h>this[b].length)throw TypeError("CronPattern: Syntax error, max steps for part is ("+this[b].length+")");for(let a=g;a<this[b].length;a+=h)this.setPart(b,a,e[1]||d)}replaceAlphaDays(a){return a.replace(/-sun/gi,"-7").replace(/sun/gi,"0").replace(/mon/gi,"1").replace(/tue/gi,"2").replace(/wed/gi,"3").replace(/thu/gi,"4").replace(/fri/gi,"5").replace(/sat/gi,"6")}replaceAlphaMonths(a){return a.replace(/jan/gi,"1").replace(/feb/gi,"2").replace(/mar/gi,"3").replace(/apr/gi,"4").replace(/may/gi,"5").replace(/jun/gi,"6").replace(/jul/gi,"7").replace(/aug/gi,"8").replace(/sep/gi,"9").replace(/oct/gi,"10").replace(/nov/gi,"11").replace(/dec/gi,"12")}handleNicknames(a){let b=a.trim().toLowerCase();return"@yearly"===b||"@annually"===b?"0 0 1 1 *":"@monthly"===b?"0 0 1 * *":"@weekly"===b?"0 0 * * 0":"@daily"===b?"0 0 * * *":"@hourly"===b?"0 * * * *":a}setNthWeekdayOfMonth(a,b){if("number"!=typeof b&&"L"===b)this.dayOfWeek[a]=this.dayOfWeek[a]|g;else if(b===h)this.dayOfWeek[a]=h;else if(b<6&&b>0)this.dayOfWeek[a]=this.dayOfWeek[a]|i[b-1];else throw TypeError(`CronPattern: nth weekday out of range, should be 1-5 or L. Value: ${b}, Type: ${typeof b}`)}},k=[31,28,31,30,31,30,31,31,30,31,30,31],l=[["month","year",0],["day","month",-1],["hour","day",0],["minute","hour",0],["second","minute",0]],m=class a{tz;ms;second;minute;hour;day;month;year;constructor(b,c){if(this.tz=c,b&&b instanceof Date)if(isNaN(b))throw TypeError("CronDate: Invalid date passed to CronDate constructor");else this.fromDate(b);else if(void 0===b)this.fromDate(new Date);else if(b&&"string"==typeof b)this.fromString(b);else if(b instanceof a)this.fromCronDate(b);else throw TypeError("CronDate: Invalid type ("+typeof b+") passed to CronDate constructor")}isNthWeekdayOfMonth(a,b,c,d){let e=new Date(Date.UTC(a,b,c)).getUTCDay(),f=0;for(let d=1;d<=c;d++)new Date(Date.UTC(a,b,d)).getUTCDay()===e&&f++;if(d&h&&i[f-1]&d)return!0;if(d&g){let d=new Date(Date.UTC(a,b+1,0)).getUTCDate();for(let f=c+1;f<=d;f++)if(new Date(Date.UTC(a,b,f)).getUTCDay()===e)return!1;return!0}return!1}fromDate(a){if(void 0!==this.tz)if("number"==typeof this.tz)this.ms=a.getUTCMilliseconds(),this.second=a.getUTCSeconds(),this.minute=a.getUTCMinutes()+this.tz,this.hour=a.getUTCHours(),this.day=a.getUTCDate(),this.month=a.getUTCMonth(),this.year=a.getUTCFullYear(),this.apply();else{let b=d.toTZ(a,this.tz);this.ms=a.getMilliseconds(),this.second=b.s,this.minute=b.i,this.hour=b.h,this.day=b.d,this.month=b.m-1,this.year=b.y}else this.ms=a.getMilliseconds(),this.second=a.getSeconds(),this.minute=a.getMinutes(),this.hour=a.getHours(),this.day=a.getDate(),this.month=a.getMonth(),this.year=a.getFullYear()}fromCronDate(a){this.tz=a.tz,this.year=a.year,this.month=a.month,this.day=a.day,this.hour=a.hour,this.minute=a.minute,this.second=a.second,this.ms=a.ms}apply(){if(!(this.month>11)&&!(this.day>k[this.month])&&!(this.hour>59)&&!(this.minute>59)&&!(this.second>59)&&!(this.hour<0)&&!(this.minute<0)&&!(this.second<0))return!1;{let a=new Date(Date.UTC(this.year,this.month,this.day,this.hour,this.minute,this.second,this.ms));return this.ms=a.getUTCMilliseconds(),this.second=a.getUTCSeconds(),this.minute=a.getUTCMinutes(),this.hour=a.getUTCHours(),this.day=a.getUTCDate(),this.month=a.getUTCMonth(),this.year=a.getUTCFullYear(),!0}}fromString(a){if("number"!=typeof this.tz)return this.fromDate(d.fromTZISO(a,this.tz));{let b=d.fromTZISO(a);this.ms=b.getUTCMilliseconds(),this.second=b.getUTCSeconds(),this.minute=b.getUTCMinutes(),this.hour=b.getUTCHours(),this.day=b.getUTCDate(),this.month=b.getUTCMonth(),this.year=b.getUTCFullYear(),this.apply()}}findNext(a,b,c,d){let e=this[b],f;c.lastDayOfMonth&&(f=1!==this.month?k[this.month]:new Date(Date.UTC(this.year,this.month+1,0,0,0,0,0)).getUTCDate());let g=c.starDOW||"day"!=b?void 0:new Date(Date.UTC(this.year,this.month,1,0,0,0,0)).getUTCDay();for(let i=this[b]+d;i<c[b].length;i++){let j=c[b][i];if("day"===b&&c.lastDayOfMonth&&i-d==f&&(j=1),"day"===b&&!c.starDOW){let b=c.dayOfWeek[(g+(i-d-1))%7];if(b&&b&h)b=+!!this.isNthWeekdayOfMonth(this.year,this.month,i-d,b);else if(b)throw Error(`CronDate: Invalid value for dayOfWeek encountered. ${b}`);j=a.legacyMode&&!c.starDOM?j||b:j&&b}if(j)return this[b]=i-d,e!==this[b]?2:1}return 3}recurse(a,b,c){let d=this.findNext(b,l[c][0],a,l[c][2]);if(d>1){let e=c+1;for(;e<l.length;)this[l[e][0]]=-l[e][2],e++;if(3===d)return this[l[c][1]]++,this[l[c][0]]=-l[c][2],this.apply(),this.recurse(a,b,0);if(this.apply())return this.recurse(a,b,c-1)}return(c+=1)>=l.length?this:this.year>=3e3?null:this.recurse(a,b,c)}increment(a,b,c){return this.second+=void 0!==b.interval&&b.interval>1&&c?b.interval:1,this.ms=0,this.apply(),this.recurse(a,b,0)}getDate(a){return a||void 0===this.tz?new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.ms):"number"==typeof this.tz?new Date(Date.UTC(this.year,this.month,this.day,this.hour,this.minute-this.tz,this.second,this.ms)):d.fromTZ(d.tp(this.year,this.month+1,this.day,this.hour,this.minute,this.second,this.tz),!1)}getTime(){return this.getDate(!1).getTime()}};function o(a){if(void 0===a&&(a={}),delete a.name,a.legacyMode=void 0===a.legacyMode||a.legacyMode,a.paused=void 0!==a.paused&&a.paused,a.maxRuns=void 0===a.maxRuns?1/0:a.maxRuns,a.catch=void 0!==a.catch&&a.catch,a.interval=void 0===a.interval?0:parseInt(a.interval.toString(),10),a.utcOffset=void 0===a.utcOffset?void 0:parseInt(a.utcOffset.toString(),10),a.unref=void 0!==a.unref&&a.unref,a.startAt&&(a.startAt=new m(a.startAt,a.timezone)),a.stopAt&&(a.stopAt=new m(a.stopAt,a.timezone)),null!==a.interval){if(isNaN(a.interval))throw Error("CronOptions: Supplied value for interval is not a number");if(a.interval<0)throw Error("CronOptions: Supplied value for interval can not be negative")}if(void 0!==a.utcOffset){if(isNaN(a.utcOffset))throw Error("CronOptions: Invalid value passed for utcOffset, should be number representing minutes offset from UTC.");if(a.utcOffset<-870||a.utcOffset>870)throw Error("CronOptions: utcOffset out of bounds.");if(void 0!==a.utcOffset&&a.timezone)throw Error("CronOptions: Combining 'utcOffset' with 'timezone' is not allowed.")}if(!0!==a.unref&&!1!==a.unref)throw Error("CronOptions: Unref should be either true, false or undefined(false).");return a}function p(a){return"[object Function]"===Object.prototype.toString.call(a)||"function"==typeof a||a instanceof Function}function q(a){return p(a)}function r(a){"u">typeof Deno&&"u">typeof Deno.unrefTimer?Deno.unrefTimer(a):a&&"u">typeof a.unref&&a.unref()}var s=3e4,t=[],u=class{name;options;_states;fn;constructor(a,b,c){let d,e;if(p(b))e=b;else if("object"==typeof b)d=b;else if(void 0!==b)throw Error("Cron: Invalid argument passed for optionsIn. Should be one of function, or object (options).");if(p(c))e=c;else if("object"==typeof c)d=c;else if(void 0!==c)throw Error("Cron: Invalid argument passed for funcIn. Should be one of function, or object (options).");if(this.name=d?.name,this.options=o(d),this._states={kill:!1,blocking:!1,previousRun:void 0,currentRun:void 0,once:void 0,currentTimeout:void 0,maxRuns:d?d.maxRuns:void 0,paused:!!d&&d.paused,pattern:new j("* * * * *")},a&&(a instanceof Date||"string"==typeof a&&a.indexOf(":")>0)?this._states.once=new m(a,this.options.timezone||this.options.utcOffset):this._states.pattern=new j(a,this.options.timezone),this.name){if(t.find(a=>a.name===this.name))throw Error("Cron: Tried to initialize new named job '"+this.name+"', but name already taken.");t.push(this)}return void 0!==e&&q(e)&&(this.fn=e,this.schedule()),this}nextRun(a){let b=this._next(a);return b?b.getDate(!1):null}nextRuns(a,b){void 0!==this._states.maxRuns&&a>this._states.maxRuns&&(a=this._states.maxRuns);let c=[],d=b||this._states.currentRun||void 0;for(;a--&&(d=this.nextRun(d));)c.push(d);return c}getPattern(){return this._states.pattern?this._states.pattern.pattern:void 0}isRunning(){let a=this.nextRun(this._states.currentRun),b=!this._states.paused,c=void 0!==this.fn,d=!this._states.kill;return b&&c&&d&&null!==a}isStopped(){return this._states.kill}isBusy(){return this._states.blocking}currentRun(){return this._states.currentRun?this._states.currentRun.getDate():null}previousRun(){return this._states.previousRun?this._states.previousRun.getDate():null}msToNext(a){let b=this._next(a);return b?a instanceof m||a instanceof Date?b.getTime()-a.getTime():b.getTime()-new m(a).getTime():null}stop(){this._states.kill=!0,this._states.currentTimeout&&clearTimeout(this._states.currentTimeout);let a=t.indexOf(this);a>=0&&t.splice(a,1)}pause(){return this._states.paused=!0,!this._states.kill}resume(){return this._states.paused=!1,!this._states.kill}schedule(a){if(a&&this.fn)throw Error("Cron: It is not allowed to schedule two functions using the same Croner instance.");a&&(this.fn=a);let b=this.msToNext(),c=this.nextRun(this._states.currentRun);return null==b||isNaN(b)||null===c||(b>s&&(b=s),this._states.currentTimeout=setTimeout(()=>this._checkTrigger(c),b),this._states.currentTimeout&&this.options.unref&&r(this._states.currentTimeout)),this}async _trigger(a){if(this._states.blocking=!0,this._states.currentRun=new m(void 0,this.options.timezone||this.options.utcOffset),this.options.catch)try{void 0!==this.fn&&await this.fn(this,this.options.context)}catch(a){p(this.options.catch)&&this.options.catch(a,this)}else void 0!==this.fn&&await this.fn(this,this.options.context);this._states.previousRun=new m(a,this.options.timezone||this.options.utcOffset),this._states.blocking=!1}async trigger(){await this._trigger()}runsLeft(){return this._states.maxRuns}_checkTrigger(a){let b=new Date,c=!this._states.paused&&b.getTime()>=a.getTime(),d=this._states.blocking&&this.options.protect;c&&!d?(void 0!==this._states.maxRuns&&this._states.maxRuns--,this._trigger()):c&&d&&p(this.options.protect)&&setTimeout(()=>this.options.protect(this),0),this.schedule()}_next(a){let b=!!(a||this._states.currentRun),c=!1;!a&&this.options.startAt&&this.options.interval&&([a,b]=this._calculatePreviousRun(a,b),c=!a),a=new m(a,this.options.timezone||this.options.utcOffset),this.options.startAt&&a&&a.getTime()<this.options.startAt.getTime()&&(a=this.options.startAt);let d=this._states.once||new m(a,this.options.timezone||this.options.utcOffset);return c||d===this._states.once||(d=d.increment(this._states.pattern,this.options,b)),this._states.once&&this._states.once.getTime()<=a.getTime()||null===d||void 0!==this._states.maxRuns&&this._states.maxRuns<=0||this._states.kill||this.options.stopAt&&d.getTime()>=this.options.stopAt.getTime()?null:d}_calculatePreviousRun(a,b){let c=new m(void 0,this.options.timezone||this.options.utcOffset),d=a;if(this.options.startAt.getTime()<=c.getTime()){let a=(d=this.options.startAt).getTime()+1e3*this.options.interval;for(;a<=c.getTime();)a=(d=new m(d,this.options.timezone||this.options.utcOffset).increment(this._states.pattern,this.options,!0)).getTime()+1e3*this.options.interval;b=!0}return null===d&&(d=void 0),[d,b]}}},36267:(a,b,c)=>{"use strict";c.d(b,{o:()=>f});let d=(a,b)=>{let c=[];if(a&&c.push(a),b)for(let a of b)c.push(a);return c},e=(a,b)=>`${a||"anonymous"}${b&&b.length>0?` (a.k.a. ${b.join(",")})`:""}`,f=()=>{let a=[],b=[],c=!1,i=new Set,j=a=>a.sort((a,b)=>g[b.step]-g[a.step]||h[b.priority||"normal"]-h[a.priority||"normal"]),k=c=>{let e=!1,f=a=>{let b=d(a.name,a.aliases);if(b.includes(c)){for(let a of(e=!0,b))i.delete(a);return!1}return!0};return a=a.filter(f),b=b.filter(f),e},l=c=>{let e=!1,f=a=>{if(a.middleware===c){for(let b of(e=!0,d(a.name,a.aliases)))i.delete(b);return!1}return!0};return a=a.filter(f),b=b.filter(f),e},m=c=>(a.forEach(a=>{c.add(a.middleware,{...a})}),b.forEach(a=>{c.addRelativeTo(a.middleware,{...a})}),c.identifyOnResolve?.(q.identifyOnResolve()),c),o=a=>{let b=[];return a.before.forEach(a=>{0===a.before.length&&0===a.after.length?b.push(a):b.push(...o(a))}),b.push(a),a.after.reverse().forEach(a=>{0===a.before.length&&0===a.after.length?b.push(a):b.push(...o(a))}),b},p=(c=!1)=>{let f=[],g=[],h={};return a.forEach(a=>{let b={...a,before:[],after:[]};for(let a of d(b.name,b.aliases))h[a]=b;f.push(b)}),b.forEach(a=>{let b={...a,before:[],after:[]};for(let a of d(b.name,b.aliases))h[a]=b;g.push(b)}),g.forEach(a=>{if(a.toMiddleware){let b=h[a.toMiddleware];if(void 0===b){if(c)return;throw Error(`${a.toMiddleware} is not found when adding ${e(a.name,a.aliases)} middleware ${a.relation} ${a.toMiddleware}`)}"after"===a.relation&&b.after.push(a),"before"===a.relation&&b.before.push(a)}}),j(f).map(o).reduce((a,b)=>(a.push(...b),a),[])},q={add:(b,c={})=>{let{name:f,override:g,aliases:h}=c,j={step:"initialize",priority:"normal",middleware:b,...c},k=d(f,h);if(k.length>0){if(k.some(a=>i.has(a))){if(!g)throw Error(`Duplicate middleware name '${e(f,h)}'`);for(let b of k){let c=a.findIndex(a=>a.name===b||a.aliases?.some(a=>a===b));if(-1===c)continue;let d=a[c];if(d.step!==j.step||j.priority!==d.priority)throw Error(`"${e(d.name,d.aliases)}" middleware with ${d.priority} priority in ${d.step} step cannot be overridden by "${e(f,h)}" middleware with ${j.priority} priority in ${j.step} step.`);a.splice(c,1)}}for(let a of k)i.add(a)}a.push(j)},addRelativeTo:(a,c)=>{let{name:f,override:g,aliases:h}=c,j={middleware:a,...c},k=d(f,h);if(k.length>0){if(k.some(a=>i.has(a))){if(!g)throw Error(`Duplicate middleware name '${e(f,h)}'`);for(let a of k){let c=b.findIndex(b=>b.name===a||b.aliases?.some(b=>b===a));if(-1===c)continue;let d=b[c];if(d.toMiddleware!==j.toMiddleware||d.relation!==j.relation)throw Error(`"${e(d.name,d.aliases)}" middleware ${d.relation} "${d.toMiddleware}" middleware cannot be overridden by "${e(f,h)}" middleware ${j.relation} "${j.toMiddleware}" middleware.`);b.splice(c,1)}}for(let a of k)i.add(a)}b.push(j)},clone:()=>m(f()),use:a=>{a.applyToStack(q)},remove:a=>"string"==typeof a?k(a):l(a),removeByTag:c=>{let e=!1,f=a=>{let{tags:b,name:f,aliases:g}=a;if(b&&b.includes(c)){for(let a of d(f,g))i.delete(a);return e=!0,!1}return!0};return a=a.filter(f),b=b.filter(f),e},concat:a=>{let b=m(f());return b.use(a),b.identifyOnResolve(c||b.identifyOnResolve()||(a.identifyOnResolve?.()??!1)),b},applyToStack:m,identify:()=>p(!0).map(a=>{let b=a.step??a.relation+" "+a.toMiddleware;return e(a.name,a.aliases)+" - "+b}),identifyOnResolve:a=>("boolean"==typeof a&&(c=a),c),resolve:(a,b)=>{for(let c of p().map(a=>a.middleware).reverse())a=c(a,b);return c&&console.log(q.identify()),a}};return q},g={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},h={high:3,normal:2,low:1}},37064:(a,b,c)=>{"use strict";c.d(b,{p:()=>p,Y:()=>o});var d=c(24401),e=c(82545),f=c(28984);async function g(a){let{key:b,req:{payload:c},req:d,user:g}=a;if(!g)throw new f.D(d.t);let h={and:[{key:{equals:b}},{"user.value":{equals:g.id}},{"user.relationTo":{equals:g.collection}}]},i=await c.db.deleteOne({collection:o,req:d,where:h});if(i)return i;throw new e.M(d.t)}let h=async a=>{let b;try{b=await a.json?.()}catch(a){b={}}let c=a;b&&(c.data=b,c.json=()=>Promise.resolve(b));let e=await g({key:c.routeParams?.key,req:c,user:c.user});return Response.json({...e,message:c.t("general:deletedSuccessfully")},{status:d.h.OK})};async function i(a){let{key:b,req:{payload:c},req:d,user:e}=a;if(!e)return null;let f={and:[{key:{equals:b}},{"user.value":{equals:e.id}},{"user.relationTo":{equals:e.collection}}]},{docs:g}=await c.db.find({collection:o,limit:1,pagination:!1,req:d,sort:"-updatedAt",where:f});return g?.[0]||null}let j=async a=>{let b;try{b=await a.json?.()}catch(a){b={}}let c=a;b&&(c.data=b,c.json=()=>Promise.resolve(b));let e=await i({key:c.routeParams?.key,req:c,user:c.user});return Response.json({...e||{message:c.t("general:notFound"),value:null}},{status:d.h.OK})};async function k(a){let{key:b,req:{payload:c},req:d,user:e,value:g}=a;if(!e)throw new f.D(d.t);let h={and:[{key:{equals:b}},{"user.value":{equals:e.id}},{"user.relationTo":{equals:e.collection}}]},i={key:b,user:{relationTo:e.collection,value:e.id},value:g};return await c.db.upsert({collection:o,data:i,req:d,where:h})}let l=async a=>{let b;try{b=await a.json?.()}catch(a){b={}}let c=a;b&&(c.data=b,c.json=()=>Promise.resolve(b));let e=await k({key:c.routeParams?.key,req:c,user:c?.user,value:c.data?.value||c.data});return Response.json({doc:e,message:c.t("general:updatedSuccessfully")},{status:d.h.OK})},m=({req:a})=>!!a.user&&{"user.value":{equals:a?.user?.id}},o="payload-preferences",p=a=>({slug:o,access:{delete:m,read:m},admin:{hidden:!0},endpoints:[{handler:j,method:"get",path:"/:key"},{handler:h,method:"delete",path:"/:key"},{handler:l,method:"post",path:"/:key"}],fields:[{name:"user",type:"relationship",hooks:{beforeValidate:[({req:a})=>a?.user?{relationTo:a?.user.collection,value:a?.user.id}:null]},index:!0,relationTo:a.collections.filter(a=>a.auth).map(a=>a.slug),required:!0},{name:"key",type:"text",index:!0},{name:"value",type:"json",validate:a=>{if(a)try{JSON.parse(JSON.stringify(a))}catch{return"Invalid JSON"}return!0}}],lockDocuments:!1})},37133:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.regexpCode=b.getEsmExportName=b.getProperty=b.safeStringify=b.stringify=b.strConcat=b.addCodeArg=b.str=b._=b.nil=b._Code=b.Name=b.IDENTIFIER=b._CodeOrName=void 0;class c{}b._CodeOrName=c,b.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class d extends c{constructor(a){if(super(),!b.IDENTIFIER.test(a))throw Error("CodeGen: name must be a valid identifier");this.str=a}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}b.Name=d;class e extends c{constructor(a){super(),this._items="string"==typeof a?[a]:a}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let a=this._items[0];return""===a||'""'===a}get str(){var a;return null!=(a=this._str)?a:this._str=this._items.reduce((a,b)=>`${a}${b}`,"")}get names(){var a;return null!=(a=this._names)?a:this._names=this._items.reduce((a,b)=>(b instanceof d&&(a[b.str]=(a[b.str]||0)+1),a),{})}}function f(a,...b){let c=[a[0]],d=0;for(;d<b.length;)i(c,b[d]),c.push(a[++d]);return new e(c)}b._Code=e,b.nil=new e(""),b._=f;let g=new e("+");function h(a,...b){let c=[m(a[0])],d=0;for(;d<b.length;)c.push(g),i(c,b[d]),c.push(g,m(a[++d]));return j(c),new e(c)}function i(a,b){b instanceof e?a.push(...b._items):b instanceof d?a.push(b):a.push(l(b))}function j(a){let b=1;for(;b<a.length-1;){if(a[b]===g){let c=k(a[b-1],a[b+1]);if(void 0!==c){a.splice(b-1,3,c);continue}a[b++]="+"}b++}}function k(a,b){return'""'===b?a:'""'===a?b:"string"==typeof a?b instanceof d||'"'!==a[a.length-1]?void 0:"string"!=typeof b?`${a.slice(0,-1)}${b}"`:'"'===b[0]?a.slice(0,-1)+b.slice(1):void 0:"string"!=typeof b||'"'!==b[0]||a instanceof d?void 0:`"${a}${b.slice(1)}`}function l(a){return"number"==typeof a||"boolean"==typeof a||null===a?a:m(Array.isArray(a)?a.join(","):a)}function m(a){return JSON.stringify(a).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function o(a){return"string"==typeof a&&b.IDENTIFIER.test(a)?new e(`.${a}`):f`[${a}]`}function p(a){if("string"==typeof a&&b.IDENTIFIER.test(a))return new e(`${a}`);throw Error(`CodeGen: invalid export name: ${a}, use explicit $id name mapping`)}b.str=h,b.addCodeArg=i,b.strConcat=function(a,b){return b.emptyStr()?a:a.emptyStr()?b:h`${a}${b}`},b.stringify=function(a){return new e(m(a))},b.safeStringify=m,b.getProperty=o,b.getEsmExportName=p,b.regexpCode=function(a){return new e(a.toString())}},37175:(a,b,c)=>{"use strict";var d;Object.defineProperty(b,"__esModule",{value:!0}),b.reportTypeError=b.checkDataTypes=b.checkDataType=b.coerceAndCheckDataType=b.getJSONTypes=b.getSchemaTypes=b.DataType=void 0;let e=c(39859),f=c(53794),g=c(94233),h=c(47934),i=c(34414);function j(a){let b=Array.isArray(a)?a:a?[a]:[];if(b.every(e.isJSONType))return b;throw Error("type must be JSONType or JSONType[]: "+b.join(","))}!function(a){a[a.Correct=0]="Correct",a[a.Wrong=1]="Wrong"}(d||(b.DataType=d={})),b.getSchemaTypes=function(a){let b=j(a.type);if(b.includes("null")){if(!1===a.nullable)throw Error("type: null contradicts nullable: false")}else{if(!b.length&&void 0!==a.nullable)throw Error('"nullable" cannot be used without "type"');!0===a.nullable&&b.push("null")}return b},b.getJSONTypes=j,b.coerceAndCheckDataType=function(a,b){let{gen:c,data:e,opts:g}=a,h=l(b,g.coerceTypes),i=b.length>0&&!(0===h.length&&1===b.length&&(0,f.schemaHasRulesForType)(a,b[0]));if(i){let f=q(b,e,g.strictNumbers,d.Wrong);c.if(f,()=>{h.length?m(a,b,h):s(a)})}return i};let k=new Set(["string","number","integer","boolean","null"]);function l(a,b){return b?a.filter(a=>k.has(a)||"array"===b&&"array"===a):[]}function m(a,b,c){let{gen:d,data:e,opts:f}=a,g=d.let("dataType",(0,h._)`typeof ${e}`),i=d.let("coerced",(0,h._)`undefined`);for(let a of("array"===f.coerceTypes&&d.if((0,h._)`${g} == 'object' && Array.isArray(${e}) && ${e}.length == 1`,()=>d.assign(e,(0,h._)`${e}[0]`).assign(g,(0,h._)`typeof ${e}`).if(q(b,e,f.strictNumbers),()=>d.assign(i,e))),d.if((0,h._)`${i} !== undefined`),c))(k.has(a)||"array"===a&&"array"===f.coerceTypes)&&j(a);function j(a){switch(a){case"string":d.elseIf((0,h._)`${g} == "number" || ${g} == "boolean"`).assign(i,(0,h._)`"" + ${e}`).elseIf((0,h._)`${e} === null`).assign(i,(0,h._)`""`);return;case"number":d.elseIf((0,h._)`${g} == "boolean" || ${e} === null
              || (${g} == "string" && ${e} && ${e} == +${e})`).assign(i,(0,h._)`+${e}`);return;case"integer":d.elseIf((0,h._)`${g} === "boolean" || ${e} === null
              || (${g} === "string" && ${e} && ${e} == +${e} && !(${e} % 1))`).assign(i,(0,h._)`+${e}`);return;case"boolean":d.elseIf((0,h._)`${e} === "false" || ${e} === 0 || ${e} === null`).assign(i,!1).elseIf((0,h._)`${e} === "true" || ${e} === 1`).assign(i,!0);return;case"null":d.elseIf((0,h._)`${e} === "" || ${e} === 0 || ${e} === false`),d.assign(i,null);return;case"array":d.elseIf((0,h._)`${g} === "string" || ${g} === "number"
              || ${g} === "boolean" || ${e} === null`).assign(i,(0,h._)`[${e}]`)}}d.else(),s(a),d.endIf(),d.if((0,h._)`${i} !== undefined`,()=>{d.assign(e,i),o(a,i)})}function o({gen:a,parentData:b,parentDataProperty:c},d){a.if((0,h._)`${b} !== undefined`,()=>a.assign((0,h._)`${b}[${c}]`,d))}function p(a,b,c,e=d.Correct){let f,g=e===d.Correct?h.operators.EQ:h.operators.NEQ;switch(a){case"null":return(0,h._)`${b} ${g} null`;case"array":f=(0,h._)`Array.isArray(${b})`;break;case"object":f=(0,h._)`${b} && typeof ${b} == "object" && !Array.isArray(${b})`;break;case"integer":f=i((0,h._)`!(${b} % 1) && !isNaN(${b})`);break;case"number":f=i();break;default:return(0,h._)`typeof ${b} ${g} ${a}`}return e===d.Correct?f:(0,h.not)(f);function i(a=h.nil){return(0,h.and)((0,h._)`typeof ${b} == "number"`,a,c?(0,h._)`isFinite(${b})`:h.nil)}}function q(a,b,c,d){let e;if(1===a.length)return p(a[0],b,c,d);let f=(0,i.toHash)(a);if(f.array&&f.object){let a=(0,h._)`typeof ${b} != "object"`;e=f.null?a:(0,h._)`!${b} || ${a}`,delete f.null,delete f.array,delete f.object}else e=h.nil;for(let a in f.number&&delete f.integer,f)e=(0,h.and)(e,p(a,b,c,d));return e}b.checkDataType=p,b.checkDataTypes=q;let r={message:({schema:a})=>`must be ${a}`,params:({schema:a,schemaValue:b})=>"string"==typeof a?(0,h._)`{type: ${a}}`:(0,h._)`{type: ${b}}`};function s(a){let b=t(a);(0,g.reportError)(b,r)}function t(a){let{gen:b,data:c,schema:d}=a,e=(0,i.schemaRefOrVal)(a,d,"type");return{gen:b,keyword:"type",data:c,schema:d.type,schemaCode:e,schemaValue:e,parentSchema:d,params:{},it:a}}b.reportTypeError=s},37296:(a,b,c)=>{"use strict";function d(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}h.done?b(i):Promise.resolve(i).then(d,e)}function e(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function h(a){d(g,e,f,h,i,"next",a)}function i(a){d(g,e,f,h,i,"throw",a)}h(void 0)})}}let f=c(85558),g=c(42319),h=c(40821),i=h.cursor,j=h.erase,k=c(13576),l=k.style,m=k.figures,o=k.clear,p=k.lines,q=/[0-9]/,r=a=>void 0!==a,s=(a,b)=>{let c=Math.pow(10,b);return Math.round(a*c)/c};class t extends g{constructor(a={}){super(a),this.transform=l.render(a.style),this.msg=a.message,this.initial=r(a.initial)?a.initial:"",this.float=!!a.float,this.round=a.round||2,this.inc=a.increment||1,this.min=r(a.min)?a.min:-1/0,this.max=r(a.max)?a.max:1/0,this.errorMsg=a.error||"Please Enter A Valid Value",this.validator=a.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(a){a||0===a?(this.placeholder=!1,this.rendered=this.transform.render(`${s(a,this.round)}`),this._value=s(a,this.round)):(this.placeholder=!0,this.rendered=f.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(a){return this.float?parseFloat(a):parseInt(a)}valid(a){return"-"===a||"."===a&&this.float||q.test(a)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let a=this.value;this.value=""!==a?a:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var a=this;return e(function*(){let b=yield a.validator(a.value);"string"==typeof b&&(a.errorMsg=b,b=!1),a.error=!b})()}submit(){var a=this;return e(function*(){if(yield a.validate(),a.error){a.color="red",a.fire(),a.render();return}let b=a.value;a.value=""!==b?b:a.initial,a.done=!0,a.aborted=!1,a.error=!1,a.fire(),a.render(),a.out.write(`
`),a.close()})()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let a=this.value.toString();if(0===a.length)return this.bell();this.value=this.parse(a=a.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(a,b){if(!this.valid(a))return this.bell();let c=Date.now();if(c-this.lastHit>1e3&&(this.typed=""),this.typed+=a,this.lastHit=c,this.color="cyan","."===a)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(i.down(p(this.outputError,this.out.columns)-1)+o(this.outputError,this.out.columns)),this.out.write(o(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[l.symbol(this.done,this.aborted),f.bold(this.msg),l.delimiter(this.done),!this.done||!this.done&&!this.placeholder?f[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((a,b,c)=>a+`
${c?" ":m.pointerSmall} ${f.red().italic(b)}`,"")),this.out.write(j.line+i.to(0)+this.outputText+i.save+this.outputError+i.restore))}}a.exports=t},37327:(a,b,c)=>{"use strict";let d=c(27910).Transform;class e extends d{constructor(a){super(a),this.options=a||{},this.lastByte=!1}_transform(a,b,c){let d,e=0;for(let b=0,c=a.length;b<c;b++)10===a[b]&&(b&&13!==a[b-1]||!b&&13!==this.lastByte)&&(b>e&&(d=a.slice(e,b),this.push(d)),this.push(Buffer.from("\r\n")),e=b+1);e&&e<a.length?(d=a.slice(e),this.push(d)):e||this.push(a),this.lastByte=a[a.length-1],c()}}a.exports=e},37592:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(47934),e=c(58909),f=c(31104),g=c(1948),h=c(34414);b.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:b}})=>a===e.DiscrError.Tag?`tag "${b}" must be string`:`value of tag "${b}" must be in oneOf`,params:({params:{discrError:a,tag:b,tagName:c}})=>(0,d._)`{error: ${a}, tag: ${c}, tagValue: ${b}}`},code(a){let{gen:b,data:c,schema:i,parentSchema:j,it:k}=a,{oneOf:l}=j;if(!k.opts.discriminator)throw Error("discriminator: requires discriminator option");let m=i.propertyName;if("string"!=typeof m)throw Error("discriminator: requires propertyName");if(i.mapping)throw Error("discriminator: mapping is not supported");if(!l)throw Error("discriminator: requires oneOf keyword");let o=b.let("valid",!1),p=b.const("tag",(0,d._)`${c}${(0,d.getProperty)(m)}`);function q(){let c=s();for(let a in b.if(!1),c)b.elseIf((0,d._)`${p} === ${a}`),b.assign(o,r(c[a]));b.else(),a.error(!1,{discrError:e.DiscrError.Mapping,tag:p,tagName:m}),b.endIf()}function r(c){let e=b.name("valid"),f=a.subschema({keyword:"oneOf",schemaProp:c},e);return a.mergeEvaluated(f,d.Name),e}function s(){var a;let b={},c=e(j),d=!0;for(let b=0;b<l.length;b++){let j=l[b];if((null==j?void 0:j.$ref)&&!(0,h.schemaHasRulesButRef)(j,k.self.RULES)){let a=j.$ref;if((j=f.resolveRef.call(k.self,k.schemaEnv.root,k.baseId,a))instanceof f.SchemaEnv&&(j=j.schema),void 0===j)throw new g.default(k.opts.uriResolver,k.baseId,a)}let o=null==(a=null==j?void 0:j.properties)?void 0:a[m];if("object"!=typeof o)throw Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${m}"`);d=d&&(c||e(j)),i(o,b)}if(!d)throw Error(`discriminator: "${m}" must be required`);return b;function e({required:a}){return Array.isArray(a)&&a.includes(m)}function i(a,b){if(a.const)o(a.const,b);else if(a.enum)for(let c of a.enum)o(c,b);else throw Error(`discriminator: "properties/${m}" must have "const" or "enum"`)}function o(a,c){if("string"!=typeof a||a in b)throw Error(`discriminator: "${m}" values must be unique strings`);b[a]=c}}b.if((0,d._)`typeof ${p} == "string"`,()=>q(),()=>a.error(!1,{discrError:e.DiscrError.Tag,tag:p,tagName:m})),a.ok(o)}}},37712:(a,b,c)=>{"use strict";c.d(b,{U:()=>j});var d=c(46601),e=c(23042),f=c(71462),g=c(79983);let h=async({id:a,collection:b,global:c,max:d,payload:e,req:f})=>{let g=b?"collection":"global",h=b?b.slug:c?.slug;try{let g,i={};if(b){i.parent={equals:a};let c=await e.db.findVersions({collection:b.slug,limit:1,pagination:!1,req:f,skip:d,sort:"-updatedAt",where:i});[g]=c.docs}else if(c){let a=await e.db.findGlobalVersions({global:c.slug,limit:1,pagination:!1,req:f,skip:d,sort:"-updatedAt",where:i});[g]=a.docs}if(g?.updatedAt){let d={updatedAt:{less_than_equal:g.updatedAt}};b&&(d.parent={equals:a});let i={req:f,where:d};c?i.globalSlug=h:i.collection=h,await e.db.deleteVersions(i)}}catch(a){e.logger.error(a),e.logger.error(`There was an error cleaning up old versions for the ${g} ${h}`)}},i=async({id:a,autosave:b,collection:c,data:e,global:f,payload:h,publishSpecificLocale:i,req:j,select:k})=>{let l=(0,d.Zt)(e||{});l._status="draft",l._id&&delete l._id;let m=new Date().toISOString(),o={autosave:!!b,createdAt:m,publishedLocale:i||void 0,req:j,returning:!1,select:(0,g.V)({select:k}),updatedAt:m,versionData:l};return c&&a?h.db.createVersion({...o,collectionSlug:c.slug,parent:a,snapshot:!0}):f?h.db.createGlobalVersion({...o,globalSlug:f.slug,snapshot:!0}):void 0},j=async({id:a,autosave:b,collection:c,docWithLocales:j,draft:k,global:l,operation:m,payload:o,publishSpecificLocale:p,req:q,select:r,snapshot:s})=>{let t,u=!0,v=new Date().toISOString(),w=(0,d.Zt)(j);k&&(w._status="draft"),c?.timestamps&&k&&(w.updatedAt=v),w._id&&delete w._id;try{if(b){let b,d={limit:1,pagination:!1,req:q,sort:"-updatedAt"};c?{docs:b}=await o.db.findVersions({...d,collection:c.slug,limit:1,pagination:!1,req:q,where:{parent:{equals:a}}}):{docs:b}=await o.db.findGlobalVersions({...d,global:l.slug,limit:1,pagination:!1,req:q});let[e]=b;if(e&&"autosave"in e&&!0===e.autosave){u=!1;let b={id:e.id,req:q,versionData:{createdAt:new Date(e.createdAt).toISOString(),latest:!0,parent:a,updatedAt:v,version:{...w}}};t=c?await o.db.updateVersion({...b,collection:c.slug,req:q}):await o.db.updateGlobalVersion({...b,global:l.slug,req:q})}}if(u){let d={autosave:!!b,collectionSlug:void 0,createdAt:"restoreVersion"===m?w.createdAt:v,globalSlug:void 0,parent:c?a:void 0,publishedLocale:p||void 0,req:q,select:(0,g.V)({select:r}),updatedAt:v,versionData:w};c&&(d.collectionSlug=c.slug,t=await o.db.createVersion(d)),l&&(d.globalSlug=l.slug,t=await o.db.createGlobalVersion(d)),s&&await i({id:a,autosave:b,collection:c,data:s,global:l,payload:o,publishSpecificLocale:p,req:q,select:r})}}catch(d){let b;c&&(b=`There was an error while saving a version for the ${"string"==typeof c.labels.singular?c.labels.singular:c.slug} with ID ${a}.`),l&&(b=`There was an error while saving a version for the global ${"string"==typeof l.label?l.label:l.slug}.`),o.logger.error({err:d,msg:b});return}let x=(0,e.sT)(c||l);u&&x>0&&await h({id:a,collection:c,global:l,max:x,payload:o,req:q});let y=t.version;return(y=(0,f.E)(y)).id=t.parent,y}},37745:(a,b,c)=>{"use strict";c.d(b,{D:()=>d});let d=(a={})=>Object.entries(a).reduce((a,[b,c])=>["AND","and","OR","or"].includes(b)&&Array.isArray(c)?{...a,[b.toLowerCase()]:c.map(a=>d(a))}:"id"!==b?{...a,[`version.${b}`]:c}:{...a,parent:c},{})},37947:(a,b,c)=>{"use strict";c.d(b,{M:()=>e,T:()=>d});class d extends Error{$fault;$response;$retryable;$metadata;constructor(a){super(a.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=a.name,this.$fault=a.$fault,this.$metadata=a.$metadata}static isInstance(a){if(!a)return!1;let b=a;return d.prototype.isPrototypeOf(b)||!!b.$fault&&!!b.$metadata&&("client"===b.$fault||"server"===b.$fault)}static[Symbol.hasInstance](a){if(!a)return!1;let b=a;return this===d?d.isInstance(a):!!d.isInstance(a)&&(b.name&&this.name?this.prototype.isPrototypeOf(a)||b.name===this.name:this.prototype.isPrototypeOf(a))}}let e=(a,b={})=>{Object.entries(b).filter(([,a])=>void 0!==a).forEach(([b,c])=>{(void 0==a[b]||""===a[b])&&(a[b]=c)});let c=a.message||a.Message||"UnknownError";return a.message=c,delete a.Message,a}},38053:(a,b,c)=>{"use strict";c.d(b,{R:()=>f});var d=c(53294),e=c(84708);async function f({req:a}){let b={collections:{},globals:{}},{payload:c,user:f}=a,g=!!f,h=f&&f.collection?c?.collections?.[f.collection]?.config:null;h&&c.config.admin.user===f?.collection?b.canAccessAdmin=h.access.admin?await h.access.admin({req:a}):g:b.canAccessAdmin=!1;let i={};return await Promise.all(c.config.collections.map(async c=>{let e=["create","read","update","delete"];c.auth&&void 0!==c.auth.maxLoginAttempts&&0!==c.auth.maxLoginAttempts&&e.push("unlock"),c.versions&&e.push("readVersions");let f=await (0,d.a)({blockReferencesPermissions:i,entity:c,entityType:"collection",fetchData:!1,operations:e,req:a});b.collections[c.slug]=f})),await Promise.all(c.config.globals.map(async c=>{let e=["read","update"];c.versions&&e.push("readVersions");let f=await (0,d.a)({blockReferencesPermissions:i,entity:c,entityType:"global",fetchData:!1,operations:e,req:a});b.globals[c.slug]=f})),(0,e.yD)(b)}},38187:(a,b,c)=>{"use strict";var d=c(50201),e=Buffer.byteLength.bind(Buffer);a.exports=d.bind(null,e)},38203:(a,b,c)=>{"use strict";c.d(b,{s:()=>d});let d=(a,b)=>{if("object"==typeof a&&!Object.prototype.hasOwnProperty.call(a,"$$typeof")){if(a[b.language])return a[b.language];let c=[];"string"==typeof b.fallbackLanguage?c=[b.fallbackLanguage]:Array.isArray(b.fallbackLanguage)&&(c=b.fallbackLanguage);let d=c.find(b=>a[b]);return d&&a[d]?a[d]:a[Object.keys(a)[0]]}return"function"==typeof a?a({i18n:b,t:b.t}):a}},38281:(a,b,c)=>{"use strict";let{kMockCallHistoryAddLog:d}=c(59343),{InvalidArgumentError:e}=c(64737);function f(a,b,c,d){switch(b.operator){case"OR":return d.push(...c(a)),d;case"AND":return c.call({logs:d},a);default:throw new e("options.operator must to be a case insensitive string equal to 'OR' or 'AND'")}}function g(a={}){let b={};if("operator"in a){if("string"!=typeof a.operator||"OR"!==a.operator.toUpperCase()&&"AND"!==a.operator.toUpperCase())throw new e("options.operator must to be a case insensitive string equal to 'OR' or 'AND'");return{...b,operator:a.operator.toUpperCase()}}return b}function h(a){return b=>{if("string"==typeof b||null==b)return this.logs.filter(c=>c[a]===b);if(b instanceof RegExp)return this.logs.filter(c=>b.test(c[a]));throw new e(`${a} parameter should be one of string, regexp, undefined or null`)}}function i(a){try{let b=new URL(a.path,a.origin);if(0!==b.search.length)return b;return b.search=new URLSearchParams(a.query).toString(),b}catch(a){throw new e("An error occurred when computing MockCallHistoryLog.url",{cause:a})}}class j{constructor(a={}){this.body=a.body,this.headers=a.headers,this.method=a.method;let b=i(a);this.fullUrl=b.toString(),this.origin=b.origin,this.path=b.pathname,this.searchParams=Object.fromEntries(b.searchParams),this.protocol=b.protocol,this.host=b.host,this.port=b.port,this.hash=b.hash}toMap(){return new Map([["protocol",this.protocol],["host",this.host],["port",this.port],["origin",this.origin],["path",this.path],["hash",this.hash],["searchParams",this.searchParams],["fullUrl",this.fullUrl],["method",this.method],["body",this.body],["headers",this.headers]])}toString(){let a="->",b="|",c="";return this.toMap().forEach((d,e)=>{("string"==typeof d||null==d)&&(c=`${c}${e}${a}${d}${b}`),("object"==typeof d&&null!==d||Array.isArray(d))&&(c=`${c}${e}${a}${JSON.stringify(d)}${b}`)}),c.slice(0,-1)}}class k{logs=[];calls(){return this.logs}firstCall(){return this.logs.at(0)}lastCall(){return this.logs.at(-1)}nthCall(a){if("number"!=typeof a)throw new e("nthCall must be called with a number");if(!Number.isInteger(a))throw new e("nthCall must be called with an integer");if(1!==Math.sign(a))throw new e("nthCall must be called with a positive value. use firstCall or lastCall instead");return this.logs.at(a-1)}filterCalls(a,b){if(0===this.logs.length)return this.logs;if("function"==typeof a)return this.logs.filter(a);if(a instanceof RegExp)return this.logs.filter(b=>a.test(b.toString()));if("object"==typeof a&&null!==a){if(0===Object.keys(a).length)return this.logs;let c={operator:"OR",...g(b)},d=[];return"protocol"in a&&(d=f(a.protocol,c,this.filterCallsByProtocol,d)),"host"in a&&(d=f(a.host,c,this.filterCallsByHost,d)),"port"in a&&(d=f(a.port,c,this.filterCallsByPort,d)),"origin"in a&&(d=f(a.origin,c,this.filterCallsByOrigin,d)),"path"in a&&(d=f(a.path,c,this.filterCallsByPath,d)),"hash"in a&&(d=f(a.hash,c,this.filterCallsByHash,d)),"fullUrl"in a&&(d=f(a.fullUrl,c,this.filterCallsByFullUrl,d)),"method"in a&&(d=f(a.method,c,this.filterCallsByMethod,d)),[...new Set(d)]}throw new e("criteria parameter should be one of function, regexp, or object")}filterCallsByProtocol=h.call(this,"protocol");filterCallsByHost=h.call(this,"host");filterCallsByPort=h.call(this,"port");filterCallsByOrigin=h.call(this,"origin");filterCallsByPath=h.call(this,"path");filterCallsByHash=h.call(this,"hash");filterCallsByFullUrl=h.call(this,"fullUrl");filterCallsByMethod=h.call(this,"method");clear(){this.logs=[]}[d](a){let b=new j(a);return this.logs.push(b),b}*[Symbol.iterator](){for(let a of this.calls())yield a}}a.exports.MockCallHistory=k,a.exports.MockCallHistoryLog=j},38353:(a,b,c)=>{"use strict";c.d(b,{a:()=>e});var d=c(41582);let e=a=>{let b=(0,d.s)(a,"utf8");return new Uint8Array(b.buffer,b.byteOffset,b.byteLength/Uint8Array.BYTES_PER_ELEMENT)}},38756:(a,b,c)=>{"use strict";c.d(b,{P:()=>e});var d=c(41582);let e=a=>{if("string"==typeof a)return a;if("object"!=typeof a||"number"!=typeof a.byteOffset||"number"!=typeof a.byteLength)throw Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,d.Q)(a.buffer,a.byteOffset,a.byteLength).toString("utf8")}},38807:(a,b,c)=>{"use strict";c.d(b,{MT:()=>k,Sf:()=>l,SJ:()=>j});var d=c(98198),e=c(2861);let f={handler:async a=>{let b=a.payload.config.jobs;if(!g(b))return Response.json({message:"No jobs to run."},{status:200});let c=b.access?.run??(()=>!0);if(!await c({req:a}))return Response.json({message:a.i18n.t("error:unauthorized")},{status:401});let{allQueues:d,disableScheduling:f,limit:h,queue:i,silent:j}=a.query,k="true"===j,l=d&&("string"!=typeof d||"false"!==d);"true"!==f&&b.scheduling&&await a.payload.jobs.handleSchedules({allQueues:l,queue:i,req:a});let m={queue:i,req:a,allQueues:l,overrideAccess:!0,silent:k};"string"==typeof i&&(m.queue=i);let o=Number(h);isNaN(o)||(m.limit=o);let p=!1,q=0;try{let a=await (0,e.A)(m);p=!!a.noJobsRemaining,q=a.remainingJobsFromQueried}catch(b){return a.payload.logger.error({err:b,msg:"There was an error running jobs:",queue:m.queue}),Response.json({message:a.i18n.t("error:unknown"),noJobsRemaining:!0,remainingJobsFromQueried:q},{status:500})}return Response.json({message:a.i18n.t("general:success"),noJobsRemaining:p,remainingJobsFromQueried:q},{status:200})},method:"get",path:"/run"},g=a=>!!(a.tasks?.length||a.workflows?.length),h={handler:async a=>{let b=a.payload.config.jobs;if(!g(b))return Response.json({message:"No jobs to schedule."},{status:200});let c=b.access?.run??(()=>!0);if(!await c({req:a}))return Response.json({message:a.i18n.t("error:unauthorized")},{status:401});if(!b.scheduling)return Response.json({message:"Cannot handle schedules because no tasks or workflows with schedules are defined."},{status:500});let{allQueues:e,queue:f}=a.query,h=e&&("string"!=typeof e||"false"!==e),{errored:i,queued:j,skipped:k}=await (0,d.L6)({allQueues:h,queue:f,req:a});return Response.json({errored:i,message:a.i18n.t("general:success"),queued:j,skipped:k},{status:200})},method:"get",path:"/handle-schedules"},i=({jobLog:a})=>{let b={};if(!a||!Array.isArray(a))return b;for(let c of a)if(b[c.taskSlug]||(b[c.taskSlug]={}),b[c.taskSlug]?.[c.taskID]){let a=b[c.taskSlug][c.taskID];a.totalTried+=1,"succeeded"===c.state&&(a.complete=!0,a.output=c.output,a.input=c.input,a.taskSlug=c.taskSlug),b[c.taskSlug][c.taskID]=a}else b[c.taskSlug][c.taskID]={complete:"succeeded"===c.state,input:c.input,output:c.output,taskSlug:c.taskSlug,totalTried:1};return b},j="payload-jobs",k=a=>{let b=new Set,c=new Set(["inline"]);a.workflows?.length&&a.workflows.forEach(a=>{b.add(a.slug)}),a.tasks?.length&&a.tasks.forEach(a=>{if(b.has(a.slug))throw Error(`Task slug "${a.slug}" is already used by a workflow. No tasks are allowed to have the same slug as a workflow.`);c.add(a.slug)});let d=[{name:"executedAt",type:"date",required:!0},{name:"completedAt",type:"date",required:!0},{name:"taskSlug",type:"select",options:[...c],required:!0},{name:"taskID",type:"text",required:!0},{name:"input",type:"json"},{name:"output",type:"json"},{name:"state",type:"radio",options:["failed","succeeded"],required:!0},{name:"error",type:"json",admin:{condition:(a,b)=>"failed"===b.state},required:!0}];a.addParentToTaskLog&&d.push({name:"parent",type:"group",fields:[{name:"taskSlug",type:"select",options:[...c]},{name:"taskID",type:"text"}]});let e={slug:j,admin:{group:"System",hidden:!0},endpoints:[f,h],fields:[{name:"input",type:"json",admin:{description:"Input data provided to the job"}},{name:"taskStatus",type:"json",virtual:!0},{type:"tabs",tabs:[{fields:[{name:"completedAt",type:"date",index:!0},{name:"totalTried",type:"number",defaultValue:0,index:!0},{name:"hasError",type:"checkbox",admin:{description:"If hasError is true this job will not be retried"},defaultValue:!1,index:!0},{name:"error",type:"json",admin:{condition:a=>a.hasError,description:"If hasError is true, this is the error that caused it"}},{name:"log",type:"array",admin:{description:"Task execution log"},fields:d}],label:"Status"}]},...b.size>0?[{name:"workflowSlug",type:"select",admin:{position:"sidebar"},index:!0,options:[...b]}]:[],{name:"taskSlug",type:"select",admin:{position:"sidebar"},index:!0,options:[...c],required:!1},{name:"queue",type:"text",admin:{position:"sidebar"},defaultValue:"default",index:!0},{name:"waitUntil",type:"date",admin:{date:{pickerAppearance:"dayAndTime"}},index:!0},{name:"processing",type:"checkbox",admin:{position:"sidebar"},defaultValue:!1,index:!0}],hooks:{afterRead:[({doc:a,req:b})=>l({config:b.payload.config,doc:a})],beforeChange:[({data:a,originalDoc:b})=>(b?.error?.cancelled&&(a.processing=!1,a.hasError=!0,delete a.completedAt,delete a.waitUntil),a)]},lockDocuments:!1};return a.stats&&e.fields.push({name:"meta",type:"json"}),e};function l({config:a,doc:b}){return b.taskStatus=i({jobLog:b.log||[]}),b.input=b.input||{},b.taskStatus=b.taskStatus||{},b}},38933:(a,b,c)=>{"use strict";c.d(b,{$:()=>f});var d=c(78164);let e={ar:{label:"",label2:" "},az:{label:"Paraqraf",label2:"Normal Mtn"},bg:{label:"",label2:" "},cs:{label:"Odstavec",label2:"Norm\xe1ln\xed text"},da:{label:"Afsnit",label2:"Normal tekst"},de:{label:"Paragraph",label2:"Normaler Text"},en:{label:"Paragraph",label2:"Normal Text"},es:{label:"P\xe1rrafo",label2:"Texto normal"},et:{label:"Paragrahv",label2:"Tavaline tekst"},fa:{label:"",label2:" "},fr:{label:"Paragraphe",label2:"Texte normal"},he:{label:"",label2:" "},hr:{label:"Odlomak",label2:"Normalan tekst"},hu:{label:"Bekezd\xe9s",label2:"Norm\xe1l sz\xf6veg"},is:{label:"M\xe1lsgrein",label2:"Venjulegur texti"},it:{label:"Paragrafo",label2:"Testo normale"},ja:{label:"",label2:""},ko:{label:"",label2:" "},my:{label:"Perenggan",label2:""},nb:{label:"Avsnitt",label2:"Normal tekst"},nl:{label:"Paragraaf",label2:"Normale tekst"},pl:{label:"Akapit",label2:"Normalny tekst"},pt:{label:"Par\xe1grafo",label2:"Texto Normal"},ro:{label:"Paragraf",label2:"Text normal"},rs:{label:"",label2:"O "},"rs-latin":{label:"Paragraf",label2:"Obian tekst"},ru:{label:"",label2:" "},sk:{label:"Odsek",label2:"Norm\xe1lny text"},sl:{label:"Odstavek",label2:"Navaden besedilo"},sv:{label:"Stycke",label2:"Normal Text"},ta:{label:"",label2:" "},th:{label:"",label2:""},tr:{label:"Paragraf",label2:"Normal Metin"},uk:{label:"",label2:" "},vi:{label:"on vn",label2:"Vn bn b\xecnh thng"},zh:{label:"",label2:""},"zh-TW":{label:"",label2:""}},f=(0,d.m)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#ParagraphFeatureClient",clientFeatureProps:null,i18n:e},key:"paragraph"})},39072:(a,b,c)=>{"use strict";let d=c(55511),e=c(29021),f=c(9334),g=c(27910).PassThrough,h=c(32488),i=c(1483),j=c(23976),k=c(12814),l=c(67648),m=c(18223),o=c(39891),p=c(70045),q=c(27528);class r{constructor(a,b){this.nodeCounter=0,b=b||{},this.baseBoundary=b.baseBoundary||d.randomBytes(8).toString("hex"),this.boundaryPrefix=b.boundaryPrefix||"--_NmP",this.disableFileAccess=!!b.disableFileAccess,this.disableUrlAccess=!!b.disableUrlAccess,this.normalizeHeaderKey=b.normalizeHeaderKey,this.date=new Date,this.rootNode=b.rootNode||this,this.keepBcc=!!b.keepBcc,b.filename&&(this.filename=b.filename,a||(a=i.detectMimeType(this.filename.split(".").pop()))),this.textEncoding=(b.textEncoding||"").toString().trim().charAt(0).toUpperCase(),this.parentNode=b.parentNode,this.hostname=b.hostname,this.newline=b.newline,this.childNodes=[],this._nodeId=++this.rootNode.nodeCounter,this._headers=[],this._isPlainText=!1,this._hasLongLines=!1,this._envelope=!1,this._raw=!1,this._transforms=[],this._processFuncs=[],a&&this.setHeader("Content-Type",a)}createChild(a,b){b||"object"!=typeof a||(b=a,a=void 0);let c=new r(a,b);return this.appendChild(c),c}appendChild(a){return a.rootNode!==this.rootNode&&(a.rootNode=this.rootNode,a._nodeId=++this.rootNode.nodeCounter),a.parentNode=this,this.childNodes.push(a),a}replace(a){return a===this?this:(this.parentNode.childNodes.forEach((b,c)=>{b===this&&(a.rootNode=this.rootNode,a.parentNode=this.parentNode,a._nodeId=this._nodeId,this.rootNode=this,this.parentNode=void 0,a.parentNode.childNodes[c]=a)}),a)}remove(){if(!this.parentNode)return this;for(let a=this.parentNode.childNodes.length-1;a>=0;a--)if(this.parentNode.childNodes[a]===this)return this.parentNode.childNodes.splice(a,1),this.parentNode=void 0,this.rootNode=this,this}setHeader(a,b){let c=!1,d;if(!b&&a&&"object"==typeof a)return a.key&&"value"in a?this.setHeader(a.key,a.value):Array.isArray(a)?a.forEach(a=>{this.setHeader(a.key,a.value)}):Object.keys(a).forEach(b=>{this.setHeader(b,a[b])}),this;d={key:a=this._normalizeHeaderKey(a),value:b};for(let b=0,e=this._headers.length;b<e;b++)this._headers[b].key===a&&(c?(this._headers.splice(b,1),b--,e--):(this._headers[b]=d,c=!0));return c||this._headers.push(d),this}addHeader(a,b){return!b&&a&&"object"==typeof a?a.key&&a.value?this.addHeader(a.key,a.value):Array.isArray(a)?a.forEach(a=>{this.addHeader(a.key,a.value)}):Object.keys(a).forEach(b=>{this.addHeader(b,a[b])}):Array.isArray(b)?b.forEach(b=>{this.addHeader(a,b)}):this._headers.push({key:this._normalizeHeaderKey(a),value:b}),this}getHeader(a){a=this._normalizeHeaderKey(a);for(let b=0,c=this._headers.length;b<c;b++)if(this._headers[b].key===a)return this._headers[b].value}setContent(a){return this.content=a,"function"==typeof this.content.pipe?(this._contentErrorHandler=a=>{this.content.removeListener("error",this._contentErrorHandler),this.content=a},this.content.once("error",this._contentErrorHandler)):"string"==typeof this.content&&(this._isPlainText=i.isPlainText(this.content),this._isPlainText&&i.hasLongerLines(this.content,76)&&(this._hasLongLines=!0)),this}build(a){let b;a||(b=new Promise((b,c)=>{a=h.callbackPromise(b,c)}));let c=this.createReadStream(),d=[],e=0,f=!1;return c.on("readable",()=>{let a;for(;null!==(a=c.read());)d.push(a),e+=a.length}),c.once("error",b=>{if(!f)return f=!0,a(b)}),c.once("end",b=>{if(!f)return f=!0,b&&b.length&&(d.push(b),e+=b.length),a(null,Buffer.concat(d,e))}),b}getTransferEncoding(){let a=!1,b=(this.getHeader("Content-Type")||"").toString().toLowerCase().trim();return this.content&&((a=(this.getHeader("Content-Transfer-Encoding")||"").toString().toLowerCase().trim())&&["base64","quoted-printable"].includes(a)||(/^text\//i.test(b)?a=this._isPlainText&&!this._hasLongLines?"7bit":"string"==typeof this.content||this.content instanceof Buffer?"Q"===this._getTextEncoding(this.content)?"quoted-printable":"base64":"B"===this.textEncoding?"base64":"quoted-printable":/^(multipart|message)\//i.test(b)||(a=a||"base64"))),a}buildHeaders(){let a=this.getTransferEncoding(),b=[];if(a&&this.setHeader("Content-Transfer-Encoding",a),this.filename&&!this.getHeader("Content-Disposition")&&this.setHeader("Content-Disposition","attachment"),this.rootNode===this){this.getHeader("Date")||this.setHeader("Date",this.date.toUTCString().replace(/GMT/,"+0000")),this.messageId(),this.getHeader("MIME-Version")||this.setHeader("MIME-Version","1.0");for(let a=this._headers.length-2;a>=0;a--){let b=this._headers[a];"Content-Type"===b.key&&(this._headers.splice(a,1),this._headers.push(b))}}return this._headers.forEach(a=>{let c,d,e=a.key,f=a.value,g={},h=["From","Sender","To","Cc","Bcc","Reply-To","Date","References"];if(!f||"object"!=typeof f||h.includes(e)||(Object.keys(f).forEach(a=>{"value"!==a&&(g[a]=f[a])}),(f=(f.value||"").toString()).trim())){if(g.prepared)return void(g.foldLines?b.push(i.foldLines(e+": "+f)):b.push(e+": "+f));switch(a.key){case"Content-Disposition":c=i.parseHeaderValue(f),this.filename&&(c.params.filename=this.filename),f=i.buildHeaderValue(c);break;case"Content-Type":c=i.parseHeaderValue(f),this._handleContentType(c),c.value.match(/^text\/plain\b/)&&"string"==typeof this.content&&/[\u0080-\uFFFF]/.test(this.content)&&(c.params.charset="utf-8"),f=i.buildHeaderValue(c),this.filename&&(((d=this._encodeWords(this.filename))!==this.filename||/[\s'"\\;:/=(),<>@[\]?]|^-/.test(d))&&(d='"'+d+'"'),f+="; name="+d);break;case"Bcc":if(!this.keepBcc)return}if(((f=this._encodeHeaderValue(e,f))||"").toString().trim()){if("function"==typeof this.normalizeHeaderKey){let a=this.normalizeHeaderKey(e,f);a&&"string"==typeof a&&a.length&&(e=a)}b.push(i.foldLines(e+": "+f,76))}}}),b.join("\r\n")}createReadStream(a){let b,c=new g(a=a||{}),d=c;this.stream(c,a,a=>{if(a)return void d.emit("error",a);c.end()});for(let a=0,c=this._transforms.length;a<c;a++)b="function"==typeof this._transforms[a]?this._transforms[a]():this._transforms[a],d.once("error",a=>{b.emit("error",a)}),d=d.pipe(b);b=new o,d.once("error",a=>{b.emit("error",a)}),d=d.pipe(b);for(let a=0,c=this._processFuncs.length;a<c;a++)d=(b=this._processFuncs[a])(d);if(this.newline){let a=["win","windows","dos","\r\n"].includes(this.newline.toString().toLowerCase())?new p:new q,b=d.pipe(a);return d.on("error",a=>b.emit("error",a)),b}return d}transform(a){this._transforms.push(a)}processFunc(a){this._processFuncs.push(a)}stream(a,b,c){let d,e,f=this.getTransferEncoding(),g=!1,h=a=>{g||(g=!0,c(a))},i=()=>{let c=0,d=()=>{if(c>=this.childNodes.length)return a.write("\r\n--"+this.boundary+"--\r\n"),h();let e=this.childNodes[c++];a.write((c>1?"\r\n":"")+"--"+this.boundary+"\r\n"),e.stream(a,b,a=>{if(a)return h(a);setImmediate(d)})};if(!this.multipart)return h();setImmediate(d)},l=()=>{if(!this.content)return setImmediate(i);{if("[object Error]"===Object.prototype.toString.call(this.content))return h(this.content);"function"==typeof this.content.pipe&&(this.content.removeListener("error",this._contentErrorHandler),this._contentErrorHandler=a=>h(a),this.content.once("error",this._contentErrorHandler));let c=()=>{["quoted-printable","base64"].includes(f)?((d=new("base64"===f?k:j).Encoder(b)).pipe(a,{end:!1}),d.once("end",i),d.once("error",a=>h(a)),(e=this._getStream(this.content)).pipe(d)):((e=this._getStream(this.content)).pipe(a,{end:!1}),e.once("end",i)),e.once("error",a=>h(a))};if(this.content._resolve){let a=[],b=0,d=!1,e=this._getStream(this.content);e.on("error",a=>{d||(d=!0,h(a))}),e.on("readable",()=>{let c;for(;null!==(c=e.read());)a.push(c),b+=c.length}),e.on("end",()=>{d||(d=!0,this.content._resolve=!1,this.content._resolvedValue=Buffer.concat(a,b),setImmediate(c))})}else setImmediate(c);return}};this._raw?setImmediate(()=>{if("[object Error]"===Object.prototype.toString.call(this._raw))return h(this._raw);"function"==typeof this._raw.pipe&&this._raw.removeListener("error",this._contentErrorHandler);let b=this._getStream(this._raw);b.pipe(a,{end:!1}),b.on("error",b=>a.emit("error",b)),b.on("end",i)}):(a.write(this.buildHeaders()+"\r\n\r\n"),setImmediate(l))}setEnvelope(a){let b;this._envelope={from:!1,to:[]},a.from&&(b=[],this._convertAddresses(this._parseAddresses(a.from),b),(b=b.filter(a=>a&&a.address)).length&&b[0]&&(this._envelope.from=b[0].address)),["to","cc","bcc"].forEach(b=>{a[b]&&this._convertAddresses(this._parseAddresses(a[b]),this._envelope.to)}),this._envelope.to=this._envelope.to.map(a=>a.address).filter(a=>a);let c=["to","cc","bcc","from"];return Object.keys(a).forEach(b=>{c.includes(b)||(this._envelope[b]=a[b])}),this}getAddresses(){let a={};return this._headers.forEach(b=>{let c=b.key.toLowerCase();["from","sender","reply-to","to","cc","bcc"].includes(c)&&(Array.isArray(a[c])||(a[c]=[]),this._convertAddresses(this._parseAddresses(b.value),a[c]))}),a}getEnvelope(){if(this._envelope)return this._envelope;let a={from:!1,to:[]};return this._headers.forEach(b=>{let c=[];"From"===b.key||!a.from&&["Reply-To","Sender"].includes(b.key)?(this._convertAddresses(this._parseAddresses(b.value),c),c.length&&c[0]&&(a.from=c[0].address)):["To","Cc","Bcc"].includes(b.key)&&this._convertAddresses(this._parseAddresses(b.value),a.to)}),a.to=a.to.map(a=>a.address),a}messageId(){let a=this.getHeader("Message-ID");return a||(a=this._generateMessageId(),this.setHeader("Message-ID",a)),a}setRaw(a){return this._raw=a,this._raw&&"function"==typeof this._raw.pipe&&(this._contentErrorHandler=a=>{this._raw.removeListener("error",this._contentErrorHandler),this._raw=a},this._raw.once("error",this._contentErrorHandler)),this}_getStream(a){let b;return a._resolvedValue?(b=new g,setImmediate(()=>{try{b.end(a._resolvedValue)}catch(a){b.emit("error",a)}}),b):"function"==typeof a.pipe?a:a&&"string"==typeof a.path&&!a.href?this.disableFileAccess?(b=new g,setImmediate(()=>b.emit("error",Error("File access rejected for "+a.path))),b):e.createReadStream(a.path):a&&"string"==typeof a.href?this.disableUrlAccess?(b=new g,setImmediate(()=>b.emit("error",Error("Url access rejected for "+a.href))),b):m(a.href,{headers:a.httpHeaders}):(b=new g,setImmediate(()=>{try{b.end(a||"")}catch(a){b.emit("error",a)}}),b)}_parseAddresses(a){return[].concat.apply([],[].concat(a).map(a=>a&&a.address?(a.address=this._normalizeAddress(a.address),a.name=a.name||"",[a]):l(a)))}_normalizeHeaderKey(a){return a=(a||"").toString().replace(/\r?\n|\r/g," ").trim().toLowerCase().replace(/^X-SMTPAPI$|^(MIME|DKIM|ARC|BIMI)\b|^[a-z]|-(SPF|FBL|ID|MD5)$|-[a-z]/gi,a=>a.toUpperCase()).replace(/^Content-Features$/i,"Content-features")}_handleContentType(a){this.contentType=a.value.trim().toLowerCase(),this.multipart=!!/^multipart\//i.test(this.contentType)&&this.contentType.substr(this.contentType.indexOf("/")+1),this.multipart?this.boundary=a.params.boundary=a.params.boundary||this.boundary||this._generateBoundary():this.boundary=!1}_generateBoundary(){return this.rootNode.boundaryPrefix+"-"+this.rootNode.baseBoundary+"-Part_"+this._nodeId}_encodeHeaderValue(a,b){switch(a=this._normalizeHeaderKey(a)){case"From":case"Sender":case"To":case"Cc":case"Bcc":case"Reply-To":return this._convertAddresses(this._parseAddresses(b));case"Message-ID":case"In-Reply-To":case"Content-Id":return"<"!==(b=(b||"").toString().replace(/\r?\n|\r/g," ")).charAt(0)&&(b="<"+b),">"!==b.charAt(b.length-1)&&(b+=">"),b;case"References":return(b=[].concat.apply([],[].concat(b||"").map(a=>(a=(a||"").toString().replace(/\r?\n|\r/g," ").trim()).replace(/<[^>]*>/g,a=>a.replace(/\s/g,"")).split(/\s+/))).map(a=>("<"!==a.charAt(0)&&(a="<"+a),">"!==a.charAt(a.length-1)&&(a+=">"),a))).join(" ").trim();case"Date":if("[object Date]"===Object.prototype.toString.call(b))return b.toUTCString().replace(/GMT/,"+0000");return b=(b||"").toString().replace(/\r?\n|\r/g," "),this._encodeWords(b);case"Content-Type":case"Content-Disposition":return(b||"").toString().replace(/\r?\n|\r/g," ");default:return b=(b||"").toString().replace(/\r?\n|\r/g," "),this._encodeWords(b)}}_convertAddresses(a,b){let c=[];return b=b||[],[].concat(a||[]).forEach(a=>{if(a.address)a.address=this._normalizeAddress(a.address),a.name?a.name&&c.push(`${this._encodeAddressName(a.name)} <${a.address}>`):c.push(a.address.indexOf(" ")>=0?`<${a.address}>`:`${a.address}`),a.address&&!b.filter(b=>b.address===a.address).length&&b.push(a);else if(a.group){let d=(a.group.length?this._convertAddresses(a.group,b):"").trim();c.push(`${this._encodeAddressName(a.name)}:${d};`)}}),c.join(", ")}_normalizeAddress(a){let b,c=(a=(a||"").toString().replace(/[\x00-\x1F<>]+/g," ").trim()).lastIndexOf("@");if(c<0)return a;let d=a.substr(0,c),e=a.substr(c+1);try{b=f.toASCII(e.toLowerCase())}catch(a){}return d.indexOf(" ")>=0&&('"'!==d.charAt(0)&&(d='"'+d),'"'!==d.substr(-1)&&(d+='"')),`${d}@${b}`}_encodeAddressName(a){if(!/^[\w ]*$/.test(a))if(/^[\x20-\x7e]*$/.test(a))return'"'+a.replace(/([\\"])/g,"\\$1")+'"';else return i.encodeWord(a,this._getTextEncoding(a),52);return a}_encodeWords(a){return i.encodeWords(a,this._getTextEncoding(a),52,!0)}_getTextEncoding(a){a=(a||"").toString();let b=this.textEncoding;return b||(b=(a.match(/[\x00-\x08\x0B\x0C\x0E-\x1F\u0080-\uFFFF]/g)||[]).length<(a.match(/[a-z]/gi)||[]).length?"Q":"B"),b}_generateMessageId(){return"<"+[2,2,2,6].reduce((a,b)=>a+"-"+d.randomBytes(b).toString("hex"),d.randomBytes(4).toString("hex"))+"@"+(this.getEnvelope().from||this.hostname||"localhost").split("@").pop()+">"}}a.exports=r},39182:(a,b,c)=>{"use strict";c.d(b,{m:()=>f});var d=c(65540);let e=({callback:a,callbackStack:b,config:c,data:d,field:e,fillEmpty:g,leavesFirst:h,parentIsLocalized:i,parentPath:j,parentRef:k})=>{if(g){if("array"===e.type&&f({callback:a,callbackStack:b,config:c,fields:e.fields,isTopLevel:!1,leavesFirst:h,parentIsLocalized:i||e.localized,parentPath:`${j}${e.name}.`,parentRef:k}),"blocks"===e.type)for(let d of e.blockReferences??e.blocks){let g="string"==typeof d?c?.blocks?.find(a=>a.slug===d):d;g&&f({callback:a,callbackStack:b,config:c,fields:g.fields,isTopLevel:!1,leavesFirst:h,parentIsLocalized:i||e.localized,parentPath:`${j}${e.name}.`,parentRef:k})}return}for(let l of d){let d;if("blocks"===e.type&&"string"==typeof l?.blockType){let a=e.blockReferences?c?.blocks?.find(a=>a.slug===l.blockType)??e.blockReferences.find(a=>"string"!=typeof a&&a.slug===l.blockType):e.blocks.find(a=>a.slug===l.blockType);d=a?.fields}else"array"===e.type&&(d=e.fields);d&&f({callback:a,callbackStack:b,config:c,fields:d,fillEmpty:g,isTopLevel:!1,leavesFirst:h,parentIsLocalized:i||e.localized,parentPath:`${j}${e.name}.`,parentRef:k,ref:l})}},f=({callback:a,callbackStack:b=[],config:c,fields:g,fillEmpty:h=!0,isTopLevel:i=!0,leavesFirst:j=!1,parentIsLocalized:k,parentPath:l="",parentRef:m={},ref:o={}})=>{!g.some(g=>{let p=[];i||(p=b);let q=!1,r=()=>{q=!0};if(!o||"object"!=typeof o)return;if(!j&&a&&a({field:g,next:r,parentIsLocalized:k,parentPath:l,parentRef:m,ref:o}))return!0;if(j&&p.push(()=>a({field:g,next:r,parentIsLocalized:k,parentPath:l,parentRef:m,ref:o})),q)return!1;let s=o,t=m;if("tabs"===g.type&&"tabs"in g){for(let b of g.tabs){let e=o;if(q)return!1;if("name"in b&&b.name){if(!o[b.name]||"object"!=typeof o[b.name])if(!h)continue;else b.localized?o[b.name]={en:{}}:o[b.name]={};if(a&&!j&&a({field:{...b,type:"tab"},next:r,parentIsLocalized:k,parentPath:l,parentRef:t,ref:e}))return!0;if(j&&p.push(()=>a({field:{...b,type:"tab"},next:r,parentIsLocalized:k,parentPath:l,parentRef:t,ref:e})),e=e[b.name],b.localized)for(let d in e)e[d]&&"object"==typeof e[d]&&f({callback:a,callbackStack:p,config:c,fields:b.fields,fillEmpty:h,isTopLevel:!1,leavesFirst:j,parentIsLocalized:!0,parentPath:`${l}${b.name}.`,parentRef:t,ref:e[d]})}else{if(a&&!j&&a({field:{...b,type:"tab"},next:r,parentIsLocalized:k,parentPath:l,parentRef:t,ref:e}))return!0;j&&p.push(()=>a({field:{...b,type:"tab"},next:r,parentIsLocalized:k,parentPath:l,parentRef:t,ref:e}))}if(b.localized||f({callback:a,callbackStack:p,config:c,fields:b.fields,fillEmpty:h,isTopLevel:!1,leavesFirst:j,parentIsLocalized:!1,parentPath:(0,d.pz)(b)?`${l}${b.name}`:l,parentRef:t,ref:e}),q)return!1}return}if("tab"===g.type||(0,d.sd)(g)||"blocks"===g.type){if("name"in g&&g.name){if(t=s,!o[g.name])if(!h)return;else"group"===g.type||"tab"===g.type?(0,d.Cd)({field:g,parentIsLocalized:k})?o[g.name]={en:{}}:o[g.name]={}:("array"===g.type||"blocks"===g.type)&&((0,d.Cd)({field:g,parentIsLocalized:k})?o[g.name]={en:[]}:o[g.name]=[]);s=o[g.name]}if(("tab"===g.type||"group"===g.type)&&(0,d.Cd)({field:g,parentIsLocalized:k})&&s&&"object"==typeof s){if((0,d.Z7)(g))for(let b in s)s[b]&&f({callback:a,callbackStack:p,config:c,fields:g.fields,fillEmpty:h,isTopLevel:!1,leavesFirst:j,parentIsLocalized:!0,parentPath:g.name?`${l}${g.name}.`:l,parentRef:t,ref:s[b]});else f({callback:a,callbackStack:p,config:c,fields:g.fields,fillEmpty:h,isTopLevel:!1,leavesFirst:j,parentIsLocalized:k,parentRef:t,ref:s});return}if(("blocks"===g.type||"array"===g.type)&&s&&"object"==typeof s)if((0,d.Cd)({field:g,parentIsLocalized:k??!1}))if(Array.isArray(s))e({callback:a,callbackStack:p,config:c,data:s,field:g,fillEmpty:h,leavesFirst:j,parentIsLocalized:!0,parentPath:l,parentRef:t});else for(let b in s){let d=s[b];Array.isArray(d)&&e({callback:a,callbackStack:p,config:c,data:d,field:g,fillEmpty:h,leavesFirst:j,parentIsLocalized:!0,parentPath:l,parentRef:t})}else Array.isArray(s)&&e({callback:a,callbackStack:p,config:c,data:s,field:g,fillEmpty:h,leavesFirst:j,parentIsLocalized:k,parentPath:l,parentRef:t});else s&&"object"==typeof s&&"fields"in g&&f({callback:a,callbackStack:p,config:c,fields:g.fields,fillEmpty:h,isTopLevel:!1,leavesFirst:j,parentIsLocalized:k,parentPath:"name"in g&&g.name?`${l}${g.name}.`:l,parentRef:t,ref:s})}i&&p.reverse().forEach(a=>{a()})})&&o&&"object"==typeof o&&Object.keys(o).forEach(d=>{if(d.includes(".")){let e=d.indexOf("."),i=d.substring(0,e),p=d.substring(e+1);o[i]||(o[i]={}),o[i][p]=o[d],delete o[d],f({callback:a,callbackStack:b,config:c,fields:g,fillEmpty:h,isTopLevel:!1,leavesFirst:j,parentIsLocalized:k,parentPath:l,parentRef:m,ref:o})}})}},39196:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(51313),e=c(55432),f=c(97556),g=c(47699),h=c(92309),i=()=>0,j=()=>!0;class k{initSimple(a){this.columns=a.map(a=>({name:a,title:a,alignment:e.DEFAULT_ROW_ALIGNMENT}))}initDetailed(a){var b;this.title=(null==a?void 0:a.title)||this.title,this.tableStyle=(null==a?void 0:a.style)||this.tableStyle,this.sortFunction=(null==a?void 0:a.sort)||this.sortFunction,this.filterFunction=(null==a?void 0:a.filter)||this.filterFunction,this.enabledColumns=(null==a?void 0:a.enabledColumns)||this.enabledColumns,this.disabledColumns=(null==a?void 0:a.disabledColumns)||this.disabledColumns,this.computedColumns=(null==a?void 0:a.computedColumns)||this.computedColumns,this.columns=(null==(b=null==a?void 0:a.columns)?void 0:b.map(g.rawColumnToInternalColumn))||this.columns,this.rowSeparator=(null==a?void 0:a.rowSeparator)||this.rowSeparator,this.charLength=(null==a?void 0:a.charLength)||this.charLength,(null==a?void 0:a.shouldDisableColors)?this.colorMap={}:(null==a?void 0:a.colorMap)&&(this.colorMap=Object.assign(Object.assign({},this.colorMap),a.colorMap)),void 0!==a.rows&&this.addRows(a.rows)}constructor(a){this.rows=[],this.columns=[],this.title=void 0,this.tableStyle=e.DEFAULT_TABLE_STYLE,this.filterFunction=j,this.sortFunction=i,this.enabledColumns=[],this.disabledColumns=[],this.computedColumns=[],this.rowSeparator=e.DEFAULT_ROW_SEPARATOR,this.colorMap=d.DEFAULT_COLOR_MAP,this.charLength={},a instanceof Array?this.initSimple(a):"object"==typeof a&&this.initDetailed(a)}createColumnFromRow(a){let b=this.columns.map(a=>a.name);Object.keys(a).forEach(a=>{b.includes(a)||this.columns.push((0,f.createColumFromOnlyName)(a))})}addColumn(a){"string"==typeof a?this.columns.push((0,f.createColumFromOnlyName)(a)):this.columns.push((0,f.createColumFromComputedColumn)(a))}addColumns(a){a.forEach(a=>{this.addColumn(a)})}addRow(a,b){this.createColumnFromRow(a),this.rows.push((0,f.createRow)((null==b?void 0:b.color)||e.DEFAULT_ROW_FONT_COLOR,a,(null==b?void 0:b.separator)!==void 0?null==b?void 0:b.separator:this.rowSeparator))}addRows(a,b){a.forEach(a=>{this.addRow(a,b)})}renderTable(){return(0,h.renderTable)(this)}}b.default=k},39494:(a,b,c)=>{"use strict";c.d(b,{K:()=>e});var d=c(36267);class e{config;middlewareStack=(0,d.o)();initConfig;handlers;constructor(a){this.config=a;let{protocol:b,protocolSettings:c}=a;c&&"function"==typeof b&&(a.protocol=new b(c))}send(a,b,c){let d,e="function"!=typeof b?b:void 0,f="function"==typeof b?b:c;if(void 0===e&&!0===this.config.cacheMiddleware){this.handlers||(this.handlers=new WeakMap);let b=this.handlers;b.has(a.constructor)?d=b.get(a.constructor):(d=a.resolveMiddleware(this.middlewareStack,this.config,e),b.set(a.constructor,d))}else delete this.handlers,d=a.resolveMiddleware(this.middlewareStack,this.config,e);if(!f)return d(a).then(a=>a.output);d(a).then(a=>f(null,a.output),a=>f(a)).catch(()=>{})}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}},39607:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.biggestWordInSentence=b.textWithPadding=b.splitTextIntoTextsOfMinLen=void 0;let d=c(62717);b.splitTextIntoTextsOfMinLen=(a,b,c)=>{let e=[];return a.split(/[\n\r]/).forEach(a=>{let f=a.split(" "),g=[],h=0;f.forEach(a=>{let f=(0,d.findWidthInConsole)(a,c);h+f<=b?(h+=f+1,g.push(a)):(g.length>0&&e.push(g.join(" ")),g=[a],h=f+1)}),e.push(g.join(" "))}),e};let e=(a,c,e,f)=>{let g=(0,d.findWidthInConsole)(a,f),h=Math.floor((e-g)/2),i=e-h-g;if(e<g){let d=(0,b.splitTextIntoTextsOfMinLen)(a,e);return 1===d.length?a:d.map(a=>(0,b.textWithPadding)(a,c,e,f)).join("\n")}switch(c){case"left":return a.concat(" ".repeat(e-g));case"center":return" ".repeat(h).concat(a).concat(" ".repeat(i));default:return" ".repeat(e-g).concat(a)}};b.textWithPadding=e,b.biggestWordInSentence=(a,b)=>a.split(" ").reduce((a,c)=>Math.max(a,(0,d.findWidthInConsole)(c,b)),0)},39769:(a,b,c)=>{"use strict";c.d(b,{c:()=>u});var d=c(99741),e=c(41582),f=c(27910),g=c(46734);let h=async a=>"function"==typeof Blob&&a instanceof Blob||a.constructor?.name==="Blob"?void 0!==Blob.prototype.arrayBuffer?new Uint8Array(await a.arrayBuffer()):i(a):j(a);async function i(a){let b=await k(a);return new Uint8Array((0,g.E)(b))}async function j(a){let b=[],c=a.getReader(),d=!1,e=0;for(;!d;){let{done:a,value:f}=await c.read();f&&(b.push(f),e+=f.length),d=a}let f=new Uint8Array(e),g=0;for(let a of b)f.set(a,g),g+=a.length;return f}function k(a){return new Promise((b,c)=>{let d=new FileReader;d.onloadend=()=>{if(2!==d.readyState)return c(Error("Reader aborted too early"));let a=d.result??"",e=a.indexOf(","),f=e>-1?e+1:a.length;b(a.substring(f))},d.onabort=()=>c(Error("Read aborted")),d.onerror=()=>c(d.error),d.readAsDataURL(a)})}var l=c(73891),m=c(89480),o=c(38756);let p=a=>"function"==typeof ReadableStream&&(a?.constructor?.name===ReadableStream.name||a instanceof ReadableStream),q="The stream has already been transformed.",r=a=>{if(!s(a)&&!p(a)){let b=a?.__proto__?.constructor?.name||a;throw Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${b}`)}let b=!1,c=async()=>{if(b)throw Error(q);return b=!0,await h(a)},d=a=>{if("function"!=typeof a.stream)throw Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return a.stream()};return Object.assign(a,{transformToByteArray:c,transformToString:async a=>{let b=await c();if("base64"===a)return(0,l.n)(b);if("hex"===a)return(0,m.n)(b);if(void 0===a||"utf8"===a||"utf-8"===a)return(0,o.P)(b);if("function"==typeof TextDecoder)return new TextDecoder(a).decode(b);throw Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(b)throw Error(q);if(b=!0,s(a))return d(a);if(p(a))return a;throw Error(`Cannot transform payload to web stream, got ${a}`)}})},s=a=>"function"==typeof Blob&&a instanceof Blob,t="The stream has already been transformed.",u=a=>{if(!(a instanceof f.Readable))try{return r(a)}catch(c){let b=a?.__proto__?.constructor?.name||a;throw Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${b}`)}let b=!1,c=async()=>{if(b)throw Error(t);return b=!0,await (0,d.k)(a)};return Object.assign(a,{transformToByteArray:c,transformToString:async a=>{let b=await c();return void 0===a||Buffer.isEncoding(a)?(0,e.Q)(b.buffer,b.byteOffset,b.byteLength).toString(a):new TextDecoder(a).decode(b)},transformToWebStream:()=>{if(b)throw Error(t);if(null!==a.readableFlowing)throw Error("The stream has been consumed by other callbacks.");if("function"!=typeof f.Readable.toWeb)throw Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return b=!0,f.Readable.toWeb(a)}})}},39786:(a,b,c)=>{let d=c(85558),e=c(63190),{style:f,clear:g}=c(78339),{erase:h,cursor:i}=c(40821);class j extends e{constructor(a={}){super(a),this.msg=a.message,this.value=a.initial,this.initialValue=!!a.initial,this.yesMsg=a.yes||"yes",this.yesOption=a.yesOption||"(Y/n)",this.noMsg=a.no||"no",this.noOption=a.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(a,b){return"y"===a.toLowerCase()?(this.value=!0,this.submit()):"n"===a.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(i.hide):this.out.write(g(this.outputText,this.out.columns)),super.render(),this.outputText=[f.symbol(this.done,this.aborted),d.bold(this.msg),f.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:d.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(h.line+i.to(0)+this.outputText))}}a.exports=j},39859:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getRules=b.isJSONType=void 0;let c=new Set(["string","number","integer","boolean","null","object","array"]);b.isJSONType=function(a){return"string"==typeof a&&c.has(a)},b.getRules=function(){let a={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...a,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},a.number,a.string,a.array,a.object],post:{rules:[]},all:{},keywords:{}}}},39891:(a,b,c)=>{"use strict";let d=c(27910).Transform;class e extends d{constructor(){super(),this.lastByte=!1}_transform(a,b,c){a.length&&(this.lastByte=a[a.length-1]),this.push(a),c()}_flush(a){return 10===this.lastByte||(13===this.lastByte?this.push(Buffer.from("\n")):this.push(Buffer.from("\r\n"))),a()}}a.exports=e},39962:(a,b,c)=>{"use strict";let d=c(79551),e=1800;class f{constructor(a){this.options=a||{},this.cookies=[]}set(a,b){let c,f=d.parse(b||""),g=this.parse(a);return g.domain?(c=g.domain.replace(/^\./,""),(f.hostname.length<c.length||("."+f.hostname).substr(-c.length+1)!=="."+c)&&(g.domain=f.hostname)):g.domain=f.hostname,g.path||(g.path=this.getPath(f.pathname)),g.expires||(g.expires=new Date(Date.now()+1e3*(Number(this.options.sessionTimeout||e)||e))),this.add(g)}get(a){return this.list(a).map(a=>a.name+"="+a.value).join("; ")}list(a){let b,c,d=[];for(b=this.cookies.length-1;b>=0;b--){if(c=this.cookies[b],this.isExpired(c)){this.cookies.splice(b,b);continue}this.match(c,a)&&d.unshift(c)}return d}parse(a){let b={};return(a||"").toString().split(";").forEach(a=>{let c,d=a.split("="),e=d.shift().trim().toLowerCase(),f=d.join("=").trim();if(e)switch(e){case"expires":"Invalid Date"!==(f=new Date(f)).toString()&&(b.expires=f);break;case"path":b.path=f;break;case"domain":(c=f.toLowerCase()).length&&"."!==c.charAt(0)&&(c="."+c),b.domain=c;break;case"max-age":b.expires=new Date(Date.now()+1e3*(Number(f)||0));break;case"secure":b.secure=!0;break;case"httponly":b.httponly=!0;break;default:b.name||(b.name=e,b.value=f)}}),b}match(a,b){let c=d.parse(b||"");return(c.hostname===a.domain||"."===a.domain.charAt(0)&&("."+c.hostname).substr(-a.domain.length)===a.domain)&&this.getPath(c.pathname).substr(0,a.path.length)===a.path&&(!a.secure||"https:"===c.protocol)}add(a){let b,c;if(!a||!a.name)return!1;for(b=0,c=this.cookies.length;b<c;b++)if(this.compare(this.cookies[b],a)){if(this.isExpired(a))return this.cookies.splice(b,1),!1;return this.cookies[b]=a,!0}return this.isExpired(a)||this.cookies.push(a),!0}compare(a,b){return a.name===b.name&&a.path===b.path&&a.domain===b.domain&&a.secure===b.secure&&a.httponly==a.httponly}isExpired(a){return a.expires&&a.expires<new Date||!a.value}getPath(a){let b=(a||"/").split("/");return b.pop(),"/"!==(b=b.join("/").trim()).charAt(0)&&(b="/"+b),"/"!==b.substr(-1)&&(b+="/"),b}}a.exports=f},40092:(a,b,c)=>{"use strict";let d=c(96781),e=c(79448),f=c(20386),g=c(75667),h=c(73885),i=c(30301),j=c(55778),{DatabaseError:k}=c(19024),{escapeIdentifier:l,escapeLiteral:m}=c(73885),o=a=>class extends i{constructor(b){super(b,a)}},p=function(a){this.defaults=e,this.Client=a,this.Query=this.Client.Query,this.Pool=o(this.Client),this._pools=[],this.Connection=f,this.types=c(27092),this.DatabaseError=k,this.TypeOverrides=j,this.escapeIdentifier=l,this.escapeLiteral=m,this.Result=g,this.utils=h};void 0!==process.env.NODE_PG_FORCE_NATIVE?a.exports=new p(c(59854)):(a.exports=new p(d),Object.defineProperty(a.exports,"native",{configurable:!0,enumerable:!1,get(){let b=null;try{b=new p(c(59854))}catch(a){if("MODULE_NOT_FOUND"!==a.code)throw a}return Object.defineProperty(a.exports,"native",{value:b}),b}}))},40267:(a,b,c)=>{"use strict";c.d(b,{$:()=>e,R:()=>d});let d=a=>({setRegion(b){a.region=b},region:()=>a.region}),e=a=>({region:a.region()})},40369:(a,b,c)=>{"use strict";let d,{extractBody:e,mixinBody:f,cloneBody:g,bodyUnusable:h}=c(33518),{Headers:i,fill:j,HeadersList:k,setHeadersGuard:l,getHeadersGuard:m,setHeadersList:o,getHeadersList:p}=c(98114),{FinalizationRegistry:q}=c(915)(),r=c(81350),s=c(57975),{isValidHTTPToken:t,sameOrigin:u,environmentSettingsObject:v}=c(51074),{forbiddenMethodsSet:w,corsSafeListedMethodsSet:x,referrerPolicy:y,requestRedirect:z,requestMode:A,requestCredentials:B,requestCache:C,requestDuplex:D}=c(27761),{kEnumerableProperty:E,normalizedMethodRecordsBase:F,normalizedMethodRecords:G}=r,{webidl:H}=c(81399),{URLSerializer:I}=c(62018),{kConstruct:J}=c(10257),K=c(34589),{getMaxListeners:L,setMaxListeners:M,defaultMaxListeners:N}=c(78474),O=Symbol("abortController"),P=new q(({signal:a,abort:b})=>{a.removeEventListener("abort",b)}),Q=new WeakMap;try{d=L(new AbortController().signal)>0}catch{d=!1}function R(a){return b;function b(){let c=a.deref();if(void 0!==c){P.unregister(b),this.removeEventListener("abort",b),c.abort(this.reason);let a=Q.get(c.signal);if(void 0!==a){if(0!==a.size){for(let b of a){let a=b.deref();void 0!==a&&a.abort(this.reason)}a.clear()}Q.delete(c.signal)}}}}let S=!1;class T{#au;#_;#av;#aa;constructor(a,b){let c;if(H.util.markAsUncloneable(this),a===J)return;let f="Request constructor";H.argumentLengthCheck(arguments,1,f),a=H.converters.RequestInfo(a,f,"input"),b=H.converters.RequestInit(b,f,"init");let g=null,m=null,q=v.settingsObject.baseUrl,s=null;if("string"==typeof a){let c;this.#_=b.dispatcher;try{c=new URL(a,q)}catch(b){throw TypeError("Failed to parse URL from "+a,{cause:b})}if(c.username||c.password)throw TypeError("Request cannot be constructed from a URL that includes credentials: "+a);g=$({urlList:[c]}),m="cors"}else K(H.is.Request(a)),g=a.#aa,s=a.#au,this.#_=b.dispatcher||a.#_;let y=v.settingsObject.origin,z="client";if(g.window?.constructor?.name==="EnvironmentSettingsObject"&&u(g.window,y)&&(z=g.window),null!=b.window)throw TypeError(`'window' option '${z}' must be null`);"window"in b&&(z="no-window"),g=$({method:g.method,headersList:g.headersList,unsafeRequest:g.unsafeRequest,client:v.settingsObject,window:z,priority:g.priority,origin:g.origin,referrer:g.referrer,referrerPolicy:g.referrerPolicy,mode:g.mode,credentials:g.credentials,cache:g.cache,redirect:g.redirect,integrity:g.integrity,keepalive:g.keepalive,reloadNavigation:g.reloadNavigation,historyNavigation:g.historyNavigation,urlList:[...g.urlList]});let A=0!==Object.keys(b).length;if(A&&("navigate"===g.mode&&(g.mode="same-origin"),g.reloadNavigation=!1,g.historyNavigation=!1,g.origin="client",g.referrer="client",g.referrerPolicy="",g.url=g.urlList[g.urlList.length-1],g.urlList=[g.url]),void 0!==b.referrer){let a=b.referrer;if(""===a)g.referrer="no-referrer";else{let b;try{b=new URL(a,q)}catch(b){throw TypeError(`Referrer "${a}" is not a valid URL.`,{cause:b})}"about:"===b.protocol&&"client"===b.hostname||y&&!u(b,v.settingsObject.baseUrl)?g.referrer="client":g.referrer=b}}if(void 0!==b.referrerPolicy&&(g.referrerPolicy=b.referrerPolicy),"navigate"===(c=void 0!==b.mode?b.mode:m))throw H.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(null!=c&&(g.mode=c),void 0!==b.credentials&&(g.credentials=b.credentials),void 0!==b.cache&&(g.cache=b.cache),"only-if-cached"===g.cache&&"same-origin"!==g.mode)throw TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(void 0!==b.redirect&&(g.redirect=b.redirect),null!=b.integrity&&(g.integrity=String(b.integrity)),void 0!==b.keepalive&&(g.keepalive=!!b.keepalive),void 0!==b.method){let a=b.method,c=G[a];if(void 0!==c)g.method=c;else{if(!t(a))throw TypeError(`'${a}' is not a valid HTTP method.`);let b=a.toUpperCase();if(w.has(b))throw TypeError(`'${a}' HTTP method is unsupported.`);a=F[b]??a,g.method=a}S||"patch"!==g.method||(process.emitWarning("Using `patch` is highly likely to result in a `405 Method Not Allowed`. `PATCH` is much more likely to succeed.",{code:"UNDICI-FETCH-patch"}),S=!0)}void 0!==b.signal&&(s=b.signal),this.#aa=g;let B=new AbortController;if(this.#au=B.signal,null!=s)if(s.aborted)B.abort(s.reason);else{this[O]=B;let a=R(new WeakRef(B));d&&L(s)===N&&M(1500,s),r.addAbortListener(s,a),P.register(B,{signal:s,abort:a},a)}if(this.#av=new i(J),o(this.#av,g.headersList),l(this.#av,"request"),"no-cors"===c){if(!x.has(g.method))throw TypeError(`'${g.method} is unsupported in no-cors mode.`);l(this.#av,"request-no-cors")}if(A){let a=p(this.#av),c=void 0!==b.headers?b.headers:new k(a);if(a.clear(),c instanceof k){for(let{name:b,value:d}of c.rawValues())a.append(b,d,!1);a.cookies=c.cookies}else j(this.#av,c)}let C=H.is.Request(a)?a.#aa.body:null;if((null!=b.body||null!=C)&&("GET"===g.method||"HEAD"===g.method))throw TypeError("Request with GET/HEAD method cannot have body.");let D=null;if(null!=b.body){let[a,c]=e(b.body,g.keepalive);D=a,c&&!p(this.#av).contains("content-type",!0)&&this.#av.append("content-type",c,!0)}let E=D??C;if(null!=E&&null==E.source){if(null!=D&&null==b.duplex)throw TypeError("RequestInit: duplex option is required when sending a body.");if("same-origin"!==g.mode&&"cors"!==g.mode)throw TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');g.useCORSPreflightFlag=!0}let I=E;if(null==D&&null!=C){if(h(a.#aa))throw TypeError("Cannot construct a Request with a Request object that has already been used.");let b=new TransformStream;C.stream.pipeThrough(b),I={source:C.source,length:C.length,stream:b.readable}}this.#aa.body=I}get method(){return H.brandCheck(this,T),this.#aa.method}get url(){return H.brandCheck(this,T),I(this.#aa.url)}get headers(){return H.brandCheck(this,T),this.#av}get destination(){return H.brandCheck(this,T),this.#aa.destination}get referrer(){return(H.brandCheck(this,T),"no-referrer"===this.#aa.referrer)?"":"client"===this.#aa.referrer?"about:client":this.#aa.referrer.toString()}get referrerPolicy(){return H.brandCheck(this,T),this.#aa.referrerPolicy}get mode(){return H.brandCheck(this,T),this.#aa.mode}get credentials(){return H.brandCheck(this,T),this.#aa.credentials}get cache(){return H.brandCheck(this,T),this.#aa.cache}get redirect(){return H.brandCheck(this,T),this.#aa.redirect}get integrity(){return H.brandCheck(this,T),this.#aa.integrity}get keepalive(){return H.brandCheck(this,T),this.#aa.keepalive}get isReloadNavigation(){return H.brandCheck(this,T),this.#aa.reloadNavigation}get isHistoryNavigation(){return H.brandCheck(this,T),this.#aa.historyNavigation}get signal(){return H.brandCheck(this,T),this.#au}get body(){return H.brandCheck(this,T),this.#aa.body?this.#aa.body.stream:null}get bodyUsed(){return H.brandCheck(this,T),!!this.#aa.body&&r.isDisturbed(this.#aa.body.stream)}get duplex(){return H.brandCheck(this,T),"half"}clone(){if(H.brandCheck(this,T),h(this.#aa))throw TypeError("unusable");let a=_(this.#aa),b=new AbortController;if(this.signal.aborted)b.abort(this.signal.reason);else{let a=Q.get(this.signal);void 0===a&&(a=new Set,Q.set(this.signal,a));let c=new WeakRef(b);a.add(c),r.addAbortListener(b.signal,R(c))}return aa(a,this.#_,b.signal,m(this.#av))}[s.inspect.custom](a,b){null===b.depth&&(b.depth=2),b.colors??=!0;let c={method:this.method,url:this.url,headers:this.headers,destination:this.destination,referrer:this.referrer,referrerPolicy:this.referrerPolicy,mode:this.mode,credentials:this.credentials,cache:this.cache,redirect:this.redirect,integrity:this.integrity,keepalive:this.keepalive,isReloadNavigation:this.isReloadNavigation,isHistoryNavigation:this.isHistoryNavigation,signal:this.signal};return`Request ${s.formatWithOptions(b,c)}`}static setRequestSignal(a,b){return a.#au=b,a}static getRequestDispatcher(a){return a.#_}static setRequestDispatcher(a,b){a.#_=b}static setRequestHeaders(a,b){a.#av=b}static getRequestState(a){return a.#aa}static setRequestState(a,b){a.#aa=b}}let{setRequestSignal:U,getRequestDispatcher:V,setRequestDispatcher:W,setRequestHeaders:X,getRequestState:Y,setRequestState:Z}=T;function $(a){return{method:a.method??"GET",localURLsOnly:a.localURLsOnly??!1,unsafeRequest:a.unsafeRequest??!1,body:a.body??null,client:a.client??null,reservedClient:a.reservedClient??null,replacesClientId:a.replacesClientId??"",window:a.window??"client",keepalive:a.keepalive??!1,serviceWorkers:a.serviceWorkers??"all",initiator:a.initiator??"",destination:a.destination??"",priority:a.priority??null,origin:a.origin??"client",policyContainer:a.policyContainer??"client",referrer:a.referrer??"client",referrerPolicy:a.referrerPolicy??"",mode:a.mode??"no-cors",useCORSPreflightFlag:a.useCORSPreflightFlag??!1,credentials:a.credentials??"same-origin",useCredentials:a.useCredentials??!1,cache:a.cache??"default",redirect:a.redirect??"follow",integrity:a.integrity??"",cryptoGraphicsNonceMetadata:a.cryptoGraphicsNonceMetadata??"",parserMetadata:a.parserMetadata??"",reloadNavigation:a.reloadNavigation??!1,historyNavigation:a.historyNavigation??!1,userActivation:a.userActivation??!1,taintedOrigin:a.taintedOrigin??!1,redirectCount:a.redirectCount??0,responseTainting:a.responseTainting??"basic",preventNoCacheCacheControlHeaderModification:a.preventNoCacheCacheControlHeaderModification??!1,done:a.done??!1,timingAllowFailed:a.timingAllowFailed??!1,urlList:a.urlList,url:a.urlList[0],headersList:a.headersList?new k(a.headersList):new k}}function _(a){let b=$({...a,body:null});return null!=a.body&&(b.body=g(b,a.body)),b}function aa(a,b,c,d){let e=new T(J);Z(e,a),W(e,b),U(e,c);let f=new i(J);return X(e,f),o(f,a.headersList),l(f,d),e}Reflect.deleteProperty(T,"setRequestSignal"),Reflect.deleteProperty(T,"getRequestDispatcher"),Reflect.deleteProperty(T,"setRequestDispatcher"),Reflect.deleteProperty(T,"setRequestHeaders"),Reflect.deleteProperty(T,"getRequestState"),Reflect.deleteProperty(T,"setRequestState"),f(T,Y),Object.defineProperties(T.prototype,{method:E,url:E,headers:E,redirect:E,clone:E,signal:E,duplex:E,destination:E,body:E,bodyUsed:E,isHistoryNavigation:E,isReloadNavigation:E,keepalive:E,integrity:E,cache:E,credentials:E,attribute:E,referrerPolicy:E,referrer:E,mode:E,[Symbol.toStringTag]:{value:"Request",configurable:!0}}),H.is.Request=H.util.MakeTypeAssertion(T),H.converters.RequestInfo=function(a,b,c){return"string"==typeof a?H.converters.USVString(a):H.is.Request(a)?a:H.converters.USVString(a)},H.converters.RequestInit=H.dictionaryConverter([{key:"method",converter:H.converters.ByteString},{key:"headers",converter:H.converters.HeadersInit},{key:"body",converter:H.nullableConverter(H.converters.BodyInit)},{key:"referrer",converter:H.converters.USVString},{key:"referrerPolicy",converter:H.converters.DOMString,allowedValues:y},{key:"mode",converter:H.converters.DOMString,allowedValues:A},{key:"credentials",converter:H.converters.DOMString,allowedValues:B},{key:"cache",converter:H.converters.DOMString,allowedValues:C},{key:"redirect",converter:H.converters.DOMString,allowedValues:z},{key:"integrity",converter:H.converters.DOMString},{key:"keepalive",converter:H.converters.boolean},{key:"signal",converter:H.nullableConverter(a=>H.converters.AbortSignal(a,"RequestInit","signal"))},{key:"window",converter:H.converters.any},{key:"duplex",converter:H.converters.DOMString,allowedValues:D},{key:"dispatcher",converter:H.converters.any}]),a.exports={Request:T,makeRequest:$,fromInnerRequest:aa,cloneRequest:_,getRequestDispatcher:V,getRequestState:Y}},40420:(a,b,c)=>{"use strict";let d=c(63590);class e extends d{constructor(a={}){super(a)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(a){this.date.setHours(parseInt(a.substr(-2)))}toString(){let a=this.date.getHours();return/h/.test(this.token)&&(a=a%12||12),this.token.length>1?String(a).padStart(2,"0"):a}}a.exports=e},40456:(a,b,c)=>{"use strict";c.d(b,{k:()=>d});let d=(0,c(78164).m)({feature:({props:a})=>{let b={applyToFocusedEditor:a?.applyToFocusedEditor!==void 0&&a.applyToFocusedEditor,customGroups:a?.customGroups,disableIfParentHasFixedToolbar:a?.disableIfParentHasFixedToolbar!==void 0&&a.disableIfParentHasFixedToolbar};return{ClientFeature:"@payloadcms/richtext-lexical/client#FixedToolbarFeatureClient",clientFeatureProps:b,sanitizedServerFeatureProps:b}},key:"toolbarFixed"})},40488:(a,b,c)=>{"use strict";let{kConnected:d,kPending:e,kRunning:f,kSize:g,kFree:h,kQueued:i}=c(10257);class j{constructor(a){this.connected=a[d],this.pending=a[e],this.running=a[f],this.size=a[g]}}class k{constructor(a){this.connected=a[d],this.free=a[h],this.pending=a[e],this.queued=a[i],this.running=a[f],this.size=a[g]}}a.exports={ClientStats:j,PoolStats:k}},40567:(a,b,c)=>{"use strict";a.exports=f;let d=c(47599),e=c(87285);function f(a,b){let c=e(b),f=c.pop();null!==(a=d(a,c))&&"object"==typeof a&&Object.prototype.hasOwnProperty.call(a,f)&&delete a[f]}},40645:(a,b,c)=>{"use strict";let{createRequire:d}=c(8086),e=c(55685),{join:f,isAbsolute:g,sep:h}=c(76760),i=c(42755),j=c(99495),k=c(73964);function l(a){j.register(a,o),j.registerBeforeExit(a,p),a.on("close",function(){j.unregister(a)})}function m(a,b,c,d){let e=new k({filename:a,workerData:b,workerOpts:c,sync:d});function f(){process.removeListener("exit",g),e.unref(),!1!==c.autoEnd&&l(e)}function g(){e.closed||(e.flushSync(),i(100),e.end())}return e.on("ready",f),e.on("close",function(){process.removeListener("exit",g)}),process.on("exit",g),e}function o(a){a.ref(),a.flushSync(),a.end(),a.once("close",function(){a.unref()})}function p(a){a.flushSync()}a.exports=function(a){let{pipeline:b,targets:c,levels:i,dedupe:j,worker:k={},caller:l=e(),sync:o=!1}=a,p={...a.options},q="string"==typeof l?[l]:l,r="__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{},s=a.target;if(s&&c)throw Error("only one of target or targets can be specified");return c?(s=r["pino-worker"]||f(__dirname,"worker.js"),p.targets=c.filter(a=>a.target).map(a=>({...a,target:t(a.target)})),p.pipelines=c.filter(a=>a.pipeline).map(a=>a.pipeline.map(b=>({...b,level:a.level,target:t(b.target)})))):b&&(s=r["pino-worker"]||f(__dirname,"worker.js"),p.pipelines=[b.map(a=>({...a,target:t(a.target)}))]),i&&(p.levels=i),j&&(p.dedupe=j),p.pinoWillSendConfig=!0,m(t(s),p,k,o);function t(a){let b;if(g(a=r[a]||a)||0===a.indexOf("file://"))return a;if("pino/file"===a)return f(__dirname,"..","file.js");for(let c of q)try{let e="node:repl"===c?process.cwd()+h:c;b=d(e).resolve(a);break}catch(a){continue}if(!b)throw Error(`unable to determine transport target for "${a}"`);return b}}},40755:(a,b,c)=>{"use strict";let d=c(33873),e="application/octet-stream",f="bin",g=new Map([["application/acad","dwg"],["application/applixware","aw"],["application/arj","arj"],["application/atom+xml","xml"],["application/atomcat+xml","atomcat"],["application/atomsvc+xml","atomsvc"],["application/base64",["mm","mme"]],["application/binhex","hqx"],["application/binhex4","hqx"],["application/book",["book","boo"]],["application/ccxml+xml,","ccxml"],["application/cdf","cdf"],["application/cdmi-capability","cdmia"],["application/cdmi-container","cdmic"],["application/cdmi-domain","cdmid"],["application/cdmi-object","cdmio"],["application/cdmi-queue","cdmiq"],["application/clariscad","ccad"],["application/commonground","dp"],["application/cu-seeme","cu"],["application/davmount+xml","davmount"],["application/drafting","drw"],["application/dsptype","tsp"],["application/dssc+der","dssc"],["application/dssc+xml","xdssc"],["application/dxf","dxf"],["application/ecmascript",["js","es"]],["application/emma+xml","emma"],["application/envoy","evy"],["application/epub+zip","epub"],["application/excel",["xls","xl","xla","xlb","xlc","xld","xlk","xll","xlm","xlt","xlv","xlw"]],["application/exi","exi"],["application/font-tdpfr","pfr"],["application/fractals","fif"],["application/freeloader","frl"],["application/futuresplash","spl"],["application/geo+json","geojson"],["application/gnutar","tgz"],["application/groupwise","vew"],["application/hlp","hlp"],["application/hta","hta"],["application/hyperstudio","stk"],["application/i-deas","unv"],["application/iges",["iges","igs"]],["application/inf","inf"],["application/internet-property-stream","acx"],["application/ipfix","ipfix"],["application/java","class"],["application/java-archive","jar"],["application/java-byte-code","class"],["application/java-serialized-object","ser"],["application/java-vm","class"],["application/javascript","js"],["application/json","json"],["application/lha","lha"],["application/lzx","lzx"],["application/mac-binary","bin"],["application/mac-binhex","hqx"],["application/mac-binhex40","hqx"],["application/mac-compactpro","cpt"],["application/macbinary","bin"],["application/mads+xml","mads"],["application/marc","mrc"],["application/marcxml+xml","mrcx"],["application/mathematica","ma"],["application/mathml+xml","mathml"],["application/mbedlet","mbd"],["application/mbox","mbox"],["application/mcad","mcd"],["application/mediaservercontrol+xml","mscml"],["application/metalink4+xml","meta4"],["application/mets+xml","mets"],["application/mime","aps"],["application/mods+xml","mods"],["application/mp21","m21"],["application/mp4","mp4"],["application/mspowerpoint",["ppt","pot","pps","ppz"]],["application/msword",["doc","dot","w6w","wiz","word"]],["application/mswrite","wri"],["application/mxf","mxf"],["application/netmc","mcp"],["application/octet-stream",["*"]],["application/oda","oda"],["application/oebps-package+xml","opf"],["application/ogg","ogx"],["application/olescript","axs"],["application/onenote","onetoc"],["application/patch-ops-error+xml","xer"],["application/pdf","pdf"],["application/pgp-encrypted","asc"],["application/pgp-signature","pgp"],["application/pics-rules","prf"],["application/pkcs-12","p12"],["application/pkcs-crl","crl"],["application/pkcs10","p10"],["application/pkcs7-mime",["p7c","p7m"]],["application/pkcs7-signature","p7s"],["application/pkcs8","p8"],["application/pkix-attr-cert","ac"],["application/pkix-cert",["cer","crt"]],["application/pkix-crl","crl"],["application/pkix-pkipath","pkipath"],["application/pkixcmp","pki"],["application/plain","text"],["application/pls+xml","pls"],["application/postscript",["ps","ai","eps"]],["application/powerpoint","ppt"],["application/pro_eng",["part","prt"]],["application/prs.cww","cww"],["application/pskc+xml","pskcxml"],["application/rdf+xml","rdf"],["application/reginfo+xml","rif"],["application/relax-ng-compact-syntax","rnc"],["application/resource-lists+xml","rl"],["application/resource-lists-diff+xml","rld"],["application/ringing-tones","rng"],["application/rls-services+xml","rs"],["application/rsd+xml","rsd"],["application/rss+xml","xml"],["application/rtf",["rtf","rtx"]],["application/sbml+xml","sbml"],["application/scvp-cv-request","scq"],["application/scvp-cv-response","scs"],["application/scvp-vp-request","spq"],["application/scvp-vp-response","spp"],["application/sdp","sdp"],["application/sea","sea"],["application/set","set"],["application/set-payment-initiation","setpay"],["application/set-registration-initiation","setreg"],["application/shf+xml","shf"],["application/sla","stl"],["application/smil",["smi","smil"]],["application/smil+xml","smi"],["application/solids","sol"],["application/sounder","sdr"],["application/sparql-query","rq"],["application/sparql-results+xml","srx"],["application/srgs","gram"],["application/srgs+xml","grxml"],["application/sru+xml","sru"],["application/ssml+xml","ssml"],["application/step",["step","stp"]],["application/streamingmedia","ssm"],["application/tei+xml","tei"],["application/thraud+xml","tfi"],["application/timestamped-data","tsd"],["application/toolbook","tbk"],["application/vda","vda"],["application/vnd.3gpp.pic-bw-large","plb"],["application/vnd.3gpp.pic-bw-small","psb"],["application/vnd.3gpp.pic-bw-var","pvb"],["application/vnd.3gpp2.tcap","tcap"],["application/vnd.3m.post-it-notes","pwn"],["application/vnd.accpac.simply.aso","aso"],["application/vnd.accpac.simply.imp","imp"],["application/vnd.acucobol","acu"],["application/vnd.acucorp","atc"],["application/vnd.adobe.air-application-installer-package+zip","air"],["application/vnd.adobe.fxp","fxp"],["application/vnd.adobe.xdp+xml","xdp"],["application/vnd.adobe.xfdf","xfdf"],["application/vnd.ahead.space","ahead"],["application/vnd.airzip.filesecure.azf","azf"],["application/vnd.airzip.filesecure.azs","azs"],["application/vnd.amazon.ebook","azw"],["application/vnd.americandynamics.acc","acc"],["application/vnd.amiga.ami","ami"],["application/vnd.android.package-archive","apk"],["application/vnd.anser-web-certificate-issue-initiation","cii"],["application/vnd.anser-web-funds-transfer-initiation","fti"],["application/vnd.antix.game-component","atx"],["application/vnd.apple.installer+xml","mpkg"],["application/vnd.apple.mpegurl","m3u8"],["application/vnd.aristanetworks.swi","swi"],["application/vnd.audiograph","aep"],["application/vnd.blueice.multipass","mpm"],["application/vnd.bmi","bmi"],["application/vnd.businessobjects","rep"],["application/vnd.chemdraw+xml","cdxml"],["application/vnd.chipnuts.karaoke-mmd","mmd"],["application/vnd.cinderella","cdy"],["application/vnd.claymore","cla"],["application/vnd.cloanto.rp9","rp9"],["application/vnd.clonk.c4group","c4g"],["application/vnd.cluetrust.cartomobile-config","c11amc"],["application/vnd.cluetrust.cartomobile-config-pkg","c11amz"],["application/vnd.commonspace","csp"],["application/vnd.contact.cmsg","cdbcmsg"],["application/vnd.cosmocaller","cmc"],["application/vnd.crick.clicker","clkx"],["application/vnd.crick.clicker.keyboard","clkk"],["application/vnd.crick.clicker.palette","clkp"],["application/vnd.crick.clicker.template","clkt"],["application/vnd.crick.clicker.wordbank","clkw"],["application/vnd.criticaltools.wbs+xml","wbs"],["application/vnd.ctc-posml","pml"],["application/vnd.cups-ppd","ppd"],["application/vnd.curl.car","car"],["application/vnd.curl.pcurl","pcurl"],["application/vnd.data-vision.rdz","rdz"],["application/vnd.denovo.fcselayout-link","fe_launch"],["application/vnd.dna","dna"],["application/vnd.dolby.mlp","mlp"],["application/vnd.dpgraph","dpg"],["application/vnd.dreamfactory","dfac"],["application/vnd.dvb.ait","ait"],["application/vnd.dvb.service","svc"],["application/vnd.dynageo","geo"],["application/vnd.ecowin.chart","mag"],["application/vnd.enliven","nml"],["application/vnd.epson.esf","esf"],["application/vnd.epson.msf","msf"],["application/vnd.epson.quickanime","qam"],["application/vnd.epson.salt","slt"],["application/vnd.epson.ssf","ssf"],["application/vnd.eszigno3+xml","es3"],["application/vnd.ezpix-album","ez2"],["application/vnd.ezpix-package","ez3"],["application/vnd.fdf","fdf"],["application/vnd.fdsn.seed","seed"],["application/vnd.flographit","gph"],["application/vnd.fluxtime.clip","ftc"],["application/vnd.framemaker","fm"],["application/vnd.frogans.fnc","fnc"],["application/vnd.frogans.ltf","ltf"],["application/vnd.fsc.weblaunch","fsc"],["application/vnd.fujitsu.oasys","oas"],["application/vnd.fujitsu.oasys2","oa2"],["application/vnd.fujitsu.oasys3","oa3"],["application/vnd.fujitsu.oasysgp","fg5"],["application/vnd.fujitsu.oasysprs","bh2"],["application/vnd.fujixerox.ddd","ddd"],["application/vnd.fujixerox.docuworks","xdw"],["application/vnd.fujixerox.docuworks.binder","xbd"],["application/vnd.fuzzysheet","fzs"],["application/vnd.genomatix.tuxedo","txd"],["application/vnd.geogebra.file","ggb"],["application/vnd.geogebra.tool","ggt"],["application/vnd.geometry-explorer","gex"],["application/vnd.geonext","gxt"],["application/vnd.geoplan","g2w"],["application/vnd.geospace","g3w"],["application/vnd.gmx","gmx"],["application/vnd.google-earth.kml+xml","kml"],["application/vnd.google-earth.kmz","kmz"],["application/vnd.grafeq","gqf"],["application/vnd.groove-account","gac"],["application/vnd.groove-help","ghf"],["application/vnd.groove-identity-message","gim"],["application/vnd.groove-injector","grv"],["application/vnd.groove-tool-message","gtm"],["application/vnd.groove-tool-template","tpl"],["application/vnd.groove-vcard","vcg"],["application/vnd.hal+xml","hal"],["application/vnd.handheld-entertainment+xml","zmm"],["application/vnd.hbci","hbci"],["application/vnd.hhe.lesson-player","les"],["application/vnd.hp-hpgl",["hgl","hpg","hpgl"]],["application/vnd.hp-hpid","hpid"],["application/vnd.hp-hps","hps"],["application/vnd.hp-jlyt","jlt"],["application/vnd.hp-pcl","pcl"],["application/vnd.hp-pclxl","pclxl"],["application/vnd.hydrostatix.sof-data","sfd-hdstx"],["application/vnd.hzn-3d-crossword","x3d"],["application/vnd.ibm.minipay","mpy"],["application/vnd.ibm.modcap","afp"],["application/vnd.ibm.rights-management","irm"],["application/vnd.ibm.secure-container","sc"],["application/vnd.iccprofile","icc"],["application/vnd.igloader","igl"],["application/vnd.immervision-ivp","ivp"],["application/vnd.immervision-ivu","ivu"],["application/vnd.insors.igm","igm"],["application/vnd.intercon.formnet","xpw"],["application/vnd.intergeo","i2g"],["application/vnd.intu.qbo","qbo"],["application/vnd.intu.qfx","qfx"],["application/vnd.ipunplugged.rcprofile","rcprofile"],["application/vnd.irepository.package+xml","irp"],["application/vnd.is-xpr","xpr"],["application/vnd.isac.fcs","fcs"],["application/vnd.jam","jam"],["application/vnd.jcp.javame.midlet-rms","rms"],["application/vnd.jisp","jisp"],["application/vnd.joost.joda-archive","joda"],["application/vnd.kahootz","ktz"],["application/vnd.kde.karbon","karbon"],["application/vnd.kde.kchart","chrt"],["application/vnd.kde.kformula","kfo"],["application/vnd.kde.kivio","flw"],["application/vnd.kde.kontour","kon"],["application/vnd.kde.kpresenter","kpr"],["application/vnd.kde.kspread","ksp"],["application/vnd.kde.kword","kwd"],["application/vnd.kenameaapp","htke"],["application/vnd.kidspiration","kia"],["application/vnd.kinar","kne"],["application/vnd.koan","skp"],["application/vnd.kodak-descriptor","sse"],["application/vnd.las.las+xml","lasxml"],["application/vnd.llamagraphics.life-balance.desktop","lbd"],["application/vnd.llamagraphics.life-balance.exchange+xml","lbe"],["application/vnd.lotus-1-2-3","123"],["application/vnd.lotus-approach","apr"],["application/vnd.lotus-freelance","pre"],["application/vnd.lotus-notes","nsf"],["application/vnd.lotus-organizer","org"],["application/vnd.lotus-screencam","scm"],["application/vnd.lotus-wordpro","lwp"],["application/vnd.macports.portpkg","portpkg"],["application/vnd.mcd","mcd"],["application/vnd.medcalcdata","mc1"],["application/vnd.mediastation.cdkey","cdkey"],["application/vnd.mfer","mwf"],["application/vnd.mfmp","mfm"],["application/vnd.micrografx.flo","flo"],["application/vnd.micrografx.igx","igx"],["application/vnd.mif","mif"],["application/vnd.mobius.daf","daf"],["application/vnd.mobius.dis","dis"],["application/vnd.mobius.mbk","mbk"],["application/vnd.mobius.mqy","mqy"],["application/vnd.mobius.msl","msl"],["application/vnd.mobius.plc","plc"],["application/vnd.mobius.txf","txf"],["application/vnd.mophun.application","mpn"],["application/vnd.mophun.certificate","mpc"],["application/vnd.mozilla.xul+xml","xul"],["application/vnd.ms-artgalry","cil"],["application/vnd.ms-cab-compressed","cab"],["application/vnd.ms-excel",["xls","xla","xlc","xlm","xlt","xlw","xlb","xll"]],["application/vnd.ms-excel.addin.macroenabled.12","xlam"],["application/vnd.ms-excel.sheet.binary.macroenabled.12","xlsb"],["application/vnd.ms-excel.sheet.macroenabled.12","xlsm"],["application/vnd.ms-excel.template.macroenabled.12","xltm"],["application/vnd.ms-fontobject","eot"],["application/vnd.ms-htmlhelp","chm"],["application/vnd.ms-ims","ims"],["application/vnd.ms-lrm","lrm"],["application/vnd.ms-officetheme","thmx"],["application/vnd.ms-outlook","msg"],["application/vnd.ms-pki.certstore","sst"],["application/vnd.ms-pki.pko","pko"],["application/vnd.ms-pki.seccat","cat"],["application/vnd.ms-pki.stl","stl"],["application/vnd.ms-pkicertstore","sst"],["application/vnd.ms-pkiseccat","cat"],["application/vnd.ms-pkistl","stl"],["application/vnd.ms-powerpoint",["ppt","pot","pps","ppa","pwz"]],["application/vnd.ms-powerpoint.addin.macroenabled.12","ppam"],["application/vnd.ms-powerpoint.presentation.macroenabled.12","pptm"],["application/vnd.ms-powerpoint.slide.macroenabled.12","sldm"],["application/vnd.ms-powerpoint.slideshow.macroenabled.12","ppsm"],["application/vnd.ms-powerpoint.template.macroenabled.12","potm"],["application/vnd.ms-project","mpp"],["application/vnd.ms-word.document.macroenabled.12","docm"],["application/vnd.ms-word.template.macroenabled.12","dotm"],["application/vnd.ms-works",["wks","wcm","wdb","wps"]],["application/vnd.ms-wpl","wpl"],["application/vnd.ms-xpsdocument","xps"],["application/vnd.mseq","mseq"],["application/vnd.musician","mus"],["application/vnd.muvee.style","msty"],["application/vnd.neurolanguage.nlu","nlu"],["application/vnd.noblenet-directory","nnd"],["application/vnd.noblenet-sealer","nns"],["application/vnd.noblenet-web","nnw"],["application/vnd.nokia.configuration-message","ncm"],["application/vnd.nokia.n-gage.data","ngdat"],["application/vnd.nokia.n-gage.symbian.install","n-gage"],["application/vnd.nokia.radio-preset","rpst"],["application/vnd.nokia.radio-presets","rpss"],["application/vnd.nokia.ringing-tone","rng"],["application/vnd.novadigm.edm","edm"],["application/vnd.novadigm.edx","edx"],["application/vnd.novadigm.ext","ext"],["application/vnd.oasis.opendocument.chart","odc"],["application/vnd.oasis.opendocument.chart-template","otc"],["application/vnd.oasis.opendocument.database","odb"],["application/vnd.oasis.opendocument.formula","odf"],["application/vnd.oasis.opendocument.formula-template","odft"],["application/vnd.oasis.opendocument.graphics","odg"],["application/vnd.oasis.opendocument.graphics-template","otg"],["application/vnd.oasis.opendocument.image","odi"],["application/vnd.oasis.opendocument.image-template","oti"],["application/vnd.oasis.opendocument.presentation","odp"],["application/vnd.oasis.opendocument.presentation-template","otp"],["application/vnd.oasis.opendocument.spreadsheet","ods"],["application/vnd.oasis.opendocument.spreadsheet-template","ots"],["application/vnd.oasis.opendocument.text","odt"],["application/vnd.oasis.opendocument.text-master","odm"],["application/vnd.oasis.opendocument.text-template","ott"],["application/vnd.oasis.opendocument.text-web","oth"],["application/vnd.olpc-sugar","xo"],["application/vnd.oma.dd2+xml","dd2"],["application/vnd.openofficeorg.extension","oxt"],["application/vnd.openxmlformats-officedocument.presentationml.presentation","pptx"],["application/vnd.openxmlformats-officedocument.presentationml.slide","sldx"],["application/vnd.openxmlformats-officedocument.presentationml.slideshow","ppsx"],["application/vnd.openxmlformats-officedocument.presentationml.template","potx"],["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","xlsx"],["application/vnd.openxmlformats-officedocument.spreadsheetml.template","xltx"],["application/vnd.openxmlformats-officedocument.wordprocessingml.document","docx"],["application/vnd.openxmlformats-officedocument.wordprocessingml.template","dotx"],["application/vnd.osgeo.mapguide.package","mgp"],["application/vnd.osgi.dp","dp"],["application/vnd.palm","pdb"],["application/vnd.pawaafile","paw"],["application/vnd.pg.format","str"],["application/vnd.pg.osasli","ei6"],["application/vnd.picsel","efif"],["application/vnd.pmi.widget","wg"],["application/vnd.pocketlearn","plf"],["application/vnd.powerbuilder6","pbd"],["application/vnd.previewsystems.box","box"],["application/vnd.proteus.magazine","mgz"],["application/vnd.publishare-delta-tree","qps"],["application/vnd.pvi.ptid1","ptid"],["application/vnd.quark.quarkxpress","qxd"],["application/vnd.realvnc.bed","bed"],["application/vnd.recordare.musicxml","mxl"],["application/vnd.recordare.musicxml+xml","musicxml"],["application/vnd.rig.cryptonote","cryptonote"],["application/vnd.rim.cod","cod"],["application/vnd.rn-realmedia","rm"],["application/vnd.rn-realplayer","rnx"],["application/vnd.route66.link66+xml","link66"],["application/vnd.sailingtracker.track","st"],["application/vnd.seemail","see"],["application/vnd.sema","sema"],["application/vnd.semd","semd"],["application/vnd.semf","semf"],["application/vnd.shana.informed.formdata","ifm"],["application/vnd.shana.informed.formtemplate","itp"],["application/vnd.shana.informed.interchange","iif"],["application/vnd.shana.informed.package","ipk"],["application/vnd.simtech-mindmapper","twd"],["application/vnd.smaf","mmf"],["application/vnd.smart.teacher","teacher"],["application/vnd.solent.sdkm+xml","sdkm"],["application/vnd.spotfire.dxp","dxp"],["application/vnd.spotfire.sfs","sfs"],["application/vnd.stardivision.calc","sdc"],["application/vnd.stardivision.draw","sda"],["application/vnd.stardivision.impress","sdd"],["application/vnd.stardivision.math","smf"],["application/vnd.stardivision.writer","sdw"],["application/vnd.stardivision.writer-global","sgl"],["application/vnd.stepmania.stepchart","sm"],["application/vnd.sun.xml.calc","sxc"],["application/vnd.sun.xml.calc.template","stc"],["application/vnd.sun.xml.draw","sxd"],["application/vnd.sun.xml.draw.template","std"],["application/vnd.sun.xml.impress","sxi"],["application/vnd.sun.xml.impress.template","sti"],["application/vnd.sun.xml.math","sxm"],["application/vnd.sun.xml.writer","sxw"],["application/vnd.sun.xml.writer.global","sxg"],["application/vnd.sun.xml.writer.template","stw"],["application/vnd.sus-calendar","sus"],["application/vnd.svd","svd"],["application/vnd.symbian.install","sis"],["application/vnd.syncml+xml","xsm"],["application/vnd.syncml.dm+wbxml","bdm"],["application/vnd.syncml.dm+xml","xdm"],["application/vnd.tao.intent-module-archive","tao"],["application/vnd.tmobile-livetv","tmo"],["application/vnd.trid.tpt","tpt"],["application/vnd.triscape.mxs","mxs"],["application/vnd.trueapp","tra"],["application/vnd.ufdl","ufd"],["application/vnd.uiq.theme","utz"],["application/vnd.umajin","umj"],["application/vnd.unity","unityweb"],["application/vnd.uoml+xml","uoml"],["application/vnd.vcx","vcx"],["application/vnd.visio","vsd"],["application/vnd.visionary","vis"],["application/vnd.vsf","vsf"],["application/vnd.wap.wbxml","wbxml"],["application/vnd.wap.wmlc","wmlc"],["application/vnd.wap.wmlscriptc","wmlsc"],["application/vnd.webturbo","wtb"],["application/vnd.wolfram.player","nbp"],["application/vnd.wordperfect","wpd"],["application/vnd.wqd","wqd"],["application/vnd.wt.stf","stf"],["application/vnd.xara",["web","xar"]],["application/vnd.xfdl","xfdl"],["application/vnd.yamaha.hv-dic","hvd"],["application/vnd.yamaha.hv-script","hvs"],["application/vnd.yamaha.hv-voice","hvp"],["application/vnd.yamaha.openscoreformat","osf"],["application/vnd.yamaha.openscoreformat.osfpvg+xml","osfpvg"],["application/vnd.yamaha.smaf-audio","saf"],["application/vnd.yamaha.smaf-phrase","spf"],["application/vnd.yellowriver-custom-menu","cmp"],["application/vnd.zul","zir"],["application/vnd.zzazz.deck+xml","zaz"],["application/vocaltec-media-desc","vmd"],["application/vocaltec-media-file","vmf"],["application/voicexml+xml","vxml"],["application/widget","wgt"],["application/winhlp","hlp"],["application/wordperfect",["wp","wp5","wp6","wpd"]],["application/wordperfect6.0",["w60","wp5"]],["application/wordperfect6.1","w61"],["application/wsdl+xml","wsdl"],["application/wspolicy+xml","wspolicy"],["application/x-123","wk1"],["application/x-7z-compressed","7z"],["application/x-abiword","abw"],["application/x-ace-compressed","ace"],["application/x-aim","aim"],["application/x-authorware-bin","aab"],["application/x-authorware-map","aam"],["application/x-authorware-seg","aas"],["application/x-bcpio","bcpio"],["application/x-binary","bin"],["application/x-binhex40","hqx"],["application/x-bittorrent","torrent"],["application/x-bsh",["bsh","sh","shar"]],["application/x-bytecode.elisp","elc"],["application/x-bytecode.python","pyc"],["application/x-bzip","bz"],["application/x-bzip2",["boz","bz2"]],["application/x-cdf","cdf"],["application/x-cdlink","vcd"],["application/x-chat",["cha","chat"]],["application/x-chess-pgn","pgn"],["application/x-cmu-raster","ras"],["application/x-cocoa","cco"],["application/x-compactpro","cpt"],["application/x-compress","z"],["application/x-compressed",["tgz","gz","z","zip"]],["application/x-conference","nsc"],["application/x-cpio","cpio"],["application/x-cpt","cpt"],["application/x-csh","csh"],["application/x-debian-package","deb"],["application/x-deepv","deepv"],["application/x-director",["dir","dcr","dxr"]],["application/x-doom","wad"],["application/x-dtbncx+xml","ncx"],["application/x-dtbook+xml","dtb"],["application/x-dtbresource+xml","res"],["application/x-dvi","dvi"],["application/x-elc","elc"],["application/x-envoy",["env","evy"]],["application/x-esrehber","es"],["application/x-excel",["xls","xla","xlb","xlc","xld","xlk","xll","xlm","xlt","xlv","xlw"]],["application/x-font-bdf","bdf"],["application/x-font-ghostscript","gsf"],["application/x-font-linux-psf","psf"],["application/x-font-otf","otf"],["application/x-font-pcf","pcf"],["application/x-font-snf","snf"],["application/x-font-ttf","ttf"],["application/x-font-type1","pfa"],["application/x-font-woff","woff"],["application/x-frame","mif"],["application/x-freelance","pre"],["application/x-futuresplash","spl"],["application/x-gnumeric","gnumeric"],["application/x-gsp","gsp"],["application/x-gss","gss"],["application/x-gtar","gtar"],["application/x-gzip",["gz","gzip"]],["application/x-hdf","hdf"],["application/x-helpfile",["help","hlp"]],["application/x-httpd-imap","imap"],["application/x-ima","ima"],["application/x-internet-signup",["ins","isp"]],["application/x-internett-signup","ins"],["application/x-inventor","iv"],["application/x-ip2","ip"],["application/x-iphone","iii"],["application/x-java-class","class"],["application/x-java-commerce","jcm"],["application/x-java-jnlp-file","jnlp"],["application/x-javascript","js"],["application/x-koan",["skd","skm","skp","skt"]],["application/x-ksh","ksh"],["application/x-latex",["latex","ltx"]],["application/x-lha","lha"],["application/x-lisp","lsp"],["application/x-livescreen","ivy"],["application/x-lotus","wq1"],["application/x-lotusscreencam","scm"],["application/x-lzh","lzh"],["application/x-lzx","lzx"],["application/x-mac-binhex40","hqx"],["application/x-macbinary","bin"],["application/x-magic-cap-package-1.0","mc$"],["application/x-mathcad","mcd"],["application/x-meme","mm"],["application/x-midi",["mid","midi"]],["application/x-mif","mif"],["application/x-mix-transfer","nix"],["application/x-mobipocket-ebook","prc"],["application/x-mplayer2","asx"],["application/x-ms-application","application"],["application/x-ms-wmd","wmd"],["application/x-ms-wmz","wmz"],["application/x-ms-xbap","xbap"],["application/x-msaccess","mdb"],["application/x-msbinder","obd"],["application/x-mscardfile","crd"],["application/x-msclip","clp"],["application/x-msdownload",["exe","dll"]],["application/x-msexcel",["xls","xla","xlw"]],["application/x-msmediaview",["mvb","m13","m14"]],["application/x-msmetafile","wmf"],["application/x-msmoney","mny"],["application/x-mspowerpoint","ppt"],["application/x-mspublisher","pub"],["application/x-msschedule","scd"],["application/x-msterminal","trm"],["application/x-mswrite","wri"],["application/x-navi-animation","ani"],["application/x-navidoc","nvd"],["application/x-navimap","map"],["application/x-navistyle","stl"],["application/x-netcdf",["cdf","nc"]],["application/x-newton-compatible-pkg","pkg"],["application/x-nokia-9000-communicator-add-on-software","aos"],["application/x-omc","omc"],["application/x-omcdatamaker","omcd"],["application/x-omcregerator","omcr"],["application/x-pagemaker",["pm4","pm5"]],["application/x-pcl","pcl"],["application/x-perfmon",["pma","pmc","pml","pmr","pmw"]],["application/x-pixclscript","plx"],["application/x-pkcs10","p10"],["application/x-pkcs12",["p12","pfx"]],["application/x-pkcs7-certificates",["p7b","spc"]],["application/x-pkcs7-certreqresp","p7r"],["application/x-pkcs7-mime",["p7m","p7c"]],["application/x-pkcs7-signature",["p7s","p7a"]],["application/x-pointplus","css"],["application/x-portable-anymap","pnm"],["application/x-project",["mpc","mpt","mpv","mpx"]],["application/x-qpro","wb1"],["application/x-rar-compressed","rar"],["application/x-rtf","rtf"],["application/x-sdp","sdp"],["application/x-sea","sea"],["application/x-seelogo","sl"],["application/x-sh","sh"],["application/x-shar",["shar","sh"]],["application/x-shockwave-flash","swf"],["application/x-silverlight-app","xap"],["application/x-sit","sit"],["application/x-sprite",["spr","sprite"]],["application/x-stuffit","sit"],["application/x-stuffitx","sitx"],["application/x-sv4cpio","sv4cpio"],["application/x-sv4crc","sv4crc"],["application/x-tar","tar"],["application/x-tbook",["sbk","tbk"]],["application/x-tcl","tcl"],["application/x-tex","tex"],["application/x-tex-tfm","tfm"],["application/x-texinfo",["texi","texinfo"]],["application/x-troff",["roff","t","tr"]],["application/x-troff-man","man"],["application/x-troff-me","me"],["application/x-troff-ms","ms"],["application/x-troff-msvideo","avi"],["application/x-ustar","ustar"],["application/x-visio",["vsd","vst","vsw"]],["application/x-vnd.audioexplosion.mzz","mzz"],["application/x-vnd.ls-xpix","xpix"],["application/x-vrml","vrml"],["application/x-wais-source",["src","wsrc"]],["application/x-winhelp","hlp"],["application/x-wintalk","wtk"],["application/x-world",["wrl","svr"]],["application/x-wpwin","wpd"],["application/x-wri","wri"],["application/x-x509-ca-cert",["cer","crt","der"]],["application/x-x509-user-cert","crt"],["application/x-xfig","fig"],["application/x-xpinstall","xpi"],["application/x-zip-compressed","zip"],["application/xcap-diff+xml","xdf"],["application/xenc+xml","xenc"],["application/xhtml+xml","xhtml"],["application/xml","xml"],["application/xml-dtd","dtd"],["application/xop+xml","xop"],["application/xslt+xml","xslt"],["application/xspf+xml","xspf"],["application/xv+xml","mxml"],["application/yang","yang"],["application/yin+xml","yin"],["application/ynd.ms-pkipko","pko"],["application/zip","zip"],["audio/adpcm","adp"],["audio/aiff",["aiff","aif","aifc"]],["audio/basic",["snd","au"]],["audio/it","it"],["audio/make",["funk","my","pfunk"]],["audio/make.my.funk","pfunk"],["audio/mid",["mid","rmi"]],["audio/midi",["midi","kar","mid"]],["audio/mod","mod"],["audio/mp4","mp4a"],["audio/mpeg",["mpga","mp3","m2a","mp2","mpa","mpg"]],["audio/mpeg3","mp3"],["audio/nspaudio",["la","lma"]],["audio/ogg","oga"],["audio/s3m","s3m"],["audio/tsp-audio","tsi"],["audio/tsplayer","tsp"],["audio/vnd.dece.audio","uva"],["audio/vnd.digital-winds","eol"],["audio/vnd.dra","dra"],["audio/vnd.dts","dts"],["audio/vnd.dts.hd","dtshd"],["audio/vnd.lucent.voice","lvp"],["audio/vnd.ms-playready.media.pya","pya"],["audio/vnd.nuera.ecelp4800","ecelp4800"],["audio/vnd.nuera.ecelp7470","ecelp7470"],["audio/vnd.nuera.ecelp9600","ecelp9600"],["audio/vnd.qcelp","qcp"],["audio/vnd.rip","rip"],["audio/voc","voc"],["audio/voxware","vox"],["audio/wav","wav"],["audio/webm","weba"],["audio/x-aac","aac"],["audio/x-adpcm","snd"],["audio/x-aiff",["aiff","aif","aifc"]],["audio/x-au","au"],["audio/x-gsm",["gsd","gsm"]],["audio/x-jam","jam"],["audio/x-liveaudio","lam"],["audio/x-mid",["mid","midi"]],["audio/x-midi",["midi","mid"]],["audio/x-mod","mod"],["audio/x-mpeg","mp2"],["audio/x-mpeg-3","mp3"],["audio/x-mpegurl","m3u"],["audio/x-mpequrl","m3u"],["audio/x-ms-wax","wax"],["audio/x-ms-wma","wma"],["audio/x-nspaudio",["la","lma"]],["audio/x-pn-realaudio",["ra","ram","rm","rmm","rmp"]],["audio/x-pn-realaudio-plugin",["ra","rmp","rpm"]],["audio/x-psid","sid"],["audio/x-realaudio","ra"],["audio/x-twinvq","vqf"],["audio/x-twinvq-plugin",["vqe","vql"]],["audio/x-vnd.audioexplosion.mjuicemediafile","mjf"],["audio/x-voc","voc"],["audio/x-wav","wav"],["audio/xm","xm"],["chemical/x-cdx","cdx"],["chemical/x-cif","cif"],["chemical/x-cmdf","cmdf"],["chemical/x-cml","cml"],["chemical/x-csml","csml"],["chemical/x-pdb",["pdb","xyz"]],["chemical/x-xyz","xyz"],["drawing/x-dwf","dwf"],["i-world/i-vrml","ivr"],["image/bmp",["bmp","bm"]],["image/cgm","cgm"],["image/cis-cod","cod"],["image/cmu-raster",["ras","rast"]],["image/fif","fif"],["image/florian",["flo","turbot"]],["image/g3fax","g3"],["image/gif","gif"],["image/ief",["ief","iefs"]],["image/jpeg",["jpeg","jpe","jpg","jfif","jfif-tbnl"]],["image/jutvision","jut"],["image/ktx","ktx"],["image/naplps",["nap","naplps"]],["image/pict",["pic","pict"]],["image/pipeg","jfif"],["image/pjpeg",["jfif","jpe","jpeg","jpg"]],["image/png",["png","x-png"]],["image/prs.btif","btif"],["image/svg+xml","svg"],["image/tiff",["tif","tiff"]],["image/vasa","mcf"],["image/vnd.adobe.photoshop","psd"],["image/vnd.dece.graphic","uvi"],["image/vnd.djvu","djvu"],["image/vnd.dvb.subtitle","sub"],["image/vnd.dwg",["dwg","dxf","svf"]],["image/vnd.dxf","dxf"],["image/vnd.fastbidsheet","fbs"],["image/vnd.fpx","fpx"],["image/vnd.fst","fst"],["image/vnd.fujixerox.edmics-mmr","mmr"],["image/vnd.fujixerox.edmics-rlc","rlc"],["image/vnd.ms-modi","mdi"],["image/vnd.net-fpx",["fpx","npx"]],["image/vnd.rn-realflash","rf"],["image/vnd.rn-realpix","rp"],["image/vnd.wap.wbmp","wbmp"],["image/vnd.xiff","xif"],["image/webp","webp"],["image/x-cmu-raster","ras"],["image/x-cmx","cmx"],["image/x-dwg",["dwg","dxf","svf"]],["image/x-freehand","fh"],["image/x-icon","ico"],["image/x-jg","art"],["image/x-jps","jps"],["image/x-niff",["niff","nif"]],["image/x-pcx","pcx"],["image/x-pict",["pct","pic"]],["image/x-portable-anymap","pnm"],["image/x-portable-bitmap","pbm"],["image/x-portable-graymap","pgm"],["image/x-portable-greymap","pgm"],["image/x-portable-pixmap","ppm"],["image/x-quicktime",["qif","qti","qtif"]],["image/x-rgb","rgb"],["image/x-tiff",["tif","tiff"]],["image/x-windows-bmp","bmp"],["image/x-xbitmap","xbm"],["image/x-xbm","xbm"],["image/x-xpixmap",["xpm","pm"]],["image/x-xwd","xwd"],["image/x-xwindowdump","xwd"],["image/xbm","xbm"],["image/xpm","xpm"],["message/rfc822",["eml","mht","mhtml","nws","mime"]],["model/iges",["iges","igs"]],["model/mesh","msh"],["model/vnd.collada+xml","dae"],["model/vnd.dwf","dwf"],["model/vnd.gdl","gdl"],["model/vnd.gtw","gtw"],["model/vnd.mts","mts"],["model/vnd.vtu","vtu"],["model/vrml",["vrml","wrl","wrz"]],["model/x-pov","pov"],["multipart/x-gzip","gzip"],["multipart/x-ustar","ustar"],["multipart/x-zip","zip"],["music/crescendo",["mid","midi"]],["music/x-karaoke","kar"],["paleovu/x-pv","pvu"],["text/asp","asp"],["text/calendar","ics"],["text/css","css"],["text/csv","csv"],["text/ecmascript","js"],["text/h323","323"],["text/html",["html","htm","stm","acgi","htmls","htx","shtml"]],["text/iuls","uls"],["text/javascript","js"],["text/mcf","mcf"],["text/n3","n3"],["text/pascal","pas"],["text/plain",["txt","bas","c","h","c++","cc","com","conf","cxx","def","f","f90","for","g","hh","idc","jav","java","list","log","lst","m","mar","pl","sdml","text"]],["text/plain-bas","par"],["text/prs.lines.tag","dsc"],["text/richtext",["rtx","rt","rtf"]],["text/scriplet","wsc"],["text/scriptlet","sct"],["text/sgml",["sgm","sgml"]],["text/tab-separated-values","tsv"],["text/troff","t"],["text/turtle","ttl"],["text/uri-list",["uni","unis","uri","uris"]],["text/vnd.abc","abc"],["text/vnd.curl","curl"],["text/vnd.curl.dcurl","dcurl"],["text/vnd.curl.mcurl","mcurl"],["text/vnd.curl.scurl","scurl"],["text/vnd.fly","fly"],["text/vnd.fmi.flexstor","flx"],["text/vnd.graphviz","gv"],["text/vnd.in3d.3dml","3dml"],["text/vnd.in3d.spot","spot"],["text/vnd.rn-realtext","rt"],["text/vnd.sun.j2me.app-descriptor","jad"],["text/vnd.wap.wml","wml"],["text/vnd.wap.wmlscript","wmls"],["text/webviewhtml","htt"],["text/x-asm",["asm","s"]],["text/x-audiosoft-intra","aip"],["text/x-c",["c","cc","cpp"]],["text/x-component","htc"],["text/x-fortran",["for","f","f77","f90"]],["text/x-h",["h","hh"]],["text/x-java-source",["java","jav"]],["text/x-java-source,java","java"],["text/x-la-asf","lsx"],["text/x-m","m"],["text/x-pascal","p"],["text/x-script","hlb"],["text/x-script.csh","csh"],["text/x-script.elisp","el"],["text/x-script.guile","scm"],["text/x-script.ksh","ksh"],["text/x-script.lisp","lsp"],["text/x-script.perl","pl"],["text/x-script.perl-module","pm"],["text/x-script.phyton","py"],["text/x-script.rexx","rexx"],["text/x-script.scheme","scm"],["text/x-script.sh","sh"],["text/x-script.tcl","tcl"],["text/x-script.tcsh","tcsh"],["text/x-script.zsh","zsh"],["text/x-server-parsed-html",["shtml","ssi"]],["text/x-setext","etx"],["text/x-sgml",["sgm","sgml"]],["text/x-speech",["spc","talk"]],["text/x-uil","uil"],["text/x-uuencode",["uu","uue"]],["text/x-vcalendar","vcs"],["text/x-vcard","vcf"],["text/xml","xml"],["video/3gpp","3gp"],["video/3gpp2","3g2"],["video/animaflex","afl"],["video/avi","avi"],["video/avs-video","avs"],["video/dl","dl"],["video/fli","fli"],["video/gl","gl"],["video/h261","h261"],["video/h263","h263"],["video/h264","h264"],["video/jpeg","jpgv"],["video/jpm","jpm"],["video/mj2","mj2"],["video/mp4","mp4"],["video/mpeg",["mpeg","mp2","mpa","mpe","mpg","mpv2","m1v","m2v","mp3"]],["video/msvideo","avi"],["video/ogg","ogv"],["video/quicktime",["mov","qt","moov"]],["video/vdo","vdo"],["video/vivo",["viv","vivo"]],["video/vnd.dece.hd","uvh"],["video/vnd.dece.mobile","uvm"],["video/vnd.dece.pd","uvp"],["video/vnd.dece.sd","uvs"],["video/vnd.dece.video","uvv"],["video/vnd.fvt","fvt"],["video/vnd.mpegurl","mxu"],["video/vnd.ms-playready.media.pyv","pyv"],["video/vnd.rn-realvideo","rv"],["video/vnd.uvvu.mp4","uvu"],["video/vnd.vivo",["viv","vivo"]],["video/vosaic","vos"],["video/webm","webm"],["video/x-amt-demorun","xdr"],["video/x-amt-showrun","xsr"],["video/x-atomic3d-feature","fmf"],["video/x-dl","dl"],["video/x-dv",["dif","dv"]],["video/x-f4v","f4v"],["video/x-fli","fli"],["video/x-flv","flv"],["video/x-gl","gl"],["video/x-isvideo","isu"],["video/x-la-asf",["lsf","lsx"]],["video/x-m4v","m4v"],["video/x-motion-jpeg","mjpg"],["video/x-mpeg",["mp3","mp2"]],["video/x-mpeq2a","mp2"],["video/x-ms-asf",["asf","asr","asx"]],["video/x-ms-asf-plugin","asx"],["video/x-ms-wm","wm"],["video/x-ms-wmv","wmv"],["video/x-ms-wmx","wmx"],["video/x-ms-wvx","wvx"],["video/x-msvideo","avi"],["video/x-qtc","qtc"],["video/x-scm","scm"],["video/x-sgi-movie",["movie","mv"]],["windows/metafile","wmf"],["www/mime","mime"],["x-conference/x-cooltalk","ice"],["x-music/x-midi",["mid","midi"]],["x-world/x-3dmf",["3dm","3dmf","qd3","qd3d"]],["x-world/x-svr","svr"],["x-world/x-vrml",["flr","vrml","wrl","wrz","xaf","xof"]],["x-world/x-vrt","vrt"],["xgl/drawing","xgz"],["xgl/movie","xmz"]]),h=new Map([["123","application/vnd.lotus-1-2-3"],["323","text/h323"],["*","application/octet-stream"],["3dm","x-world/x-3dmf"],["3dmf","x-world/x-3dmf"],["3dml","text/vnd.in3d.3dml"],["3g2","video/3gpp2"],["3gp","video/3gpp"],["7z","application/x-7z-compressed"],["a","application/octet-stream"],["aab","application/x-authorware-bin"],["aac","audio/x-aac"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abc","text/vnd.abc"],["abw","application/x-abiword"],["ac","application/pkix-attr-cert"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acgi","text/html"],["acu","application/vnd.acucobol"],["acx","application/internet-property-stream"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afl","video/animaflex"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/postscript"],["aif",["audio/aiff","audio/x-aiff"]],["aifc",["audio/aiff","audio/x-aiff"]],["aiff",["audio/aiff","audio/x-aiff"]],["aim","application/x-aim"],["aip","text/x-audiosoft-intra"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["ani","application/x-navi-animation"],["aos","application/x-nokia-9000-communicator-add-on-software"],["apk","application/vnd.android.package-archive"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["aps","application/mime"],["arc","application/octet-stream"],["arj",["application/arj","application/octet-stream"]],["art","image/x-jg"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asp","text/asp"],["asr","video/x-ms-asf"],["asx",["video/x-ms-asf","application/x-mplayer2","video/x-ms-asf-plugin"]],["atc","application/vnd.acucorp"],["atomcat","application/atomcat+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au",["audio/basic","audio/x-au"]],["avi",["video/avi","video/msvideo","application/x-troff-msvideo","video/x-msvideo"]],["avs","video/avs-video"],["aw","application/applixware"],["axs","application/olescript"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azw","application/vnd.amazon.ebook"],["bas","text/plain"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin",["application/octet-stream","application/mac-binary","application/macbinary","application/x-macbinary","application/x-binary"]],["bm","image/bmp"],["bmi","application/vnd.bmi"],["bmp",["image/bmp","image/x-windows-bmp"]],["boo","application/book"],["book","application/book"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bsh","application/x-bsh"],["btif","image/prs.btif"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c",["text/plain","text/x-c"]],["c++","text/plain"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["c4g","application/vnd.clonk.c4group"],["cab","application/vnd.ms-cab-compressed"],["car","application/vnd.curl.car"],["cat",["application/vnd.ms-pkiseccat","application/vnd.ms-pki.seccat"]],["cc",["text/plain","text/x-c"]],["ccad","application/clariscad"],["cco","application/x-cocoa"],["ccxml","application/ccxml+xml,"],["cdbcmsg","application/vnd.contact.cmsg"],["cdf",["application/cdf","application/x-cdf","application/x-netcdf"]],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer",["application/pkix-cert","application/x-x509-ca-cert"]],["cgm","image/cgm"],["cha","application/x-chat"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cla","application/vnd.claymore"],["class",["application/octet-stream","application/java","application/java-byte-code","application/java-vm","application/x-java-class"]],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod",["image/cis-cod","application/vnd.rim.cod"]],["com",["application/octet-stream","text/plain"]],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt",["application/mac-compactpro","application/x-compactpro","application/x-cpt"]],["crd","application/x-mscardfile"],["crl",["application/pkix-crl","application/pkcs-crl"]],["crt",["application/pkix-cert","application/x-x509-user-cert","application/x-x509-ca-cert"]],["cryptonote","application/vnd.rig.cryptonote"],["csh",["text/x-script.csh","application/x-csh"]],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["css",["text/css","application/x-pointplus"]],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxx","text/plain"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["davmount","application/davmount+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["deb","application/x-debian-package"],["deepv","application/x-deepv"],["def","text/plain"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dif","video/x-dv"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["djvu","image/vnd.djvu"],["dl",["video/dl","video/x-dl"]],["dll","application/x-msdownload"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.document.macroenabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroenabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp",["application/commonground","application/vnd.osgi.dp"]],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drw","application/drafting"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dv","video/x-dv"],["dvi","application/x-dvi"],["dwf",["model/vnd.dwf","drawing/x-dwf"]],["dwg",["application/acad","image/vnd.dwg","image/x-dwg"]],["dxf",["application/dxf","image/vnd.dwg","image/vnd.dxf","image/x-dwg"]],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["el","text/x-script.elisp"],["elc",["application/x-elc","application/x-bytecode.elisp"]],["eml","message/rfc822"],["emma","application/emma+xml"],["env","application/x-envoy"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es",["application/ecmascript","application/x-esrehber"]],["es3","application/vnd.eszigno3+xml"],["esf","application/vnd.epson.esf"],["etx","text/x-setext"],["evy",["application/envoy","application/x-envoy"]],["exe",["application/octet-stream","application/x-msdownload"]],["exi","application/exi"],["ext","application/vnd.novadigm.ext"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f",["text/plain","text/x-fortran"]],["f4v","video/x-f4v"],["f77","text/x-fortran"],["f90",["text/plain","text/x-fortran"]],["fbs","image/vnd.fastbidsheet"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fh","image/x-freehand"],["fif",["application/fractals","image/fif"]],["fig","application/x-xfig"],["fli",["video/fli","video/x-fli"]],["flo",["image/florian","application/vnd.micrografx.flo"]],["flr","x-world/x-vrml"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fmf","video/x-atomic3d-feature"],["fnc","application/vnd.frogans.fnc"],["for",["text/plain","text/x-fortran"]],["fpx",["image/vnd.fpx","image/vnd.net-fpx"]],["frl","application/freeloader"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["funk","audio/make"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g","text/plain"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gdl","model/vnd.gdl"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["gl",["video/gl","video/x-gl"]],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gph","application/vnd.flographit"],["gqf","application/vnd.grafeq"],["gram","application/srgs"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsd","audio/x-gsm"],["gsf","application/x-font-ghostscript"],["gsm","audio/x-gsm"],["gsp","application/x-gsp"],["gss","application/x-gss"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxt","application/vnd.geonext"],["gz",["application/x-gzip","application/x-compressed"]],["gzip",["multipart/x-gzip","application/x-gzip"]],["h",["text/plain","text/x-h"]],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hdf","application/x-hdf"],["help","application/x-helpfile"],["hgl","application/vnd.hp-hpgl"],["hh",["text/plain","text/x-h"]],["hlb","text/x-script"],["hlp",["application/winhlp","application/hlp","application/x-helpfile","application/x-winhelp"]],["hpg","application/vnd.hp-hpgl"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx",["application/mac-binhex40","application/binhex","application/binhex4","application/mac-binhex","application/x-binhex40","application/x-mac-binhex40"]],["hta","application/hta"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["htmls","text/html"],["htt","text/webviewhtml"],["htx","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["ico","image/x-icon"],["ics","text/calendar"],["idc","text/plain"],["ief","image/ief"],["iefs","image/ief"],["ifm","application/vnd.shana.informed.formdata"],["iges",["application/iges","model/iges"]],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs",["application/iges","model/iges"]],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["iii","application/x-iphone"],["ima","application/x-ima"],["imap","application/x-httpd-imap"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["inf","application/inf"],["ins",["application/x-internet-signup","application/x-internett-signup"]],["ip","application/x-ip2"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["isp","application/x-internet-signup"],["isu","video/x-isvideo"],["it","audio/it"],["itp","application/vnd.shana.informed.formtemplate"],["iv","application/x-inventor"],["ivp","application/vnd.immervision-ivp"],["ivr","i-world/i-vrml"],["ivu","application/vnd.immervision-ivu"],["ivy","application/x-livescreen"],["jad","text/vnd.sun.j2me.app-descriptor"],["jam",["application/vnd.jam","audio/x-jam"]],["jar","application/java-archive"],["jav",["text/plain","text/x-java-source"]],["java",["text/plain","text/x-java-source,java","text/x-java-source"]],["jcm","application/x-java-commerce"],["jfif",["image/pipeg","image/jpeg","image/pjpeg"]],["jfif-tbnl","image/jpeg"],["jisp","application/vnd.jisp"],["jlt","application/vnd.hp-jlyt"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jpe",["image/jpeg","image/pjpeg"]],["jpeg",["image/jpeg","image/pjpeg"]],["jpg",["image/jpeg","image/pjpeg"]],["jpgv","video/jpeg"],["jpm","video/jpm"],["jps","image/x-jps"],["js",["application/javascript","application/ecmascript","text/javascript","text/ecmascript","application/x-javascript"]],["json","application/json"],["jut","image/jutvision"],["kar",["audio/midi","music/x-karaoke"]],["karbon","application/vnd.kde.karbon"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["ksh",["application/x-ksh","text/x-script.ksh"]],["ksp","application/vnd.kde.kspread"],["ktx","image/ktx"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["la",["audio/nspaudio","audio/x-nspaudio"]],["lam","audio/x-liveaudio"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["lha",["application/octet-stream","application/lha","application/x-lha"]],["lhx","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["lma",["audio/nspaudio","audio/x-nspaudio"]],["log","text/plain"],["lrm","application/vnd.ms-lrm"],["lsf","video/x-la-asf"],["lsp",["application/x-lisp","text/x-script.lisp"]],["lst","text/plain"],["lsx",["video/x-la-asf","text/x-la-asf"]],["ltf","application/vnd.frogans.ltf"],["ltx","application/x-latex"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh",["application/octet-stream","application/x-lzh"]],["lzx",["application/lzx","application/octet-stream","application/x-lzx"]],["m",["text/plain","text/x-m"]],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m1v","video/mpeg"],["m21","application/mp21"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3u",["audio/x-mpegurl","audio/x-mpequrl"]],["m3u8","application/vnd.apple.mpegurl"],["m4v","video/x-m4v"],["ma","application/mathematica"],["mads","application/mads+xml"],["mag","application/vnd.ecowin.chart"],["man","application/x-troff-man"],["map","application/x-navimap"],["mar","text/plain"],["mathml","application/mathml+xml"],["mbd","application/mbedlet"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc$","application/x-magic-cap-package-1.0"],["mc1","application/vnd.medcalcdata"],["mcd",["application/mcad","application/vnd.mcd","application/x-mathcad"]],["mcf",["image/vasa","text/mcf"]],["mcp","application/netmc"],["mcurl","text/vnd.curl.mcurl"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["me","application/x-troff-me"],["meta4","application/metalink4+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mht","message/rfc822"],["mhtml","message/rfc822"],["mid",["audio/mid","audio/midi","music/crescendo","x-music/x-midi","audio/x-midi","application/x-midi","audio/x-mid"]],["midi",["audio/midi","music/crescendo","x-music/x-midi","audio/x-midi","application/x-midi","audio/x-mid"]],["mif",["application/vnd.mif","application/x-mif","application/x-frame"]],["mime",["message/rfc822","www/mime"]],["mj2","video/mj2"],["mjf","audio/x-vnd.audioexplosion.mjuicemediafile"],["mjpg","video/x-motion-jpeg"],["mlp","application/vnd.dolby.mlp"],["mm",["application/base64","application/x-meme"]],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mme","application/base64"],["mmf","application/vnd.smaf"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mny","application/x-msmoney"],["mod",["audio/mod","audio/x-mod"]],["mods","application/mods+xml"],["moov","video/quicktime"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2",["video/mpeg","audio/mpeg","video/x-mpeg","audio/x-mpeg","video/x-mpeq2a"]],["mp3",["audio/mpeg","audio/mpeg3","video/mpeg","audio/x-mpeg-3","video/x-mpeg"]],["mp4",["video/mp4","application/mp4"]],["mp4a","audio/mp4"],["mpa",["video/mpeg","audio/mpeg"]],["mpc",["application/vnd.mophun.certificate","application/x-project"]],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg",["video/mpeg","audio/mpeg"]],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/x-project"],["mpv","application/x-project"],["mpv2","video/mpeg"],["mpx","application/x-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","application/x-troff-ms"],["mscml","application/mediaservercontrol+xml"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msl","application/vnd.mobius.msl"],["msty","application/vnd.muvee.style"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musicxml","application/vnd.recordare.musicxml+xml"],["mv","video/x-sgi-movie"],["mvb","application/x-msmediaview"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["my","audio/make"],["mzz","application/x-vnd.audioexplosion.mzz"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nap","image/naplps"],["naplps","image/naplps"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncm","application/vnd.nokia.configuration-message"],["ncx","application/x-dtbncx+xml"],["ngdat","application/vnd.nokia.n-gage.data"],["nif","image/x-niff"],["niff","image/x-niff"],["nix","application/x-mix-transfer"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nvd","application/x-navidoc"],["nws","message/rfc822"],["o","application/octet-stream"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omc","application/x-omc"],["omcd","application/x-omcdatamaker"],["omcr","application/x-omcregerator"],["onetoc","application/onenote"],["opf","application/oebps-package+xml"],["org","application/vnd.lotus-organizer"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","application/x-font-otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p10",["application/pkcs10","application/x-pkcs10"]],["p12",["application/pkcs-12","application/x-pkcs12"]],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c",["application/pkcs7-mime","application/x-pkcs7-mime"]],["p7m",["application/pkcs7-mime","application/x-pkcs7-mime"]],["p7r","application/x-pkcs7-certreqresp"],["p7s",["application/pkcs7-signature","application/x-pkcs7-signature"]],["p8","application/pkcs8"],["par","text/plain-bas"],["part","application/pro_eng"],["pas","text/pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcf","application/x-font-pcf"],["pcl",["application/vnd.hp-pcl","application/x-pcl"]],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb",["application/vnd.palm","chemical/x-pdb"]],["pdf","application/pdf"],["pfa","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfunk",["audio/make","audio/make.my.funk"]],["pfx","application/x-pkcs12"],["pgm",["image/x-portable-graymap","image/x-portable-greymap"]],["pgn","application/x-chess-pgn"],["pgp","application/pgp-signature"],["pic",["image/pict","image/x-pict"]],["pict","image/pict"],["pkg","application/x-newton-compatible-pkg"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pko",["application/ynd.ms-pkipko","application/vnd.ms-pki.pko"]],["pl",["text/plain","text/x-script.perl"]],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["plx","application/x-pixclscript"],["pm",["text/x-script.perl-module","image/x-xpixmap"]],["pm4","application/x-pagemaker"],["pm5","application/x-pagemaker"],["pma","application/x-perfmon"],["pmc","application/x-perfmon"],["pml",["application/vnd.ctc-posml","application/x-perfmon"]],["pmr","application/x-perfmon"],["pmw","application/x-perfmon"],["png","image/png"],["pnm",["application/x-portable-anymap","image/x-portable-anymap"]],["portpkg","application/vnd.macports.portpkg"],["pot",["application/vnd.ms-powerpoint","application/mspowerpoint"]],["potm","application/vnd.ms-powerpoint.template.macroenabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["pov","model/x-pov"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroenabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps",["application/vnd.ms-powerpoint","application/mspowerpoint"]],["ppsm","application/vnd.ms-powerpoint.slideshow.macroenabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt",["application/vnd.ms-powerpoint","application/mspowerpoint","application/powerpoint","application/x-mspowerpoint"]],["pptm","application/vnd.ms-powerpoint.presentation.macroenabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["ppz","application/mspowerpoint"],["prc","application/x-mobipocket-ebook"],["pre",["application/vnd.lotus-freelance","application/x-freelance"]],["prf","application/pics-rules"],["prt","application/pro_eng"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd",["application/octet-stream","image/vnd.adobe.photoshop"]],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pvu","paleovu/x-pv"],["pwn","application/vnd.3m.post-it-notes"],["pwz","application/vnd.ms-powerpoint"],["py","text/x-script.phyton"],["pya","audio/vnd.ms-playready.media.pya"],["pyc","application/x-bytecode.python"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qcp","audio/vnd.qcelp"],["qd3","x-world/x-3dmf"],["qd3d","x-world/x-3dmf"],["qfx","application/vnd.intu.qfx"],["qif","image/x-quicktime"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qtc","video/x-qtc"],["qti","image/x-quicktime"],["qtif","image/x-quicktime"],["qxd","application/vnd.quark.quarkxpress"],["ra",["audio/x-realaudio","audio/x-pn-realaudio","audio/x-pn-realaudio-plugin"]],["ram","audio/x-pn-realaudio"],["rar","application/x-rar-compressed"],["ras",["image/cmu-raster","application/x-cmu-raster","image/x-cmu-raster"]],["rast","image/cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rexx","text/x-script.rexx"],["rf","image/vnd.rn-realflash"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm",["application/vnd.rn-realmedia","audio/x-pn-realaudio"]],["rmi","audio/mid"],["rmm","audio/x-pn-realaudio"],["rmp",["audio/x-pn-realaudio-plugin","audio/x-pn-realaudio"]],["rms","application/vnd.jcp.javame.midlet-rms"],["rnc","application/relax-ng-compact-syntax"],["rng",["application/ringing-tones","application/vnd.nokia.ringing-tone"]],["rnx","application/vnd.rn-realplayer"],["roff","application/x-troff"],["rp","image/vnd.rn-realpix"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsd","application/rsd+xml"],["rt",["text/richtext","text/vnd.rn-realtext"]],["rtf",["application/rtf","text/richtext","application/x-rtf"]],["rtx",["text/richtext","application/rtf"]],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["saveme","application/octet-stream"],["sbk","application/x-tbook"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm",["application/vnd.lotus-screencam","video/x-scm","text/x-script.guile","application/x-lotusscreencam","text/x-script.scheme"]],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["sct","text/scriptlet"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkm","application/vnd.solent.sdkm+xml"],["sdml","text/plain"],["sdp",["application/sdp","application/x-sdp"]],["sdr","application/sounder"],["sdw","application/vnd.stardivision.writer"],["sea",["application/sea","application/x-sea"]],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["ser","application/java-serialized-object"],["set","application/set"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sgl","application/vnd.stardivision.writer-global"],["sgm",["text/sgml","text/x-sgml"]],["sgml",["text/sgml","text/x-sgml"]],["sh",["application/x-shar","application/x-bsh","application/x-sh","text/x-script.sh"]],["shar",["application/x-bsh","application/x-shar"]],["shf","application/shf+xml"],["shtml",["text/html","text/x-server-parsed-html"]],["sid","audio/x-psid"],["sis","application/vnd.symbian.install"],["sit",["application/x-stuffit","application/x-sit"]],["sitx","application/x-stuffitx"],["skd","application/x-koan"],["skm","application/x-koan"],["skp",["application/vnd.koan","application/x-koan"]],["skt","application/x-koan"],["sl","application/x-seelogo"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi",["application/smil","application/smil+xml"]],["smil","application/smil"],["snd",["audio/basic","audio/x-adpcm"]],["snf","application/x-font-snf"],["sol","application/solids"],["spc",["text/x-speech","application/x-pkcs7-certificates"]],["spf","application/vnd.yamaha.smaf-phrase"],["spl",["application/futuresplash","application/x-futuresplash"]],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spr","application/x-sprite"],["sprite","application/x-sprite"],["src","application/x-wais-source"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssi","text/x-server-parsed-html"],["ssm","application/streamingmedia"],["ssml","application/ssml+xml"],["sst",["application/vnd.ms-pkicertstore","application/vnd.ms-pki.certstore"]],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["step","application/step"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl",["application/vnd.ms-pkistl","application/sla","application/vnd.ms-pki.stl","application/x-navistyle"]],["stm","text/html"],["stp","application/step"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["sub","image/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svf",["image/vnd.dwg","image/x-dwg"]],["svg","image/svg+xml"],["svr",["x-world/x-svr","application/x-world"]],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t",["text/troff","application/x-troff"]],["talk","text/x-speech"],["tao","application/vnd.tao.intent-module-archive"],["tar","application/x-tar"],["tbk",["application/toolbook","application/x-tbook"]],["tcap","application/vnd.3gpp2.tcap"],["tcl",["text/x-script.tcl","application/x-tcl"]],["tcsh","text/x-script.tcsh"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text",["application/plain","text/plain"]],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tgz",["application/gnutar","application/x-compressed"]],["thmx","application/vnd.ms-officetheme"],["tif",["image/tiff","image/x-tiff"]],["tiff",["image/tiff","image/x-tiff"]],["tmo","application/vnd.tmobile-livetv"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","application/x-troff"],["tra","application/vnd.trueapp"],["trm","application/x-msterminal"],["tsd","application/timestamped-data"],["tsi","audio/tsp-audio"],["tsp",["application/dsptype","audio/tsplayer"]],["tsv","text/tab-separated-values"],["ttf","application/x-font-ttf"],["ttl","text/turtle"],["turbot","image/florian"],["twd","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["ufd","application/vnd.ufdl"],["uil","text/x-uil"],["uls","text/iuls"],["umj","application/vnd.umajin"],["uni","text/uri-list"],["unis","text/uri-list"],["unityweb","application/vnd.unity"],["unv","application/i-deas"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["ustar",["application/x-ustar","multipart/x-ustar"]],["utz","application/vnd.uiq.theme"],["uu",["application/octet-stream","text/x-uuencode"]],["uue","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vda","application/vda"],["vdo","video/vdo"],["vew","application/groupwise"],["vis","application/vnd.visionary"],["viv",["video/vivo","video/vnd.vivo"]],["vivo",["video/vivo","video/vnd.vivo"]],["vmd","application/vocaltec-media-desc"],["vmf","application/vocaltec-media-file"],["voc",["audio/voc","audio/x-voc"]],["vos","video/vosaic"],["vox","audio/voxware"],["vqe","audio/x-twinvq-plugin"],["vqf","audio/x-twinvq"],["vql","audio/x-twinvq-plugin"],["vrml",["model/vrml","x-world/x-vrml","application/x-vrml"]],["vrt","x-world/x-vrt"],["vsd",["application/vnd.visio","application/x-visio"]],["vsf","application/vnd.vsf"],["vst","application/x-visio"],["vsw","application/x-visio"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w60","application/wordperfect6.0"],["w61","application/wordperfect6.1"],["w6w","application/msword"],["wad","application/x-doom"],["wav",["audio/wav","audio/x-wav"]],["wax","audio/x-ms-wax"],["wb1","application/x-qpro"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/vnd.wap.wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["web","application/vnd.xara"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wiz","application/msword"],["wk1","application/x-123"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf",["windows/metafile","application/x-msmetafile"]],["wml","text/vnd.wap.wml"],["wmlc","application/vnd.wap.wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-ms-wmz"],["woff","application/x-font-woff"],["word","application/msword"],["wp","application/wordperfect"],["wp5",["application/wordperfect","application/wordperfect6.0"]],["wp6","application/wordperfect"],["wpd",["application/wordperfect","application/vnd.wordperfect","application/x-wpwin"]],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wq1","application/x-lotus"],["wqd","application/vnd.wqd"],["wri",["application/mswrite","application/x-wri","application/x-mswrite"]],["wrl",["model/vrml","x-world/x-vrml","application/x-world"]],["wrz",["model/vrml","x-world/x-vrml"]],["wsc","text/scriplet"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wsrc","application/x-wais-source"],["wtb","application/vnd.webturbo"],["wtk","application/x-wintalk"],["wvx","video/x-ms-wvx"],["x-png","image/png"],["x3d","application/vnd.hzn-3d-crossword"],["xaf","x-world/x-vrml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm",["image/xbm","image/x-xbm","image/x-xbitmap"]],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdr","video/x-amt-demorun"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xgz","xgl/drawing"],["xhtml","application/xhtml+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xlam","application/vnd.ms-excel.addin.macroenabled.12"],["xlb",["application/excel","application/vnd.ms-excel","application/x-excel"]],["xlc",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xld",["application/excel","application/x-excel"]],["xlk",["application/excel","application/x-excel"]],["xll",["application/excel","application/vnd.ms-excel","application/x-excel"]],["xlm",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xls",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xlsb","application/vnd.ms-excel.sheet.binary.macroenabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroenabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xltm","application/vnd.ms-excel.template.macroenabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlv",["application/excel","application/x-excel"]],["xlw",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xm","audio/xm"],["xml",["application/xml","text/xml","application/atom+xml","application/rss+xml"]],["xmz","xgl/movie"],["xo","application/vnd.olpc-sugar"],["xof","x-world/x-vrml"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpix","application/x-vnd.ls-xpix"],["xpm",["image/xpm","image/x-xpixmap"]],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xsr","video/x-amt-showrun"],["xul","application/vnd.mozilla.xul+xml"],["xwd",["image/x-xwd","image/x-xwindowdump"]],["xyz",["chemical/x-xyz","chemical/x-pdb"]],["yang","application/yang"],["yin","application/yin+xml"],["z",["application/x-compressed","application/x-compress"]],["zaz","application/vnd.zzazz.deck+xml"],["zip",["application/zip","multipart/x-zip","application/x-zip-compressed","application/x-compressed"]],["zir","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zoo","application/octet-stream"],["zsh","text/x-script.zsh"]]);a.exports={detectMimeType(a){if(!a)return e;let b=d.parse(a),c=(b.ext.substr(1)||b.name||"").split("?").shift().trim().toLowerCase(),f=e;return(h.has(c)&&(f=h.get(c)),Array.isArray(f))?f[0]:f},detectExtension(a){if(!a)return f;let b=(a||"").toLowerCase().trim().split("/"),c=b.shift().trim(),d=b.join("/").trim();if(g.has(c+"/"+d)){let a=g.get(c+"/"+d);return Array.isArray(a)?a[0]:a}return"text"===c?"txt":"bin"}}},40821:a=>{"use strict";let b="\x1b",c=`${b}[`,d="\x07",e={to:(a,b)=>b?`${c}${b+1};${a+1}H`:`${c}${a+1}G`,move(a,b){let d="";return a<0?d+=`${c}${-a}D`:a>0&&(d+=`${c}${a}C`),b<0?d+=`${c}${-b}A`:b>0&&(d+=`${c}${b}B`),d},up:(a=1)=>`${c}${a}A`,down:(a=1)=>`${c}${a}B`,forward:(a=1)=>`${c}${a}C`,backward:(a=1)=>`${c}${a}D`,nextLine:(a=1)=>`${c}E`.repeat(a),prevLine:(a=1)=>`${c}F`.repeat(a),left:`${c}G`,hide:`${c}?25l`,show:`${c}?25h`,save:`${b}7`,restore:`${b}8`},f={up:(a=1)=>`${c}S`.repeat(a),down:(a=1)=>`${c}T`.repeat(a)},g={screen:`${c}2J`,up:(a=1)=>`${c}1J`.repeat(a),down:(a=1)=>`${c}J`.repeat(a),line:`${c}2K`,lineEnd:`${c}K`,lineStart:`${c}1K`,lines(a){let b="";for(let c=0;c<a;c++)b+=this.line+(c<a-1?e.up():"");return a&&(b+=e.left),b}};a.exports={cursor:e,scroll:f,erase:g,beep:d}},40869:(a,b,c)=>{"use strict";c.d(b,{o:()=>g});var d=c(90639),e=c(46601),f=c(97238);let g=async({id:a,collection:b,context:c,data:g,doc:h,docWithLocales:i,global:j,operation:k,overrideAccess:l,req:m,skipValidation:o})=>{let p=(0,e.Zt)(g),q=[],r=[];if(await (0,f.m)({id:a,collection:b,context:c,data:p,doc:h,docWithLocales:i,errors:r,fieldLabelPath:"",fields:b?.fields||j?.fields,global:j,mergeLocaleActions:q,operation:k,overrideAccess:l,parentIndexPath:"",parentIsLocalized:!1,parentPath:"",parentSchemaPath:"",req:m,siblingData:p,siblingDoc:h,siblingDocWithLocales:i,skipValidation:o}),r.length>0)throw new d.y({id:a,collection:b?.slug,errors:r,global:j?.slug,req:m},m.t);for(let a of q)await a();return p}},41144:(a,b,c)=>{"use strict";c.d(b,{p:()=>f});var d=c(23042),e=c(80548);let f=(a,b,c)=>{let f=[{name:"version",type:"group",fields:b.fields,...c&&{flattenedFields:b.flattenedFields}},{name:"createdAt",type:"date",admin:{disabled:!0},index:!0},{name:"updatedAt",type:"date",admin:{disabled:!0},index:!0}];return(0,d.gD)(b)&&(a.localization&&(f.push(e.FU),f.push({name:"publishedLocale",type:"select",admin:{disableBulkEdit:!0,disabled:!0},index:!0,options:a.localization.locales.map(a=>"string"==typeof a?a:a.code)})),f.push({name:"latest",type:"checkbox",admin:{disabled:!0},index:!0}),(0,d.s8)(b)&&f.push({name:"autosave",type:"checkbox",index:!0})),f}},41358:(a,b,c)=>{"use strict";c.d(b,{Jj:()=>f,TA:()=>g});var d=c(51455);let e={},f={},g=(a,b)=>void 0!==f[a]?f[a]:((!e[a]||b?.ignoreCache)&&(e[a]=(0,d.readFile)(a,"utf8")),e[a])},41442:(a,b,c)=>{"use strict";c.d(b,{b:()=>f});var d=c(79748);async function e(a,b){return Promise.all(a.map(b))}let f=async({collectionConfig:a,config:b,req:c})=>{if(b.upload?.useTempFiles&&a.upload){let{file:a}=c,b=[{file:a}];await e(b,async({file:a})=>{a?.tempFilePath&&await d.unlink(a.tempFilePath)})}}},41582:(a,b,c)=>{"use strict";c.d(b,{Q:()=>f,s:()=>g});var d=c(70430),e=c(79428);let f=(a,b=0,c=a.byteLength-b)=>{if(!(0,d.m)(a))throw TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof a} (${a})`);return e.Buffer.from(a,b,c)},g=(a,b)=>{if("string"!=typeof a)throw TypeError(`The "input" argument must be of type string. Received type ${typeof a} (${a})`);return b?e.Buffer.from(a,b):e.Buffer.from(a)}},41728:(a,b,c)=>{"use strict";c.d(b,{u:()=>g});var d=c(24401),e=c(70404),f=c(10353);let g=async a=>{let b=a,{allSessions:c,collection:{config:g},req:{user:h},req:i}=a;if(!h)throw new e.L("No User",d.h.BAD_REQUEST);if(h.collection!==g.slug)throw new e.L("Incorrect collection",d.h.FORBIDDEN);if(g.hooks?.afterLogout?.length)for(let a of g.hooks.afterLogout)b=await a({collection:b.collection?.config,context:i.context,req:i})||b;if(!0!==g.auth.disableLocalStrategy&&g.auth.useSessions){let a=(0,f.v)({enableTrash:!!g.trash,trash:!1,where:{id:{equals:h.id}}}),b=await i.payload.db.findOne({collection:g.slug,req:i,where:a});if(!b)throw new e.L("No User",d.h.BAD_REQUEST);if(c)b.sessions=[];else{let a=(b?.sessions||[]).filter(a=>a.id!==i?.user?._sid);b.sessions=a}b.updatedAt=null,await i.payload.db.updateOne({id:h.id,collection:g.slug,data:b,returning:!1})}return!0}},41745:(a,b,c)=>{"use strict";c.d(b,{z:()=>d});let d=({hasGenerateFn:a=!1,overrides:b,relationTo:c})=>({name:"image",type:"upload",admin:{components:{Field:{clientProps:{hasGenerateImageFn:a},path:"@payloadcms/plugin-seo/client#MetaImageComponent"}},description:"Maximum upload file size: 12MB. Recommended file size for images is <500KB."},label:"Meta Image",localized:!0,relationTo:c,...b??{}})},42200:(a,b,c)=>{"use strict";c.d(b,{M:()=>e});var d=c(10353);let e=async a=>{let{collection:b,req:c}=a,e=c.payload.config.collections?.find(a=>a.slug===b),f=(0,d.v)({enableTrash:!!e?.trash,trash:!1,where:{}});return!!await c.payload.db.findOne({collection:b,req:c,where:f})}},42319:(a,b,c)=>{"use strict";let d=c(4984),e=c(13576).action,f=c(94735),g=c(40821),h=g.beep,i=g.cursor,j=c(85558);class k extends f{constructor(a={}){super(),this.firstRender=!0,this.in=a.stdin||process.stdin,this.out=a.stdout||process.stdout,this.onRender=(a.onRender||(()=>void 0)).bind(this);let b=d.createInterface({input:this.in,escapeCodeTimeout:50});d.emitKeypressEvents(this.in,b),this.in.isTTY&&this.in.setRawMode(!0);let c=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,f=(a,b)=>{let d=e(b,c);!1===d?this._&&this._(a,b):"function"==typeof this[d]?this[d](b):this.bell()};this.close=()=>{this.out.write(i.show),this.in.removeListener("keypress",f),this.in.isTTY&&this.in.setRawMode(!1),b.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",f)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(h)}render(){this.onRender(j),this.firstRender&&(this.firstRender=!1)}}a.exports=k},42533:(a,b,c)=>{"use strict";c.d(b,{L:()=>d});let d=a=>"function"==typeof a?a():a},42740:(a,b,c)=>{"use strict";c.d(b,{O:()=>g});var d=c(53294),e=c(66089),f=c(84708);let g=async a=>{let{data:b,globalConfig:c,req:g}=a,h=["read","update"];c.versions&&h.push("readVersions");try{let a=await (0,d.a)({id:void 0,blockReferencesPermissions:{},data:b,entity:c,entityType:"global",fetchData:!0,operations:h,req:g}),e=(0,f.yD)({globals:{[c.slug]:a}});return e?.globals?.[c.slug]??{fields:{}}}catch(a){throw await (0,e.J)(g),a}}},42755:a=>{"use strict";if("undefined"!=typeof SharedArrayBuffer&&"undefined"!=typeof Atomics){let b=new Int32Array(new SharedArrayBuffer(4));a.exports=function(a){if(!1==(a>0&&a<1/0)){if("number"!=typeof a&&"bigint"!=typeof a)throw TypeError("sleep: ms must be a number");throw RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity")}Atomics.wait(b,0,0,Number(a))}}else a.exports=function(a){if(!1==(a>0&&a<1/0)){if("number"!=typeof a&&"bigint"!=typeof a)throw TypeError("sleep: ms must be a number");throw RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity")}let b=Date.now()+Number(a);for(;b>Date.now(););}},42926:(a,b,c)=>{"use strict";c.d(b,{r:()=>d});let d=async(a,b)=>{let{relationTo:c}=b,d=Array.isArray(c)?c:[c],e={};return void 0!==a&&await Promise.all(d.map(async c=>{e[c]="function"==typeof a?await a({...b,relationTo:c}):a,!0===e[c]&&(e[c]={}),!1===e[c]&&(e[c]={id:{exists:!1}})})),e}},43420:(a,b,c)=>{"use strict";c.d(b,{G:()=>e});var d=c(77127);class e{constructor(a){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=a?.fileInfo??{},this.onClose=a?.onClose}async readToken(a,b=this.position){let c=new Uint8Array(a.len);if(await this.readBuffer(c,{position:b})<a.len)throw new d.d1;return a.get(c,0)}async peekToken(a,b=this.position){let c=new Uint8Array(a.len);if(await this.peekBuffer(c,{position:b})<a.len)throw new d.d1;return a.get(c,0)}async readNumber(a){if(await this.readBuffer(this.numBuffer,{length:a.len})<a.len)throw new d.d1;return a.get(this.numBuffer,0)}async peekNumber(a){if(await this.peekBuffer(this.numBuffer,{length:a.len})<a.len)throw new d.d1;return a.get(this.numBuffer,0)}async ignore(a){if(void 0!==this.fileInfo.size){let b=this.fileInfo.size-this.position;if(a>b)return this.position+=b,b}return this.position+=a,a}async close(){await this.onClose?.()}normalizeOptions(a,b){if(b&&void 0!==b.position&&b.position<this.position)throw Error("`options.position` must be equal or greater than `tokenizer.position`");return b?{mayBeLess:!0===b.mayBeLess,offset:b.offset?b.offset:0,length:b.length?b.length:a.length-(b.offset?b.offset:0),position:b.position?b.position:this.position}:{mayBeLess:!1,offset:0,length:a.length,position:this.position}}}},43628:(a,b,c)=>{"use strict";function d(a,b){return null!=a&&Object.prototype.hasOwnProperty.call(a,b)}c.d(b,{J:()=>f});let e=["Cell","Description","Field","Filter"];function f({addToImportMap:a,baseDir:b,config:c,fields:g,importMap:h,imports:i}){for(let j of g){if("fields"in j)f({addToImportMap:a,baseDir:b,config:c,fields:j.fields,importMap:h,imports:i});else if("blocks"===j.type)f({addToImportMap:a,baseDir:b,config:c,fields:j.blocks.filter(a=>"string"!=typeof a),importMap:h,imports:i});else if("tabs"===j.type)f({addToImportMap:a,baseDir:b,config:c,fields:j.tabs,importMap:h,imports:i});else if("richText"===j.type)j?.editor&&"object"==typeof j.editor&&j.editor.generateImportMap&&"function"==typeof j.editor.generateImportMap&&j.editor.generateImportMap({addToImportMap:a,baseDir:b,config:c,importMap:h,imports:i});else if("ui"===j.type&&j?.admin?.components)for(let b in j.admin.components)b in e||a(j.admin.components[b]);d(j?.admin,"jsx")&&a(j.admin.jsx),d(j?.admin?.components,"Label")&&a(j.admin.components.Label),d(j?.admin?.components,"Block")&&a(j.admin.components.Block),d(j?.admin?.components,"Cell")&&a(j?.admin?.components?.Cell),d(j?.admin?.components,"Description")&&a(j?.admin?.components?.Description),d(j?.admin?.components,"Field")&&a(j?.admin?.components?.Field),d(j?.admin?.components,"Filter")&&a(j?.admin?.components?.Filter),d(j?.admin?.components,"Error")&&a(j?.admin?.components?.Error),d(j?.admin?.components,"afterInput")&&a(j?.admin?.components?.afterInput),d(j?.admin?.components,"beforeInput")&&a(j?.admin?.components?.beforeInput),d(j?.admin?.components,"RowLabel")&&a(j?.admin?.components?.RowLabel),d(j?.admin?.components,"Diff")&&a(j?.admin?.components?.Diff)}}},43732:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(74492);function e(a){switch(a){case"PS256":case"RS256":case"ES256":case"ES256K":return"sha256";case"PS384":case"RS384":case"ES384":return"sha384";case"PS512":case"RS512":case"ES512":return"sha512";case"EdDSA":return;default:throw new d.T0(`alg ${a} is not supported either by JOSE or your javascript runtime`)}}},43782:(a,b,c)=>{"use strict";let d=c(63590);class e extends d{constructor(a={}){super(a)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(a){this.date.setFullYear(a.substr(-4))}toString(){let a=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?a.substr(-2):a}}a.exports=e},43788:(a,b,c)=>{"use strict";function d(a){let b=!!a?.root?.children?.length,c=!1;if(a?.root?.children?.length===1&&a?.root?.children[0]?.type==="paragraph"){let b=a?.root?.children[0];if(b?.children&&b?.children?.length!==0){if(b?.children?.length===1){let a=b?.children[0];a?.type!=="text"||a?.text?.length||(c=!0)}}else c=!0}return!!b&&!c}c.d(b,{I:()=>d})},43835:(a,b,c)=>{"use strict";c.d(b,{p:()=>d});let d=({config:a,fields:b,includeRelationships:c=!1,localizedPath:e="",path:f})=>{let g=b,h=null,i=f.split("."),j=!1;for(;i.length>0;){let b=i.shift();e=`${e?`${e}.`:""}${b}`;let f=g.find(a=>a.name===b);if(!f)return null;if(f.localized&&(j=!0,e=`${e}.<locale>`),"flattenedFields"in f&&(g=f.flattenedFields),a&&c&&("relationship"===f.type||"upload"===f.type)&&!Array.isArray(f.relationTo)){let b=a.collections.find(a=>a.slug===f.relationTo)?.flattenedFields;if(b&&(g=b),1===i.length&&"id"===i[0])return{field:f,localizedPath:e,pathHasLocalized:j}}if("blocks"in f&&i.length>0){let b=i[0],g=f.blocks.find(a=>a.slug===b);if(g){if(i.shift(),e=`${e}.${b}`,0===i.length)return null;return d({config:a,fields:g.flattenedFields,includeRelationships:c,localizedPath:e,path:i.join(".")})}}h=f}return h?{field:h,localizedPath:e,pathHasLocalized:j}:null}},43918:(a,b,c)=>{"use strict";c.d(b,{b:()=>k});var d=c(48925),e=c(78164),f=c(44240),g=c(6722);let h=a=>(b,c,d)=>{let e=a(d);e&&(e.append(...c),b.replace(e),e.select(0,0))},i=a=>{let b=a.map(a=>Number(a.slice(1))),c=RegExp(`^(${b.map(a=>`#{${a}}`).join("|")})\\s`);return{type:"element",dependencies:[d.jL],export:(a,b)=>{if(!(0,d.Pi)(a))return null;let c=Number(a.getTag().slice(1));return"#".repeat(c)+" "+b(a)},regExp:c,replace:h(a=>{let b="h"+a[1]?.length;return(0,d.fi)(b)})}},j={ar:{label:" {{headingLevel}}"},az:{label:"Balq {{headingLevel}}"},bg:{label:" {{headingLevel}}"},cs:{label:"Nadpis {{headingLevel}}"},da:{label:"Overskrift {{overskriftNiveau}}"},de:{label:"\xdcberschrift {{headingLevel}}"},en:{label:"Heading {{headingLevel}}"},es:{label:"Encabezado {{headingLevel}}"},et:{label:"Pealkiri {{headingLevel}}"},fa:{label:"[SKIPPED]"},fr:{label:"En-t\xeate {{headingLevel}}"},he:{label:" {{ }}"},hr:{label:"Naslov {{headingLevel}}"},hu:{label:"C\xedmsor {{headingLevel}}"},is:{label:"Fyrirs\xf6gn {{headingLevel}}"},it:{label:"Intestazione {{headingLevel}}"},ja:{label:"{{headingLevel}}"},ko:{label:" {{headingLevel}}"},my:{label:"[SURAT]\n\nKepala {{headingLevel}}"},nb:{label:"Overskrift {{headingLevel}}"},nl:{label:"Kop {{headingLevel}}"},pl:{label:"Nag\xf3wek {{headingLevel}}"},pt:{label:"Cabe\xe7alho {{headingLevel}}"},ro:{label:"Titlu {{headingLevel}}"},rs:{label:" {{headingLevel}}"},"rs-latin":{label:"Naslov {{headingLevel}}"},ru:{label:" {{headingLevel}}"},sk:{label:"Nadpis {{headingLevel}}"},sl:{label:"Naslov {{headingLevel}}"},sv:{label:"Rubrik {{headingLevel}}"},ta:{label:" {{headingLevel}}"},th:{label:" {{headingLevel}}"},tr:{label:"Balk {{headingLevel}}"},uk:{label:" {{headingLevel}}"},vi:{label:"Ti\xeau  {{headingLevel}}"},zh:{label:" {{headingLevel}}"},"zh-TW":{label:" {{headingLevel}}"}},k=(0,e.m)({feature:({props:a})=>{a||(a={});let{enabledHeadingSizes:b=["h1","h2","h3","h4","h5","h6"]}=a;return b.sort(),{ClientFeature:"@payloadcms/richtext-lexical/client#HeadingFeatureClient",clientFeatureProps:a,i18n:j,markdownTransformers:[i(b)],nodes:[(0,g.R)({converters:{html:{converter:async({converters:a,currentDepth:b,depth:c,draft:d,node:e,overrideAccess:g,parent:h,req:i,showHiddenFields:j})=>{let k=await (0,f.D)({converters:a,currentDepth:b,depth:c,draft:d,lexicalNodes:e.children,overrideAccess:g,parent:{...e,parent:h},req:i,showHiddenFields:j}),l=[e.format?`text-align: ${e.format};`:"",e.indent>0?`padding-inline-start: ${40*e.indent}px;`:""].filter(Boolean).join(" ");return`<${e?.tag}${l?` style='${l}'`:""}>${k}</${e?.tag}>`},nodeTypes:[d.jL.getType()]}},node:d.jL})],sanitizedServerFeatureProps:a}},key:"heading"})},44064:(a,b,c)=>{"use strict";let d=c(79646).spawn,e=c(24404),f=c(32488);class g{constructor(a){a=a||{},this._spawn=d,this.options=a||{},this.name="Sendmail",this.version=e.version,this.path="sendmail",this.args=!1,this.winbreak=!1,this.logger=f.getLogger(this.options,{component:this.options.component||"sendmail"}),a&&("string"==typeof a?this.path=a:"object"==typeof a&&(a.path&&(this.path=a.path),Array.isArray(a.args)&&(this.args=a.args),this.winbreak=["win","windows","dos","\r\n"].includes((a.newline||"").toString().toLowerCase())))}send(a,b){let c,d,e;a.message.keepBcc=!0;let f=a.data.envelope||a.message.getEnvelope(),g=a.message.messageId();if([].concat(f.from||[]).concat(f.to||[]).some(a=>/^-/.test(a)))return b(Error("Can not send mail. Invalid envelope addresses."));c=this.args?["-i"].concat(this.args).concat(f.to):["-i"].concat(f.from?["-f",f.from]:[]).concat(f.to);let h=c=>{if(!e&&(e=!0,"function"==typeof b))if(c)return b(c);else return b(null,{envelope:a.data.envelope||a.message.getEnvelope(),messageId:g,response:"Messages queued for delivery"})};try{d=this._spawn(this.path,c)}catch(a){return this.logger.error({err:a,tnx:"spawn",messageId:g},"Error occurred while spawning sendmail. %s",a.message),h(a)}if(!d)return h(Error("sendmail was not found"));{d.on("error",a=>{this.logger.error({err:a,tnx:"spawn",messageId:g},"Error occurred when sending message %s. %s",g,a.message),h(a)}),d.once("exit",a=>{let b;if(!a)return h();b=127===a?Error("Sendmail command not found, process exited with code "+a):Error("Sendmail exited with code "+a),this.logger.error({err:b,tnx:"stdin",messageId:g},"Error sending message %s to sendmail. %s",g,b.message),h(b)}),d.once("close",h),d.stdin.on("error",a=>{this.logger.error({err:a,tnx:"stdin",messageId:g},"Error occurred when piping message %s to sendmail. %s",g,a.message),h(a)});let b=[].concat(f.to||[]);b.length>3&&b.push("...and "+b.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:g},"Sending message %s to <%s>",g,b.join(", "));let c=a.message.createReadStream();c.once("error",a=>{this.logger.error({err:a,tnx:"stdin",messageId:g},"Error occurred when generating message %s. %s",g,a.message),d.kill("SIGINT"),h(a)}),c.pipe(d.stdin)}}}a.exports=g},44240:(a,b,c)=>{"use strict";async function d({converters:a,currentDepth:b,depth:c,draft:d,lexicalNodes:e,overrideAccess:f,parent:g,req:h,showHiddenFields:i}){let j=a.find(a=>a.nodeTypes.includes("unknown"));return(await Promise.all(e.map(async(e,k)=>{let l=a.find(a=>a.nodeTypes.includes(e.type));try{if(!l){if(j)return await j.converter({childIndex:k,converters:a,currentDepth:b,depth:c,draft:d,node:e,overrideAccess:f,parent:g,req:h,showHiddenFields:i});return"<span>unknown node</span>"}return await l.converter({childIndex:k,converters:a,currentDepth:b,depth:c,draft:d,node:e,overrideAccess:f,parent:g,req:h,showHiddenFields:i})}catch(a){return console.error("Error converting lexical node to HTML:",a,"node:",e),""}}))).join("")||""}c.d(b,{D:()=>d})},44255:(a,b,c)=>{"use strict";let d,{uid:e,states:f,sentCloseFrameState:g,emptyBuffer:h,opcodes:i}=c(90406),{parseExtensions:j,isClosed:k,isClosing:l,isEstablished:m,validateCloseCodeAndReason:o}=c(92803),{channels:p}=c(84372),{makeRequest:q}=c(40369),{fetching:r}=c(55852),{Headers:s,getHeadersList:t}=c(98114),{getDecodeSplit:u}=c(51074),{WebsocketFrameSend:v}=c(21438),w=c(34589);try{d=c(77598)}catch{}function x(a,b,c,d=!1){if(b??=null,c??="",d&&o(b,c),k(a.readyState)||l(a.readyState));else if(m(a.readyState))if(a.closeState.has(g.SENT)||a.closeState.has(g.RECEIVED))a.readyState=f.CLOSING;else{let d=new v;0!==c.length&&null===b&&(b=1e3),w(null===b||Number.isInteger(b)),null===b&&0===c.length?d.frameData=h:null!==b&&null===c?(d.frameData=Buffer.allocUnsafe(2),d.frameData.writeUInt16BE(b,0)):null!==b&&null!==c?(d.frameData=Buffer.allocUnsafe(2+Buffer.byteLength(c)),d.frameData.writeUInt16BE(b,0),d.frameData.write(c,2,"utf-8")):d.frameData=h,a.socket.write(d.createFrame(i.CLOSE)),a.closeState.add(g.SENT),a.readyState=f.CLOSING}else y(a),a.readyState=f.CLOSING}function y(a,b,c){m(a.readyState)&&x(a,b,c,!1),a.controller.abort(),a.socket?.destroyed===!1&&a.socket.destroy(),a.onFail(b,c)}a.exports={establishWebSocketConnection:function(a,b,c,g,h){let i=a;i.protocol="ws:"===a.protocol?"http:":"https:";let k=q({urlList:[i],client:c,serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});h.headers&&(k.headersList=t(new s(h.headers)));let l=d.randomBytes(16).toString("base64");for(let a of(k.headersList.append("sec-websocket-key",l,!0),k.headersList.append("sec-websocket-version","13",!0),b))k.headersList.append("sec-websocket-protocol",a,!0);let m="permessage-deflate; client_max_window_bits";return k.headersList.append("sec-websocket-extensions",m,!0),r({request:k,useParallelQueue:!0,dispatcher:h.dispatcher,processResponse(a){let c;if("error"===a.type&&(g.readyState=f.CLOSED),"error"===a.type||101!==a.status)return void y(g,1002,"Received network error or non-101 status code.");if(0!==b.length&&!a.headersList.get("Sec-WebSocket-Protocol"))return void y(g,1002,"Server did not respond with sent protocols.");if(a.headersList.get("Upgrade")?.toLowerCase()!=="websocket")return void y(g,1002,'Server did not set Upgrade header to "websocket".');if(a.headersList.get("Connection")?.toLowerCase()!=="upgrade")return void y(g,1002,'Server did not set Connection header to "upgrade".');if(a.headersList.get("Sec-WebSocket-Accept")!==d.createHash("sha1").update(l+e).digest("base64"))return void y(g,1002,"Incorrect hash received in Sec-WebSocket-Accept header.");let h=a.headersList.get("Sec-WebSocket-Extensions");if(null!==h&&!(c=j(h)).has("permessage-deflate"))return void y(g,1002,"Sec-WebSocket-Extensions header does not match.");let i=a.headersList.get("Sec-WebSocket-Protocol");if(null!==i&&!u("sec-websocket-protocol",k.headersList).includes(i))return void y(g,1002,"Protocol was not set in the opening handshake.");a.socket.on("data",g.onSocketData),a.socket.on("close",g.onSocketClose),a.socket.on("error",g.onSocketError),p.open.hasSubscribers&&p.open.publish({address:a.socket.address(),protocol:i,extensions:h}),g.wasEverConnected=!0,g.onConnectionEstablished(a,c)}})},failWebsocketConnection:y,closeWebSocketConnection:x}},44479:(a,b,c)=>{"use strict";let{isColorSupported:d}=c(19565),e=c(29831),{Transform:f}=c(57075),g=c(82332),h=c(85927),{ERROR_LIKE_KEYS:i,LEVEL_KEY:j,LEVEL_LABEL:k,MESSAGE_KEY:l,TIMESTAMP_KEY:m}=c(51874),{buildSafeSonicBoom:o,parseFactoryOptions:p}=c(14413),q=c(97947),r={colorize:d,colorizeObjects:!0,crlf:!1,customColors:null,customLevels:null,customPrettifiers:{},errorLikeObjectKeys:i,errorProps:"",hideObject:!1,ignore:"hostname",include:void 0,levelFirst:!1,levelKey:j,levelLabel:k,messageFormat:null,messageKey:l,minimumLevel:void 0,outputStream:process.stdout,singleLine:!1,timestampKey:m,translateTime:!0,useOnlyCustomProps:!0};function s(a){let b=p(Object.assign({},r,a));return q.bind({...b,context:b})}function t(a={}){let b,c=s(a);return g(function(d){d.on("message",function b(e){e&&"PINO_CONFIG"===e.code&&(Object.assign(a,{messageKey:e.config.messageKey,errorLikeObjectKeys:Array.from(new Set([...a.errorLikeObjectKeys||i,e.config.errorKey])),customLevels:e.config.levels.values}),c=s(a),d.off("message",b))});let g=new f({objectMode:!0,autoDestroy:!0,transform(a,b,d){d(null,c(a))}});return b="object"==typeof a.destination&&"function"==typeof a.destination.write?a.destination:o({dest:a.destination||1,append:a.append,mkdir:a.mkdir,sync:a.sync}),d.on("unknown",function(a){b.write(a+"\n")}),e(d,g,b),g},{parse:"lines",close(a,c){b.on("close",()=>{c(a)})}})}a.exports=t,a.exports.build=t,a.exports.PinoPretty=t,a.exports.prettyFactory=s,a.exports.colorizerFactory=h,a.exports.isColorSupported=d,a.exports.default=t},44538:(a,b,c)=>{var d=c(13034);function e(a){var b=function(){return b.called?b.value:(b.called=!0,b.value=a.apply(this,arguments))};return b.called=!1,b}function f(a){var b=function(){if(b.called)throw Error(b.onceError);return b.called=!0,b.value=a.apply(this,arguments)};return b.onceError=(a.name||"Function wrapped with `once`")+" shouldn't be called more than once",b.called=!1,b}a.exports=d(e),a.exports.strict=d(f),e.proto=e(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return e(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return f(this)},configurable:!0})})},44619:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(57975);let e=a=>d.types.isKeyObject(a)},44698:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(47934),e=c(34414);function f(a,b){let c=a.schema[b];return void 0!==c&&!(0,e.alwaysValidSchema)(a,c)}b.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:a})=>(0,d.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,d._)`{failingKeyword: ${a.ifClause}}`},code(a){let{gen:b,parentSchema:c,it:g}=a;void 0===c.then&&void 0===c.else&&(0,e.checkStrictMode)(g,'"if" without "then" and "else" is ignored');let h=f(g,"then"),i=f(g,"else");if(!h&&!i)return;let j=b.let("valid",!0),k=b.name("_valid");if(l(),a.reset(),h&&i){let c=b.let("ifClause");a.setParams({ifClause:c}),b.if(k,m("then",c),m("else",c))}else h?b.if(k,m("then")):b.if((0,d.not)(k),m("else"));function l(){let b=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},k);a.mergeEvaluated(b)}function m(c,e){return()=>{let f=a.subschema({keyword:c},k);b.assign(j,k),a.mergeValidEvaluated(f,j),e?b.assign(e,(0,d._)`${c}`):a.setParams({ifClause:c})}}a.pass(j,()=>a.error(!0))}}},44757:a=>{"use strict";a.exports=function a(a){return"[object Object]"===Object.prototype.toString.apply(a)}},44905:(a,b,c)=>{"use strict";c.d(b,{h:()=>e});var d=c(79748);let e=async a=>{try{return await d.stat(a),!0}catch(a){return!1}}},44967:(a,b,c)=>{"use strict";let{UndiciError:d}=c(64737);class e extends d{constructor(a){super(a),this.name="MockNotMatchedError",this.message=a||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}}a.exports={MockNotMatchedError:e}},45113:(a,b,c)=>{"use strict";c.d(b,{m:()=>g});var d=c(33576),e=c(898),f=c(65540);let g=({config:a,fields:b,i18n:c,parentIndexPath:h,parentSchemaPath:i,schemaMap:j})=>{for(let[k,l]of b.entries()){let{indexPath:b,schemaPath:m}=(0,e.Z)({field:l,index:k,parentIndexPath:"name"in l?"":h,parentPath:"",parentSchemaPath:i});switch(j.set(m,l),l.type){case"array":g({config:a,fields:l.fields,i18n:c,parentIndexPath:"",parentSchemaPath:m,schemaMap:j});break;case"blocks":(l.blockReferences??l.blocks).map(b=>{let d="string"==typeof b?a.blocks.find(a=>a.slug===b):b,e=`${m}.${d.slug}`;j.set(e,d),g({config:a,fields:d.fields,i18n:c,parentIndexPath:"",parentSchemaPath:e,schemaMap:j})});break;case"collapsible":case"row":g({config:a,fields:l.fields,i18n:c,parentIndexPath:b,parentSchemaPath:i,schemaMap:j});break;case"group":(0,f.Z7)(l)?g({config:a,fields:l.fields,i18n:c,parentIndexPath:"",parentSchemaPath:m,schemaMap:j}):g({config:a,fields:l.fields,i18n:c,parentIndexPath:b,parentSchemaPath:i,schemaMap:j});break;case"richText":if(!l?.editor)throw new d.X(l);if("function"==typeof l.editor)throw Error("Attempted to access unsanitized rich text editor.");"function"==typeof l.editor.generateSchemaMap&&l.editor.generateSchemaMap({config:a,field:l,i18n:c,schemaMap:j,schemaPath:m});break;case"tabs":l.tabs.map((d,h)=>{let k=(0,f.pz)(d),{indexPath:l,schemaPath:m}=(0,e.Z)({field:{...d,type:"tab"},index:h,parentIndexPath:b,parentPath:"",parentSchemaPath:i});j.set(m,d),g({config:a,fields:d.fields,i18n:c,parentIndexPath:k?"":l,parentSchemaPath:k?m:i,schemaMap:j})})}}}},45186:(a,b,c)=>{"use strict";let{kForOnEventAttribute:d,kListener:e}=c(82455),f=Symbol("kCode"),g=Symbol("kData"),h=Symbol("kError"),i=Symbol("kMessage"),j=Symbol("kReason"),k=Symbol("kTarget"),l=Symbol("kType"),m=Symbol("kWasClean");class o{constructor(a){this[k]=null,this[l]=a}get target(){return this[k]}get type(){return this[l]}}Object.defineProperty(o.prototype,"target",{enumerable:!0}),Object.defineProperty(o.prototype,"type",{enumerable:!0});class p extends o{constructor(a,b={}){super(a),this[f]=void 0===b.code?0:b.code,this[j]=void 0===b.reason?"":b.reason,this[m]=void 0!==b.wasClean&&b.wasClean}get code(){return this[f]}get reason(){return this[j]}get wasClean(){return this[m]}}Object.defineProperty(p.prototype,"code",{enumerable:!0}),Object.defineProperty(p.prototype,"reason",{enumerable:!0}),Object.defineProperty(p.prototype,"wasClean",{enumerable:!0});class q extends o{constructor(a,b={}){super(a),this[h]=void 0===b.error?null:b.error,this[i]=void 0===b.message?"":b.message}get error(){return this[h]}get message(){return this[i]}}Object.defineProperty(q.prototype,"error",{enumerable:!0}),Object.defineProperty(q.prototype,"message",{enumerable:!0});class r extends o{constructor(a,b={}){super(a),this[g]=void 0===b.data?null:b.data}get data(){return this[g]}}Object.defineProperty(r.prototype,"data",{enumerable:!0});let s={addEventListener(a,b,c={}){let f;for(let f of this.listeners(a))if(!c[d]&&f[e]===b&&!f[d])return;if("message"===a)f=function(a,c){let d=new r("message",{data:c?a:a.toString()});d[k]=this,t(b,this,d)};else if("close"===a)f=function(a,c){let d=new p("close",{code:a,reason:c.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});d[k]=this,t(b,this,d)};else if("error"===a)f=function(a){let c=new q("error",{error:a,message:a.message});c[k]=this,t(b,this,c)};else{if("open"!==a)return;f=function(){let a=new o("open");a[k]=this,t(b,this,a)}}f[d]=!!c[d],f[e]=b,c.once?this.once(a,f):this.on(a,f)},removeEventListener(a,b){for(let c of this.listeners(a))if(c[e]===b&&!c[d]){this.removeListener(a,c);break}}};function t(a,b,c){"object"==typeof a&&a.handleEvent?a.handleEvent.call(a,c):a.call(b,c)}a.exports={CloseEvent:p,ErrorEvent:q,Event:o,EventTarget:s,MessageEvent:r}},45278:a=>{"use strict";function b(a){let b,c,e,f=!1,g="text",h=[],i={address:[],comment:[],group:[],text:[],textWasQuoted:[]},j=!1;for(c=0,e=a.length;c<e;c++){let b=a[c],d=c?a[c-1]:null;if("operator"===b.type)switch(b.value){case"<":g="address",j=!1;break;case"(":g="comment",j=!1;break;case":":g="group",f=!0,j=!1;break;case'"':j=!j,g="text";break;default:g="text",j=!1}else b.value&&("address"===g&&(b.value=b.value.replace(/^[^<]*<\s*/,"")),d&&d.noBreak&&i[g].length?(i[g][i[g].length-1]+=b.value,"text"===g&&j&&(i.textWasQuoted[i.textWasQuoted.length-1]=!0)):(i[g].push(b.value),"text"===g&&i.textWasQuoted.push(j)))}if(!i.text.length&&i.comment.length&&(i.text=i.comment,i.comment=[]),f){i.text=i.text.join(" ");let a=[];i.group.length&&d(i.group.join(",")).forEach(b=>{b.group?a=a.concat(b.group):a.push(b)}),h.push({name:i.text||b&&b.name,group:a})}else{if(!i.address.length&&i.text.length){for(c=i.text.length-1;c>=0;c--)if(!i.textWasQuoted[c]&&i.text[c].match(/^[^@\s]+@[^@\s]+$/)){i.address=i.text.splice(c,1),i.textWasQuoted.splice(c,1);break}let a=function(a){return i.address.length?a:(i.address=[a.trim()]," ")};if(!i.address.length)for(c=i.text.length-1;c>=0&&(i.textWasQuoted[c]||(i.text[c]=i.text[c].replace(/\s*\b[^@\s]+@[^\s]+\b\s*/,a).trim(),!i.address.length));c--);}if(!i.text.length&&i.comment.length&&(i.text=i.comment,i.comment=[]),i.address.length>1&&(i.text=i.text.concat(i.address.splice(1))),i.text=i.text.join(" "),i.address=i.address.join(" "),!i.address&&f)return[];(b={address:i.address||i.text||"",name:i.text||i.address||""}).address===b.name&&((b.address||"").match(/@/)?b.name="":b.address=""),h.push(b)}return h}class c{constructor(a){this.str=(a||"").toString(),this.operatorCurrent="",this.operatorExpecting="",this.node=null,this.escaped=!1,this.list=[],this.operators={'"':'"',"(":")","<":">",",":"",":":";",";":""}}tokenize(){let a=[];for(let a=0,b=this.str.length;a<b;a++){let c=this.str.charAt(a),d=a<b-1?this.str.charAt(a+1):null;this.checkChar(c,d)}return this.list.forEach(b=>{b.value=(b.value||"").toString().trim(),b.value&&a.push(b)}),a}checkChar(a,b){if(this.escaped);else if(a===this.operatorExpecting){this.node={type:"operator",value:a},b&&![" ","	","\r","\n",",",";"].includes(b)&&(this.node.noBreak=!0),this.list.push(this.node),this.node=null,this.operatorExpecting="",this.escaped=!1;return}else if(!this.operatorExpecting&&a in this.operators){this.node={type:"operator",value:a},this.list.push(this.node),this.node=null,this.operatorExpecting=this.operators[a],this.escaped=!1;return}else if(['"',"'"].includes(this.operatorExpecting)&&"\\"===a){this.escaped=!0;return}this.node||(this.node={type:"text",value:""},this.list.push(this.node)),"\n"===a&&(a=" "),(a.charCodeAt(0)>=33||[" ","	"].includes(a))&&(this.node.value+=a),this.escaped=!1}}function d(a,d){d=d||{};let e=new c(a).tokenize(),f=[],g=[],h=[];if(e.forEach(a=>{"operator"===a.type&&(","===a.value||";"===a.value)?(g.length&&f.push(g),g=[]):g.push(a)}),g.length&&f.push(g),f.forEach(a=>{(a=b(a)).length&&(h=h.concat(a))}),d.flatten){let a=[],b=c=>{c.forEach(c=>{if(c.group)return b(c.group);a.push(c)})};return b(h),a}return h}a.exports=d},45388:(a,b,c)=>{"use strict";c.d(b,{D:()=>d});let d=(0,c(78164).m)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#UnderlineFeatureClient"},key:"underline"})},45605:(a,b,c)=>{"use strict";let d=b,e=c(81094),f=a=>a;function g(a,b,c={}){return new Promise((d,g)=>{let h=new e[a](b),i=c.onAbort||f,j=c.onSubmit||f,k=c.onExit||f;h.on("state",b.onState||f),h.on("submit",a=>d(j(a))),h.on("exit",a=>d(k(a))),h.on("abort",a=>g(i(a)))})}d.text=a=>g("TextPrompt",a),d.password=a=>(a.style="password",d.text(a)),d.invisible=a=>(a.style="invisible",d.text(a)),d.number=a=>g("NumberPrompt",a),d.date=a=>g("DatePrompt",a),d.confirm=a=>g("ConfirmPrompt",a),d.list=a=>{let b=a.separator||",";return g("TextPrompt",a,{onSubmit:a=>a.split(b).map(a=>a.trim())})},d.toggle=a=>g("TogglePrompt",a),d.select=a=>g("SelectPrompt",a),d.multiselect=a=>{a.choices=[].concat(a.choices||[]);let b=a=>a.filter(a=>a.selected).map(a=>a.value);return g("MultiselectPrompt",a,{onAbort:b,onSubmit:b})},d.autocompleteMultiselect=a=>{a.choices=[].concat(a.choices||[]);let b=a=>a.filter(a=>a.selected).map(a=>a.value);return g("AutocompleteMultiselectPrompt",a,{onAbort:b,onSubmit:b})};let h=(a,b)=>Promise.resolve(b.filter(b=>b.title.slice(0,a.length).toLowerCase()===a.toLowerCase()));d.autocomplete=a=>(a.suggest=a.suggest||h,a.choices=[].concat(a.choices||[]),g("AutocompletePrompt",a))},45611:(a,b,c)=>{"use strict";let{parseSetCookie:d}=c(66400),{stringify:e}=c(79467),{webidl:f}=c(81399),{Headers:g}=c(98114),h=f.brandCheckMultiple([g,globalThis.Headers].filter(Boolean));function i(a){f.argumentLengthCheck(arguments,1,"getCookies"),h(a);let b=a.get("cookie"),c={};if(!b)return c;for(let a of b.split(";")){let[b,...d]=a.split("=");c[b.trim()]=d.join("=")}return c}function j(a,b,c){h(a);let d="deleteCookie";f.argumentLengthCheck(arguments,2,d),b=f.converters.DOMString(b,d,"name"),c=f.converters.DeleteCookieAttributes(c),m(a,{name:b,value:"",expires:new Date(0),...c})}function k(a){f.argumentLengthCheck(arguments,1,"getSetCookies"),h(a);let b=a.getSetCookie();return b?b.map(a=>d(a)):[]}function l(a){return d(a=f.converters.DOMString(a))}function m(a,b){f.argumentLengthCheck(arguments,2,"setCookie"),h(a);let c=e(b=f.converters.Cookie(b));c&&a.append("set-cookie",c,!0)}f.converters.DeleteCookieAttributes=f.dictionaryConverter([{converter:f.nullableConverter(f.converters.DOMString),key:"path",defaultValue:()=>null},{converter:f.nullableConverter(f.converters.DOMString),key:"domain",defaultValue:()=>null}]),f.converters.Cookie=f.dictionaryConverter([{converter:f.converters.DOMString,key:"name"},{converter:f.converters.DOMString,key:"value"},{converter:f.nullableConverter(a=>"number"==typeof a?f.converters["unsigned long long"](a):new Date(a)),key:"expires",defaultValue:()=>null},{converter:f.nullableConverter(f.converters["long long"]),key:"maxAge",defaultValue:()=>null},{converter:f.nullableConverter(f.converters.DOMString),key:"domain",defaultValue:()=>null},{converter:f.nullableConverter(f.converters.DOMString),key:"path",defaultValue:()=>null},{converter:f.nullableConverter(f.converters.boolean),key:"secure",defaultValue:()=>null},{converter:f.nullableConverter(f.converters.boolean),key:"httpOnly",defaultValue:()=>null},{converter:f.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:f.sequenceConverter(f.converters.DOMString),key:"unparsed",defaultValue:()=>[]}]),a.exports={getCookies:i,deleteCookie:j,getSetCookies:k,setCookie:m,parseCookie:l}},45912:(a,b,c)=>{"use strict";c.d(b,{L:()=>x});var d=c(99408),e=c(10631),f=c(35597),g=c(89819),h=c(71898),i=c(1276),j=c(55878),k=c(10353),l=c(23042),m=c(66089),o=c(16886),p=c(35355),q=c(37745),r=c(79983),s=c(25443),t=c(35183),u=c(96683),v=c(32197);let w=300,x=async a=>{let b=a;try{let a,c,{collection:{config:m},collection:x,currentDepth:y,depth:z,disableErrors:A,draft:B,includeLockStatus:C,joins:D,limit:E,overrideAccess:F,page:G,pagination:H=!0,populate:I,select:J,showHiddenFields:K,sort:L,trash:M=!1,where:N}=b=await (0,u.v)({args:b,collection:b.collection.config,operation:"read"}),O=b.req,{fallbackLocale:P,locale:Q,payload:R}=O,S=(0,o.Y)({fields:m.flattenedFields,forceSelect:m.forceSelect,select:J});if(!F&&(a=await (0,d.m)({disableErrors:A,req:O},m.access.read),!1===a))return{docs:[],hasNextPage:!1,hasPrevPage:!1,limit:E,nextPage:null,page:1,pagingCounter:1,prevPage:null,totalDocs:0,totalPages:1};let T=H&&0!==E,U=E??10*!!T,V=G||1,W=(0,e.m)(N,a);(0,h.D)({fields:m.flattenedFields,payload:R,where:W}),W=(0,k.v)({enableTrash:m.trash,trash:M,where:W});let X=(0,v.K)({fields:x.config.flattenedFields,sort:L}),Y=await (0,g.S)({collectionConfig:m,joins:D,overrideAccess:F,req:O});if((0,l.gD)(m)&&B?(W=(0,q.D)(W),await (0,f.d)({collectionConfig:x.config,overrideAccess:F,req:O,versionFields:(0,p.c)(R.config,x.config,!0),where:(0,q.D)(N)}),c=await R.db.queryDrafts({collection:m.slug,joins:"GraphQL"!==O.payloadAPI&&Y,limit:U,locale:Q,page:V,pagination:T,req:O,select:(0,r.V)({select:S}),sort:(0,s.t)({collectionConfig:m,sort:X}),where:W})):(await (0,f.d)({collectionConfig:m,overrideAccess:F,req:O,where:N}),c=await R.db.find({collection:m.slug,draftsEnabled:B,joins:"GraphQL"!==O.payloadAPI&&Y,limit:U,locale:Q,page:V,pagination:H,req:O,select:S,sort:X,where:W})),C)try{let a=m?.lockDocuments,b="object"==typeof a?a.duration:w,d=1e3*b,e=new Date().getTime(),f=await R.find({collection:j.q,depth:1,limit:U,overrideAccess:!1,pagination:!1,req:O,where:{and:[{"document.relationTo":{equals:m.slug}},{"document.value":{in:c.docs.map(a=>a.id)}},{updatedAt:{greater_than:new Date(e-d)}}]}}),g=(Array.isArray(f?.docs)?f.docs:[]).filter(a=>new Date(a?.updatedAt).getTime()+d>e);for(let a of c.docs){let b=g.find(b=>b?.document?.value===a.id);a._isLocked=!!b,a._userEditing=b?b?.user?.value:null}}catch(a){for(let a of c.docs)a._isLocked=!1,a._userEditing=null}return m?.hooks?.beforeRead?.length&&(c.docs=await Promise.all(c.docs.map(async a=>{let b=a;for(let a of m.hooks.beforeRead)b=await a({collection:m,context:O.context,doc:b,query:W,req:O})||b;return b}))),c.docs=await Promise.all(c.docs.map(async a=>(0,i.v)({collection:m,context:O.context,currentDepth:y,depth:z,doc:a,draft:B,fallbackLocale:P,findMany:!0,global:null,locale:Q,overrideAccess:F,populate:I,req:O,select:S,showHiddenFields:K}))),m?.hooks?.afterRead?.length&&(c.docs=await Promise.all(c.docs.map(async a=>{let b=a;for(let c of m.hooks.afterRead)b=await c({collection:m,context:O.context,doc:b,findMany:!0,query:W,req:O})||a;return b}))),c=await (0,t.E)({args:b,collection:m,operation:"find",result:c})}catch(a){throw await (0,m.J)(b.req),a}}},46221:a=>{"use strict";let b=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"],c={};Object.setPrototypeOf(c,null);let d={};function e(a){let b=d[a];return void 0===b&&(b=Buffer.from(a)),b}Object.setPrototypeOf(d,null);for(let a=0;a<b.length;++a){let d=b[a],e=d.toLowerCase();c[d]=c[e]=e}a.exports={wellknownHeaderNames:b,headerNameLowerCasedRecord:c,getHeaderNameAsBuffer:e}},46360:(a,b,c)=>{"use strict";function d(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}c.d(b,{$:()=>d})},46386:(a,b,c)=>{"use strict";async function d(a){let{payload:b,transactionID:c}=a;await b.db.commitTransaction(c),delete a.transactionID}c.d(b,{w:()=>d})},46601:(a,b,c)=>{"use strict";function d(a){return a instanceof Buffer?Buffer.from(a):new a.constructor(a.buffer.slice(),a.byteOffset,a.length)}c.d(b,{Zt:()=>i});let e=new Map;e.set(Date,a=>new Date(a)),e.set(Map,(a,b)=>new Map(g(Array.from(a),b))),e.set(Set,(a,b)=>new Set(g(Array.from(a),b))),e.set(RegExp,a=>new RegExp(a.source,a.flags));let f=null;function g(a,b){let c=Object.keys(a),g=Array(c.length);for(let h=0;h<c.length;h++){let i=c[h],j=a[i];"object"!=typeof j||null===j?g[i]=j:j instanceof RegExp?g[i]=new RegExp(j.source,j.flags):j.constructor!==Object&&(f=e.get(j.constructor))?g[i]=f(j,b):ArrayBuffer.isView(j)?g[i]=d(j):g[i]=b(j)}return g}let h=a=>{if("object"!=typeof a||null===a)return a;if(Array.isArray(a))return g(a,h);if(a instanceof RegExp)return new RegExp(a.source,a.flags);if(a.constructor!==Object&&(f=e.get(a.constructor)))return f(a,h);let b={};for(let c in a){if(!1===Object.hasOwnProperty.call(a,c))continue;let g=a[c];"object"!=typeof g||null===g?b[c]=g:g instanceof RegExp?b[c]=new RegExp(g.source,g.flags):g.constructor!==Object&&(f=e.get(g.constructor))?b[c]=f(g,h):ArrayBuffer.isView(g)?b[c]=d(g):b[c]=h(g)}return b};function i(a,b=!1){if("object"!=typeof a||null===a)return a;{if(Array.isArray(a))return a.map(a=>"object"!=typeof a||null===a?a:i(a,b));if(a instanceof Date)return new Date(a);let c={};for(let d in a){let e=a[d];b&&void 0===e||(c[d]="object"!=typeof e||null===e?e:i(e,b))}return c}}},46651:(a,b,c)=>{"use strict";c.d(b,{J:()=>d});let d=a=>{let b=new Map,c=a.get("Cookie");return c&&c.split(";").forEach(a=>{let c=a.split("="),d=c.shift()?.trim(),e=c.join("=");try{let a=decodeURI(e);b.set(d,a)}catch{}}),b}},46662:(a,b,c)=>{"use strict";let{HEX:d}=c(47590),e=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function f(a){if(3>k(a,"."))return{host:a,isIPV4:!1};let[b]=a.match(e)||[];return b?{host:j(b,"."),isIPV4:!0}:{host:a,isIPV4:!1}}function g(a,b=!1){let c="",e=!0;for(let b of a){if(void 0===d[b])return;"0"!==b&&!0===e&&(e=!1),e||(c+=b)}return b&&0===c.length&&(c="0"),c}function h(a){let b=0,c={error:!1,address:"",zone:""},d=[],e=[],f=!1,h=!1,i=!1;function j(){if(e.length){if(!1===f){let a=g(e);if(void 0===a)return c.error=!0,!1;d.push(a)}e.length=0}return!0}for(let g=0;g<a.length;g++){let k=a[g];if("["!==k&&"]"!==k)if(":"===k){if(!0===h&&(i=!0),!j())break;if(b++,d.push(":"),b>7){c.error=!0;break}g-1>=0&&":"===a[g-1]&&(h=!0);continue}else if("%"===k){if(!j())break;f=!0}else{e.push(k);continue}}return e.length&&(f?c.zone=e.join(""):i?d.push(e.join("")):d.push(g(e))),c.address=d.join(""),c}function i(a){if(2>k(a,":"))return{host:a,isIPV6:!1};let b=h(a);if(b.error)return{host:a,isIPV6:!1};{let a=b.address,c=b.address;return b.zone&&(a+="%"+b.zone,c+="%25"+b.zone),{host:a,escapedHost:c,isIPV6:!0}}}function j(a,b){let c="",d=!0,e=a.length;for(let f=0;f<e;f++){let g=a[f];"0"===g&&d?(f+1<=e&&a[f+1]===b||f+1===e)&&(c+=g,d=!1):(d=g===b,c+=g)}return c}function k(a,b){let c=0;for(let d=0;d<a.length;d++)a[d]===b&&c++;return c}let l=/^\.\.?\//u,m=/^\/\.(?:\/|$)/u,o=/^\/\.\.(?:\/|$)/u,p=/^\/?(?:.|\n)*?(?=\/|$)/u;a.exports={recomposeAuthority:function(a){let b=[];if(void 0!==a.userinfo&&(b.push(a.userinfo),b.push("@")),void 0!==a.host){let c=unescape(a.host),d=f(c);if(d.isIPV4)c=d.host;else{let b=i(d.host);c=!0===b.isIPV6?`[${b.escapedHost}]`:a.host}b.push(c)}return("number"==typeof a.port||"string"==typeof a.port)&&(b.push(":"),b.push(String(a.port))),b.length?b.join(""):void 0},normalizeComponentEncoding:function(a,b){let c=!0!==b?escape:unescape;return void 0!==a.scheme&&(a.scheme=c(a.scheme)),void 0!==a.userinfo&&(a.userinfo=c(a.userinfo)),void 0!==a.host&&(a.host=c(a.host)),void 0!==a.path&&(a.path=c(a.path)),void 0!==a.query&&(a.query=c(a.query)),void 0!==a.fragment&&(a.fragment=c(a.fragment)),a},removeDotSegments:function(a){let b=[];for(;a.length;)if(a.match(l))a=a.replace(l,"");else if(a.match(m))a=a.replace(m,"/");else if(a.match(o))a=a.replace(o,"/"),b.pop();else if("."===a||".."===a)a="";else{let c=a.match(p);if(c){let d=c[0];a=a.slice(d.length),b.push(d)}else throw Error("Unexpected dot segment condition")}return b.join("")},normalizeIPv4:f,normalizeIPv6:i,stringArrayToHexStripped:g}},46734:(a,b,c)=>{"use strict";c.d(b,{E:()=>f});var d=c(41582);let e=/^[A-Za-z0-9+/]*={0,2}$/,f=a=>{if(3*a.length%4!=0)throw TypeError("Incorrect padding on base64 string.");if(!e.exec(a))throw TypeError("Invalid base64 string.");let b=(0,d.s)(a,"base64");return new Uint8Array(b.buffer,b.byteOffset,b.byteLength)}},47105:(a,b,c)=>{"use strict";let d=c(55511),e=c(2927);a.exports=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw Error("Both scmp args must be Buffers");return a.length===b.length&&(d.timingSafeEqual?d.timingSafeEqual(a,b):e(a,b))}},47193:(a,b,c)=>{"use strict";let d=c(85558),e=c(42319),f=c(13576),g=f.style,h=f.clear,i=f.figures,j=f.wrap,k=f.entriesToDisplay,l=c(40821).cursor;class m extends e{constructor(a={}){super(a),this.msg=a.message,this.hint=a.hint||"- Use arrow-keys. Return to submit.",this.warn=a.warn||"- This option is disabled",this.cursor=a.initial||0,this.choices=a.choices.map((a,b)=>("string"==typeof a&&(a={title:a,value:b}),{title:a&&(a.title||a.value||a),value:a&&(void 0===a.value?b:a.value),description:a&&a.description,selected:a&&a.selected,disabled:a&&a.disabled})),this.optionsPerPage=a.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=h("",this.out.columns),this.render()}moveCursor(a){this.cursor=a,this.value=this.choices[a].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(a,b){if(" "===a)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(l.hide):this.out.write(h(this.outputText,this.out.columns)),super.render();let a=k(this.cursor,this.choices.length,this.optionsPerPage),b=a.startIndex,c=a.endIndex;if(this.outputText=[g.symbol(this.done,this.aborted),d.bold(this.msg),g.delimiter(!1),this.done?this.selection.title:this.selection.disabled?d.yellow(this.warn):d.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let a=b;a<c;a++){let e,f,g="",h=this.choices[a];f=a===b&&b>0?i.arrowUp:a===c-1&&c<this.choices.length?i.arrowDown:" ",h.disabled?(e=this.cursor===a?d.gray().underline(h.title):d.strikethrough().gray(h.title),f=(this.cursor===a?d.bold().gray(i.pointer)+" ":"  ")+f):(e=this.cursor===a?d.cyan().underline(h.title):h.title,f=(this.cursor===a?d.cyan(i.pointer)+" ":"  ")+f,h.description&&this.cursor===a&&(g=` - ${h.description}`,(f.length+e.length+g.length>=this.out.columns||h.description.split(/\r?\n/).length>1)&&(g="\n"+j(h.description,{margin:3,width:this.out.columns})))),this.outputText+=`${f} ${e}${d.gray(g)}
`}}this.out.write(this.outputText)}}a.exports=m},47346:(a,b,c)=>{"use strict";let d=c(29021),e=c(94735),f=c(28354).inherits,g=c(33873),h=c(42755),i=c(12412),j=100,k=Buffer.allocUnsafe(0),l=16384,m="buffer",o="utf8",[p,q]=(process.versions.node||"0.0").split(".").map(Number),r=p>=22&&q>=7;function s(a,b){function c(c,d){if(c){b._reopening=!1,b._writing=!1,b._opening=!1,b.sync?process.nextTick(()=>{b.listenerCount("error")>0&&b.emit("error",c)}):b.emit("error",c);return}let e=b._reopening;b.fd=d,b.file=a,b._reopening=!1,b._opening=!1,b._writing=!1,b.sync?process.nextTick(()=>b.emit("ready")):b.emit("ready"),!b.destroyed&&(!b._writing&&b._len>b.minLength||b._flushPending?b._actualWrite():e&&process.nextTick(()=>b.emit("drain")))}b._opening=!0,b._writing=!0,b._asyncDrainScheduled=!1;let e=b.append?"a":"w",f=b.mode;if(b.sync)try{b.mkdir&&d.mkdirSync(g.dirname(a),{recursive:!0});let h=d.openSync(a,e,f);c(null,h)}catch(a){throw c(a),a}else b.mkdir?d.mkdir(g.dirname(a),{recursive:!0},b=>{if(b)return c(b);d.open(a,e,f,c)}):d.open(a,e,f,c)}function t(a){let b,c;if(!(this instanceof t))return new t(a);let{fd:e,dest:f,minLength:g,maxLength:i,maxWrite:p,periodicFlush:q,sync:r,append:w=!0,mkdir:z,retryEAGAIN:H,fsync:I,contentMode:J,mode:K}=a||{};if(e=e||f,this._len=0,this.fd=-1,this._bufs=[],this._lens=[],this._writing=!1,this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this._flushPending=!1,this._hwm=Math.max(g||0,16387),this.file=null,this.destroyed=!1,this.minLength=g||0,this.maxLength=i||0,this.maxWrite=p||l,this._periodicFlush=q||0,this._periodicFlushTimer=void 0,this.sync=r||!1,this.writable=!0,this._fsync=I||!1,this.append=w||!1,this.mode=K,this.retryEAGAIN=H||(()=>!0),this.mkdir=z||!1,J===m)this._writingBuf=k,this.write=y,this.flush=B,this.flushSync=D,this._actualWrite=F,b=()=>d.writeSync(this.fd,this._writingBuf),c=()=>d.write(this.fd,this._writingBuf,this.release);else if(void 0===J||J===o)this._writingBuf="",this.write=x,this.flush=A,this.flushSync=C,this._actualWrite=E,b=()=>d.writeSync(this.fd,this._writingBuf,"utf8"),c=()=>d.write(this.fd,this._writingBuf,"utf8",this.release);else throw Error(`SonicBoom supports "${o}" and "${m}", but passed ${J}`);if("number"==typeof e)this.fd=e,process.nextTick(()=>this.emit("ready"));else if("string"==typeof e)s(e,this);else throw Error("SonicBoom supports only file descriptors and files");if(this.minLength>=this.maxWrite)throw Error(`minLength should be smaller than maxWrite (${this.maxWrite})`);this.release=(a,e)=>{if(a){if(("EAGAIN"===a.code||"EBUSY"===a.code)&&this.retryEAGAIN(a,this._writingBuf.length,this._len-this._writingBuf.length))if(this.sync)try{h(j),this.release(void 0,0)}catch(a){this.release(a)}else setTimeout(c,j);else this._writing=!1,this.emit("error",a);return}this.emit("write",e);let f=u(this._writingBuf,this._len,e);if(this._len=f.len,this._writingBuf=f.writingBuf,this._writingBuf.length){if(!this.sync)return void c();try{do{let a=b(),c=u(this._writingBuf,this._len,a);this._len=c.len,this._writingBuf=c.writingBuf}while(this._writingBuf.length)}catch(a){this.release(a);return}}this._fsync&&d.fsyncSync(this.fd);let g=this._len;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):g>this.minLength?this._actualWrite():this._ending?g>0?this._actualWrite():(this._writing=!1,G(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(v,this)):this.emit("drain"))},this.on("newListener",function(a){"drain"===a&&(this._asyncDrainScheduled=!1)}),0!==this._periodicFlush&&(this._periodicFlushTimer=setInterval(()=>this.flush(null),this._periodicFlush),this._periodicFlushTimer.unref())}function u(a,b,c){return"string"==typeof a&&Buffer.byteLength(a)!==c&&(c=Buffer.from(a).subarray(0,c).toString().length),b=Math.max(b-c,0),{writingBuf:a=a.slice(c),len:b}}function v(a){a.listenerCount("drain")>0&&(a._asyncDrainScheduled=!1,a.emit("drain"))}function w(a,b){return 0===a.length?k:1===a.length?a[0]:Buffer.concat(a,b)}function x(a){if(this.destroyed)throw Error("SonicBoom destroyed");let b=this._len+a.length,c=this._bufs;return this.maxLength&&b>this.maxLength?this.emit("drop",a):(0===c.length||c[c.length-1].length+a.length>this.maxWrite?c.push(""+a):c[c.length-1]+=a,this._len=b,!this._writing&&this._len>=this.minLength&&this._actualWrite()),this._len<this._hwm}function y(a){if(this.destroyed)throw Error("SonicBoom destroyed");let b=this._len+a.length,c=this._bufs,d=this._lens;return this.maxLength&&b>this.maxLength?this.emit("drop",a):(0===c.length||d[d.length-1]+a.length>this.maxWrite?(c.push([a]),d.push(a.length)):(c[c.length-1].push(a),d[d.length-1]+=a.length),this._len=b,!this._writing&&this._len>=this.minLength&&this._actualWrite()),this._len<this._hwm}function z(a){this._flushPending=!0;let b=()=>{if(this._fsync)this._flushPending=!1,a();else try{d.fsync(this.fd,b=>{this._flushPending=!1,a(b)})}catch(b){a(b)}this.off("error",c)},c=c=>{this._flushPending=!1,a(c),this.off("drain",b)};this.once("drain",b),this.once("error",c)}function A(a){if(null!=a&&"function"!=typeof a)throw Error("flush cb must be a function");if(this.destroyed){let b=Error("SonicBoom destroyed");if(a)return void a(b);throw b}if(this.minLength<=0)return void a?.();a&&z.call(this,a),this._writing||(0===this._bufs.length&&this._bufs.push(""),this._actualWrite())}function B(a){if(null!=a&&"function"!=typeof a)throw Error("flush cb must be a function");if(this.destroyed){let b=Error("SonicBoom destroyed");if(a)return void a(b);throw b}if(this.minLength<=0)return void a?.();a&&z.call(this,a),this._writing||(0===this._bufs.length&&(this._bufs.push([]),this._lens.push(0)),this._actualWrite())}function C(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this.fd<0)throw Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift(this._writingBuf),this._writingBuf="");let a="";for(;this._bufs.length||a;){a.length<=0&&(a=this._bufs[0]);try{let b=d.writeSync(this.fd,a,"utf8"),c=u(a,this._len,b);a=c.writingBuf,this._len=c.len,a.length<=0&&this._bufs.shift()}catch(b){if(("EAGAIN"===b.code||"EBUSY"===b.code)&&!this.retryEAGAIN(b,a.length,this._len-a.length))throw b;h(j)}}try{d.fsyncSync(this.fd)}catch{}}function D(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this.fd<0)throw Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift([this._writingBuf]),this._writingBuf=k);let a=k;for(;this._bufs.length||a.length;){a.length<=0&&(a=w(this._bufs[0],this._lens[0]));try{let b=d.writeSync(this.fd,a);a=a.subarray(b),this._len=Math.max(this._len-b,0),a.length<=0&&(this._bufs.shift(),this._lens.shift())}catch(b){if(("EAGAIN"===b.code||"EBUSY"===b.code)&&!this.retryEAGAIN(b,a.length,this._len-a.length))throw b;h(j)}}}function E(){let a=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf||this._bufs.shift()||"",this.sync)try{let b=d.writeSync(this.fd,this._writingBuf,"utf8");a(null,b)}catch(b){a(b)}else d.write(this.fd,this._writingBuf,"utf8",a)}function F(){let a=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf.length?this._writingBuf:w(this._bufs.shift(),this._lens.shift()),this.sync)try{let b=d.writeSync(this.fd,this._writingBuf);a(null,b)}catch(b){a(b)}else r&&(this._writingBuf=Buffer.from(this._writingBuf)),d.write(this.fd,this._writingBuf,a)}function G(a){if(-1===a.fd)return void a.once("ready",G.bind(null,a));void 0!==a._periodicFlushTimer&&clearInterval(a._periodicFlushTimer),a.destroyed=!0,a._bufs=[],a._lens=[],i("number"==typeof a.fd,`sonic.fd must be a number, got ${typeof a.fd}`);try{d.fsync(a.fd,b)}catch{}function b(){1!==a.fd&&2!==a.fd?d.close(a.fd,c):c()}function c(b){if(b)return void a.emit("error",b);a._ending&&!a._writing&&a.emit("finish"),a.emit("close")}}f(t,e),t.prototype.reopen=function(a){if(this.destroyed)throw Error("SonicBoom destroyed");if(this._opening)return void this.once("ready",()=>{this.reopen(a)});if(this._ending)return;if(!this.file)throw Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(a&&(this.file=a),this._reopening=!0,this._writing)return;let b=this.fd;this.once("ready",()=>{b!==this.fd&&d.close(b,a=>{if(a)return this.emit("error",a)})}),s(this.file,this)},t.prototype.end=function(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this._opening)return void this.once("ready",()=>{this.end()});!this._ending&&(this._ending=!0,this._writing||(this._len>0&&this.fd>=0?this._actualWrite():G(this)))},t.prototype.destroy=function(){this.destroyed||G(this)},t.SonicBoom=t,t.default=t,a.exports=t},47464:(a,b,c)=>{"use strict";let d=c(85558),e=c(63190),{style:f,clear:g,figures:h,wrap:i,entriesToDisplay:j}=c(78339),{cursor:k}=c(40821);class l extends e{constructor(a={}){super(a),this.msg=a.message,this.hint=a.hint||"- Use arrow-keys. Return to submit.",this.warn=a.warn||"- This option is disabled",this.cursor=a.initial||0,this.choices=a.choices.map((a,b)=>("string"==typeof a&&(a={title:a,value:b}),{title:a&&(a.title||a.value||a),value:a&&(void 0===a.value?b:a.value),description:a&&a.description,selected:a&&a.selected,disabled:a&&a.disabled})),this.optionsPerPage=a.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=g("",this.out.columns),this.render()}moveCursor(a){this.cursor=a,this.value=this.choices[a].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(a,b){if(" "===a)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(k.hide):this.out.write(g(this.outputText,this.out.columns)),super.render();let{startIndex:a,endIndex:b}=j(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[f.symbol(this.done,this.aborted),d.bold(this.msg),f.delimiter(!1),this.done?this.selection.title:this.selection.disabled?d.yellow(this.warn):d.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let c=a;c<b;c++){let e,f,g="",j=this.choices[c];f=c===a&&a>0?h.arrowUp:c===b-1&&b<this.choices.length?h.arrowDown:" ",j.disabled?(e=this.cursor===c?d.gray().underline(j.title):d.strikethrough().gray(j.title),f=(this.cursor===c?d.bold().gray(h.pointer)+" ":"  ")+f):(e=this.cursor===c?d.cyan().underline(j.title):j.title,f=(this.cursor===c?d.cyan(h.pointer)+" ":"  ")+f,j.description&&this.cursor===c&&(g=` - ${j.description}`,(f.length+e.length+g.length>=this.out.columns||j.description.split(/\r?\n/).length>1)&&(g="\n"+i(j.description,{margin:3,width:this.out.columns})))),this.outputText+=`${f} ${e}${d.gray(g)}
`}}this.out.write(this.outputText)}}a.exports=l},47470:(a,b,c)=>{"use strict";c.d(b,{x:()=>g});var d=c(96493),e=c(65540);let f=async({currentDepth:a,data:b,dataReference:c,depth:e,draft:f,fallbackLocale:g,field:h,index:i,key:j,locale:k,overrideAccess:l,populateArg:m,req:o,showHiddenFields:p})=>{let q,r=c;q="join"===h.type?Array.isArray(h.collection)?b.relationTo:h.collection:Array.isArray(h.relationTo)?b.relationTo:h.relationTo;let s=o.payload.collections[q];if(s){let c,q;c="join"===h.type&&Array.isArray(h.collection)||"join"!==h.type&&Array.isArray(h.relationTo)?b.value:b;let t=e&&a<=e;"string"!=typeof c&&"number"!=typeof c&&"function"==typeof c?.toString&&"object"!=typeof c&&(c=c.toString()),t&&(q=await o.payloadDataLoader.load((0,d.h)({collectionSlug:s.config.slug,currentDepth:a+1,depth:e,docID:c,draft:f,fallbackLocale:g,locale:k,overrideAccess:l,populate:m,select:m?.[s.config.slug]??s.config.defaultPopulate,showHiddenFields:p,transactionID:o.transactionID}))),q||(q=c),"number"==typeof i&&"string"==typeof j?"join"!==h.type&&Array.isArray(h.relationTo)||"join"===h.type&&Array.isArray(h.collection)?r[h.name][j][i].value=q:r[h.name][j][i]=q:"number"==typeof i||"string"==typeof j?"join"===h.type?Array.isArray(h.collection)?r[h.name].docs[i??j].value=q:r[h.name].docs[i??j]=q:Array.isArray(h.relationTo)?r[h.name][i??j].value=q:r[h.name][i??j]=q:"join"!==h.type&&Array.isArray(h.relationTo)||"join"===h.type&&Array.isArray(h.collection)?r[h.name].value=q:r[h.name]=q}},g=async({currentDepth:a,depth:b,draft:c,fallbackLocale:d,field:g,locale:h,overrideAccess:i,parentIsLocalized:j,populate:k,req:l,showHiddenFields:m,siblingDoc:o})=>{let p=o,q=(0,e.M2)(g)&&g.maxDepth<b?g.maxDepth:b,r=[];"join"===g.type||(0,e.Ez)(g)&&g.hasMany?(0,e.Cd)({field:g,parentIsLocalized:j})&&"all"===h&&"object"==typeof o[g.name]&&null!==o[g.name]?Object.keys(o[g.name]).forEach(b=>{Array.isArray(o[g.name][b])&&o[g.name][b].forEach((e,j)=>{let s=async()=>{await f({currentDepth:a,data:o[g.name][b][j],dataReference:p,depth:q,draft:c,fallbackLocale:d,field:g,index:j,key:b,locale:h,overrideAccess:i,populateArg:k,req:l,showHiddenFields:m})};r.push(s())})}):(Array.isArray(o[g.name])||Array.isArray(o[g.name]?.docs))&&(Array.isArray(o[g.name])?o[g.name]:o[g.name].docs).forEach((b,e)=>{let j=async()=>{b&&await f({currentDepth:a,data:!("join"===g.type&&Array.isArray(g.collection))&&b?.id?b.id:b,dataReference:p,depth:q,draft:c,fallbackLocale:d,field:g,index:e,locale:h,overrideAccess:i,populateArg:k,req:l,showHiddenFields:m})};r.push(j())}):g.localized&&"all"===h&&"object"==typeof o[g.name]&&null!==o[g.name]?(Object.keys(o[g.name]).forEach(b=>{let e=async()=>{await f({currentDepth:a,data:o[g.name][b],dataReference:p,depth:q,draft:c,fallbackLocale:d,field:g,key:b,locale:h,overrideAccess:i,populateArg:k,req:l,showHiddenFields:m})};r.push(e())}),await Promise.all(r)):o[g.name]&&await f({currentDepth:a,data:o[g.name],dataReference:p,depth:q,draft:c,fallbackLocale:d,field:g,locale:h,overrideAccess:i,populateArg:k,req:l,showHiddenFields:m}),await Promise.all(r)}},47566:(a,b,c)=>{"use strict";c.d(b,{L:()=>s});var d=c(24401),e=c(99408),f=c(10631),g=c(70404),h=c(82545),i=c(86069),j=c(1276),k=c(10353),l=c(66089),m=c(16886),o=c(35355),p=c(79983),q=c(35183),r=c(96683);let s=async a=>{let{id:b,collection:{config:c},currentDepth:s,depth:t,disableErrors:u,overrideAccess:v,populate:w,req:{fallbackLocale:x,locale:y,payload:z},req:A,select:B,showHiddenFields:C,trash:D=!1}=a;if(!b)throw new g.L("Missing ID of version.",d.h.BAD_REQUEST);try{a=await (0,r.v)({args:a,collection:c,operation:"findVersionByID"});let d=!!v||await (0,e.m)({id:b,disableErrors:u,req:A},c.access.readVersions);if(!1===d)return null;let g="object"==typeof d,l={id:{equals:b}},E=(0,f.m)(l,d);E=(0,k.v)({deletedAtPath:"version.deletedAt",enableTrash:c.trash,trash:D,where:E});let F=(0,m.Y)({fields:(0,o.c)(z.config,c,!0),forceSelect:(0,p.V)({select:c.forceSelect}),select:B,versions:!0}),G=(await z.db.findVersions({collection:c.slug,limit:1,locale:y,pagination:!1,req:A,select:F,where:E})).docs[0];if(!G){if(!u){if(!g)throw new h.M(A.t);if(g)throw new i.c(A.t)}return null}if(G.version||(G.version={}),c.hooks?.beforeRead?.length)for(let a of c.hooks.beforeRead)G.version=await a({collection:c,context:A.context,doc:G.version,query:E,req:A})||G.version;if(G.version=await (0,j.v)({collection:c,context:A.context,currentDepth:s,depth:t,doc:G.version,draft:void 0,fallbackLocale:x,global:null,locale:y,overrideAccess:v,populate:w,req:A,select:"object"==typeof F?.version?F.version:void 0,showHiddenFields:C}),c.hooks?.afterRead?.length)for(let a of c.hooks.afterRead)G.version=await a({collection:c,context:A.context,doc:G.version,query:E,req:A})||G.version;return G=await (0,q.E)({args:a,collection:c,operation:"findVersionByID",result:G})}catch(a){throw await (0,l.J)(A),a}}},47590:a=>{"use strict";a.exports={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}},47597:(a,b,c)=>{"use strict";let{lsCacheSym:d,levelValSym:e,useOnlyCustomLevelsSym:f,streamSym:g,formattersSym:h,hooksSym:i,levelCompSym:j}=c(53057),{noop:k,genLog:l}=c(14447),{DEFAULT_LEVELS:m,SORTING_ORDER:o}=c(97853),p={fatal:a=>{let b=l(m.fatal,a);return function(...a){let c=this[g];if(b.call(this,...a),"function"==typeof c.flushSync)try{c.flushSync()}catch(a){}}},error:a=>l(m.error,a),warn:a=>l(m.warn,a),info:a=>l(m.info,a),debug:a=>l(m.debug,a),trace:a=>l(m.trace,a)},q=Object.keys(m).reduce((a,b)=>(a[m[b]]=b,a),{});function r(a){let b=a[h].level,{labels:c}=a.levels,e={};for(let a in c){let d=b(c[a],Number(a));e[a]=JSON.stringify(d).slice(0,-1)}return a[d]=e,a}function s(a,b){if(b)return!1;switch(a){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}function t(a){let{labels:b,values:c}=this.levels;if("number"==typeof a){if(void 0===b[a])throw Error("unknown level value"+a);a=b[a]}if(void 0===c[a])throw Error("unknown level "+a);let d=this[e],g=this[e]=c[a],h=this[f],m=this[j],o=this[i].logMethod;for(let a in c){if(!1===m(c[a],g)){this[a]=k;continue}this[a]=s(a,h)?p[a](o):l(c[a],o)}this.emit("level-change",a,g,b[d],d,this)}function u(a){let{levels:b,levelVal:c}=this;return b&&b.labels?b.labels[c]:""}function v(a){let{values:b}=this.levels,c=b[a];return void 0!==c&&this[j](c,this[e])}function w(a,b,c){return a===o.DESC?b<=c:b>=c}function x(a){return"string"==typeof a?w.bind(null,a):a}function y(a=null,b=!1){let c=a?Object.keys(a).reduce((b,c)=>(b[a[c]]=c,b),{}):null;return{labels:Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),b?null:q,c),values:Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),b?null:m,a)}}function z(a,b,c){if("number"==typeof a){if(![].concat(Object.keys(b||{}).map(a=>b[a]),c?[]:Object.keys(q).map(a=>+a),1/0).includes(a))throw Error(`default level:${a} must be included in custom levels`);return}if(!(a in Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),c?null:m,b)))throw Error(`default level:${a} must be included in custom levels`)}function A(a,b){let{labels:c,values:d}=a;for(let a in b){if(a in d)throw Error("levels cannot be overridden");if(b[a]in c)throw Error("pre-existing level values cannot be used for new levels")}}function B(a){if("function"!=typeof a&&!("string"==typeof a&&Object.values(o).includes(a)))throw Error('Levels comparison should be one of "ASC", "DESC" or "function" type')}a.exports={initialLsCache:Object.keys(q).reduce((a,b)=>(a[b]='{"level":'+Number(b),a),{}),genLsCache:r,levelMethods:p,getLevel:u,setLevel:t,isLevelEnabled:v,mappings:y,assertNoLevelCollisions:A,assertDefaultLevelFound:z,genLevelComparison:x,assertLevelComparison:B}},47599:(a,b,c)=>{"use strict";a.exports=e;let d=c(87285);function e(a,b){for(let c of Array.isArray(b)?b:d(b)){if(!Object.prototype.hasOwnProperty.call(a,c))return;a=a[c]}return a}},47699:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.rawColumnToInternalColumn=b.objIfExists=void 0;let d=c(55432);b.objIfExists=(a,b)=>b?{[a]:b}:{};let e=a=>{var c;return Object.assign(Object.assign(Object.assign(Object.assign({name:a.name,title:null!=(c=a.title)?c:a.name},(0,b.objIfExists)("color",a.color)),(0,b.objIfExists)("maxLen",a.maxLen)),(0,b.objIfExists)("minLen",a.minLen)),{alignment:a.alignment||d.DEFAULT_ROW_ALIGNMENT})};b.rawColumnToInternalColumn=e},47797:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Parser=void 0;let d=c(76530),e=c(9906),f=1,g=5,h=Buffer.allocUnsafe(0);class i{constructor(a){if(this.buffer=h,this.bufferLength=0,this.bufferOffset=0,this.reader=new e.BufferReader,(null==a?void 0:a.mode)==="binary")throw Error("Binary mode not supported yet");this.mode=(null==a?void 0:a.mode)||"text"}parse(a,b){this.mergeBuffer(a);let c=this.bufferOffset+this.bufferLength,d=this.bufferOffset;for(;d+g<=c;){let a=this.buffer[d],e=this.buffer.readUInt32BE(d+f),h=f+e;if(h+d<=c)b(this.handlePacket(d+g,a,e,this.buffer)),d+=h;else break}d===c?(this.buffer=h,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=c-d,this.bufferOffset=d)}mergeBuffer(a){if(this.bufferLength>0){let b=this.bufferLength+a.byteLength;if(b+this.bufferOffset>this.buffer.byteLength){let a;if(b<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)a=this.buffer;else{let c=2*this.buffer.byteLength;for(;b>=c;)c*=2;a=Buffer.allocUnsafe(c)}this.buffer.copy(a,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=a,this.bufferOffset=0}a.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=b}else this.buffer=a,this.bufferOffset=0,this.bufferLength=a.byteLength}handlePacket(a,b,c,e){switch(b){case 50:return d.bindComplete;case 49:return d.parseComplete;case 51:return d.closeComplete;case 110:return d.noData;case 115:return d.portalSuspended;case 99:return d.copyDone;case 87:return d.replicationStart;case 73:return d.emptyQuery;case 68:return this.parseDataRowMessage(a,c,e);case 67:return this.parseCommandCompleteMessage(a,c,e);case 90:return this.parseReadyForQueryMessage(a,c,e);case 65:return this.parseNotificationMessage(a,c,e);case 82:return this.parseAuthenticationResponse(a,c,e);case 83:return this.parseParameterStatusMessage(a,c,e);case 75:return this.parseBackendKeyData(a,c,e);case 69:return this.parseErrorMessage(a,c,e,"error");case 78:return this.parseErrorMessage(a,c,e,"notice");case 84:return this.parseRowDescriptionMessage(a,c,e);case 116:return this.parseParameterDescriptionMessage(a,c,e);case 71:return this.parseCopyInMessage(a,c,e);case 72:return this.parseCopyOutMessage(a,c,e);case 100:return this.parseCopyData(a,c,e);default:return new d.DatabaseError("received invalid response: "+b.toString(16),c,"error")}}parseReadyForQueryMessage(a,b,c){this.reader.setBuffer(a,c);let e=this.reader.string(1);return new d.ReadyForQueryMessage(b,e)}parseCommandCompleteMessage(a,b,c){this.reader.setBuffer(a,c);let e=this.reader.cstring();return new d.CommandCompleteMessage(b,e)}parseCopyData(a,b,c){let e=c.slice(a,a+(b-4));return new d.CopyDataMessage(b,e)}parseCopyInMessage(a,b,c){return this.parseCopyMessage(a,b,c,"copyInResponse")}parseCopyOutMessage(a,b,c){return this.parseCopyMessage(a,b,c,"copyOutResponse")}parseCopyMessage(a,b,c,e){this.reader.setBuffer(a,c);let f=0!==this.reader.byte(),g=this.reader.int16(),h=new d.CopyResponse(b,e,f,g);for(let a=0;a<g;a++)h.columnTypes[a]=this.reader.int16();return h}parseNotificationMessage(a,b,c){this.reader.setBuffer(a,c);let e=this.reader.int32(),f=this.reader.cstring(),g=this.reader.cstring();return new d.NotificationResponseMessage(b,e,f,g)}parseRowDescriptionMessage(a,b,c){this.reader.setBuffer(a,c);let e=this.reader.int16(),f=new d.RowDescriptionMessage(b,e);for(let a=0;a<e;a++)f.fields[a]=this.parseField();return f}parseField(){let a=this.reader.cstring(),b=this.reader.uint32(),c=this.reader.int16(),e=this.reader.uint32(),f=this.reader.int16(),g=this.reader.int32(),h=0===this.reader.int16()?"text":"binary";return new d.Field(a,b,c,e,f,g,h)}parseParameterDescriptionMessage(a,b,c){this.reader.setBuffer(a,c);let e=this.reader.int16(),f=new d.ParameterDescriptionMessage(b,e);for(let a=0;a<e;a++)f.dataTypeIDs[a]=this.reader.int32();return f}parseDataRowMessage(a,b,c){this.reader.setBuffer(a,c);let e=this.reader.int16(),f=Array(e);for(let a=0;a<e;a++){let b=this.reader.int32();f[a]=-1===b?null:this.reader.string(b)}return new d.DataRowMessage(b,f)}parseParameterStatusMessage(a,b,c){this.reader.setBuffer(a,c);let e=this.reader.cstring(),f=this.reader.cstring();return new d.ParameterStatusMessage(b,e,f)}parseBackendKeyData(a,b,c){this.reader.setBuffer(a,c);let e=this.reader.int32(),f=this.reader.int32();return new d.BackendKeyDataMessage(b,e,f)}parseAuthenticationResponse(a,b,c){this.reader.setBuffer(a,c);let e=this.reader.int32(),f={name:"authenticationOk",length:b};switch(e){case 0:break;case 3:8===f.length&&(f.name="authenticationCleartextPassword");break;case 5:if(12===f.length){f.name="authenticationMD5Password";let a=this.reader.bytes(4);return new d.AuthenticationMD5Password(b,a)}break;case 10:{let a;f.name="authenticationSASL",f.mechanisms=[];do(a=this.reader.cstring())&&f.mechanisms.push(a);while(a)}break;case 11:f.name="authenticationSASLContinue",f.data=this.reader.string(b-8);break;case 12:f.name="authenticationSASLFinal",f.data=this.reader.string(b-8);break;default:throw Error("Unknown authenticationOk message type "+e)}return f}parseErrorMessage(a,b,c,e){this.reader.setBuffer(a,c);let f={},g=this.reader.string(1);for(;"\0"!==g;)f[g]=this.reader.cstring(),g=this.reader.string(1);let h=f.M,i="notice"===e?new d.NoticeMessage(b,h):new d.DatabaseError(h,b,e);return i.severity=f.S,i.code=f.C,i.detail=f.D,i.hint=f.H,i.position=f.P,i.internalPosition=f.p,i.internalQuery=f.q,i.where=f.W,i.schema=f.s,i.table=f.t,i.column=f.c,i.dataType=f.d,i.constraint=f.n,i.file=f.F,i.line=f.L,i.routine=f.R,i}}b.Parser=i},47845:(a,b,c)=>{"use strict";let{parseContentType:d}=c(86336);function e(a){let b=a.headers,c=d(b["content-type"]);if(!c)throw Error("Malformed content type");for(let d of f){if(!d.detect(c))continue;let e={limits:a.limits,headers:b,conType:c,highWaterMark:void 0,fileHwm:void 0,defCharset:void 0,defParamCharset:void 0,preservePath:!1};return a.highWaterMark&&(e.highWaterMark=a.highWaterMark),a.fileHwm&&(e.fileHwm=a.fileHwm),e.defCharset=a.defCharset,e.defParamCharset=a.defParamCharset,e.preservePath=a.preservePath,new d(e)}throw Error(`Unsupported content type: ${b["content-type"]}`)}let f=[c(76007),c(18650)].filter(function(a){return"function"==typeof a.detect});a.exports=a=>{if(("object"!=typeof a||null===a)&&(a={}),"object"!=typeof a.headers||null===a.headers||"string"!=typeof a.headers["content-type"])throw Error("Missing Content-Type");return e(a)}},47892:(a,b,c)=>{"use strict";c.d(b,{c:()=>k});var d=c(99408),e=c(82545),f=c(78584),g=c(1276),h=c(46386),i=c(23271),j=c(66089);let k=async a=>{let{id:b,depth:c,draft:k,globalConfig:l,overrideAccess:m,populate:o,showHiddenFields:p}=a,q=a.req,{fallbackLocale:r,locale:s,payload:t}=q;try{let j=await (0,i.n)(q);if(l.hooks?.beforeOperation?.length)for(let b of l.hooks.beforeOperation)a=await b({args:a,context:q.context,global:l,operation:"restoreVersion",req:q})||a;m||await (0,d.m)({req:q},l.access.update);let{docs:u}=await t.db.findGlobalVersions({global:l.slug,limit:1,req:q,where:{id:{equals:b}}});if(!u||0===u.length)throw new e.M(q.t);let v=u[0];v.version.globalType=l.slug,k&&(v.version._status="draft");let w=await t.findGlobal({slug:l.slug,depth:c,req:q}),x=await t.db.findGlobal({slug:l.slug,req:q}),y=v.version;if(x){y.updatedAt=new Date().toISOString(),y=await t.db.updateGlobal({slug:l.slug,data:y,req:q});let a=new Date().toISOString();y=await t.db.createGlobalVersion({autosave:!1,createdAt:y.createdAt?new Date(y.createdAt).toISOString():a,globalSlug:l.slug,req:q,updatedAt:k?a:new Date(y.updatedAt).toISOString(),versionData:y})}else y=await t.db.createGlobal({slug:l.slug,data:y,req:q});if(y=await (0,g.v)({collection:null,context:q.context,depth:c,doc:y,draft:void 0,fallbackLocale:r,global:l,locale:s,overrideAccess:m,populate:o,req:q,showHiddenFields:p}),l.hooks?.afterRead?.length)for(let a of l.hooks.afterRead)y=await a({context:q.context,doc:y,global:l,req:q})||y;if(y=await (0,f.t)({collection:null,context:q.context,data:y,doc:y,global:l,operation:"update",previousDoc:w,req:q}),l.hooks?.afterChange?.length)for(let a of l.hooks.afterChange)y=await a({context:q.context,data:y,doc:y,global:l,previousDoc:w,req:q})||y;return j&&await (0,h.w)(q),y}catch(a){throw await (0,j.J)(q),a}}},47904:(a,b,c)=>{"use strict";let{iteratorMixin:d}=c(51074),{kEnumerableProperty:e}=c(81350),{webidl:f}=c(81399),{File:g}=c(4573),h=c(57975),i=globalThis.File??g;class j{#aa=[];constructor(a){if(f.util.markAsUncloneable(this),void 0!==a)throw f.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]})}append(a,b,c){f.brandCheck(this,j);let d="FormData.append";f.argumentLengthCheck(arguments,2,d),a=f.converters.USVString(a),3==arguments.length||f.is.Blob(b)?(b=f.converters.Blob(b,d,"value"),void 0!==c&&(c=f.converters.USVString(c))):b=f.converters.USVString(b);let e=m(a,b,c);this.#aa.push(e)}delete(a){f.brandCheck(this,j);let b="FormData.delete";f.argumentLengthCheck(arguments,1,b),a=f.converters.USVString(a),this.#aa=this.#aa.filter(b=>b.name!==a)}get(a){f.brandCheck(this,j);let b="FormData.get";f.argumentLengthCheck(arguments,1,b),a=f.converters.USVString(a);let c=this.#aa.findIndex(b=>b.name===a);return -1===c?null:this.#aa[c].value}getAll(a){f.brandCheck(this,j);let b="FormData.getAll";return f.argumentLengthCheck(arguments,1,b),a=f.converters.USVString(a),this.#aa.filter(b=>b.name===a).map(a=>a.value)}has(a){f.brandCheck(this,j);let b="FormData.has";return f.argumentLengthCheck(arguments,1,b),a=f.converters.USVString(a),-1!==this.#aa.findIndex(b=>b.name===a)}set(a,b,c){f.brandCheck(this,j);let d="FormData.set";f.argumentLengthCheck(arguments,2,d),a=f.converters.USVString(a),3==arguments.length||f.is.Blob(b)?(b=f.converters.Blob(b,d,"value"),void 0!==c&&(c=f.converters.USVString(c))):b=f.converters.USVString(b);let e=m(a,b,c),g=this.#aa.findIndex(b=>b.name===a);-1!==g?this.#aa=[...this.#aa.slice(0,g),e,...this.#aa.slice(g+1).filter(b=>b.name!==a)]:this.#aa.push(e)}[h.inspect.custom](a,b){let c=this.#aa.reduce((a,b)=>(a[b.name]?Array.isArray(a[b.name])?a[b.name].push(b.value):a[b.name]=[a[b.name],b.value]:a[b.name]=b.value,a),{__proto__:null});b.depth??=a,b.colors??=!0;let d=h.formatWithOptions(b,c);return`FormData ${d.slice(d.indexOf("]")+2)}`}static getFormDataState(a){return a.#aa}static setFormDataState(a,b){a.#aa=b}}let{getFormDataState:k,setFormDataState:l}=j;function m(a,b,c){if("string"==typeof b);else if(f.is.File(b)||(b=new i([b],"blob",{type:b.type})),void 0!==c){let a={type:b.type,lastModified:b.lastModified};b=new i([b],c,a)}return{name:a,value:b}}Reflect.deleteProperty(j,"getFormDataState"),Reflect.deleteProperty(j,"setFormDataState"),d("FormData",j,k,"name","value"),Object.defineProperties(j.prototype,{append:e,delete:e,get:e,getAll:e,has:e,set:e,[Symbol.toStringTag]:{value:"FormData",configurable:!0}}),f.is.FormData=f.util.MakeTypeAssertion(j),a.exports={FormData:j,makeEntry:m,setFormDataState:l}},47934:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.or=b.and=b.not=b.CodeGen=b.operators=b.varKinds=b.ValueScopeName=b.ValueScope=b.Scope=b.Name=b.regexpCode=b.stringify=b.getProperty=b.nil=b.strConcat=b.str=b._=void 0;let d=c(37133),e=c(64422);var f=c(37133);Object.defineProperty(b,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(b,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(b,"strConcat",{enumerable:!0,get:function(){return f.strConcat}}),Object.defineProperty(b,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(b,"getProperty",{enumerable:!0,get:function(){return f.getProperty}}),Object.defineProperty(b,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(b,"regexpCode",{enumerable:!0,get:function(){return f.regexpCode}}),Object.defineProperty(b,"Name",{enumerable:!0,get:function(){return f.Name}});var g=c(64422);Object.defineProperty(b,"Scope",{enumerable:!0,get:function(){return g.Scope}}),Object.defineProperty(b,"ValueScope",{enumerable:!0,get:function(){return g.ValueScope}}),Object.defineProperty(b,"ValueScopeName",{enumerable:!0,get:function(){return g.ValueScopeName}}),Object.defineProperty(b,"varKinds",{enumerable:!0,get:function(){return g.varKinds}}),b.operators={GT:new d._Code(">"),GTE:new d._Code(">="),LT:new d._Code("<"),LTE:new d._Code("<="),EQ:new d._Code("==="),NEQ:new d._Code("!=="),NOT:new d._Code("!"),OR:new d._Code("||"),AND:new d._Code("&&"),ADD:new d._Code("+")};class h{optimizeNodes(){return this}optimizeNames(a,b){return this}}class i extends h{constructor(a,b,c){super(),this.varKind=a,this.name=b,this.rhs=c}render({es5:a,_n:b}){let c=a?e.varKinds.var:this.varKind,d=void 0===this.rhs?"":` = ${this.rhs}`;return`${c} ${this.name}${d};`+b}optimizeNames(a,b){if(a[this.name.str])return this.rhs&&(this.rhs=H(this.rhs,a,b)),this}get names(){return this.rhs instanceof d._CodeOrName?this.rhs.names:{}}}class j extends h{constructor(a,b,c){super(),this.lhs=a,this.rhs=b,this.sideEffects=c}render({_n:a}){return`${this.lhs} = ${this.rhs};`+a}optimizeNames(a,b){if(!(this.lhs instanceof d.Name)||a[this.lhs.str]||this.sideEffects)return this.rhs=H(this.rhs,a,b),this}get names(){return G(this.lhs instanceof d.Name?{}:{...this.lhs.names},this.rhs)}}class k extends j{constructor(a,b,c,d){super(a,c,d),this.op=b}render({_n:a}){return`${this.lhs} ${this.op}= ${this.rhs};`+a}}class l extends h{constructor(a){super(),this.label=a,this.names={}}render({_n:a}){return`${this.label}:`+a}}class m extends h{constructor(a){super(),this.label=a,this.names={}}render({_n:a}){let b=this.label?` ${this.label}`:"";return`break${b};`+a}}class o extends h{constructor(a){super(),this.error=a}render({_n:a}){return`throw ${this.error};`+a}get names(){return this.error.names}}class p extends h{constructor(a){super(),this.code=a}render({_n:a}){return`${this.code};`+a}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(a,b){return this.code=H(this.code,a,b),this}get names(){return this.code instanceof d._CodeOrName?this.code.names:{}}}class q extends h{constructor(a=[]){super(),this.nodes=a}render(a){return this.nodes.reduce((b,c)=>b+c.render(a),"")}optimizeNodes(){let{nodes:a}=this,b=a.length;for(;b--;){let c=a[b].optimizeNodes();Array.isArray(c)?a.splice(b,1,...c):c?a[b]=c:a.splice(b,1)}return a.length>0?this:void 0}optimizeNames(a,b){let{nodes:c}=this,d=c.length;for(;d--;){let e=c[d];e.optimizeNames(a,b)||(I(a,e.names),c.splice(d,1))}return c.length>0?this:void 0}get names(){return this.nodes.reduce((a,b)=>F(a,b.names),{})}}class r extends q{render(a){return"{"+a._n+super.render(a)+"}"+a._n}}class s extends q{}class t extends r{}t.kind="else";class u extends r{constructor(a,b){super(b),this.condition=a}render(a){let b=`if(${this.condition})`+super.render(a);return this.else&&(b+="else "+this.else.render(a)),b}optimizeNodes(){super.optimizeNodes();let a=this.condition;if(!0===a)return this.nodes;let b=this.else;if(b){let a=b.optimizeNodes();b=this.else=Array.isArray(a)?new t(a):a}return b?!1===a?b instanceof u?b:b.nodes:this.nodes.length?this:new u(J(a),b instanceof u?[b]:b.nodes):!1!==a&&this.nodes.length?this:void 0}optimizeNames(a,b){var c;if(this.else=null==(c=this.else)?void 0:c.optimizeNames(a,b),super.optimizeNames(a,b)||this.else)return this.condition=H(this.condition,a,b),this}get names(){let a=super.names;return G(a,this.condition),this.else&&F(a,this.else.names),a}}u.kind="if";class v extends r{}v.kind="for";class w extends v{constructor(a){super(),this.iteration=a}render(a){return`for(${this.iteration})`+super.render(a)}optimizeNames(a,b){if(super.optimizeNames(a,b))return this.iteration=H(this.iteration,a,b),this}get names(){return F(super.names,this.iteration.names)}}class x extends v{constructor(a,b,c,d){super(),this.varKind=a,this.name=b,this.from=c,this.to=d}render(a){let b=a.es5?e.varKinds.var:this.varKind,{name:c,from:d,to:f}=this;return`for(${b} ${c}=${d}; ${c}<${f}; ${c}++)`+super.render(a)}get names(){let a=G(super.names,this.from);return G(a,this.to)}}class y extends v{constructor(a,b,c,d){super(),this.loop=a,this.varKind=b,this.name=c,this.iterable=d}render(a){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(a)}optimizeNames(a,b){if(super.optimizeNames(a,b))return this.iterable=H(this.iterable,a,b),this}get names(){return F(super.names,this.iterable.names)}}class z extends r{constructor(a,b,c){super(),this.name=a,this.args=b,this.async=c}render(a){let b=this.async?"async ":"";return`${b}function ${this.name}(${this.args})`+super.render(a)}}z.kind="func";class A extends q{render(a){return"return "+super.render(a)}}A.kind="return";class B extends r{render(a){let b="try"+super.render(a);return this.catch&&(b+=this.catch.render(a)),this.finally&&(b+=this.finally.render(a)),b}optimizeNodes(){var a,b;return super.optimizeNodes(),null==(a=this.catch)||a.optimizeNodes(),null==(b=this.finally)||b.optimizeNodes(),this}optimizeNames(a,b){var c,d;return super.optimizeNames(a,b),null==(c=this.catch)||c.optimizeNames(a,b),null==(d=this.finally)||d.optimizeNames(a,b),this}get names(){let a=super.names;return this.catch&&F(a,this.catch.names),this.finally&&F(a,this.finally.names),a}}class C extends r{constructor(a){super(),this.error=a}render(a){return`catch(${this.error})`+super.render(a)}}C.kind="catch";class D extends r{render(a){return"finally"+super.render(a)}}D.kind="finally";class E{constructor(a,b={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...b,_n:b.lines?"\n":""},this._extScope=a,this._scope=new e.Scope({parent:a}),this._nodes=[new s]}toString(){return this._root.render(this.opts)}name(a){return this._scope.name(a)}scopeName(a){return this._extScope.name(a)}scopeValue(a,b){let c=this._extScope.value(a,b);return(this._values[c.prefix]||(this._values[c.prefix]=new Set)).add(c),c}getScopeValue(a,b){return this._extScope.getValue(a,b)}scopeRefs(a){return this._extScope.scopeRefs(a,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(a,b,c,d){let e=this._scope.toName(b);return void 0!==c&&d&&(this._constants[e.str]=c),this._leafNode(new i(a,e,c)),e}const(a,b,c){return this._def(e.varKinds.const,a,b,c)}let(a,b,c){return this._def(e.varKinds.let,a,b,c)}var(a,b,c){return this._def(e.varKinds.var,a,b,c)}assign(a,b,c){return this._leafNode(new j(a,b,c))}add(a,c){return this._leafNode(new k(a,b.operators.ADD,c))}code(a){return"function"==typeof a?a():a!==d.nil&&this._leafNode(new p(a)),this}object(...a){let b=["{"];for(let[c,e]of a)b.length>1&&b.push(","),b.push(c),(c!==e||this.opts.es5)&&(b.push(":"),(0,d.addCodeArg)(b,e));return b.push("}"),new d._Code(b)}if(a,b,c){if(this._blockNode(new u(a)),b&&c)this.code(b).else().code(c).endIf();else if(b)this.code(b).endIf();else if(c)throw Error('CodeGen: "else" body without "then" body');return this}elseIf(a){return this._elseNode(new u(a))}else(){return this._elseNode(new t)}endIf(){return this._endBlockNode(u,t)}_for(a,b){return this._blockNode(a),b&&this.code(b).endFor(),this}for(a,b){return this._for(new w(a),b)}forRange(a,b,c,d,f=this.opts.es5?e.varKinds.var:e.varKinds.let){let g=this._scope.toName(a);return this._for(new x(f,g,b,c),()=>d(g))}forOf(a,b,c,f=e.varKinds.const){let g=this._scope.toName(a);if(this.opts.es5){let a=b instanceof d.Name?b:this.var("_arr",b);return this.forRange("_i",0,(0,d._)`${a}.length`,b=>{this.var(g,(0,d._)`${a}[${b}]`),c(g)})}return this._for(new y("of",f,g,b),()=>c(g))}forIn(a,b,c,f=this.opts.es5?e.varKinds.var:e.varKinds.const){if(this.opts.ownProperties)return this.forOf(a,(0,d._)`Object.keys(${b})`,c);let g=this._scope.toName(a);return this._for(new y("in",f,g,b),()=>c(g))}endFor(){return this._endBlockNode(v)}label(a){return this._leafNode(new l(a))}break(a){return this._leafNode(new m(a))}return(a){let b=new A;if(this._blockNode(b),this.code(a),1!==b.nodes.length)throw Error('CodeGen: "return" should have one node');return this._endBlockNode(A)}try(a,b,c){if(!b&&!c)throw Error('CodeGen: "try" without "catch" and "finally"');let d=new B;if(this._blockNode(d),this.code(a),b){let a=this.name("e");this._currNode=d.catch=new C(a),b(a)}return c&&(this._currNode=d.finally=new D,this.code(c)),this._endBlockNode(C,D)}throw(a){return this._leafNode(new o(a))}block(a,b){return this._blockStarts.push(this._nodes.length),a&&this.code(a).endBlock(b),this}endBlock(a){let b=this._blockStarts.pop();if(void 0===b)throw Error("CodeGen: not in self-balancing block");let c=this._nodes.length-b;if(c<0||void 0!==a&&c!==a)throw Error(`CodeGen: wrong number of nodes: ${c} vs ${a} expected`);return this._nodes.length=b,this}func(a,b=d.nil,c,e){return this._blockNode(new z(a,b,c)),e&&this.code(e).endFunc(),this}endFunc(){return this._endBlockNode(z)}optimize(a=1){for(;a-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(a){return this._currNode.nodes.push(a),this}_blockNode(a){this._currNode.nodes.push(a),this._nodes.push(a)}_endBlockNode(a,b){let c=this._currNode;if(c instanceof a||b&&c instanceof b)return this._nodes.pop(),this;throw Error(`CodeGen: not in block "${b?`${a.kind}/${b.kind}`:a.kind}"`)}_elseNode(a){let b=this._currNode;if(!(b instanceof u))throw Error('CodeGen: "else" without "if"');return this._currNode=b.else=a,this}get _root(){return this._nodes[0]}get _currNode(){let a=this._nodes;return a[a.length-1]}set _currNode(a){let b=this._nodes;b[b.length-1]=a}}function F(a,b){for(let c in b)a[c]=(a[c]||0)+(b[c]||0);return a}function G(a,b){return b instanceof d._CodeOrName?F(a,b.names):a}function H(a,b,c){if(a instanceof d.Name)return e(a);if(!f(a))return a;return new d._Code(a._items.reduce((a,b)=>(b instanceof d.Name&&(b=e(b)),b instanceof d._Code?a.push(...b._items):a.push(b),a),[]));function e(a){let d=c[a.str];return void 0===d||1!==b[a.str]?a:(delete b[a.str],d)}function f(a){return a instanceof d._Code&&a._items.some(a=>a instanceof d.Name&&1===b[a.str]&&void 0!==c[a.str])}}function I(a,b){for(let c in b)a[c]=(a[c]||0)-(b[c]||0)}function J(a){return"boolean"==typeof a||"number"==typeof a||null===a?!a:(0,d._)`!${N(a)}`}b.CodeGen=E,b.not=J;let K=M(b.operators.AND);b.and=function(...a){return a.reduce(K)};let L=M(b.operators.OR);function M(a){return(b,c)=>b===d.nil?c:c===d.nil?b:(0,d._)`${N(b)} ${a} ${N(c)}`}function N(a){return a instanceof d.Name?a:(0,d._)`(${a})`}b.or=function(...a){return a.reduce(L)}},48071:(a,b,c)=>{"use strict";c.d(b,{k:()=>R});var d=c(55511),e=c(30500),f=c(99408),g=c(79551),h=c(81218);async function i(a){let{collection:{config:b},config:c,disableEmail:d,email:e,req:f,token:i,user:j}=a;if(!d){let a=new g.URL(f.url).protocol,d=null!==c.serverURL&&""!==c.serverURL?c.serverURL:`${a}//${f.headers.get("host")}`,k=(0,h.Q)({adminRoute:c.routes.admin,path:`/${b.slug}/verify/${i}`,serverURL:d}),l=`${f.t("authentication:newAccountCreated",{serverURL:c.serverURL,verificationURL:k})}`,m=b.auth.verify;"function"==typeof m.generateEmailHTML&&(l=await m.generateEmailHTML({req:f,token:i,user:j}));let o=f.t("authentication:verifyYourEmail");"function"==typeof m.generateEmailSubject&&(o=await m.generateEmailSubject({req:f,token:i,user:j})),await e.sendEmail({from:`"${e.defaultFromName}" <${e.defaultFromAddress}>`,html:l,subject:o,to:j.email})}}var j=c(90639),k=c(48240),l=c(15629);let m=async({collection:a,doc:b,password:c,payload:d,req:e})=>{let f,g=a?.auth?.loginWithUsername,{canLoginWithEmail:h,canLoginWithUsername:i}=(0,k.Y)(g);if(i?(f={or:[]},h&&b.email&&f.or?.push({email:{equals:b.email}}),b.username&&f.or?.push({username:{equals:b.username}})):f={email:{equals:b.email}},(await d.find({collection:a.slug,depth:0,limit:1,pagination:!1,req:e,where:f})).docs.length>0)throw new j.y({collection:a.slug,errors:[i?{message:e.t("error:usernameAlreadyRegistered"),path:"username"}:{message:e.t("error:userEmailAlreadyRegistered"),path:"email"}]});let{hash:m,salt:o}=await (0,l.$)({collection:a,password:c,req:e}),p={...b};return p.password&&delete p.password,d.db.create({collection:a.slug,data:{...p,hash:m,salt:o},req:e})};var o=c(65716),p=c(10631),q=c(86069),r=c(82545),s=c(1276),t=c(65540),u=c(898);let v=async({id:a,blockData:b,collection:c,context:d,doc:e,field:f,fieldIndex:g,overrideAccess:h,parentIndexPath:i,parentIsLocalized:j,parentPath:k,parentSchemaPath:l,req:m,siblingDoc:o,siblingFields:p})=>{let{indexPath:q,path:r,schemaPath:s}=(0,u.I)({field:f,index:g,parentIndexPath:i,parentPath:k,parentSchemaPath:l}),{localization:v}=m.payload.config,x=r?r.split("."):[],y=s?s.split("."):[],z=q?q.split("-").filter(Boolean)?.map(Number):[];if((0,t.Z7)(f)){let g=o?.[f.name],i=v&&(0,t.Cd)({field:f,parentIsLocalized:j});if(Array.isArray("hooks"in f&&f.hooks?.beforeDuplicate))if(i){let a={};for(let g of v.localeCodes){let h,i={blockData:b,collection:c,context:d,data:e,field:f,global:void 0,indexPath:z,path:x,previousSiblingDoc:o,previousValue:o[f.name]?.[g],req:m,schemaPath:y,siblingData:o,siblingDocWithLocales:o,siblingFields:p,value:o[f.name]?.[g]};if("hooks"in f&&f.hooks?.beforeDuplicate)for(let a of f.hooks.beforeDuplicate)h=await a(i);void 0!==h&&(a[g]=h)}o[f.name]=a}else{let a,g={blockData:b,collection:c,context:d,data:e,field:f,global:void 0,indexPath:z,path:x,previousSiblingDoc:o,previousValue:o[f.name],req:m,schemaPath:y,siblingData:o,siblingDocWithLocales:o,siblingFields:p,value:o[f.name]};if("hooks"in f&&f.hooks?.beforeDuplicate)for(let b of f.hooks.beforeDuplicate)a=await b(g);void 0!==a&&(o[f.name]=a)}if(i){("object"!=typeof g||null===g)&&(o[f.name]={},g=o[f.name]);let i=[];v.localeCodes.forEach(k=>{if(g[k])switch(f.type){case"array":{let i=g[k];if(Array.isArray(i)){let g=[];i.forEach((i,k)=>{g.push(w({id:a,blockData:b,collection:c,context:d,doc:e,fields:f.fields,overrideAccess:h,parentIndexPath:"",parentIsLocalized:j||f.localized,parentPath:r+"."+k,parentSchemaPath:s,req:m,siblingDoc:i}))})}break}case"blocks":{let b=g[k];if(Array.isArray(b)){let g=[];b.forEach((b,i)=>{let k=b.blockType,l=m.payload.blocks[k]??(f.blockReferences??f.blocks).find(a=>"string"!=typeof a&&a.slug===k);g.push(w({id:a,blockData:b,collection:c,context:d,doc:e,fields:l.fields,overrideAccess:h,parentIndexPath:"",parentIsLocalized:j||f.localized,parentPath:r+"."+i,parentSchemaPath:s+"."+l.slug,req:m,siblingDoc:b}))})}break}case"group":case"tab":i.push(w({id:a,blockData:b,collection:c,context:d,doc:e,fields:f.fields,overrideAccess:h,parentIndexPath:"",parentIsLocalized:j||f.localized,parentPath:r,parentSchemaPath:s,req:m,siblingDoc:g[k]}))}}),await Promise.all(i)}else switch(f.type){case"array":{let g=o[f.name];if(Array.isArray(g)){let i=[];g.forEach((g,k)=>{i.push(w({id:a,blockData:b,collection:c,context:d,doc:e,fields:f.fields,overrideAccess:h,parentIndexPath:"",parentIsLocalized:j||f.localized,parentPath:r+"."+k,parentSchemaPath:s,req:m,siblingDoc:g}))}),await Promise.all(i)}break}case"blocks":{let b=o[f.name];if(Array.isArray(b)){let g=[];b.forEach((b,i)=>{let k=b.blockType,l=m.payload.blocks[k]??(f.blockReferences??f.blocks).find(a=>"string"!=typeof a&&a.slug===k);l&&(b.blockType=k,g.push(w({id:a,blockData:b,collection:c,context:d,doc:e,fields:l.fields,overrideAccess:h,parentIndexPath:"",parentIsLocalized:j||f.localized,parentPath:r+"."+i,parentSchemaPath:s+"."+l.slug,req:m,siblingDoc:b})))}),await Promise.all(g)}break}case"group":{"object"!=typeof o[f.name]&&(o[f.name]={});let g=o[f.name];await w({id:a,blockData:b,collection:c,context:d,doc:e,fields:f.fields,overrideAccess:h,parentIndexPath:"",parentIsLocalized:j||f.localized,parentPath:r,parentSchemaPath:s,req:m,siblingDoc:g});break}case"tab":{"object"!=typeof o[f.name]&&(o[f.name]={});let g=o[f.name];await w({id:a,blockData:b,collection:c,context:d,doc:e,fields:f.fields,overrideAccess:h,parentIndexPath:"",parentIsLocalized:j||f.localized,parentPath:r,parentSchemaPath:s,req:m,siblingDoc:g})}}}else switch(f.type){case"collapsible":case"group":case"row":case"tab":await w({id:a,blockData:b,collection:c,context:d,doc:e,fields:f.fields,overrideAccess:h,parentIndexPath:q,parentIsLocalized:j,parentPath:k,parentSchemaPath:s,req:m,siblingDoc:o});break;case"tabs":await w({id:a,blockData:b,collection:c,context:d,doc:e,fields:f.tabs.map(a=>({...a,type:"tab"})),overrideAccess:h,parentIndexPath:q,parentIsLocalized:j,parentPath:r,parentSchemaPath:s,req:m,siblingDoc:o})}},w=async({id:a,blockData:b,collection:c,context:d,doc:e,fields:f,overrideAccess:g,parentIndexPath:h,parentIsLocalized:i,parentPath:j,parentSchemaPath:k,req:l,siblingDoc:m})=>{let o=[];f.forEach((p,q)=>{o.push(v({id:a,blockData:b,collection:c,context:d,doc:e,field:p,fieldIndex:q,overrideAccess:g,parentIndexPath:h,parentIsLocalized:i,parentPath:j,parentSchemaPath:k,req:l,siblingDoc:m,siblingFields:f}))}),await Promise.all(o)},x=async({id:a,collection:b,context:c,doc:d,overrideAccess:e,req:f})=>(await w({id:a,collection:b,context:c,doc:d,fields:b.fields,overrideAccess:e,parentIndexPath:"",parentIsLocalized:!1,parentPath:"",parentSchemaPath:"",req:f,siblingDoc:d}),d);var y=c(46601);function z({configBlockReferences:a,docWithLocales:b,fields:c,parentIsLocalized:d=!1,selectedLocales:e}){if(!b||"object"!=typeof b)return b;let f={};for(let g of c)if((0,t.Z7)(g)){let c=(0,t.Cd)({field:g,parentIsLocalized:d});switch(g.type){case"array":Array.isArray(b[g.name])&&(f[g.name]=b[g.name].map(b=>z({configBlockReferences:a,docWithLocales:b,fields:g.fields,parentIsLocalized:c,selectedLocales:e})));break;case"blocks":g.name in b&&Array.isArray(b[g.name])&&(f[g.name]=b[g.name].map(b=>{let d;if(a&&g.blockReferences)for(let c of g.blockReferences)d="string"==typeof c?a.find(a=>a.slug===b.blockType):c;else g.blocks&&(d=g.blocks.find(a=>a.slug===b.blockType));return d?z({configBlockReferences:a,docWithLocales:b,fields:d?.fields||[],parentIsLocalized:c,selectedLocales:e}):b}));break;case"group":(0,t.Z7)(g)&&g.name in b&&"object"==typeof b[g.name]?f[g.name]=z({configBlockReferences:a,docWithLocales:b[g.name],fields:g.fields,parentIsLocalized:c,selectedLocales:e}):Object.assign(f,z({configBlockReferences:a,docWithLocales:b,fields:g.fields,parentIsLocalized:d,selectedLocales:e}));break;default:if(g.name in b){let a=b[g.name];if(c&&a&&"object"==typeof a&&!Array.isArray(a))if(e&&e.length>0){let b={};for(let c of e)c in a&&(b[c]=a[c]);Object.keys(b).length>0&&(f[g.name]=b)}else f[g.name]=a;else f[g.name]=a}}}else switch(g.type){case"collapsible":case"row":Object.assign(f,z({configBlockReferences:a,docWithLocales:b,fields:g.fields,parentIsLocalized:d,selectedLocales:e}));break;case"tabs":for(let c of g.tabs)(0,t.pz)(c)?c.name in b&&"object"==typeof b[c.name]&&(f[c.name]=z({configBlockReferences:a,docWithLocales:b[c.name],fields:c.fields,parentIsLocalized:d,selectedLocales:e})):Object.assign(f,z({configBlockReferences:a,docWithLocales:b,fields:c.fields,parentIsLocalized:d,selectedLocales:e}))}return f}var A=c(58609);let B=async({id:a,collectionConfig:b,draftArg:c,overrideAccess:d,req:e,selectedLocales:g})=>{let{payload:h}=e,i=!!d||await (0,f.m)({id:a,req:e},b.access.read),j=(0,o.L)(i),k={collection:b.slug,locale:e.locale,req:e,where:(0,p.m)({id:{equals:a}},i)},l=await (0,A.a)({id:a,config:b,payload:h,query:k,req:e});if(g&&g.length>0&&l&&(l=z({configBlockReferences:h.config.blocks,docWithLocales:l,fields:b.fields,selectedLocales:g})),!l&&!j)throw new r.M(e.t);if(!l&&j)throw new q.c(e.t);return"createdAt"in l&&delete l.createdAt,"id"in l&&delete l.id,l=await x({id:a,collection:b,context:e.context,doc:l,overrideAccess:d,req:e}),{duplicatedFromDoc:await (0,s.v)({collection:b,context:e.context,depth:0,doc:(0,y.Zt)(l),draft:c,fallbackLocale:null,global:null,locale:e.locale,overrideAccess:!0,req:e,showHiddenFields:!0}),duplicatedFromDocWithLocales:l}};var C=c(78584),D=c(40869),E=c(86739),F=c(37712),G=c(12442),H=c(41442),I=c(48348),J=c(46386),K=c(23042),L=c(23271),M=c(66089),N=c(71462),O=c(16886),P=c(35183),Q=c(96683);let R=async a=>{let b=a;try{let a,c=!b.disableTransaction&&await (0,L.n)(b.req);(0,e.q)({authOptions:b.collection.config.auth,collectionSlug:b.collection.config.slug,data:b.data,operation:"create",req:b.req}),(b=await (0,Q.v)({args:b,collection:b.collection.config,operation:"create"})).publishSpecificLocale&&(b.req.locale=b.publishSpecificLocale);let{autosave:g=!1,collection:{config:h},collection:j,depth:k,disableVerificationEmail:l,draft:o=!1,duplicateFromID:p,overrideAccess:q,overwriteExistingFiles:r=!1,populate:t,publishSpecificLocale:u,req:{fallbackLocale:v,locale:w,payload:x,payload:{config:y}},req:z,select:A,selectedLocales:M,showHiddenFields:R}=b,{data:S}=b,T=!!(o&&(0,K.gD)(h)),U={},V={};if(p){let a=await B({id:p,collectionConfig:h,draftArg:T,overrideAccess:q,req:z,selectedLocales:M});V=a.duplicatedFromDoc,U=a.duplicatedFromDocWithLocales}q||await (0,f.m)({data:S,req:z},h.access.create);let{data:W,files:X}=await (0,G.Y)({collection:j,config:y,data:S,isDuplicating:!!p,operation:"create",originalDoc:V,overwriteExistingFiles:r,req:z,throwOnMissingFile:!T&&!1!==j.config.upload.filesRequiredOnCreate});if(S=W,S=await (0,E.M)({collection:h,context:z.context,data:S,doc:V,global:null,operation:"create",overrideAccess:q,req:z}),h.hooks.beforeValidate?.length)for(let a of h.hooks.beforeValidate)S=await a({collection:h,context:z.context,data:S,operation:"create",originalDoc:V,req:z})||S;if(h.hooks?.beforeChange?.length)for(let a of h.hooks.beforeChange)S=await a({collection:h,context:z.context,data:S,operation:"create",originalDoc:V,req:z})||S;let Y=await (0,D.o)({collection:h,context:z.context,data:S,doc:V,docWithLocales:U,global:null,operation:"create",overrideAccess:q,req:z,skipValidation:T&&!(0,K.wA)(h)});h.upload.disableLocalStorage||await (0,I.Z)(x,X,z);let Z=(0,O.Y)({fields:h.flattenedFields,forceSelect:h.forceSelect,select:A});h.auth&&!h.auth.disableLocalStrategy?(h.auth.verify&&(Y._verified=!!Y._verified,Y._verificationToken=d.randomBytes(20).toString("hex")),a=await m({collection:h,doc:Y,password:S.password,payload:z.payload,req:z})):a=await x.db.create({collection:h.slug,data:Y,req:z});let $=a._verificationToken,_=(0,N.E)(a);if(h.versions&&await (0,F.U)({id:_.id,autosave:g,collection:h,docWithLocales:_,operation:"create",payload:x,publishSpecificLocale:u,req:z}),h.auth&&h.auth.verify&&_.email&&await i({collection:{config:h},config:x.config,disableEmail:l,email:x.email,req:z,token:$,user:_}),_=await (0,s.v)({collection:h,context:z.context,depth:k,doc:_,draft:o,fallbackLocale:v,global:null,locale:w,overrideAccess:q,populate:t,req:z,select:Z,showHiddenFields:R}),h.hooks?.afterRead?.length)for(let a of h.hooks.afterRead)_=await a({collection:h,context:z.context,doc:_,req:z})||_;if(_=await (0,C.t)({collection:h,context:z.context,data:S,doc:_,global:null,operation:"create",previousDoc:{},req:z}),h.hooks?.afterChange?.length)for(let a of h.hooks.afterChange)_=await a({collection:h,context:z.context,data:S,doc:_,operation:"create",previousDoc:{},req:b.req})||_;return _=await (0,P.E)({args:b,collection:h,operation:"create",result:_}),await (0,H.b)({collectionConfig:h,config:y,req:z}),c&&await (0,J.w)(z),_}catch(a){throw await (0,M.J)(b.req),a}}},48240:(a,b,c)=>{"use strict";c.d(b,{Y:()=>d});let d=a=>({canLoginWithEmail:!a||a.allowEmailLogin,canLoginWithUsername:!!a})},48348:(a,b,c)=>{"use strict";c.d(b,{Z:()=>h});var d=c(32603),e=c(79748),f=c(27910);let g=async(a,b)=>{let c=a,d=new f.Readable;return d._read=()=>{d.push(c),c=null},await e.writeFile(b,a)},h=async(a,b,c)=>{try{await Promise.all(b.map(async({buffer:a,path:b})=>{await g(a,b)}))}catch(b){throw a.logger.error(b),new d.e(c.t)}}},48445:(a,b,c)=>{"use strict";c.d(b,{M:()=>j});var d=c(65716),e=c(10631);function f(a){return a?.createdAt&&a?.updatedAt}var g=c(71462),h=c(37745),i=c(79983);let j=async({accessResult:a,doc:b,entity:c,entityType:j,req:k,select:l})=>{let m,o,{locale:p}=k,q={and:[{"version._status":{equals:"draft"}}]};"collection"===j&&q.and.push({parent:{equals:b.id}}),f(b)&&q.and.push({or:[{updatedAt:{greater_than:b.updatedAt}},{latest:{equals:!0}}]}),(0,d.L)(a)&&(m=(0,h.D)(a));let r={collection:c.slug,global:c.slug,limit:1,locale:p,pagination:!1,req:k,select:(0,i.V)({select:l}),sort:"-updatedAt",where:(0,e.m)(q,m)},s=(o="global"===j?(await k.payload.db.findGlobalVersions(r)).docs:(await k.payload.db.findVersions(r)).docs)[0];return s?(s=(0,g.E)(s),"global"===j&&"globalType"in b&&(s.version.globalType=b.globalType),s.version||(s.version={}),s.version.id=b.id,s.version):b}},48758:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{revalidatePath:function(){return o},revalidateTag:function(){return k},unstable_expirePath:function(){return l},unstable_expireTag:function(){return m}});let d=c(30563),e=c(32528),f=c(30007),g=c(29294),h=c(63033),i=c(35207),j=c(41849);function k(a){return p([a],`revalidateTag ${a}`)}function l(a,b){if(a.length>f.NEXT_CACHE_SOFT_TAG_MAX_LENGTH)return void console.warn(`Warning: expirePath received "${a}" which exceeded max length of ${f.NEXT_CACHE_SOFT_TAG_MAX_LENGTH}. See more info here https://nextjs.org/docs/app/api-reference/functions/unstable_expirePath`);let c=`${f.NEXT_CACHE_IMPLICIT_TAG_ID}${a}`;return b?c+=`${c.endsWith("/")?"":"/"}${b}`:(0,e.isDynamicRoute)(a)&&console.warn(`Warning: a dynamic page path "${a}" was passed to "expirePath", but the "type" parameter is missing. This has no effect by default, see more info here https://nextjs.org/docs/app/api-reference/functions/unstable_expirePath`),p([c],`unstable_expirePath ${a}`)}function m(...a){return p(a,`unstable_expireTag ${a.join(", ")}`)}function o(a,b){if(a.length>f.NEXT_CACHE_SOFT_TAG_MAX_LENGTH)return void console.warn(`Warning: revalidatePath received "${a}" which exceeded max length of ${f.NEXT_CACHE_SOFT_TAG_MAX_LENGTH}. See more info here https://nextjs.org/docs/app/api-reference/functions/revalidatePath`);let c=`${f.NEXT_CACHE_IMPLICIT_TAG_ID}${a}`;return b?c+=`${c.endsWith("/")?"":"/"}${b}`:(0,e.isDynamicRoute)(a)&&console.warn(`Warning: a dynamic page path "${a}" was passed to "revalidatePath", but the "type" parameter is missing. This has no effect by default, see more info here https://nextjs.org/docs/app/api-reference/functions/revalidatePath`),p([c],`revalidatePath ${a}`)}function p(a,b){let c=g.workAsyncStorage.getStore();if(!c||!c.incrementalCache)throw Object.defineProperty(Error(`Invariant: static generation store missing in ${b}`),"__NEXT_ERROR_CODE",{value:"E263",enumerable:!1,configurable:!0});let e=h.workUnitAsyncStorage.getStore();if(e){if("cache"===e.type)throw Object.defineProperty(Error(`Route ${c.route} used "${b}" inside a "use cache" which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E181",enumerable:!1,configurable:!0});if("unstable-cache"===e.type)throw Object.defineProperty(Error(`Route ${c.route} used "${b}" inside a function cached with "unstable_cache(...)" which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E306",enumerable:!1,configurable:!0});if("render"===e.phase)throw Object.defineProperty(Error(`Route ${c.route} used "${b}" during render which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E7",enumerable:!1,configurable:!0});switch(e.type){case"prerender":let a=Object.defineProperty(Error(`Route ${c.route} used ${b} without first calling \`await connection()\`.`),"__NEXT_ERROR_CODE",{value:"E406",enumerable:!1,configurable:!0});(0,d.abortAndThrowOnSynchronousRequestDataAccess)(c.route,b,a,e);break;case"prerender-client":throw Object.defineProperty(new j.InvariantError(`${b} must not be used within a client component. Next.js should be preventing ${b} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":(0,d.postponeWithTracking)(c.route,b,e.dynamicTracking);break;case"prerender-legacy":e.revalidate=0;let f=Object.defineProperty(new i.DynamicServerError(`Route ${c.route} couldn't be rendered statically because it used \`${b}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw c.dynamicUsageDescription=b,c.dynamicUsageStack=f.stack,f}}for(let b of(c.pendingRevalidatedTags||(c.pendingRevalidatedTags=[]),a))c.pendingRevalidatedTags.includes(b)||c.pendingRevalidatedTags.push(b);c.pathWasRevalidated=!0}},48925:(a,b,c)=>{"use strict";c.d(b,{Pi:()=>q,dJ:()=>h,fi:()=>p,jL:()=>k,jd:()=>j,xi:()=>i});var d=c(86861),e=c(34318);let f="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,g=f&&"documentMode"in document?document.documentMode:null;f&&"InputEvent"in window&&!g&&new window.InputEvent("input"),f&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),f&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,f&&/^(?=.*Chrome).*/i.test(navigator.userAgent),f&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent),(0,e.guI)("DRAG_DROP_PASTE_FILE");class h extends e.fGB{static getType(){return"quote"}static clone(a){return new h(a.__key)}createDOM(a){let b=document.createElement("blockquote");return(0,d.ZB)(b,a.theme.quote),b}updateDOM(a,b){return!1}static importDOM(){return{blockquote:a=>({conversion:o,priority:0})}}exportDOM(a){let{element:b}=super.exportDOM(a);if((0,e.sby)(b)){this.isEmpty()&&b.append(document.createElement("br"));let a=this.getFormatType();a&&(b.style.textAlign=a);let c=this.getDirection();c&&(b.dir=c)}return{element:b}}static importJSON(a){return i().updateFromJSON(a)}insertNewAfter(a,b){let c=(0,e.lJ7)(),d=this.getDirection();return c.setDirection(d),this.insertAfter(c,b),c}collapseAtStart(){let a=(0,e.lJ7)();return this.getChildren().forEach(b=>a.append(b)),this.replace(a),!0}canMergeWhenEmpty(){return!0}}function i(){return(0,e.pTq)(new h)}function j(a){return a instanceof h}class k extends e.fGB{static getType(){return"heading"}static clone(a){return new k(a.__tag,a.__key)}constructor(a,b){super(b),this.__tag=a}getTag(){return this.__tag}setTag(a){let b=this.getWritable();return this.__tag=a,b}createDOM(a){let b=this.__tag,c=document.createElement(b),e=a.theme.heading;if(void 0!==e){let a=e[b];(0,d.ZB)(c,a)}return c}updateDOM(a,b,c){return a.__tag!==this.__tag}static importDOM(){return{h1:a=>({conversion:m,priority:0}),h2:a=>({conversion:m,priority:0}),h3:a=>({conversion:m,priority:0}),h4:a=>({conversion:m,priority:0}),h5:a=>({conversion:m,priority:0}),h6:a=>({conversion:m,priority:0}),p:a=>{let b=a.firstChild;return null!==b&&l(b)?{conversion:()=>({node:null}),priority:3}:null},span:a=>l(a)?{conversion:a=>({node:p("h1")}),priority:3}:null}}exportDOM(a){let{element:b}=super.exportDOM(a);if((0,e.sby)(b)){this.isEmpty()&&b.append(document.createElement("br"));let a=this.getFormatType();a&&(b.style.textAlign=a);let c=this.getDirection();c&&(b.dir=c)}return{element:b}}static importJSON(a){return p(a.tag).updateFromJSON(a)}updateFromJSON(a){return super.updateFromJSON(a).setTag(a.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(a,b=!0){let c=a?a.anchor.offset:0,d=this.getLastDescendant(),f=d&&(!a||a.anchor.key!==d.getKey()||c!==d.getTextContentSize())&&a?p(this.getTag()):(0,e.lJ7)(),g=this.getDirection();if(f.setDirection(g),this.insertAfter(f,b),0===c&&!this.isEmpty()&&a){let a=(0,e.lJ7)();a.select(),this.replace(a,!0)}return f}collapseAtStart(){let a=this.isEmpty()?(0,e.lJ7)():p(this.getTag());return this.getChildren().forEach(b=>a.append(b)),this.replace(a),!0}extractWithChild(){return!0}}function l(a){return"span"===a.nodeName.toLowerCase()&&"26pt"===a.style.fontSize}function m(a){let b=a.nodeName.toLowerCase(),c=null;return"h1"!==b&&"h2"!==b&&"h3"!==b&&"h4"!==b&&"h5"!==b&&"h6"!==b||(c=p(b),null!==a.style&&((0,e.dxY)(a,c),c.setFormat(a.style.textAlign))),{node:c}}function o(a){let b=i();return null!==a.style&&(b.setFormat(a.style.textAlign),(0,e.dxY)(a,b)),{node:b}}function p(a="h1"){return(0,e.pTq)(new k(a))}function q(a){return a instanceof k}},49026:(a,b,c)=>{"use strict";let d,e=c(79551),f=c(28354),g=c(29021),h=c(68573),i=c(14985),j=c(91645),k=c(21820),l=3e5,m=3e4,o=1e3,p=0;a.exports._lastCacheCleanup=()=>p,a.exports._resetCacheCleanup=()=>{p=0};try{d=k.networkInterfaces()}catch(a){}a.exports.networkInterfaces=d;let q=(b,c)=>{let d=a.exports.networkInterfaces;return!d||Object.keys(d).map(a=>d[a]).reduce((a,b)=>a.concat(b),[]).filter(a=>!a.internal||c).filter(a=>a.family==="IPv"+b||a.family===b).length>0},r=(a,b,c,d)=>{if(!q(a,(c=c||{}).allowInternalNetworkInterfaces))return d(null,[]);(i.Resolver?new i.Resolver(c):i)["resolve"+a](b,(a,b)=>{if(a){switch(a.code){case i.NODATA:case i.NOTFOUND:case i.NOTIMP:case i.SERVFAIL:case i.CONNREFUSED:case i.REFUSED:case"EAI_AGAIN":return d(null,[])}return d(a)}return d(null,Array.isArray(b)?b:[].concat(b||[]))})},s=a.exports.dnsCache=new Map,t=(a,b)=>a?Object.assign({servername:a.servername,host:a.addresses&&a.addresses.length?1===a.addresses.length?a.addresses[0]:a.addresses[Math.floor(Math.random()*a.addresses.length)]:null},b||{}):Object.assign({},b||{});function u(a,b){let c=!1,d=[],e=0;a.on("error",a=>{c||(c=!0,b(a))}),a.on("readable",()=>{let b;for(;null!==(b=a.read());)d.push(b),e+=b.length}),a.on("end",()=>{let a;if(!c){c=!0;try{a=Buffer.concat(d,e)}catch(a){return b(a)}b(null,a)}})}function v(a){let b=0,c=new Map;a.forEach(a=>{a.length>b&&(b=a.length)}),a.forEach(a=>{let d=a.toUpperCase();d.length<b&&(d+=" ".repeat(b-d.length)),c.set(a,d)});let d=(a,b,d,...e)=>{let g="";b&&("server"===b.tnx?g="S: ":"client"===b.tnx&&(g="C: "),b.sid&&(g="["+b.sid+"] "+g),b.cid&&(g="[#"+b.cid+"] "+g)),(d=f.format(d,...e)).split(/\r?\n/).forEach(b=>{console.log("[%s] %s %s",new Date().toISOString().substr(0,19).replace(/T/," "),c.get(a),g+b)})},e={};return a.forEach(a=>{e[a]=d.bind(null,a)}),e}a.exports.resolveHostname=(a,b)=>{let c;if(!(a=a||{}).host&&a.servername&&(a.host=a.servername),!a.host||j.isIP(a.host))return b(null,t({addresses:[a.host],servername:a.servername||!1},{cached:!1}));if(s.has(a.host)){c=s.get(a.host);let d=Date.now();if(d-p>m){for(let[a,b]of(p=d,s.entries()))b.expires&&b.expires<d&&s.delete(a);if(s.size>o){let a=Math.floor(.1*o);Array.from(s.keys()).slice(0,a).forEach(a=>s.delete(a))}}if(!c.expires||c.expires>=d)return b(null,t(c.value,{cached:!0}))}r(4,a.host,a,(d,e)=>{if(d)return c?(s.set(a.host,{value:c.value,expires:Date.now()+(a.dnsTtl||l)}),b(null,t(c.value,{cached:!0,error:d}))):b(d);if(e&&e.length){let c={addresses:e,servername:a.servername||a.host};return s.set(a.host,{value:c,expires:Date.now()+(a.dnsTtl||l)}),b(null,t(c,{cached:!1}))}r(6,a.host,a,(d,e)=>{if(d)return c?(s.set(a.host,{value:c.value,expires:Date.now()+(a.dnsTtl||l)}),b(null,t(c.value,{cached:!0,error:d}))):b(d);if(e&&e.length){let c={addresses:e,servername:a.servername||a.host};return s.set(a.host,{value:c,expires:Date.now()+(a.dnsTtl||l)}),b(null,t(c,{cached:!1}))}try{i.lookup(a.host,{all:!0},(d,e)=>{if(d)return c?(s.set(a.host,{value:c.value,expires:Date.now()+(a.dnsTtl||l)}),b(null,t(c.value,{cached:!0,error:d}))):b(d);let f=!!e&&e.filter(a=>q(a.family)).map(a=>a.address).shift();if(e&&e.length&&!f&&console.warn(`Failed to resolve IPv${e[0].family} addresses with current network`),!f&&c)return b(null,t(c.value,{cached:!0}));let g={addresses:f?[f]:[a.host],servername:a.servername||a.host};return s.set(a.host,{value:g,expires:Date.now()+(a.dnsTtl||l)}),b(null,t(g,{cached:!1}))})}catch(e){if(c)return s.set(a.host,{value:c.value,expires:Date.now()+(a.dnsTtl||l)}),b(null,t(c.value,{cached:!0,error:d}));return b(d)}})})},a.exports.parseConnectionUrl=a=>{a=a||"";let b={};return[e.parse(a,!0)].forEach(a=>{let c;switch(a.protocol){case"smtp:":b.secure=!1;break;case"smtps:":b.secure=!0;break;case"direct:":b.direct=!0}!isNaN(a.port)&&Number(a.port)&&(b.port=Number(a.port)),a.hostname&&(b.host=a.hostname),a.auth&&(c=a.auth.split(":"),b.auth||(b.auth={}),b.auth.user=c.shift(),b.auth.pass=c.join(":")),Object.keys(a.query||{}).forEach(c=>{let d=b,e=c,f=a.query[c];switch(!isNaN(f)&&(f=Number(f)),f){case"true":f=!0;break;case"false":f=!1}if(0===c.indexOf("tls."))e=c.substr(4),b.tls||(b.tls={}),d=b.tls;else if(c.indexOf(".")>=0)return;e in d||(d[e]=f)})}),b},a.exports._logFunc=(a,b,c,d,e,...f)=>{let g={};Object.keys(c||{}).forEach(a=>{"level"!==a&&(g[a]=c[a])}),Object.keys(d||{}).forEach(a=>{"level"!==a&&(g[a]=d[a])}),a[b](g,e,...f)},a.exports.getLogger=(b,c)=>{let d={},e=["trace","debug","info","warn","error","fatal"];if(!(b=b||{}).logger)return e.forEach(a=>{d[a]=()=>!1}),d;let f=b.logger;return!0===b.logger&&(f=v(e)),e.forEach(b=>{d[b]=(d,e,...g)=>{a.exports._logFunc(f,b,c,d,e,...g)}}),d},a.exports.callbackPromise=(a,b)=>function(){let c=Array.from(arguments),d=c.shift();d?b(d):a(...c)},a.exports.parseDataURI=a=>{let b,c;if("string"!=typeof a||!a.startsWith("data:"))return null;let d=a.indexOf(",");if(-1===d)return null;let e=a.substring(d+1),f=a.substring(5,d).split(";");if(f.length>0){let a=f[f.length-1].toLowerCase().trim();["base64","utf8","utf-8"].includes(a)&&-1===a.indexOf("=")&&(b=a,f.pop())}let g=f.length>0?f.shift():"application/octet-stream",h={};for(let a=0;a<f.length;a++){let b=f[a],c=b.indexOf("=");if(c>0){let a=b.substring(0,c).trim(),d=b.substring(c+1).trim();a&&(h[a]=d)}}try{if("base64"===b)c=Buffer.from(e,"base64");else try{c=Buffer.from(decodeURIComponent(e))}catch(a){c=Buffer.from(e)}}catch(a){c=Buffer.alloc(0)}return{data:c,encoding:b||null,contentType:g||"application/octet-stream",params:h}},a.exports.resolveContent=(b,c,d)=>{let e;d||(e=new Promise((b,c)=>{d=a.exports.callbackPromise(b,c)}));let f=b&&b[c]&&b[c].content||b[c],i=("object"==typeof b[c]&&b[c].encoding||"utf8").toString().toLowerCase().replace(/[-_\s]/g,"");if(!f)return d(null,f);if("object"==typeof f){if("function"==typeof f.pipe)return u(f,(a,e)=>{if(a)return d(a);b[c].content?b[c].content=e:b[c]=e,d(null,e)});else if(/^https?:\/\//i.test(f.path||f.href))return u(h(f.path||f.href),d);else if(/^data:/i.test(f.path||f.href)){let b=a.exports.parseDataURI(f.path||f.href);return b&&b.data?d(null,b.data):d(null,Buffer.from(0))}else if(f.path)return u(g.createReadStream(f.path),d)}return"string"!=typeof b[c].content||["utf8","usascii","ascii"].includes(i)||(f=Buffer.from(b[c].content,i)),setImmediate(()=>d(null,f)),e},a.exports.assign=function(){let a=Array.from(arguments),b=a.shift()||{};return a.forEach(a=>{Object.keys(a||{}).forEach(c=>{["tls","auth"].includes(c)&&a[c]&&"object"==typeof a[c]?(b[c]||(b[c]={}),Object.keys(a[c]).forEach(d=>{b[c][d]=a[c][d]})):b[c]=a[c]})}),b},a.exports.encodeXText=a=>{if(!/[^\x21-\x2A\x2C-\x3C\x3E-\x7E]/.test(a))return a;let b=Buffer.from(a),c="";for(let a=0,d=b.length;a<d;a++){let d=b[a];d<33||d>126||43===d||61===d?c+="+"+(d<16?"0":"")+d.toString(16).toUpperCase():c+=String.fromCharCode(d)}return c}},49048:(a,b,c)=>{"use strict";let{tokenChars:d}=c(72783);a.exports={parse:function(a){let b=new Set,c=-1,e=-1,f=0;for(;f<a.length;f++){let g=a.charCodeAt(f);if(-1===e&&1===d[g])-1===c&&(c=f);else if(0!==f&&(32===g||9===g))-1===e&&-1!==c&&(e=f);else if(44===g){if(-1===c)throw SyntaxError(`Unexpected character at index ${f}`);-1===e&&(e=f);let d=a.slice(c,e);if(b.has(d))throw SyntaxError(`The "${d}" subprotocol is duplicated`);b.add(d),c=e=-1}else throw SyntaxError(`Unexpected character at index ${f}`)}if(-1===c||-1!==e)throw SyntaxError("Unexpected end of input");let g=a.slice(c,f);if(b.has(g))throw SyntaxError(`The "${g}" subprotocol is duplicated`);return b.add(g),b}}},49223:(a,b,c)=>{"use strict";a.exports={DatePart:c(63590),Meridiem:c(4129),Day:c(78066),Hours:c(40420),Milliseconds:c(1641),Minutes:c(15318),Month:c(3121),Seconds:c(78218),Year:c(43782)}},49556:(a,b,c)=>{"use strict";function d(a){return new DataView(a.buffer,a.byteOffset)}c.d(b,{U1:()=>x,BI:()=>v,rB:()=>u}),c(3058);let e={len:1,get:(a,b)=>d(a).getUint8(b),put:(a,b,c)=>(d(a).setUint8(b,c),b+1)},f={len:2,get:(a,b)=>d(a).getUint16(b,!0),put:(a,b,c)=>(d(a).setUint16(b,c,!0),b+2)},g={len:2,get:(a,b)=>d(a).getUint16(b),put:(a,b,c)=>(d(a).setUint16(b,c),b+2)},h={len:4,get:(a,b)=>d(a).getUint32(b,!0),put:(a,b,c)=>(d(a).setUint32(b,c,!0),b+4)},i={len:4,get:(a,b)=>d(a).getUint32(b),put:(a,b,c)=>(d(a).setUint32(b,c),b+4)},j={len:4,get:(a,b)=>d(a).getInt32(b),put:(a,b,c)=>(d(a).setInt32(b,c),b+4)},k={len:8,get:(a,b)=>d(a).getBigUint64(b,!0),put:(a,b,c)=>(d(a).setBigUint64(b,c,!0),b+8)};class l{constructor(a,b){this.len=a,this.encoding=b,this.textDecoder=new TextDecoder(b)}get(a,b){return this.textDecoder.decode(a.subarray(b,b+this.len))}}var m=c(6901);function o(a){let{byteLength:b}=a;return 6===b?0x100000000*a.getUint16(0)+a.getUint32(2):5===b?0x100000000*a.getUint8(0)+a.getUint32(1):4===b?a.getUint32(0):3===b?65536*a.getUint8(0)+a.getUint16(1):2===b?a.getUint16(0):1===b?a.getUint8(0):void 0}function p(a,b){let c=a.length,d=b.length;if(0===d||d>c)return -1;let e=c-d;for(let c=0;c<=e;c++){let e=!0;for(let f=0;f<d;f++)if(a[c+f]!==b[f]){e=!1;break}if(e)return c}return -1}function q(a,b){return -1!==p(a,b)}function r(a){return[...a].map(a=>a.charCodeAt(0))}function s(a,b=0){let c=Number.parseInt(new l(6).get(a,148).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(c))return!1;let d=256;for(let c=b;c<b+148;c++)d+=a[c];for(let c=b+156;c<b+512;c++)d+=a[c];return c===d}Object.prototype.toString,new globalThis.TextDecoder("utf8"),new globalThis.TextEncoder,Array.from({length:256},(a,b)=>b.toString(16).padStart(2,"0"));let t={get:(a,b)=>127&a[b+3]|a[b+2]<<7|a[b+1]<<14|a[b]<<21,len:4},u=4100;async function v(a){return new x().fromBuffer(a)}function w(a,b,c){for(let[d,e]of(c={offset:0,...c},b.entries()))if(c.mask){if(e!==(c.mask[d]&a[d+c.offset]))return!1}else if(e!==a[d+c.offset])return!1;return!0}class x{constructor(a){this.detectors=a?.customDetectors,this.fromTokenizer=this.fromTokenizer.bind(this),this.fromBuffer=this.fromBuffer.bind(this),this.parse=this.parse.bind(this)}async fromTokenizer(a){let b=a.position;for(let c of this.detectors||[]){let d=await c(a);if(d)return d;if(b!==a.position)return}return this.parse(a)}async fromBuffer(a){if(!(a instanceof Uint8Array||a instanceof ArrayBuffer))throw TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof a}\``);let b=a instanceof Uint8Array?a:new Uint8Array(a);if(b?.length>1)return this.fromTokenizer(m.vY(b))}async fromBlob(a){return this.fromStream(a.stream())}async fromStream(a){let b=await m.Xx(a);try{return await this.fromTokenizer(b)}finally{await b.close()}}check(a,b){return w(this.buffer,a,b)}checkString(a,b){return this.check(r(a),b)}async parse(a){if(this.buffer=new Uint8Array(u),void 0===a.fileInfo.size&&(a.fileInfo.size=Number.MAX_SAFE_INTEGER),this.tokenizer=a,await a.peekBuffer(this.buffer,{length:12,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33]))return(await a.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14}))?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([199,113]))return{ext:"cpio",mime:"application/x-cpio"};if(this.check([96,234]))return{ext:"arj",mime:"application/x-arj"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.parse(a);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await a.ignore(6);let b=await a.readToken(t);return a.position+b>a.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await a.ignore(b),this.fromTokenizer(a))}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===this.buffer[0]||70===this.buffer[0])&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.check([255,216,255]))return this.check([247],{offset:3})?{ext:"jls",mime:"image/jls"}:{ext:"jpg",mime:"image/jpeg"};if(this.check([79,98,106,1]))return{ext:"avro",mime:"application/avro"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){try{for(;a.position+30<a.fileInfo.size;){await a.readBuffer(this.buffer,{length:30});let b=new DataView(this.buffer.buffer),c={compressedSize:b.getUint32(18,!0),uncompressedSize:b.getUint32(22,!0),filenameLength:b.getUint16(26,!0),extraFieldLength:b.getUint16(28,!0)};if(c.filename=await a.readToken(new l(c.filenameLength,"utf-8")),await a.ignore(c.extraFieldLength),"META-INF/mozilla.rsa"===c.filename)return{ext:"xpi",mime:"application/x-xpinstall"};if(c.filename.endsWith(".rels")||c.filename.endsWith(".xml"))switch(c.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};case"visio":return{ext:"vsdx",mime:"application/vnd.visio"}}if(c.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(c.filename.startsWith("3D/")&&c.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if("mimetype"===c.filename&&c.compressedSize===c.uncompressedSize){let b=await a.readToken(new l(c.compressedSize,"utf-8"));switch(b=b.trim()){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}}if(0===c.compressedSize){let b=-1;for(;b<0&&a.position<a.fileInfo.size;)await a.peekBuffer(this.buffer,{mayBeLess:!0}),b=p(this.buffer,new Uint8Array([80,75,3,4])),await a.ignore(b>=0?b:this.buffer.length)}else await a.ignore(c.compressedSize)}}catch(a){if(!(a instanceof m.d1))throw a}return{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await a.ignore(28);let b=new Uint8Array(8);return(await a.readBuffer(b),w(b,[79,112,117,115,72,101,97,100]))?{ext:"opus",mime:"audio/opus"}:w(b,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:w(b,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:w(b,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:w(b,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:w(b,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(3===this.buffer[2]||5===this.buffer[2]||7===this.buffer[2])&&(4===this.buffer[3]||6===this.buffer[3]||8===this.buffer[3]))return{ext:"zip",mime:"application/zip"};if(this.checkString("ftyp",{offset:4})&&(96&this.buffer[8])!=0){let a=new l(4,"latin1").get(this.buffer,8).replace("\0"," ").trim();switch(a){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:if(a.startsWith("3g")){if(a.startsWith("3g2"))return{ext:"3g2",mime:"video/3gpp2"};return{ext:"3gp",mime:"video/3gpp"}}return{ext:"mp4",mime:"video/mp4"}}}if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF")){try{await a.ignore(1350);let b=0xa00000,c=new Uint8Array(Math.min(b,a.fileInfo.size));if(await a.readBuffer(c,{mayBeLess:!0}),q(c,new TextEncoder().encode("AIPrivateData")))return{ext:"ai",mime:"application/postscript"}}catch(a){if(!(a instanceof m.d1))throw a}return{ext:"pdf",mime:"application/pdf"}}if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){let a=await this.readTiffHeader(!1);if(a)return a}if(this.check([77,77])){let a=await this.readTiffHeader(!0);if(a)return a}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function b(){let b=await a.peekNumber(e),c=128,d=0;for(;(b&c)==0&&0!==c;)++d,c>>=1;let f=new Uint8Array(d+1);return await a.readBuffer(f),f}async function c(){let a=await b(),c=await b();c[0]^=128>>c.length-1;let d=Math.min(6,c.length),e=new DataView(a.buffer),f=new DataView(c.buffer,c.length-d,d);return{id:o(e),len:o(f)}}async function d(b){for(;b>0;){let d=await c();if(17026===d.id)return(await a.readToken(new l(d.len))).replaceAll(/\00.*$/g,"");await a.ignore(d.len),--b}}let f=await c();switch(await d(f.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(this.check([82,73,70,70])){if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/wav"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([33,66,68,78]))return{ext:"pst",mime:"application/vnd.ms-outlook"};if(this.checkString("PAR1"))return{ext:"parquet",mime:"application/x-parquet"};if(this.check([207,250,237,254]))return{ext:"macho",mime:"application/x-mach-binary"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([202,254,186,190]))return{ext:"class",mime:"application/java-vm"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(0===this.buffer[6]||1===this.buffer[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("AC")){let a=new l(4,"latin1").get(this.buffer,2);if(a.match("^d*")&&a>=1e3&&a<=1050)return{ext:"dwg",mime:"image/vnd.dwg"}}if(this.checkString("070707"))return{ext:"cpio",mime:"application/x-cpio"};if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>"))return(await a.ignore(8),"debian-binary"===await a.readToken(new l(13,"ascii")))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(this.checkString("**ACE",{offset:7})&&(await a.peekBuffer(this.buffer,{length:14,mayBeLess:!0}),this.checkString("**",{offset:12})))return{ext:"ace",mime:"application/x-ace-compressed"};if(this.check([137,80,78,71,13,10,26,10])){async function f(){return{length:await a.readToken(j),type:await a.readToken(new l(4,"latin1"))}}await a.ignore(8);do{let b=await f();if(b.length<0)return;switch(b.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await a.ignore(b.length+4)}}while(a.position+8<a.fileInfo.size);return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function g(){let b=new Uint8Array(16);return await a.readBuffer(b),{id:b,size:Number(await a.readToken(k))}}for(await a.ignore(30);a.position+24<a.fileInfo.size;){let b=await g(),c=b.size-24;if(w(b.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){let b=new Uint8Array(16);if(c-=await a.readBuffer(b),w(b,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(w(b,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await a.ignore(c)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([255,79,255,81]))return{ext:"j2c",mime:"image/j2c"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await a.ignore(20),await a.readToken(new l(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255]))return this.check([0,60,0,63,0,120,0,109,0,108],{offset:2})?{ext:"xml",mime:"application/xml"}:void 0;if(this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await a.peekBuffer(this.buffer,{length:Math.min(256,a.fileInfo.size),mayBeLess:!0}),this.check([97,99,115,112],{offset:36}))return{ext:"icc",mime:"application/vnd.iccprofile"};if(this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){let a=new DataView(this.buffer.buffer).getUint32(12,!0);if(a>12&&this.buffer.length>=a+16)try{let b=new TextDecoder().decode(this.buffer.slice(16,a+16));if(JSON.parse(b).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(this.checkString("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(this.check([71])&&this.check([71],{offset:188})||this.check([71],{offset:4})&&this.check([71],{offset:196}))return{ext:"mts",mime:"video/mp2t"};if(this.check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(this.check([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(this.checkString("Kaydara FBX Binary  \0"))return{ext:"fbx",mime:"application/x.autodesk.fbx"};if(this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await a.peekBuffer(this.buffer,{length:Math.min(512,a.fileInfo.size),mayBeLess:!0}),s(this.buffer))return{ext:"tar",mime:"application/x-tar"};if(this.check([255,254]))return this.check([60,0,63,0,120,0,109,0,108,0],{offset:2})?{ext:"xml",mime:"application/xml"}:this.check([255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0],{offset:2})?{ext:"skp",mime:"application/vnd.sketchup.skp"}:void 0;if(this.checkString("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(this.buffer.length>=2&&this.check([255,224],{offset:0,mask:[255,224]})){if(this.check([16],{offset:1,mask:[22]}))return this.check([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(this.check([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}async readTiffTag(a){let b=await this.tokenizer.readToken(a?g:f);switch(this.tokenizer.ignore(10),b){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"}}}async readTiffIFD(a){let b=await this.tokenizer.readToken(a?g:f);for(let c=0;c<b;++c){let b=await this.readTiffTag(a);if(b)return b}}async readTiffHeader(a){let b=(a?g:f).get(this.buffer,2),c=(a?i:h).get(this.buffer,4);if(42===b){if(c>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(c>=8&&(this.check([28,0,254,0],{offset:8})||this.check([31,0,11,0],{offset:8})))return{ext:"nef",mime:"image/x-nikon-nef"}}return await this.tokenizer.ignore(c),await this.readTiffIFD(a)??{ext:"tif",mime:"image/tiff"}}if(43===b)return{ext:"tif",mime:"image/tiff"}}}},49725:a=>{a.exports=e;var b=/\s/,c=/(_|-|\.|:)/,d=/([a-z][A-Z]|[A-Z][a-z])/;function e(a){return b.test(a)?a.toLowerCase():c.test(a)?(g(a)||a).toLowerCase():d.test(a)?i(a).toLowerCase():a.toLowerCase()}var f=/[\W_]+(.|$)/g;function g(a){return a.replace(f,function(a,b){return b?" "+b:""})}var h=/(.)([A-Z]+)/g;function i(a){return a.replace(h,function(a,b,c){return b+" "+c.toLowerCase().split("").join(" ")})}},49814:(a,b,c)=>{"use strict";let d=c(84),{redactFmtSym:e,wildcardFirstSym:f}=c(53057),g=/[^.[\]]+|\[([^[\]]*?)\]/g,h="[Redacted]",i=!1;function j(a){if(Array.isArray(a))return a={paths:a,censor:h};let{paths:b,censor:c=h,remove:d}=a;if(!1===Array.isArray(b))throw Error("pino  redact must contain an array of strings");return!0===d&&(c=void 0),{paths:b,censor:c,remove:d}}a.exports=function(a,b){let{paths:c,censor:h,remove:k}=j(a),l=c.reduce((a,b)=>{g.lastIndex=0;let c=g.exec(b),d=g.exec(b),e=void 0!==c[1]?c[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):c[0];if("*"===e&&(e=f),null===d)return a[e]=null,a;if(null===a[e])return a;let{index:h}=d,i=`${b.substr(h,b.length-1)}`;return a[e]=a[e]||[],e!==f&&0===a[e].length&&a[e].push(...a[f]||[]),e===f&&Object.keys(a).forEach(function(b){a[b]&&a[b].push(i)}),a[e].push(i),a},{}),m={[e]:d({paths:c,censor:h,serialize:b,strict:i,remove:k})},o=(...a)=>"function"==typeof h?b(h(...a)):b(h);return[...Object.keys(l),...Object.getOwnPropertySymbols(l)].reduce((a,c)=>{if(null===l[c])a[c]=a=>o(a,[c]);else{let e="function"==typeof h?(a,b)=>h(a,[c,...b]):h;a[c]=d({paths:l[c],censor:e,serialize:b,strict:i,remove:k})}return a},m)}},49818:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(47934);b.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:a})=>(0,d.str)`must be multiple of ${a}`,params:({schemaCode:a})=>(0,d._)`{multipleOf: ${a}}`},code(a){let{gen:b,data:c,schemaCode:e,it:f}=a,g=f.opts.multipleOfPrecision,h=b.let("res"),i=g?(0,d._)`Math.abs(Math.round(${h}) - ${h}) > 1e-${g}`:(0,d._)`${h} !== parseInt(${h})`;a.fail$data((0,d._)`(${e} === 0 || (${h} = ${c}/${e}, ${i}))`)}}},49842:a=>{"use strict";a.exports=(a,b={})=>{let c=Number.isSafeInteger(parseInt(b.margin))?Array(parseInt(b.margin)).fill(" ").join(""):b.margin||"",d=b.width;return(a||"").split(/\r?\n/g).map(a=>a.split(/\s+/g).reduce((a,b)=>(b.length+c.length>=d||a[a.length-1].length+b.length+1<d?a[a.length-1]+=` ${b}`:a.push(`${c}${b}`),a),[c]).join("\n")).join("\n")}},49989:(a,b,c)=>{"use strict";15>parseInt(process.versions&&process.versions.node&&process.versions.node.split(".")[0])?a.exports=c(66129):a.exports=c(66175)},50100:(a,b,c)=>{"use strict";c.d(b,{k:()=>i});var d=c(78164);let e={type:"text-format",format:["bold","italic"],tag:"***"},f={type:"text-format",format:["bold","italic"],intraword:!1,tag:"___"},g={type:"text-format",format:["bold"],tag:"**"},h={type:"text-format",format:["bold"],intraword:!1,tag:"__"},i=(0,d.m)({dependenciesSoft:["italic"],feature:({featureProviderMap:a})=>{let b=[g,h];return a.get("italic")&&b.push(f,e),{ClientFeature:"@payloadcms/richtext-lexical/client#BoldFeatureClient",markdownTransformers:b}},key:"bold"})},50147:(a,b,c)=>{"use strict";let d=c(39072),e=c(1483),f=c(32488).parseDataURI;class g{constructor(a){this.mail=a||{},this.message=!1}compile(){return this._alternatives=this.getAlternatives(),this._htmlNode=this._alternatives.filter(a=>/^text\/html\b/i.test(a.contentType)).pop(),this._attachments=this.getAttachments(!!this._htmlNode),this._useRelated=!!(this._htmlNode&&this._attachments.related.length),this._useAlternative=this._alternatives.length>1,this._useMixed=this._attachments.attached.length>1||this._alternatives.length&&1===this._attachments.attached.length,this.mail.raw?this.message=new d("message/rfc822",{newline:this.mail.newline}).setRaw(this.mail.raw):this._useMixed?this.message=this._createMixed():this._useAlternative?this.message=this._createAlternative():this._useRelated?this.message=this._createRelated():this.message=this._createContentNode(!1,[].concat(this._alternatives||[]).concat(this._attachments.attached||[]).shift()||{contentType:"text/plain",content:""}),this.mail.headers&&this.message.addHeader(this.mail.headers),["from","sender","to","cc","bcc","reply-to","in-reply-to","references","subject","message-id","date"].forEach(a=>{let b=a.replace(/-(\w)/g,(a,b)=>b.toUpperCase());this.mail[b]&&this.message.setHeader(a,this.mail[b])}),this.mail.envelope&&this.message.setEnvelope(this.mail.envelope),this.message.messageId(),this.message}getAttachments(a){let b,c,d=[].concat(this.mail.attachments||[]).map((a,b)=>{let c,d;/^data:/i.test(a.path||a.href)&&(a=this._processDataUrl(a));let f=a.contentType||e.detectMimeType(a.filename||a.path||a.href||"bin"),g=/^image\//i.test(f),h=/^message\//i.test(f);return c={contentType:f,contentDisposition:a.contentDisposition||(h||g&&a.cid?"inline":"attachment"),contentTransferEncoding:d="contentTransferEncoding"in a?a.contentTransferEncoding:h?"8bit":"base64"},a.filename?c.filename=a.filename:!h&&!1!==a.filename&&(c.filename=(a.path||a.href||"").split("/").pop().split("?").shift()||"attachment-"+(b+1),0>c.filename.indexOf(".")&&(c.filename+="."+e.detectExtension(c.contentType))),/^https?:\/\//i.test(a.path)&&(a.href=a.path,a.path=void 0),a.cid&&(c.cid=a.cid),a.raw?c.raw=a.raw:a.path?c.content={path:a.path}:a.href?c.content={href:a.href,httpHeaders:a.httpHeaders}:c.content=a.content||"",a.encoding&&(c.encoding=a.encoding),a.headers&&(c.headers=a.headers),c});return(this.mail.icalEvent&&(b="object"==typeof this.mail.icalEvent&&(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)?this.mail.icalEvent:{content:this.mail.icalEvent},c={},Object.keys(b).forEach(a=>{c[a]=b[a]}),c.contentType="application/ics",c.headers||(c.headers={}),c.filename=c.filename||"invite.ics",c.headers["Content-Disposition"]="attachment",c.headers["Content-Transfer-Encoding"]="base64"),a)?{attached:d.filter(a=>!a.cid).concat(c||[]),related:d.filter(a=>!!a.cid)}:{attached:d.concat(c||[]),related:[]}}getAlternatives(){let a=[],b,c,d,f,g,h;return this.mail.text&&((b="object"==typeof this.mail.text&&(this.mail.text.content||this.mail.text.path||this.mail.text.href||this.mail.text.raw)?this.mail.text:{content:this.mail.text}).contentType="text/plain; charset=utf-8"),this.mail.watchHtml&&((d="object"==typeof this.mail.watchHtml&&(this.mail.watchHtml.content||this.mail.watchHtml.path||this.mail.watchHtml.href||this.mail.watchHtml.raw)?this.mail.watchHtml:{content:this.mail.watchHtml}).contentType="text/watch-html; charset=utf-8"),this.mail.amp&&((f="object"==typeof this.mail.amp&&(this.mail.amp.content||this.mail.amp.path||this.mail.amp.href||this.mail.amp.raw)?this.mail.amp:{content:this.mail.amp}).contentType="text/x-amp-html; charset=utf-8"),this.mail.icalEvent&&(g="object"==typeof this.mail.icalEvent&&(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)?this.mail.icalEvent:{content:this.mail.icalEvent},h={},Object.keys(g).forEach(a=>{h[a]=g[a]}),h.content&&"object"==typeof h.content&&(h.content._resolve=!0),h.filename=!1,h.contentType="text/calendar; charset=utf-8; method="+(h.method||"PUBLISH").toString().trim().toUpperCase(),h.headers||(h.headers={})),this.mail.html&&((c="object"==typeof this.mail.html&&(this.mail.html.content||this.mail.html.path||this.mail.html.href||this.mail.html.raw)?this.mail.html:{content:this.mail.html}).contentType="text/html; charset=utf-8"),[].concat(b||[]).concat(d||[]).concat(f||[]).concat(c||[]).concat(h||[]).concat(this.mail.alternatives||[]).forEach(b=>{let c;/^data:/i.test(b.path||b.href)&&(b=this._processDataUrl(b)),c={contentType:b.contentType||e.detectMimeType(b.filename||b.path||b.href||"txt"),contentTransferEncoding:b.contentTransferEncoding},b.filename&&(c.filename=b.filename),/^https?:\/\//i.test(b.path)&&(b.href=b.path,b.path=void 0),b.raw?c.raw=b.raw:b.path?c.content={path:b.path}:b.href?c.content={href:b.href}:c.content=b.content||"",b.encoding&&(c.encoding=b.encoding),b.headers&&(c.headers=b.headers),a.push(c)}),a}_createMixed(a){let b;return b=a?a.createChild("multipart/mixed",{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new d("multipart/mixed",{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._useAlternative?this._createAlternative(b):this._useRelated&&this._createRelated(b),[].concat(!this._useAlternative&&this._alternatives||[]).concat(this._attachments.attached||[]).forEach(a=>{this._useRelated&&a===this._htmlNode||this._createContentNode(b,a)}),b}_createAlternative(a){let b;return b=a?a.createChild("multipart/alternative",{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new d("multipart/alternative",{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._alternatives.forEach(a=>{this._useRelated&&this._htmlNode===a?this._createRelated(b):this._createContentNode(b,a)}),b}_createRelated(a){let b;return b=a?a.createChild('multipart/related; type="text/html"',{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new d('multipart/related; type="text/html"',{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._createContentNode(b,this._htmlNode),this._attachments.related.forEach(a=>this._createContentNode(b,a)),b}_createContentNode(a,b){let c;(b=b||{}).content=b.content||"";let e=(b.encoding||"utf8").toString().toLowerCase().replace(/[-_\s]/g,"");return c=a?a.createChild(b.contentType,{filename:b.filename,textEncoding:this.mail.textEncoding,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new d(b.contentType,{filename:b.filename,baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),b.headers&&c.addHeader(b.headers),b.cid&&c.setHeader("Content-Id","<"+b.cid.replace(/[<>]/g,"")+">"),b.contentTransferEncoding?c.setHeader("Content-Transfer-Encoding",b.contentTransferEncoding):this.mail.encoding&&/^text\//i.test(b.contentType)&&c.setHeader("Content-Transfer-Encoding",this.mail.encoding),(!/^text\//i.test(b.contentType)||b.contentDisposition)&&c.setHeader("Content-Disposition",b.contentDisposition||(b.cid&&/^image\//i.test(b.contentType)?"inline":"attachment")),"string"!=typeof b.content||["utf8","usascii","ascii"].includes(e)||(b.content=Buffer.from(b.content,e)),b.raw?c.setRaw(b.raw):c.setContent(b.content),c}_processDataUrl(a){let b,c=a.path||a.href;if(!c||"string"!=typeof c||!c.startsWith("data:"))return a;if(c.length>0x3200000){let b="application/octet-stream",d=c.indexOf(",");if(d>0&&d<200){let a=c.substring(5,d).split(";");a[0]&&a[0].includes("/")&&(b=a[0].trim())}return Object.assign({},a,{path:!1,href:!1,content:Buffer.alloc(0),contentType:a.contentType||b})}try{b=f(c)}catch(b){return a}return b&&(a.content=b.data,a.contentType=a.contentType||b.contentType,"path"in a&&(a.path=!1),"href"in a&&(a.href=!1)),a}}a.exports=g},50200:a=>{"use strict";var b=/["'&<>]/;a.exports=function a(a){var c,d=""+a,e=b.exec(d);if(!e)return d;var f="",g=0,h=0;for(g=e.index;g<d.length;g++){switch(d.charCodeAt(g)){case 34:c="&quot;";break;case 38:c="&amp;";break;case 39:c="&#39;";break;case 60:c="&lt;";break;case 62:c="&gt;";break;default:continue}h!==g&&(f+=d.substring(h,g)),h=g+1,f+=c}return h!==g?f+d.substring(h,g):f}},50201:a=>{"use strict";function b(a){return a>=55296&&a<=56319}function c(a){return a>=56320&&a<=57343}a.exports=function(a,d,e){if("string"!=typeof d)throw Error("Input must be string");for(var f,g,h=d.length,i=0,j=0;j<h;j+=1){if(f=d.charCodeAt(j),g=d[j],b(f)&&c(d.charCodeAt(j+1))&&(j+=1,g+=d[j]),(i+=a(g))===e)return d.slice(0,j+1);if(i>e)return d.slice(0,j-g.length+1)}return d}},50271:(a,b,c)=>{"use strict";let d=c(60647),{kClose:e,kDestroy:f,kClosed:g,kDestroyed:h,kDispatch:i,kNoProxyAgent:j,kHttpProxyAgent:k,kHttpsProxyAgent:l}=c(10257),m=c(72338),o=c(83927),p={"http:":80,"https:":443};class q extends d{#aw=null;#ax=null;#ay=null;constructor(a={}){super(),this.#ay=a;let{httpProxy:b,httpsProxy:c,noProxy:d,...e}=a;this[j]=new o(e);let f=b??process.env.http_proxy??process.env.HTTP_PROXY;f?this[k]=new m({...e,uri:f}):this[k]=this[j];let g=c??process.env.https_proxy??process.env.HTTPS_PROXY;g?this[l]=new m({...e,uri:g}):this[l]=this[k],this.#az()}[i](a,b){let c=new URL(a.origin);return this.#aA(c).dispatch(a,b)}async [e](){await this[j].close(),this[k][g]||await this[k].close(),this[l][g]||await this[l].close()}async [f](a){await this[j].destroy(a),this[k][h]||await this[k].destroy(a),this[l][h]||await this[l].destroy(a)}#aA(a){let{protocol:b,host:c,port:d}=a;return(c=c.replace(/:\d*$/,"").toLowerCase(),d=Number.parseInt(d,10)||p[b]||0,this.#aB(c,d))?"https:"===b?this[l]:this[k]:this[j]}#aB(a,b){if(this.#aC&&this.#az(),0===this.#ax.length)return!0;if("*"===this.#aw)return!1;for(let c=0;c<this.#ax.length;c++){let d=this.#ax[c];if(!d.port||d.port===b){if(/^[.*]/.test(d.hostname)){if(a.endsWith(d.hostname.replace(/^\*/,"")))return!1}else if(a===d.hostname)return!1}}return!0}#az(){let a=this.#ay.noProxy??this.#aD,b=a.split(/[,\s]/),c=[];for(let a=0;a<b.length;a++){let d=b[a];if(!d)continue;let e=d.match(/^(.+):(\d+)$/);c.push({hostname:(e?e[1]:d).toLowerCase(),port:e?Number.parseInt(e[2],10):0})}this.#aw=a,this.#ax=c}get #aC(){return void 0===this.#ay.noProxy&&this.#aw!==this.#aD}get #aD(){return process.env.no_proxy??process.env.NO_PROXY??""}}a.exports=q},50283:(a,b,c)=>{"use strict";let d=c(34589);class e{#aE=!1;#aF;#a;#aG;#aH;constructor(a,b,c){if("function"!=typeof a)throw TypeError("callback must be a function");this.#aF=a,this.#a=b,this.#aH=c}onRequestStart(a,b){this.#aE=!1,this.#aG=b}onRequestUpgrade(a,b,c,d){this.#a.onRequestUpgrade?.(a,b,c,d)}onResponseStart(a,b,c,e){if(d(null!=this.#aF),this.#aE=304===b||this.#aH&&b>=500&&b<=504,this.#aF(this.#aE,this.#aG),this.#aF=null,this.#aE)return!0;this.#a.onRequestStart?.(a,this.#aG),this.#a.onResponseStart?.(a,b,c,e)}onResponseData(a,b){if(!this.#aE)return this.#a.onResponseData?.(a,b)}onResponseEnd(a,b){this.#aE||this.#a.onResponseEnd?.(a,b)}onResponseError(a,b){if(!this.#aE)if(this.#aF&&(this.#aF(!1),this.#aF=null),"function"==typeof this.#a.onResponseError)this.#a.onResponseError(a,b);else throw b}}a.exports=e},50284:(a,b,c)=>{"use strict";c.d(b,{Y7:()=>f});let d=()=>(a,b)=>async c=>{try{let d=await a(c),{clientName:e,commandName:f,logger:g,dynamoDbDocumentClientOptions:h={}}=b,{overrideInputFilterSensitiveLog:i,overrideOutputFilterSensitiveLog:j}=h,k=i??b.inputFilterSensitiveLog,l=j??b.outputFilterSensitiveLog,{$metadata:m,...o}=d.output;return g?.info?.({clientName:e,commandName:f,input:k(c.input),output:l(o),metadata:m}),d}catch(i){let{clientName:a,commandName:d,logger:e,dynamoDbDocumentClientOptions:f={}}=b,{overrideInputFilterSensitiveLog:g}=f,h=g??b.inputFilterSensitiveLog;throw e?.error?.({clientName:a,commandName:d,input:h(c.input),error:i,metadata:i.$metadata}),i}},e={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},f=a=>({applyToStack:a=>{a.add(d(),e)}})},50497:(a,b,c)=>{"use strict";c.d(b,{x:()=>k});var d=c(61302),e=c(9174),f=c(41745),g=c(6642),h=c(110),i=c(17331);let j={ar:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"",autoGenerate:" ",bestPractices:" ",characterCount:"{{current}}/{{minLength}}-{{maxLength}}  ",charactersLeftOver:"{{characters}} ",charactersToGo:"{{characters}}  ",charactersTooMany:"{{characters}}   ",checksPassing:"{{current}}/{{max}}   ",good:"",imageAutoGenerationTip:"      .",lengthTipDescription:"     {{minLength}} {{maxLength}} .           ",lengthTipTitle:"     {{minLength}} {{maxLength}} .           ",missing:"",noImage:"  ",preview:"",previewDescription:"        .",tooLong:" ",tooShort:" "}},az:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Demk olar ki, \xe7atdq",autoGenerate:"Avtomatik yaradlacaq",bestPractices:"n yax tcr\xfcblr",characterCount:"{{current}}/{{minLength}}-{{maxLength}} simvol, ",charactersLeftOver:"{{characters}} qalan",charactersToGo:"{{characters}} qalan",charactersTooMany:"{{characters}} \xe7ox",checksPassing:"{{current}}/{{max}} yoxlamalar uurla ke\xe7di",good:"Yax",imageAutoGenerationTip:"Avtomatik yaradlma se\xe7iln balq kilini ld edck.",lengthTipDescription:"Bu, {{minLength}} il {{maxLength}} simvol arasnda olmaldr. Keyfiyytli meta tsvirlri yazmaq \xfc\xe7\xfcn k\xf6mk \xfc\xe7\xfcn baxn ",lengthTipTitle:"Bu, {{minLength}} il {{maxLength}} simvol arasnda olmaldr. Keyfiyytli meta balqlar yazmaq \xfc\xe7\xfcn k\xf6mk \xfc\xe7\xfcn baxn ",missing:"Yoxdur",noImage:"kil yoxdur",preview:"\xd6nizlm",previewDescription:"Dqiq nticlr, mzmun v axtar uyunluuna g\xf6r dyi bilr.",tooLong:"\xc7ox uzun",tooShort:"\xc7ox qsa"}},bg:{$schema:"./translation-schema.json","plugin-seo":{almostThere:" ",autoGenerate:" ",bestPractices:"- ",characterCount:"{{current}}/{{minLength}}-{{maxLength}} , ",charactersLeftOver:"{{characters}} ",charactersToGo:"{{characters}}  ",charactersTooMany:"{{characters}}  ",checksPassing:"{{current}}/{{max}}   ",good:"",imageAutoGenerationTip:"      .",lengthTipDescription:"     {{minLength}}  {{maxLength}} .        ,  ",lengthTipTitle:"     {{minLength}}  {{maxLength}} .        ,  ",missing:"",noImage:" ",preview:" ",previewDescription:"            .",tooLong:" ",tooShort:" "}},ca:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Quasi hi som",autoGenerate:"Generar autom\xe0ticament",bestPractices:"bones pr\xe0ctiques",characterCount:"{{current}}/{{minLength}}-{{maxLength}} car\xe0cters, ",charactersLeftOver:"{{characters}} restants",charactersToGo:"{{characters}} per escriure",charactersTooMany:"{{characters}} massa",checksPassing:"{{current}}/{{max}} comprovacions aprovades",good:"B\xe9",imageAutoGenerationTip:"La generaci\xf3 autom\xe0tica recuperar\xe0 la imatge destacada seleccionada.",lengthTipDescription:"Aix\xf2 hauria de ser entre {{minLength}} i {{maxLength}} car\xe0cters. Per obtenir ajuda per escriure descripcions meta de qualitat, consulta ",lengthTipTitle:"Aix\xf2 hauria de ser entre {{minLength}} i {{maxLength}} car\xe0cters. Per obtenir ajuda per escriure t\xedtols meta de qualitat, consulta ",missing:"Falta",noImage:"Sense imatge",preview:"Previsualitzaci\xf3",previewDescription:"Els resultats exactes poden variar segons el contingut i la rellev\xe0ncia de la cerca.",tooLong:"Massa llarg",tooShort:"Massa curt"}},cs:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Skoro hotovo",autoGenerate:"Generovat automaticky",bestPractices:"osvden\xe9 postupy",characterCount:"{{current}}/{{minLength}}-{{maxLength}} znak, ",charactersLeftOver:"{{characters}} zb\xfdv\xe1",charactersToGo:"{{characters}} zb\xfdv\xe1",charactersTooMany:"{{characters}} nav\xedc",checksPassing:"{{current}}/{{max}} kontrol \xfaspn splnno",good:"Dobr\xe9",imageAutoGenerationTip:"Automatick\xe1 generace nate vybran\xfd hero obr\xe1zek.",lengthTipDescription:"Toto by mlo m\xedt mezi {{minLength}} a {{maxLength}} znaky. Pomoc pi psan\xed kvalitn\xedch meta popis navtivte ",lengthTipTitle:"Toto by mlo m\xedt mezi {{minLength}} a {{maxLength}} znaky. Pomoc pi psan\xed kvalitn\xedch meta titul navtivte ",missing:"Chyb\xed",noImage:"Bez obr\xe1zku",preview:"N\xe1hled",previewDescription:"Pesn\xfd v\xfdsledek se me liit v z\xe1vislosti na obsahu a relevanci vyhled\xe1v\xe1n\xed.",tooLong:"P\xedli dlouh\xe9",tooShort:"P\xedli kr\xe1tk\xe9"}},da:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"N\xe6sten der",autoGenerate:"Automatisk generering",bestPractices:"bedste praksis",characterCount:"{{current}}/{{minLength}}-{{maxLength}} tegn, ",charactersLeftOver:"{{characters}} tilbage",charactersToGo:"{{characters}} tilbage at skrive",charactersTooMany:"{{characters}} for mange",checksPassing:"{{current}}/{{max}} kontroller er best\xe5et",good:"God",imageAutoGenerationTip:"Automatisk generering vil hente det valgte hero-billede.",lengthTipDescription:"Dette b\xf8r v\xe6re mellem {{minLength}} og {{maxLength}} tegn. For hj\xe6lp til at skrive kvalitetsmeta-beskrivelser, se ",lengthTipTitle:"Dette b\xf8r v\xe6re mellem {{minLength}} og {{maxLength}} tegn. For hj\xe6lp til at skrive kvalitetsmeta-titler, se ",missing:"Manglende",noImage:"Ingen billede",preview:"Forh\xe5ndsvisning",previewDescription:"De pr\xe6cise resultater kan variere afh\xe6ngigt af indhold og s\xf8ge relevans.",tooLong:"For lang",tooShort:"For kort"}},de:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Fast da",autoGenerate:"Automatisch generieren",bestPractices:"Best Practices",characterCount:"{{current}}/{{minLength}}-{{maxLength}} Zeichen, ",charactersLeftOver:"{{characters}} verbleiben",charactersToGo:"{{characters}} \xfcbrig",charactersTooMany:"{{characters}} zu viel",checksPassing:"{{current}}/{{max}} Kontrollen erfolgreich",good:"Gut",imageAutoGenerationTip:"Die automatische Generierung ruft das ausgew\xe4hlte Hauptbild ab.",lengthTipDescription:"Diese sollte zwischen {{minLength}} und {{maxLength}} Zeichen lang sein. F\xfcr Hilfe beim Schreiben von qualitativ hochwertigen Meta-Beschreibungen siehe ",lengthTipTitle:"Dieser sollte zwischen {{minLength}} und {{maxLength}} Zeichen lang sein. F\xfcr Hilfe beim Schreiben von qualitativ hochwertigen Meta-Titeln siehe ",missing:"Fehlt",noImage:"Kein Bild",preview:"Vorschau",previewDescription:"Die genauen Ergebnislisten k\xf6nnen je nach Inhalt und Suchrelevanz variieren.",tooLong:"Zu lang",tooShort:"Zu kurz"}},en:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Almost there",autoGenerate:"Auto-generate",bestPractices:"best practices",characterCount:"{{current}}/{{minLength}}-{{maxLength}} chars, ",charactersLeftOver:"{{characters}} left over",charactersToGo:"{{characters}} to go",charactersTooMany:"{{characters}} too many",checksPassing:"{{current}}/{{max}} checks are passing",good:"Good",imageAutoGenerationTip:"Auto-generation will retrieve the selected hero image.",lengthTipDescription:"This should be between {{minLength}} and {{maxLength}} characters. For help in writing quality meta descriptions, see ",lengthTipTitle:"This should be between {{minLength}} and {{maxLength}} characters. For help in writing quality meta titles, see ",missing:"Missing",noImage:"No image",preview:"Preview",previewDescription:"Exact result listings may vary based on content and search relevancy.",tooLong:"Too long",tooShort:"Too short"}},es:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Ya casi est\xe1",autoGenerate:"Generar autom\xe1ticamente",bestPractices:"Mejores pr\xe1cticas",characterCount:"{{current}}/{{minLength}}-{{maxLength}} caracteres, ",charactersLeftOver:"{{characters}} restantes",charactersToGo:"{{characters}} por completar",charactersTooMany:"{{characters}} de m\xe1s",checksPassing:"{{current}}/{{max}} comprobaciones correctas",good:"Bien",imageAutoGenerationTip:"La generaci\xf3n autom\xe1tica recuperar\xe1 la imagen de h\xe9roe seleccionada",lengthTipDescription:"Debe tener entre {{minLength}} y {{maxLength}} caracteres. Para obtener ayuda sobre c\xf3mo escribir meta descripciones de calidad, consulte ",lengthTipTitle:"Debe tener entre {{minLength}} y {{maxLength}} caracteres. Para obtener ayuda sobre c\xf3mo escribir meta t\xedtulos de calidad, consulte ",missing:"Faltante",noImage:"Sin imagen",preview:"Vista previa",previewDescription:"Las resultados exactos pueden variar en funci\xf3n del contenido y la relevancia de la b\xfasqueda.",tooLong:"Demasiado largo",tooShort:"Demasiado corto"}},et:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Peaaegu kohal",autoGenerate:"Automaatne genereerimine",bestPractices:"parimad tavad",characterCount:"{{current}}/{{minLength}}-{{maxLength}} t\xe4hem\xe4rki, ",charactersLeftOver:"{{characters}} alles",charactersToGo:"{{characters}} kirjutada",charactersTooMany:"{{characters}} liiga palju",checksPassing:"{{current}}/{{max}} kontrolli on l\xe4bitud",good:"Hea",imageAutoGenerationTip:"Automaatne genereerimine toob valitud kangelaspildi.",lengthTipDescription:"See peaks olema vahemikus {{minLength}} ja {{maxLength}} t\xe4hem\xe4rki. Kvaliteetsete meta-kirjelduste kirjutamiseks vaata ",lengthTipTitle:"See peaks olema vahemikus {{minLength}} ja {{maxLength}} t\xe4hem\xe4rki. Kvaliteetsete meta-pealkirjade kirjutamiseks vaata ",missing:"Puudub",noImage:"Pilt puudub",preview:"Eelvaade",previewDescription:"T\xe4psed tulemused v\xf5ivad varieeruda s\xf5ltuvalt sisust ja otsingu asjakohasusest.",tooLong:"Liiga pikk",tooShort:"Liiga l\xfchike"}},fa:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"  ",autoGenerate:" ",bestPractices:" ",characterCount:"{{current}}/{{minLength}}-{{maxLength}}  ",charactersLeftOver:"{{characters}}  ",charactersToGo:"{{characters}}  ",charactersTooMany:"{{characters}}   ",checksPassing:"{{current}}/{{max}}      ",good:"",imageAutoGenerationTip:"            ",lengthTipDescription:"   {{minLength}}  {{maxLength}}  .            ",lengthTipTitle:"   {{minLength}}  {{maxLength}}  .            ",missing:"",noImage:" ",preview:"",previewDescription:"              ",tooLong:" ",tooShort:" "}},fr:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"On y est presque",autoGenerate:"Auto-g\xe9n\xe9rer",bestPractices:"bonnes pratiques",characterCount:"{{current}}/{{minLength}}-{{maxLength}} caract\xe8res, ",charactersLeftOver:"{{characters}} restants",charactersToGo:"{{characters}} \xe0 ajouter",charactersTooMany:"{{characters}} en trop",checksPassing:"{{current}}/{{max}} v\xe9rifications r\xe9ussies",good:"Bien",imageAutoGenerationTip:"L'auto-g\xe9n\xe9ration r\xe9cup\xe9rera l'image principale s\xe9lectionn\xe9e.",lengthTipDescription:"Ceci devrait contenir entre {{minLength}} et {{maxLength}} caract\xe8res. Pour obtenir de l'aide pour r\xe9diger des descriptions meta de qualit\xe9, consultez les ",lengthTipTitle:"Ceci devrait contenir entre {{minLength}} et {{maxLength}} caract\xe8res. Pour obtenir de l'aide pour r\xe9diger des titres meta de qualit\xe9, consultez les ",missing:"Manquant",noImage:"Pas d'image",preview:"Aper\xe7u",previewDescription:"Les r\xe9sultats exacts peuvent varier en fonction du contenu et de la pertinence de la recherche.",tooLong:"Trop long",tooShort:"Trop court"}},he:{$schema:"./translation-schema.json","plugin-seo":{almostThere:" ",autoGenerate:" ",bestPractices:" ",characterCount:"{{current}}/{{minLength}}-{{maxLength}} , ",charactersLeftOver:"{{characters}} ",charactersToGo:"{{characters}} ",charactersTooMany:"{{characters}}  ",checksPassing:"{{current}}/{{max}}   ",good:"",imageAutoGenerationTip:"      .",lengthTipDescription:"    {{minLength}} {{maxLength}} .     ,  -",lengthTipTitle:"    {{minLength}} {{maxLength}} .     ,  -",missing:"",noImage:" ",preview:" ",previewDescription:"        .",tooLong:" ",tooShort:" "}},hr:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Gotovi smo skoro",autoGenerate:"Automatsko generiranje",bestPractices:"najbolje prakse",characterCount:"{{current}}/{{minLength}}-{{maxLength}} znakova, ",charactersLeftOver:"{{characters}} preostalo",charactersToGo:"{{characters}} preostalo za unijeti",charactersTooMany:"{{characters}} previe",checksPassing:"{{current}}/{{max}} provjera prolo",good:"Dobro",imageAutoGenerationTip:"Automatsko generiranje e preuzeti odabranu sliku heroja.",lengthTipDescription:"Ovo bi trebalo biti izmeu {{minLength}} i {{maxLength}} znakova. Za pomo u pisanju kvalitetnih meta opisa, pogledajte ",lengthTipTitle:"Ovo bi trebalo biti izmeu {{minLength}} i {{maxLength}} znakova. Za pomo u pisanju kvalitetnih meta naslova, pogledajte ",missing:"Nedostaje",noImage:"Nema slike",preview:"Pregled",previewDescription:"Toni rezultati mogu varirati ovisno o sadraju i relevantnosti pretrage.",tooLong:"Predugako",tooShort:"Prekratko"}},hu:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Majdnem k\xe9sz",autoGenerate:"Automatikus gener\xe1l\xe1s",bestPractices:"legjobb gyakorlatok",characterCount:"{{current}}/{{minLength}}-{{maxLength}} karakter, ",charactersLeftOver:"{{characters}} h\xe1tra van",charactersToGo:"{{characters}} h\xe1tra van a be\xedr\xe1shoz",charactersTooMany:"{{characters}} t\xfal sok",checksPassing:"{{current}}/{{max}} ellenrz\xe9s sikeres",good:"J\xf3",imageAutoGenerationTip:"Az automatikus gener\xe1l\xe1s a kiv\xe1lasztott hs k\xe9pet fogja lek\xe9rni.",lengthTipDescription:"Ez legyen {{minLength}} \xe9s {{maxLength}} karakter k\xf6z\xf6tt. Seg\xedts\xe9g a mins\xe9gi meta le\xedr\xe1sok \xedr\xe1s\xe1hoz, n\xe9zd meg ",lengthTipTitle:"Ez legyen {{minLength}} \xe9s {{maxLength}} karakter k\xf6z\xf6tt. Seg\xedts\xe9g a mins\xe9gi meta c\xedmek \xedr\xe1s\xe1hoz, n\xe9zd meg ",missing:"Hi\xe1nyzik",noImage:"Nincs k\xe9p",preview:"Eln\xe9zet",previewDescription:"A pontos eredm\xe9nyek v\xe1ltozhatnak a tartalom \xe9s a keres\xe9si relevancia alapj\xe1n.",tooLong:"T\xfal hossz\xfa",tooShort:"T\xfal r\xf6vid"}},is:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"N\xe6stum komi\xf0",autoGenerate:"Mynda sj\xe1lfkrafa",bestPractices:"bestu venjur",characterCount:"{{current}}/{{minLength}}-{{maxLength}} stafir, ",charactersLeftOver:"{{characters}} eftir",charactersToGo:"{{characters}} eftir",charactersTooMany:"{{characters}} of miki\xf0",checksPassing:"{{current}}/{{max}} athuganir standast",good:"Gott",imageAutoGenerationTip:"Sj\xe1lfvirk myndun mun s\xe6kja valda hetjumynd.",lengthTipDescription:"\xdeetta \xe6tti a\xf0 vera \xe1 milli {{minLength}} og {{maxLength}} stafir. Fyrir hj\xe1lp me\xf0 a\xf0 skrifa g\xf3\xf0a l\xfdsingu, sj\xe1\xf0u ",lengthTipTitle:"\xdeetta \xe6tti a\xf0 vera \xe1 milli {{minLength}} og {{maxLength}} stafir. Fyrir hj\xe1lp me\xf0 a\xf0 skrifa g\xf3\xf0an titil, sj\xe1\xf0u ",missing:"Vantar",noImage:"Engin mynd",preview:"Forsko\xf0un",previewDescription:"N\xe1kv\xe6mar ni\xf0urst\xf6\xf0ur geta veri\xf0 mismunandi eftir efni og vi\xf0eigandi leitar.",tooLong:"Of langt",tooShort:"Of stutt"}},it:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Ci siamo quasi",autoGenerate:"Generazione automatica",bestPractices:"migliori pratiche",characterCount:"{{current}}/{{minLength}}-{{maxLength}} caratteri, ",charactersLeftOver:"{{characters}} rimasti",charactersToGo:"{{characters}} mancanti",charactersTooMany:"{{characters}} in pi\xf9",checksPassing:"{{current}}/{{max}} controlli superati",good:"Bene",imageAutoGenerationTip:"La generazione automatica recuperer\xe0 l'immagine selezionata per l'hero",lengthTipDescription:"Dovrebbe essere compreso tra {{minLength}} e {{maxLength}} caratteri. Per assistenza nella scrittura di meta descrizioni di qualit\xe0, vedere ",lengthTipTitle:"Dovrebbe essere compreso tra {{minLength}} e {{maxLength}} caratteri. Per assistenza nella scrittura di meta titoli di qualit\xe0, vedere ",missing:"Mancante",noImage:"Nessuna Immagine",preview:"Anteprima",previewDescription:"I risultati esatti possono variare in base al contenuto e alla pertinenza della ricerca.",tooLong:"Troppo lungo",tooShort:"Troppo corto"}},ja:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"",autoGenerate:"",bestPractices:"",characterCount:"{{current}}/{{minLength}}-{{maxLength}} , ",charactersLeftOver:"{{characters}} ",charactersToGo:"{{characters}} ",charactersTooMany:"{{characters}} ",checksPassing:"{{current}}/{{max}} ",good:"",imageAutoGenerationTip:"",lengthTipDescription:" {{minLength}}  {{maxLength}}  ",lengthTipTitle:" {{minLength}}  {{maxLength}}  ",missing:"",noImage:"",preview:"",previewDescription:"",tooLong:"",tooShort:""}},ko:{$schema:"./translation-schema.json","plugin-seo":{almostThere:" ",autoGenerate:" ",bestPractices:" ",characterCount:"{{current}}/{{minLength}}-{{maxLength}} , ",charactersLeftOver:"{{characters}}  ",charactersToGo:"{{characters}}  ",charactersTooMany:"{{characters}}  ",checksPassing:"{{current}}/{{max}}  ",good:"",imageAutoGenerationTip:"     .",lengthTipDescription:"  {{minLength}} {{maxLength}}  .        ",lengthTipTitle:"  {{minLength}} {{maxLength}}  .        ",missing:"",noImage:" ",preview:" ",previewDescription:"           .",tooLong:" ",tooShort:" "}},lt:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Beveik baigta",autoGenerate:"Automatinis generavimas",bestPractices:"geriausios praktikos",characterCount:"{{current}}/{{minLength}}-{{maxLength}} simboli, ",charactersLeftOver:"{{characters}} likusi simboli",charactersToGo:"{{characters}} simboli liko",charactersTooMany:"{{characters}} per daug simboli",checksPassing:"{{current}}/{{max}} tikrinim skmingi",good:"Gerai",imageAutoGenerationTip:"Automatinis generavimas paims pasirinkt pagrindin vaizd.",lengthTipDescription:"is tekstas turi bti tarp {{minLength}} ir {{maxLength}} simboli. Nordami gauti pagalbos raant kokybikus meta apraus, irkite ",lengthTipTitle:"is tekstas turi bti tarp {{minLength}} ir {{maxLength}} simboli. Nordami gauti pagalbos raant kokybikus meta pavadinimus, irkite ",missing:"Trksta",noImage:"Nra vaizdo",preview:"Perira",previewDescription:"Tikrj paiekos rezultat gali skirtis priklausomai nuo turinio ir paiekos svarbos.",tooLong:"Per ilgas",tooShort:"Per trumpas"}},my:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"",autoGenerate:"",bestPractices:"",characterCount:"{{current}}/{{minLength}}-{{maxLength}} , ",charactersLeftOver:"{{characters}} ",charactersToGo:"{{characters}} ",charactersTooMany:"{{characters}} ",checksPassing:"{{current}}/{{max}} ",good:"",imageAutoGenerationTip:"  ",lengthTipDescription:" {{minLength}}  {{maxLength}}   meta   ",lengthTipTitle:" {{minLength}}  {{maxLength}}   meta   ",missing:"",noImage:"",preview:"",previewDescription:"    ",tooLong:"",tooShort:""}},nb:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Nesten der",autoGenerate:"Auto-generer",bestPractices:"beste praksis",characterCount:"{{current}}/{{minLength}}-{{maxLength}} tegn, ",charactersLeftOver:"{{characters}} til overs",charactersToGo:"{{characters}} igjen",charactersTooMany:"{{characters}} for mange",checksPassing:"{{current}}/{{max}} sjekker best\xe5tt",good:"Bra",imageAutoGenerationTip:"Auto-generering vil hente det valgte hero-bildet.",lengthTipDescription:"Dette b\xf8r v\xe6re mellom {{minLength}} og {{maxLength}} tegn. For hjelp til \xe5 skrive beskrivelser av god kvalitet, se ",lengthTipTitle:"Dette b\xf8r v\xe6re mellom {{minLength}} og {{maxLength}} tegn. For hjelp til \xe5 skrive metatitler av god kvalitet, se ",missing:"Mangler",noImage:"Bilde mangler",preview:"Forh\xe5ndsvisning",previewDescription:"Eksakte resultatoppf\xf8ringer kan variere basert p\xe5 innhold og s\xf8ke relevans.",tooLong:"For lang",tooShort:"For kort"}},nl:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Bijna klaar",autoGenerate:"Automatisch genereren",bestPractices:"best practices",characterCount:"{{current}}/{{minLength}}-{{maxLength}} tekens, ",charactersLeftOver:"{{characters}} tekens over",charactersToGo:"{{characters}} tekens te gaan",charactersTooMany:"{{characters}} tekens te veel",checksPassing:"{{current}}/{{max}} controles geslaagd",good:"Goed",imageAutoGenerationTip:"Automatische generatie haalt de geselecteerde hero-afbeelding op.",lengthTipDescription:"Dit moet tussen {{minLength}} en {{maxLength}} tekens lang zijn. Voor hulp bij het schrijven van kwalitatieve metabeschrijvingen, zie ",lengthTipTitle:"Dit moet tussen {{minLength}} en {{maxLength}} tekens lang zijn. Voor hulp bij het schrijven van kwalitatieve metatitels, zie ",missing:"Ontbreekt",noImage:"Geen afbeelding",preview:"Voorbeeld",previewDescription:"Exacte zoekresultaten kunnen vari\xebren op basis van inhoud en zoekrelevantie.",tooLong:"Te lang",tooShort:"Te kort"}},pl:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Prawie gotowe",autoGenerate:"Wygeneruj automatycznie",bestPractices:"najlepsze praktyki",characterCount:"{{current}}/{{minLength}}-{{maxLength}} znak\xf3w, ",charactersLeftOver:"zostao {{characters}} znak\xf3w",charactersToGo:"pozostao {{characters}} znak\xf3w",charactersTooMany:"{{characters}} znak\xf3w za duo",checksPassing:"{{current}}/{{max}} test\xf3w zakoczonych pomylnie",good:"Dobrze",imageAutoGenerationTip:"Automatyczne generowanie pobierze wybrany g\xf3wny obraz.",lengthTipDescription:"Dugo powinna wynosi od {{minLength}} do {{maxLength}} znak\xf3w. Po porady dotyczce pisania wysokiej jakoci meta opis\xf3w zobacz ",lengthTipTitle:"Dugo powinna wynosi od {{minLength}} do {{maxLength}} znak\xf3w. Po porady dotyczce pisania wysokiej jakoci meta tytu\xf3w zobacz ",missing:"Brakuje",noImage:"Brak obrazu",preview:"Podgld",previewDescription:"Dokadne wyniki listowania mog si r\xf3ni w zalenoci od treci i zgodnoci z kryteriami wyszukiwania.",tooLong:"Zbyt dugie",tooShort:"Zbyt kr\xf3tkie"}},pt:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Quase l\xe1",autoGenerate:"Gerar automaticamente",bestPractices:"melhores pr\xe1ticas",characterCount:"{{current}}/{{minLength}}-{{maxLength}} caracteres, ",charactersLeftOver:"{{characters}} caracteres a mais",charactersToGo:"{{characters}} caracteres restantes",charactersTooMany:"{{characters}} caracteres em excesso",checksPassing:"{{current}}/{{max}} verifica\xe7\xf5es aprovadas",good:"Bom",imageAutoGenerationTip:"A gera\xe7\xe3o autom\xe1tica buscar\xe1 a imagem destacada selecionada.",lengthTipDescription:"Isso deve ter entre {{minLength}} e {{maxLength}} caracteres. Para obter ajuda na escrita de descri\xe7\xf5es meta de qualidade, veja ",lengthTipTitle:"Isso deve ter entre {{minLength}} e {{maxLength}} caracteres. Para obter ajuda na escrita de t\xedtulos meta de qualidade, veja ",missing:"Ausente",noImage:"Nenhuma imagem",preview:"Pr\xe9-visualiza\xe7\xe3o",previewDescription:"Os resultados exatos podem variar com base no conte\xfado e na relev\xe2ncia da pesquisa.",tooLong:"Muito longo",tooShort:"Muito curto"}},ro:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Aproape gata",autoGenerate:"Generare automat",bestPractices:"bune practici",characterCount:"{{current}}/{{minLength}}-{{maxLength}} caractere, ",charactersLeftOver:"{{characters}} caractere \xeen plus",charactersToGo:"{{characters}} caractere rmase",charactersTooMany:"{{characters}} caractere prea multe",checksPassing:"{{current}}/{{max}} verificri trecute",good:"Bun",imageAutoGenerationTip:"Generarea automat va prelua imaginea reprezentativ selectat.",lengthTipDescription:"Aceasta ar trebui s aib \xeentre {{minLength}} i {{maxLength}} caractere. Pentru ajutor \xeen redactarea descrierilor meta de calitate, vezi ",lengthTipTitle:"Aceasta ar trebui s aib \xeentre {{minLength}} i {{maxLength}} caractere. Pentru ajutor \xeen redactarea titlurilor meta de calitate, vezi ",missing:"Lipsete",noImage:"Nicio imagine",preview:"Previzualizare",previewDescription:"Rezultatele exacte pot varia \xeen funcie de coninut i relevana cutrii.",tooLong:"Prea lung",tooShort:"Prea scurt"}},rs:{$schema:"./translation-schema.json","plugin-seo":{almostThere:" ",autoGenerate:" ",bestPractices:" ",characterCount:"{{current}}/{{minLength}}-{{maxLength}} , ",charactersLeftOver:"{{characters}}  ",charactersToGo:"{{characters}}  ",charactersTooMany:"{{characters}}  ",checksPassing:"{{current}}/{{max}}   ",good:"",imageAutoGenerationTip:"      .",lengthTipDescription:"     {{minLength}}  {{maxLength}} .       ,  ",lengthTipTitle:"     {{minLength}}  {{maxLength}} .       ,  ",missing:"",noImage:" ",preview:"",previewDescription:"           .",tooLong:"",tooShort:""}},"rs-latin":{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Skoro gotovo",autoGenerate:"Automatski generii",bestPractices:"najbolje prakse",characterCount:"{{current}}/{{minLength}}-{{maxLength}} karaktera, ",charactersLeftOver:"{{characters}} karaktera vika",charactersToGo:"{{characters}} karaktera preostalo",charactersTooMany:"{{characters}} karaktera previe",checksPassing:"{{current}}/{{max}} provera uspeno prolo",good:"Dobro",imageAutoGenerationTip:"Automatsko generisanje e preuzeti izabranu hero sliku.",lengthTipDescription:"Ovo treba da ima izmeu {{minLength}} i {{maxLength}} karaktera. Za pomo u pisanju kvalitetnih meta opisa, pogledajte ",lengthTipTitle:"Ovo treba da ima izmeu {{minLength}} i {{maxLength}} karaktera. Za pomo u pisanju kvalitetnih meta naslova, pogledajte ",missing:"Nedostaje",noImage:"Nema slike",preview:"Pregled",previewDescription:"Tani rezultati pretrage mogu varirati u zavisnosti od sadraja i relevantnosti pretrage.",tooLong:"Predugako",tooShort:"Prekratko"}},ru:{$schema:"./translation-schema.json","plugin-seo":{almostThere:" ",autoGenerate:" ",bestPractices:" ",characterCount:"{{current}}/{{minLength}}-{{maxLength}} , ",charactersLeftOver:" {{characters}} ",charactersToGo:" {{characters}}  ",charactersTooMany:" {{characters}}  ",checksPassing:"{{current}}/{{max}}  ",good:"",imageAutoGenerationTip:"    .",lengthTipDescription:"   {{minLength}}  {{maxLength}} .       .",lengthTipTitle:"   {{minLength}}  {{maxLength}} .       .",missing:"",noImage:" ",preview:" ",previewDescription:"          .",tooLong:" ",tooShort:" "}},sk:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Takmer hotovo",autoGenerate:"Automaticky generova",bestPractices:"najlepie postupy",characterCount:"{{current}}/{{minLength}}-{{maxLength}} znakov, ",charactersLeftOver:"{{characters}} znakov navye",charactersToGo:"Ete {{characters}} znakov",charactersTooMany:"{{characters}} znakov navye",checksPassing:"{{current}}/{{max}} kontrol prelo",good:"Dobre",imageAutoGenerationTip:"Automatick\xe9 generovanie na\xedta vybran\xfd hlavn\xfd obr\xe1zok.",lengthTipDescription:"Tento text by mal ma medzi {{minLength}} a {{maxLength}} znakmi. Ak potrebujete pomoc s p\xedsan\xedm kvalitn\xfdch meta popisov, pozrite si ",lengthTipTitle:"Tento text by mal ma medzi {{minLength}} a {{maxLength}} znakmi. Ak potrebujete pomoc s p\xedsan\xedm kvalitn\xfdch meta nadpisov, pozrite si ",missing:"Ch\xfdba",noImage:"iadny obr\xe1zok",preview:"N\xe1had",previewDescription:"Presn\xe9 v\xfdsledky vyhad\xe1vania sa m\xf4u l\xedi v z\xe1vislosti od obsahu a relevantnosti vyhad\xe1vania.",tooLong:"Pr\xedli dlh\xe9",tooShort:"Pr\xedli kr\xe1tke"}},sl:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Skoraj konano",autoGenerate:"Samodejno generiranje",bestPractices:"najbolje prakse",characterCount:"{{current}}/{{minLength}}-{{maxLength}} znakov, ",charactersLeftOver:"{{characters}} znakov preve",charactersToGo:"{{characters}} znakov preostalo",charactersTooMany:"{{characters}} znakov preve",checksPassing:"{{current}}/{{max}} preverjanj je uspelo",good:"Dobro",imageAutoGenerationTip:"Samodejno generiranje bo preneslo izbrano glavno sliko.",lengthTipDescription:"To naj bo dolgo med {{minLength}} in {{maxLength}} znakov. Za pomo pri pisanju kakovostnih meta opisov si oglejte ",lengthTipTitle:"To naj bo dolgo med {{minLength}} in {{maxLength}} znakov. Za pomo pri pisanju kakovostnih meta naslovov si oglejte ",missing:"Manjkajoe",noImage:"Brez slike",preview:"Predogled",previewDescription:"Natanni rezultati iskanja se lahko razlikujejo glede na vsebino in relevantnost iskanja.",tooLong:"Presega dovoljeno dolino",tooShort:"Prekratka dolina"}},sv:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"N\xe4stan klar",autoGenerate:"Skapa automatiskt",bestPractices:"b\xe4sta praxis",characterCount:"{{current}}/{{minLength}}-{{maxLength}} tecken, ",charactersLeftOver:"{{characters}} tecken blir \xf6ver",charactersToGo:"{{characters}} tecken kvar",charactersTooMany:"{{characters}} tecken f\xf6r mycket",checksPassing:"{{current}}/{{max}} kontroller \xe4r godk\xe4nda",good:"Bra",imageAutoGenerationTip:"Den automatiska processen kommer att v\xe4lja en hero-bild.",lengthTipDescription:"B\xf6r vara mellan {{minLength}} och {{maxLength}} tecken. F\xf6r hj\xe4lp med att skriva bra metabeskrivningar, se ",lengthTipTitle:"B\xf6r vara mellan {{minLength}} och {{maxLength}} tecken. F\xf6r hj\xe4lp med att skriva bra metatitlar, se ",missing:"Saknas",noImage:"Ingen bild",preview:"F\xf6rhandsgranska",previewDescription:"Exakta resultatlistningar kan variera baserat p\xe5 inneh\xe5ll och s\xf6krelevans.",tooLong:"F\xf6r l\xe5ng",tooShort:"F\xf6r kort"}},ta:{$schema:"./translation-schema.json","plugin-seo":{almostThere:" ",autoGenerate:" ",bestPractices:" ",characterCount:"{{current}}/{{minLength}}-{{maxLength}} , ",charactersLeftOver:"{{characters}}  ",charactersToGo:"{{characters}}  ",charactersTooMany:"{{characters}}  ",checksPassing:"{{current}}/{{max}}  ",good:"",imageAutoGenerationTip:"     .",lengthTipDescription:" {{minLength}}  {{maxLength}}    .       ",lengthTipTitle:" {{minLength}}  {{maxLength}}    .       ",missing:"",noImage:" ",preview:"",previewDescription:"        .",tooLong:" ",tooShort:" "}},th:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"",autoGenerate:"",bestPractices:"",characterCount:"{{current}}/{{minLength}}-{{maxLength}} , ",charactersLeftOver:"{{characters}} ",charactersToGo:"{{characters}} ",charactersTooMany:"{{characters}} ",checksPassing:"{{current}}/{{max}} ",good:"",imageAutoGenerationTip:"",lengthTipDescription:" {{minLength}}  {{maxLength}}    ",lengthTipTitle:" {{minLength}}  {{maxLength}}    ",missing:"",noImage:"",preview:"",previewDescription:"",tooLong:"",tooShort:""}},tr:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Neredeyse tamam",autoGenerate:"Otomatik olutur",bestPractices:"en iyi uygulamalar",characterCount:"{{current}}/{{minLength}}-{{maxLength}} karakter, ",charactersLeftOver:"{{characters}} karakter kald",charactersToGo:"{{characters}} karakter kald",charactersTooMany:"{{characters}} karakter fazla",checksPassing:"{{current}}/{{max}} kontrol baarl",good:"yi",imageAutoGenerationTip:"Otomatik oluturma, se\xe7ilen ana g\xf6rseli alacaktr.",lengthTipDescription:"{{minLength}} ile {{maxLength}} karakter arasnda olmaldr. Kaliteli meta a\xe7klamalar yazmak i\xe7in yardm almak i\xe7in bkz. ",lengthTipTitle:"{{minLength}} ile {{maxLength}} karakter arasnda olmaldr. Kaliteli meta balklar yazmak i\xe7in yardm almak i\xe7in bkz. ",missing:"Eksik",noImage:"G\xf6rsel yok",preview:"\xd6nizleme",previewDescription:"Kesin sonu\xe7 listeleri i\xe7erie ve arama al\xe2kasna g\xf6re deiebilir.",tooLong:"\xc7ok uzun",tooShort:"\xc7ok ksa"}},uk:{$schema:"./translation-schema.json","plugin-seo":{almostThere:" ",autoGenerate:"",bestPractices:" ",characterCount:"{{current}}/{{minLength}}-{{maxLength}} , ",charactersLeftOver:" {{characters}} ",charactersToGo:"  {{characters}}  ",charactersTooMany:" {{characters}}  ",checksPassing:"{{current}}/{{max}}  ",good:"",imageAutoGenerationTip:"      ",lengthTipDescription:"   {{minLength}}  {{maxLength}} .  ,       ",lengthTipTitle:"   {{minLength}}  {{maxLength}} .  ,       ",missing:"",noImage:" ",preview:" ",previewDescription:"          .",tooLong:"",tooShort:""}},vi:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"Gn t",autoGenerate:"T ng to",bestPractices:"c\xe1c phng ph\xe1p hay nht",characterCount:"{{current}}/{{minLength}}-{{maxLength}} k\xed t, ",charactersLeftOver:"c\xf2n li {{characters}}",charactersToGo:"C\xf2n {{characters}} k\xfd t na",charactersTooMany:"vt qu\xe1 {{characters}} k\xfd t",checksPassing:"{{current}}/{{max}} \xe3 t",good:"Tt",imageAutoGenerationTip:"T\xednh nng t ng to s ly nh u ti\xean c chn.",lengthTipDescription:" d\xe0i n\xean t {{minLength}}-{{maxLength}} k\xed t.  c hng dn vit m\xf4 t meta cht lng, h\xe3y xem ",lengthTipTitle:" d\xe0i n\xean t {{minLength}}-{{maxLength}} k\xed t.  c hng dn vit m\xf4 t meta cht lng, h\xe3y xem ",missing:"Kh\xf4ng t",noImage:"Cha c\xf3 nh",preview:"Xem trc",previewDescription:"Kt qu hin th c\xf3 th thay i tu theo ni dung v\xe0 c\xf4ng c t\xecm kim.",tooLong:"Qu\xe1 d\xe0i",tooShort:"Qu\xe1 ngn"}},zh:{$schema:"./translation-schema.json","plugin-seo":{almostThere:"",autoGenerate:"",bestPractices:"",characterCount:"{{current}}/{{minLength}}-{{maxLength}} , ",charactersLeftOver:"{{characters}} ",charactersToGo:"{{characters}} ",charactersTooMany:"{{characters}} ",checksPassing:"{{current}}/{{max}} ",good:"",imageAutoGenerationTip:"",lengthTipDescription:" {{minLength}}  {{maxLength}}  meta  ",lengthTipTitle:" {{minLength}}  {{maxLength}}  meta  ",missing:"",noImage:"",preview:"",previewDescription:"",tooLong:"",tooShort:""}},"zh-TW":{$schema:"./translation-schema.json","plugin-seo":{almostThere:"",autoGenerate:"",bestPractices:"",characterCount:"{{current}}/{{minLength}}-{{maxLength}} ",charactersLeftOver:" {{characters}} ",charactersToGo:" {{characters}} ",charactersTooMany:" {{characters}} ",checksPassing:"{{current}}  {{max}} ",good:"",imageAutoGenerationTip:"",lengthTipDescription:" {{minLength}}  {{maxLength}} ",lengthTipTitle:" {{minLength}}  {{maxLength}} ",missing:"",noImage:"",preview:"",previewDescription:"",tooLong:"",tooShort:""}}},k=a=>b=>{let c=[(0,h.E)({}),(0,g.W)({hasGenerateFn:"function"==typeof a?.generateTitle}),(0,e.k)({hasGenerateFn:"function"==typeof a?.generateDescription}),...a?.uploadsCollection?[(0,f.z)({hasGenerateFn:"function"==typeof a?.generateImage,relationTo:a.uploadsCollection})]:[],(0,i.r)({hasGenerateFn:"function"==typeof a?.generateURL})],k=[{name:"meta",type:"group",fields:[...a?.fields&&"function"==typeof a.fields?a.fields({defaultFields:c}):c],interfaceName:a.interfaceName,label:"SEO"}];return{...b,collections:b.collections?.map(b=>{let{slug:c}=b;if(a?.collections?.includes(c)){if(a?.tabbedUI){let a=b.auth&&!("object"==typeof b.auth&&b.auth.disableLocalStrategy)&&b.fields?.find(a=>"name"in a&&"email"===a.name),c=b.fields?.length===1&&a?[{type:"tabs",tabs:[{fields:k,label:"SEO"}]}]:[{type:"tabs",tabs:[...b?.fields?.[0]?.type==="tabs"&&b?.fields?.[0]?.tabs?b.fields[0].tabs:[{fields:[...a?b.fields.filter(a=>"name"in a&&"email"!==a.name):b.fields],label:b?.labels?.singular||"Content"}],{fields:k,label:"SEO"}]}];return{...b,fields:[...a?[a]:[],...c,...b?.fields?.[0]?.type==="tabs"?b.fields.slice(1):[]]}}return{...b,fields:[...b?.fields||[],...k]}}return b})||[],endpoints:[...b.endpoints??[],{handler:async c=>{let d=await c.json?.(),e=d??c.data;return new Response(JSON.stringify({result:a.generateTitle?await a.generateTitle({...d,collectionConfig:b.collections?.find(a=>a.slug===e.collectionSlug),globalConfig:b.globals?.find(a=>a.slug===e.globalSlug),req:c}):""}),{status:200})},method:"post",path:"/plugin-seo/generate-title"},{handler:async c=>{let d=await c.json?.(),e=d??c.data;return new Response(JSON.stringify({result:a.generateDescription?await a.generateDescription({...d,collectionConfig:b.collections?.find(a=>a.slug===e.collectionSlug),globalConfig:b.globals?.find(a=>a.slug===e.globalSlug),req:c}):""}),{status:200})},method:"post",path:"/plugin-seo/generate-description"},{handler:async c=>{let d=await c.json?.(),e=d??c.data;return new Response(JSON.stringify({result:a.generateURL?await a.generateURL({...d,collectionConfig:b.collections?.find(a=>a.slug===e.collectionSlug),globalConfig:b.globals?.find(a=>a.slug===e.globalSlug),req:c}):""}),{status:200})},method:"post",path:"/plugin-seo/generate-url"},{handler:async c=>{let d=await c.json?.(),e=d??c.data;return new Response(JSON.stringify({result:a.generateImage?await a.generateImage({...d,collectionConfig:b.collections?.find(a=>a.slug===e.collectionSlug),globalConfig:b.globals?.find(a=>a.slug===e.globalSlug),req:c}):""}),{status:200})},method:"post",path:"/plugin-seo/generate-image"}],globals:b.globals?.map(b=>{let{slug:c}=b;if(a?.globals?.includes(c)){if(a?.tabbedUI){let a=[{type:"tabs",tabs:[...b?.fields?.[0]?.type==="tabs"&&b?.fields?.[0].tabs?b.fields[0].tabs:[{fields:[...b?.fields||[]],label:b?.label||"Content"}],{fields:k,label:"SEO"}]}];return{...b,fields:[...a,...b?.fields?.[0]?.type==="tabs"?b.fields.slice(1):[]]}}return{...b,fields:[...b?.fields||[],...k]}}return b})||[],i18n:{...b.i18n,translations:(0,d.p)(j,b.i18n?.translations??{})}}}},50510:(a,b,c)=>{"use strict";c.d(b,{z:()=>Y});var d=c(70404),e=c(33873);let f=/multipart\/['"()+-_]+(?:; ?['"()+-_]*)+$/i,g=new Set(["CONNECT","DELETE","GET","HEAD","OPTIONS","TRACE"]),h=a=>!!(a.headers.get("transfer-encoding")||a.headers.get("content-length")&&"0"!==a.headers.get("content-length")),i=a=>!g.has(a.method),j=a=>{let b=a.headers.get("content-type");return b.includes("boundary=")&&f.test(b)},k=a=>{try{return h(a)&&i(a)&&j(a)}catch(a){return!1}};var l=c(47845),m=c(24401),o=c(29021),p=c(27910);let q=/[^\w-]/g,r=3,s=65536,t="tmp",u=0,v=(a,b)=>!!(a||{}).debug&&(console.log(`Next-file-upload: ${b}`),!0),w=(a=t)=>(u=u>=s?1:u+1,`${a}-${u}-${Date.now()}`),x=a=>"function"==typeof a,y=(a,b)=>x(b)?b:a,z=(a,b)=>{let c=!1;return d=>{if(!c)return c=!0,d?y(a,b)(d):a()}},A=Object.getOwnPropertyNames(Object.prototype),B=Object.getOwnPropertyNames(Array.prototype),C=(a,b)=>{let c=a instanceof Array&&B.includes(b),d=A.includes(b);return!c&&!d},D=(a,b,c)=>(null!=c&&C(a=a||Object.create(null),b)&&(a[b]?a[b]instanceof Array?a[b].push(c):a[b]=[a[b],c]:a[b]=c),a),E=(a,b)=>{if(!a.createParentPath)return!1;let c=e.dirname(b);return o.existsSync(c)||o.mkdirSync(c,{recursive:!0}),o.existsSync(c)},F=(a,b)=>o.unlink(a,b),G=(a,b,c)=>{let d=!1,e=a=>{d||(d=!0,c(a))},f=o.createReadStream(a);f.on("error",e);let g=o.createWriteStream(b);g.on("error",a=>{f.destroy(),e(a)}),g.on("close",()=>e()),f.pipe(g)},H=(a,b,c)=>o.rename(a,b,d=>{if(d)return void G(a,b,b=>b?c(b):F(a,c));c(null,!0)}),I=(a,b,c)=>{if(!Buffer.isBuffer(a))return c(Error("buffer variable should be type of Buffer!"));let d=a,e=new p.Readable;e._read=()=>{e.push(d),d=null};let f=o.createWriteStream(b);f.on("error",a=>{c(a)}),f.on("close",()=>{c()}),e.pipe(f)},J=(a,b)=>{if(!a||!a.uriDecodeFileNames)return b;try{return decodeURIComponent(b)}catch(c){let a=/(%[a-f\d]{2})/gi;return b.split(a).map(a=>{try{return decodeURIComponent(a)}catch(a){return""}}).join("")}},K=(a,b)=>{let c={name:b,extension:""};if(!a)return c;let d="boolean"==typeof a?r:a,e=b.split(".");if(e.length<2)return c;let f=e.pop();return f.length>d&&d>0&&(e[e.length-1]+="."+f.substr(0,f.length-d),f=f.substr(-d)),{name:e.join("."),extension:d?f:""}},L=(a,b)=>{if(!b||"string"!=typeof b)return w();let c=b.length<=255?b:b.substr(0,255);if(c=J(a,c),!a.safeFileNames)return c;let d="object"==typeof a.safeFileNames&&a.safeFileNames instanceof RegExp?a.safeFileNames:q,e=K(a.preserveExtension,c);return e.extension.length&&(e.extension="."+e.extension.replace(d,"")),e.name.replace(d,"").concat(e.extension)},M=(a,b,c)=>(d,e)=>{v(c,`Moving temporary file ${b.tempFilePath} to ${a}`),H(b.tempFilePath,a,z(d,e))},N=(a,b,c)=>(d,e)=>{v(c,`Moving uploaded buffer to ${a}`),I(b.buffer,a,z(d,e))},O=(a,b)=>({name:a.name,data:a.buffer,encoding:a.encoding,md5:a.hash,mimetype:a.mimetype,mv:(c,d)=>{let e=b.useTempFiles?M(c,a,b):N(c,a,b);E(b,c);let f=()=>void 0;return x(d)?e(d,f):new Promise(e)},size:a.size,tempFilePath:a.tempFilePath,truncated:a.truncated});var P=c(55511);let Q=(a,b,c)=>{let d=e.normalize(a.tempFileDir),f=e.join(process.cwd(),d,w());E({createParentPath:!0},f),v(a,`Temporary file path is ${f}`);let g=P.createHash("md5"),h=0,i=!1;v(a,`Opening write stream for ${b}->${c}...`);let j=o.createWriteStream(f),k=new Promise((b,c)=>{j.on("finish",()=>b(!0)),j.on("error",b=>{v(a,`Error write temp file: ${b}`),c(b)})});return{cleanup:()=>{i=!0,v(a,`Cleaning up temporary file ${f}...`),j.end(),F(f,b=>b?v(a,`Cleaning up temporary file ${f} failed: ${b}`):v(a,`Cleaning up temporary file ${f} done.`))},complete:()=>(i=!0,v(a,`Upload ${b}->${c} completed, bytes:${h}.`),j instanceof o.WriteStream&&j.end(),Buffer.concat([])),dataHandler:d=>{if(!0===i)return void v(a,`Error: got ${b}->${c} data chunk for completed upload!`);j.write(d),g.update(d),h+=d.length,v(a,`Uploading ${b}->${c}, bytes:${h}...`)},getFilePath:()=>f,getFileSize:()=>h,getHash:()=>g.digest("hex"),getWritePromise:()=>k}},R=(a,b,c)=>{let d=[],e=P.createHash("md5"),f=0,g=!1,h=()=>Buffer.concat(d,f);return{cleanup:()=>{g=!0},complete:()=>(v(a,`Upload ${b}->${c} completed, bytes:${f}.`),g=!0,h()),dataHandler:h=>{if(!0===g)return void v(a,`Error: got ${b}->${c} data chunk for completed upload!`);d.push(h),e.update(h),f+=h.length,v(a,`Uploading ${b}->${c}, bytes:${f}...`)},getFilePath:()=>"",getFileSize:()=>f,getHash:()=>e.digest("hex"),getWritePromise:()=>Promise.resolve(!0)}},S=function(a){if(!a||a.length<1)return Object.create(null);let b=Object.create(null),c=Object.keys(a);for(let d=0;d<c.length;d++){let e=c[d],f=e?.replace(new RegExp(/\[/g),".").replace(new RegExp(/\]/g),"").split("."),g=a[e],h=b;for(let a=0;a<f.length;a++){let b=f[a];C(h,b)&&(a>=f.length-1?h[b]=g:(h[b]||(h[b]=f[a+1]?Object.create(null):[]),h=h[b]))}}return b},T=(a=0,b=()=>{})=>{let c=null,d=()=>{clearTimeout(c)},e=()=>!!a&&(d(),c=setTimeout(b,a),!0);return{clear:d,set:e}},U=Symbol("wait flush property symbol"),V=async({options:a,request:b})=>{let c,e,f=!0,g=!1,h=0,i=0,j=new Promise((a,b)=>{c=a,e=b}),k={fields:void 0,files:void 0},o={};b.headers.forEach((a,b)=>{o[b]=a});let p=b.body?.getReader(),q=l({...a,headers:o});function r(a,b){a.destroy(),g=!0,e(b)}for(q.on("field",(a,b)=>{k.fields=D(k.fields,a,b)}),q.on("file",(f,g,j)=>{h+=1;let{encoding:l,filename:o,mimeType:p}=j,s=L(a,o),t=s&&s.endsWith(".glb")&&"model/gltf-binary"||s&&s.endsWith(".gltf")&&"model/gltf+json"||p,{cleanup:u,complete:w,dataHandler:y,getFilePath:z,getFileSize:A,getHash:B,getWritePromise:C}=a.useTempFiles?Q(a,f,s):R(a,f,s),E=a.useTempFiles?C().catch(()=>{q.end(),u()}):C(),F=T(a.uploadTimeout,()=>r(g,new d.L(`Upload timeout for ${f}->${s}, bytes:${A()}`)));g.on("limit",()=>{v(a,`Size limit reached for ${f}->${s}, bytes:${A()}`),F.clear(),x(a.limitHandler)&&a.limitHandler({request:b,size:A()}),a.abortOnLimit&&(v(a,`Upload file size limit reached ${f}->${s}.`),u(),r(g,new d.L(a.responseOnLimit,m.h.REQUEST_ENTITY_TOO_LARGE,{size:A()})))}),g.on("data",a=>{F.set(),y(a)}),g.on("end",()=>{let d=A();if(v(a,`Upload finished ${f}->${s}, bytes:${d}`),F.clear(),!o&&0===d)return h-=1,a.useTempFiles&&(u(),v(a,`Removing the empty file ${f}->${s}`)),v(a,"Don't add file instance if original name and size are empty");i+=1,k.files=D(k.files,f,O({name:s,buffer:w(),encoding:l,hash:B(),mimetype:t,size:d,tempFilePath:z(),truncated:!!("truncated"in g&&g.truncated)},a)),b[U]||(b[U]=[]),b[U].push(E),i===h&&c()}),g.on("error",b=>{F.clear(),v(a,`File Error: ${b.message}`),u(),e(b)}),v(a,`New upload started ${f}->${s}, bytes:${A()}`),F.set()}),q.on("finish",async()=>{if(v(a,"Busboy finished parsing request."),a.parseNested&&(k.fields=S(k.fields),k.files=S(k.files)),b[U])try{await Promise.all(b[U]).then(()=>{delete b[U]})}catch(b){v(a,`Error waiting for file write promises: ${b}`)}return k}),q.on("error",(b=new d.L("Busboy error parsing multipart request",m.h.BAD_REQUEST))=>{throw v(a,"Busboy error"),b});f;){let{done:a,value:b}=await p.read();a&&(f=!1),b&&!g&&q.write(b)}return 0!==h&&await j.catch(a=>{throw a}),k},W={abortOnLimit:!1,createParentPath:!1,debug:!1,defParamCharset:"utf8",limitHandler:!1,parseNested:!1,preserveExtension:!1,responseOnLimit:"File size limit has been reached",safeFileNames:!1,tempFileDir:e.join(process.cwd(),"tmp"),uploadTimeout:6e4,uriDecodeFileNames:!1,useTempFiles:!1},X=async({options:a,request:b})=>{let c={...W,...a};return k(b)?V({options:c,request:b}):(v(c,"Request is not eligible for file upload!"),{error:new d.L("Request is not eligible for file upload",500),fields:void 0,files:void 0})},Y=async a=>{let{body:b,headers:c,method:e,payload:f}=a;if(e&&["PATCH","POST","PUT"].includes(e.toUpperCase())&&b){let[b]=(c.get("Content-Type")||"").split(";",1),e=parseInt(a.headers.get("Content-Length")||"0",10);if("application/json"===b){let b={};try{let c=await a.text?.();b=c?JSON.parse(c):{}}catch(b){a.payload.logger.error(b)}finally{a.data=b,a.json=()=>Promise.resolve(b)}}else if(e&&b?.includes("multipart/")){let{error:b,fields:c,files:e}=await X({options:{...f.config.bodyParser||{},...f.config.upload||{}},request:a});if(b)throw new d.L(b.message);if(e?.file&&(a.file=e.file),c?._payload&&"string"==typeof c._payload&&(a.data=JSON.parse(c._payload)),!a.file&&c?.file&&"string"==typeof c?.file){let b,{clientUploadContext:e,collectionSlug:g,filename:h,mimeType:i,size:j}=JSON.parse(c.file),k=a.payload.collections[g].config.upload;if(!k.handlers)throw new d.L("uploadConfig.handlers is not present for "+g);let l=null;for(let c of k.handlers)try{let b=await c(a,{doc:null,params:{clientUploadContext:e,collection:g,filename:h}});b&&(l=b)}catch(a){b=a}if(!l)throw b&&f.logger.error(b),new d.L("Expected response from the upload handler.");a.file={name:h,clientUploadContext:e,data:Buffer.from(await l.arrayBuffer()),mimetype:l.headers.get("Content-Type")||i,size:j}}}}}},50529:a=>{"use strict";a.exports={mapHttpRequest:e,reqSerializer:d};let b=Symbol("pino-raw-req-ref"),c=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},query:{enumerable:!0,writable:!0,value:""},params:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[b]},set:function(a){this[b]=a}}});function d(a){let b=a.info||a.socket,d=Object.create(c);if(d.id="function"==typeof a.id?a.id():a.id||(a.info?a.info.id:void 0),d.method=a.method,a.originalUrl)d.url=a.originalUrl;else{let b=a.path;d.url="string"==typeof b?b:a.url?a.url.path||a.url:void 0}return a.query&&(d.query=a.query),a.params&&(d.params=a.params),d.headers=a.headers,d.remoteAddress=b&&b.remoteAddress,d.remotePort=b&&b.remotePort,d.raw=a.raw||a,d}function e(a){return{req:d(a)}}Object.defineProperty(c,b,{writable:!0,value:{}})},50561:(a,b,c)=>{var d=c(44538),e=function(){},f=function(a){return a.setHeader&&"function"==typeof a.abort},g=function(a){return a.stdio&&Array.isArray(a.stdio)&&3===a.stdio.length},h=function(a,b,c){if("function"==typeof b)return h(a,null,b);b||(b={}),c=d(c||e);var i=a._writableState,j=a._readableState,k=b.readable||!1!==b.readable&&a.readable,l=b.writable||!1!==b.writable&&a.writable,m=!1,o=function(){a.writable||p()},p=function(){l=!1,k||c.call(a)},q=function(){k=!1,l||c.call(a)},r=function(b){c.call(a,b?Error("exited with error code: "+b):null)},s=function(b){c.call(a,b)},t=function(){process.nextTick(u)},u=function(){if(!m&&(k&&!(j&&j.ended&&!j.destroyed)||l&&!(i&&i.ended&&!i.destroyed)))return c.call(a,Error("premature close"))},v=function(){a.req.on("finish",p)};return f(a)?(a.on("complete",p),a.on("abort",t),a.req?v():a.on("request",v)):l&&!i&&(a.on("end",o),a.on("close",o)),g(a)&&a.on("exit",r),a.on("end",q),a.on("finish",p),!1!==b.error&&a.on("error",s),a.on("close",t),function(){m=!0,a.removeListener("complete",p),a.removeListener("abort",t),a.removeListener("request",v),a.req&&a.req.removeListener("finish",p),a.removeListener("end",o),a.removeListener("close",o),a.removeListener("finish",p),a.removeListener("exit",r),a.removeListener("end",q),a.removeListener("error",s),a.removeListener("close",t)}};a.exports=h},50775:(a,b,c)=>{"use strict";c.d(b,{Z:()=>f});var d=c(77208);let e="default"in d?d.default:d,f={name:"id",type:"text",admin:{hidden:!0},defaultValue:()=>new e().toHexString(),hooks:{beforeChange:[({value:a})=>a||new e().toHexString()],beforeDuplicate:[()=>new e().toHexString()]},label:"ID"}},51074:(a,b,c)=>{"use strict";let d,{Transform:e}=c(57075),f=c(38522),{redirectStatusSet:g,referrerPolicyTokens:h,badPortsSet:i}=c(27761),{getGlobalOrigin:j}=c(31117),{collectASequenceOfCodePoints:k,collectAnHTTPQuotedString:l,removeChars:m,parseMIMEType:o}=c(62018),{performance:p}=c(643),{ReadableStreamFrom:q,isValidHTTPToken:r,normalizedMethodRecordsBase:s}=c(81350),t=c(34589),{isUint8Array:u}=c(73429),{webidl:v}=c(81399),w=[];try{d=c(77598);let a=["sha256","sha384","sha512"];w=d.getHashes().filter(b=>a.includes(b))}catch{}function x(a){let b=a.urlList,c=b.length;return 0===c?null:b[c-1].toString()}function y(a,b){if(!g.has(a.status))return null;let c=a.headersList.get("location",!0);return null!==c&&G(c)&&(z(c)||(c=A(c)),c=new URL(c,x(a))),c&&!c.hash&&(c.hash=b),c}function z(a){for(let b=0;b<a.length;++b){let c=a.charCodeAt(b);if(c>126||c<32)return!1}return!0}function A(a){return Buffer.from(a,"binary").toString("utf8")}function B(a){return a.urlList[a.urlList.length-1]}function C(a){let b=B(a);return aw(b)&&i.has(b.port)?"blocked":"allowed"}function D(a){return a instanceof Error||a?.constructor?.name==="Error"||a?.constructor?.name==="DOMException"}function E(a){for(let b=0;b<a.length;++b){let c=a.charCodeAt(b);if(!(9===c||c>=32&&c<=126||c>=128&&c<=255))return!1}return!0}let F=r;function G(a){return!1===("	"===a[0]||" "===a[0]||"	"===a[a.length-1]||" "===a[a.length-1]||a.includes("\n")||a.includes("\r")||a.includes("\0"))}function H(a){let b=(a.headersList.get("referrer-policy",!0)??"").split(","),c="";if(b.length)for(let a=b.length;0!==a;a--){let d=b[a-1].trim();if(h.has(d)){c=d;break}}return c}function I(a,b){let c=H(b);""!==c&&(a.referrerPolicy=c)}function J(){return"allowed"}function K(){return"success"}function L(){return"success"}function M(a){let b=null;b=a.mode,a.headersList.set("sec-fetch-mode",b,!0)}function N(a){let b=a.origin;if("client"!==b&&void 0!==b){if("cors"===a.responseTainting||"websocket"===a.mode)a.headersList.append("origin",b,!0);else if("GET"!==a.method&&"HEAD"!==a.method){switch(a.referrerPolicy){case"no-referrer":b=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":a.origin&&av(a.origin)&&!av(B(a))&&(b=null);break;case"same-origin":ag(a,B(a))||(b=null)}a.headersList.append("origin",b,!0)}}}function O(a,b){return a}function P(a,b,c){return!a?.startTime||a.startTime<b?{domainLookupStartTime:b,domainLookupEndTime:b,connectionStartTime:b,connectionEndTime:b,secureConnectionStartTime:b,ALPNNegotiatedProtocol:a?.ALPNNegotiatedProtocol}:{domainLookupStartTime:O(a.domainLookupStartTime,c),domainLookupEndTime:O(a.domainLookupEndTime,c),connectionStartTime:O(a.connectionStartTime,c),connectionEndTime:O(a.connectionEndTime,c),secureConnectionStartTime:O(a.secureConnectionStartTime,c),ALPNNegotiatedProtocol:a.ALPNNegotiatedProtocol}}function Q(a){return O(p.now(),a)}function R(a){return{startTime:a.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:a.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}function S(){return{referrerPolicy:"strict-origin-when-cross-origin"}}function T(a){return{referrerPolicy:a.referrerPolicy}}function U(a){let b=a.referrerPolicy;t(b);let c=null;if("client"===a.referrer){let a=j();if(!a||"null"===a.origin)return"no-referrer";c=new URL(a)}else v.is.URL(a.referrer)&&(c=a.referrer);let d=V(c),e=V(c,!0);switch(d.toString().length>4096&&(d=e),b){case"no-referrer":return"no-referrer";case"origin":if(null!=e)return e;return V(c,!0);case"unsafe-url":return d;case"strict-origin":case"no-referrer-when-downgrade":{let b=B(a);if($(d)&&!$(b))return"no-referrer";return e}case"strict-origin-when-cross-origin":{let b=B(a);if(ag(d,b))return d;if($(d)&&!$(b))return"no-referrer";return e}case"same-origin":if(ag(a,d))return d;return"no-referrer";case"origin-when-cross-origin":if(ag(a,d))return d;return e}}function V(a,b=!1){return(t(v.is.URL(a)),au(a=new URL(a)))?"no-referrer":(a.username="",a.password="",a.hash="",!0===b&&(a.pathname="",a.search=""),a)}let W=RegExp("^(?:(?:127\\.)(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){2}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[1-9]))$"),X=RegExp("^(?:(?:(?:0{1,4}):){7}(?:(?:0{0,3}1))|(?:(?:0{1,4}):){1,6}(?::(?:0{0,3}1))|(?:::(?:0{0,3}1))|)$");function Y(a){return a.includes(":")?("["===a[0]&&"]"===a[a.length-1]&&(a=a.slice(1,-1)),X.test(a)):W.test(a)}function Z(a){return null!=a&&"null"!==a&&(!!("https:"===(a=new URL(a)).protocol||"wss:"===a.protocol||Y(a.hostname)||"localhost"===a.hostname||"localhost."===a.hostname||a.hostname.endsWith(".localhost")||a.hostname.endsWith(".localhost."))||"file:"===a.protocol)}function $(a){return!!v.is.URL(a)&&("about:blank"===a.href||"about:srcdoc"===a.href||"data:"===a.protocol||"blob:"===a.protocol||Z(a.origin))}function _(a,b){if(void 0===d)return!0;let c=ab(b);if("no metadata"===c||0===c.length)return!0;let e=ac(c);for(let b of ad(c,e)){let c=b.algo,e=b.hash,f=d.createHash(c).update(a).digest("base64");if("="===f[f.length-1]&&(f="="===f[f.length-2]?f.slice(0,-2):f.slice(0,-1)),ae(f,e))return!0}return!1}let aa=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function ab(a){let b=[],c=!0;for(let d of a.split(" ")){c=!1;let a=aa.exec(d);if(null===a||void 0===a.groups||void 0===a.groups.algo)continue;let e=a.groups.algo.toLowerCase();w.includes(e)&&b.push(a.groups)}return!0===c?"no metadata":b}function ac(a){let b=a[0].algo;if("5"===b[3])return b;for(let c=1;c<a.length;++c){let d=a[c];if("5"===d.algo[3]){b="sha512";break}"3"!==b[3]&&"3"===d.algo[3]&&(b="sha384")}return b}function ad(a,b){if(1===a.length)return a;let c=0;for(let d=0;d<a.length;++d)a[d].algo===b&&(a[c++]=a[d]);return a.length=c,a}function ae(a,b){if(a.length!==b.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==b[c]){if("+"===a[c]&&"-"===b[c]||"/"===a[c]&&"_"===b[c])continue;return!1}return!0}function af(a){}function ag(a,b){return a.origin===b.origin&&"null"===a.origin||a.protocol===b.protocol&&a.hostname===b.hostname&&a.port===b.port}function ah(){let a,b;return{promise:new Promise((c,d)=>{a=c,b=d}),resolve:a,reject:b}}function ai(a){return"aborted"===a.controller.state}function aj(a){return"aborted"===a.controller.state||"terminated"===a.controller.state}function ak(a){return s[a.toLowerCase()]??a}function al(a){let b=JSON.stringify(a);if(void 0===b)throw TypeError("Value is not JSON serializable");return t("string"==typeof b),b}let am=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function an(a,b,c=0,d=1){class e{#aI;#aJ;#aK;constructor(a,b){this.#aI=a,this.#aJ=b,this.#aK=0}next(){let e;if("object"!=typeof this||this===null||!(#aI in this))throw TypeError(`'next' called on an object that does not implement interface ${a} Iterator.`);let f=this.#aK,g=b(this.#aI);if(f>=g.length)return{value:void 0,done:!0};let{[c]:h,[d]:i}=g[f];switch(this.#aK=f+1,this.#aJ){case"key":e=h;break;case"value":e=i;break;case"key+value":e=[h,i]}return{value:e,done:!1}}}return delete e.prototype.constructor,Object.setPrototypeOf(e.prototype,am),Object.defineProperties(e.prototype,{[Symbol.toStringTag]:{writable:!1,enumerable:!1,configurable:!0,value:`${a} Iterator`},next:{writable:!0,enumerable:!0,configurable:!0}}),function(a,b){return new e(a,b)}}function ao(a,b,c,d=0,e=1){let f=an(a,c,d,e),g={keys:{writable:!0,enumerable:!0,configurable:!0,value:function(){return v.brandCheck(this,b),f(this,"key")}},values:{writable:!0,enumerable:!0,configurable:!0,value:function(){return v.brandCheck(this,b),f(this,"value")}},entries:{writable:!0,enumerable:!0,configurable:!0,value:function(){return v.brandCheck(this,b),f(this,"key+value")}},forEach:{writable:!0,enumerable:!0,configurable:!0,value:function(c,d=globalThis){if(v.brandCheck(this,b),v.argumentLengthCheck(arguments,1,`${a}.forEach`),"function"!=typeof c)throw TypeError(`Failed to execute 'forEach' on '${a}': parameter 1 is not of type 'Function'.`);for(let{0:a,1:b}of f(this,"key+value"))c.call(d,b,a,this)}}};return Object.defineProperties(b.prototype,{...g,[Symbol.iterator]:{writable:!0,enumerable:!1,configurable:!0,value:g.entries.value}})}function ap(a,b,c){let d,e=b,f=c;try{d=a.stream.getReader()}catch(a){f(a);return}at(d,e,f)}function aq(a){try{a.close(),a.byobRequest?.respond(0)}catch(a){if(!a.message.includes("Controller is already closed")&&!a.message.includes("ReadableStream is already closed"))throw a}}let ar=/[^\x00-\xFF]/;function as(a){return t(!ar.test(a)),a}async function at(a,b,c){let d=[],e=0;try{for(;;){let{done:f,value:g}=await a.read();if(f)return void b(Buffer.concat(d,e));if(!u(g))return void c(TypeError("Received non-Uint8Array chunk"));d.push(g),e+=g.length}}catch(a){c(a)}}function au(a){t("protocol"in a);let b=a.protocol;return"about:"===b||"blob:"===b||"data:"===b}function av(a){return"string"==typeof a&&":"===a[5]&&"h"===a[0]&&"t"===a[1]&&"t"===a[2]&&"p"===a[3]&&"s"===a[4]||"https:"===a.protocol}function aw(a){t("protocol"in a);let b=a.protocol;return"http:"===b||"https:"===b}function ax(a,b){let c=a;if(!c.startsWith("bytes"))return"failure";let d={position:5};if(b&&k(a=>"	"===a||" "===a,c,d),61!==c.charCodeAt(d.position))return"failure";d.position++,b&&k(a=>"	"===a||" "===a,c,d);let e=k(a=>{let b=a.charCodeAt(0);return b>=48&&b<=57},c,d),f=e.length?Number(e):null;if(b&&k(a=>"	"===a||" "===a,c,d),45!==c.charCodeAt(d.position))return"failure";d.position++,b&&k(a=>"	"===a||" "===a,c,d);let g=k(a=>{let b=a.charCodeAt(0);return b>=48&&b<=57},c,d),h=g.length?Number(g):null;return d.position<c.length||null===h&&null===f||f>h?"failure":{rangeStartValue:f,rangeEndValue:h}}function ay(a,b,c){let d="bytes ";return d+=as(`${a}`),d+="-",d+=as(`${b}`),d+="/",d+=as(`${c}`)}class az extends e{#aL;constructor(a){super(),this.#aL=a}_transform(a,b,c){if(!this._inflateStream){if(0===a.length)return void c();this._inflateStream=(15&a[0])==8?f.createInflate(this.#aL):f.createInflateRaw(this.#aL),this._inflateStream.on("data",this.push.bind(this)),this._inflateStream.on("end",()=>this.push(null)),this._inflateStream.on("error",a=>this.destroy(a))}this._inflateStream.write(a,b,c)}_final(a){this._inflateStream&&(this._inflateStream.end(),this._inflateStream=null),a()}}function aA(a){return new az(a)}function aB(a){let b=null,c=null,d=null,e=aD("content-type",a);if(null===e)return"failure";for(let a of e){let e=o(a);"failure"!==e&&"*/*"!==e.essence&&((d=e).essence!==c?(b=null,d.parameters.has("charset")&&(b=d.parameters.get("charset")),c=d.essence):d.parameters.has("charset")||null===b||d.parameters.set("charset",b))}return null==d?"failure":d}function aC(a){let b=a,c={position:0},d=[],e="";for(;c.position<b.length;){if(e+=k(a=>'"'!==a&&","!==a,b,c),c.position<b.length)if(34===b.charCodeAt(c.position)){if(e+=l(b,c),c.position<b.length)continue}else t(44===b.charCodeAt(c.position)),c.position++;e=m(e,!0,!0,a=>9===a||32===a),d.push(e),e=""}return d}function aD(a,b){let c=b.get(a,!0);return null===c?null:aC(c)}let aE=new TextDecoder;function aF(a){return 0===a.length?"":(239===a[0]&&187===a[1]&&191===a[2]&&(a=a.subarray(3)),aE.decode(a))}class aG{get baseUrl(){return j()}get origin(){return this.baseUrl?.origin}policyContainer=S()}class aH{settingsObject=new aG}a.exports={isAborted:ai,isCancelled:aj,isValidEncodedURL:z,createDeferredPromise:ah,ReadableStreamFrom:q,tryUpgradeRequestToAPotentiallyTrustworthyURL:af,clampAndCoarsenConnectionTimingInfo:P,coarsenedSharedCurrentTime:Q,determineRequestsReferrer:U,makePolicyContainer:S,clonePolicyContainer:T,appendFetchMetadata:M,appendRequestOriginHeader:N,TAOCheck:L,corsCheck:K,crossOriginResourcePolicyCheck:J,createOpaqueTimingInfo:R,setRequestReferrerPolicyOnRedirect:I,isValidHTTPToken:r,requestBadPort:C,requestCurrentURL:B,responseURL:x,responseLocationURL:y,isURLPotentiallyTrustworthy:$,isValidReasonPhrase:E,sameOrigin:ag,normalizeMethod:ak,serializeJavascriptValueToJSONString:al,iteratorMixin:ao,createIterator:an,isValidHeaderName:F,isValidHeaderValue:G,isErrorLike:D,fullyReadBody:ap,bytesMatch:_,readableStreamClose:aq,isomorphicEncode:as,urlIsLocal:au,urlHasHttpsScheme:av,urlIsHttpHttpsScheme:aw,readAllBytes:at,simpleRangeHeaderValue:ax,buildContentRange:ay,parseMetadata:ab,createInflate:aA,extractMimeType:aB,getDecodeSplit:aD,utf8DecodeBytes:aF,environmentSettingsObject:new aH,isOriginIPPotentiallyTrustworthy:Y}},51142:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.enumToMap=void 0,b.enumToMap=function(a,b=[],c=[]){var d,e;let f=(null!=(d=null==b?void 0:b.length)?d:0)===0,g=(null!=(e=null==c?void 0:c.length)?e:0)===0;return Object.fromEntries(Object.entries(a).filter(([,a])=>"number"==typeof a&&(f||b.includes(a))&&(g||!c.includes(a))))}},51222:(a,b,c)=>{"use strict";let{InvalidArgumentError:d,RequestAbortedError:e}=c(64737),f=c(26749);class g extends f{#x=1048576;#aM=!1;#y=0;#$=null;aborted=!1;reason=!1;constructor({maxSize:a,signal:b},c){if(null!=a&&(!Number.isFinite(a)||a<1))throw new d("maxSize must be a number greater than 0");super(c),this.#x=a??this.#x}#at(a){this.aborted=!0,this.reason=a}onRequestStart(a,b){return a.abort=this.#at.bind(this),this.#$=a,super.onRequestStart(a,b)}onResponseStart(a,b,c,d){let f=c["content-length"];if(null!=f&&f>this.#x)throw new e(`Response size (${f}) larger than maxSize (${this.#x})`);return!0===this.aborted||super.onResponseStart(a,b,c,d)}onResponseError(a,b){this.#aM||(b=this.#$.reason??b,super.onResponseError(a,b))}onResponseData(a,b){return this.#y=this.#y+b.length,this.#y>=this.#x&&(this.#aM=!0,!0===this.aborted?super.onResponseError(a,this.reason):super.onResponseEnd(a,{})),!0}onResponseEnd(a,b){if(!this.#aM){if(!0===this.#$.aborted)return void super.onResponseError(a,this.reason);super.onResponseEnd(a,b)}}}a.exports=function({maxSize:a}={maxSize:1048576}){return b=>function(c,d){let{dumpMaxSize:e=a}=c,f=new g({maxSize:e,signal:c.signal},d);return b(c,f)}}},51313:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DEFAULT_COLOR_MAP=void 0,b.DEFAULT_COLOR_MAP={red:"\x1b[31m",green:"\x1b[32m",yellow:"\x1b[33m",blue:"\x1b[34m",magenta:"\x1b[35m",cyan:"\x1b[36m",white:"\x1b[37m",white_bold:"\x1b[01m",reset:"\x1b[0m"};class c{constructor(a=b.DEFAULT_COLOR_MAP){this.text="",this.colorMap=a}addCharsWithColor(a,b){let c=this.colorMap[a];this.text+=void 0!==c?`${c}${b}${this.colorMap.reset}`:b}renderConsole(){return this.text}}b.default=c},51416:(a,b,c)=>{"use strict";let{InvalidArgumentError:d,SocketError:e}=c(64737),{AsyncResource:f}=c(16698),g=c(34589),h=c(81350),{addSignal:i,removeSignal:j}=c(84952);class k extends f{constructor(a,b){if(!a||"object"!=typeof a)throw new d("invalid opts");if("function"!=typeof b)throw new d("invalid callback");let{signal:c,opaque:e,responseHeaders:f}=a;if(c&&"function"!=typeof c.on&&"function"!=typeof c.addEventListener)throw new d("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=f||null,this.opaque=e||null,this.callback=b,this.abort=null,this.context=null,i(this,c)}onConnect(a,b){if(this.reason)return void a(this.reason);g(this.callback),this.abort=a,this.context=null}onHeaders(){throw new e("bad upgrade",null)}onUpgrade(a,b,c){g(101===a);let{callback:d,opaque:e,context:f}=this;j(this),this.callback=null;let i="raw"===this.responseHeaders?h.parseRawHeaders(b):h.parseHeaders(b);this.runInAsyncScope(d,null,null,{headers:i,socket:c,opaque:e,context:f})}onError(a){let{callback:b,opaque:c}=this;j(this),b&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(b,null,a,{opaque:c})}))}}function l(a,b){if(void 0===b)return new Promise((b,c)=>{l.call(this,a,(a,d)=>a?c(a):b(d))});try{let c=new k(a,b),d={...a,method:a.method||"GET",upgrade:a.protocol||"Websocket"};this.dispatch(d,c)}catch(d){if("function"!=typeof b)throw d;let c=a?.opaque;queueMicrotask(()=>b(d,{opaque:c}))}}a.exports=l},51772:(a,b,c)=>{"use strict";let d=c(85558),e=c(40821).cursor,f=c(4804),g=c(13576),h=g.clear,i=g.style,j=g.figures;class k extends f{constructor(a={}){a.overrideRender=!0,super(a),this.inputValue="",this.clear=h("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(a=>a.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let a=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(a=>!this.inputValue||!!("string"==typeof a.title&&a.title.toLowerCase().includes(this.inputValue.toLowerCase())||"string"==typeof a.value&&a.value.toLowerCase().includes(this.inputValue.toLowerCase())));let b=this.filteredOptions.findIndex(b=>b===a);this.cursor=b<0?0:b,this.render()}handleSpaceToggle(){let a=this.filteredOptions[this.cursor];if(a.selected)a.selected=!1,this.render();else{if(a.disabled||this.value.filter(a=>a.selected).length>=this.maxChoices)return this.bell();a.selected=!0,this.render()}}handleInputChange(a){this.inputValue=this.inputValue+a,this.updateFilteredOptions()}_(a,b){" "===a?this.handleSpaceToggle():this.handleInputChange(a)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`
Instructions:
    ${j.arrowUp}/${j.arrowDown}: Highlight option
    ${j.arrowLeft}/${j.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:d.gray("Enter something to filter")}
`}renderOption(a,b,c){let e;return e=b.disabled?a===c?d.gray().underline(b.title):d.strikethrough().gray(b.title):a===c?d.cyan().underline(b.title):b.title,(b.selected?d.green(j.radioOn):j.radioOff)+"  "+e}renderDoneOrInstructions(){if(this.done)return this.value.filter(a=>a.selected).map(a=>a.title).join(", ");let a=[d.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&a.push(d.yellow(this.warn)),a.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let a=[i.symbol(this.done,this.aborted),d.bold(this.msg),i.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(a+=d.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),a+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+a),this.clear=h(a,this.out.columns)}}a.exports=k},51840:(a,b,c)=>{"use strict";let d=c(34589),{Readable:e}=c(57075),f=c(81350),g=c(1594),h=c(13163),i=c(50283),{assertCacheStore:j,assertCacheMethods:k,makeCacheKey:l,normaliseHeaders:m,parseCacheControlHeader:o}=c(9365),{AbortError:p}=c(64737);function q(a,b){if(b?.["no-cache"]||a.cacheControlDirectives?.["no-cache"]&&!Array.isArray(a.cacheControlDirectives["no-cache"]))return!0;let c=Date.now();return c>a.staleAt?!b?.["max-stale"]||c>a.staleAt+1e3*b["max-stale"]:!!b?.["min-fresh"]&&a.staleAt-c<=1e3*b["min-fresh"]}function r(a,b,c,d,e,f){if(f?.["only-if-cached"]){let a=!1;try{if("function"==typeof d.onConnect&&(d.onConnect(()=>{a=!0}),a)||"function"==typeof d.onHeaders&&(d.onHeaders(504,[],()=>{},"Gateway Timeout"),a))return;"function"==typeof d.onComplete&&d.onComplete([])}catch(a){"function"==typeof d.onError&&d.onError(a)}return!0}return a(e,new g(b,c,d))}function s(a,b,c,g,h,i){let j=f.isStream(c.body)?c.body:e.from(c.body??[]);d(!j.destroyed,"stream should not be destroyed"),d(!j.readableDidRead,"stream should not be readableDidRead");let k={resume(){j.resume()},pause(){j.pause()},get paused(){return j.isPaused()},get aborted(){return j.destroyed},get reason(){return j.errored},abort(a){j.destroy(a??new p)}};if(j.on("error",function(b){if(!this.readableEnded)if("function"==typeof a.onResponseError)a.onResponseError(k,b);else throw b}).on("close",function(){this.errored||a.onResponseEnd?.(k,{})}),a.onRequestStart?.(k,h),j.destroyed)return;let l={...c.headers,age:String(g)};i&&(l.warning='110 - "response is stale"'),a.onResponseStart?.(k,c.statusCode,l,c.statusMessage),"HEAD"===b.method?j.destroy():j.on("data",function(b){a.onResponseData?.(k,b)})}function t(a,b,c,d,e,h,j){if(!j)return r(a,b,c,d,e,h);let k=Date.now();if(k>j.deleteAt)return a(e,new g(b,c,d));let l=Math.round((k-j.cachedAt)/1e3);if(h?.["max-age"]&&l>=h["max-age"])return a(e,d);if(q(j,h)){if(f.isStream(e.body)&&0!==f.bodyLength(e.body))return a(e,new g(b,c,d));let m=!1,o=j.cacheControlDirectives["stale-if-error"]??h?.["stale-if-error"];o&&(m=k<j.staleAt+1e3*o);let p={...e.headers,"if-modified-since":new Date(j.cachedAt).toUTCString()};return j.etag&&(p["if-none-match"]=j.etag),j.vary&&(p={...p,...j.vary}),a({...e,headers:p},new i((a,b)=>{a?s(d,e,j,l,b,!0):f.isStream(j.body)&&j.body.on("error",()=>{}).destroy()},new g(b,c,d),m))}f.isStream(e.body)&&e.body.on("error",()=>{}).destroy(),s(d,e,j,l,null,!1)}a.exports=(a={})=>{let{store:b=new h,methods:c=["GET"],cacheByDefault:d,type:e="shared"}=a;if("object"!=typeof a||null===a)throw TypeError(`expected type of opts to be an Object, got ${null===a?"null":typeof a}`);if(j(b,"opts.store"),k(c,"opts.methods"),void 0!==d&&"number"!=typeof d)throw TypeError(`exepcted opts.cacheByDefault to be number or undefined, got ${typeof d}`);if(void 0!==e&&"shared"!==e&&"private"!==e)throw TypeError(`exepcted opts.type to be shared, private, or undefined, got ${typeof e}`);let g={store:b,methods:c,cacheByDefault:d,type:e},i=f.safeHTTPMethods.filter(a=>!1===c.includes(a));return a=>(c,d)=>{if(!c.origin||i.includes(c.method))return a(c,d);c={...c,headers:m(c)};let e=c.headers?.["cache-control"]?o(c.headers["cache-control"]):void 0;if(e?.["no-store"])return a(c,d);let f=l(c),h=b.get(f);return h&&"function"==typeof h.then?h.then(b=>{t(a,g,f,d,c,e,b)}):t(a,g,f,d,c,e,h),!0}}},51857:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.wcswidth=b.wcwidth=void 0,b.wcswidth=d(c(67323)).default,b.wcwidth=d(c(82302)).default},51874:a=>{"use strict";a.exports={DATE_FORMAT:"yyyy-mm-dd HH:MM:ss.l o",DATE_FORMAT_SIMPLE:"HH:MM:ss.l",ERROR_LIKE_KEYS:["err","error"],MESSAGE_KEY:"msg",LEVEL_KEY:"level",LEVEL_LABEL:"levelLabel",TIMESTAMP_KEY:"time",LEVELS:{default:"USERLVL",60:"FATAL",50:"ERROR",40:"WARN",30:"INFO",20:"DEBUG",10:"TRACE"},LEVEL_NAMES:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},LOGGER_KEYS:["pid","hostname","name","level","time","timestamp","caller"]}},51960:(a,b,c)=>{"use strict";c.d(b,{s:()=>m});var d=c(99408),e=c(10631),f=c(35597),g=c(1276),h=c(66089),i=c(71462),j=c(16886),k=c(41144),l=c(79983);let m=async a=>{let{depth:b,globalConfig:c,limit:m,overrideAccess:o,page:p,pagination:q=!0,populate:r,select:s,showHiddenFields:t,sort:u,where:v}=a,w=a.req,{fallbackLocale:x,locale:y,payload:z}=w,A=(0,k.p)(z.config,c,!0);try{let a=!!o||await (0,d.m)({req:w},c.access.readVersions);await (0,f.d)({globalConfig:c,overrideAccess:o,req:w,versionFields:A,where:v});let h=(0,e.m)(v,a),B=(0,j.Y)({fields:(0,k.p)(z.config,c,!0),forceSelect:(0,l.V)({select:c.forceSelect}),select:s,versions:!0}),C=q&&0!==m,D=m??10*!!C,E=p||1,F=await z.db.findGlobalVersions({global:c.slug,limit:D,locale:y,page:E,pagination:q,req:w,select:B,sort:u,where:h}),G={...F,docs:await Promise.all(F.docs.map(async a=>(a.version||(a.version={}),{...a,version:await (0,g.v)({collection:null,context:w.context,depth:b,doc:{...a.version,globalType:c.slug},draft:void 0,fallbackLocale:x,findMany:!0,global:c,locale:y,overrideAccess:o,populate:r,req:w,select:B,showHiddenFields:t})})))};return c.hooks?.afterRead?.length&&(G.docs=await Promise.all(G.docs.map(async a=>{let b=a;for(let d of c.hooks.afterRead)b.version=await d({context:w.context,doc:a.version,findMany:!0,global:c,query:h,req:w})||a.version;return b}))),G={...G,docs:G.docs.map(a=>(0,i.E)(a))}}catch(a){throw await (0,h.J)(w),a}}},51969:(a,b,c)=>{"use strict";let d,{Duplex:e}=c(27910),{randomFillSync:f}=c(55511),g=c(36124),{EMPTY_BUFFER:h,kWebSocket:i,NOOP:j}=c(82455),{isBlob:k,isValidStatusCode:l}=c(72783),{mask:m,toBuffer:o}=c(53795),p=Symbol("kByteLength"),q=Buffer.alloc(4),r=8192,s=8192,t=0,u=1,v=2;class w{constructor(a,b,c){this._extensions=b||{},c&&(this._generateMask=c,this._maskBuffer=Buffer.alloc(4)),this._socket=a,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=t,this.onerror=j,this[i]=void 0}static frame(a,b){let c,e,g=!1,h=2,i=!1;b.mask&&(c=b.maskBuffer||q,b.generateMask?b.generateMask(c):(s===r&&(void 0===d&&(d=Buffer.alloc(r)),f(d,0,r),s=0),c[0]=d[s++],c[1]=d[s++],c[2]=d[s++],c[3]=d[s++]),i=(c[0]|c[1]|c[2]|c[3])==0,h=6),"string"==typeof a?e=(!b.mask||i)&&void 0!==b[p]?b[p]:(a=Buffer.from(a)).length:(e=a.length,g=b.mask&&b.readOnly&&!i);let j=e;e>=65536?(h+=8,j=127):e>125&&(h+=2,j=126);let k=Buffer.allocUnsafe(g?e+h:h);return(k[0]=b.fin?128|b.opcode:b.opcode,b.rsv1&&(k[0]|=64),k[1]=j,126===j?k.writeUInt16BE(e,2):127===j&&(k[2]=k[3]=0,k.writeUIntBE(e,4,6)),b.mask)?(k[1]|=128,k[h-4]=c[0],k[h-3]=c[1],k[h-2]=c[2],k[h-1]=c[3],i)?[k,a]:g?(m(a,c,k,h,e),[k]):(m(a,c,a,0,e),[k,a]):[k,a]}close(a,b,c,d){let e;if(void 0===a)e=h;else if("number"==typeof a&&l(a))if(void 0!==b&&b.length){let c=Buffer.byteLength(b);if(c>123)throw RangeError("The message must not be greater than 123 bytes");(e=Buffer.allocUnsafe(2+c)).writeUInt16BE(a,0),"string"==typeof b?e.write(b,2):e.set(b,2)}else(e=Buffer.allocUnsafe(2)).writeUInt16BE(a,0);else throw TypeError("First argument must be a valid error code number");let f={[p]:e.length,fin:!0,generateMask:this._generateMask,mask:c,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._state!==t?this.enqueue([this.dispatch,e,!1,f,d]):this.sendFrame(w.frame(e,f),d)}ping(a,b,c){let d,e;if("string"==typeof a?(d=Buffer.byteLength(a),e=!1):k(a)?(d=a.size,e=!1):(d=(a=o(a)).length,e=o.readOnly),d>125)throw RangeError("The data size must not be greater than 125 bytes");let f={[p]:d,fin:!0,generateMask:this._generateMask,mask:b,maskBuffer:this._maskBuffer,opcode:9,readOnly:e,rsv1:!1};k(a)?this._state!==t?this.enqueue([this.getBlobData,a,!1,f,c]):this.getBlobData(a,!1,f,c):this._state!==t?this.enqueue([this.dispatch,a,!1,f,c]):this.sendFrame(w.frame(a,f),c)}pong(a,b,c){let d,e;if("string"==typeof a?(d=Buffer.byteLength(a),e=!1):k(a)?(d=a.size,e=!1):(d=(a=o(a)).length,e=o.readOnly),d>125)throw RangeError("The data size must not be greater than 125 bytes");let f={[p]:d,fin:!0,generateMask:this._generateMask,mask:b,maskBuffer:this._maskBuffer,opcode:10,readOnly:e,rsv1:!1};k(a)?this._state!==t?this.enqueue([this.getBlobData,a,!1,f,c]):this.getBlobData(a,!1,f,c):this._state!==t?this.enqueue([this.dispatch,a,!1,f,c]):this.sendFrame(w.frame(a,f),c)}send(a,b,c){let d,e,f=this._extensions[g.extensionName],h=b.binary?2:1,i=b.compress;"string"==typeof a?(d=Buffer.byteLength(a),e=!1):k(a)?(d=a.size,e=!1):(d=(a=o(a)).length,e=o.readOnly),this._firstFragment?(this._firstFragment=!1,i&&f&&f.params[f._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(i=d>=f._threshold),this._compress=i):(i=!1,h=0),b.fin&&(this._firstFragment=!0);let j={[p]:d,fin:b.fin,generateMask:this._generateMask,mask:b.mask,maskBuffer:this._maskBuffer,opcode:h,readOnly:e,rsv1:i};k(a)?this._state!==t?this.enqueue([this.getBlobData,a,this._compress,j,c]):this.getBlobData(a,this._compress,j,c):this._state!==t?this.enqueue([this.dispatch,a,this._compress,j,c]):this.dispatch(a,this._compress,j,c)}getBlobData(a,b,c,d){this._bufferedBytes+=c[p],this._state=v,a.arrayBuffer().then(a=>{if(this._socket.destroyed){let a=Error("The socket was closed while the blob was being read");process.nextTick(x,this,a,d);return}this._bufferedBytes-=c[p];let e=o(a);b?this.dispatch(e,b,c,d):(this._state=t,this.sendFrame(w.frame(e,c),d),this.dequeue())}).catch(a=>{process.nextTick(y,this,a,d)})}dispatch(a,b,c,d){if(!b)return void this.sendFrame(w.frame(a,c),d);let e=this._extensions[g.extensionName];this._bufferedBytes+=c[p],this._state=u,e.compress(a,c.fin,(a,b)=>{if(this._socket.destroyed)return void x(this,Error("The socket was closed while data was being compressed"),d);this._bufferedBytes-=c[p],this._state=t,c.readOnly=!1,this.sendFrame(w.frame(b,c),d),this.dequeue()})}dequeue(){for(;this._state===t&&this._queue.length;){let a=this._queue.shift();this._bufferedBytes-=a[3][p],Reflect.apply(a[0],this,a.slice(1))}}enqueue(a){this._bufferedBytes+=a[3][p],this._queue.push(a)}sendFrame(a,b){2===a.length?(this._socket.cork(),this._socket.write(a[0]),this._socket.write(a[1],b),this._socket.uncork()):this._socket.write(a[0],b)}}function x(a,b,c){"function"==typeof c&&c(b);for(let c=0;c<a._queue.length;c++){let d=a._queue[c],e=d[d.length-1];"function"==typeof e&&e(b)}}function y(a,b,c){x(a,b,c),a.onerror(b)}a.exports=w},52096:(a,b,c)=>{"use strict";c.d(b,{A:()=>f,b:()=>e});var d=c(29006);let e=a=>{let b=new Date;return a.filter(({expiresAt:a})=>(a instanceof Date?a:new Date(a))>b)},f=async({collectionConfig:a,payload:b,req:c,user:f})=>{let g;if(a.auth.useSessions){g=(0,d.A)();let h=new Date,i=1e3*a.auth.tokenExpiration,j=new Date(h.getTime()+i),k={id:g,createdAt:h,expiresAt:j};f.sessions?.length?(f.sessions=e(f.sessions),f.sessions.push(k)):f.sessions=[k],f.updatedAt=null,await b.db.updateOne({id:f.id,collection:a.slug,data:f,req:c,returning:!1}),f.collection=a.slug,f._strategy="local-jwt"}return{sid:g}}},52373:(a,b,c)=>{"use strict";c.d(b,{s:()=>M});let d="endpoints";function e(a){return"object"!=typeof a||null==a?a:"ref"in a?`$${e(a.ref)}`:"fn"in a?`${a.fn}(${(a.argv||[]).map(e).join(", ")})`:JSON.stringify(a,null,2)}class f extends Error{constructor(a){super(a),this.name="EndpointError"}}var g,h=c(69327);let i=(a,b)=>a===b,j=a=>{let b=a.split("."),c=[];for(let d of b){let b=d.indexOf("[");if(-1!==b){if(d.indexOf("]")!==d.length-1)throw new f(`Path: '${a}' does not end with ']'`);let e=d.slice(b+1,-1);if(Number.isNaN(parseInt(e)))throw new f(`Invalid array index: '${e}' in path: '${a}'`);0!==b&&c.push(d.slice(0,b)),c.push(e)}else c.push(d)}return c},k=(a,b)=>j(b).reduce((c,d)=>{if("object"!=typeof c)throw new f(`Index '${d}' in '${b}' not found in '${JSON.stringify(a)}'`);return Array.isArray(c)?c[parseInt(d)]:c[d]},a),l=a=>null!=a;var m=c(57206);let o=a=>!a;!function(a){a.HTTP="http",a.HTTPS="https"}(g||(g={}));var p=c(92461);let q={[g.HTTP]:80,[g.HTTPS]:443},r=a=>{let b=(()=>{try{if(a instanceof URL)return a;if("object"==typeof a&&"hostname"in a){let{hostname:b,port:c,protocol:d="",path:e="",query:f={}}=a,g=new URL(`${d}//${b}${c?`:${c}`:""}${e}`);return g.search=Object.entries(f).map(([a,b])=>`${a}=${b}`).join("&"),g}return new URL(a)}catch(a){return null}})();if(!b)return console.error(`Unable to parse ${JSON.stringify(a)} as a whatwg URL.`),null;let c=b.href,{host:d,hostname:e,pathname:f,protocol:h,search:i}=b;if(i)return null;let j=h.slice(0,-1);if(!Object.values(g).includes(j))return null;let k=(0,p.o)(e),l=c.includes(`${d}:${q[j]}`)||"string"==typeof a&&a.includes(`${d}:${q[j]}`),m=`${d}${l?`:${q[j]}`:""}`;return{scheme:j,authority:m,path:f,normalizedPath:f.endsWith("/")?f:`${f}/`,isIp:k}},s=(a,b)=>a===b,t=(a,b,c,d)=>b>=c||a.length<c?null:d?a.substring(a.length-c,a.length-b):a.substring(b,c),u=a=>encodeURIComponent(a).replace(/[!*'()]/g,a=>`%${a.charCodeAt(0).toString(16).toUpperCase()}`),v={booleanEquals:i,getAttr:k,isSet:l,isValidHostLabel:m.X,not:o,parseURL:r,stringEquals:s,substring:t,uriEncode:u},w=(a,b)=>{let c=[],d={...b.endpointParams,...b.referenceRecord},e=0;for(;e<a.length;){let b=a.indexOf("{",e);if(-1===b){c.push(a.slice(e));break}c.push(a.slice(e,b));let f=a.indexOf("}",b);if(-1===f){c.push(a.slice(b));break}"{"===a[b+1]&&"}"===a[f+1]&&(c.push(a.slice(b+1,f)),e=f+2);let g=a.substring(b+1,f);if(g.includes("#")){let[a,b]=g.split("#");c.push(k(d[a],b))}else c.push(d[g]);e=f+1}return c.join("")},x=({ref:a},b)=>({...b.endpointParams,...b.referenceRecord})[a],y=(a,b,c)=>{if("string"==typeof a)return w(a,c);if(a.fn)return A.callFunction(a,c);if(a.ref)return x(a,c);throw new f(`'${b}': ${String(a)} is not a string, function or reference.`)},z=({fn:a,argv:b},c)=>{let d=b.map(a=>["boolean","number"].includes(typeof a)?a:A.evaluateExpression(a,"arg",c)),e=a.split(".");return e[0]in h.m&&null!=e[1]?h.m[e[0]][e[1]](...d):v[a](...d)},A={evaluateExpression:y,callFunction:z},B=({assign:a,...b},c)=>{if(a&&a in c.referenceRecord)throw new f(`'${a}' is already defined in Reference Record.`);let g=z(b,c);return c.logger?.debug?.(`${d} evaluateCondition: ${e(b)} = ${e(g)}`),{result:""===g||!!g,...null!=a&&{toAssign:{name:a,value:g}}}},C=(a=[],b)=>{let c={};for(let f of a){let{result:a,toAssign:g}=B(f,{...b,referenceRecord:{...b.referenceRecord,...c}});if(!a)return{result:a};g&&(c[g.name]=g.value,b.logger?.debug?.(`${d} assign: ${g.name} := ${e(g.value)}`))}return{result:!0,referenceRecord:c}},D=(a,b)=>Object.entries(a).reduce((a,[c,d])=>({...a,[c]:d.map(a=>{let d=y(a,"Header value entry",b);if("string"!=typeof d)throw new f(`Header '${c}' value '${d}' is not a string`);return d})}),{}),E=(a,b)=>Object.entries(a).reduce((a,[c,d])=>({...a,[c]:G.getEndpointProperty(d,b)}),{}),F=(a,b)=>{if(Array.isArray(a))return a.map(a=>F(a,b));switch(typeof a){case"string":return w(a,b);case"object":if(null===a)throw new f(`Unexpected endpoint property: ${a}`);return G.getEndpointProperties(a,b);case"boolean":return a;default:throw new f(`Unexpected endpoint property type: ${typeof a}`)}},G={getEndpointProperty:F,getEndpointProperties:E},H=(a,b)=>{let c=y(a,"Endpoint URL",b);if("string"==typeof c)try{return new URL(c)}catch(a){throw console.error(`Failed to construct URL with ${c}`,a),a}throw new f(`Endpoint URL must be a string, got ${typeof c}`)},I=(a,b)=>{let{conditions:c,endpoint:f}=a,{result:g,referenceRecord:h}=C(c,b);if(!g)return;let i={...b,referenceRecord:{...b.referenceRecord,...h}},{url:j,properties:k,headers:l}=f;return b.logger?.debug?.(`${d} Resolving endpoint from template: ${e(f)}`),{...void 0!=l&&{headers:D(l,i)},...void 0!=k&&{properties:E(k,i)},url:H(j,i)}},J=(a,b)=>{let{conditions:c,error:d}=a,{result:e,referenceRecord:g}=C(c,b);if(e)throw new f(y(d,"Error",{...b,referenceRecord:{...b.referenceRecord,...g}}))},K=(a,b)=>{for(let c of a)if("endpoint"===c.type){let a=I(c,b);if(a)return a}else if("error"===c.type)J(c,b);else if("tree"===c.type){let a=L.evaluateTreeRule(c,b);if(a)return a}else throw new f(`Unknown endpoint rule: ${c}`);throw new f("Rules evaluation failed")},L={evaluateRules:K,evaluateTreeRule:(a,b)=>{let{conditions:c,rules:d}=a,{result:e,referenceRecord:f}=C(c,b);if(e)return L.evaluateRules(d,{...b,referenceRecord:{...b.referenceRecord,...f}})}},M=(a,b)=>{let{endpointParams:c,logger:g}=b,{parameters:h,rules:i}=a;b.logger?.debug?.(`${d} Initial EndpointParams: ${e(c)}`);let j=Object.entries(h).filter(([,a])=>null!=a.default).map(([a,b])=>[a,b.default]);if(j.length>0)for(let[a,b]of j)c[a]=c[a]??b;for(let a of Object.entries(h).filter(([,a])=>a.required).map(([a])=>a))if(null==c[a])throw new f(`Missing required parameter: '${a}'`);let k=K(i,{endpointParams:c,logger:g,referenceRecord:{}});return b.logger?.debug?.(`${d} Resolved endpoint: ${e(k)}`),k}},52765:(a,b,c)=>{"use strict";c.d(b,{s:()=>r});var d=c(99408),e=c(10631),f=c(35597),g=c(71898),h=c(1276),i=c(10353),j=c(66089),k=c(71462),l=c(16886),m=c(35355),o=c(79983),p=c(35183),q=c(96683);let r=async a=>{try{let b,{collection:{config:c},depth:j,limit:r,overrideAccess:s,page:t,pagination:u=!0,populate:v,select:w,showHiddenFields:x,sort:y,trash:z=!1,where:A}=a=await (0,q.v)({args:a,collection:a.collection.config,operation:"findVersions"}),B=a.req,{fallbackLocale:C,locale:D,payload:E}=B;s||(b=await (0,d.m)({req:B},c.access.readVersions));let F=(0,m.c)(E.config,c,!0);await (0,f.d)({collectionConfig:c,overrideAccess:s,req:B,versionFields:F,where:A});let G=(0,e.m)(A,b);G=(0,i.v)({deletedAtPath:"version.deletedAt",enableTrash:c.trash,trash:z,where:G}),(0,g.D)({fields:F,payload:E,where:G});let H=(0,l.Y)({fields:F,forceSelect:(0,o.V)({select:c.forceSelect}),select:w,versions:!0}),I=u&&0!==r,J=r??10*!!I,K=t||1,L=await E.db.findVersions({collection:c.slug,limit:J,locale:D,page:K,pagination:u,req:B,select:H,sort:y,where:G}),M=L;return M.docs=await Promise.all(L.docs.map(async a=>{let b=a;if(b.version||(b.version={}),c.hooks?.beforeRead?.length)for(let a of c.hooks.beforeRead)b.version=await a({collection:c,context:B.context,doc:b.version,query:G,req:B})||b.version;return b})),M.docs=await Promise.all(M.docs.map(async a=>(a.version=await (0,h.v)({collection:c,context:B.context,depth:j,doc:a.version,draft:void 0,fallbackLocale:C,findMany:!0,global:null,locale:D,overrideAccess:s,populate:v,req:B,select:"object"==typeof H?.version?H.version:void 0,showHiddenFields:x}),a))),c.hooks.afterRead?.length&&(M.docs=await Promise.all(M.docs.map(async a=>{let b=a;for(let d of c.hooks.afterRead)b.version=await d({collection:c,context:B.context,doc:a.version,findMany:!0,query:G,req:B})||a.version;return b}))),M.docs=M.docs.map(a=>(0,k.E)(a)),M=await (0,p.E)({args:a,collection:c,operation:"findVersions",result:M})}catch(b){throw await (0,j.J)(a.req),b}}},52772:(a,b,c)=>{"use strict";let d=c(24682);a.exports=a=>b=>function(c,e){return b(c,new d({...c,retryOptions:{...a,...c.retryOptions}},{handler:e,dispatch:b}))}},52790:a=>{"use strict";a.exports=JSON.parse('{"name":"thread-stream","version":"3.1.0","description":"A streaming way to send data to a Node.js Worker Thread","main":"index.js","types":"index.d.ts","dependencies":{"real-require":"^0.2.0"},"devDependencies":{"@types/node":"^20.1.0","@types/tap":"^15.0.0","@yao-pkg/pkg":"^5.11.5","desm":"^1.3.0","fastbench":"^1.0.1","husky":"^9.0.6","pino-elasticsearch":"^8.0.0","sonic-boom":"^4.0.1","standard":"^17.0.0","tap":"^16.2.0","ts-node":"^10.8.0","typescript":"^5.3.2","why-is-node-running":"^2.2.2"},"scripts":{"build":"tsc --noEmit","test":"standard && npm run build && npm run transpile && tap \\"test/**/*.test.*js\\" && tap --ts test/*.test.*ts","test:ci":"standard && npm run transpile && npm run test:ci:js && npm run test:ci:ts","test:ci:js":"tap --no-check-coverage --timeout=120 --coverage-report=lcovonly \\"test/**/*.test.*js\\"","test:ci:ts":"tap --ts --no-check-coverage --coverage-report=lcovonly \\"test/**/*.test.*ts\\"","test:yarn":"npm run transpile && tap \\"test/**/*.test.js\\" --no-check-coverage","transpile":"sh ./test/ts/transpile.sh","prepare":"husky install"},"standard":{"ignore":["test/ts/**/*","test/syntax-error.mjs"]},"repository":{"type":"git","url":"git+https://github.com/mcollina/thread-stream.git"},"keywords":["worker","thread","threads","stream"],"author":"Matteo Collina <hello@matteocollina.com>","license":"MIT","bugs":{"url":"https://github.com/mcollina/thread-stream/issues"},"homepage":"https://github.com/mcollina/thread-stream#readme"}')},52940:(a,b,c)=>{"use strict";let d=c(34589),{URLSerializer:e}=c(62018),{isValidHeaderName:f}=c(51074);a.exports={urlEquals:function(a,b,c=!1){return e(a,c)===e(b,c)},getFieldValues:function(a){d(null!==a);let b=[];for(let c of a.split(","))f(c=c.trim())&&b.push(c);return b}}},53057:a=>{"use strict";let b=Symbol("pino.setLevel"),c=Symbol("pino.getLevel"),d=Symbol("pino.levelVal"),e=Symbol("pino.levelComp"),f=Symbol("pino.useLevelLabels"),g=Symbol("pino.useOnlyCustomLevels"),h=Symbol("pino.mixin"),i=Symbol("pino.lsCache"),j=Symbol("pino.chindings"),k=Symbol("pino.asJson"),l=Symbol("pino.write"),m=Symbol("pino.redactFmt"),o=Symbol("pino.time"),p=Symbol("pino.timeSliceIndex"),q=Symbol("pino.stream"),r=Symbol("pino.stringify"),s=Symbol("pino.stringifySafe"),t=Symbol("pino.stringifiers"),u=Symbol("pino.end"),v=Symbol("pino.formatOpts"),w=Symbol("pino.messageKey"),x=Symbol("pino.errorKey"),y=Symbol("pino.nestedKey"),z=Symbol("pino.nestedKeyStr"),A=Symbol("pino.mixinMergeStrategy"),B=Symbol("pino.msgPrefix"),C=Symbol("pino.wildcardFirst"),D=Symbol.for("pino.serializers"),E=Symbol.for("pino.formatters"),F=Symbol.for("pino.hooks");a.exports={setLevelSym:b,getLevelSym:c,levelValSym:d,levelCompSym:e,useLevelLabelsSym:f,mixinSym:h,lsCacheSym:i,chindingsSym:j,asJsonSym:k,writeSym:l,serializersSym:D,redactFmtSym:m,timeSym:o,timeSliceIndexSym:p,streamSym:q,stringifySym:r,stringifySafeSym:s,stringifiersSym:t,endSym:u,formatOptsSym:v,messageKeySym:w,errorKeySym:x,nestedKeySym:y,wildcardFirstSym:C,needsMetadataGsym:Symbol.for("pino.metadata"),useOnlyCustomLevelsSym:g,formattersSym:E,hooksSym:F,nestedKeyStrSym:z,mixinMergeStrategySym:A,msgPrefixSym:B}},53070:(a,b,c)=>{"use strict";c.d(b,{P:()=>i});var d=c(46734),e=c(73891),f=c(38353),g=c(38756);class h extends Uint8Array{static fromString(a,b="utf-8"){if("string"==typeof a)return"base64"===b?h.mutate((0,d.E)(a)):h.mutate((0,f.a)(a));throw Error(`Unsupported conversion from ${typeof a} to Uint8ArrayBlobAdapter.`)}static mutate(a){return Object.setPrototypeOf(a,h.prototype),a}transformToString(a="utf-8"){return"base64"===a?(0,e.n)(this):(0,g.P)(this)}}let i=async(a=new Uint8Array,b)=>{if(a instanceof Uint8Array)return h.mutate(a);if(!a)return h.mutate(new Uint8Array);let c=b.streamCollector(a);return h.mutate(await c)}},53074:(a,b,c)=>{"use strict";a.exports={TextPrompt:c(73410),SelectPrompt:c(47193),TogglePrompt:c(82665),DatePrompt:c(67189),NumberPrompt:c(37296),MultiselectPrompt:c(4804),AutocompletePrompt:c(88521),AutocompleteMultiselectPrompt:c(51772),ConfirmPrompt:c(9609)}},53179:(a,b,c)=>{"use strict";c.d(b,{T:()=>i});var d=c(57206);let e=new Set,f=(a,b=d.X)=>{if(e.has(a)||b(a))e.add(a);else if("*"===a)console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw Error(`Region not accepted: region="${a}" is not a valid hostname component.`)},g=a=>"string"==typeof a&&(a.startsWith("fips-")||a.endsWith("-fips")),h=a=>g(a)?["fips-aws-global","aws-fips"].includes(a)?"us-east-1":a.replace(/fips-(dkr-|prod-)?|-fips/,""):a,i=a=>{let{region:b,useFipsEndpoint:c}=a;if(!b)throw Error("Region is missing");return Object.assign(a,{region:async()=>{let a=h("function"==typeof b?await b():b);return f(a),a},useFipsEndpoint:async()=>!!g("string"==typeof b?b:await b())||("function"!=typeof c?Promise.resolve(!!c):c())})}},53294:(a,b,c)=>{"use strict";c.d(b,{a:()=>m});var d=c(28354),e=c(10631);async function f({id:a,slug:b,entityType:c,locale:d,operation:f,req:g,where:h}){if("global"===c){let a=await g.payload.db.findGlobal({slug:b,locale:d,req:g,select:{},where:h});return!!(a&&Object.keys(a).length>0)}return"collection"===c&&!!a&&("readVersions"===f?(await g.payload.db.countVersions({collection:b,locale:d,req:g,where:(0,e.m)(h,{parent:{equals:a}})})).totalDocs>0:(await g.payload.db.count({collection:b,locale:d,req:g,where:(0,e.m)(h,{id:{equals:a}})})).totalDocs>0)}var g=c(65540);let h=a=>null!=a&&"function"==typeof a.then,i=(a,b,c,d)=>{if(h(c)){let e={permission:c};a[b]=e;let f=c.then(a=>{e.permission=a});d.push(f)}else a[b]={permission:c}},j=({id:a,blockReferencesPermissions:b,data:c,fields:d,operations:e,parentPermissionsObject:f,permissionsObject:k,promises:l,req:m})=>{for(let o of d){for(let b of e){let d=f[b]?.permission;if("delete"!==b&&"readVersions"!==b&&"unlock"!==b&&"name"in o&&o.name){k[o.name]||(k[o.name]={});let e=k[o.name];if("access"in o&&o.access&&"function"==typeof o.access[b]){let d=o.access[b]({id:a,data:c,doc:c,req:m});h(d)?i(e,b,d.then(a=>!!a),l):i(e,b,!!d,l)}else i(e,b,d,l)}}if("name"in o&&o.name){let d=k[o.name];if("fields"in o&&o.fields&&(d.fields||(d.fields={}),j({id:a,blockReferencesPermissions:b,data:c,fields:o.fields,operations:e,parentPermissionsObject:d,permissionsObject:d.fields,promises:l,req:m})),"blocks"in o&&o.blocks?.length||"blockReferences"in o&&o.blockReferences?.length){d.blocks||(d.blocks={});let g=d.blocks;for(let a of e){if("delete"===a||"readVersions"===a||"unlock"===a)continue;let c=f[a]?.permission;for(let e of o.blockReferences??o.blocks){let f="string"==typeof e?m.payload.blocks[e]:e;if(!f)continue;if("string"==typeof e){let a=b[e];if(a){g[f.slug]=a;continue}}g[f.slug]||(g[f.slug]={});let h=g[f.slug];if(!h[a]){let b=d[a]?.permission??c;i(h,a,b,l)}}}let h=new Set;for(let d of o.blockReferences??o.blocks){let f="string"==typeof d?m.payload.blocks[d]:d;if(!f||h.has(f.slug))continue;h.add(f.slug);let i=g[f.slug];i&&(i.fields||(i.fields={}),"string"!=typeof d||b[d]||(b[d]=i),j({id:a,blockReferencesPermissions:b,data:c,fields:f.fields,operations:e,parentPermissionsObject:i,permissionsObject:i.fields,promises:l,req:m}))}}}if("fields"in o&&o.fields&&!("name"in o&&o.name)&&j({id:a,blockReferencesPermissions:b,data:c,fields:o.fields,operations:e,parentPermissionsObject:f,permissionsObject:k,promises:l,req:m}),"tabs"===o.type){for(let a of e){if("delete"===a||"readVersions"===a||"unlock"===a)continue;let b=f[a]?.permission;for(let c of o.tabs)if((0,g.pz)(c)){k[c.name]||(k[c.name]={fields:{}});let d=k[c.name];d[a]||i(d,a,b,l)}}for(let d of o.tabs)if((0,g.pz)(d)){let f=k[d.name];f.fields||(f.fields={}),j({id:a,blockReferencesPermissions:b,data:c,fields:d.fields,operations:e,parentPermissionsObject:f,permissionsObject:f.fields,promises:l,req:m})}else j({id:a,blockReferencesPermissions:b,data:c,fields:d.fields,operations:e,parentPermissionsObject:f,permissionsObject:k,promises:l,req:m})}}},k=["create","delete","read","readVersions","update","unlock"],l=["read","readVersions","update"];async function m(a){let{id:b,blockReferencesPermissions:c,data:d,entity:e,entityType:f,fetchData:g,operations:h,req:i}=a,{locale:m,user:p}=i,q=m||void 0;if(g&&"collection"===f&&!b)throw Error("ID is required when fetching data for a collection");let r=d&&Object.keys(d).length>0?d:g?await (async()=>"global"===f?i.payload.findGlobal({slug:e.slug,depth:0,fallbackLocale:null,locale:q,overrideAccess:!0,req:i}):"collection"===f?i.payload.findByID({id:b,collection:e.slug,depth:0,fallbackLocale:null,locale:q,overrideAccess:!0,req:i,trash:!0}):void 0)():void 0,s=!!p,t={},u={fields:t},v=[],w=[];for(let a of h){let c=a,d=e.access[c];("collection"===f&&k.includes(c)||"global"===f&&l.includes(c))&&("function"==typeof d?w.push({operation:c,result:Promise.resolve(d({id:b,data:r,req:i}))}):u[c]={permission:s})}let x=await Promise.all(w.map(async a=>({operation:a.operation,result:await a.result}))),y=[],z=[];for(let{operation:a,result:c}of x)"object"==typeof c?o({id:b,slug:e.slug,accessResult:c,entityPermissions:u,entityType:f,fetchData:g,locale:q,operation:a,req:i,wherePromises:z,whereQueryCache:y}):u[a]?.permission!==!1&&(u[a]={permission:!!c});await Promise.all(z),j({blockReferencesPermissions:c,data:r,fields:e.fields,operations:h,parentPermissionsObject:u,permissionsObject:t,promises:v,req:i});let A=0;for(;v.length>0;){let a=v.splice(0,v.length);if(await Promise.all(a),++A>=100)throw Error("Infinite getEntityPermissions promise loop detected.")}return u}let o=({id:a,slug:b,accessResult:c,entityPermissions:e,entityType:g,fetchData:h,locale:i,operation:j,req:k,wherePromises:l,whereQueryCache:m})=>{if(h){let h=m.find(a=>(0,d.isDeepStrictEqual)(a.where,c));h||(h={result:f({id:a,slug:b,entityType:g,locale:i,operation:j,req:k,where:c}),where:c},m.push(h)),l.push(h.result.then(a=>{e[j]={permission:a,where:c}}))}else e[j]={permission:!0,where:c}}},53723:(a,b,c)=>{"use strict";let{normalizeIPv6:d,normalizeIPv4:e,removeDotSegments:f,recomposeAuthority:g,normalizeComponentEncoding:h}=c(46662),i=c(77211);function j(a,b){return"string"==typeof a?a=o(s(a,b),b):"object"==typeof a&&(a=s(o(a,b),b)),a}function k(a,b,c){let d=Object.assign({scheme:"null"},c);return o(l(s(a,d),s(b,d),d,!0),{...d,skipEscape:!0})}function l(a,b,c,d){let e={};return d||(a=s(o(a,c),c),b=s(o(b,c),c)),!(c=c||{}).tolerant&&b.scheme?(e.scheme=b.scheme,e.userinfo=b.userinfo,e.host=b.host,e.port=b.port,e.path=f(b.path||""),e.query=b.query):(void 0!==b.userinfo||void 0!==b.host||void 0!==b.port?(e.userinfo=b.userinfo,e.host=b.host,e.port=b.port,e.path=f(b.path||""),e.query=b.query):(b.path?("/"===b.path.charAt(0)?e.path=f(b.path):(void 0===a.userinfo&&void 0===a.host&&void 0===a.port||a.path?a.path?e.path=a.path.slice(0,a.path.lastIndexOf("/")+1)+b.path:e.path=b.path:e.path="/"+b.path,e.path=f(e.path)),e.query=b.query):(e.path=a.path,void 0!==b.query?e.query=b.query:e.query=a.query),e.userinfo=a.userinfo,e.host=a.host,e.port=a.port),e.scheme=a.scheme),e.fragment=b.fragment,e}function m(a,b,c){return"string"==typeof a?a=o(h(s(a=unescape(a),c),!0),{...c,skipEscape:!0}):"object"==typeof a&&(a=o(h(a,!0),{...c,skipEscape:!0})),"string"==typeof b?b=o(h(s(b=unescape(b),c),!0),{...c,skipEscape:!0}):"object"==typeof b&&(b=o(h(b,!0),{...c,skipEscape:!0})),a.toLowerCase()===b.toLowerCase()}function o(a,b){let c={host:a.host,scheme:a.scheme,userinfo:a.userinfo,port:a.port,path:a.path,query:a.query,nid:a.nid,nss:a.nss,uuid:a.uuid,fragment:a.fragment,reference:a.reference,resourceName:a.resourceName,secure:a.secure,error:""},d=Object.assign({},b),e=[],h=i[(d.scheme||c.scheme||"").toLowerCase()];h&&h.serialize&&h.serialize(c,d),void 0!==c.path&&(d.skipEscape?c.path=unescape(c.path):(c.path=escape(c.path),void 0!==c.scheme&&(c.path=c.path.split("%3A").join(":")))),"suffix"!==d.reference&&c.scheme&&e.push(c.scheme,":");let j=g(c);if(void 0!==j&&("suffix"!==d.reference&&e.push("//"),e.push(j),c.path&&"/"!==c.path.charAt(0)&&e.push("/")),void 0!==c.path){let a=c.path;d.absolutePath||h&&h.absolutePath||(a=f(a)),void 0===j&&(a=a.replace(/^\/\//u,"/%2F")),e.push(a)}return void 0!==c.query&&e.push("?",c.query),void 0!==c.fragment&&e.push("#",c.fragment),e.join("")}let p=Array.from({length:127},(a,b)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(b)));function q(a){let b=0;for(let c=0,d=a.length;c<d;++c)if((b=a.charCodeAt(c))>126||p[b])return!0;return!1}let r=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function s(a,b){let c=Object.assign({},b),f={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},g=-1!==a.indexOf("%"),h=!1;"suffix"===c.reference&&(a=(c.scheme?c.scheme+":":"")+"//"+a);let j=a.match(r);if(j){if(f.scheme=j[1],f.userinfo=j[3],f.host=j[4],f.port=parseInt(j[5],10),f.path=j[6]||"",f.query=j[7],f.fragment=j[8],isNaN(f.port)&&(f.port=j[5]),f.host){let a=e(f.host);if(!1===a.isIPV4){let b=d(a.host);f.host=b.host.toLowerCase(),h=b.isIPV6}else f.host=a.host,h=!0}void 0!==f.scheme||void 0!==f.userinfo||void 0!==f.host||void 0!==f.port||void 0!==f.query||f.path?void 0===f.scheme?f.reference="relative":void 0===f.fragment?f.reference="absolute":f.reference="uri":f.reference="same-document",c.reference&&"suffix"!==c.reference&&c.reference!==f.reference&&(f.error=f.error||"URI is not a "+c.reference+" reference.");let a=i[(c.scheme||f.scheme||"").toLowerCase()];if(!c.unicodeSupport&&(!a||!a.unicodeSupport)&&f.host&&(c.domainHost||a&&a.domainHost)&&!1===h&&q(f.host))try{f.host=URL.domainToASCII(f.host.toLowerCase())}catch(a){f.error=f.error||"Host's domain name can not be converted to ASCII: "+a}(!a||a&&!a.skipNormalize)&&(g&&void 0!==f.scheme&&(f.scheme=unescape(f.scheme)),g&&void 0!==f.host&&(f.host=unescape(f.host)),f.path&&(f.path=escape(unescape(f.path))),f.fragment&&(f.fragment=encodeURI(decodeURIComponent(f.fragment)))),a&&a.parse&&a.parse(f,c)}else f.error=f.error||"URI can not be parsed.";return f}let t={SCHEMES:i,normalize:j,resolve:k,resolveComponents:l,equal:m,serialize:o,parse:s};a.exports=t,a.exports.default=t,a.exports.fastUri=t},53794:(a,b)=>{"use strict";function c(a,b){return b.rules.some(b=>d(a,b))}function d(a,b){var c;return void 0!==a[b.keyword]||(null==(c=b.definition.implements)?void 0:c.some(b=>void 0!==a[b]))}Object.defineProperty(b,"__esModule",{value:!0}),b.shouldUseRule=b.shouldUseGroup=b.schemaHasRulesForType=void 0,b.schemaHasRulesForType=function({schema:a,self:b},d){let e=b.RULES.types[d];return e&&!0!==e&&c(a,e)},b.shouldUseGroup=c,b.shouldUseRule=d},53795:(a,b,c)=>{"use strict";let{EMPTY_BUFFER:d}=c(82455),e=Buffer[Symbol.species];function f(a,b,c,d,e){for(let f=0;f<e;f++)c[d+f]=a[f]^b[3&f]}function g(a,b){for(let c=0;c<a.length;c++)a[c]^=b[3&c]}function h(a){let b;return(h.readOnly=!0,Buffer.isBuffer(a))?a:(a instanceof ArrayBuffer?b=new e(a):ArrayBuffer.isView(a)?b=new e(a.buffer,a.byteOffset,a.byteLength):(b=Buffer.from(a),h.readOnly=!1),b)}if(a.exports={concat:function(a,b){if(0===a.length)return d;if(1===a.length)return a[0];let c=Buffer.allocUnsafe(b),f=0;for(let b=0;b<a.length;b++){let d=a[b];c.set(d,f),f+=d.length}return f<b?new e(c.buffer,c.byteOffset,f):c},mask:f,toArrayBuffer:function(a){return a.length===a.buffer.byteLength?a.buffer:a.buffer.slice(a.byteOffset,a.byteOffset+a.length)},toBuffer:h,unmask:g},!process.env.WS_NO_BUFFER_UTIL)try{let b=c(40577);a.exports.mask=function(a,c,d,e,g){g<48?f(a,c,d,e,g):b.mask(a,c,d,e,g)},a.exports.unmask=function(a,c){a.length<32?g(a,c):b.unmask(a,c)}}catch(a){}},53962:(a,b,c)=>{"use strict";a.exports=g;let{LEVELS:d}=c(51874),e=c(47599),f=c(10928);function g({log:a,context:b}){let{colorizer:c,customLevels:g,levelKey:h,levelLabel:i,messageFormat:j,messageKey:k,useOnlyCustomProps:l}=b;if(j&&"string"==typeof j){let b=String(f(j,a)).replace(/{([^{}]+)}/g,function(b,c){let f;return c===i&&void 0!==(f=e(a,h))?(l?void 0===g:void 0===g[f])?d[f]:g[f]:e(a,c)||""});return c.message(b)}if(j&&"function"==typeof j){let b=j(a,k,i,{colors:c.colors});return c.message(b)}if(k in a!=!1&&("string"==typeof a[k]||"number"==typeof a[k]||"boolean"==typeof a[k]))return c.message(a[k])}},54031:(a,b,c)=>{"use strict";c.d(b,{Q:()=>d});let d="."},54094:(a,b,c)=>{"use strict";c.d(b,{a:()=>d});let d=a=>{for(let b in a){let c=a[b];if(!1===c)return"exclude";if("object"==typeof c)return d(c)}return"include"}},54177:a=>{"use strict";let b={arrowUp:"",arrowDown:"",arrowLeft:"",arrowRight:"",radioOn:"",radioOff:"",tick:"",cross:"",ellipsis:"",pointerSmall:"",line:"",pointer:""},c={arrowUp:b.arrowUp,arrowDown:b.arrowDown,arrowLeft:b.arrowLeft,arrowRight:b.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"",cross:"\xd7",ellipsis:"...",pointerSmall:"\xbb",line:"",pointer:">"};a.exports="win32"===process.platform?c:b},54514:(a,b,c)=>{"use strict";let{webidl:d}=c(81399),{kEnumerableProperty:e}=c(81350),{kConstruct:f}=c(10257);class g extends Event{#aN;constructor(a,b={}){if(a===f){super(arguments[1],arguments[2]),d.util.markAsUncloneable(this);return}let c="MessageEvent constructor";d.argumentLengthCheck(arguments,1,c),super(a=d.converters.DOMString(a,c,"type"),b=d.converters.MessageEventInit(b,c,"eventInitDict")),this.#aN=b,d.util.markAsUncloneable(this)}get data(){return d.brandCheck(this,g),this.#aN.data}get origin(){return d.brandCheck(this,g),this.#aN.origin}get lastEventId(){return d.brandCheck(this,g),this.#aN.lastEventId}get source(){return d.brandCheck(this,g),this.#aN.source}get ports(){return d.brandCheck(this,g),Object.isFrozen(this.#aN.ports)||Object.freeze(this.#aN.ports),this.#aN.ports}initMessageEvent(a,b=!1,c=!1,e=null,f="",h="",i=null,j=[]){return d.brandCheck(this,g),d.argumentLengthCheck(arguments,1,"MessageEvent.initMessageEvent"),new g(a,{bubbles:b,cancelable:c,data:e,origin:f,lastEventId:h,source:i,ports:j})}static createFastMessageEvent(a,b){let c=new g(f,a,b);return c.#aN=b,c.#aN.data??=null,c.#aN.origin??="",c.#aN.lastEventId??="",c.#aN.source??=null,c.#aN.ports??=[],c}}let{createFastMessageEvent:h}=g;delete g.createFastMessageEvent;class i extends Event{#aN;constructor(a,b={}){let c="CloseEvent constructor";d.argumentLengthCheck(arguments,1,c),super(a=d.converters.DOMString(a,c,"type"),b=d.converters.CloseEventInit(b)),this.#aN=b,d.util.markAsUncloneable(this)}get wasClean(){return d.brandCheck(this,i),this.#aN.wasClean}get code(){return d.brandCheck(this,i),this.#aN.code}get reason(){return d.brandCheck(this,i),this.#aN.reason}}class j extends Event{#aN;constructor(a,b){let c="ErrorEvent constructor";d.argumentLengthCheck(arguments,1,c),super(a,b),d.util.markAsUncloneable(this),a=d.converters.DOMString(a,c,"type"),b=d.converters.ErrorEventInit(b??{}),this.#aN=b}get message(){return d.brandCheck(this,j),this.#aN.message}get filename(){return d.brandCheck(this,j),this.#aN.filename}get lineno(){return d.brandCheck(this,j),this.#aN.lineno}get colno(){return d.brandCheck(this,j),this.#aN.colno}get error(){return d.brandCheck(this,j),this.#aN.error}}Object.defineProperties(g.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:e,origin:e,lastEventId:e,source:e,ports:e,initMessageEvent:e}),Object.defineProperties(i.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:e,code:e,wasClean:e}),Object.defineProperties(j.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:e,filename:e,lineno:e,colno:e,error:e}),d.converters.MessagePort=d.interfaceConverter(d.is.MessagePort,"MessagePort"),d.converters["sequence<MessagePort>"]=d.sequenceConverter(d.converters.MessagePort);let k=[{key:"bubbles",converter:d.converters.boolean,defaultValue:()=>!1},{key:"cancelable",converter:d.converters.boolean,defaultValue:()=>!1},{key:"composed",converter:d.converters.boolean,defaultValue:()=>!1}];d.converters.MessageEventInit=d.dictionaryConverter([...k,{key:"data",converter:d.converters.any,defaultValue:()=>null},{key:"origin",converter:d.converters.USVString,defaultValue:()=>""},{key:"lastEventId",converter:d.converters.DOMString,defaultValue:()=>""},{key:"source",converter:d.nullableConverter(d.converters.MessagePort),defaultValue:()=>null},{key:"ports",converter:d.converters["sequence<MessagePort>"],defaultValue:()=>[]}]),d.converters.CloseEventInit=d.dictionaryConverter([...k,{key:"wasClean",converter:d.converters.boolean,defaultValue:()=>!1},{key:"code",converter:d.converters["unsigned short"],defaultValue:()=>0},{key:"reason",converter:d.converters.USVString,defaultValue:()=>""}]),d.converters.ErrorEventInit=d.dictionaryConverter([...k,{key:"message",converter:d.converters.DOMString,defaultValue:()=>""},{key:"filename",converter:d.converters.USVString,defaultValue:()=>""},{key:"lineno",converter:d.converters["unsigned long"],defaultValue:()=>0},{key:"colno",converter:d.converters["unsigned long"],defaultValue:()=>0},{key:"error",converter:d.converters.any}]),a.exports={MessageEvent:g,CloseEvent:i,ErrorEvent:j,createFastMessageEvent:h}},54558:(a,b,c)=>{"use strict";let d=c(49026),e=c(6190),f=c(429);class g{constructor(a,b){this.mailer=a,this.data={},this.message=null,b=b||{};let c=a.options||{},d=a._defaults||{};Object.keys(b).forEach(a=>{this.data[a]=b[a]}),this.data.headers=this.data.headers||{},Object.keys(d).forEach(a=>{a in this.data?"headers"===a&&Object.keys(d.headers).forEach(a=>{a in this.data.headers||(this.data.headers[a]=d.headers[a])}):this.data[a]=d[a]}),["disableFileAccess","disableUrlAccess","normalizeHeaderKey"].forEach(a=>{a in c&&(this.data[a]=c[a])})}resolveContent(...a){return d.resolveContent(...a)}resolveAll(a){let b=[[this.data,"html"],[this.data,"text"],[this.data,"watchHtml"],[this.data,"amp"],[this.data,"icalEvent"]];this.data.alternatives&&this.data.alternatives.length&&this.data.alternatives.forEach((a,c)=>{b.push([this.data.alternatives,c])}),this.data.attachments&&this.data.attachments.length&&this.data.attachments.forEach((a,c)=>{!a.filename&&(a.filename=(a.path||a.href||"").split("/").pop().split("?").shift()||"attachment-"+(c+1),0>a.filename.indexOf(".")&&(a.filename+="."+f.detectExtension(a.contentType))),a.contentType||(a.contentType=f.detectMimeType(a.filename||a.path||a.href||"bin")),b.push([this.data.attachments,c])});let c=new e;["from","to","cc","bcc","sender","replyTo"].forEach(a=>{let b;this.message?b=[].concat(c._parseAddresses(this.message.getHeader("replyTo"===a?"reply-to":a))||[]):this.data[a]&&(b=[].concat(c._parseAddresses(this.data[a])||[])),b&&b.length?this.data[a]=b:a in this.data&&(this.data[a]=null)}),["from","sender"].forEach(a=>{this.data[a]&&(this.data[a]=this.data[a].shift())});let g=0,h=()=>{if(g>=b.length)return a(null,this.data);let c=b[g++];if(!c[0]||!c[0][c[1]])return h();d.resolveContent(...c,(b,d)=>{if(b)return a(b);let e={content:d};c[0][c[1]]&&"object"==typeof c[0][c[1]]&&!Buffer.isBuffer(c[0][c[1]])&&Object.keys(c[0][c[1]]).forEach(a=>{a in e||["content","path","href","raw"].includes(a)||(e[a]=c[0][c[1]][a])}),c[0][c[1]]=e,h()})};setImmediate(()=>h())}normalize(a){let b=this.data.envelope||this.message.getEnvelope(),c=this.message.messageId();this.resolveAll((d,e)=>d?a(d):(e.envelope=b,e.messageId=c,["html","text","watchHtml","amp"].forEach(a=>{e[a]&&e[a].content&&("string"==typeof e[a].content?e[a]=e[a].content:Buffer.isBuffer(e[a].content)&&(e[a]=e[a].content.toString()))}),e.icalEvent&&Buffer.isBuffer(e.icalEvent.content)&&(e.icalEvent.content=e.icalEvent.content.toString("base64"),e.icalEvent.encoding="base64"),e.alternatives&&e.alternatives.length&&e.alternatives.forEach(a=>{a&&a.content&&Buffer.isBuffer(a.content)&&(a.content=a.content.toString("base64"),a.encoding="base64")}),e.attachments&&e.attachments.length&&e.attachments.forEach(a=>{a&&a.content&&Buffer.isBuffer(a.content)&&(a.content=a.content.toString("base64"),a.encoding="base64")}),e.normalizedHeaders={},Object.keys(e.headers||{}).forEach(a=>{let b=[].concat(e.headers[a]||[]).shift();(b=b&&b.value||b)&&(["references","in-reply-to","message-id","content-id"].includes(a)&&(b=this.message._encodeHeaderValue(a,b)),e.normalizedHeaders[a]=b)}),e.list&&"object"==typeof e.list&&this._getListHeaders(e.list).forEach(a=>{e.normalizedHeaders[a.key]=a.value.map(a=>a&&a.value||a).join(", ")}),e.references&&(e.normalizedHeaders.references=this.message._encodeHeaderValue("references",e.references)),e.inReplyTo&&(e.normalizedHeaders["in-reply-to"]=this.message._encodeHeaderValue("in-reply-to",e.inReplyTo)),a(null,e)))}setMailerHeader(){this.message&&this.data.xMailer&&this.message.setHeader("X-Mailer",this.data.xMailer)}setPriorityHeaders(){if(this.message&&this.data.priority)switch((this.data.priority||"").toString().toLowerCase()){case"high":this.message.setHeader("X-Priority","1 (Highest)"),this.message.setHeader("X-MSMail-Priority","High"),this.message.setHeader("Importance","High");break;case"low":this.message.setHeader("X-Priority","5 (Lowest)"),this.message.setHeader("X-MSMail-Priority","Low"),this.message.setHeader("Importance","Low")}}setListHeaders(){this.message&&this.data.list&&"object"==typeof this.data.list&&this.data.list&&"object"==typeof this.data.list&&this._getListHeaders(this.data.list).forEach(a=>{a.value.forEach(b=>{this.message.addHeader(a.key,b)})})}_getListHeaders(a){return Object.keys(a).map(b=>({key:"list-"+b.toLowerCase().trim(),value:[].concat(a[b]||[]).map(a=>({prepared:!0,foldLines:!0,value:[].concat(a||[]).map(a=>{if("string"==typeof a&&(a={url:a}),a&&a.url){if("id"===b.toLowerCase().trim()){let b=a.comment||"";return b=f.isPlainText(b)?'"'+b+'"':f.encodeWord(b),(a.comment?b+" ":"")+this._formatListUrl(a.url).replace(/^<[^:]+\/{,2}/,"")}let c=a.comment||"";return f.isPlainText(c)||(c=f.encodeWord(c)),this._formatListUrl(a.url)+(a.comment?" ("+c+")":"")}return""}).filter(a=>a).join(", ")}))}))}_formatListUrl(a){return(a=a.replace(/[\s<]+|[\s>]+/g,""),/^(https?|mailto|ftp):/.test(a))?"<"+a+">":/^[^@]+@[^@]+$/.test(a)?"<mailto:"+a+">":"<http://"+a+">"}}a.exports=g},54649:(a,b,c)=>{"use strict";let{connect:d}=c(77030),{kClose:e,kDestroy:f}=c(10257),{InvalidArgumentError:g}=c(64737),h=c(81350),i=c(77531),j=c(60647);class k extends j{#aO=null;constructor(a,b){if(super(),"string"==typeof a&&(a=new URL(a)),"http:"!==a.protocol)throw new g("h2c-client: Only h2c protocol is supported");let{connect:c,maxConcurrentStreams:d,pipelining:e,...f}=b??{},h=100,j=100;if(null!=d&&Number.isInteger(d)&&d>0&&(h=d),null!=e&&Number.isInteger(e)&&e>0&&(j=e),j>h)throw new g("h2c-client: pipelining cannot be greater than maxConcurrentStreams");this.#aO=new i(a,{...f,connect:this.#aP(c),maxConcurrentStreams:h,pipelining:j,allowH2:!0})}#aP(a){return(b,c)=>{let e=a?.connectOpts??1e4,{hostname:f,port:g,pathname:i}=b,j=d({...b,host:f,port:g,pathname:i});if(null==b.keepAlive||b.keepAlive){let a=null==b.keepAliveInitialDelay?6e4:b.keepAliveInitialDelay;j.setKeepAlive(!0,a)}j.alpnProtocol="h2";let k=h.setupConnectTimeout(new WeakRef(j),{timeout:e,hostname:f,port:g});return j.setNoDelay(!0).once("connect",function(){if(queueMicrotask(k),c){let a=c;c=null,a(null,this)}}).on("error",function(a){if(queueMicrotask(k),c){let b=c;c=null,b(a)}}),j}}dispatch(a,b){return this.#aO.dispatch(a,b)}async [e](){await this.#aO.close()}async [f](){await this.#aO.destroy()}}a.exports=k},55042:(a,b,c)=>{"use strict";c.d(b,{Bz:()=>f,Ch:()=>d});let d="AWS_PROFILE",e="default",f=a=>a.profile||process.env[d]||e},55228:(a,b,c)=>{"use strict";let d=c(85558),e=c(63190),{erase:f,cursor:g}=c(40821),{style:h,clear:i,figures:j,wrap:k,entriesToDisplay:l}=c(78339),m=(a,b)=>a[b]&&(a[b].value||a[b].title||a[b]),o=(a,b)=>a[b]&&(a[b].title||a[b].value||a[b]),p=(a,b)=>{let c=a.findIndex(a=>a.value===b||a.title===b);return c>-1?c:void 0};class q extends e{constructor(a={}){super(a),this.msg=a.message,this.suggest=a.suggest,this.choices=a.choices,this.initial="number"==typeof a.initial?a.initial:p(a.choices,a.initial),this.select=this.initial||a.cursor||0,this.i18n={noMatches:a.noMatches||"no matches found"},this.fallback=a.fallback||this.initial,this.clearFirst=a.clearFirst||!1,this.suggestions=[],this.input="",this.limit=a.limit||10,this.cursor=0,this.transform=h.render(a.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=i("",this.out.columns),this.complete(this.render),this.render()}set fallback(a){this._fb=Number.isSafeInteger(parseInt(a))?parseInt(a):a}get fallback(){let a;return"number"==typeof this._fb?a=this.choices[this._fb]:"string"==typeof this._fb&&(a={title:this._fb}),a||this._fb||{title:this.i18n.noMatches}}moveSelect(a){this.select=a,this.suggestions.length>0?this.value=m(this.suggestions,a):this.value=this.fallback.value,this.fire()}async complete(a){let b=this.completing=this.suggest(this.input,this.choices),c=await b;if(this.completing!==b)return;this.suggestions=c.map((a,b,c)=>({title:o(c,b),value:m(c,b),description:a.description})),this.completing=!1;let d=Math.max(c.length-1,0);this.moveSelect(Math.min(d,this.select)),a&&a()}reset(){this.input="",this.complete(()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(a,b){let c=this.input.slice(0,this.cursor),d=this.input.slice(this.cursor);this.input=`${c}${a}${d}`,this.cursor=c.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let a=this.input.slice(0,this.cursor-1),b=this.input.slice(this.cursor);this.input=`${a}${b}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let a=this.input.slice(0,this.cursor),b=this.input.slice(this.cursor+1);this.input=`${a}${b}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(a,b,c,e){let f,g=c?j.arrowUp:e?j.arrowDown:" ",h=b?d.cyan().underline(a.title):a.title;return g=(b?d.cyan(j.pointer)+" ":"  ")+g,a.description&&(f=` - ${a.description}`,(g.length+h.length+f.length>=this.out.columns||a.description.split(/\r?\n/).length>1)&&(f="\n"+k(a.description,{margin:3,width:this.out.columns}))),g+" "+h+d.gray(f||"")}render(){if(this.closed)return;this.firstRender?this.out.write(g.hide):this.out.write(i(this.outputText,this.out.columns)),super.render();let{startIndex:a,endIndex:b}=l(this.select,this.choices.length,this.limit);if(this.outputText=[h.symbol(this.done,this.aborted,this.exited),d.bold(this.msg),h.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let c=this.suggestions.slice(a,b).map((c,d)=>this.renderOption(c,this.select===d+a,0===d&&a>0,d+a===b-1&&b<this.choices.length)).join("\n");this.outputText+=`
`+(c||d.gray(this.fallback.title))}this.out.write(f.line+g.to(0)+this.outputText)}}a.exports=q},55432:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DEFAULT_HEADER_ALIGNMENT=b.DEFAULT_ROW_ALIGNMENT=b.DEFAULT_HEADER_FONT_COLOR=b.DEFAULT_ROW_FONT_COLOR=b.COLORS=b.ALIGNMENTS=b.DEFAULT_TABLE_STYLE=b.DEFAULT_ROW_SEPARATOR=b.DEFAULT_COLUMN_LEN=void 0,b.DEFAULT_COLUMN_LEN=20,b.DEFAULT_ROW_SEPARATOR=!1,b.DEFAULT_TABLE_STYLE={headerTop:{left:"",mid:"",right:"",other:""},headerBottom:{left:"",mid:"",right:"",other:""},tableBottom:{left:"",mid:"",right:"",other:""},vertical:"",rowSeparator:{left:"",mid:"",right:"",other:""}},b.ALIGNMENTS=["right","left","center"],b.COLORS=["red","green","yellow","white","blue","magenta","cyan","white_bold","reset"],b.DEFAULT_ROW_FONT_COLOR="white",b.DEFAULT_HEADER_FONT_COLOR="white_bold",b.DEFAULT_ROW_ALIGNMENT="right",b.DEFAULT_HEADER_ALIGNMENT="center"},55599:(a,b,c)=>{"use strict";var d;c.d(b,{I:()=>d}),function(a){a.PROFILE="profile",a.SSO_SESSION="sso-session",a.SERVICES="services"}(d||(d={}))},55685:a=>{"use strict";function b(a,b){return b}a.exports=function(){let a=Error.prepareStackTrace;Error.prepareStackTrace=b;let c=Error().stack;if(Error.prepareStackTrace=a,!Array.isArray(c))return;let d=c.slice(2),e=[];for(let a of d)a&&e.push(a.getFileName());return e}},55778:(a,b,c)=>{"use strict";let d=c(27092);function e(a){this._types=a||d,this.text={},this.binary={}}e.prototype.getOverrides=function(a){switch(a){case"text":return this.text;case"binary":return this.binary;default:return{}}},e.prototype.setTypeParser=function(a,b,c){"function"==typeof b&&(c=b,b="text"),this.getOverrides(b)[a]=c},e.prototype.getTypeParser=function(a,b){return b=b||"text",this.getOverrides(b)[a]||this._types.getTypeParser(a,b)},a.exports=e},55852:(a,b,c)=>{"use strict";let d,{makeNetworkError:e,makeAppropriateNetworkError:f,filterResponse:g,makeResponse:h,fromInnerResponse:i,getResponseState:j}=c(62285),{HeadersList:k}=c(98114),{Request:l,cloneRequest:m,getRequestDispatcher:o,getRequestState:p}=c(40369),q=c(38522),{bytesMatch:r,makePolicyContainer:s,clonePolicyContainer:t,requestBadPort:u,TAOCheck:v,appendRequestOriginHeader:w,responseLocationURL:x,requestCurrentURL:y,setRequestReferrerPolicyOnRedirect:z,tryUpgradeRequestToAPotentiallyTrustworthyURL:A,createOpaqueTimingInfo:B,appendFetchMetadata:C,corsCheck:D,crossOriginResourcePolicyCheck:E,determineRequestsReferrer:F,coarsenedSharedCurrentTime:G,createDeferredPromise:H,sameOrigin:I,isCancelled:J,isAborted:K,isErrorLike:L,fullyReadBody:M,readableStreamClose:N,isomorphicEncode:O,urlIsLocal:P,urlIsHttpHttpsScheme:Q,urlHasHttpsScheme:R,clampAndCoarsenConnectionTimingInfo:S,simpleRangeHeaderValue:T,buildContentRange:U,createInflate:V,extractMimeType:W}=c(51074),X=c(34589),{safelyExtractBody:Y,extractBody:Z}=c(33518),{redirectStatusSet:$,nullBodyStatus:_,safeMethodsSet:aa,requestBodyHeader:ab,subresourceSet:ac}=c(27761),ad=c(78474),{Readable:ae,pipeline:af,finished:ag,isErrored:ah,isReadable:ai}=c(57075),{addAbortListener:aj,bufferToLowerCasedHeaderName:ak}=c(81350),{dataURLProcessor:al,serializeAMimeType:am,minimizeSupportedMimeType:an}=c(62018),{getGlobalDispatcher:ao}=c(22787),{webidl:ap}=c(81399),{STATUS_CODES:aq}=c(37067),ar=["GET","HEAD"],as="undefined"!=typeof __UNDICI_IS_NODE__||"undefined"!=typeof esbuildDetection?"node":"undici";class at extends ad{constructor(a){super(),this.dispatcher=a,this.connection=null,this.dump=!1,this.state="ongoing"}terminate(a){"ongoing"===this.state&&(this.state="terminated",this.connection?.destroy(a),this.emit("terminated",a))}abort(a){"ongoing"===this.state&&(this.state="aborted",a||(a=new DOMException("The operation was aborted.","AbortError")),this.serializedAbortReason=a,this.connection?.destroy(a),this.emit("terminated",a))}}function au(a){aw(a,"fetch")}function av(a,b){let c;ap.argumentLengthCheck(arguments,1,"globalThis.fetch");let d=H();try{c=new l(a,b)}catch(a){return d.reject(a),d.promise}let e=p(c);if(c.signal.aborted)return ay(d,e,null,c.signal.reason),d.promise;let f=e.client.globalObject;f?.constructor?.name==="ServiceWorkerGlobalScope"&&(e.serviceWorkers="none");let g=null,h=!1,j=null;aj(c.signal,()=>{h=!0,X(null!=j),j.abort(c.signal.reason);let a=g?.deref();ay(d,e,a,c.signal.reason)});let k=a=>{if(!h){if(a.aborted)return void ay(d,e,g,j.serializedAbortReason);if("error"===a.type)return void d.reject(TypeError("fetch failed",{cause:a.error}));g=new WeakRef(i(a,"immutable")),d.resolve(g.deref()),d=null}};return j=az({request:e,processResponseEndOfBody:au,processResponse:k,dispatcher:o(c)}),d.promise}function aw(a,b="other"){if("error"===a.type&&a.aborted||!a.urlList?.length)return;let c=a.urlList[0],d=a.timingInfo,e=a.cacheState;Q(c)&&null!==d&&(a.timingAllowPassed||(d=B({startTime:d.startTime}),e=""),d.endTime=G(),a.timingInfo=d,ax(d,c.href,b,globalThis,e,"",a.status))}let ax=performance.markResourceTiming;function ay(a,b,c,d){if(a&&a.reject(d),b.body?.stream!=null&&ai(b.body.stream)&&b.body.stream.cancel(d).catch(a=>{if("ERR_INVALID_STATE"!==a.code)throw a}),null==c)return;let e=j(c);e.body?.stream!=null&&ai(e.body.stream)&&e.body.stream.cancel(d).catch(a=>{if("ERR_INVALID_STATE"!==a.code)throw a})}function az({request:a,processRequestBodyChunkLength:b,processRequestEndOfBody:c,processResponse:d,processResponseEndOfBody:e,processResponseConsumeBody:f,useParallelQueue:g=!1,dispatcher:h=ao()}){X(h);let i=null,j=!1;null!=a.client&&(i=a.client.globalObject,j=a.client.crossOriginIsolatedCapability);let k=B({startTime:G(j)}),l={controller:new at(h),request:a,timingInfo:k,processRequestBodyChunkLength:b,processRequestEndOfBody:c,processResponse:d,processResponseConsumeBody:f,processResponseEndOfBody:e,taskDestination:i,crossOriginIsolatedCapability:j};if(X(!a.body||a.body.stream),"client"===a.window&&(a.window=a.client?.globalObject?.constructor?.name==="Window"?a.client:"no-window"),"client"===a.origin&&(a.origin=a.client.origin),"client"===a.policyContainer&&(null!=a.client?a.policyContainer=t(a.client.policyContainer):a.policyContainer=s()),!a.headersList.contains("accept",!0)){let b="*/*";a.headersList.append("accept",b,!0)}return a.headersList.contains("accept-language",!0)||a.headersList.append("accept-language","*",!0),a.priority,ac.has(a.destination),aA(l).catch(a=>{l.controller.terminate(a)}),l.controller}async function aA(a,b=!1){let c=a.request,d=null;if(c.localURLsOnly&&!P(y(c))&&(d=e("local URLs only")),A(c),"blocked"===u(c)&&(d=e("bad port")),""===c.referrerPolicy&&(c.referrerPolicy=c.policyContainer.referrerPolicy),"no-referrer"!==c.referrer&&(c.referrer=F(c)),null===d){let b=y(c);I(b,c.url)&&"basic"===c.responseTainting||"data:"===b.protocol||"navigate"===c.mode||"websocket"===c.mode?(c.responseTainting="basic",d=await aB(a)):"same-origin"===c.mode?d=e('request mode cannot be "same-origin"'):"no-cors"===c.mode?"follow"!==c.redirect?d=e('redirect mode cannot be "follow" for "no-cors" request'):(c.responseTainting="opaque",d=await aB(a)):Q(y(c))?(c.responseTainting="cors",d=await aE(a)):d=e("URL scheme must be a HTTP(S) scheme")}if(b)return d;0===d.status||d.internalResponse||(c.responseTainting,"basic"===c.responseTainting?d=g(d,"basic"):"cors"===c.responseTainting?d=g(d,"cors"):"opaque"===c.responseTainting?d=g(d,"opaque"):X(!1));let f=0===d.status?d:d.internalResponse;if(0===f.urlList.length&&f.urlList.push(...c.urlList),c.timingAllowFailed||(d.timingAllowPassed=!0),"opaque"===d.type&&206===f.status&&f.rangeRequested&&!c.headers.contains("range",!0)&&(d=f=e()),0!==d.status&&("HEAD"===c.method||"CONNECT"===c.method||_.includes(f.status))&&(f.body=null,a.controller.dump=!0),c.integrity){let b=b=>aD(a,e(b));if("opaque"===c.responseTainting||null==d.body)return void b(d.error);let f=e=>{if(!r(e,c.integrity))return void b("integrity mismatch");d.body=Y(e)[0],aD(a,d)};await M(d.body,f,b)}else aD(a,d)}function aB(a){if(J(a)&&0===a.request.redirectCount)return Promise.resolve(f(a));let{request:b}=a,{protocol:g}=y(b);switch(g){case"about:":return Promise.resolve(e("about scheme is not supported"));case"blob:":{d||(d=c(4573).resolveObjectURL);let a=y(b);if(0!==a.search.length)return Promise.resolve(e("NetworkError when attempting to fetch resource."));let f=d(a.toString());if("GET"!==b.method||!ap.is.Blob(f))return Promise.resolve(e("invalid method"));let g=h(),i=f.size,j=O(`${i}`),k=f.type;if(b.headersList.contains("range",!0)){g.rangeRequested=!0;let a=T(b.headersList.get("range",!0),!0);if("failure"===a)return Promise.resolve(e("failed to fetch the data URL"));let{rangeStartValue:c,rangeEndValue:d}=a;if(null===c)d=(c=i-d)+d-1;else{if(c>=i)return Promise.resolve(e("Range start is greater than the blob's size."));(null===d||d>=i)&&(d=i-1)}let h=f.slice(c,d,k);g.body=Z(h)[0];let j=O(`${h.size}`),l=U(c,d,i);g.status=206,g.statusText="Partial Content",g.headersList.set("content-length",j,!0),g.headersList.set("content-type",k,!0),g.headersList.set("content-range",l,!0)}else{let a=Z(f);g.statusText="OK",g.body=a[0],g.headersList.set("content-length",j,!0),g.headersList.set("content-type",k,!0)}return Promise.resolve(g)}case"data:":{let a=al(y(b));if("failure"===a)return Promise.resolve(e("failed to fetch the data URL"));return Promise.resolve(h({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:am(a.mimeType)}]],body:Y(a.body)[0]}))}case"file:":return Promise.resolve(e("not implemented... yet..."));case"http:":case"https:":return aE(a).catch(a=>e(a));default:return Promise.resolve(e("unknown scheme"))}}function aC(a,b){a.request.done=!0,null!=a.processResponseDone&&queueMicrotask(()=>a.processResponseDone(b))}function aD(a,b){let c=a.timingInfo,d=()=>{let d=Date.now();"document"===a.request.destination&&(a.controller.fullTimingInfo=c),a.controller.reportTimingSteps=()=>{if(!Q(a.request.url))return;c.endTime=d;let e=b.cacheState,f=b.bodyInfo;b.timingAllowPassed||(c=B(c),e="");let g=0;if("navigator"!==a.request.mode||!b.hasCrossOriginRedirects){g=b.status;let a=W(b.headersList);"failure"!==a&&(f.contentType=an(a))}null!=a.request.initiatorType&&ax(c,a.request.url.href,a.request.initiatorType,globalThis,e,f,g)};let e=()=>{a.request.done=!0,null!=a.processResponseEndOfBody&&queueMicrotask(()=>a.processResponseEndOfBody(b)),null!=a.request.initiatorType&&a.controller.reportTimingSteps()};queueMicrotask(()=>e())};null!=a.processResponse&&queueMicrotask(()=>{a.processResponse(b),a.processResponse=null});let e="error"===b.type?b:b.internalResponse??b;null==e.body?d():ag(e.body.stream,()=>{d()})}async function aE(a){let b=a.request,c=null,d=null,f=a.timingInfo;if(b.serviceWorkers,null===c){if("follow"===b.redirect&&(b.serviceWorkers="none"),d=c=await aG(a),"cors"===b.responseTainting&&"failure"===D(b,c))return e("cors failure");"failure"===v(b,c)&&(b.timingAllowFailed=!0)}return("opaque"===b.responseTainting||"opaque"===c.type)&&"blocked"===E(b.origin,b.client,b.destination,d)?e("blocked"):($.has(d.status)&&("manual"!==b.redirect&&a.controller.connection.destroy(void 0,!1),"error"===b.redirect?c=e("unexpected redirect"):"manual"===b.redirect?c=d:"follow"===b.redirect?c=await aF(a,c):X(!1)),c.timingInfo=f,c)}function aF(a,b){let c,d=a.request,f=b.internalResponse?b.internalResponse:b;try{if(c=x(f,y(d).hash),null==c)return b}catch(a){return Promise.resolve(e(a))}if(!Q(c))return Promise.resolve(e("URL scheme must be a HTTP(S) scheme"));if(20===d.redirectCount)return Promise.resolve(e("redirect count exceeded"));if(d.redirectCount+=1,"cors"===d.mode&&(c.username||c.password)&&!I(d,c))return Promise.resolve(e('cross origin not allowed for request mode "cors"'));if("cors"===d.responseTainting&&(c.username||c.password))return Promise.resolve(e('URL cannot contain credentials for request mode "cors"'));if(303!==f.status&&null!=d.body&&null==d.body.source)return Promise.resolve(e());if([301,302].includes(f.status)&&"POST"===d.method||303===f.status&&!ar.includes(d.method))for(let a of(d.method="GET",d.body=null,ab))d.headersList.delete(a);I(y(d),c)||(d.headersList.delete("authorization",!0),d.headersList.delete("proxy-authorization",!0),d.headersList.delete("cookie",!0),d.headersList.delete("host",!0)),null!=d.body&&(X(null!=d.body.source),d.body=Y(d.body.source)[0]);let g=a.timingInfo;return g.redirectEndTime=g.postRedirectStartTime=G(a.crossOriginIsolatedCapability),0===g.redirectStartTime&&(g.redirectStartTime=g.startTime),d.urlList.push(c),z(d,f),aA(a,!0)}async function aG(a,b=!1,c=!1){let d=a.request,g=null,h=null,i=null,j=null,k=!1;"no-window"===d.window&&"error"===d.redirect?(g=a,h=d):(h=m(d),(g={...a}).request=h);let l="include"===d.credentials||"same-origin"===d.credentials&&"basic"===d.responseTainting,o=h.body?h.body.length:null,p=null;if(null==h.body&&["POST","PUT"].includes(h.method)&&(p="0"),null!=o&&(p=O(`${o}`)),null!=p&&h.headersList.append("content-length",p,!0),null!=o&&h.keepalive,ap.is.URL(h.referrer)&&h.headersList.append("referer",O(h.referrer.href),!0),w(h),C(h),h.headersList.contains("user-agent",!0)||h.headersList.append("user-agent",as,!0),"default"===h.cache&&(h.headersList.contains("if-modified-since",!0)||h.headersList.contains("if-none-match",!0)||h.headersList.contains("if-unmodified-since",!0)||h.headersList.contains("if-match",!0)||h.headersList.contains("if-range",!0))&&(h.cache="no-store"),"no-cache"!==h.cache||h.preventNoCacheCacheControlHeaderModification||h.headersList.contains("cache-control",!0)||h.headersList.append("cache-control","max-age=0",!0),("no-store"===h.cache||"reload"===h.cache)&&(h.headersList.contains("pragma",!0)||h.headersList.append("pragma","no-cache",!0),h.headersList.contains("cache-control",!0)||h.headersList.append("cache-control","no-cache",!0)),h.headersList.contains("range",!0)&&h.headersList.append("accept-encoding","identity",!0),h.headersList.contains("accept-encoding",!0)||(R(y(h))?h.headersList.append("accept-encoding","br, gzip, deflate",!0):h.headersList.append("accept-encoding","gzip, deflate",!0)),h.headersList.delete("host",!0),null==j&&(h.cache="no-store"),"no-store"!==h.cache&&h.cache,null==i){if("only-if-cached"===h.cache)return e("only if cached");let a=await aH(g,l,c);!aa.has(h.method)&&a.status>=200&&a.status,k&&a.status,null==i&&(i=a)}if(i.urlList=[...h.urlList],h.headersList.contains("range",!0)&&(i.rangeRequested=!0),i.requestIncludesCredentials=l,407===i.status)return"no-window"===d.window?e():J(a)?f(a):e("proxy authentication required");if(421===i.status&&!c&&(null==d.body||null!=d.body.source)){if(J(a))return f(a);a.controller.connection.destroy(),i=await aG(a,b,!0)}return i}async function aH(a,b=!1,c=!1){X(!a.controller.connection||a.controller.connection.destroyed),a.controller.connection={abort:null,destroyed:!1,destroy(a,b=!0){!this.destroyed&&(this.destroyed=!0,b&&this.abort?.(a??new DOMException("The operation was aborted.","AbortError")))}};let d=a.request,g=null,i=a.timingInfo;d.cache="no-store",d.mode;let j=null;if(null==d.body&&a.processRequestEndOfBody)queueMicrotask(()=>a.processRequestEndOfBody());else if(null!=d.body){let b=async function*(b){J(a)||(yield b,a.processRequestBodyChunkLength?.(b.byteLength))},c=()=>{!J(a)&&a.processRequestEndOfBody&&a.processRequestEndOfBody()},e=b=>{J(a)||("AbortError"===b.name?a.controller.abort():a.controller.terminate(b))};j=async function*(){try{for await(let a of d.body.stream)yield*b(a);c()}catch(a){e(a)}}()}try{let{body:b,status:c,statusText:d,headersList:e,socket:f}=await r({body:j});if(f)g=h({status:c,statusText:d,headersList:e,socket:f});else{let f=b[Symbol.asyncIterator]();a.controller.next=()=>f.next(),g=h({status:c,statusText:d,headersList:e})}}catch(b){if("AbortError"===b.name)return a.controller.connection.destroy(),f(a,b);return e(b)}let l=()=>a.controller.resume(),m=b=>{J(a)||a.controller.abort(b)},o=new ReadableStream({async start(b){a.controller.controller=b},async pull(a){await l(a)},async cancel(a){await m(a)},type:"bytes"});function p(b){K(a)?(g.aborted=!0,ai(o)&&a.controller.controller.error(a.controller.serializedAbortReason)):ai(o)&&a.controller.controller.error(TypeError("terminated",{cause:L(b)?b:void 0})),a.controller.connection.destroy()}return g.body={stream:o,source:null,length:null},a.controller.resume||a.controller.on("terminated",p),a.controller.resume=async()=>{for(;;){let b,c;try{let{done:c,value:d}=await a.controller.next();if(K(a))break;b=c?void 0:d}catch(d){a.controller.ended&&!i.encodedBodySize?b=void 0:(b=d,c=!0)}if(void 0===b){N(a.controller.controller),aC(a,g);return}if(i.decodedBodySize+=b?.byteLength??0,c)return void a.controller.terminate(b);let d=new Uint8Array(b);if(d.byteLength&&a.controller.controller.enqueue(d),ah(o))return void a.controller.terminate();if(a.controller.controller.desiredSize<=0)return}},g;function r({body:b}){let c=y(d),e=a.controller.dispatcher;return new Promise((f,g)=>e.dispatch({path:c.pathname+c.search,origin:c.origin,method:d.method,body:e.isMockActive?d.body&&(d.body.source||d.body.stream):b,headers:d.headersList.entries,maxRedirections:0,upgrade:"websocket"===d.mode?"websocket":void 0},{body:null,abort:null,onConnect(b){let{connection:c}=a.controller;i.finalConnectionTimingInfo=S(void 0,i.postRedirectStartTime,a.crossOriginIsolatedCapability),c.destroyed?b(new DOMException("The operation was aborted.","AbortError")):(a.controller.on("terminated",b),this.abort=c.abort=b),i.finalNetworkRequestStartTime=G(a.crossOriginIsolatedCapability)},onResponseStarted(){i.finalNetworkResponseStartTime=G(a.crossOriginIsolatedCapability)},onHeaders(a,b,c,e){if(a<200)return;let g=[],h="",i=new k;for(let a=0;a<b.length;a+=2)i.append(ak(b[a]),b[a+1].toString("latin1"),!0);let j=i.get("content-encoding",!0);j&&(g=j.toLowerCase().split(",").map(a=>a.trim())),h=i.get("location",!0),this.body=new ae({read:c});let l=[],m=h&&"follow"===d.redirect&&$.has(a);if(0!==g.length&&"HEAD"!==d.method&&"CONNECT"!==d.method&&!_.includes(a)&&!m)for(let a=g.length-1;a>=0;--a){let b=g[a];if("x-gzip"===b||"gzip"===b)l.push(q.createGunzip({flush:q.constants.Z_SYNC_FLUSH,finishFlush:q.constants.Z_SYNC_FLUSH}));else if("deflate"===b)l.push(V({flush:q.constants.Z_SYNC_FLUSH,finishFlush:q.constants.Z_SYNC_FLUSH}));else if("br"===b)l.push(q.createBrotliDecompress({flush:q.constants.BROTLI_OPERATION_FLUSH,finishFlush:q.constants.BROTLI_OPERATION_FLUSH}));else{l.length=0;break}}let o=this.onError.bind(this);return f({status:a,statusText:e,headersList:i,body:l.length?af(this.body,...l,a=>{a&&this.onError(a)}).on("error",o):this.body.on("error",o)}),!0},onData(b){if(a.controller.dump)return;let c=b;return i.encodedBodySize+=c.byteLength,this.body.push(c)},onComplete(){this.abort&&a.controller.off("terminated",this.abort),a.controller.ended=!0,this.body.push(null)},onError(b){this.abort&&a.controller.off("terminated",this.abort),this.body?.destroy(b),a.controller.terminate(b),g(b)},onUpgrade(a,b,c){if(101!==a)return;let d=new k;for(let a=0;a<b.length;a+=2)d.append(ak(b[a]),b[a+1].toString("latin1"),!0);return f({status:a,statusText:aq[a],headersList:d,socket:c}),!0}}))}}a.exports={fetch:av,Fetch:at,fetching:az,finalizeAndReportTiming:aw}},55878:(a,b,c)=>{"use strict";c.d(b,{l:()=>f,q:()=>e});var d=c(84790);let e="payload-locked-documents",f=a=>({slug:e,access:{create:d.I,delete:d.I,read:d.I,update:d.I},admin:{hidden:!0},fields:[{name:"document",type:"relationship",index:!0,maxDepth:0,relationTo:[...a.collections.filter(a=>!1!==a.lockDocuments).map(a=>a.slug)]},{name:"globalSlug",type:"text",index:!0},{name:"user",type:"relationship",maxDepth:1,relationTo:a.collections.filter(a=>a.auth).map(a=>a.slug),required:!0}],lockDocuments:!1})},55896:(a,b,c)=>{"use strict";var d;function e(a){throw Object.defineProperty(Error("cacheLife() is only available with the experimental.useCache config."),"__NEXT_ERROR_CODE",{value:"E627",enumerable:!1,configurable:!0})}d={value:!0},Object.defineProperty(b,"F",{enumerable:!0,get:function(){return e}}),c(29294),c(63033)},55947:(a,b,c)=>{"use strict";c.d(b,{n:()=>e});var d=c(73024);let e=a=>{if(!a)return 0;if("string"==typeof a)return Buffer.byteLength(a);if("number"==typeof a.byteLength)return a.byteLength;if("number"==typeof a.size)return a.size;if("number"==typeof a.start&&"number"==typeof a.end)return a.end+1-a.start;if(a instanceof d.ReadStream){if(null!=a.path)return(0,d.lstatSync)(a.path).size;else if("number"==typeof a.fd)return(0,d.fstatSync)(a.fd).size}throw Error(`Body Length computation failed for ${a}`)}},56183:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=[{first:768,last:879},{first:1155,last:1158},{first:1160,last:1161},{first:1425,last:1469},{first:1471,last:1471},{first:1473,last:1474},{first:1476,last:1477},{first:1479,last:1479},{first:1536,last:1539},{first:1552,last:1557},{first:1611,last:1630},{first:1648,last:1648},{first:1750,last:1764},{first:1767,last:1768},{first:1770,last:1773},{first:1807,last:1807},{first:1809,last:1809},{first:1840,last:1866},{first:1958,last:1968},{first:2027,last:2035},{first:2305,last:2306},{first:2364,last:2364},{first:2369,last:2376},{first:2381,last:2381},{first:2385,last:2388},{first:2402,last:2403},{first:2433,last:2433},{first:2492,last:2492},{first:2497,last:2500},{first:2509,last:2509},{first:2530,last:2531},{first:2561,last:2562},{first:2620,last:2620},{first:2625,last:2626},{first:2631,last:2632},{first:2635,last:2637},{first:2672,last:2673},{first:2689,last:2690},{first:2748,last:2748},{first:2753,last:2757},{first:2759,last:2760},{first:2765,last:2765},{first:2786,last:2787},{first:2817,last:2817},{first:2876,last:2876},{first:2879,last:2879},{first:2881,last:2883},{first:2893,last:2893},{first:2902,last:2902},{first:2946,last:2946},{first:3008,last:3008},{first:3021,last:3021},{first:3134,last:3136},{first:3142,last:3144},{first:3146,last:3149},{first:3157,last:3158},{first:3260,last:3260},{first:3263,last:3263},{first:3270,last:3270},{first:3276,last:3277},{first:3298,last:3299},{first:3393,last:3395},{first:3405,last:3405},{first:3530,last:3530},{first:3538,last:3540},{first:3542,last:3542},{first:3633,last:3633},{first:3636,last:3642},{first:3655,last:3662},{first:3761,last:3761},{first:3764,last:3769},{first:3771,last:3772},{first:3784,last:3789},{first:3864,last:3865},{first:3893,last:3893},{first:3895,last:3895},{first:3897,last:3897},{first:3953,last:3966},{first:3968,last:3972},{first:3974,last:3975},{first:3984,last:3991},{first:3993,last:4028},{first:4038,last:4038},{first:4141,last:4144},{first:4146,last:4146},{first:4150,last:4151},{first:4153,last:4153},{first:4184,last:4185},{first:4448,last:4607},{first:4959,last:4959},{first:5906,last:5908},{first:5938,last:5940},{first:5970,last:5971},{first:6002,last:6003},{first:6068,last:6069},{first:6071,last:6077},{first:6086,last:6086},{first:6089,last:6099},{first:6109,last:6109},{first:6155,last:6157},{first:6313,last:6313},{first:6432,last:6434},{first:6439,last:6440},{first:6450,last:6450},{first:6457,last:6459},{first:6679,last:6680},{first:6912,last:6915},{first:6964,last:6964},{first:6966,last:6970},{first:6972,last:6972},{first:6978,last:6978},{first:7019,last:7027},{first:7616,last:7626},{first:7678,last:7679},{first:8203,last:8207},{first:8234,last:8238},{first:8288,last:8291},{first:8298,last:8303},{first:8400,last:8431},{first:12330,last:12335},{first:12441,last:12442},{first:43014,last:43014},{first:43019,last:43019},{first:43045,last:43046},{first:64286,last:64286},{first:65024,last:65039},{first:65056,last:65059},{first:65279,last:65279},{first:65529,last:65531},{first:68097,last:68099},{first:68101,last:68102},{first:68108,last:68111},{first:68152,last:68154},{first:68159,last:68159},{first:119143,last:119145},{first:119155,last:119170},{first:119173,last:119179},{first:119210,last:119213},{first:119362,last:119364},{first:917505,last:917505},{first:917536,last:917631},{first:917760,last:917999}]},56205:(a,b,c)=>{"use strict";let{isIP:d}=c(77030),{lookup:e}=c(40610),f=c(26749),{InvalidArgumentError:g,InformationalError:h}=c(64737),i=0x7fffffff;class j{#aQ=0;#aR=0;#aS=new Map;dualStack=!0;affinity=null;lookup=null;pick=null;constructor(a){this.#aQ=a.maxTTL,this.#aR=a.maxItems,this.dualStack=a.dualStack,this.affinity=a.affinity,this.lookup=a.lookup??this.#aT,this.pick=a.pick??this.#aU}get full(){return this.#aS.size===this.#aR}runLookup(a,b,c){let d=this.#aS.get(a.hostname);if(null==d&&this.full)return void c(null,a);let e={affinity:this.affinity,dualStack:this.dualStack,lookup:this.lookup,pick:this.pick,...b.dns,maxTTL:this.#aQ,maxItems:this.#aR};if(null==d)this.lookup(a,e,(b,d)=>{let f;if(b||null==d||0===d.length)return void c(b??new h("No DNS entries found"));this.setRecords(a,d);let g=this.#aS.get(a.hostname),i=this.pick(a,g,e.affinity);f="number"==typeof i.port?`:${i.port}`:""!==a.port?`:${a.port}`:"",c(null,new URL(`${a.protocol}//${6===i.family?`[${i.address}]`:i.address}${f}`))});else{let f,g=this.pick(a,d,e.affinity);if(null==g){this.#aS.delete(a.hostname),this.runLookup(a,b,c);return}f="number"==typeof g.port?`:${g.port}`:""!==a.port?`:${a.port}`:"",c(null,new URL(`${a.protocol}//${6===g.family?`[${g.address}]`:g.address}${f}`))}}#aT(a,b,c){e(a.hostname,{all:!0,family:!1===this.dualStack?this.affinity:0,order:"ipv4first"},(a,b)=>{if(a)return c(a);let d=new Map;for(let a of b)d.set(`${a.address}:${a.family}`,a);c(null,d.values())})}#aU(a,b,c){let d,e=null,{records:f,offset:g}=b;if(this.dualStack?(null==c&&(null==g||g===i?(b.offset=0,c=4):(b.offset++,c=(1&b.offset)==1?6:4)),d=null!=f[c]&&f[c].ips.length>0?f[c]:f[4===c?6:4]):d=f[c],null==d||0===d.ips.length)return e;null==d.offset||d.offset===i?d.offset=0:d.offset++;let h=d.offset%d.ips.length;return null==(e=d.ips[h]??null)?e:Date.now()-e.timestamp>e.ttl?(d.ips.splice(h,1),this.pick(a,b,c)):e}pickFamily(a,b){let c=this.#aS.get(a.hostname)?.records;if(!c)return null;let d=c[b];if(!d)return null;null==d.offset||d.offset===i?d.offset=0:d.offset++;let e=d.offset%d.ips.length,f=d.ips[e]??null;return null==f||Date.now()-f.timestamp>f.ttl&&d.ips.splice(e,1),f}setRecords(a,b){let c=Date.now(),d={records:{4:null,6:null}};for(let a of b){a.timestamp=c,"number"==typeof a.ttl?a.ttl=Math.min(a.ttl,this.#aQ):a.ttl=this.#aQ;let b=d.records[a.family]??{ips:[]};b.ips.push(a),d.records[a.family]=b}this.#aS.set(a.hostname,d)}deleteRecords(a){this.#aS.delete(a.hostname)}getHandler(a,b){return new k(this,a,b)}}class k extends f{#aa=null;#ay=null;#aV=null;#aW=null;#$=null;#aX=null;#aY=!0;constructor(a,{origin:b,handler:c,dispatch:d,newOrigin:e},f){super(c),this.#aW=b,this.#aX=e,this.#ay={...f},this.#aa=a,this.#aV=d}onResponseError(a,b){switch(b.code){case"ETIMEDOUT":case"ECONNREFUSED":if(this.#aa.dualStack){let c;if(!this.#aY)return void super.onResponseError(a,b);this.#aY=!1;let d="["===this.#aX.hostname[0]?4:6,e=this.#aa.pickFamily(this.#aW,d);if(null==e)return void super.onResponseError(a,b);c="number"==typeof e.port?`:${e.port}`:""!==this.#aW.port?`:${this.#aW.port}`:"";let f={...this.#ay,origin:`${this.#aW.protocol}//${6===e.family?`[${e.address}]`:e.address}${c}`};this.#aV(f,this);return}super.onResponseError(a,b);break;case"ENOTFOUND":this.#aa.deleteRecords(this.#aW),super.onResponseError(a,b);break;default:super.onResponseError(a,b)}}}a.exports=a=>{let b;if(a?.maxTTL!=null&&("number"!=typeof a?.maxTTL||a?.maxTTL<0))throw new g("Invalid maxTTL. Must be a positive number");if(a?.maxItems!=null&&("number"!=typeof a?.maxItems||a?.maxItems<1))throw new g("Invalid maxItems. Must be a positive number and greater than zero");if(a?.affinity!=null&&a?.affinity!==4&&a?.affinity!==6)throw new g("Invalid affinity. Must be either 4 or 6");if(a?.dualStack!=null&&"boolean"!=typeof a?.dualStack)throw new g("Invalid dualStack. Must be a boolean");if(a?.lookup!=null&&"function"!=typeof a?.lookup)throw new g("Invalid lookup. Must be a function");if(a?.pick!=null&&"function"!=typeof a?.pick)throw new g("Invalid pick. Must be a function");let c=a?.dualStack??!0;b=c?a?.affinity??null:a?.affinity??4;let e=new j({maxTTL:a?.maxTTL??1e4,lookup:a?.lookup??null,pick:a?.pick??null,dualStack:c,affinity:b,maxItems:a?.maxItems??1/0});return a=>function(b,c){let f=b.origin.constructor===URL?b.origin:new URL(b.origin);return 0!==d(f.hostname)?a(b,c):(e.runLookup(f,b,(d,g)=>{if(d)return c.onResponseError(null,d);a({...b,servername:f.hostname,origin:g.origin,headers:{host:f.host,...b.headers}},e.getHandler({origin:f,dispatch:a,handler:c,newOrigin:g},b))}),!0)}}},56336:(a,b,c)=>{"use strict";c.d(b,{B:()=>e});var d=c(46601);let e=async({defaultValue:a,locale:b,req:c,user:e,value:f})=>void 0!==f?f:a&&"function"==typeof a?await a({locale:b,req:c,user:e}):"object"==typeof a?(0,d.Zt)(a):a},56345:(a,b,c)=>{"use strict";let d=c(24404),e=c(32488);class f{constructor(a){a=a||{},this.options=a||{},this.name="StreamTransport",this.version=d.version,this.logger=e.getLogger(this.options,{component:this.options.component||"stream-transport"}),this.winbreak=["win","windows","dos","\r\n"].includes((a.newline||"").toString().toLowerCase())}send(a,b){a.message.keepBcc=!0;let c=a.data.envelope||a.message.getEnvelope(),d=a.message.messageId(),e=[].concat(c.to||[]);e.length>3&&e.push("...and "+e.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:d},"Sending message %s to <%s> using %s line breaks",d,e.join(", "),this.winbreak?"<CR><LF>":"<LF>"),setImmediate(()=>{let c;try{c=a.message.createReadStream()}catch(a){return this.logger.error({err:a,tnx:"send",messageId:d},"Creating send stream failed for %s. %s",d,a.message),b(a)}if(!this.options.buffer)return c.once("error",a=>{this.logger.error({err:a,tnx:"send",messageId:d},"Failed creating message for %s. %s",d,a.message)}),b(null,{envelope:a.data.envelope||a.message.getEnvelope(),messageId:d,message:c});let e=[],f=0;c.on("readable",()=>{let a;for(;null!==(a=c.read());)e.push(a),f+=a.length}),c.once("error",a=>(this.logger.error({err:a,tnx:"send",messageId:d},"Failed creating message for %s. %s",d,a.message),b(a))),c.on("end",()=>b(null,{envelope:a.data.envelope||a.message.getEnvelope(),messageId:d,message:Buffer.concat(e,f)}))})}}a.exports=f},56405:(a,b,c)=>{"use strict";c.d(b,{F:()=>f});var d=c(60133),e=c(90519);let f=async a=>{let b={user:null};if(!a.payload.authStrategies?.length)return b;for(let c of a.payload.authStrategies){a.strategyName=c.name,a.isGraphQL=!!a.isGraphQL,a.canSetHeaders=!!a.canSetHeaders;try{let d=await c.authenticate(a);d.responseHeaders&&(d.responseHeaders=(0,e.l)(b.responseHeaders||new Headers,d.responseHeaders||new Headers)),b=d}catch(b){(0,d.v)({err:b,payload:a.payload})}if(b.user)break}return b}},56696:(a,b,c)=>{"use strict";c.d(b,{j:()=>e});var d=c(96493);let e=async({id:a,collectionSlug:b,currentDepth:c,data:e,depth:f,draft:g,key:h,overrideAccess:i,req:j,select:k,showHiddenFields:l})=>{if(!(f&&c<=f))return;let m=e,o=await j.payloadDataLoader?.load((0,d.h)({collectionSlug:b,currentDepth:c+1,depth:f,docID:a,draft:g,fallbackLocale:j.fallbackLocale,locale:j.locale,overrideAccess:i,select:k,showHiddenFields:l,transactionID:j.transactionID}));o?m[h]=o:m[h]=null}},56704:a=>{"use strict";function b(a){try{return JSON.stringify(a)}catch(a){return'"[Circular]"'}}a.exports=function a(a,c,d){var e=d&&d.stringify||b,f=1;if("object"==typeof a&&null!==a){var g=c.length+f;if(1===g)return a;var h=Array(g);h[0]=e(a);for(var i=1;i<g;i++)h[i]=e(c[i]);return h.join(" ")}if("string"!=typeof a)return a;var j=c.length;if(0===j)return a;for(var k="",l=1-f,m=-1,o=a&&a.length||0,p=0;p<o;){if(37===a.charCodeAt(p)&&p+1<o){switch(m=m>-1?m:0,a.charCodeAt(p+1)){case 100:case 102:if(l>=j||null==c[l])break;m<p&&(k+=a.slice(m,p)),k+=Number(c[l]),m=p+2,p++;break;case 105:if(l>=j||null==c[l])break;m<p&&(k+=a.slice(m,p)),k+=Math.floor(Number(c[l])),m=p+2,p++;break;case 79:case 111:case 106:if(l>=j||void 0===c[l])break;m<p&&(k+=a.slice(m,p));var q=typeof c[l];if("string"===q){k+="'"+c[l]+"'",m=p+2,p++;break}if("function"===q){k+=c[l].name||"<anonymous>",m=p+2,p++;break}k+=e(c[l]),m=p+2,p++;break;case 115:if(l>=j)break;m<p&&(k+=a.slice(m,p)),k+=String(c[l]),m=p+2,p++;break;case 37:m<p&&(k+=a.slice(m,p)),k+="%",m=p+2,p++,l--}++l}++p}return -1===m?a:(m<o&&(k+=a.slice(m)),k)}},56757:a=>{"use strict";a.exports=function a(b,c){if(b===c)return!0;if(b&&c&&"object"==typeof b&&"object"==typeof c){if(b.constructor!==c.constructor)return!1;if(Array.isArray(b)){if((d=b.length)!=c.length)return!1;for(e=d;0!=e--;)if(!a(b[e],c[e]))return!1;return!0}if(b.constructor===RegExp)return b.source===c.source&&b.flags===c.flags;if(b.valueOf!==Object.prototype.valueOf)return b.valueOf()===c.valueOf();if(b.toString!==Object.prototype.toString)return b.toString()===c.toString();if((d=(f=Object.keys(b)).length)!==Object.keys(c).length)return!1;for(e=d;0!=e--;)if(!Object.prototype.hasOwnProperty.call(c,f[e]))return!1;for(e=d;0!=e--;){var d,e,f,g=f[e];if(!a(b[g],c[g]))return!1}return!0}return b!=b&&c!=c}},56965:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(56757);d.code='require("ajv/dist/runtime/equal").default',b.default=d},57126:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default={}},57206:(a,b,c)=>{"use strict";c.d(b,{X:()=>e});let d=RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),e=(a,b=!1)=>{if(!b)return d.test(a);for(let b of a.split("."))if(!e(b))return!1;return!0}},57516:(a,b,c)=>{"use strict";let d=c(10760);a.exports=function({maxRedirections:a}={}){return b=>function(c,e){let{maxRedirections:f=a,...g}=c;if(null==f||0===f)return b(c,e);let h={...g,maxRedirections:0},i=new d(b,f,h,e);return b(h,i)}}},57601:(a,b,c)=>{"use strict";c.d(b,{m:()=>f8});var d=c(73307),e=c(82459),f=c(32885),g=c(33078),h=c(37947);class i extends h.T{constructor(a){super(a),Object.setPrototypeOf(this,i.prototype)}}class j extends i{name="AccountSuspendedException";$fault="client";constructor(a){super({name:"AccountSuspendedException",$fault:"client",...a}),Object.setPrototypeOf(this,j.prototype)}}class k extends i{name="AlreadyExistsException";$fault="client";constructor(a){super({name:"AlreadyExistsException",$fault:"client",...a}),Object.setPrototypeOf(this,k.prototype)}}class l extends i{name="BadRequestException";$fault="client";constructor(a){super({name:"BadRequestException",$fault:"client",...a}),Object.setPrototypeOf(this,l.prototype)}}class m extends i{name="InternalServiceErrorException";$fault="server";constructor(a){super({name:"InternalServiceErrorException",$fault:"server",...a}),Object.setPrototypeOf(this,m.prototype)}}class o extends i{name="NotFoundException";$fault="client";constructor(a){super({name:"NotFoundException",$fault:"client",...a}),Object.setPrototypeOf(this,o.prototype)}}class p extends i{name="TooManyRequestsException";$fault="client";constructor(a){super({name:"TooManyRequestsException",$fault:"client",...a}),Object.setPrototypeOf(this,p.prototype)}}class q extends i{name="ConcurrentModificationException";$fault="server";constructor(a){super({name:"ConcurrentModificationException",$fault:"server",...a}),Object.setPrototypeOf(this,q.prototype)}}class r extends i{name="ConflictException";$fault="client";constructor(a){super({name:"ConflictException",$fault:"client",...a}),Object.setPrototypeOf(this,r.prototype)}}class s extends i{name="LimitExceededException";$fault="client";constructor(a){super({name:"LimitExceededException",$fault:"client",...a}),Object.setPrototypeOf(this,s.prototype)}}class t extends i{name="MailFromDomainNotVerifiedException";$fault="client";constructor(a){super({name:"MailFromDomainNotVerifiedException",$fault:"client",...a}),Object.setPrototypeOf(this,t.prototype)}}class u extends i{name="MessageRejected";$fault="client";constructor(a){super({name:"MessageRejected",$fault:"client",...a}),Object.setPrototypeOf(this,u.prototype)}}class v extends i{name="SendingPausedException";$fault="client";constructor(a){super({name:"SendingPausedException",$fault:"client",...a}),Object.setPrototypeOf(this,v.prototype)}}class w extends i{name="InvalidNextTokenException";$fault="client";constructor(a){super({name:"InvalidNextTokenException",$fault:"client",...a}),Object.setPrototypeOf(this,w.prototype)}}let x="Attachment",y="ApplicationArn",z="AdditionalContactEmailAddresses",A="AdminEmail",B="AlreadyExistsException",C="AttachmentList",D="AwsSesManagedStatus",E="AssociatedTimestamp",F="Aggregation",G="Attachments",H="Body",I="BccAddresses",J="BlacklistEntry",K="BulkEmailEntry",L="BulkEmailEntryResult",M="BatchGetMetricDataQuery",N="BadRequestException",O="BounceSubType",P="BounceType",Q="Bounce",R="Complaint",S="CcAddresses",T="ContentDisposition",U="ContentDescription",V="CreateDate",W="ConflictException",X="ComplaintFeedbackType",Y="ContentId",Z="CampaignId",$="CaseId",_="ContactListDestination",aa="ContactListImportAction",ab="ContactListName",ac="ContactList",ad="ConcurrentModificationException",ae="CustomerManagedStatus",af="ConfigurationSetName",ag="ComplaintSubType",ah="ContentType",ai="ContentTransferEncoding",aj="ConditionThresholdEnabled",ak="CompletedTimestamp",al="ConditionThreshold",am="CreatedTimestamp",an="ConfidenceVerdict",ao="CustomVerificationEmailTemplateMetadata",ap="ConfidenceVerdictThreshold",aq="CloudWatchDestination",ar="CloudWatchDimensionConfiguration",as="CloudWatchDimensionConfigurations",at="Cause",au="Charset",av="Contact",aw="Code",ax="Content",ay="Dimensions",az="DashboardAttributes",aA="DiagnosticCode",aB="DimensionConfigurations",aC="DomainDeliverabilityCampaign",aD="DomainDeliverabilityTrackingOption",aE="DefaultDimensionValue",aF="DedicatedIp",aG="DomainIspPlacements",aH="DomainIspPlacement",aI="DimensionName",aJ="DisplayName",aK="DashboardOptions",aL="DkimPercentage",aM="DeleteRate",aN="DeliveryStreamArn",aO="DefaultSubscriptionStatus",aP="DeliverabilityTestReport",aQ="DeliverabilityTestStatus",aR="DailyVolume",aS="DimensionValueSource",aT="Data",aU="Description",aV="Destination",aW="Details",aX="Domain",aY="EmailAddress",aZ="EmailAddressFilterList",a$="EmailAddressInsightsMailboxEvaluations",a_="EmailAddressInsightsVerdict",a0="EventBusArn",a1="EventBridgeDestination",a2="EmailContent",a3="EndDate",a4="EventDestination",a5="EventDetails",a6="ExportDimensions",a7="EmailInsights",a8="EndpointId",a9="ExportJobSummary",ba="EngagementMetrics",bb="ExportMetric",bc="ExportMetrics",bd="EndpointName",be="EmailSubjectFilterList",bf="ExportSourceType",bg="EmailTags",bh="EmailTemplateContent",bi="EmailTemplateMetadata",bj="Enabled",bk="Error",bl="Esps",bm="Events",bn="Exclude",bo="FromAddress",bp="FromEmailAddress",bq="FromEmailAddressIdentityArn",br="FeedbackForwardingEmailAddress",bs="FeedbackForwardingEmailAddressIdentityArn",bt="FeedbackId",bu="FileName",bv="FailedRecordsCount",bw="FailureRedirectionURL",bx="FirstSeenDateTime",by="Global",bz="GuardianAttributes",bA="GuardianOptions",bB="Html",bC="HasValidDnsRecords",bD="HasValidSyntax",bE="Headers",bF="Id",bG="InboxCount",bH="ImportDestination",bI="IsDisposable",bJ="InsightsEvent",bK="InsightsEvents",bL="IdentityInfo",bM="ImportJobSummary",bN="IspName",bO="InvalidNextTokenException",bP="IdentityName",bQ="InboxPercentage",bR="InboxPlacementTrackingOption",bS="IspPlacement",bT="IsRoleAddress",bU="IamRoleArn",bV="InboxRawCount",bW="IsRandomInput",bX="InternalServiceErrorException",bY="IdentityType",bZ="ImageUrl",b$="Impact",b_="Include",b0="Ip",b1="Isp",b2="JobId",b3="JobStatus",b4="Key",b5="KinesisFirehoseDestination",b6="LastDeliveryEvent",b7="LimitExceededException",b8="LastEngagementEvent",b9="ListManagementOptions",ca="LastSeenDateTime",cb="ListingTime",cc="LastUpdatedTimestamp",cd="LastUpdateTime",ce="Metric",cf="MetricDataError",cg="MetricDataResult",ch="MetricsDataSource",ci="MailboxExists",cj="MatchingEventTypes",ck="MailFromDomainNotVerifiedException",cl="MessageHeader",cm="MessageHeaderList",cn="MessageId",co="MessageInsightsDataSource",cp="MessageInsightsFilters",cq="MissingPercentage",cr="MaxResults",cs="MultiRegionEndpoint",ct="MessageRejected",cu="MessageTagList",cv="MessageTag",cw="Message",cx="Metrics",cy="Namespace",cz="NotFoundException",cA="Name",cB="OverallConfidenceThreshold",cC="OptimizedSharedDelivery",cD="PinpointDestination",cE="ProjectedInbox",cF="PoolName",cG="PrimaryNameServer",cH="ProcessedRecordsCount",cI="PlacementStatistics",cJ="ProjectedSpam",cK="ProjectedVolume",cL="ResourceArn",cM="RawContent",cN="ReviewDetails",cO="ReadDeleteRate",cP="RouteDetails",cQ="ReputationEntity",cR="ReplacementEmailContent",cS="ReputationEntityReference",cT="ReputationEntityType",cU="ReplacementHeaders",cV="ReportId",cW="ReputationImpact",cX="RawMessage",cY="ReputationManagementPolicy",cZ="RblName",c$="ReportName",c_="ReadRate",c0="ReplacementTags",c1="ReplyToAddresses",c2="ReplacementTemplateData",c3="ResourceTenantMetadata",c4="ReplacementTemplate",c5="ResourceType",c6="Raw",c7="Reason",c8="Recommendation",c9="Regions",da="Region",db="Route",dc="Status",dd="SpamCount",de="SuppressionConditionThreshold",df="SuppressionConfidenceThreshold",dg="StartDate",dh="SuppressedDestinationAttributes",di="SuppressedDestinationSummary",dj="SnsDestination",dk="SendEmailRequest",dl="SendEmailResponse",dm="SendingEnabled",dn="SendEmail",dp="SendingIps",dq="SuppressionListDestination",dr="SuppressionListImportAction",ds="SerialNumber",dt="SOARecord",du="SpamPercentage",dv="SendingPausedException",dw="SpfPercentage",dx="SpamRawCount",dy="SuccessRedirectionURL",dz="StatusRecord",dA="SendingStatusAggregate",dB="SubscriptionStartDate",dC="SubscriptionStatus",dD="SuppressionValidationAttributes",dE="SuppressionValidationOptions",dF="Simple",dG="Subject",dH="Text",dI="TenantArn",dJ="TemplateArn",dK="ToAddresses",dL="TopicArn",dM="TemplateContent",dN="TemplateData",dO="TopicDefaultPreferences",dP="TopicFilter",dQ="TenantId",dR="TenantInfo",dS="TrackedIsps",dT="TooManyRequestsException",dU="TemplateName",dV="TenantName",dW="TopicName",dX="TopicPreferences",dY="TopicPreferenceList",dZ="TopicPreference",d$="TenantResource",d_="TemplateSubject",d0="Tag",d1="Template",d2="Timestamp",d3="Timestamps",d4="Topic",d5="Type",d6="UnsubscribeAll",d7="UseDefaultIfPreferenceUnavailable",d8="Value",d9="VolumeStatistics",ea="VerificationStatus",eb="Values",ec="WarmupPercentage",ed="WarmupStatus",ee="client",ef="error",eg="http",eh="httpError",ei="message",ej="server",ek="smithy.ts.sdk.synthetic.com.amazonaws.sesv2",el="com.amazonaws.sesv2";var em=[0,el,"AdditionalContactEmailAddress",8,0],en=[0,el,"EmailSubject",8,0],eo=[0,el,"InsightsEmailAddress",8,0],ep=[-3,el,"AccountSuspendedException",{[ef]:ee,[eh]:400},[ei],[0]];g.O.for(el).registerError(ep,j);var eq=[-3,el,B,{[ef]:ee,[eh]:400},[ei],[0]];g.O.for(el).registerError(eq,k);var er=[3,el,x,0,[cM,T,bu,U,Y,ai,ah],[21,0,0,0,0,0,0]],es=[-3,el,N,{[ef]:ee,[eh]:400},[ei],[0]];g.O.for(el).registerError(es,l);var et=[3,el,M,0,[bF,cy,ce,ay,dg,a3],[0,0,0,128,4,4]],eu=[3,el,J,0,[cZ,cb,aU],[0,4,0]],ev=[3,el,H,0,[dH,bB],[()=>eH,()=>eH]],ew=[3,el,Q,0,[P,O,aA],[0,0,0]],ex=[3,el,K,0,[aV,c0,cR,cU],[()=>eO,()=>f5,()=>fu,()=>f4]],ey=[3,el,L,0,[dc,bk,cn],[0,0,0]],ez=[3,el,aq,0,[aB],[()=>f$]],eA=[3,el,ar,0,[aI,aS,aE],[0,0,0]],eB=[3,el,R,0,[ag,X],[0,0]],eC=[-3,el,ad,{[ef]:ej,[eh]:500},[ei],[0]];g.O.for(el).registerError(eC,q);var eD=[-3,el,W,{[ef]:ee,[eh]:409},[ei],[0]];g.O.for(el).registerError(eD,r);var eE=[3,el,av,0,[aY,dX,dO,d6,cc],[0,()=>f6,()=>f6,2,4]],eF=[3,el,ac,0,[ab,cc],[0,4]],eG=[3,el,_,0,[ab,aa],[0,0]],eH=[3,el,ax,0,[aT,au],[0,0]],eI=[3,el,ao,0,[dU,bp,d_,dy,bw],[0,0,0,0,0]],eJ=[3,el,aR,0,[dg,d9,aG],[4,()=>fW,()=>f_]],eK=[3,el,az,0,[ba],[0]],eL=[3,el,aK,0,[ba],[0]],eM=[3,el,aF,0,[b0,ed,ec,cF],[0,0,1,0]],eN=[3,el,aP,0,[cV,c$,dG,bp,V,aQ],[0,0,0,0,4,0]],eO=[3,el,aV,0,[dK,S,I],[64,64,64]],eP=[3,el,aC,0,[Z,bZ,dG,bo,dp,bx,ca,bG,dd,c_,aM,cO,cK,bl],[0,0,0,0,64,4,4,1,1,1,1,1,1,64]],eQ=[3,el,aD,0,[aX,dB,bR],[0,4,()=>e6]],eR=[3,el,aH,0,[bN,bV,dx,bQ,du],[0,1,1,1,1]],eS=[3,el,a$,0,[bD,bC,ci,bT,bI,bW],[()=>eT,()=>eT,()=>eT,()=>eT,()=>eT,()=>eT]],eT=[3,el,a_,0,[an],[0]],eU=[3,el,a2,0,[dF,c6,d1],[()=>ff,()=>fs,()=>fP]],eV=[3,el,a7,0,[aV,b1,bm],[[()=>eo,0],0,()=>f3]],eW=[3,el,bh,0,[dG,dH,bB],[0,0,0]],eX=[3,el,bi,0,[dU,am],[0,4]],eY=[3,el,a1,0,[a0],[0]],eZ=[3,el,a4,0,[cA,bj,cj,b5,aq,dj,a1,cD],[0,2,64,()=>fb,()=>ez,()=>fE,()=>eY,()=>fq]],e$=[3,el,a5,0,[Q,R],[()=>ew,()=>eB]],e_=[3,el,a9,0,[b2,bf,b3,am,ak],[0,0,0,4,4]],e0=[3,el,bb,0,[cA,F],[0,0]],e1=[3,el,bz,0,[cC],[0]],e2=[3,el,bA,0,[cC],[0]],e3=[3,el,bL,0,[bY,bP,dm,ea],[0,0,2,0]],e4=[3,el,bH,0,[dq,_],[()=>fL,()=>eG]],e5=[3,el,bM,0,[b2,bH,b3,am,cH,bv],[0,()=>e4,0,4,1,1]],e6=[3,el,bR,0,[by,dS],[2,64]],e7=[3,el,bJ,0,[d2,d5,aW],[4,0,()=>e$]],e8=[-3,el,bX,{[ef]:ej,[eh]:500},[ei],[0]];g.O.for(el).registerError(e8,m);var e9=[-3,el,bO,{[ef]:ee,[eh]:400},[ei],[0]];g.O.for(el).registerError(e9,w);var fa=[3,el,bS,0,[bN,cI],[0,()=>fr]],fb=[3,el,b5,0,[bU,aN],[0,0]],fc=[-3,el,b7,{[ef]:ee,[eh]:400},[ei],[0]];g.O.for(el).registerError(fc,s);var fd=[3,el,b9,0,[ab,dW],[0,0]],fe=[-3,el,ck,{[ef]:ee,[eh]:400},[ei],[0]];g.O.for(el).registerError(fe,t);var ff=[3,el,cw,0,[dG,H,bE,G],[()=>eH,()=>ev,()=>f4,()=>fZ]],fg=[3,el,cl,0,[cA,d8],[0,0]],fh=[3,el,co,0,[dg,a3,b_,bn,cr],[4,4,[()=>fi,0],[()=>fi,0],1]],fi=[3,el,cp,0,[bp,aV,dG,b1,b6,b8],[[()=>f0,0],[()=>f0,0],[()=>f1,0],64,64,64]],fj=[-3,el,ct,{[ef]:ee,[eh]:400},[ei],[0]];g.O.for(el).registerError(fj,u);var fk=[3,el,cv,0,[cA,d8],[0,0]],fl=[3,el,cf,0,[bF,aw,cw],[0,0,0]],fm=[3,el,cg,0,[bF,d3,eb],[0,68,65]],fn=[3,el,ch,0,[ay,cy,cx,dg,a3],[[2,el,a6,0,0,64],0,()=>f2,4,4]],fo=[3,el,cs,0,[bd,dc,a8,c9,am,cc],[0,0,0,64,4,4]],fp=[-3,el,cz,{[ef]:ee,[eh]:404},[ei],[0]];g.O.for(el).registerError(fp,o);var fq=[3,el,cD,0,[y],[0]],fr=[3,el,cI,0,[bQ,du,cq,dw,aL],[1,1,1,1,1]],fs=[3,el,cX,0,[aT],[21]],ft=[3,el,c8,0,[cL,d5,aU,dc,am,cc,b$],[0,0,0,0,4,4,0]],fu=[3,el,cR,0,[c4],[()=>fv]],fv=[3,el,c4,0,[c2],[0]],fw=[3,el,cQ,0,[cS,cT,cY,ae,D,dA,cW],[0,0,0,()=>fG,()=>fG,0,0]],fx=[3,el,c3,0,[dV,dQ,cL,E],[0,0,0,4]],fy=[3,el,cN,0,[dc,$],[0,0]],fz=[3,el,db,0,[da],[0]],fA=[3,el,cP,0,[da],[0]],fB=[3,el,dk,0,[bp,bq,aV,c1,br,bs,ax,bg,af,a8,dV,b9],[0,0,()=>eO,64,0,0,()=>eU,()=>f5,0,0,0,()=>fd]],fC=[3,el,dl,0,[cn],[0]],fD=[-3,el,dv,{[ef]:ee,[eh]:400},[ei],[0]];g.O.for(el).registerError(fD,v);var fE=[3,el,dj,0,[dL],[0]],fF=[3,el,dt,0,[cG,A,ds],[0,0,1]],fG=[3,el,dz,0,[dc,at,cc],[0,0,4]],fH=[3,el,dh,0,[cn,bt],[0,0]],fI=[3,el,di,0,[aY,c7,cd],[0,0,4]],fJ=[3,el,de,0,[aj,cB],[0,()=>fK]],fK=[3,el,df,0,[ap],[0]],fL=[3,el,dq,0,[dr],[0]],fM=[3,el,dD,0,[al],[()=>fJ]],fN=[3,el,dE,0,[al],[()=>fJ]],fO=[3,el,d0,0,[b4,d8],[0,0]],fP=[3,el,d1,0,[dU,dJ,dM,dN,bE,G],[0,0,()=>eW,0,()=>f4,()=>fZ]],fQ=[3,el,dR,0,[dV,dQ,dI,am],[0,0,0,4]],fR=[3,el,d$,0,[c5,cL],[0,0]],fS=[-3,el,dT,{[ef]:ee,[eh]:429},[ei],[0]];g.O.for(el).registerError(fS,p);var fT=[3,el,d4,0,[dW,aJ,aU,aO],[0,0,0,0]],fU=[3,el,dP,0,[dW,d7],[0,2]],fV=[3,el,dZ,0,[dW,dC],[0,0]],fW=[3,el,d9,0,[bV,dx,cE,cJ],[1,1,1,1]],fX=[-3,ek,"SESv2ServiceException",0,[],[]];g.O.for(ek).registerError(fX,i);var fY=[1,el,z,8,[()=>em,0]],fZ=[1,el,C,0,()=>er],f$=[1,el,as,0,()=>eA],f_=[1,el,aG,0,()=>eR],f0=[1,el,aZ,0,[()=>eo,0]],f1=[1,el,be,0,[()=>en,0]],f2=[1,el,bc,0,()=>e0],f3=[1,el,bK,0,()=>e7],f4=[1,el,cm,0,()=>fg],f5=[1,el,cu,0,()=>fk],f6=[1,el,dY,0,()=>fV],f7=[9,el,dn,{[eg]:["POST","/v2/email/outbound-emails",200]},()=>fB,()=>fC];class f8 extends e.u.classBuilder().ep({...f.S,EndpointId:{type:"contextParams",name:"EndpointId"}}).m(function(a,b,c,e){return[(0,d.r)(c,a.getEndpointParameterInstructions())]}).s("SimpleEmailService_v2","SendEmail",{}).n("SESv2Client","SendEmailCommand").sc(f7).build(){}},57885:(a,b,c)=>{"use strict";c.d(b,{g:()=>g});var d=c(33873),e=c(33282);let f="AWS_CONFIG_FILE",g=()=>process.env[f]||(0,d.join)((0,e.R)(),".aws","config")},57987:(a,b,c)=>{"use strict";c.d(b,{n:()=>q});let d={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},e={REQUEST_ID:Symbol.for("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol.for("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol.for("_AWS_LAMBDA_TENANT_ID")},f=["true","1"].includes(process.env?.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA??"");f||(globalThis.awslambda=globalThis.awslambda||{});class g{static PROTECTED_KEYS=e;isProtectedKey(a){return Object.values(e).includes(a)}getRequestId(){return this.get(e.REQUEST_ID)??"-"}getXRayTraceId(){return this.get(e.X_RAY_TRACE_ID)}getTenantId(){return this.get(e.TENANT_ID)}}class h extends g{currentContext;getContext(){return this.currentContext}hasContext(){return void 0!==this.currentContext}get(a){return this.currentContext?.[a]}set(a,b){if(this.isProtectedKey(a))throw Error(`Cannot modify protected Lambda context field: ${String(a)}`);this.currentContext=this.currentContext||{},this.currentContext[a]=b}run(a,b){return this.currentContext=a,b()}}class i extends g{als;static async create(){let a=new i;return a.als=new(await Promise.resolve().then(c.t.bind(c,16698,23))).AsyncLocalStorage,a}getContext(){return this.als.getStore()}hasContext(){return void 0!==this.als.getStore()}get(a){return this.als.getStore()?.[a]}set(a,b){if(this.isProtectedKey(a))throw Error(`Cannot modify protected Lambda context field: ${String(a)}`);let c=this.als.getStore();if(!c)throw Error("No context available");c[a]=b}run(a,b){return this.als.run(a,b)}}!function(a){let b=null;a.getInstanceAsync=async function(){return b||(b=(async()=>{let a="AWS_LAMBDA_MAX_CONCURRENCY"in process.env?await i.create():new h;return!f&&globalThis.awslambda?.InvokeStore?globalThis.awslambda.InvokeStore:(!f&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=a),a)})()),b},a._testing="1"===process.env.AWS_LAMBDA_BENCHMARK_MODE?{reset:()=>{b=null,globalThis.awslambda?.InvokeStore&&delete globalThis.awslambda.InvokeStore,globalThis.awslambda={}}}:void 0}(j||(j={}));var j,k=c(15796);let l="X-Amzn-Trace-Id",m="AWS_LAMBDA_FUNCTION_NAME",o="_X_AMZN_TRACE_ID",p=()=>a=>async b=>{let{request:c}=b;if(!k.K.isInstance(c))return a(b);let d=Object.keys(c.headers??{}).find(a=>a.toLowerCase()===l.toLowerCase())??l;if(c.headers.hasOwnProperty(d))return a(b);let e=process.env[m],f=process.env[o],g=await j.getInstanceAsync(),h=g?.getXRayTraceId()??f,i=a=>"string"==typeof a&&a.length>0;return i(e)&&i(h)&&(c.headers[l]=h),a({...b,request:c})},q=a=>({applyToStack:a=>{a.add(p(),d)}})},58220:(a,b,c)=>{"use strict";c.d(b,{F:()=>d});class d{from;to;keys;constructor(a,b){this.from=a,this.to=b,this.keys=new Set(Object.keys(this.from).filter(a=>"__type"!==a))}mark(a){this.keys.delete(a)}hasUnknown(){return 1===this.keys.size&&0===Object.keys(this.to).length}writeUnknown(){if(this.hasUnknown()){let a=this.keys.values().next().value,b=this.from[a];this.to.$unknown=[a,b]}}}},58412:(a,b,c)=>{"use strict";function d(a){let b={};if(a=a.replace(/^\?/,""))for(let c of a.split("&")){let[a,d=null]=c.split("=");a=decodeURIComponent(a),d&&(d=decodeURIComponent(d)),a in b?Array.isArray(b[a])?b[a].push(d):b[a]=[b[a],d]:b[a]=d}return b}c.d(b,{D:()=>e});let e=a=>{let b;if("string"==typeof a)return e(new URL(a));let{hostname:c,pathname:f,port:g,protocol:h,search:i}=a;return i&&(b=d(i)),{hostname:c,port:g?parseInt(g):void 0,protocol:h,path:f,query:b}}},58468:function(a){!function(b,c){a.exports=c()}(0,function(){var a=[],b=[],c={},d={},e={};function f(a){return"string"==typeof a?RegExp("^"+a+"$","i"):a}function g(a,b){return a===b?b:a===a.toLowerCase()?b.toLowerCase():a===a.toUpperCase()?b.toUpperCase():a[0]===a[0].toUpperCase()?b.charAt(0).toUpperCase()+b.substr(1).toLowerCase():b.toLowerCase()}function h(a,b){return a.replace(/\$(\d{1,2})/g,function(a,c){return b[c]||""})}function i(a,b){return a.replace(b[0],function(c,d){var e=h(b[1],arguments);return""===c?g(a[d-1],e):g(c,e)})}function j(a,b,d){if(!a.length||c.hasOwnProperty(a))return b;for(var e=d.length;e--;){var f=d[e];if(f[0].test(b))return i(b,f)}return b}function k(a,b,c){return function(d){var e=d.toLowerCase();return b.hasOwnProperty(e)?g(d,e):a.hasOwnProperty(e)?g(d,a[e]):j(e,d,c)}}function l(a,b,c,d){return function(d){var e=d.toLowerCase();return!!b.hasOwnProperty(e)||!a.hasOwnProperty(e)&&j(e,e,c)===e}}function m(a,b,c){var d=1===b?m.singular(a):m.plural(a);return(c?b+" ":"")+d}return m.plural=k(e,d,a),m.isPlural=l(e,d,a),m.singular=k(d,e,b),m.isSingular=l(d,e,b),m.addPluralRule=function(b,c){a.push([f(b),c])},m.addSingularRule=function(a,c){b.push([f(a),c])},m.addUncountableRule=function(a){if("string"==typeof a){c[a.toLowerCase()]=!0;return}m.addPluralRule(a,"$0"),m.addSingularRule(a,"$0")},m.addIrregularRule=function(a,b){b=b.toLowerCase(),e[a=a.toLowerCase()]=b,d[b]=a},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(a){return m.addIrregularRule(a[0],a[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(a){return m.addPluralRule(a[0],a[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(a){return m.addSingularRule(a[0],a[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[e]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(m.addUncountableRule),m})},58609:(a,b,c)=>{"use strict";c.d(b,{a:()=>g});var d=c(10631),e=c(23042),f=c(37745);let g=async({id:a,config:b,payload:c,published:g,query:h,req:i})=>{let j,k=g?{and:[{parent:{equals:a}},{"version._status":{equals:"published"}}]}:{and:[{parent:{equals:a}},{latest:{equals:!0}}]};if((0,e.gD)(b)){let{docs:a}=await c.db.findVersions({collection:b.slug,limit:1,locale:i?.locale||h.locale,pagination:!1,req:i,sort:"-updatedAt",where:(0,d.m)((0,f.D)(h.where),k)});j=a[0]}return j?(j.version.id=a,j.version):g?void 0:await c.db.findOne({...h,req:i})??void 0}},58649:(a,b,c)=>{"use strict";var d=c(7494);function e(a){if(!(this instanceof e))return new e(a);d(this,p(a))}a.exports=e;var f=["seconds","minutes","hours","days","months","years"];e.prototype.toPostgres=function(){var a=f.filter(this.hasOwnProperty,this);return(this.milliseconds&&0>a.indexOf("seconds")&&a.push("seconds"),0===a.length)?"0":a.map(function(a){var b=this[a]||0;return"seconds"===a&&this.milliseconds&&(b=(b+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),b+" "+a},this).join(" ")};var g={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},h=["years","months","days"],i=["hours","minutes","seconds"];e.prototype.toISOString=e.prototype.toISO=function(){return"P"+h.map(a,this).join("")+"T"+i.map(a,this).join("");function a(a){var b=this[a]||0;return"seconds"===a&&this.milliseconds&&(b=(b+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),b+g[a]}};var j="([+-]?\\d+)",k=new RegExp([j+"\\s+years?",j+"\\s+mons?",j+"\\s+days?","([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?"].map(function(a){return"("+a+")?"}).join("\\s*")),l={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},m=["hours","minutes","seconds","milliseconds"];function o(a){return parseInt(a+"000000".slice(a.length),10)/1e3}function p(a){if(!a)return{};var b=k.exec(a),c="-"===b[8];return Object.keys(l).reduce(function(a,d){var e=b[l[d]];return e&&(e="milliseconds"===d?o(e):parseInt(e,10))&&(c&&~m.indexOf(d)&&(e*=-1),a[d]=e),a},{})}},58754:(a,b,c)=>{"use strict";function d(a){let b,c;if(!a)return null;let d="string"==typeof a?a:a.path;return d.includes("#")?[b,c]=d.split("#",2):(b=d,c="default"),"object"==typeof a&&a.exportName&&(c=a.exportName),{exportName:c,path:b}}c.d(b,{R:()=>d})},58818:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Writer=void 0;class c{constructor(a=256){this.size=a,this.offset=5,this.headerPosition=0,this.buffer=Buffer.allocUnsafe(a)}ensure(a){if(this.buffer.length-this.offset<a){let b=this.buffer,c=b.length+(b.length>>1)+a;this.buffer=Buffer.allocUnsafe(c),b.copy(this.buffer)}}addInt32(a){return this.ensure(4),this.buffer[this.offset++]=a>>>24&255,this.buffer[this.offset++]=a>>>16&255,this.buffer[this.offset++]=a>>>8&255,this.buffer[this.offset++]=a>>>0&255,this}addInt16(a){return this.ensure(2),this.buffer[this.offset++]=a>>>8&255,this.buffer[this.offset++]=a>>>0&255,this}addCString(a){if(a){let b=Buffer.byteLength(a);this.ensure(b+1),this.buffer.write(a,this.offset,"utf-8"),this.offset+=b}else this.ensure(1);return this.buffer[this.offset++]=0,this}addString(a=""){let b=Buffer.byteLength(a);return this.ensure(b),this.buffer.write(a,this.offset),this.offset+=b,this}add(a){return this.ensure(a.length),a.copy(this.buffer,this.offset),this.offset+=a.length,this}join(a){if(a){this.buffer[this.headerPosition]=a;let b=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(b,this.headerPosition+1)}return this.buffer.slice(5*!a,this.offset)}flush(a){let b=this.join(a);return this.offset=5,this.headerPosition=0,this.buffer=Buffer.allocUnsafe(this.size),b}}b.Writer=c},58865:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(47934),e=c(34414),f=c(26582),g=c(78006);b.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,d.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,d._)`{limit: ${a}}`},code(a){let{schema:b,parentSchema:c,it:d}=a,{prefixItems:h}=c;d.items=!0,(0,e.alwaysValidSchema)(d,b)||(h?(0,g.validateAdditionalItems)(a,h):a.ok((0,f.validateArray)(a)))}}},58909:(a,b)=>{"use strict";var c;Object.defineProperty(b,"__esModule",{value:!0}),b.DiscrError=void 0,function(a){a.Tag="tag",a.Mapping="mapping"}(c||(b.DiscrError=c={}))},59343:a=>{"use strict";a.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOriginalDispatch:Symbol("original dispatch"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected"),kIgnoreTrailingSlash:Symbol("ignore trailing slash"),kMockAgentMockCallHistoryInstance:Symbol("mock agent mock call history name"),kMockAgentRegisterCallHistory:Symbol("mock agent register mock call history"),kMockAgentAddCallHistoryLog:Symbol("mock agent add call history log"),kMockAgentIsCallHistoryEnabled:Symbol("mock agent is call history enabled"),kMockAgentAcceptsNonStandardSearchParameters:Symbol("mock agent accepts non standard search parameters"),kMockCallHistoryAddLog:Symbol("mock call history add log")}},59381:(a,b,c)=>{"use strict";let d=c(27910).Transform;class e extends d{constructor(a){super(a),this.lastBytes=Buffer.alloc(4),this.headersParsed=!1,this.headerBytes=0,this.headerChunks=[],this.rawHeaders=!1,this.bodySize=0}updateLastBytes(a){let b=this.lastBytes.length,c=Math.min(a.length,b);for(let a=0,d=b-c;a<d;a++)this.lastBytes[a]=this.lastBytes[a+c];for(let d=1;d<=c;d++)this.lastBytes[b-d]=a[a.length-d]}checkHeaders(a){if(this.headersParsed)return!0;let b=this.lastBytes.length,c=0;this.curLinePos=0;for(let d=0,e=this.lastBytes.length+a.length;d<e;d++){let e;if(10===(e=d<b?this.lastBytes[d]:a[d-b])&&d){let e=d-1<b?this.lastBytes[d-1]:a[d-1-b],f=d>1&&(d-2<b?this.lastBytes[d-2]:a[d-2-b]);if(10===e||13===e&&10===f){this.headersParsed=!0,c=d-b+1,this.headerBytes+=c;break}}}if(this.headersParsed){if(this.headerChunks.push(a.slice(0,c)),this.rawHeaders=Buffer.concat(this.headerChunks,this.headerBytes),this.headerChunks=null,this.emit("headers",this.parseHeaders()),a.length-1>c){let b=a.slice(c);this.bodySize+=b.length,setImmediate(()=>this.push(b))}return!1}return this.headerBytes+=a.length,this.headerChunks.push(a),this.updateLastBytes(a),!1}_transform(a,b,c){let d;if(!a||!a.length)return c();"string"==typeof a&&(a=Buffer.from(a,b));try{d=this.checkHeaders(a)}catch(a){return c(a)}d&&(this.bodySize+=a.length,this.push(a)),setImmediate(c)}_flush(a){if(this.headerChunks){let a=Buffer.concat(this.headerChunks,this.headerBytes);this.bodySize+=a.length,this.push(a),this.headerChunks=null}a()}parseHeaders(){let a=(this.rawHeaders||"").toString().split(/\r?\n/);for(let b=a.length-1;b>0;b--)/^\s/.test(a[b])&&(a[b-1]+="\n"+a[b],a.splice(b,1));return a.filter(a=>a.trim()).map(a=>({key:a.substr(0,a.indexOf(":")).trim().toLowerCase(),line:a}))}}a.exports=e},59476:(a,b,c)=>{"use strict";c.d(b,{GG:()=>f,zH:()=>g});let d="AWS_REGION",e="region",f={environmentVariableSelector:a=>a[d],configFileSelector:a=>a[e],default:()=>{throw Error("Region is missing")}},g={preferredFile:"credentials"}},59497:(a,b,c)=>{"use strict";c.d(b,{B:()=>d});let d=(a,b,c)=>{let d,e,f,g=!1,h=async()=>{e||(e=a());try{d=await e,f=!0,g=!1}finally{e=void 0}return d};return void 0===b?async a=>((!f||a?.forceRefresh)&&(d=await h()),d):async a=>((!f||a?.forceRefresh)&&(d=await h()),g||(c&&!c(d)?g=!0:b(d)&&await h()),d)}},59540:(a,b,c)=>{"use strict";c.d(b,{c:()=>d});let d=({block:a,select:b,selectMode:c})=>{if("object"==typeof b){let d=c,e={...b}[a.slug];return"exclude"===c&&!1===e?(d="include",e={id:!0,blockType:!0}):"include"===c&&(e||(e={}),"object"==typeof e&&((e={...e}).id=!0,e.blockType=!0)),{blockSelect:e,blockSelectMode:d}}return{blockSelect:b,blockSelectMode:c}}},59626:(a,b,c)=>{"use strict";c.d(b,{OV:()=>e,TC:()=>h});var d=c(15796);function e(a){return a}let f=a=>b=>async c=>{if(!d.K.isInstance(c.request))return b(c);let{request:e}=c,{handlerProtocol:f=""}=a.requestHandler.metadata||{};if(f.indexOf("h2")>=0&&!e.headers[":authority"])delete e.headers.host,e.headers[":authority"]=e.hostname+(e.port?":"+e.port:"");else if(!e.headers.host){let a=e.hostname;null!=e.port&&(a+=`:${e.port}`),e.headers.host=a}return b(c)},g={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},h=a=>({applyToStack:b=>{b.add(f(a),g)}})},59854:(a,b,c)=>{"use strict";a.exports=c(73343)},60133:(a,b,c)=>{"use strict";c.d(b,{v:()=>d});let d=({err:a,payload:b})=>{let c="error";if(a&&"object"==typeof a&&"name"in a&&"string"==typeof a.name&&void 0!==b.config.loggingLevels[a.name]&&(c=b.config.loggingLevels[a.name]),c){let d={};"info"===c?d.msg="object"==typeof a&&"message"in a?a.message:"Error":d.err=a,b.logger[c](d)}}},60175:(a,b,c)=>{"use strict";c.d(b,{Z:()=>p});var d=c(59497),e=c(76552),f=c(64262);function g(a){try{let b=new Set(Array.from(a.match(/([A-Z_]){3,}/g)??[]));return b.delete("CONFIG"),b.delete("CONFIG_PREFIX_SEPARATOR"),b.delete("ENV"),[...b].join(", ")}catch(b){return a}}let h=(a,b)=>async()=>{try{let c=a(process.env,b);if(void 0===c)throw Error();return c}catch(c){throw new f.C(c.message||`Not found in ENV: ${g(a.toString())}`,{logger:b?.logger})}};var i=c(55042),j=c(63882);let k=(a,{preferredFile:b="config",...c}={})=>async()=>{let d=(0,i.Bz)(c),{configFile:e,credentialsFile:h}=await (0,j.p)(c),k=h[d]||{},l=e[d]||{},m="config"===b?{...k,...l}:{...l,...k};try{let c="config"===b?e:h,d=a(m,c);if(void 0===d)throw Error();return d}catch(b){throw new f.C(b.message||`Not found in config files w/ profile [${d}]: ${g(a.toString())}`,{logger:c.logger})}},l=a=>()=>Promise.resolve(a),m=a=>"function"==typeof a,o=a=>m(a)?async()=>await a():l(a),p=({environmentVariableSelector:a,configFileSelector:b,default:c},f={})=>{let{signingName:g,logger:i}=f,j={signingName:g,logger:i};return(0,d.B)((0,e.c)(h(a,j),k(b,f),o(c)))}},60203:a=>{"use strict";a.exports={version:"9.14.0"}},60629:(a,b,c)=>{"use strict";function d(a){if("object"==typeof a)return a;a|=0;let b={},c=0;for(let d of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(a>>c++&1)==1&&(b[d]=1);return b}c.d(b,{c:()=>d})},60647:(a,b,c)=>{"use strict";let d=c(72953),e=c(34959),{ClientDestroyedError:f,ClientClosedError:g,InvalidArgumentError:h}=c(64737),{kDestroy:i,kClose:j,kClosed:k,kDestroyed:l,kDispatch:m}=c(10257),o=Symbol("onDestroyed"),p=Symbol("onClosed");class q extends d{constructor(){super(),this[l]=!1,this[o]=null,this[k]=!1,this[p]=[]}get destroyed(){return this[l]}get closed(){return this[k]}close(a){if(void 0===a)return new Promise((a,b)=>{this.close((c,d)=>c?b(c):a(d))});if("function"!=typeof a)throw new h("invalid callback");if(this[l])return void queueMicrotask(()=>a(new f,null));if(this[k])return void(this[p]?this[p].push(a):queueMicrotask(()=>a(null,null)));this[k]=!0,this[p].push(a);let b=()=>{let a=this[p];this[p]=null;for(let b=0;b<a.length;b++)a[b](null,null)};this[j]().then(()=>this.destroy()).then(()=>{queueMicrotask(b)})}destroy(a,b){if("function"==typeof a&&(b=a,a=null),void 0===b)return new Promise((b,c)=>{this.destroy(a,(a,d)=>a?c(a):b(d))});if("function"!=typeof b)throw new h("invalid callback");if(this[l])return void(this[o]?this[o].push(b):queueMicrotask(()=>b(null,null)));a||(a=new f),this[l]=!0,this[o]=this[o]||[],this[o].push(b);let c=()=>{let a=this[o];this[o]=null;for(let b=0;b<a.length;b++)a[b](null,null)};this[i](a).then(()=>{queueMicrotask(c)})}dispatch(a,b){if(!b||"object"!=typeof b)throw new h("handler must be an object");b=e.unwrap(b);try{if(!a||"object"!=typeof a)throw new h("opts must be an object.");if(this[l]||this[o])throw new f;if(this[k])throw new g;return this[m](a,b)}catch(a){if("function"!=typeof b.onError)throw a;return b.onError(a),!1}}}a.exports=q},60676:a=>{"use strict";a.exports=(a,b)=>{if(!a.meta||"escape"===a.name){if(a.ctrl){if("a"===a.name)return"first";if("c"===a.name||"d"===a.name)return"abort";if("e"===a.name)return"last";if("g"===a.name)return"reset"}if(b){if("j"===a.name)return"down";if("k"===a.name)return"up"}return"return"===a.name||"enter"===a.name?"submit":"backspace"===a.name?"delete":"delete"===a.name?"deleteForward":"abort"===a.name?"abort":"escape"===a.name?"exit":"tab"===a.name?"next":"pagedown"===a.name?"nextPage":"pageup"===a.name?"prevPage":"home"===a.name?"home":"end"===a.name?"end":"up"===a.name?"up":"down"===a.name?"down":"right"===a.name?"right":"left"===a.name&&"left"}}},60774:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.contentVocabulary=b.metadataVocabulary=void 0,b.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],b.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},61213:(a,b,c)=>{"use strict";c.d(b,{D4:()=>h,lF:()=>g});var d=c(4573),e=c(71656);function f(a){let b=a;return b instanceof Uint8Array&&(b=e.D0.decode(b)),b}let g=a=>d.Buffer.from(a).toString("base64url"),h=a=>new Uint8Array(d.Buffer.from(f(a),"base64url"))},61231:(a,b,c)=>{"use strict";c.d(b,{Y:()=>R});var d=c(20674),e=c(60629);function f(a,b,c){if(c<=0||!Number.isInteger(c))throw Error("Invalid number of delimiters ("+c+") for splitEvery.");let d=a.split(b);if(1===c)return d;let e=[],f="";for(let a=0;a<d.length;a++)""===f?f=d[a]:f+=b+d[a],(a+1)%c==0&&(e.push(f),f="");return""!==f&&e.push(f),e}var g=c(23329),h=c(15796),i=c(39769),j=c(53070),k=c(46360),l=c(91959);class m extends l.t{async serializeRequest(a,b,c){let f,g={...b??{}},i=this.serializer,j={},l={},m=await c.endpoint(),o=d.l.of(a?.input),p=o.getSchema(),q=!1,r=new h.K({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:j,headers:l,body:void 0});if(m){this.updateServiceEndpoint(r,m),this.setHostPrefix(r,a,g);let b=(0,e.c)(a.traits);if(b.http){r.method=b.http[0];let[a,c]=b.http[1].split("?");"/"==r.path?r.path=a:r.path+=a,Object.assign(j,Object.fromEntries(new URLSearchParams(c??"")))}}for(let[a,b]of o.structIterator()){let c=b.getMergedTraits()??{},d=g[a];if(null!=d||b.isIdempotencyToken())if(c.httpPayload)b.isStreaming()?b.isStructSchema()?g[a]&&(f=await this.serializeEventStream({eventStream:g[a],requestSchema:o})):f=d:(i.write(b,d),f=i.flush()),delete g[a];else if(c.httpLabel){i.write(b,d);let c=i.flush();r.path.includes(`{${a}+}`)?r.path=r.path.replace(`{${a}+}`,c.split("/").map(k.$).join("/")):r.path.includes(`{${a}}`)&&(r.path=r.path.replace(`{${a}}`,(0,k.$)(c))),delete g[a]}else if(c.httpHeader)i.write(b,d),l[c.httpHeader.toLowerCase()]=String(i.flush()),delete g[a];else if("string"==typeof c.httpPrefixHeaders){for(let[a,e]of Object.entries(d)){let d=c.httpPrefixHeaders+a;i.write([b.getValueSchema(),{httpHeader:d}],e),l[d.toLowerCase()]=i.flush()}delete g[a]}else c.httpQuery||c.httpQueryParams?(this.serializeQuery(b,d,j),delete g[a]):q=!0}return q&&g&&(i.write(p,g),f=i.flush()),r.headers=l,r.query=j,r.body=f,r}serializeQuery(a,b,c){let d=this.serializer,e=a.getMergedTraits();if(e.httpQueryParams){for(let[d,f]of Object.entries(b))if(!(d in c)){let b=a.getValueSchema();Object.assign(b.getMergedTraits(),{...e,httpQuery:d,httpQueryParams:void 0}),this.serializeQuery(b,f,c)}return}if(a.isListSchema()){let f=!!a.getMergedTraits().sparse,g=[];for(let c of b){d.write([a.getValueSchema(),e],c);let b=d.flush();(f||void 0!==b)&&g.push(b)}c[e.httpQuery]=g}else d.write([a,e],b),c[e.httpQuery]=d.flush()}async deserializeResponse(a,b,c){let e=this.deserializer,f=d.l.of(a.output),g={};if(c.statusCode>=300){let d=await (0,j.P)(c.body,b);throw d.byteLength>0&&Object.assign(g,await e.read(15,d)),await this.handleError(a,b,c,g,this.deserializeMetadata(c)),Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let a in c.headers){let b=c.headers[a];delete c.headers[a],c.headers[a.toLowerCase()]=b}let h=await this.deserializeHttpMessage(f,b,c,g);if(h.length){let a=await (0,j.P)(c.body,b);if(a.byteLength>0){let b=await e.read(f,a);for(let a of h)g[a]=b[a]}}else h.discardResponseBody&&await (0,j.P)(c.body,b);return g.$metadata=this.deserializeMetadata(c),g}async deserializeHttpMessage(a,b,c,e,h){let k;k=e instanceof Set?h:e;let l=!0,m=this.deserializer,o=d.l.of(a),p=[];for(let[a,d]of o.structIterator()){let e=d.getMemberTraits();if(e.httpPayload){if(l=!1,d.isStreaming())d.isStructSchema()?k[a]=await this.deserializeEventStream({response:c,responseSchema:o}):k[a]=(0,i.c)(c.body);else if(c.body){let e=await (0,j.P)(c.body,b);e.byteLength>0&&(k[a]=await m.read(d,e))}}else if(e.httpHeader){let b=String(e.httpHeader).toLowerCase(),h=c.headers[b];if(null!=h)if(d.isListSchema()){let c=d.getValueSchema();c.getMergedTraits().httpHeader=b;let e=[];for(let a of c.isTimestampSchema()&&4===c.getSchema()?f(h,",",2):(0,g.G)(h))e.push(await m.read(c,a.trim()));k[a]=e}else k[a]=await m.read(d,h)}else if(void 0!==e.httpPrefixHeaders){for(let[b,f]of(k[a]={},Object.entries(c.headers)))if(b.startsWith(e.httpPrefixHeaders)){let c=d.getValueSchema();c.getMergedTraits().httpHeader=b,k[a][b.slice(e.httpPrefixHeaders.length)]=await m.read(c,f)}}else e.httpResponseCode?k[a]=c.statusCode:p.push(a)}return p.discardResponseBody=l,p}}var o=c(5318);function p(a){return(a.includes(",")||a.includes('"'))&&(a=`"${a.replace(/"/g,'\\"')}"`),a}var q=c(14840),r=c(81529),s=c(73891),t=c(32151),u=c(75981);class v extends t.f{settings;stringBuffer="";constructor(a){super(),this.settings=a}write(a,b){let c=d.l.of(a);switch(typeof b){case"object":if(null===b){this.stringBuffer="null";return}if(c.isTimestampSchema()){if(!(b instanceof Date))throw Error(`@smithy/core/protocols - received non-Date value ${b} when schema expected Date in ${c.getName(!0)}`);switch((0,u.V)(c,this.settings)){case 5:this.stringBuffer=b.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=(0,o.JV)(b);break;case 7:this.stringBuffer=String(b.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",b),this.stringBuffer=String(b.getTime()/1e3)}return}if(c.isBlobSchema()&&"byteLength"in b){this.stringBuffer=(this.serdeContext?.base64Encoder??s.n)(b);return}if(c.isListSchema()&&Array.isArray(b)){let a="";for(let d of b){this.write([c.getValueSchema(),c.getMergedTraits()],d);let b=this.flush();""!==a&&(a+=", "),a+=c.getValueSchema().isTimestampSchema()?b:p(b)}this.stringBuffer=a;return}this.stringBuffer=JSON.stringify(b,null,2);break;case"string":let e=c.getMergedTraits().mediaType,f=b;if(e&&(("application/json"===e||e.endsWith("+json"))&&(f=q.A.from(f)),c.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??s.n)(f.toString());return}this.stringBuffer=b;break;default:c.isIdempotencyToken()?this.stringBuffer=(0,r.v4)():this.stringBuffer=String(b)}}flush(){let a=this.stringBuffer;return this.stringBuffer="",a}}class w{codecSerializer;stringSerializer;buffer;constructor(a,b,c=new v(b)){this.codecSerializer=a,this.stringSerializer=c}setSerdeContext(a){this.codecSerializer.setSerdeContext(a),this.stringSerializer.setSerdeContext(a)}write(a,b){let c=d.l.of(a),e=c.getMergedTraits();if(e.httpHeader||e.httpLabel||e.httpQuery){this.stringSerializer.write(c,b),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(c,b)}flush(){if(void 0!==this.buffer){let a=this.buffer;return this.buffer=void 0,a}return this.codecSerializer.flush()}}var x=c(38756),y=c(38353),z=c(28362);class A extends t.f{codecDeserializer;stringDeserializer;constructor(a,b){super(),this.codecDeserializer=a,this.stringDeserializer=new z.k(b)}setSerdeContext(a){this.stringDeserializer.setSerdeContext(a),this.codecDeserializer.setSerdeContext(a),this.serdeContext=a}read(a,b){let c=d.l.of(a),e=c.getMergedTraits(),f=this.serdeContext?.utf8Encoder??x.P;if(e.httpHeader||e.httpResponseCode)return this.stringDeserializer.read(c,f(b));if(e.httpPayload){if(c.isBlobSchema()){let a=this.serdeContext?.utf8Decoder??y.a;return"string"==typeof b?a(b):b}else if(c.isStringSchema())return"byteLength"in b?f(b):b}return this.codecDeserializer.read(c,b)}}var B=c(33078),C=c(11181),D=c(22765),E=c(67557),F=c(46734),G=c(23068),H=c(58220);function I(a,b,c){if(c?.source){let a=c.source;if("number"==typeof b&&(b>Number.MAX_SAFE_INTEGER||b<Number.MIN_SAFE_INTEGER||a!==String(b)))return a.includes(".")?new E.D(a,"bigDecimal"):BigInt(a)}return b}let J=(a,b)=>(0,j.P)(a,b).then(a=>(b?.utf8Encoder??x.P)(a)),K=(a,b)=>J(a,b).then(a=>{if(a.length)try{return JSON.parse(a)}catch(b){throw b?.name==="SyntaxError"&&Object.defineProperty(b,"$responseBodyText",{value:a}),b}return{}}),L=(a,b)=>{let c=(a,b)=>Object.keys(a).find(a=>a.toLowerCase()===b.toLowerCase()),d=a=>{let b=a;return"number"==typeof b&&(b=b.toString()),b.indexOf(",")>=0&&(b=b.split(",")[0]),b.indexOf(":")>=0&&(b=b.split(":")[0]),b.indexOf("#")>=0&&(b=b.split("#")[1]),b},e=c(a.headers,"x-amzn-errortype");if(void 0!==e)return d(a.headers[e]);if(b&&"object"==typeof b){let a=c(b,"code");if(a&&void 0!==b[a])return d(b[a]);if(void 0!==b.__type)return d(b.__type)}};class M extends D.B{settings;constructor(a){super(),this.settings=a}async read(a,b){return this._read(a,"string"==typeof b?JSON.parse(b,I):await K(b,this.serdeContext))}readObject(a,b){return this._read(a,b)}_read(a,b){let c=null!==b&&"object"==typeof b,e=d.l.of(a);if(c){if(e.isStructSchema()){let a,c=e.isUnionSchema(),d={};for(let[f,g]of(c&&(a=new H.F(b,d)),(0,G.G)(e,b,!!this.settings.jsonName&&"jsonName"))){let e=this.settings.jsonName?g.getMergedTraits().jsonName??f:f;c&&a.mark(e),null!=b[e]&&(d[f]=this._read(g,b[e]))}return c&&a.writeUnknown(),d}if(Array.isArray(b)&&e.isListSchema()){let a=e.getValueSchema(),c=[],d=!!e.getMergedTraits().sparse;for(let e of b)(d||null!=e)&&c.push(this._read(a,e));return c}if(e.isMapSchema()){let a=e.getValueSchema(),c={},d=!!e.getMergedTraits().sparse;for(let[e,f]of Object.entries(b))(d||null!=f)&&(c[e]=this._read(a,f));return c}}if(e.isBlobSchema()&&"string"==typeof b)return(0,F.E)(b);let f=e.getMergedTraits().mediaType;if(e.isStringSchema()&&"string"==typeof b&&f)return"application/json"===f||f.endsWith("+json")?q.A.from(b):b;if(e.isTimestampSchema()&&null!=b)switch((0,u.V)(e,this.settings)){case 5:return(0,o.t_)(b);case 6:return(0,o.xE)(b);case 7:return(0,o.l3)(b);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",b),new Date(b)}if(e.isBigIntegerSchema()&&("number"==typeof b||"string"==typeof b))return BigInt(b);if(e.isBigDecimalSchema()&&void 0!=b){if(b instanceof E.D)return b;let a=b;return"bigDecimal"===a.type&&"string"in a?new E.D(a.string,a.type):new E.D(String(b),"bigDecimal")}if(e.isNumericSchema()&&"string"==typeof b){switch(b){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return b}if(e.isDocumentSchema())if(!c)return structuredClone(b);else{let a=Array.isArray(b)?[]:{};for(let[c,d]of Object.entries(b))d instanceof E.D?a[c]=d:a[c]=this._read(e,d);return a}return b}}let N=String.fromCharCode(925);class O{values=new Map;counter=0;stage=0;createReplacer(){if(1===this.stage)throw Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(2===this.stage)throw Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(a,b)=>{if(b instanceof E.D){let a=`${N+"nv"+this.counter++}_`+b.string;return this.values.set(`"${a}"`,b.string),a}if("bigint"==typeof b){let a=b.toString(),c=`${N+"b"+this.counter++}_`+a;return this.values.set(`"${c}"`,a),c}return b}}replaceInJson(a){if(0===this.stage)throw Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(2===this.stage)throw Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,0===this.counter)return a;for(let[b,c]of this.values)a=a.replace(b,c);return a}}class P extends D.B{settings;buffer;useReplacer=!1;rootSchema;constructor(a){super(),this.settings=a}write(a,b){this.rootSchema=d.l.of(a),this.buffer=this._write(this.rootSchema,b)}writeDiscriminatedDocument(a,b){this.write(a,b),"object"==typeof this.buffer&&(this.buffer.__type=d.l.of(a).getName(!0))}flush(){let{rootSchema:a,useReplacer:b}=this;if(this.rootSchema=void 0,this.useReplacer=!1,a?.isStructSchema()||a?.isDocumentSchema()){if(!b)return JSON.stringify(this.buffer);let a=new O;return a.replaceInJson(JSON.stringify(this.buffer,a.createReplacer(),0))}return this.buffer}_write(a,b,c){let e=null!==b&&"object"==typeof b,f=d.l.of(a);if(e){if(f.isStructSchema()){let a={};for(let[c,d]of(0,G.R)(f,b)){let e=this._write(d,b[c],f);if(void 0!==e){let b=d.getMergedTraits().jsonName;a[this.settings.jsonName?b??c:c]=e}}if(f.isUnionSchema()&&0===Object.keys(a).length){let{$unknown:c}=b;if(Array.isArray(c)){let[b,d]=c;a[b]=this._write(15,d)}}return a}if(Array.isArray(b)&&f.isListSchema()){let a=f.getValueSchema(),c=[],d=!!f.getMergedTraits().sparse;for(let e of b)(d||null!=e)&&c.push(this._write(a,e));return c}if(f.isMapSchema()){let a=f.getValueSchema(),c={},d=!!f.getMergedTraits().sparse;for(let[e,f]of Object.entries(b))(d||null!=f)&&(c[e]=this._write(a,f));return c}if(b instanceof Uint8Array&&(f.isBlobSchema()||f.isDocumentSchema()))return f===this.rootSchema?b:(this.serdeContext?.base64Encoder??s.n)(b);if(b instanceof Date&&(f.isTimestampSchema()||f.isDocumentSchema()))switch((0,u.V)(f,this.settings)){case 5:return b.toISOString().replace(".000Z","Z");case 6:return(0,o.JV)(b);case 7:return b.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",b),b.getTime()/1e3}b instanceof E.D&&(this.useReplacer=!0)}if(!(null===b&&c?.isStructSchema())){if(f.isStringSchema()){if(void 0===b&&f.isIdempotencyToken())return(0,r.v4)();let a=f.getMergedTraits().mediaType;return null!=b&&a&&("application/json"===a||a.endsWith("+json"))?q.A.from(b):b}if("number"==typeof b&&f.isNumericSchema())return Math.abs(b)===1/0||isNaN(b)?String(b):b;if("string"==typeof b&&f.isBlobSchema())return f===this.rootSchema?b:(this.serdeContext?.base64Encoder??s.n)(b);if("bigint"==typeof b&&(this.useReplacer=!0),f.isDocumentSchema())if(!e)return structuredClone(b);else{let a=Array.isArray(b)?[]:{};for(let[c,d]of Object.entries(b))d instanceof E.D?(this.useReplacer=!0,a[c]=d):a[c]=this._write(f,d);return a}return b}}}class Q extends D.B{settings;constructor(a){super(),this.settings=a}createSerializer(){let a=new P(this.settings);return a.setSerdeContext(this.serdeContext),a}createDeserializer(){let a=new M(this.settings);return a.setSerdeContext(this.serdeContext),a}}class R extends m{serializer;deserializer;codec;mixin=new C.U;constructor({defaultNamespace:a}){super({defaultNamespace:a});let b={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new Q(b),this.serializer=new w(this.codec.createSerializer(),b),this.deserializer=new A(this.codec.createDeserializer(),b)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(a){this.codec.setSerdeContext(a),super.setSerdeContext(a)}async serializeRequest(a,b,c){let e=await super.serializeRequest(a,b,c),f=d.l.of(a.input);if(!e.headers["content-type"]){let a=this.mixin.resolveRestContentType(this.getDefaultContentType(),f);a&&(e.headers["content-type"]=a)}return null==e.body&&e.headers["content-type"]===this.getDefaultContentType()&&(e.body="{}"),e}async deserializeResponse(a,b,c){let e=await super.deserializeResponse(a,b,c);for(let[b,c]of d.l.of(a.output).structIterator())!c.getMemberTraits().httpPayload||b in e||(e[b]=null);return e}async handleError(a,b,c,e,f){let g=L(c,e)??"Unknown",{errorSchema:h,errorMetadata:i}=await this.mixin.getErrorSchemaOrThrowBaseException(g,this.options.defaultNamespace,c,e,f),j=d.l.of(h),k=e.message??e.Message??"Unknown",l=new(B.O.for(h[1]).getErrorCtor(h)??Error)(k);await this.deserializeHttpMessage(h,b,c,e);let m={};for(let[a,b]of j.structIterator()){let c=b.getMergedTraits().jsonName??a;m[a]=this.codec.createDeserializer().readObject(b,e[c])}throw this.mixin.decorateServiceException(Object.assign(l,i,{$fault:j.getMergedTraits().error,message:k},m),e)}getDefaultContentType(){return"application/json"}}},61294:(a,b,c)=>{"use strict";c.d(b,{Q:()=>e});var d=c(55511);let e=(a,b)=>{let c=(0,d.createHash)("sha256");return c.update(b),c.update(a),c.digest("hex")}},61302:(a,b,c)=>{"use strict";function d(a,b){let c={...a};for(let e in b)Object.prototype.hasOwnProperty.call(b,e)&&("object"==typeof b[e]&&!Array.isArray(b[e])&&a[e]?c[e]=d(a[e],b[e]):c[e]=b[e]);return c}c.d(b,{p:()=>d})},61435:(a,b,c)=>{"use strict";c.d(b,{A:()=>f,g:()=>g});var d=c(26390),e=c(44619);let f=a=>(0,e.A)(a)||(0,d.R)(a),g=["KeyObject"];(globalThis.CryptoKey||d.A?.CryptoKey)&&g.push("CryptoKey")},61718:(a,b,c)=>{"use strict";c.d(b,{m:()=>f});var d=c(77208);let e="default"in d?d.default:d,f=(a,b)=>{if("text"===b&&a){if(["object","string"].includes(typeof a)){let b=e.isValid(a);return"string"==typeof a||b}return!1}return!("number"!=typeof a||Number.isNaN(a))||("ObjectID"===b?e.isValid(String(a)):void 0)}},61730:(a,b,c)=>{"use strict";let d=c(34589),{AsyncResource:e}=c(16698),{InvalidArgumentError:f,SocketError:g}=c(64737),h=c(81350),{addSignal:i,removeSignal:j}=c(84952);class k extends e{constructor(a,b){if(!a||"object"!=typeof a)throw new f("invalid opts");if("function"!=typeof b)throw new f("invalid callback");let{signal:c,opaque:d,responseHeaders:e}=a;if(c&&"function"!=typeof c.on&&"function"!=typeof c.addEventListener)throw new f("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=d||null,this.responseHeaders=e||null,this.callback=b,this.abort=null,i(this,c)}onConnect(a,b){if(this.reason)return void a(this.reason);d(this.callback),this.abort=a,this.context=b}onHeaders(){throw new g("bad connect",null)}onUpgrade(a,b,c){let{callback:d,opaque:e,context:f}=this;j(this),this.callback=null;let g=b;null!=g&&(g="raw"===this.responseHeaders?h.parseRawHeaders(b):h.parseHeaders(b)),this.runInAsyncScope(d,null,null,{statusCode:a,headers:g,socket:c,opaque:e,context:f})}onError(a){let{callback:b,opaque:c}=this;j(this),b&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(b,null,a,{opaque:c})}))}}function l(a,b){if(void 0===b)return new Promise((b,c)=>{l.call(this,a,(a,d)=>a?c(a):b(d))});try{let c=new k(a,b),d={...a,method:"CONNECT"};this.dispatch(d,c)}catch(d){if("function"!=typeof b)throw d;let c=a?.opaque;queueMicrotask(()=>b(d,{opaque:c}))}}a.exports=l},61817:(a,b,c)=>{"use strict";c.d(b,{MK:()=>p});let d=(a,b={})=>({name:"breadcrumbs",type:"array",localized:!0,...b||{},admin:{readOnly:!0,...b?.admin||{}},fields:[{name:"doc",type:"relationship",admin:{disabled:!0},maxDepth:0,relationTo:a},{type:"row",fields:[{name:"url",type:"text",admin:{width:"50%"},label:"URL"},{name:"label",type:"text",admin:{width:"50%"}}]},...b?.fields||[]]}),e=(a,b)=>({name:"parent",admin:{position:"sidebar",...b?.admin||{}},type:"relationship",maxDepth:1,relationTo:a,...b||{}}),f=(a="breadcrumbs")=>({id:b})=>!b||{id:{not_equals:b},[`${a}.doc`]:{not_in:[b]}},g=({breadcrumb:a,collection:b,docs:c,generateLabel:d,generateURL:e})=>{let f,g,h=c[c.length-1];if("function"==typeof e&&(g=e(c,h,b)),"function"==typeof d)f=d(c,h,b);else{let a=b.admin?.useAsTitle?h[b.admin.useAsTitle]:"";f="string"==typeof a||"number"==typeof a?String(a):""}return{...a||{},doc:h.id,label:f,url:g}},h=async(a,b,c,d,e=[])=>{let f=b?.parentFieldSlug||"parent",g=d[f],i=null;return g&&(("string"==typeof g||"number"==typeof g)&&(i=await a.payload.findByID({id:g,collection:c.slug,depth:0,disableErrors:!0,req:a})),"object"==typeof g&&(i=g),i)?i[f]?h(a,b,c,i,[i,...e]):[i,...e]:e},i=async({breadcrumbsFieldName:a="breadcrumbs",collection:b,data:c,generateLabel:d,generateURL:e,originalDoc:f,parentFieldName:i,req:j})=>{let k=c,l={...f,...c,id:f?.id??c?.id},m=await h(j,{generateLabel:d,generateURL:e,parentFieldSlug:i},b,l);m.push(l);let o=m.map((c,f)=>g({breadcrumb:l[a]?.[f],collection:b,docs:m.slice(0,f+1),generateLabel:d,generateURL:e}));return k[a]=o,k},j=a=>async({collection:b,data:c,originalDoc:d,req:e})=>i({breadcrumbsFieldName:a.breadcrumbsFieldSlug,collection:b,data:c,generateLabel:a.generateLabel,generateURL:a.generateURL,originalDoc:d,parentFieldName:a.parentFieldSlug,req:e});var k=c(90639),l=c(70404);let m=a=>async({collection:b,doc:c,req:d})=>{if(b?.versions?.drafts&&"published"!==c._status)return;let e=a?.parentFieldSlug||"parent",f=Object.values([...(await d.payload.find({collection:b.slug,depth:0,draft:!0,limit:0,locale:d.locale,req:d,where:{[e]:{equals:c.id}}})).docs.filter(a=>"draft"===a._status),...(await d.payload.find({collection:b.slug,depth:0,draft:!1,limit:0,locale:d.locale,req:d,where:{[e]:{equals:c.id}}})).docs].reduce((a,b)=>(a[b.id]=a[b.id]||[],a[b.id].push(b),a),{})).flatMap(a=>a.sort((a,b)=>a.updatedAt!==b.updatedAt?a.updatedAt>b.updatedAt?1:-1:"published"===a._status?1:-1));if(f.length)try{for(let c of f){let e="published"!==c._status;await d.payload.update({id:c.id,collection:b.slug,data:i({collection:b,data:c,generateLabel:a.generateLabel,generateURL:a.generateURL,parentFieldName:a.parentFieldSlug,req:d}),depth:0,draft:e,locale:d.locale,req:d})}}catch(a){if(d.payload.logger.error("Nested Docs plugin encountered an error while re-saving a child document."),d.payload.logger.error(a),a?.name===k.h&&a?.data?.errors?.length)throw new l.L("Could not publish or save changes: One or more children are invalid.",400)}},o=a=>async({collection:b,doc:c,operation:d,req:e})=>{if("create"!==d)return;let{locale:f,payload:g}=e,h=a.breadcrumbsFieldSlug||"breadcrumbs",i=c[h];try{await g.update({id:c.id,collection:b.slug,data:{[h]:i?.map((a,b)=>({...a,doc:i.length===b+1?c.id:a.doc}))||[]},depth:0,draft:b?.versions?.drafts&&"published"!==c._status,locale:f,req:e})}catch(a){g.logger.error("Nested Docs plugin has had an error while adding breadcrumbs during document creation."),g.logger.error(a)}},p=a=>b=>({...b,collections:(b.collections||[]).map(b=>{if(a.collections.indexOf(b.slug)>-1){let c=[...b?.fields||[]],g=b.fields.find(b=>"name"in b&&b.name===(a?.breadcrumbsFieldSlug||"breadcrumbs")),h=b.fields.find(b=>"name"in b&&b.name===(a?.parentFieldSlug||"parent")),i=f(a?.breadcrumbsFieldSlug);if(h&&!h.filterOptions&&(h.filterOptions=i),!h&&!a.parentFieldSlug){let a=e(b.slug);a.filterOptions=i,c.push(a)}return g||a.breadcrumbsFieldSlug||c.push(d(b.slug)),{...b,fields:c,hooks:{...b.hooks||{},afterChange:[m(a),o(a),...b?.hooks?.afterChange||[]],beforeChange:[j(a),...b?.hooks?.beforeChange||[]]}}}return b})})},61966:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SPECIAL_HEADERS=b.MINOR=b.MAJOR=b.HTAB_SP_VCHAR_OBS_TEXT=b.QUOTED_STRING=b.CONNECTION_TOKEN_CHARS=b.HEADER_CHARS=b.TOKEN=b.HEX=b.URL_CHAR=b.USERINFO_CHARS=b.MARK=b.ALPHANUM=b.NUM=b.HEX_MAP=b.NUM_MAP=b.ALPHA=b.STATUSES_HTTP=b.H_METHOD_MAP=b.METHOD_MAP=b.METHODS_RTSP=b.METHODS_ICE=b.METHODS_HTTP=b.HEADER_STATE=b.FINISH=b.STATUSES=b.METHODS=b.LENIENT_FLAGS=b.FLAGS=b.TYPE=b.ERROR=void 0;let d=c(51142);b.ERROR={OK:0,INTERNAL:1,STRICT:2,CR_EXPECTED:25,LF_EXPECTED:3,UNEXPECTED_CONTENT_LENGTH:4,UNEXPECTED_SPACE:30,CLOSED_CONNECTION:5,INVALID_METHOD:6,INVALID_URL:7,INVALID_CONSTANT:8,INVALID_VERSION:9,INVALID_HEADER_TOKEN:10,INVALID_CONTENT_LENGTH:11,INVALID_CHUNK_SIZE:12,INVALID_STATUS:13,INVALID_EOF_STATE:14,INVALID_TRANSFER_ENCODING:15,CB_MESSAGE_BEGIN:16,CB_HEADERS_COMPLETE:17,CB_MESSAGE_COMPLETE:18,CB_CHUNK_HEADER:19,CB_CHUNK_COMPLETE:20,PAUSED:21,PAUSED_UPGRADE:22,PAUSED_H2_UPGRADE:23,USER:24,CB_URL_COMPLETE:26,CB_STATUS_COMPLETE:27,CB_METHOD_COMPLETE:32,CB_VERSION_COMPLETE:33,CB_HEADER_FIELD_COMPLETE:28,CB_HEADER_VALUE_COMPLETE:29,CB_CHUNK_EXTENSION_NAME_COMPLETE:34,CB_CHUNK_EXTENSION_VALUE_COMPLETE:35,CB_RESET:31},b.TYPE={BOTH:0,REQUEST:1,RESPONSE:2},b.FLAGS={CONNECTION_KEEP_ALIVE:1,CONNECTION_CLOSE:2,CONNECTION_UPGRADE:4,CHUNKED:8,UPGRADE:16,CONTENT_LENGTH:32,SKIPBODY:64,TRAILING:128,TRANSFER_ENCODING:512},b.LENIENT_FLAGS={HEADERS:1,CHUNKED_LENGTH:2,KEEP_ALIVE:4,TRANSFER_ENCODING:8,VERSION:16,DATA_AFTER_CLOSE:32,OPTIONAL_LF_AFTER_CR:64,OPTIONAL_CRLF_AFTER_CHUNK:128,OPTIONAL_CR_BEFORE_LF:256,SPACES_AFTER_CHUNK_SIZE:512},b.METHODS={DELETE:0,GET:1,HEAD:2,POST:3,PUT:4,CONNECT:5,OPTIONS:6,TRACE:7,COPY:8,LOCK:9,MKCOL:10,MOVE:11,PROPFIND:12,PROPPATCH:13,SEARCH:14,UNLOCK:15,BIND:16,REBIND:17,UNBIND:18,ACL:19,REPORT:20,MKACTIVITY:21,CHECKOUT:22,MERGE:23,"M-SEARCH":24,NOTIFY:25,SUBSCRIBE:26,UNSUBSCRIBE:27,PATCH:28,PURGE:29,MKCALENDAR:30,LINK:31,UNLINK:32,SOURCE:33,PRI:34,DESCRIBE:35,ANNOUNCE:36,SETUP:37,PLAY:38,PAUSE:39,TEARDOWN:40,GET_PARAMETER:41,SET_PARAMETER:42,REDIRECT:43,RECORD:44,FLUSH:45,QUERY:46},b.STATUSES={CONTINUE:100,SWITCHING_PROTOCOLS:101,PROCESSING:102,EARLY_HINTS:103,RESPONSE_IS_STALE:110,REVALIDATION_FAILED:111,DISCONNECTED_OPERATION:112,HEURISTIC_EXPIRATION:113,MISCELLANEOUS_WARNING:199,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTI_STATUS:207,ALREADY_REPORTED:208,TRANSFORMATION_APPLIED:214,IM_USED:226,MISCELLANEOUS_PERSISTENT_WARNING:299,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,USE_PROXY:305,SWITCH_PROXY:306,TEMPORARY_REDIRECT:307,PERMANENT_REDIRECT:308,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,IM_A_TEAPOT:418,PAGE_EXPIRED:419,ENHANCE_YOUR_CALM:420,MISDIRECTED_REQUEST:421,UNPROCESSABLE_ENTITY:422,LOCKED:423,FAILED_DEPENDENCY:424,TOO_EARLY:425,UPGRADE_REQUIRED:426,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE_UNOFFICIAL:430,REQUEST_HEADER_FIELDS_TOO_LARGE:431,LOGIN_TIMEOUT:440,NO_RESPONSE:444,RETRY_WITH:449,BLOCKED_BY_PARENTAL_CONTROL:450,UNAVAILABLE_FOR_LEGAL_REASONS:451,CLIENT_CLOSED_LOAD_BALANCED_REQUEST:460,INVALID_X_FORWARDED_FOR:463,REQUEST_HEADER_TOO_LARGE:494,SSL_CERTIFICATE_ERROR:495,SSL_CERTIFICATE_REQUIRED:496,HTTP_REQUEST_SENT_TO_HTTPS_PORT:497,INVALID_TOKEN:498,CLIENT_CLOSED_REQUEST:499,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,VARIANT_ALSO_NEGOTIATES:506,INSUFFICIENT_STORAGE:507,LOOP_DETECTED:508,BANDWIDTH_LIMIT_EXCEEDED:509,NOT_EXTENDED:510,NETWORK_AUTHENTICATION_REQUIRED:511,WEB_SERVER_UNKNOWN_ERROR:520,WEB_SERVER_IS_DOWN:521,CONNECTION_TIMEOUT:522,ORIGIN_IS_UNREACHABLE:523,TIMEOUT_OCCURED:524,SSL_HANDSHAKE_FAILED:525,INVALID_SSL_CERTIFICATE:526,RAILGUN_ERROR:527,SITE_IS_OVERLOADED:529,SITE_IS_FROZEN:530,IDENTITY_PROVIDER_AUTHENTICATION_ERROR:561,NETWORK_READ_TIMEOUT:598,NETWORK_CONNECT_TIMEOUT:599},b.FINISH={SAFE:0,SAFE_WITH_CB:1,UNSAFE:2},b.HEADER_STATE={GENERAL:0,CONNECTION:1,CONTENT_LENGTH:2,TRANSFER_ENCODING:3,UPGRADE:4,CONNECTION_KEEP_ALIVE:5,CONNECTION_CLOSE:6,CONNECTION_UPGRADE:7,TRANSFER_ENCODING_CHUNKED:8},b.METHODS_HTTP=[b.METHODS.DELETE,b.METHODS.GET,b.METHODS.HEAD,b.METHODS.POST,b.METHODS.PUT,b.METHODS.CONNECT,b.METHODS.OPTIONS,b.METHODS.TRACE,b.METHODS.COPY,b.METHODS.LOCK,b.METHODS.MKCOL,b.METHODS.MOVE,b.METHODS.PROPFIND,b.METHODS.PROPPATCH,b.METHODS.SEARCH,b.METHODS.UNLOCK,b.METHODS.BIND,b.METHODS.REBIND,b.METHODS.UNBIND,b.METHODS.ACL,b.METHODS.REPORT,b.METHODS.MKACTIVITY,b.METHODS.CHECKOUT,b.METHODS.MERGE,b.METHODS["M-SEARCH"],b.METHODS.NOTIFY,b.METHODS.SUBSCRIBE,b.METHODS.UNSUBSCRIBE,b.METHODS.PATCH,b.METHODS.PURGE,b.METHODS.MKCALENDAR,b.METHODS.LINK,b.METHODS.UNLINK,b.METHODS.PRI,b.METHODS.SOURCE,b.METHODS.QUERY],b.METHODS_ICE=[b.METHODS.SOURCE],b.METHODS_RTSP=[b.METHODS.OPTIONS,b.METHODS.DESCRIBE,b.METHODS.ANNOUNCE,b.METHODS.SETUP,b.METHODS.PLAY,b.METHODS.PAUSE,b.METHODS.TEARDOWN,b.METHODS.GET_PARAMETER,b.METHODS.SET_PARAMETER,b.METHODS.REDIRECT,b.METHODS.RECORD,b.METHODS.FLUSH,b.METHODS.GET,b.METHODS.POST],b.METHOD_MAP=(0,d.enumToMap)(b.METHODS),b.H_METHOD_MAP=Object.fromEntries(Object.entries(b.METHODS).filter(([a])=>a.startsWith("H"))),b.STATUSES_HTTP=[b.STATUSES.CONTINUE,b.STATUSES.SWITCHING_PROTOCOLS,b.STATUSES.PROCESSING,b.STATUSES.EARLY_HINTS,b.STATUSES.RESPONSE_IS_STALE,b.STATUSES.REVALIDATION_FAILED,b.STATUSES.DISCONNECTED_OPERATION,b.STATUSES.HEURISTIC_EXPIRATION,b.STATUSES.MISCELLANEOUS_WARNING,b.STATUSES.OK,b.STATUSES.CREATED,b.STATUSES.ACCEPTED,b.STATUSES.NON_AUTHORITATIVE_INFORMATION,b.STATUSES.NO_CONTENT,b.STATUSES.RESET_CONTENT,b.STATUSES.PARTIAL_CONTENT,b.STATUSES.MULTI_STATUS,b.STATUSES.ALREADY_REPORTED,b.STATUSES.TRANSFORMATION_APPLIED,b.STATUSES.IM_USED,b.STATUSES.MISCELLANEOUS_PERSISTENT_WARNING,b.STATUSES.MULTIPLE_CHOICES,b.STATUSES.MOVED_PERMANENTLY,b.STATUSES.FOUND,b.STATUSES.SEE_OTHER,b.STATUSES.NOT_MODIFIED,b.STATUSES.USE_PROXY,b.STATUSES.SWITCH_PROXY,b.STATUSES.TEMPORARY_REDIRECT,b.STATUSES.PERMANENT_REDIRECT,b.STATUSES.BAD_REQUEST,b.STATUSES.UNAUTHORIZED,b.STATUSES.PAYMENT_REQUIRED,b.STATUSES.FORBIDDEN,b.STATUSES.NOT_FOUND,b.STATUSES.METHOD_NOT_ALLOWED,b.STATUSES.NOT_ACCEPTABLE,b.STATUSES.PROXY_AUTHENTICATION_REQUIRED,b.STATUSES.REQUEST_TIMEOUT,b.STATUSES.CONFLICT,b.STATUSES.GONE,b.STATUSES.LENGTH_REQUIRED,b.STATUSES.PRECONDITION_FAILED,b.STATUSES.PAYLOAD_TOO_LARGE,b.STATUSES.URI_TOO_LONG,b.STATUSES.UNSUPPORTED_MEDIA_TYPE,b.STATUSES.RANGE_NOT_SATISFIABLE,b.STATUSES.EXPECTATION_FAILED,b.STATUSES.IM_A_TEAPOT,b.STATUSES.PAGE_EXPIRED,b.STATUSES.ENHANCE_YOUR_CALM,b.STATUSES.MISDIRECTED_REQUEST,b.STATUSES.UNPROCESSABLE_ENTITY,b.STATUSES.LOCKED,b.STATUSES.FAILED_DEPENDENCY,b.STATUSES.TOO_EARLY,b.STATUSES.UPGRADE_REQUIRED,b.STATUSES.PRECONDITION_REQUIRED,b.STATUSES.TOO_MANY_REQUESTS,b.STATUSES.REQUEST_HEADER_FIELDS_TOO_LARGE_UNOFFICIAL,b.STATUSES.REQUEST_HEADER_FIELDS_TOO_LARGE,b.STATUSES.LOGIN_TIMEOUT,b.STATUSES.NO_RESPONSE,b.STATUSES.RETRY_WITH,b.STATUSES.BLOCKED_BY_PARENTAL_CONTROL,b.STATUSES.UNAVAILABLE_FOR_LEGAL_REASONS,b.STATUSES.CLIENT_CLOSED_LOAD_BALANCED_REQUEST,b.STATUSES.INVALID_X_FORWARDED_FOR,b.STATUSES.REQUEST_HEADER_TOO_LARGE,b.STATUSES.SSL_CERTIFICATE_ERROR,b.STATUSES.SSL_CERTIFICATE_REQUIRED,b.STATUSES.HTTP_REQUEST_SENT_TO_HTTPS_PORT,b.STATUSES.INVALID_TOKEN,b.STATUSES.CLIENT_CLOSED_REQUEST,b.STATUSES.INTERNAL_SERVER_ERROR,b.STATUSES.NOT_IMPLEMENTED,b.STATUSES.BAD_GATEWAY,b.STATUSES.SERVICE_UNAVAILABLE,b.STATUSES.GATEWAY_TIMEOUT,b.STATUSES.HTTP_VERSION_NOT_SUPPORTED,b.STATUSES.VARIANT_ALSO_NEGOTIATES,b.STATUSES.INSUFFICIENT_STORAGE,b.STATUSES.LOOP_DETECTED,b.STATUSES.BANDWIDTH_LIMIT_EXCEEDED,b.STATUSES.NOT_EXTENDED,b.STATUSES.NETWORK_AUTHENTICATION_REQUIRED,b.STATUSES.WEB_SERVER_UNKNOWN_ERROR,b.STATUSES.WEB_SERVER_IS_DOWN,b.STATUSES.CONNECTION_TIMEOUT,b.STATUSES.ORIGIN_IS_UNREACHABLE,b.STATUSES.TIMEOUT_OCCURED,b.STATUSES.SSL_HANDSHAKE_FAILED,b.STATUSES.INVALID_SSL_CERTIFICATE,b.STATUSES.RAILGUN_ERROR,b.STATUSES.SITE_IS_OVERLOADED,b.STATUSES.SITE_IS_FROZEN,b.STATUSES.IDENTITY_PROVIDER_AUTHENTICATION_ERROR,b.STATUSES.NETWORK_READ_TIMEOUT,b.STATUSES.NETWORK_CONNECT_TIMEOUT],b.ALPHA=[];for(let a=65;a<=90;a++)b.ALPHA.push(String.fromCharCode(a)),b.ALPHA.push(String.fromCharCode(a+32));b.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9},b.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},b.NUM=["0","1","2","3","4","5","6","7","8","9"],b.ALPHANUM=b.ALPHA.concat(b.NUM),b.MARK=["-","_",".","!","~","*","'","(",")"],b.USERINFO_CHARS=b.ALPHANUM.concat(b.MARK).concat(["%",";",":","&","=","+","$",","]),b.URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(b.ALPHANUM),b.HEX=b.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]),b.TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(b.ALPHANUM),b.HEADER_CHARS=["	"];for(let a=32;a<=255;a++)127!==a&&b.HEADER_CHARS.push(a);b.CONNECTION_TOKEN_CHARS=b.HEADER_CHARS.filter(a=>44!==a),b.QUOTED_STRING=["	"," "];for(let a=33;a<=255;a++)34!==a&&92!==a&&b.QUOTED_STRING.push(a);b.HTAB_SP_VCHAR_OBS_TEXT=["	"," "];for(let a=33;a<=126;a++)b.HTAB_SP_VCHAR_OBS_TEXT.push(a);for(let a=128;a<=255;a++)b.HTAB_SP_VCHAR_OBS_TEXT.push(a);b.MAJOR=b.NUM_MAP,b.MINOR=b.MAJOR,b.SPECIAL_HEADERS={connection:b.HEADER_STATE.CONNECTION,"content-length":b.HEADER_STATE.CONTENT_LENGTH,"proxy-connection":b.HEADER_STATE.CONNECTION,"transfer-encoding":b.HEADER_STATE.TRANSFER_ENCODING,upgrade:b.HEADER_STATE.UPGRADE}},61971:(a,b,c)=>{"use strict";let d=c(94735),e=c(49026),f=c(13897),g=c(3485),h=c(26708),i=c(63965),j=c(28354),k=c(79551),l=c(30124),m=c(54558),o=c(91645),p=c(14985),q=c(55511);class r extends d{constructor(a,b,c){super(),this.options=b||{},this._defaults=c||{},this._defaultPlugins={compile:[(...a)=>this._convertDataImages(...a)],stream:[]},this._userPlugins={compile:[],stream:[]},this.meta=new Map,this.dkim=!!this.options.dkim&&new h(this.options.dkim),this.transporter=a,this.transporter.mailer=this,this.logger=e.getLogger(this.options,{component:this.options.component||"mail"}),this.logger.debug({tnx:"create"},"Creating transport: %s",this.getVersionString()),"function"==typeof this.transporter.on&&(this.transporter.on("log",a=>{this.logger.debug({tnx:"transport"},"%s: %s",a.type,a.message)}),this.transporter.on("error",a=>{this.logger.error({err:a,tnx:"transport"},"Transport Error: %s",a.message),this.emit("error",a)}),this.transporter.on("idle",(...a)=>{this.emit("idle",...a)}),this.transporter.on("clear",(...a)=>{this.emit("clear",...a)})),["close","isIdle","verify"].forEach(a=>{this[a]=(...b)=>"function"==typeof this.transporter[a]?("verify"===a&&"function"==typeof this.getSocket&&(this.transporter.getSocket=this.getSocket,this.getSocket=!1),this.transporter[a](...b)):(this.logger.warn({tnx:"transport",methodName:a},"Non existing method %s called for transport",a),!1)}),this.options.proxy&&"string"==typeof this.options.proxy&&this.setupProxy(this.options.proxy)}use(a,b){return a=(a||"").toString(),this._userPlugins.hasOwnProperty(a)?this._userPlugins[a].push(b):this._userPlugins[a]=[b],this}sendMail(a,b=null){let c;b||(c=new Promise((a,c)=>{b=e.callbackPromise(a,c)})),"function"==typeof this.getSocket&&(this.transporter.getSocket=this.getSocket,this.getSocket=!1);let d=new m(this,a);return this.logger.debug({tnx:"transport",name:this.transporter.name,version:this.transporter.version,action:"send"},"Sending mail using %s/%s",this.transporter.name,this.transporter.version),this._processPlugins("compile",d,a=>{if(a)return this.logger.error({err:a,tnx:"plugin",action:"compile"},"PluginCompile Error: %s",a.message),b(a);d.message=new g(d.data).compile(),d.setMailerHeader(),d.setPriorityHeaders(),d.setListHeaders(),this._processPlugins("stream",d,a=>{if(a)return this.logger.error({err:a,tnx:"plugin",action:"stream"},"PluginStream Error: %s",a.message),b(a);(d.data.dkim||this.dkim)&&d.message.processFunc(a=>{let b=d.data.dkim?new h(d.data.dkim):this.dkim;return this.logger.debug({tnx:"DKIM",messageId:d.message.messageId(),dkimDomains:b.keys.map(a=>a.keySelector+"."+a.domainName).join(", ")},"Signing outgoing message with %s keys",b.keys.length),b.sign(a,d.data._dkim)}),this.transporter.send(d,(...a)=>{a[0]&&this.logger.error({err:a[0],tnx:"transport",action:"send"},"Send Error: %s",a[0].message),b(...a)})})}),c}getVersionString(){return j.format("%s (%s; +%s; %s/%s)",l.name,l.version,l.homepage,this.transporter.name,this.transporter.version)}_processPlugins(a,b,c){if(a=(a||"").toString(),!this._userPlugins.hasOwnProperty(a))return c();let d=this._userPlugins[a]||[],e=this._defaultPlugins[a]||[];if(d.length&&this.logger.debug({tnx:"transaction",pluginCount:d.length,step:a},"Using %s plugins for %s",d.length,a),d.length+e.length===0)return c();let f=0,g="default",h=()=>{let a="default"===g?e:d;if(f>=a.length)if("default"!==g||!d.length)return c();else g="user",f=0,a=d;(0,a[f++])(b,a=>{if(a)return c(a);h()})};h()}setupProxy(a){let b=k.parse(a);this.getSocket=(a,c)=>{let d=b.protocol.replace(/:$/,"").toLowerCase();if(this.meta.has("proxy_handler_"+d))return this.meta.get("proxy_handler_"+d)(b,a,c);switch(d){case"http":case"https":i(b.href,a.port,a.host,(a,b)=>a?c(a):c(null,{connection:b}));return;case"socks":case"socks5":case"socks4":case"socks4a":{if(!this.meta.has("proxy_socks_module"))return c(Error("Socks module not loaded"));let d=d=>{let e=!!this.meta.get("proxy_socks_module").SocksClient,f=e?this.meta.get("proxy_socks_module").SocksClient:this.meta.get("proxy_socks_module"),g=Number(b.protocol.replace(/\D/g,""))||5,h={proxy:{ipaddress:d,port:Number(b.port),type:g},[e?"destination":"target"]:{host:a.host,port:a.port},command:"connect"};if(b.auth){let a=decodeURIComponent(b.auth.split(":").shift()),c=decodeURIComponent(b.auth.split(":").pop());e?(h.proxy.userId=a,h.proxy.password=c):4===g?h.userid=a:h.authentication={username:a,password:c}}f.createConnection(h,(a,b)=>a?c(a):c(null,{connection:b.socket||b}))};if(o.isIP(b.hostname))return d(b.hostname);return p.resolve(b.hostname,(a,b)=>{if(a)return c(a);d(Array.isArray(b)?b[0]:b)})}}c(Error("Unknown proxy configuration"))}}_convertDataImages(a,b){if(!this.options.attachDataUrls&&!a.data.attachDataUrls||!a.data.html)return b();a.resolveContent(a.data,"html",(c,d)=>{if(c)return b(c);let e=0;d=(d||"").toString().replace(/(<img\b[^<>]{0,1024} src\s{0,20}=[\s"']{0,20})(data:([^;]+);[^"'>\s]+)/gi,(b,c,d,g)=>{let h=q.randomBytes(10).toString("hex")+"@localhost";return a.data.attachments||(a.data.attachments=[]),Array.isArray(a.data.attachments)||(a.data.attachments=[].concat(a.data.attachments||[])),a.data.attachments.push({path:d,cid:h,filename:"image-"+ ++e+"."+f.detectExtension(g)}),c+"cid:"+h}),a.data.html=d,b()})}set(a,b){return this.meta.set(a,b)}get(a){return this.meta.get(a)}}a.exports=r},61997:(a,b,c)=>{"use strict";c.d(b,{pf:()=>h});var d=c(21820),e=c(19771);let f={isCrtAvailable:!1},g=()=>f.isCrtAvailable?["md/crt-avail"]:null,h=({serviceId:a,clientVersion:b})=>async c=>{let f=[["aws-sdk-js",b],["ua","2.1"],[`os/${(0,d.platform)()}`,(0,d.release)()],["lang/js"],["md/nodejs",`${e.versions.node}`]],h=g();h&&f.push(h),a&&f.push([`api/${a}`,b]),e.env.AWS_EXECUTION_ENV&&f.push([`exec-env/${e.env.AWS_EXECUTION_ENV}`]);let i=await c?.userAgentAppId?.();return i?[...f,[`app/${i}`]]:[...f]}},62018:(a,b,c)=>{"use strict";let d=c(34589),e=new TextEncoder,f=/^[!#$%&'*+\-.^_|~A-Za-z0-9]+$/,g=/[\u000A\u000D\u0009\u0020]/,h=/[\u0009\u000A\u000C\u000D\u0020]/g,i=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function j(a,b=!1){if(!b)return a.href;let c=a.href,d=a.hash.length,e=0===d?c:c.substring(0,c.length-d);return!d&&c.endsWith("#")?e.slice(0,-1):e}function k(a,b,c){let d="";for(;c.position<b.length&&a(b[c.position]);)d+=b[c.position],c.position++;return d}function l(a,b,c){let d=b.indexOf(a,c.position),e=c.position;return -1===d?(c.position=b.length,b.slice(e)):(c.position=d,b.slice(e,c.position))}function m(a){return q(e.encode(a))}function o(a){return a>=48&&a<=57||a>=65&&a<=70||a>=97&&a<=102}function p(a){return a>=48&&a<=57?a-48:(223&a)-55}function q(a){let b=a.length,c=new Uint8Array(b),d=0;for(let e=0;e<b;++e){let b=a[e];37!==b?c[d++]=b:37!==b||o(a[e+1])&&o(a[e+2])?(c[d++]=p(a[e+1])<<4|p(a[e+2]),e+=2):c[d++]=37}return b===d?c:c.subarray(0,d)}function r(a){a=v(a,!0,!0);let b={position:0},c=l("/",a,b);if(0===c.length||!f.test(c)||b.position>=a.length)return"failure";b.position++;let d=l(";",a,b);if(0===(d=v(d,!1,!0)).length||!f.test(d))return"failure";let e=c.toLowerCase(),h=d.toLowerCase(),j={type:e,subtype:h,parameters:new Map,essence:`${e}/${h}`};for(;b.position<a.length;){b.position++,k(a=>g.test(a),a,b);let c=k(a=>";"!==a&&"="!==a,a,b);if(c=c.toLowerCase(),b.position<a.length){if(";"===a[b.position])continue;b.position++}if(b.position>=a.length)break;let d=null;if('"'===a[b.position])d=t(a,b,!0),l(";",a,b);else if(0===(d=v(d=l(";",a,b),!1,!0)).length)continue;0!==c.length&&f.test(c)&&(0===d.length||i.test(d))&&!j.parameters.has(c)&&j.parameters.set(c,d)}return j}function s(a){let b=(a=a.replace(h,"")).length;if(b%4==0&&61===a.charCodeAt(b-1)&&(--b,61===a.charCodeAt(b-1)&&--b),b%4==1||/[^+/0-9A-Za-z]/.test(a.length===b?a:a.substring(0,b)))return"failure";let c=Buffer.from(a,"base64");return new Uint8Array(c.buffer,c.byteOffset,c.byteLength)}function t(a,b,c=!1){let e=b.position,f="";for(d('"'===a[b.position]),b.position++;f+=k(a=>'"'!==a&&"\\"!==a,a,b),!(b.position>=a.length);){let c=a[b.position];if(b.position++,"\\"===c){if(b.position>=a.length){f+="\\";break}f+=a[b.position],b.position++}else{d('"'===c);break}}return c?f:a.slice(e,b.position)}function u(a){return 13===a||10===a||9===a||32===a}function v(a,b=!0,c=!0){return y(a,b,c,u)}function w(a){return 13===a||10===a||9===a||12===a||32===a}function x(a,b=!0,c=!0){return y(a,b,c,w)}function y(a,b,c,d){let e=0,f=a.length-1;if(b)for(;e<a.length&&d(a.charCodeAt(e));)e++;if(c)for(;f>0&&d(a.charCodeAt(f));)f--;return 0===e&&f===a.length-1?a:a.slice(e,f+1)}function z(a){let b=a.length;if(65535>b)return String.fromCharCode.apply(null,a);let c="",d=0,e=65535;for(;d<b;)d+e>b&&(e=b-d),c+=String.fromCharCode.apply(null,a.subarray(d,d+=e));return c}a.exports={dataURLProcessor:function(a){d("data:"===a.protocol);let b=j(a,!0);b=b.slice(5);let c={position:0},e=l(",",b,c),f=e.length;if(e=x(e,!0,!0),c.position>=b.length)return"failure";c.position++;let g=m(b.slice(f+1));if(/;(\u0020){0,}base64$/i.test(e)){if("failure"===(g=s(z(g))))return"failure";e=(e=(e=e.slice(0,-6)).replace(/(\u0020)+$/,"")).slice(0,-1)}e.startsWith(";")&&(e="text/plain"+e);let h=r(e);return"failure"===h&&(h=r("text/plain;charset=US-ASCII")),{mimeType:h,body:g}},URLSerializer:j,collectASequenceOfCodePoints:k,collectASequenceOfCodePointsFast:l,stringPercentDecode:m,parseMIMEType:r,collectAnHTTPQuotedString:t,serializeAMimeType:function(a){d("failure"!==a);let{parameters:b,essence:c}=a,e=c;for(let[a,c]of b.entries())e+=";",e+=a,e+="=",f.test(c)||(c='"'+(c=c.replace(/(\\|")/g,"\\$1"))+'"'),e+=c;return e},removeChars:y,removeHTTPWhitespace:v,minimizeSupportedMimeType:function(a){switch(a.essence){case"application/ecmascript":case"application/javascript":case"application/x-ecmascript":case"application/x-javascript":case"text/ecmascript":case"text/javascript":case"text/javascript1.0":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":case"text/javascript1.4":case"text/javascript1.5":case"text/jscript":case"text/livescript":case"text/x-ecmascript":case"text/x-javascript":return"text/javascript";case"application/json":case"text/json":return"application/json";case"image/svg+xml":return"image/svg+xml";case"text/xml":case"application/xml":return"application/xml"}return a.subtype.endsWith("+json")?"application/json":a.subtype.endsWith("+xml")?"application/xml":""},HTTP_TOKEN_CODEPOINTS:f,isomorphicDecode:z}},62033:(a,b,c)=>{"use strict";c.d(b,{I:()=>e});let d={warningEmitted:!1},e=a=>{a&&!d.warningEmitted&&20>parseInt(a.substring(1,a.indexOf(".")))&&(d.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js ${a} in January 2026.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/c895JFp`))}},62062:(a,b,c)=>{"use strict";let d=c(94735).EventEmitter,e=c(28354),f=c(73885),g=a.exports=function(a,b,c){d.call(this),a=f.normalizeQueryConfig(a,b,c),this.text=a.text,this.values=a.values,this.name=a.name,this.queryMode=a.queryMode,this.callback=a.callback,this.state="new",this._arrayMode="array"===a.rowMode,this._emitRowEvents=!1,this.on("newListener",(function(a){"row"===a&&(this._emitRowEvents=!0)}).bind(this))};e.inherits(g,d);let h={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};g.prototype.handleError=function(a){let b=this.native.pq.resultErrorFields();if(b)for(let c in b)a[h[c]||c]=b[c];this.callback?this.callback(a):this.emit("error",a),this.state="error"},g.prototype.then=function(a,b){return this._getPromise().then(a,b)},g.prototype.catch=function(a){return this._getPromise().catch(a)},g.prototype._getPromise=function(){return this._promise||(this._promise=new Promise((function(a,b){this._once("end",a),this._once("error",b)}).bind(this))),this._promise},g.prototype.submit=function(a){this.state="running";let b=this;this.native=a.native,a.native.arrayMode=this._arrayMode;let c=function(c,d,e){if(a.native.arrayMode=!1,setImmediate(function(){b.emit("_done")}),c)return b.handleError(c);b._emitRowEvents&&(e.length>1?d.forEach((a,c)=>{a.forEach(a=>{b.emit("row",a,e[c])})}):d.forEach(function(a){b.emit("row",a,e)})),b.state="end",b.emit("end",e),b.callback&&b.callback(null,e)};if(process.domain&&(c=process.domain.bind(c)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));let d=(this.values||[]).map(f.prepareValue);if(a.namedQueries[this.name]){if(this.text&&a.namedQueries[this.name]!==this.text){let a=Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return c(a)}return a.native.execute(this.name,d,c)}return a.native.prepare(this.name,this.text,d.length,function(e){return e?c(e):(a.namedQueries[b.name]=b.text,b.native.execute(b.name,d,c))})}if(this.values){if(!Array.isArray(this.values)){let a=Error("Query values must be an array");return c(a)}let b=this.values.map(f.prepareValue);a.native.query(this.text,b,c)}else"extended"===this.queryMode?a.native.query(this.text,[],c):a.native.query(this.text,c)}},62094:(a,b,c)=>{"use strict";let d,e,f=c(77030),g=c(34589),h=c(81350),{InvalidArgumentError:i}=c(64737);e=global.FinalizationRegistry&&!(process.env.NODE_V8_COVERAGE||process.env.UNDICI_NO_FG)?class{constructor(a){this._maxCachedSessions=a,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(a=>{if(this._sessionCache.size<this._maxCachedSessions)return;let b=this._sessionCache.get(a);void 0!==b&&void 0===b.deref()&&this._sessionCache.delete(a)})}get(a){let b=this._sessionCache.get(a);return b?b.deref():null}set(a,b){0!==this._maxCachedSessions&&(this._sessionCache.set(a,new WeakRef(b)),this._sessionRegistry.register(b,a))}}:class{constructor(a){this._maxCachedSessions=a,this._sessionCache=new Map}get(a){return this._sessionCache.get(a)}set(a,b){if(0!==this._maxCachedSessions){if(this._sessionCache.size>=this._maxCachedSessions){let{value:a}=this._sessionCache.keys().next();this._sessionCache.delete(a)}this._sessionCache.set(a,b)}}},a.exports=function({allowH2:a,maxCachedSessions:b,socketPath:j,timeout:k,session:l,...m}){if(null!=b&&(!Number.isInteger(b)||b<0))throw new i("maxCachedSessions must be a positive integer or zero");let o={path:j,...m},p=new e(null==b?100:b);return k=null==k?1e4:k,a=null!=a&&a,function({hostname:b,host:e,protocol:i,port:j,servername:m,localAddress:q,httpSocket:r},s){let t;if("https:"===i){d||(d=c(41692));let f=(m=m||o.servername||h.getServerName(e)||null)||b;g(f);let i=l||p.get(f)||null;j=j||443,(t=d.connect({highWaterMark:16384,...o,servername:m,session:i,localAddress:q,ALPNProtocols:a?["http/1.1","h2"]:["http/1.1"],socket:r,port:j,host:b})).on("session",function(a){p.set(f,a)})}else g(!r,"httpSocket can only be sent on TLS update"),j=j||80,t=f.connect({highWaterMark:65536,...o,localAddress:q,port:j,host:b});if(null==o.keepAlive||o.keepAlive){let a=void 0===o.keepAliveInitialDelay?6e4:o.keepAliveInitialDelay;t.setKeepAlive(!0,a)}let u=h.setupConnectTimeout(new WeakRef(t),{timeout:k,hostname:b,port:j});return t.setNoDelay(!0).once("https:"===i?"secureConnect":"connect",function(){if(queueMicrotask(u),s){let a=s;s=null,a(null,this)}}).on("error",function(a){if(queueMicrotask(u),s){let b=s;s=null,b(a)}}),t}}},62178:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{getSortedRouteObjects:function(){return e},getSortedRoutes:function(){return d}});class c{insert(a){this._insert(a.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(a){void 0===a&&(a="/");let b=[...this.children.keys()].sort();null!==this.slugName&&b.splice(b.indexOf("[]"),1),null!==this.restSlugName&&b.splice(b.indexOf("[...]"),1),null!==this.optionalRestSlugName&&b.splice(b.indexOf("[[...]]"),1);let c=b.map(b=>this.children.get(b)._smoosh(""+a+b+"/")).reduce((a,b)=>[...a,...b],[]);if(null!==this.slugName&&c.push(...this.children.get("[]")._smoosh(a+"["+this.slugName+"]/")),!this.placeholder){let b="/"===a?"/":a.slice(0,-1);if(null!=this.optionalRestSlugName)throw Object.defineProperty(Error('You cannot define a route with the same specificity as a optional catch-all route ("'+b+'" and "'+b+"[[..."+this.optionalRestSlugName+']]").'),"__NEXT_ERROR_CODE",{value:"E458",enumerable:!1,configurable:!0});c.unshift(b)}return null!==this.restSlugName&&c.push(...this.children.get("[...]")._smoosh(a+"[..."+this.restSlugName+"]/")),null!==this.optionalRestSlugName&&c.push(...this.children.get("[[...]]")._smoosh(a+"[[..."+this.optionalRestSlugName+"]]/")),c}_insert(a,b,d){if(0===a.length){this.placeholder=!1;return}if(d)throw Object.defineProperty(Error("Catch-all must be the last part of the URL."),"__NEXT_ERROR_CODE",{value:"E392",enumerable:!1,configurable:!0});let e=a[0];if(e.startsWith("[")&&e.endsWith("]")){let c=e.slice(1,-1),g=!1;if(c.startsWith("[")&&c.endsWith("]")&&(c=c.slice(1,-1),g=!0),c.startsWith(""))throw Object.defineProperty(Error("Detected a three-dot character ('') at ('"+c+"'). Did you mean ('...')?"),"__NEXT_ERROR_CODE",{value:"E147",enumerable:!1,configurable:!0});if(c.startsWith("...")&&(c=c.substring(3),d=!0),c.startsWith("[")||c.endsWith("]"))throw Object.defineProperty(Error("Segment names may not start or end with extra brackets ('"+c+"')."),"__NEXT_ERROR_CODE",{value:"E421",enumerable:!1,configurable:!0});if(c.startsWith("."))throw Object.defineProperty(Error("Segment names may not start with erroneous periods ('"+c+"')."),"__NEXT_ERROR_CODE",{value:"E288",enumerable:!1,configurable:!0});function f(a,c){if(null!==a&&a!==c)throw Object.defineProperty(Error("You cannot use different slug names for the same dynamic path ('"+a+"' !== '"+c+"')."),"__NEXT_ERROR_CODE",{value:"E337",enumerable:!1,configurable:!0});b.forEach(a=>{if(a===c)throw Object.defineProperty(Error('You cannot have the same slug name "'+c+'" repeat within a single dynamic path'),"__NEXT_ERROR_CODE",{value:"E247",enumerable:!1,configurable:!0});if(a.replace(/\W/g,"")===e.replace(/\W/g,""))throw Object.defineProperty(Error('You cannot have the slug names "'+a+'" and "'+c+'" differ only by non-word symbols within a single dynamic path'),"__NEXT_ERROR_CODE",{value:"E499",enumerable:!1,configurable:!0})}),b.push(c)}if(d)if(g){if(null!=this.restSlugName)throw Object.defineProperty(Error('You cannot use both an required and optional catch-all route at the same level ("[...'+this.restSlugName+']" and "'+a[0]+'" ).'),"__NEXT_ERROR_CODE",{value:"E299",enumerable:!1,configurable:!0});f(this.optionalRestSlugName,c),this.optionalRestSlugName=c,e="[[...]]"}else{if(null!=this.optionalRestSlugName)throw Object.defineProperty(Error('You cannot use both an optional and required catch-all route at the same level ("[[...'+this.optionalRestSlugName+']]" and "'+a[0]+'").'),"__NEXT_ERROR_CODE",{value:"E300",enumerable:!1,configurable:!0});f(this.restSlugName,c),this.restSlugName=c,e="[...]"}else{if(g)throw Object.defineProperty(Error('Optional route parameters are not yet supported ("'+a[0]+'").'),"__NEXT_ERROR_CODE",{value:"E435",enumerable:!1,configurable:!0});f(this.slugName,c),this.slugName=c,e="[]"}}this.children.has(e)||this.children.set(e,new c),this.children.get(e)._insert(a.slice(1),b,d)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}function d(a){let b=new c;return a.forEach(a=>b.insert(a)),b.smoosh()}function e(a,b){let c={},e=[];for(let d=0;d<a.length;d++){let f=b(a[d]);c[f]=d,e[d]=f}return d(e).map(b=>a[c[b]])}},62285:(a,b,c)=>{"use strict";let{Headers:d,HeadersList:e,fill:f,getHeadersGuard:g,setHeadersGuard:h,setHeadersList:i}=c(98114),{extractBody:j,cloneBody:k,mixinBody:l,hasFinalizationRegistry:m,streamRegistry:o,bodyUnusable:p}=c(33518),q=c(81350),r=c(57975),{kEnumerableProperty:s}=q,{isValidReasonPhrase:t,isCancelled:u,isAborted:v,serializeJavascriptValueToJSONString:w,isErrorLike:x,isomorphicEncode:y,environmentSettingsObject:z}=c(51074),{redirectStatusSet:A,nullBodyStatus:B}=c(27761),{webidl:C}=c(81399),{URLSerializer:D}=c(62018),{kConstruct:E}=c(10257),F=c(34589),{types:G}=c(57975),H=new TextEncoder("utf-8");class I{#av;#aa;static error(){return V(P(),"immutable")}static json(a,b){C.argumentLengthCheck(arguments,1,"Response.json"),null!==b&&(b=C.converters.ResponseInit(b));let c=j(H.encode(w(a))),d=V(O({}),"response");return U(d,b,{body:c[0],type:"application/json"}),d}static redirect(a,b=302){let c;C.argumentLengthCheck(arguments,1,"Response.redirect"),a=C.converters.USVString(a),b=C.converters["unsigned short"](b);try{c=new URL(a,z.settingsObject.baseUrl)}catch(b){throw TypeError(`Failed to parse URL from ${a}`,{cause:b})}if(!A.has(b))throw RangeError(`Invalid status code ${b}`);let d=V(O({}),"immutable");d.#aa.status=b;let e=y(D(c));return d.#aa.headersList.append("location",e,!0),d}constructor(a=null,b){if(C.util.markAsUncloneable(this),a===E)return;null!==a&&(a=C.converters.BodyInit(a)),b=C.converters.ResponseInit(b),this.#aa=O({}),this.#av=new d(E),h(this.#av,"response"),i(this.#av,this.#aa.headersList);let c=null;if(null!=a){let[b,d]=j(a);c={body:b,type:d}}U(this,b,c)}get type(){return C.brandCheck(this,I),this.#aa.type}get url(){C.brandCheck(this,I);let a=this.#aa.urlList,b=a[a.length-1]??null;return null===b?"":D(b,!0)}get redirected(){return C.brandCheck(this,I),this.#aa.urlList.length>1}get status(){return C.brandCheck(this,I),this.#aa.status}get ok(){return C.brandCheck(this,I),this.#aa.status>=200&&this.#aa.status<=299}get statusText(){return C.brandCheck(this,I),this.#aa.statusText}get headers(){return C.brandCheck(this,I),this.#av}get body(){return C.brandCheck(this,I),this.#aa.body?this.#aa.body.stream:null}get bodyUsed(){return C.brandCheck(this,I),!!this.#aa.body&&q.isDisturbed(this.#aa.body.stream)}clone(){if(C.brandCheck(this,I),p(this.#aa))throw C.errors.exception({header:"Response.clone",message:"Body has already been consumed."});return V(N(this.#aa),g(this.#av))}[r.inspect.custom](a,b){null===b.depth&&(b.depth=2),b.colors??=!0;let c={status:this.status,statusText:this.statusText,headers:this.headers,body:this.body,bodyUsed:this.bodyUsed,ok:this.ok,redirected:this.redirected,type:this.type,url:this.url};return`Response ${r.formatWithOptions(b,c)}`}static getResponseHeaders(a){return a.#av}static setResponseHeaders(a,b){a.#av=b}static getResponseState(a){return a.#aa}static setResponseState(a,b){a.#aa=b}}let{getResponseHeaders:J,setResponseHeaders:K,getResponseState:L,setResponseState:M}=I;function N(a){if(a.internalResponse)return S(N(a.internalResponse),a.type);let b=O({...a,body:null});return null!=a.body&&(b.body=k(b,a.body)),b}function O(a){return{aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...a,headersList:a?.headersList?new e(a?.headersList):new e,urlList:a?.urlList?[...a.urlList]:[]}}function P(a){return O({type:"error",status:0,error:x(a)?a:Error(a?String(a):a),aborted:a&&"AbortError"===a.name})}function Q(a){return"error"===a.type&&0===a.status}function R(a,b){return b={internalResponse:a,...b},new Proxy(a,{get:(a,c)=>c in b?b[c]:a[c],set:(a,c,d)=>(F(!(c in b)),a[c]=d,!0)})}function S(a,b){return"basic"===b?R(a,{type:"basic",headersList:a.headersList}):"cors"===b?R(a,{type:"cors",headersList:a.headersList}):"opaque"===b?R(a,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null}):"opaqueredirect"===b?R(a,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null}):void F(!1)}function T(a,b=null){return F(u(a)),v(a)?P(Object.assign(new DOMException("The operation was aborted.","AbortError"),{cause:b})):P(Object.assign(new DOMException("Request was cancelled."),{cause:b}))}function U(a,b,c){if(null!==b.status&&(b.status<200||b.status>599))throw RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in b&&null!=b.statusText&&!t(String(b.statusText)))throw TypeError("Invalid statusText");if("status"in b&&null!=b.status&&(L(a).status=b.status),"statusText"in b&&null!=b.statusText&&(L(a).statusText=b.statusText),"headers"in b&&null!=b.headers&&f(J(a),b.headers),c){if(B.includes(a.status))throw C.errors.exception({header:"Response constructor",message:`Invalid response status code ${a.status}`});L(a).body=c.body,null==c.type||L(a).headersList.contains("content-type",!0)||L(a).headersList.append("content-type",c.type,!0)}}function V(a,b){let c=new I(E);M(c,a);let e=new d(E);return K(c,e),i(e,a.headersList),h(e,b),m&&a.body?.stream&&o.register(c,new WeakRef(a.body.stream)),c}Reflect.deleteProperty(I,"getResponseHeaders"),Reflect.deleteProperty(I,"setResponseHeaders"),Reflect.deleteProperty(I,"getResponseState"),Reflect.deleteProperty(I,"setResponseState"),l(I,L),Object.defineProperties(I.prototype,{type:s,url:s,status:s,ok:s,redirected:s,statusText:s,headers:s,clone:s,body:s,bodyUsed:s,[Symbol.toStringTag]:{value:"Response",configurable:!0}}),Object.defineProperties(I,{json:s,redirect:s,error:s}),C.converters.XMLHttpRequestBodyInit=function(a,b,c){return"string"==typeof a?C.converters.USVString(a,b,c):C.is.Blob(a)||ArrayBuffer.isView(a)||G.isArrayBuffer(a)||C.is.FormData(a)||C.is.URLSearchParams(a)?a:C.converters.DOMString(a,b,c)},C.converters.BodyInit=function(a,b,c){return C.is.ReadableStream(a)||a?.[Symbol.asyncIterator]?a:C.converters.XMLHttpRequestBodyInit(a,b,c)},C.converters.ResponseInit=C.dictionaryConverter([{key:"status",converter:C.converters["unsigned short"],defaultValue:()=>200},{key:"statusText",converter:C.converters.ByteString,defaultValue:()=>""},{key:"headers",converter:C.converters.HeadersInit}]),C.is.Response=C.util.MakeTypeAssertion(I),a.exports={isNetworkError:Q,makeNetworkError:P,makeResponse:O,makeAppropriateNetworkError:T,filterResponse:S,Response:I,cloneResponse:N,fromInnerResponse:V,getResponseState:L}},62445:(a,b,c)=>{"use strict";var d;c.d(b,{Gz:()=>e,L0:()=>f,cm:()=>d}),function(a){a.STANDARD="standard",a.ADAPTIVE="adaptive"}(d||(d={}));let e=3,f=d.STANDARD},62503:(a,b,c)=>{"use strict";c.d(b,{r:()=>m});var d=c(35183),e=c(96683),f=c(86069),g=c(46386),h=c(23271),i=c(66089),j=c(5556),k=c(85144),l=c(52096);let m=async a=>{let b=a;try{let a,c=await (0,h.n)(b.req),{collection:{config:i},req:m,req:{payload:{config:o,secret:p}}}=b=await (0,e.v)({args:b,collection:b.collection.config,operation:"refresh"});if(!b.req.user)throw new f.c(b.req.t);let q=new URL(b.req.url).pathname===o.routes.graphQL,r=await m.payload.db.findOne({collection:i.slug,req:m,where:{id:{equals:b.req.user.id}}}),s=b.req.user._sid;if(i.auth.useSessions&&!i.auth.disableLocalStrategy){if(!Array.isArray(r.sessions)||!s)throw new f.c(b.req.t);let a=r.sessions.find(({id:a})=>a===s),c=new Date,d=1e3*i.auth.tokenExpiration;a.expiresAt=new Date(c.getTime()+d),r.updatedAt=null,await m.payload.db.updateOne({id:r.id,collection:i.slug,data:{...r,sessions:(0,l.b)(r.sessions)},req:m,returning:!1})}for(let c of((r=await m.payload.findByID({id:r.id,collection:i.slug,depth:q?0:b.collection.config.auth.depth,req:b.req}))&&(r.collection=b.req.user.collection,r._strategy=b.req.user._strategy),b.collection.config.hooks.refresh)){let d=await c({args:b,user:r});if(d){a=d;break}}if(!a){let c=(0,j.C)({collectionConfig:i,email:r?.email,sid:s,user:b?.req?.user}),{exp:d,token:e}=await (0,k.h)({fieldsToSign:c,secret:p,tokenExpiration:i.auth.tokenExpiration});a={exp:d,refreshedToken:e,setCookie:!0,strategy:b.req.user._strategy,user:r}}if(i.hooks?.afterRefresh?.length)for(let c of i.hooks.afterRefresh)a=await c({collection:b.collection?.config,context:b.req.context,exp:a.exp,req:b.req,token:a.refreshedToken})||a;return a=await (0,d.E)({args:b,collection:b.collection?.config,operation:"refresh",result:a}),c&&await (0,g.w)(m),a}catch(a){throw await (0,i.J)(b.req),a}}},62717:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.findWidthInConsole=b.stripAnsi=void 0;let d=c(51857),e=/\x1b\[\d{1,3}(;\d{1,3})*m/g;b.stripAnsi=a=>a.replace(e,"");let f=(a,c)=>{let e=0;return a=(0,b.stripAnsi)(a),c&&Object.entries(c).forEach(([b,c])=>{let d=RegExp(b,"g");e+=(a.match(d)||[]).length*c,a=a.replace(b,"")}),e+=(0,d.wcswidth)(a)};b.findWidthInConsole=f},62741:(a,b,c)=>{"use strict";let d=c(18150),e=c(79349),f=c(50529),g=c(3339);a.exports={err:d,errWithCause:e,mapHttpRequest:f.mapHttpRequest,mapHttpResponse:g.mapHttpResponse,req:f.reqSerializer,res:g.resSerializer,wrapErrorSerializer:function(a){return a===d?a:function(b){return a(d(b))}},wrapRequestSerializer:function(a){return a===f.reqSerializer?a:function(b){return a(f.reqSerializer(b))}},wrapResponseSerializer:function(a){return a===g.resSerializer?a:function(b){return a(g.resSerializer(b))}}}},63190:(a,b,c)=>{"use strict";let d=c(4984),{action:e}=c(78339),f=c(94735),{beep:g,cursor:h}=c(40821),i=c(85558);class j extends f{constructor(a={}){super(),this.firstRender=!0,this.in=a.stdin||process.stdin,this.out=a.stdout||process.stdout,this.onRender=(a.onRender||(()=>void 0)).bind(this);let b=d.createInterface({input:this.in,escapeCodeTimeout:50});d.emitKeypressEvents(this.in,b),this.in.isTTY&&this.in.setRawMode(!0);let c=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,f=(a,b)=>{let d=e(b,c);!1===d?this._&&this._(a,b):"function"==typeof this[d]?this[d](b):this.bell()};this.close=()=>{this.out.write(h.show),this.in.removeListener("keypress",f),this.in.isTTY&&this.in.setRawMode(!1),b.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",f)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(g)}render(){this.onRender(i),this.firstRender&&(this.firstRender=!1)}}a.exports=j},63367:a=>{"use strict";a.exports=JSON.parse('{"126":{"description":"126 Mail (NetEase)","host":"smtp.126.com","port":465,"secure":true},"163":{"description":"163 Mail (NetEase)","host":"smtp.163.com","port":465,"secure":true},"1und1":{"description":"1&1 Mail (German hosting provider)","host":"smtp.1und1.de","port":465,"secure":true,"authMethod":"LOGIN"},"Aliyun":{"description":"Alibaba Cloud Mail","domains":["aliyun.com"],"host":"smtp.aliyun.com","port":465,"secure":true},"AliyunQiye":{"description":"Alibaba Cloud Enterprise Mail","host":"smtp.qiye.aliyun.com","port":465,"secure":true},"AOL":{"description":"AOL Mail","domains":["aol.com"],"host":"smtp.aol.com","port":587},"Aruba":{"description":"Aruba PEC (Italian email provider)","domains":["aruba.it","pec.aruba.it"],"aliases":["Aruba PEC"],"host":"smtps.aruba.it","port":465,"secure":true,"authMethod":"LOGIN"},"Bluewin":{"description":"Bluewin (Swiss email provider)","host":"smtpauths.bluewin.ch","domains":["bluewin.ch"],"port":465},"BOL":{"description":"BOL Mail (Brazilian provider)","domains":["bol.com.br"],"host":"smtp.bol.com.br","port":587,"requireTLS":true},"DebugMail":{"description":"DebugMail (email testing service)","host":"debugmail.io","port":25},"Disroot":{"description":"Disroot (privacy-focused provider)","domains":["disroot.org"],"host":"disroot.org","port":587,"secure":false,"authMethod":"LOGIN"},"DynectEmail":{"description":"Dyn Email Delivery","aliases":["Dynect"],"host":"smtp.dynect.net","port":25},"ElasticEmail":{"description":"Elastic Email","aliases":["Elastic Email"],"host":"smtp.elasticemail.com","port":465,"secure":true},"Ethereal":{"description":"Ethereal Email (email testing service)","aliases":["ethereal.email"],"host":"smtp.ethereal.email","port":587},"FastMail":{"description":"FastMail","domains":["fastmail.fm"],"host":"smtp.fastmail.com","port":465,"secure":true},"Feishu Mail":{"description":"Feishu Mail (Lark)","aliases":["Feishu","FeishuMail"],"domains":["www.feishu.cn"],"host":"smtp.feishu.cn","port":465,"secure":true},"Forward Email":{"description":"Forward Email (email forwarding service)","aliases":["FE","ForwardEmail"],"domains":["forwardemail.net"],"host":"smtp.forwardemail.net","port":465,"secure":true},"GandiMail":{"description":"Gandi Mail","aliases":["Gandi","Gandi Mail"],"host":"mail.gandi.net","port":587},"Gmail":{"description":"Gmail","aliases":["Google Mail"],"domains":["gmail.com","googlemail.com"],"host":"smtp.gmail.com","port":465,"secure":true},"GMX":{"description":"GMX Mail","domains":["gmx.com","gmx.net","gmx.de"],"host":"mail.gmx.com","port":587},"Godaddy":{"description":"GoDaddy Email (US)","host":"smtpout.secureserver.net","port":25},"GodaddyAsia":{"description":"GoDaddy Email (Asia)","host":"smtp.asia.secureserver.net","port":25},"GodaddyEurope":{"description":"GoDaddy Email (Europe)","host":"smtp.europe.secureserver.net","port":25},"hot.ee":{"description":"Hot.ee (Estonian email provider)","host":"mail.hot.ee"},"Hotmail":{"description":"Outlook.com / Hotmail","aliases":["Outlook","Outlook.com","Hotmail.com"],"domains":["hotmail.com","outlook.com"],"host":"smtp-mail.outlook.com","port":587},"iCloud":{"description":"iCloud Mail","aliases":["Me","Mac"],"domains":["me.com","mac.com"],"host":"smtp.mail.me.com","port":587},"Infomaniak":{"description":"Infomaniak Mail (Swiss hosting provider)","host":"mail.infomaniak.com","domains":["ik.me","ikmail.com","etik.com"],"port":587},"KolabNow":{"description":"KolabNow (secure email service)","domains":["kolabnow.com"],"aliases":["Kolab"],"host":"smtp.kolabnow.com","port":465,"secure":true,"authMethod":"LOGIN"},"Loopia":{"description":"Loopia (Swedish hosting provider)","host":"mailcluster.loopia.se","port":465},"Loops":{"description":"Loops","host":"smtp.loops.so","port":587},"mail.ee":{"description":"Mail.ee (Estonian email provider)","host":"smtp.mail.ee"},"Mail.ru":{"description":"Mail.ru","host":"smtp.mail.ru","port":465,"secure":true},"Mailcatch.app":{"description":"Mailcatch (email testing service)","host":"sandbox-smtp.mailcatch.app","port":2525},"Maildev":{"description":"MailDev (local email testing)","port":1025,"ignoreTLS":true},"MailerSend":{"description":"MailerSend","host":"smtp.mailersend.net","port":587},"Mailgun":{"description":"Mailgun","host":"smtp.mailgun.org","port":465,"secure":true},"Mailjet":{"description":"Mailjet","host":"in.mailjet.com","port":587},"Mailosaur":{"description":"Mailosaur (email testing service)","host":"mailosaur.io","port":25},"Mailtrap":{"description":"Mailtrap","host":"live.smtp.mailtrap.io","port":587},"Mandrill":{"description":"Mandrill (by Mailchimp)","host":"smtp.mandrillapp.com","port":587},"Naver":{"description":"Naver Mail (Korean email provider)","host":"smtp.naver.com","port":587},"OhMySMTP":{"description":"OhMySMTP (email delivery service)","host":"smtp.ohmysmtp.com","port":587,"secure":false},"One":{"description":"One.com Email","host":"send.one.com","port":465,"secure":true},"OpenMailBox":{"description":"OpenMailBox","aliases":["OMB","openmailbox.org"],"host":"smtp.openmailbox.org","port":465,"secure":true},"Outlook365":{"description":"Microsoft 365 / Office 365","host":"smtp.office365.com","port":587,"secure":false},"Postmark":{"description":"Postmark","aliases":["PostmarkApp"],"host":"smtp.postmarkapp.com","port":2525},"Proton":{"description":"Proton Mail","aliases":["ProtonMail","Proton.me","Protonmail.com","Protonmail.ch"],"domains":["proton.me","protonmail.com","pm.me","protonmail.ch"],"host":"smtp.protonmail.ch","port":587,"requireTLS":true},"qiye.aliyun":{"description":"Alibaba Mail Enterprise Edition","host":"smtp.mxhichina.com","port":"465","secure":true},"QQ":{"description":"QQ Mail","domains":["qq.com"],"host":"smtp.qq.com","port":465,"secure":true},"QQex":{"description":"QQ Enterprise Mail","aliases":["QQ Enterprise"],"domains":["exmail.qq.com"],"host":"smtp.exmail.qq.com","port":465,"secure":true},"Resend":{"description":"Resend","host":"smtp.resend.com","port":465,"secure":true},"Runbox":{"description":"Runbox (Norwegian email provider)","domains":["runbox.com"],"host":"smtp.runbox.com","port":465,"secure":true},"SendCloud":{"description":"SendCloud (Chinese email delivery)","host":"smtp.sendcloud.net","port":2525},"SendGrid":{"description":"SendGrid","host":"smtp.sendgrid.net","port":587},"SendinBlue":{"description":"Brevo (formerly Sendinblue)","aliases":["Brevo"],"host":"smtp-relay.brevo.com","port":587},"SendPulse":{"description":"SendPulse","host":"smtp-pulse.com","port":465,"secure":true},"SES":{"description":"AWS SES US East (N. Virginia)","host":"email-smtp.us-east-1.amazonaws.com","port":465,"secure":true},"SES-AP-NORTHEAST-1":{"description":"AWS SES Asia Pacific (Tokyo)","host":"email-smtp.ap-northeast-1.amazonaws.com","port":465,"secure":true},"SES-AP-NORTHEAST-2":{"description":"AWS SES Asia Pacific (Seoul)","host":"email-smtp.ap-northeast-2.amazonaws.com","port":465,"secure":true},"SES-AP-NORTHEAST-3":{"description":"AWS SES Asia Pacific (Osaka)","host":"email-smtp.ap-northeast-3.amazonaws.com","port":465,"secure":true},"SES-AP-SOUTH-1":{"description":"AWS SES Asia Pacific (Mumbai)","host":"email-smtp.ap-south-1.amazonaws.com","port":465,"secure":true},"SES-AP-SOUTHEAST-1":{"description":"AWS SES Asia Pacific (Singapore)","host":"email-smtp.ap-southeast-1.amazonaws.com","port":465,"secure":true},"SES-AP-SOUTHEAST-2":{"description":"AWS SES Asia Pacific (Sydney)","host":"email-smtp.ap-southeast-2.amazonaws.com","port":465,"secure":true},"SES-CA-CENTRAL-1":{"description":"AWS SES Canada (Central)","host":"email-smtp.ca-central-1.amazonaws.com","port":465,"secure":true},"SES-EU-CENTRAL-1":{"description":"AWS SES Europe (Frankfurt)","host":"email-smtp.eu-central-1.amazonaws.com","port":465,"secure":true},"SES-EU-NORTH-1":{"description":"AWS SES Europe (Stockholm)","host":"email-smtp.eu-north-1.amazonaws.com","port":465,"secure":true},"SES-EU-WEST-1":{"description":"AWS SES Europe (Ireland)","host":"email-smtp.eu-west-1.amazonaws.com","port":465,"secure":true},"SES-EU-WEST-2":{"description":"AWS SES Europe (London)","host":"email-smtp.eu-west-2.amazonaws.com","port":465,"secure":true},"SES-EU-WEST-3":{"description":"AWS SES Europe (Paris)","host":"email-smtp.eu-west-3.amazonaws.com","port":465,"secure":true},"SES-SA-EAST-1":{"description":"AWS SES South America (S\xe3o Paulo)","host":"email-smtp.sa-east-1.amazonaws.com","port":465,"secure":true},"SES-US-EAST-1":{"description":"AWS SES US East (N. Virginia)","host":"email-smtp.us-east-1.amazonaws.com","port":465,"secure":true},"SES-US-EAST-2":{"description":"AWS SES US East (Ohio)","host":"email-smtp.us-east-2.amazonaws.com","port":465,"secure":true},"SES-US-GOV-EAST-1":{"description":"AWS SES GovCloud (US-East)","host":"email-smtp.us-gov-east-1.amazonaws.com","port":465,"secure":true},"SES-US-GOV-WEST-1":{"description":"AWS SES GovCloud (US-West)","host":"email-smtp.us-gov-west-1.amazonaws.com","port":465,"secure":true},"SES-US-WEST-1":{"description":"AWS SES US West (N. California)","host":"email-smtp.us-west-1.amazonaws.com","port":465,"secure":true},"SES-US-WEST-2":{"description":"AWS SES US West (Oregon)","host":"email-smtp.us-west-2.amazonaws.com","port":465,"secure":true},"Seznam":{"description":"Seznam Email (Czech email provider)","aliases":["Seznam Email"],"domains":["seznam.cz","email.cz","post.cz","spoluzaci.cz"],"host":"smtp.seznam.cz","port":465,"secure":true},"SMTP2GO":{"description":"SMTP2GO","host":"mail.smtp2go.com","port":2525},"Sparkpost":{"description":"SparkPost","aliases":["SparkPost","SparkPost Mail"],"domains":["sparkpost.com"],"host":"smtp.sparkpostmail.com","port":587,"secure":false},"Tipimail":{"description":"Tipimail (email delivery service)","host":"smtp.tipimail.com","port":587},"Tutanota":{"description":"Tutanota (Tuta Mail)","domains":["tutanota.com","tuta.com","tutanota.de","tuta.io"],"host":"smtp.tutanota.com","port":465,"secure":true},"Yahoo":{"description":"Yahoo Mail","domains":["yahoo.com"],"host":"smtp.mail.yahoo.com","port":465,"secure":true},"Yandex":{"description":"Yandex Mail","domains":["yandex.ru"],"host":"smtp.yandex.ru","port":465,"secure":true},"Zimbra":{"description":"Zimbra Mail Server","aliases":["Zimbra Collaboration"],"host":"smtp.zimbra.com","port":587,"requireTLS":true},"Zoho":{"description":"Zoho Mail","host":"smtp.zoho.com","port":465,"secure":true,"authMethod":"LOGIN"}}')},63590:a=>{"use strict";class b{constructor({token:a,date:b,parts:c,locales:d}){this.token=a,this.date=b||new Date,this.parts=c||[this],this.locales=d||{}}up(){}down(){}next(){let a=this.parts.indexOf(this);return this.parts.find((c,d)=>d>a&&c instanceof b)}setTo(a){}prev(){let a=[].concat(this.parts).reverse(),c=a.indexOf(this);return a.find((a,d)=>d>c&&a instanceof b)}toString(){return String(this.date)}}a.exports=b},63882:(a,b,c)=>{"use strict";c.d(b,{p:()=>p});var d=c(33873),e=c(55599),f=c(54031);let g=a=>Object.entries(a).filter(([a])=>{let b=a.indexOf(f.Q);return -1!==b&&Object.values(e.I).includes(a.substring(0,b))}).reduce((a,[b,c])=>{let d=b.indexOf(f.Q);return a[b.substring(0,d)===e.I.PROFILE?b.substring(d+1):b]=c,a},{...a.default&&{default:a.default}});var h=c(57885),i=c(33282);let j="AWS_SHARED_CREDENTIALS_FILE",k=()=>process.env[j]||(0,d.join)((0,i.R)(),".aws","credentials");var l=c(29523),m=c(41358);let o=()=>({}),p=async(a={})=>{let{filepath:b=k(),configFilepath:c=(0,h.g)()}=a,e=(0,i.R)(),f="~/",j=b;b.startsWith(f)&&(j=(0,d.join)(e,b.slice(2)));let p=c;c.startsWith(f)&&(p=(0,d.join)(e,c.slice(2)));let q=await Promise.all([(0,m.TA)(p,{ignoreCache:a.ignoreCache}).then(l.A).then(g).catch(o),(0,m.TA)(j,{ignoreCache:a.ignoreCache}).then(l.A).catch(o)]);return{configFile:q[0],credentialsFile:q[1]}}},63965:(a,b,c)=>{"use strict";let d=c(91645),e=c(34631),f=c(79551);function g(a,b,c,h){let i,j,k,l=f.parse(a);i={host:l.hostname,port:Number(l.port)?Number(l.port):"https:"===l.protocol?443:80},"https:"===l.protocol?(i.rejectUnauthorized=!1,j=e.connect.bind(e)):j=d.connect.bind(d);let m=!1,o=a=>{if(!m){m=!0;try{k.destroy()}catch(a){}h(a)}},p=()=>{let a=Error("Proxy socket timed out");a.code="ETIMEDOUT",o(a)};(k=j(i,()=>{if(m)return;let a={Host:c+":"+b,Connection:"close"};l.auth&&(a["Proxy-Authorization"]="Basic "+Buffer.from(l.auth).toString("base64")),k.write("CONNECT "+c+":"+b+" HTTP/1.1\r\n"+Object.keys(a).map(b=>b+": "+a[b]).join("\r\n")+"\r\n\r\n");let d="",e=a=>{let b,c;if(!m&&(d+=a.toString("binary"),b=d.match(/\r\n\r\n/))){if(k.removeListener("data",e),c=d.substr(b.index+b[0].length),d=d.substr(0,b.index),c&&k.unshift(Buffer.from(c,"binary")),m=!0,!(b=d.match(/^HTTP\/\d+\.\d+ (\d+)/i))||"2"!==(b[1]||"").charAt(0)){try{k.destroy()}catch(a){}return h(Error("Invalid response from proxy"+(b&&": "+b[1]||"")))}return k.removeListener("error",o),k.removeListener("timeout",p),k.setTimeout(0),h(null,k)}};k.on("data",e)})).setTimeout(g.timeout||3e4),k.on("timeout",p),k.once("error",o)}a.exports=g},64262:(a,b,c)=>{"use strict";c.d(b,{C:()=>e});var d=c(30648);class e extends d.m{name="CredentialsProviderError";constructor(a,b=!0){super(a,b),Object.setPrototypeOf(this,e.prototype)}}},64422:(a,b,c)=>{"use strict";var d;Object.defineProperty(b,"__esModule",{value:!0}),b.ValueScope=b.ValueScopeName=b.Scope=b.varKinds=b.UsedValueState=void 0;let e=c(37133);class f extends Error{constructor(a){super(`CodeGen: "code" for ${a} not defined`),this.value=a.value}}!function(a){a[a.Started=0]="Started",a[a.Completed=1]="Completed"}(d||(b.UsedValueState=d={})),b.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class g{constructor({prefixes:a,parent:b}={}){this._names={},this._prefixes=a,this._parent=b}toName(a){return a instanceof e.Name?a:this.name(a)}name(a){return new e.Name(this._newName(a))}_newName(a){let b=this._names[a]||this._nameGroup(a);return`${a}${b.index++}`}_nameGroup(a){var b,c;if((null==(c=null==(b=this._parent)?void 0:b._prefixes)?void 0:c.has(a))||this._prefixes&&!this._prefixes.has(a))throw Error(`CodeGen: prefix "${a}" is not allowed in this scope`);return this._names[a]={prefix:a,index:0}}}b.Scope=g;class h extends e.Name{constructor(a,b){super(b),this.prefix=a}setValue(a,{property:b,itemIndex:c}){this.value=a,this.scopePath=(0,e._)`.${new e.Name(b)}[${c}]`}}b.ValueScopeName=h;let i=(0,e._)`\n`;class j extends g{constructor(a){super(a),this._values={},this._scope=a.scope,this.opts={...a,_n:a.lines?i:e.nil}}get(){return this._scope}name(a){return new h(a,this._newName(a))}value(a,b){var c;if(void 0===b.ref)throw Error("CodeGen: ref must be passed in value");let d=this.toName(a),{prefix:e}=d,f=null!=(c=b.key)?c:b.ref,g=this._values[e];if(g){let a=g.get(f);if(a)return a}else g=this._values[e]=new Map;g.set(f,d);let h=this._scope[e]||(this._scope[e]=[]),i=h.length;return h[i]=b.ref,d.setValue(b,{property:e,itemIndex:i}),d}getValue(a,b){let c=this._values[a];if(c)return c.get(b)}scopeRefs(a,b=this._values){return this._reduceValues(b,b=>{if(void 0===b.scopePath)throw Error(`CodeGen: name "${b}" has no value`);return(0,e._)`${a}${b.scopePath}`})}scopeCode(a=this._values,b,c){return this._reduceValues(a,a=>{if(void 0===a.value)throw Error(`CodeGen: name "${a}" has no value`);return a.value.code},b,c)}_reduceValues(a,c,g={},h){let i=e.nil;for(let j in a){let k=a[j];if(!k)continue;let l=g[j]=g[j]||new Map;k.forEach(a=>{if(l.has(a))return;l.set(a,d.Started);let g=c(a);if(g){let c=this.opts.es5?b.varKinds.var:b.varKinds.const;i=(0,e._)`${i}${c} ${a} = ${g};${this.opts._n}`}else if(g=null==h?void 0:h(a))i=(0,e._)`${i}${g}${this.opts._n}`;else throw new f(a);l.set(a,d.Completed)})}return i}}b.ValueScope=j},64608:(a,b,c)=>{"use strict";let d=c(26749),{ResponseError:e}=c(64737);class f extends d{#aZ;#a$;#a_;#av;#a0;constructor(a,{handler:b}){super(b)}#a1(a){return 0===(this.#a$??"").indexOf(a)}onRequestStart(a,b){return this.#aZ=0,this.#a$=null,this.#a_=null,this.#av=null,this.#a0="",super.onRequestStart(a,b)}onResponseStart(a,b,c,d){if(this.#aZ=b,this.#av=c,this.#a$=c["content-type"],this.#aZ<400)return super.onResponseStart(a,b,c,d);(this.#a1("application/json")||this.#a1("text/plain"))&&(this.#a_=new TextDecoder("utf-8"))}onResponseData(a,b){if(this.#aZ<400)return super.onResponseData(a,b);this.#a0+=this.#a_?.decode(b,{stream:!0})??""}onResponseEnd(a,b){if(this.#aZ>=400){let b;if(this.#a0+=this.#a_?.decode(void 0,{stream:!1})??"",this.#a1("application/json"))try{this.#a0=JSON.parse(this.#a0)}catch{}let c=Error.stackTraceLimit;Error.stackTraceLimit=0;try{b=new e("Response Error",this.#aZ,{body:this.#a0,headers:this.#av})}finally{Error.stackTraceLimit=c}super.onResponseError(a,b)}else super.onResponseEnd(a,b)}onResponseError(a,b){super.onResponseError(a,b)}}a.exports=()=>a=>function(b,c){return a(b,new f(b,{handler:c}))}},64722:(a,b,c)=>{"use strict";var d;let e=c(77531),f=c(72953),g=c(24626),h=c(97715),i=c(83927),j=c(72338),k=c(50271),l=c(15184),m=c(54649),o=c(64737),p=c(81350),{InvalidArgumentError:q}=o,r=c(96577),s=c(62094),t=c(8867),{MockCallHistory:u,MockCallHistoryLog:v}=c(38281),w=c(74895),x=c(97402),y=c(44967),z=c(24682),{getGlobalDispatcher:A,setGlobalDispatcher:B}=c(22787),C=c(26749),D=c(10760);function E(a){return(b,c,d)=>{if("function"==typeof c&&(d=c,c=null),!b||"string"!=typeof b&&"object"!=typeof b&&!(b instanceof URL))throw new q("invalid url");if(null!=c&&"object"!=typeof c)throw new q("invalid opts");if(c&&null!=c.path){if("string"!=typeof c.path)throw new q("invalid opts.path");let a=c.path;c.path.startsWith("/")||(a=`/${a}`),b=new URL(p.parseOrigin(b).origin+a)}else c||(c="object"==typeof b?b:{}),b=p.parseURL(b);let{agent:e,dispatcher:f=A()}=c;if(e)throw new q("unsupported opts.agent. Did you mean opts.client?");return a.call(f,{...c,origin:b.origin,path:b.search?`${b.pathname}${b.search}`:b.pathname,method:c.method||(c.body?"PUT":"GET")},d)}}Object.assign(f.prototype,r),d=f,d=e,d=g,d=h,a.exports.g6=i,d=j,d=k,d=l,d=m,d=z,d=C,d=D,d={redirect:c(57516),responseError:c(64608),retry:c(52772),dump:c(51222),dns:c(56205),cache:c(51840)},d={MemoryCacheStore:c(13163)},d=c(11836),d=s,d=o,d={parseHeaders:p.parseHeaders,headerNameToString:p.headerNameToString},d=B,d=A;let F=c(55852).fetch;a.exports.hd=async function(a,b){try{return await F(a,b)}catch(a){throw a&&"object"==typeof a&&Error.captureStackTrace(a),a}},c(98114).Headers,c(62285).Response,c(40369).Request,c(47904).FormData;let{setGlobalOrigin:G,getGlobalOrigin:H}=c(31117);d=G,d=H;let{CacheStorage:I}=c(77791),{kConstruct:J}=c(10257);d=new I(J);let{deleteCookie:K,getCookies:L,getSetCookies:M,setCookie:N,parseCookie:O}=c(45611);d=K,d=L,d=M,d=N,d=O;let{parseMIMEType:P,serializeAMimeType:Q}=c(62018);d=P,d=Q;let{CloseEvent:R,ErrorEvent:S,MessageEvent:T}=c(54514);c(13184).WebSocket,d=R,d=S,d=T,c(25679).WebSocketStream,c(34037).WebSocketError,d=E(r.request),d=E(r.stream),d=E(r.pipeline),d=E(r.connect),d=E(r.upgrade),d=t,d=u,d=v,d=x,d=w,d=y;let{EventSource:U}=c(23280);d=U},64737:a=>{"use strict";class b extends Error{constructor(a,b){super(a,b),this.name="UndiciError",this.code="UND_ERR"}}class c extends b{constructor(a){super(a),this.name="ConnectTimeoutError",this.message=a||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}}class d extends b{constructor(a){super(a),this.name="HeadersTimeoutError",this.message=a||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}}class e extends b{constructor(a){super(a),this.name="HeadersOverflowError",this.message=a||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}}class f extends b{constructor(a){super(a),this.name="BodyTimeoutError",this.message=a||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}}class g extends b{constructor(a,b,c,d){super(a),this.name="ResponseStatusCodeError",this.message=a||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=d,this.status=b,this.statusCode=b,this.headers=c}}class h extends b{constructor(a){super(a),this.name="InvalidArgumentError",this.message=a||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}}class i extends b{constructor(a){super(a),this.name="InvalidReturnValueError",this.message=a||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}}class j extends b{constructor(a){super(a),this.name="AbortError",this.message=a||"The operation was aborted"}}class k extends j{constructor(a){super(a),this.name="AbortError",this.message=a||"Request aborted",this.code="UND_ERR_ABORTED"}}class l extends b{constructor(a){super(a),this.name="InformationalError",this.message=a||"Request information",this.code="UND_ERR_INFO"}}class m extends b{constructor(a){super(a),this.name="RequestContentLengthMismatchError",this.message=a||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}}class o extends b{constructor(a){super(a),this.name="ResponseContentLengthMismatchError",this.message=a||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}}class p extends b{constructor(a){super(a),this.name="ClientDestroyedError",this.message=a||"The client is destroyed",this.code="UND_ERR_DESTROYED"}}class q extends b{constructor(a){super(a),this.name="ClientClosedError",this.message=a||"The client is closed",this.code="UND_ERR_CLOSED"}}class r extends b{constructor(a,b){super(a),this.name="SocketError",this.message=a||"Socket error",this.code="UND_ERR_SOCKET",this.socket=b}}class s extends b{constructor(a){super(a),this.name="NotSupportedError",this.message=a||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}}class t extends b{constructor(a){super(a),this.name="MissingUpstreamError",this.message=a||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}}class u extends Error{constructor(a,b,c){super(a),this.name="HTTPParserError",this.code=b?`HPE_${b}`:void 0,this.data=c?c.toString():void 0}}class v extends b{constructor(a){super(a),this.name="ResponseExceededMaxSizeError",this.message=a||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}}class w extends b{constructor(a,b,{headers:c,data:d}){super(a),this.name="RequestRetryError",this.message=a||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=b,this.data=d,this.headers=c}}class x extends b{constructor(a,b,{headers:c,body:d}){super(a),this.name="ResponseError",this.message=a||"Response error",this.code="UND_ERR_RESPONSE",this.statusCode=b,this.body=d,this.headers=c}}class y extends b{constructor(a,b,c={}){super(b,{cause:a,...c}),this.name="SecureProxyConnectionError",this.message=b||"Secure Proxy Connection failed",this.code="UND_ERR_PRX_TLS",this.cause=a}}a.exports={AbortError:j,HTTPParserError:u,UndiciError:b,HeadersTimeoutError:d,HeadersOverflowError:e,BodyTimeoutError:f,RequestContentLengthMismatchError:m,ConnectTimeoutError:c,ResponseStatusCodeError:g,InvalidArgumentError:h,InvalidReturnValueError:i,RequestAbortedError:k,ClientDestroyedError:p,ClientClosedError:q,InformationalError:l,SocketError:r,NotSupportedError:s,ResponseContentLengthMismatchError:o,BalancedPoolMissingUpstreamError:t,ResponseExceededMaxSizeError:v,RequestRetryError:w,ResponseError:x,SecureProxyConnectionError:y}},64746:(a,b,c)=>{"use strict";c.d(b,{c:()=>d});class d{statusCode;reason;headers;body;constructor(a){this.statusCode=a.statusCode,this.reason=a.reason,this.headers=a.headers||{},this.body=a.body}static isInstance(a){if(!a)return!1;let b=a;return"number"==typeof b.statusCode&&"object"==typeof b.headers}}},64955:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(34414);b.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:a,parentSchema:b,it:c}){void 0===b.if&&(0,d.checkStrictMode)(c,`"${a}" without "if" is ignored`)}}},65188:(a,b,c)=>{"use strict";let d=c(27910).Transform;function e(a){return"string"==typeof a&&(a=Buffer.from(a,"utf-8")),a.toString("base64")}function f(a,b){if(a=(a||"").toString(),b=b||76,a.length<=b)return a;let c=[],d=0,e=1024*b;for(;d<a.length;){let f=a.substr(d,e).replace(RegExp(".{"+b+"}","g"),"$&\r\n");c.push(f),d+=e}return c.join("")}class g extends d{constructor(a){super(),this.options=a||{},!1!==this.options.lineLength&&(this.options.lineLength=this.options.lineLength||76),this._curLine="",this._remainingBytes=!1,this.inputBytes=0,this.outputBytes=0}_transform(a,b,c){if("buffer"!==b&&(a=Buffer.from(a,b)),!a||!a.length)return setImmediate(c);this.inputBytes+=a.length,this._remainingBytes&&this._remainingBytes.length&&(a=Buffer.concat([this._remainingBytes,a],this._remainingBytes.length+a.length),this._remainingBytes=!1),a.length%3?(this._remainingBytes=a.slice(a.length-a.length%3),a=a.slice(0,a.length-a.length%3)):this._remainingBytes=!1;let d=this._curLine+e(a);if(this.options.lineLength){let a=(d=f(d,this.options.lineLength)).lastIndexOf("\n");a<0?(this._curLine=d,d=""):(this._curLine=d.substring(a+1),(d=d.substring(0,a+1))&&!d.endsWith("\r\n")&&(d+="\r\n"))}else this._curLine="";d&&(this.outputBytes+=d.length,this.push(Buffer.from(d,"ascii"))),setImmediate(c)}_flush(a){this._remainingBytes&&this._remainingBytes.length&&(this._curLine+=e(this._remainingBytes)),this._curLine&&(this.outputBytes+=this._curLine.length,this.push(Buffer.from(this._curLine,"ascii")),this._curLine=""),a()}}a.exports={encode:e,wrap:f,Encoder:g}},65540:(a,b,c)=>{"use strict";function d(a){return null!==a&&"object"==typeof a&&"relationTo"in a&&"value"in a}function e(a){return"group"===a.type||"array"===a.type||"row"===a.type||"collapsible"===a.type}function f(a){return"object"==typeof a}function g(a){return"select"===a.type||"relationship"===a.type||"upload"===a.type}function h(a){return("upload"===a.type||"relationship"===a.type||"join"===a.type)&&"number"==typeof a.maxDepth}function i(a){return"ui"===a.type}function j(a){return"name"in a&&"id"===a.name}function k(a){return"hidden"in a&&a.hidden||"admin"in a&&"disabled"in a.admin&&a.admin.disabled}function l(a){return"name"in a&&!i(a)}function m(a){return"name"in a}function o(a){return"localized"in a&&a.localized}function p({field:a,parentIsLocalized:b}){return"localized"in a&&a.localized&&(!b||"true"===process.env.NEXT_PUBLIC_PAYLOAD_COMPATIBILITY_allowLocalizedWithinLocalized)}function q(a){return"virtual"in a&&!!a.virtual}c.d(b,{Cd:()=>p,Ez:()=>g,I2:()=>k,IC:()=>q,M2:()=>h,Yf:()=>o,Z7:()=>l,aO:()=>i,b_:()=>d,pz:()=>m,sd:()=>e,uT:()=>j,vs:()=>f})},65679:(a,b,c)=>{"use strict";c.d(b,{AV:()=>e,sO:()=>d});let d={getCurrentDate:()=>new Date,shouldAutoRun:!0,shouldAutoSchedule:!0},e=()=>d.getCurrentDate()},65716:(a,b,c)=>{"use strict";function d(a){return a&&"object"==typeof a}c.d(b,{L:()=>d})},66081:a=>{"use strict";a.exports={isValidLastEventId:function(a){return -1===a.indexOf("\0")},isASCIINumber:function(a){if(0===a.length)return!1;for(let b=0;b<a.length;b++)if(48>a.charCodeAt(b)||a.charCodeAt(b)>57)return!1;return!0},delay:function(a){return new Promise(b=>{setTimeout(b,a).unref()})}}},66089:(a,b,c)=>{"use strict";async function d(a){let{payload:b,transactionID:c}=a;if(c&&!(c instanceof Promise)){try{await b.db.rollbackTransaction(a.transactionID)}catch(a){}delete a.transactionID}}c.d(b,{J:()=>d})},66093:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(26582),e=c(47934);b.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:a})=>(0,e.str)`must match pattern "${a}"`,params:({schemaCode:a})=>(0,e._)`{pattern: ${a}}`},code(a){let{data:b,$data:c,schema:f,schemaCode:g,it:h}=a,i=h.opts.unicodeRegExp?"u":"",j=c?(0,e._)`(new RegExp(${g}, ${i}))`:(0,d.usePattern)(a,f);a.fail$data((0,e._)`!${j}.test(${b})`)}}},66129:(a,b,c)=>{"use strict";let d=c(55511);function e(a){return d.createHash("md5").update(a,"utf-8").digest("hex")}function f(a){return d.createHash("sha256").update(a).digest()}function g(a,b){return a=a.replace(/(\D)-/,"$1"),d.createHash(a).update(b).digest()}function h(a,b){return d.createHmac("sha256",a).update(b).digest()}async function i(a,b,c){return d.pbkdf2Sync(a,b,c,32,"sha256")}a.exports={postgresMd5PasswordHash:function(a,b,c){let d=e(b+a);return"md5"+e(Buffer.concat([Buffer.from(d),c]))},randomBytes:d.randomBytes,deriveKey:i,sha256:f,hashByName:g,hmacSha256:h,md5:e}},66175:(a,b,c)=>{let d=c(55511);a.exports={postgresMd5PasswordHash:j,randomBytes:h,deriveKey:o,sha256:k,hashByName:l,hmacSha256:m,md5:i};let e=d.webcrypto||globalThis.crypto,f=e.subtle,g=new TextEncoder;function h(a){return e.getRandomValues(Buffer.alloc(a))}async function i(a){try{return d.createHash("md5").update(a,"utf-8").digest("hex")}catch(c){let b="string"==typeof a?g.encode(a):a;return Array.from(new Uint8Array(await f.digest("MD5",b))).map(a=>a.toString(16).padStart(2,"0")).join("")}}async function j(a,b,c){let d=await i(b+a);return"md5"+await i(Buffer.concat([Buffer.from(d),c]))}async function k(a){return await f.digest("SHA-256",a)}async function l(a,b){return await f.digest(a,b)}async function m(a,b){let c=await f.importKey("raw",a,{name:"HMAC",hash:"SHA-256"},!1,["sign"]);return await f.sign("HMAC",c,g.encode(b))}async function o(a,b,c){let d=await f.importKey("raw",g.encode(a),"PBKDF2",!1,["deriveBits"]),e={name:"PBKDF2",hash:"SHA-256",salt:b,iterations:c};return await f.deriveBits(e,d,256,["deriveBits"])}},66231:(a,b,c)=>{"use strict";let{tokenChars:d}=c(72783);function e(a,b,c){void 0===a[b]?a[b]=[c]:a[b].push(c)}a.exports={format:function(a){return Object.keys(a).map(b=>{let c=a[b];return Array.isArray(c)||(c=[c]),c.map(a=>[b].concat(Object.keys(a).map(b=>{let c=a[b];return Array.isArray(c)||(c=[c]),c.map(a=>!0===a?b:`${b}=${a}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(a){let b,c,f=Object.create(null),g=Object.create(null),h=!1,i=!1,j=!1,k=-1,l=-1,m=-1,o=0;for(;o<a.length;o++)if(l=a.charCodeAt(o),void 0===b)if(-1===m&&1===d[l])-1===k&&(k=o);else if(0!==o&&(32===l||9===l))-1===m&&-1!==k&&(m=o);else if(59===l||44===l){if(-1===k)throw SyntaxError(`Unexpected character at index ${o}`);-1===m&&(m=o);let c=a.slice(k,m);44===l?(e(f,c,g),g=Object.create(null)):b=c,k=m=-1}else throw SyntaxError(`Unexpected character at index ${o}`);else if(void 0===c)if(-1===m&&1===d[l])-1===k&&(k=o);else if(32===l||9===l)-1===m&&-1!==k&&(m=o);else if(59===l||44===l){if(-1===k)throw SyntaxError(`Unexpected character at index ${o}`);-1===m&&(m=o),e(g,a.slice(k,m),!0),44===l&&(e(f,b,g),g=Object.create(null),b=void 0),k=m=-1}else if(61===l&&-1!==k&&-1===m)c=a.slice(k,o),k=m=-1;else throw SyntaxError(`Unexpected character at index ${o}`);else if(i){if(1!==d[l])throw SyntaxError(`Unexpected character at index ${o}`);-1===k?k=o:h||(h=!0),i=!1}else if(j)if(1===d[l])-1===k&&(k=o);else if(34===l&&-1!==k)j=!1,m=o;else if(92===l)i=!0;else throw SyntaxError(`Unexpected character at index ${o}`);else if(34===l&&61===a.charCodeAt(o-1))j=!0;else if(-1===m&&1===d[l])-1===k&&(k=o);else if(-1!==k&&(32===l||9===l))-1===m&&(m=o);else if(59===l||44===l){if(-1===k)throw SyntaxError(`Unexpected character at index ${o}`);-1===m&&(m=o);let d=a.slice(k,m);h&&(d=d.replace(/\\/g,""),h=!1),e(g,c,d),44===l&&(e(f,b,g),g=Object.create(null),b=void 0),c=void 0,k=m=-1}else throw SyntaxError(`Unexpected character at index ${o}`);if(-1===k||j||32===l||9===l)throw SyntaxError("Unexpected end of input");-1===m&&(m=o);let p=a.slice(k,m);return void 0===b?e(f,p,g):(void 0===c?e(g,p,!0):h?e(g,c,p.replace(/\\/g,"")):e(g,c,p),e(f,b,g)),f}}},66400:(a,b,c)=>{"use strict";let{maxNameValuePairSize:d,maxAttributeValueSize:e}=c(71278),{isCTLExcludingHtab:f}=c(79467),{collectASequenceOfCodePointsFast:g}=c(62018),h=c(34589),{unescape:i}=c(41792);function j(a,b={}){if(0===a.length)return b;h(";"===a[0]);let c="";(a=a.slice(1)).includes(";")?(c=g(";",a,{position:0}),a=a.slice(c.length)):(c=a,a="");let d="",f="";if(c.includes("=")){let a={position:0};d=g("=",c,a),f=c.slice(a.position+1)}else d=c;if(d=d.trim(),(f=f.trim()).length>e)return j(a,b);let i=d.toLowerCase();if("expires"===i)b.expires=new Date(f);else if("max-age"===i){let c=f.charCodeAt(0);if((c<48||c>57)&&"-"!==f[0]||!/^\d+$/.test(f))return j(a,b);b.maxAge=Number(f)}else if("domain"===i){let a=f;"."===a[0]&&(a=a.slice(1)),b.domain=a=a.toLowerCase()}else if("path"===i){let a="";b.path=a=0===f.length||"/"!==f[0]?"/":f}else if("secure"===i)b.secure=!0;else if("httponly"===i)b.httpOnly=!0;else if("samesite"===i){let a="Default",c=f.toLowerCase();c.includes("none")&&(a="None"),c.includes("strict")&&(a="Strict"),c.includes("lax")&&(a="Lax"),b.sameSite=a}else b.unparsed??=[],b.unparsed.push(`${d}=${f}`);return j(a,b)}a.exports={parseSetCookie:function(a){if(f(a))return null;let b="",c="",e="",h="";if(a.includes(";")){let d={position:0};b=g(";",a,d),c=a.slice(d.position)}else b=a;if(b.includes("=")){let a={position:0};e=g("=",b,a),h=b.slice(a.position+1)}else h=b;return(e=e.trim(),h=h.trim(),e.length+h.length>d)?null:{name:e,value:i(h),...j(c)}},parseUnparsedAttributes:j}},66424:(a,b,c)=>{"use strict";let d=c(61971),e=c(49026),f=c(87392),g=c(98703),h=c(86310),i=c(85383),j=c(11353),k=c(27552),l=c(68573),m=c(30124),o=(process.env.ETHEREAL_API||"https://api.nodemailer.com").replace(/\/+$/,""),p=(process.env.ETHEREAL_WEB||"https://ethereal.email").replace(/\/+$/,""),q=(process.env.ETHEREAL_API_KEY||"").replace(/\s*/g,"")||null,r=["true","yes","y","1"].includes((process.env.ETHEREAL_CACHE||"yes").toString().trim().toLowerCase()),s=!1;a.exports.createTransport=function(a,b){let c,l;if("object"==typeof a&&"function"!=typeof a.send||"string"==typeof a&&/^(smtps?|direct):/i.test(a))if((l=(c="string"==typeof a?a:a.url)?e.parseConnectionUrl(c):a).pool)a=new f(l);else if(l.sendmail)a=new h(l);else if(l.streamTransport)a=new i(l);else if(l.jsonTransport)a=new j(l);else if(l.SES){if(l.SES.ses&&l.SES.aws){let a=Error("Using legacy SES configuration, expecting @aws-sdk/client-sesv2, see https://nodemailer.com/transports/ses/");throw a.code="LegacyConfig",a}a=new k(l)}else a=new g(l);return new d(a,l,b)},a.exports.createTestAccount=function(a,b){let c;if(b||"function"!=typeof a||(b=a,a=!1),b||(c=new Promise((a,c)=>{b=e.callbackPromise(a,c)})),r&&s)return setImmediate(()=>b(null,s)),c;a=a||o;let d=[],f=0,g={},h={requestor:m.name,version:m.version};q&&(g.Authorization="Bearer "+q);let i=l(a+"/user",{contentType:"application/json",method:"POST",headers:g,body:Buffer.from(JSON.stringify(h))});return i.on("readable",()=>{let a;for(;null!==(a=i.read());)d.push(a),f+=a.length}),i.once("error",a=>b(a)),i.once("end",()=>{let a,c,e=Buffer.concat(d,f);try{a=JSON.parse(e.toString())}catch(a){c=a}return c?b(c):"success"!==a.status||a.error?b(Error(a.error||"Request failed")):void(delete a.status,b(null,s=a))}),c},a.exports.getTestMessageUrl=function(a){if(!a||!a.response)return!1;let b=new Map;return a.response.replace(/\[([^\]]+)\]$/,(a,c)=>{c.replace(/\b([A-Z0-9]+)=([^\s]+)/g,(a,c,d)=>{b.set(c,d)})}),!!(b.has("STATUS")&&b.has("MSGID"))&&(s.web||p)+"/message/"+b.get("MSGID")}},67125:(a,b,c)=>{"use strict";let{Transform:d}=c(57075),{isASCIINumber:e,isValidLastEventId:f}=c(66081),g=[239,187,191],h=10,i=13,j=58,k=32;class l extends d{state;checkBOM=!0;crlfCheck=!1;eventEndCheck=!1;buffer=null;pos=0;event={data:void 0,event:void 0,id:void 0,retry:void 0};constructor(a={}){a.readableObjectMode=!0,super(a),this.state=a.eventSourceSettings||{},a.push&&(this.push=a.push)}_transform(a,b,c){if(0===a.length)return void c();if(this.buffer?this.buffer=Buffer.concat([this.buffer,a]):this.buffer=a,this.checkBOM)switch(this.buffer.length){case 1:if(this.buffer[0]===g[0])return void c();this.checkBOM=!1,c();return;case 2:if(this.buffer[0]===g[0]&&this.buffer[1]===g[1])return void c();this.checkBOM=!1;break;case 3:if(this.buffer[0]===g[0]&&this.buffer[1]===g[1]&&this.buffer[2]===g[2]){this.buffer=Buffer.alloc(0),this.checkBOM=!1,c();return}this.checkBOM=!1;break;default:this.buffer[0]===g[0]&&this.buffer[1]===g[1]&&this.buffer[2]===g[2]&&(this.buffer=this.buffer.subarray(3)),this.checkBOM=!1}for(;this.pos<this.buffer.length;){if(this.eventEndCheck){if(this.crlfCheck){if(this.buffer[this.pos]===h){this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.crlfCheck=!1;continue}this.crlfCheck=!1}if(this.buffer[this.pos]===h||this.buffer[this.pos]===i){this.buffer[this.pos]===i&&(this.crlfCheck=!0),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,(void 0!==this.event.data||this.event.event||this.event.id||this.event.retry)&&this.processEvent(this.event),this.clearEvent();continue}this.eventEndCheck=!1;continue}if(this.buffer[this.pos]===h||this.buffer[this.pos]===i){this.buffer[this.pos]===i&&(this.crlfCheck=!0),this.parseLine(this.buffer.subarray(0,this.pos),this.event),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.eventEndCheck=!0;continue}this.pos++}c()}parseLine(a,b){if(0===a.length)return;let c=a.indexOf(j);if(0===c)return;let d="",g="";if(-1!==c){d=a.subarray(0,c).toString("utf8");let b=c+1;a[b]===k&&++b,g=a.subarray(b).toString("utf8")}else d=a.toString("utf8"),g="";switch(d){case"data":void 0===b[d]?b[d]=g:b[d]+=`
${g}`;break;case"retry":e(g)&&(b[d]=g);break;case"id":f(g)&&(b[d]=g);break;case"event":g.length>0&&(b[d]=g)}}processEvent(a){a.retry&&e(a.retry)&&(this.state.reconnectionTime=parseInt(a.retry,10)),a.id&&f(a.id)&&(this.state.lastEventId=a.id),void 0!==a.data&&this.push({type:a.event||"message",options:{data:a.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}}a.exports={EventSourceStream:l}},67189:(a,b,c)=>{"use strict";function d(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}h.done?b(i):Promise.resolve(i).then(d,e)}function e(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function h(a){d(g,e,f,h,i,"next",a)}function i(a){d(g,e,f,h,i,"throw",a)}h(void 0)})}}let f=c(85558),g=c(42319),h=c(13576),i=h.style,j=h.clear,k=h.figures,l=c(40821),m=l.erase,o=l.cursor,p=c(18754),q=p.DatePart,r=p.Meridiem,s=p.Day,t=p.Hours,u=p.Milliseconds,v=p.Minutes,w=p.Month,x=p.Seconds,y=p.Year,z=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,A={1:({token:a})=>a.replace(/\\(.)/g,"$1"),2:a=>new s(a),3:a=>new w(a),4:a=>new y(a),5:a=>new r(a),6:a=>new t(a),7:a=>new v(a),8:a=>new x(a),9:a=>new u(a)},B={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class C extends g{constructor(a={}){super(a),this.msg=a.message,this.cursor=0,this.typed="",this.locales=Object.assign(B,a.locales),this._date=a.initial||new Date,this.errorMsg=a.error||"Please Enter A Valid Value",this.validator=a.validate||(()=>!0),this.mask=a.mask||"YYYY-MM-DD HH:mm:ss",this.clear=j("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(a){a&&this._date.setTime(a.getTime())}set mask(a){let b;for(this.parts=[];b=z.exec(a);){let a=b.shift(),c=b.findIndex(a=>null!=a);this.parts.push(c in A?A[c]({token:b[c]||a,date:this.date,parts:this.parts,locales:this.locales}):b[c]||a)}let c=this.parts.reduce((a,b)=>("string"==typeof b&&"string"==typeof a[a.length-1]?a[a.length-1]+=b:a.push(b),a),[]);this.parts.splice(0),this.parts.push(...c),this.reset()}moveCursor(a){this.typed="",this.cursor=a,this.fire()}reset(){this.moveCursor(this.parts.findIndex(a=>a instanceof q)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var a=this;return e(function*(){let b=yield a.validator(a.value);"string"==typeof b&&(a.errorMsg=b,b=!1),a.error=!b})()}submit(){var a=this;return e(function*(){if(yield a.validate(),a.error){a.color="red",a.fire(),a.render();return}a.done=!0,a.aborted=!1,a.fire(),a.render(),a.out.write("\n"),a.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let a=this.parts[this.cursor].prev();if(null==a)return this.bell();this.moveCursor(this.parts.indexOf(a)),this.render()}right(){let a=this.parts[this.cursor].next();if(null==a)return this.bell();this.moveCursor(this.parts.indexOf(a)),this.render()}next(){let a=this.parts[this.cursor].next();this.moveCursor(a?this.parts.indexOf(a):this.parts.findIndex(a=>a instanceof q)),this.render()}_(a){/\d/.test(a)&&(this.typed+=a,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(o.hide):this.out.write(j(this.outputText,this.out.columns)),super.render(),this.outputText=[i.symbol(this.done,this.aborted),f.bold(this.msg),i.delimiter(!1),this.parts.reduce((a,b,c)=>a.concat(c!==this.cursor||this.done?b:f.cyan().underline(b.toString())),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce((a,b,c)=>a+`
${c?" ":k.pointerSmall} ${f.red().italic(b)}`,"")),this.out.write(m.line+o.to(0)+this.outputText))}}a.exports=C},67323:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});let e=d(c(82302));b.default=a=>{let b=0;for(let c=0;c<a.length;c++){let d=a.charCodeAt(c),f=e.default(d);if(f<0)return -1;b+=f}return b}},67380:(a,b,c)=>{"use strict";let d=c(91513);class e extends d{constructor(a={}){super(a)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(a){this.date.setSeconds(parseInt(a.substr(-2)))}toString(){let a=this.date.getSeconds();return this.token.length>1?String(a).padStart(2,"0"):a}}a.exports=e},67420:(a,b,c)=>{"use strict";c.d(b,{C:()=>g});var d=c(91035),e=c(96366),f=c(24281);let g=a=>{let b,c=a.tls??!0,{endpoint:g,useDualstackEndpoint:h,useFipsEndpoint:i}=a,j=Object.assign(a,{endpoint:null!=g?async()=>(0,f.a)(await (0,d.t)(g)()):void 0,tls:c,isCustomEndpoint:!!g,useDualstackEndpoint:(0,d.t)(h??!1),useFipsEndpoint:(0,d.t)(i??!1)});return j.serviceConfiguredEndpoint=async()=>(a.serviceId&&!b&&(b=(0,e.k)(a.serviceId)),b),j}},67552:(a,b,c)=>{"use strict";let d=c(27910).Stream,e=c(18223),f=c(55511),g=c(32488);class h extends d{constructor(a,b){if(super(),this.options=a||{},a&&a.serviceClient){if(!a.privateKey||!a.user)return void setImmediate(()=>this.emit("error",Error('Options "privateKey" and "user" are required for service account!')));let b=Math.min(Math.max(Number(this.options.serviceRequestTimeout)||0,0),3600);this.options.serviceRequestTimeout=b||300}if(this.logger=g.getLogger({logger:b},{component:this.options.component||"OAuth2"}),this.provisionCallback="function"==typeof this.options.provisionCallback&&this.options.provisionCallback,this.options.accessUrl=this.options.accessUrl||"https://accounts.google.com/o/oauth2/token",this.options.customHeaders=this.options.customHeaders||{},this.options.customParams=this.options.customParams||{},this.accessToken=this.options.accessToken||!1,this.options.expires&&Number(this.options.expires))this.expires=this.options.expires;else{let a=Math.max(Number(this.options.timeout)||0,0);this.expires=a&&Date.now()+1e3*a||0}this.renewing=!1,this.renewalQueue=[]}getToken(a,b){if(!a&&this.accessToken&&(!this.expires||this.expires>Date.now()))return this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"reuse"},"Reusing existing access token for %s",this.options.user),b(null,this.accessToken);if(!this.provisionCallback&&!this.options.refreshToken&&!this.options.serviceClient)return this.accessToken?(this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"reuse"},"Reusing existing access token (no refresh capability) for %s",this.options.user),b(null,this.accessToken)):(this.logger.error({tnx:"OAUTH2",user:this.options.user,action:"renew"},"Cannot renew access token for %s: No refresh mechanism available",this.options.user),b(Error("Can't create new access token for user")));if(this.renewing)return this.renewalQueue.push({renew:a,callback:b});this.renewing=!0;let c=(a,c)=>{this.renewalQueue.forEach(b=>b.callback(a,c)),this.renewalQueue=[],this.renewing=!1,a?this.logger.error({err:a,tnx:"OAUTH2",user:this.options.user,action:"renew"},"Failed generating new Access Token for %s",this.options.user):this.logger.info({tnx:"OAUTH2",user:this.options.user,action:"renew"},"Generated new Access Token for %s",this.options.user),b(a,c)};this.provisionCallback?this.provisionCallback(this.options.user,!!a,(a,b,d)=>{!a&&b&&(this.accessToken=b,this.expires=d||0),c(a,b)}):this.generateToken(c)}updateToken(a,b){this.accessToken=a,b=Math.max(Number(b)||0,0),this.expires=b&&Date.now()+1e3*b||0,this.emit("token",{user:this.options.user,accessToken:a||"",expires:this.expires})}generateToken(a){let b,c;if(this.options.serviceClient){let d,e=Math.floor(Date.now()/1e3),f={iss:this.options.serviceClient,scope:this.options.scope||"https://mail.google.com/",sub:this.options.user,aud:this.options.accessUrl,iat:e,exp:e+this.options.serviceRequestTimeout};try{d=this.jwtSignRS256(f)}catch(b){return a(Error("Can't generate token. Check your auth options"))}b={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:d},c={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:f}}else{if(!this.options.refreshToken)return a(Error("Can't create new access token for user"));b={client_id:this.options.clientId||"",client_secret:this.options.clientSecret||"",refresh_token:this.options.refreshToken,grant_type:"refresh_token"},c={client_id:this.options.clientId||"",client_secret:(this.options.clientSecret||"").substr(0,6)+"...",refresh_token:(this.options.refreshToken||"").substr(0,6)+"...",grant_type:"refresh_token"}}Object.keys(this.options.customParams).forEach(a=>{b[a]=this.options.customParams[a],c[a]=this.options.customParams[a]}),this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"generate"},"Requesting token using: %s",JSON.stringify(c)),this.postRequest(this.options.accessUrl,b,this.options,(b,c)=>{let d;if(b)return a(b);try{d=JSON.parse(c.toString())}catch(b){return a(b)}if(!d||"object"!=typeof d)return this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"post"},"Response: %s",(c||"").toString()),a(Error("Invalid authentication response"));let e={};if(Object.keys(d).forEach(a=>{"access_token"!==a?e[a]=d[a]:e[a]=(d[a]||"").toString().substr(0,6)+"..."}),this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"post"},"Response: %s",JSON.stringify(e)),d.error){let b=d.error;return d.error_description&&(b+=": "+d.error_description),d.error_uri&&(b+=" ("+d.error_uri+")"),a(Error(b))}return d.access_token?(this.updateToken(d.access_token,d.expires_in),a(null,this.accessToken)):a(Error("No access token"))})}buildXOAuth2Token(a){let b=["user="+(this.options.user||""),"auth=Bearer "+(a||this.accessToken),"",""];return Buffer.from(b.join("\x01"),"utf-8").toString("base64")}postRequest(a,b,c,d){let f=!1,g=[],h=0,i=e(a,{method:"post",headers:c.customHeaders,body:b,allowErrorResponse:!0});i.on("readable",()=>{let a;for(;null!==(a=i.read());)g.push(a),h+=a.length}),i.once("error",a=>{if(!f)return f=!0,d(a)}),i.once("end",()=>{if(!f)return f=!0,d(null,Buffer.concat(g,h))})}toBase64URL(a){return"string"==typeof a&&(a=Buffer.from(a)),a.toString("base64").replace(/[=]+/g,"").replace(/\+/g,"-").replace(/\//g,"_")}jwtSignRS256(a){a=['{"alg":"RS256","typ":"JWT"}',JSON.stringify(a)].map(a=>this.toBase64URL(a)).join(".");let b=f.createSign("RSA-SHA256").update(a).sign(this.options.privateKey);return a+"."+this.toBase64URL(b)}}a.exports=h},67557:(a,b,c)=>{"use strict";c.d(b,{D:()=>e});let d=/^-?\d*(\.\d+)?$/;class e{string;type;constructor(a,b){if(this.string=a,this.type=b,!d.test(a))throw Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](a){if(!a||"object"!=typeof a)return!1;let b=a;return e.prototype.isPrototypeOf(a)||"bigDecimal"===b.type&&d.test(b.string)}}},67648:a=>{"use strict";function b(a,b){let c,d,f,g=!1,h="text",i=[],j={address:[],comment:[],group:[],text:[],textWasQuoted:[]},k=!1;for(d=0,f=a.length;d<f;d++){let b=a[d],c=d?a[d-1]:null;if("operator"===b.type)switch(b.value){case"<":h="address",k=!1;break;case"(":h="comment",k=!1;break;case":":h="group",g=!0,k=!1;break;case'"':k=!k,h="text";break;default:h="text",k=!1}else b.value&&("address"===h&&(b.value=b.value.replace(/^[^<]*<\s*/,"")),c&&c.noBreak&&j[h].length?(j[h][j[h].length-1]+=b.value,"text"===h&&k&&(j.textWasQuoted[j.textWasQuoted.length-1]=!0)):(j[h].push(b.value),"text"===h&&j.textWasQuoted.push(k)))}if(!j.text.length&&j.comment.length&&(j.text=j.comment,j.comment=[]),g){j.text=j.text.join(" ");let a=[];j.group.length&&e(j.group.join(","),{_depth:b+1}).forEach(b=>{b.group?a=a.concat(b.group):a.push(b)}),i.push({name:j.text||c&&c.name,group:a})}else{if(!j.address.length&&j.text.length){for(d=j.text.length-1;d>=0;d--)if(!j.textWasQuoted[d]&&j.text[d].match(/^[^@\s]+@[^@\s]+$/)){j.address=j.text.splice(d,1),j.textWasQuoted.splice(d,1);break}let a=function(a){return j.address.length?a:(j.address=[a.trim()]," ")};if(!j.address.length)for(d=j.text.length-1;d>=0&&(j.textWasQuoted[d]||(j.text[d]=j.text[d].replace(/\s*\b[^@\s]+@[^\s]+\b\s*/,a).trim(),!j.address.length));d--);}if(!j.text.length&&j.comment.length&&(j.text=j.comment,j.comment=[]),j.address.length>1&&(j.text=j.text.concat(j.address.splice(1))),j.text=j.text.join(" "),j.address=j.address.join(" "),!j.address&&g)return[];(c={address:j.address||j.text||"",name:j.text||j.address||""}).address===c.name&&((c.address||"").match(/@/)?c.name="":c.address=""),i.push(c)}return i}class c{constructor(a){this.str=(a||"").toString(),this.operatorCurrent="",this.operatorExpecting="",this.node=null,this.escaped=!1,this.list=[],this.operators={'"':'"',"(":")","<":">",",":"",":":";",";":""}}tokenize(){let a=[];for(let a=0,b=this.str.length;a<b;a++){let c=this.str.charAt(a),d=a<b-1?this.str.charAt(a+1):null;this.checkChar(c,d)}return this.list.forEach(b=>{b.value=(b.value||"").toString().trim(),b.value&&a.push(b)}),a}checkChar(a,b){if(this.escaped);else if(a===this.operatorExpecting){this.node={type:"operator",value:a},b&&![" ","	","\r","\n",",",";"].includes(b)&&(this.node.noBreak=!0),this.list.push(this.node),this.node=null,this.operatorExpecting="",this.escaped=!1;return}else if(!this.operatorExpecting&&a in this.operators){this.node={type:"operator",value:a},this.list.push(this.node),this.node=null,this.operatorExpecting=this.operators[a],this.escaped=!1;return}else if(['"',"'"].includes(this.operatorExpecting)&&"\\"===a){this.escaped=!0;return}this.node||(this.node={type:"text",value:""},this.list.push(this.node)),"\n"===a&&(a=" "),(a.charCodeAt(0)>=33||[" ","	"].includes(a))&&(this.node.value+=a),this.escaped=!1}}let d=50;function e(a,e){let f=(e=e||{})._depth||0;if(f>d)return[];let g=new c(a).tokenize(),h=[],i=[],j=[];if(g.forEach(a=>{"operator"===a.type&&(","===a.value||";"===a.value)?(i.length&&h.push(i),i=[]):i.push(a)}),i.length&&h.push(i),h.forEach(a=>{(a=b(a,f)).length&&(j=j.concat(a))}),e.flatten){let a=[],b=c=>{c.forEach(c=>{if(c.group)return b(c.group);a.push(c)})};return b(j),a}return j}a.exports=e},67899:(a,b,c)=>{"use strict";let{MockNotMatchedError:d}=c(44967),{kDispatches:e,kMockAgent:f,kOriginalDispatch:g,kOrigin:h,kGetNetConnect:i}=c(59343),{serializePathWithQuery:j}=c(81350),{STATUS_CODES:k}=c(37067),{types:{isPromise:l}}=c(57975),{InvalidArgumentError:m}=c(64737);function o(a,b){return"string"==typeof a?a===b:a instanceof RegExp?a.test(b):"function"==typeof a&&!0===a(b)}function p(a){return Object.fromEntries(Object.entries(a).map(([a,b])=>[a.toLocaleLowerCase(),b]))}function q(a,b){if(Array.isArray(a)){for(let c=0;c<a.length;c+=2)if(a[c].toLocaleLowerCase()===b.toLocaleLowerCase())return a[c+1];return}return"function"==typeof a.get?a.get(b):p(a)[b.toLocaleLowerCase()]}function r(a){let b=a.slice(),c=[];for(let a=0;a<b.length;a+=2)c.push([b[a],b[a+1]]);return Object.fromEntries(c)}function s(a,b){if("function"==typeof a.headers)return Array.isArray(b)&&(b=r(b)),a.headers(b?p(b):{});if(void 0===a.headers)return!0;if("object"!=typeof b||"object"!=typeof a.headers)return!1;for(let[c,d]of Object.entries(a.headers))if(!o(d,q(b,c)))return!1;return!0}function t(a){if("string"!=typeof a)return a;let b=a.split("?",3);if(2!==b.length)return a;let c=new URLSearchParams(b.pop());return c.sort(),[...b,c.toString()].join("?")}function u(a,{path:b,method:c,body:d,headers:e}){let f=o(a.path,b),g=o(a.method,c),h=void 0===a.body||o(a.body,d),i=s(a,e);return f&&g&&h&&i}function v(a){if(Buffer.isBuffer(a)||a instanceof Uint8Array)return a;if(a instanceof ArrayBuffer)return a;if("object"==typeof a)return JSON.stringify(a);if(a)return a.toString();else return""}function w(a,b){let c=b.query?j(b.path,b.query):b.path,e="string"==typeof c?t(c):c,f=y(e),g=a.filter(({consumed:a})=>!a).filter(({path:a,ignoreTrailingSlash:b})=>b?o(y(t(a)),f):o(t(a),e));if(0===g.length)throw new d(`Mock dispatch not matched for path '${e}'`);if(0===(g=g.filter(({method:a})=>o(a,b.method))).length)throw new d(`Mock dispatch not matched for method '${b.method}' on path '${e}'`);if(0===(g=g.filter(({body:a})=>void 0===a||o(a,b.body))).length)throw new d(`Mock dispatch not matched for body '${b.body}' on path '${e}'`);if(0===(g=g.filter(a=>s(a,b.headers))).length){let a="object"==typeof b.headers?JSON.stringify(b.headers):b.headers;throw new d(`Mock dispatch not matched for headers '${a}' on path '${e}'`)}return g[0]}function x(a,b){let c=a.findIndex(a=>!!a.consumed&&u(a,b));-1!==c&&a.splice(c,1)}function y(a){for(;a.endsWith("/");)a=a.slice(0,-1);return 0===a.length&&(a="/"),a}function z(a){let{path:b,method:c,body:d,headers:e,query:f}=a;return{path:b,method:c,body:d,headers:e,query:f}}function A(a){let b=Object.keys(a),c=[];for(let d=0;d<b.length;++d){let e=b[d],f=a[e],g=Buffer.from(`${e}`);if(Array.isArray(f))for(let a=0;a<f.length;++a)c.push(g,Buffer.from(`${f[a]}`));else c.push(g,Buffer.from(`${f}`))}return c}function B(a){return k[a]||"unknown"}function C(a,b){let c=z(a),d=w(this[e],c);d.timesInvoked++,d.data.callback&&(d.data={...d.data,...d.data.callback(a)});let{data:{statusCode:f,data:g,headers:h,trailers:i,error:j},delay:k,persist:m}=d,{timesInvoked:o,times:p}=d;if(d.consumed=!m&&o>=p,d.pending=o<p,null!==j)return x(this[e],c),b.onError(j),!0;function q(d,e=g){let j=Array.isArray(a.headers)?r(a.headers):a.headers,k="function"==typeof e?e({...a,headers:j}):e;if(l(k))return void k.then(a=>q(d,a));let m=v(k),o=A(h),p=A(i);b.onConnect?.(a=>b.onError(a),null),b.onHeaders?.(f,o,s,B(f)),b.onData?.(Buffer.from(m)),b.onComplete?.(p),x(d,c)}function s(){}return"number"==typeof k&&k>0?setTimeout(()=>{q(this[e])},k):q(this[e]),!0}function D(){let a=this[f],b=this[h],c=this[g];return function(e,f){if(a.isMockActive)try{C.call(this,e,f)}catch(g){if(g instanceof d){let h=a[i]();if(!1===h)throw new d(`${g.message}: subsequent request to origin ${b} was not allowed (net.connect disabled)`);if(E(h,b))c.call(this,e,f);else throw new d(`${g.message}: subsequent request to origin ${b} was not allowed (net.connect is not enabled for this origin)`)}else throw g}else c.call(this,e,f)}}function E(a,b){let c=new URL(b);return!0===a||!!(Array.isArray(a)&&a.some(a=>o(a,c.host)))}a.exports={getResponseData:v,getMockDispatch:w,addMockDispatch:function(a,b,c,d){let e={timesInvoked:0,times:1,persist:!1,consumed:!1,...d},f="function"==typeof c?{callback:c}:{...c},g={...e,...b,pending:!0,data:{error:null,...f}};return a.push(g),g},deleteMockDispatch:x,buildKey:z,generateKeyValues:A,matchValue:o,getResponse:async function(a){let b=[];for await(let c of a)b.push(c);return Buffer.concat(b).toString("utf8")},getStatusText:B,mockDispatch:C,buildMockDispatch:D,checkNetConnect:E,buildAndValidateMockOptions:function(a){if(a){let{agent:b,...c}=a;if("enableCallHistory"in c&&"boolean"!=typeof c.enableCallHistory)throw new m("options.enableCallHistory must to be a boolean");if("acceptNonStandardSearchParameters"in c&&"boolean"!=typeof c.acceptNonStandardSearchParameters)throw new m("options.acceptNonStandardSearchParameters must to be a boolean");return c}},getHeaderByName:q,buildHeadersFromArray:r,normalizeSearchParams:function(a){if("string"!=typeof a)return a;let b=new URLSearchParams(a),c=new URLSearchParams;for(let[a,d]of b.entries()){if(a=a.replace("[]",""),/^(['"]).*\1$/.test(d)){c.append(a,d);continue}if(d.includes(",")){for(let b of d.split(","))c.append(a,b);continue}c.append(a,d)}return c}}},68229:(a,b,c)=>{"use strict";let d=c(27910).Transform;class e extends d{constructor(a){super(a),this.options=a||{},this._curLine="",this.inByteCount=0,this.outByteCount=0,this.lastByte=!1}_transform(a,b,c){let d,e=[],f=0,g,h,i=0;if(!a||!a.length)return c();for("string"==typeof a&&(a=Buffer.from(a)),this.inByteCount+=a.length,g=0,h=a.length;g<h;g++)46===a[g]?(!g||10!==a[g-1])&&(g||this.lastByte&&10!==this.lastByte)||(d=a.slice(i,g+1),e.push(d),e.push(Buffer.from(".")),f+=d.length+1,i=g+1):10===a[g]&&(g&&13!==a[g-1]||!g&&13!==this.lastByte)&&(g>i?(d=a.slice(i,g),e.push(d),f+=d.length+2):f+=2,e.push(Buffer.from("\r\n")),i=g+1);f?(i<a.length&&(d=a.slice(i),e.push(d),f+=d.length),this.outByteCount+=f,this.push(Buffer.concat(e,f))):(this.outByteCount+=a.length,this.push(a)),this.lastByte=a[a.length-1],c()}_flush(a){let b;b=10===this.lastByte?Buffer.from(".\r\n"):13===this.lastByte?Buffer.from("\n.\r\n"):Buffer.from("\r\n.\r\n"),this.outByteCount+=b.length,this.push(b),a()}}a.exports=e},68391:(a,b,c)=>{"use strict";let d=c(84806);a.exports=function(a,b){let c=String(d(a)||"").split(/\r?\n/);return b?c.map(a=>Math.ceil(a.length/b)).reduce((a,b)=>a+b):c.length}},68398:(a,b,c)=>{"use strict";c.d(b,{q:()=>s});var d=c(24401),e=c(35183),f=c(96683),g=c(70404),h=c(86069),i=c(10353),j=c(46386),k=c(23271),l=c(66089),m=c(5556),o=c(85144),p=c(52096),q=c(9198),r=c(15629);let s=async a=>{let{collection:{config:b},data:c,depth:s,overrideAccess:t,req:{payload:{secret:u},payload:v},req:w}=a;if(!Object.prototype.hasOwnProperty.call(c,"token")||!Object.prototype.hasOwnProperty.call(c,"password"))throw new g.L("Missing required data.",d.h.BAD_REQUEST);if(b.auth.disableLocalStrategy)throw new h.c(w.t);try{let h=await (0,k.n)(w);a=await (0,f.v)({args:a,collection:a.collection.config,operation:"resetPassword"});let l=(0,i.v)({enableTrash:!!b.trash,trash:!1,where:{resetPasswordExpiration:{greater_than:new Date().toISOString()},resetPasswordToken:{equals:c.token}}}),x=await v.db.findOne({collection:b.slug,req:w,where:l});if(!x)throw new g.L("Token is either invalid or has expired.",d.h.FORBIDDEN);let{hash:y,salt:z}=await (0,r.$)({collection:b,password:c.password,req:w});if(x.salt=z,x.hash=y,x.resetPasswordExpiration=new Date().toISOString(),b.auth.verify&&(x._verified=!!x._verified),b.hooks?.beforeValidate?.length)for(let c of b.hooks.beforeValidate)await c({collection:a.collection?.config,context:w.context,data:x,operation:"update",req:w});x.updatedAt=new Date().toISOString();let A=await v.db.updateOne({id:x.id,collection:b.slug,data:x,req:w});await (0,q.Q)({doc:A,password:c.password});let B={collectionConfig:b,email:x.email,user:x},{sid:C}=await (0,p.A)({collectionConfig:b,payload:v,req:w,user:x});C&&(B.sid=C);let D=(0,m.C)(B),E=x;if(b.hooks?.beforeLogin?.length)for(let c of b.hooks.beforeLogin)E=await c({collection:a.collection?.config,context:a.req.context,req:a.req,user:E})||E;let{token:F}=await (0,o.h)({fieldsToSign:D,secret:u,tokenExpiration:b.auth.tokenExpiration});if(w.user=E,b.hooks?.afterLogin?.length)for(let c of b.hooks.afterLogin)E=await c({collection:a.collection?.config,context:a.req.context,req:a.req,token:F,user:E})||E;let G=await v.findByID({id:x.id,collection:b.slug,depth:s,overrideAccess:t,req:w,trash:!1});h&&await (0,j.w)(w),G&&(G.collection=b.slug,G._strategy="local-jwt");let H={token:F,user:G};return H=await (0,e.E)({args:a,collection:a.collection?.config,operation:"resetPassword",result:H})}catch(a){throw await (0,l.J)(w),a}}},68573:(a,b,c)=>{"use strict";let d=c(81630),e=c(55591),f=c(79551),g=c(74075),h=c(27910).PassThrough,i=c(39962),j=c(30124),k=c(91645),l=5;function m(a,b){let c,o,p;(b=b||{}).fetchRes=b.fetchRes||new h,b.cookies=b.cookies||new i,b.redirects=b.redirects||0,b.maxRedirects=isNaN(b.maxRedirects)?l:b.maxRedirects,b.cookie&&([].concat(b.cookie||[]).forEach(c=>{b.cookies.set(c,a)}),b.cookie=!1);let q=b.fetchRes,r=f.parse(a),s=(b.method||"").toString().trim().toUpperCase()||"GET",t=!1,u="https:"===r.protocol?e:d,v={"accept-encoding":"gzip,deflate","user-agent":"nodemailer/"+j.version};if(Object.keys(b.headers||{}).forEach(a=>{v[a.toLowerCase().trim()]=b.headers[a]}),b.userAgent&&(v["user-agent"]=b.userAgent),r.auth&&(v.Authorization="Basic "+Buffer.from(r.auth).toString("base64")),(c=b.cookies.get(a))&&(v.cookie=c),b.body){if(!1!==b.contentType&&(v["Content-Type"]=b.contentType||"application/x-www-form-urlencoded"),"function"==typeof b.body.pipe)v["Transfer-Encoding"]="chunked",(o=b.body).on("error",b=>{t||(t=!0,b.type="FETCH",b.sourceUrl=a,q.emit("error",b))});else{if(b.body instanceof Buffer)o=b.body;else if("object"==typeof b.body)try{o=Buffer.from(Object.keys(b.body).map(a=>{let c=b.body[a].toString().trim();return encodeURIComponent(a)+"="+encodeURIComponent(c)}).join("&"))}catch(b){if(t)return;t=!0,b.type="FETCH",b.sourceUrl=a,q.emit("error",b);return}else o=Buffer.from(b.body.toString().trim());v["Content-Type"]=b.contentType||"application/x-www-form-urlencoded",v["Content-Length"]=o.length}s=(b.method||"").toString().trim().toUpperCase()||"POST"}let w={method:s,host:r.hostname,path:r.path,port:r.port?r.port:"https:"===r.protocol?443:80,headers:v,rejectUnauthorized:!1,agent:!1};b.tls&&Object.keys(b.tls).forEach(a=>{w[a]=b.tls[a]}),"https:"!==r.protocol||!r.hostname||r.hostname===w.host||k.isIP(r.hostname)||w.servername||(w.servername=r.hostname);try{p=u.request(w)}catch(b){return t=!0,setImmediate(()=>{b.type="FETCH",b.sourceUrl=a,q.emit("error",b)}),q}return b.timeout&&p.setTimeout(b.timeout,()=>{if(t)return;t=!0,p.abort();let b=Error("Request Timeout");b.type="FETCH",b.sourceUrl=a,q.emit("error",b)}),p.on("error",b=>{t||(t=!0,b.type="FETCH",b.sourceUrl=a,q.emit("error",b))}),p.on("response",c=>{let d;if(!t){switch(c.headers["content-encoding"]){case"gzip":case"deflate":d=g.createUnzip()}if(c.headers["set-cookie"]&&[].concat(c.headers["set-cookie"]||[]).forEach(c=>{b.cookies.set(c,a)}),[301,302,303,307,308].includes(c.statusCode)&&c.headers.location){if(b.redirects++,b.redirects>b.maxRedirects){t=!0;let b=Error("Maximum redirect count exceeded");b.type="FETCH",b.sourceUrl=a,q.emit("error",b),p.abort();return}return b.method="GET",b.body=!1,m(f.resolve(a,c.headers.location),b)}if(q.statusCode=c.statusCode,q.headers=c.headers,c.statusCode>=300&&!b.allowErrorResponse){t=!0;let b=Error("Invalid status code "+c.statusCode);b.type="FETCH",b.sourceUrl=a,q.emit("error",b),p.abort();return}c.on("error",b=>{t||(t=!0,b.type="FETCH",b.sourceUrl=a,q.emit("error",b),p.abort())}),d?(c.pipe(d).pipe(q),d.on("error",b=>{t||(t=!0,b.type="FETCH",b.sourceUrl=a,q.emit("error",b),p.abort())})):c.pipe(q)}}),setImmediate(()=>{if(o)try{if("function"==typeof o.pipe)return o.pipe(p);p.write(o)}catch(b){t=!0,b.type="FETCH",b.sourceUrl=a,q.emit("error",b);return}p.end()}),q}a.exports=function(a,b){return m(a,b)},a.exports.Cookies=i},68781:a=>{"use strict";a.exports=a=>{let b=RegExp("[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)|(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))","g");return"string"==typeof a?a.replace(b,""):a}},68794:a=>{"use strict";let b={arrowUp:"",arrowDown:"",arrowLeft:"",arrowRight:"",radioOn:"",radioOff:"",tick:"",cross:"",ellipsis:"",pointerSmall:"",line:"",pointer:""},c={arrowUp:b.arrowUp,arrowDown:b.arrowDown,arrowLeft:b.arrowLeft,arrowRight:b.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"",cross:"\xd7",ellipsis:"...",pointerSmall:"\xbb",line:"",pointer:">"};a.exports="win32"===process.platform?c:b},68874:a=>{"use strict";function b(a,b,c,d,e){for(let f=0;f<e;++f)if(a[b+f]!==c[d+f])return!1;return!0}class c{constructor(a,b){if("function"!=typeof b)throw Error("Missing match callback");if("string"==typeof a)a=Buffer.from(a);else if(!Buffer.isBuffer(a))throw Error(`Expected Buffer for needle, got ${typeof a}`);let c=a.length;if(this.maxMatches=1/0,this.matches=0,this._cb=b,this._lookbehindSize=0,this._needle=a,this._bufPos=0,this._lookbehind=Buffer.allocUnsafe(c),this._occ=[c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c],c>1)for(let b=0;b<c-1;++b)this._occ[a[b]]=c-1-b}reset(){this.matches=0,this._lookbehindSize=0,this._bufPos=0}push(a,b){let c;Buffer.isBuffer(a)||(a=Buffer.from(a,"latin1"));let e=a.length;for(this._bufPos=b||0;c!==e&&this.matches<this.maxMatches;)c=d(this,a);return c}destroy(){let a=this._lookbehindSize;a&&this._cb(!1,this._lookbehind,0,a,!1),this.reset()}}function d(a,c){let d=c.length,f=a._needle,g=f.length,h=-a._lookbehindSize,i=g-1,j=f[i],k=d-g,l=a._occ,m=a._lookbehind;if(h<0){for(;h<0&&h<=k;){let b=h+i,d=b<0?m[a._lookbehindSize+b]:c[b];if(d===j&&e(a,c,h,i))return a._lookbehindSize=0,++a.matches,h>-a._lookbehindSize?a._cb(!0,m,0,a._lookbehindSize+h,!1):a._cb(!0,void 0,0,0,!0),a._bufPos=h+g;h+=l[d]}for(;h<0&&!e(a,c,h,d-h);)++h;if(h<0){let b=a._lookbehindSize+h;return b>0&&a._cb(!1,m,0,b,!1),a._lookbehindSize-=b,m.copy(m,0,b,a._lookbehindSize),m.set(c,a._lookbehindSize),a._lookbehindSize+=d,a._bufPos=d,d}a._cb(!1,m,0,a._lookbehindSize,!1),a._lookbehindSize=0}h+=a._bufPos;let o=f[0];for(;h<=k;){let d=c[h+i];if(d===j&&c[h]===o&&b(f,0,c,h,i))return++a.matches,h>0?a._cb(!0,c,a._bufPos,h,!0):a._cb(!0,void 0,0,0,!0),a._bufPos=h+g;h+=l[d]}for(;h<d;){if(c[h]!==o||!b(c,h,f,0,d-h)){++h;continue}c.copy(m,0,h,d),a._lookbehindSize=d-h;break}return h>0&&a._cb(!1,c,a._bufPos,h<d?h:d,!0),a._bufPos=d,d}function e(a,b,c,d){let e=a._lookbehind,f=a._lookbehindSize,g=a._needle;for(let a=0;a<d;++a,++c)if((c<0?e[f+c]:b[c])!==g[a])return!1;return!0}a.exports=c},68982:(a,b,c)=>{"use strict";c.d(b,{fn:()=>g});var d=c(61302);let e=[{label:"301 - Permanent",value:"301"},{label:"302 - Temporary",value:"302"},{label:"303 - See Other",value:"303"},{label:"307 - Temporary Redirect",value:"307"},{label:"308 - Permanent Redirect",value:"308"}],f={en:{$schema:"../translation-schema.json","plugin-redirects":{customUrl:"Custom URL",documentToRedirect:"Document to redirect to",fromUrl:"From URL",internalLink:"Internal link",redirectType:"Redirect Type",toUrlType:"To URL Type"}},es:{$schema:"../translation-schema.json","plugin-redirects":{customUrl:"URL personalizada",documentToRedirect:"Documento al que redirigir",fromUrl:"URL de origen",internalLink:"Enlace interno",redirectType:"Tipo de redirecci\xf3n",toUrlType:"Tipo de URL de destino"}},fr:{$schema:"../translation-schema.json","plugin-redirects":{customUrl:"URL personnalis\xe9e",documentToRedirect:"Page de redirection",fromUrl:"URL d'origine",internalLink:"R\xe9f\xe9rence vers une page",redirectType:"Type de redirection",toUrlType:"Type d'URL de destination"}}},g=a=>b=>{b.i18n||(b.i18n={}),b.i18n?.translations||(b.i18n.translations={}),b.i18n.translations=(0,d.p)(f,b.i18n?.translations);let c={name:"type",type:"select",label:({t:a})=>a("plugin-redirects:redirectType"),options:e.filter(b=>a?.redirectTypes?.includes(b.value)),required:!0,...a?.redirectTypeFieldOverride||{}},g=[{name:"from",type:"text",index:!0,label:({t:a})=>a("plugin-redirects:fromUrl"),required:!0,unique:!0},{name:"to",type:"group",fields:[{name:"type",type:"radio",admin:{layout:"horizontal"},defaultValue:"reference",label:({t:a})=>a("plugin-redirects:toUrlType"),options:[{label:({t:a})=>a("plugin-redirects:internalLink"),value:"reference"},{label:({t:a})=>a("plugin-redirects:customUrl"),value:"custom"}]},{name:"reference",type:"relationship",admin:{condition:(a,b)=>b?.type==="reference"},label:({t:a})=>a("plugin-redirects:documentToRedirect"),relationTo:a?.collections||[],required:!0},{name:"url",type:"text",admin:{condition:(a,b)=>b?.type==="custom"},label:({t:a})=>a("plugin-redirects:customUrl"),required:!0}],label:!1},...a?.redirectTypes?[c]:[]],h={...a?.overrides||{},slug:a?.overrides?.slug||"redirects",access:{read:()=>!0,...a?.overrides?.access||{}},admin:{defaultColumns:["from","to.type","createdAt"],...a?.overrides?.admin||{}},fields:a?.overrides?.fields&&"function"==typeof a?.overrides?.fields?a?.overrides.fields({defaultFields:g}):g};return{...b,collections:[...b?.collections||[],h]}}},69022:(a,b,c)=>{"use strict";c.d(b,{hV:()=>h});var d=c(29351);let e="AWS_SDK_UA_APP_ID",f="sdk_ua_app_id",g="sdk-ua-app-id",h={environmentVariableSelector:a=>a[e],configFileSelector:a=>a[f]??a[g],default:d.b}},69138:(a,b,c)=>{"use strict";c.d(b,{Z:()=>x});var d=c(24401),e=c(99408),f=c(65716),g=c(10631),h=c(70404),i=c(82545),j=c(86069),k=c(46601),l=c(12442),m=c(41442),o=c(10353),p=c(46386),q=c(23271),r=c(66089),s=c(16886),t=c(58609),u=c(35183),v=c(96683),w=c(87963);let x=async a=>{let b=a;try{let a=!b.disableTransaction&&await (0,q.n)(b.req);(b=await (0,v.v)({args:b,collection:b.collection.config,operation:"update"})).publishSpecificLocale&&(b.req.locale=b.publishSpecificLocale);let{id:c,autosave:r=!1,collection:{config:x},collection:y,depth:z,draft:A=!1,overrideAccess:B,overrideLock:C,overwriteExistingFiles:D=!1,populate:E,publishSpecificLocale:F,req:{fallbackLocale:G,locale:H,payload:{config:I},payload:J},req:K,select:L,showHiddenFields:M,trash:N=!1}=b;if(!c)throw new h.L("Missing ID of document to update.",d.h.BAD_REQUEST);let{data:O}=b,P=!!B||await (0,e.m)({id:c,data:O,req:K},x.access.update),Q=(0,f.L)(P),R={id:{equals:c}},S=(0,g.m)(R,P);if(x.trash&&"object"==typeof O&&null!==O&&"deletedAt"in O&&null!=O.deletedAt&&!B){let a=await (0,e.m)({req:K},x.access.delete);S=(0,g.m)(S,a)}S=(0,o.v)({enableTrash:x.trash,trash:N,where:S});let T={collection:x.slug,locale:H,req:K,where:S},U=await (0,t.a)({id:c,config:x,payload:J,query:T,req:K});if(!U&&!Q)throw new i.M(K.t);if(!U&&Q)throw new j.c(K.t);if(!U)throw new i.M(K.t);let{data:V,files:W}=await (0,l.Y)({collection:y,config:I,data:O,operation:"update",overwriteExistingFiles:D,req:K,throwOnMissingFile:!1}),X=(0,s.Y)({fields:x.flattenedFields,forceSelect:x.forceSelect,select:L}),Y=await (0,w.l)({id:c,accessResults:P,autosave:r,collectionConfig:x,config:I,data:(0,k.Zt)(V),depth:z,docWithLocales:U,draftArg:A,fallbackLocale:G,filesToUpload:W,locale:H,overrideAccess:B,overrideLock:C,payload:J,populate:E,publishSpecificLocale:F,req:K,select:X,showHiddenFields:M});return await (0,m.b)({collectionConfig:x,config:I,req:K}),Y=await (0,u.E)({args:b,collection:x,operation:"updateByID",result:Y}),a&&await (0,p.w)(K),Y}catch(a){throw await (0,r.J)(b.req),a}}},69321:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MissingRefError=b.ValidationError=b.CodeGen=b.Name=b.nil=b.stringify=b.str=b._=b.KeywordCxt=b.Ajv=void 0;let d=c(30971),e=c(1411),f=c(37592),g=c(12197),h=["/properties"],i="http://json-schema.org/draft-07/schema";class j extends d.default{_addVocabularies(){super._addVocabularies(),e.default.forEach(a=>this.addVocabulary(a)),this.opts.discriminator&&this.addKeyword(f.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let a=this.opts.$data?this.$dataMetaSchema(g,h):g;this.addMetaSchema(a,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}b.Ajv=j,a.exports=b=j,a.exports.Ajv=j,Object.defineProperty(b,"__esModule",{value:!0}),b.default=j;var k=c(7235);Object.defineProperty(b,"KeywordCxt",{enumerable:!0,get:function(){return k.KeywordCxt}});var l=c(47934);Object.defineProperty(b,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(b,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(b,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(b,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(b,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(b,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var m=c(76011);Object.defineProperty(b,"ValidationError",{enumerable:!0,get:function(){return m.default}});var o=c(1948);Object.defineProperty(b,"MissingRefError",{enumerable:!0,get:function(){return o.default}})},69327:(a,b,c)=>{"use strict";c.d(b,{m:()=>d});let d={}},69710:a=>{a.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}},69718:(a,b,c)=>{"use strict";c.d(b,{m:()=>d});let d=({fallbackLocale:a,locale:b,localization:c})=>{if(null==a){if(c&&c.fallback){let a=c.locales.length?c.locales.find(a=>a.code===b)?.fallbackLocale:void 0;return a||c.defaultLocale}}else if(Array.isArray(a))return a.filter(a=>c.localeCodes.includes(a));else if(a){if(["false","none","null"].includes(a))return!1;if(c.localeCodes.includes(a))return a}return!1}},69890:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:c(26582).validateUnion,error:{message:"must match a schema in anyOf"}}},69930:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(47934),e=c(34414);b.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:a})=>(0,d._)`{propertyName: ${a.propertyName}}`},code(a){let{gen:b,schema:c,data:f,it:g}=a;if((0,e.alwaysValidSchema)(g,c))return;let h=b.name("valid");b.forIn("key",f,c=>{a.setParams({propertyName:c}),a.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},h),b.if((0,d.not)(h),()=>{a.error(!0),g.allErrors||b.break()})}),a.ok(h)}}},70045:(a,b,c)=>{"use strict";let d=c(27910).Transform;class e extends d{constructor(a){super(a),this.options=a||{},this.lastByte=!1}_transform(a,b,c){let d,e=0;for(let b=0,c=a.length;b<c;b++)10===a[b]&&(b&&13!==a[b-1]||!b&&13!==this.lastByte)&&(b>e&&(d=a.slice(e,b),this.push(d)),this.push(Buffer.from("\r\n")),e=b+1);e&&e<a.length?(d=a.slice(e),this.push(d)):e||this.push(a),this.lastByte=a[a.length-1],c()}}a.exports=e},70066:(a,b,c)=>{"use strict";function d(a){return["image/jpeg","image/png","image/gif","image/svg+xml","image/webp","image/avif","image/jxl"].indexOf(a)>-1}c.d(b,{w:()=>d})},70276:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(7235),e=c(26582),f=c(34414),g=c(32449);b.default={keyword:"properties",type:"object",schemaType:"object",code(a){let{gen:b,schema:c,parentSchema:h,data:i,it:j}=a;"all"===j.opts.removeAdditional&&void 0===h.additionalProperties&&g.default.code(new d.KeywordCxt(j,g.default,"additionalProperties"));let k=(0,e.allSchemaProperties)(c);for(let a of k)j.definedProperties.add(a);j.opts.unevaluated&&k.length&&!0!==j.props&&(j.props=f.mergeEvaluated.props(b,(0,f.toHash)(k),j.props));let l=k.filter(a=>!(0,f.alwaysValidSchema)(j,c[a]));if(0===l.length)return;let m=b.name("valid");for(let c of l)o(c)?p(c):(b.if((0,e.propertyInData)(b,i,c,j.opts.ownProperties)),p(c),j.allErrors||b.else().var(m,!0),b.endIf()),a.it.definedProperties.add(c),a.ok(m);function o(a){return j.opts.useDefaults&&!j.compositeRule&&void 0!==c[a].default}function p(b){a.subschema({keyword:"properties",schemaProp:b,dataProp:b},m)}}}},70404:(a,b,c)=>{"use strict";c.d(b,{L:()=>g,i:()=>e});var d=c(24401);let e="APIError";class f extends Error{data;isOperational;isPublic;status;constructor(a,b,c,d){super(a,{cause:c}),e=this.constructor.name,this.name=this.constructor.name,this.message=a,this.status=b,this.data=c,this.isPublic=d,this.isOperational=!0,Error.captureStackTrace(this,this.constructor)}}class g extends f{constructor(a,b=d.h.INTERNAL_SERVER_ERROR,c=null,e){super(a,b,c,"boolean"==typeof e?e:b!==d.h.INTERNAL_SERVER_ERROR)}}},70430:(a,b,c)=>{"use strict";c.d(b,{m:()=>d});let d=a=>"function"==typeof ArrayBuffer&&a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a)},70494:(a,b,c)=>{"use strict";c.d(b,{L:()=>B});var d=c(24401),e=c(99408),f=c(10631),g=c(35597),h=c(71898),i=c(70404),j=c(46601),k=c(12442),l=c(41442),m=c(10353),o=c(46386),p=c(23042),q=c(23271),r=c(146),s=c(66089),t=c(16886),u=c(35355),v=c(37745),w=c(25443),x=c(35183),y=c(96683),z=c(32197),A=c(87963);let B=async a=>{let b=a;if(b.collection.config.disableBulkEdit&&!b.overrideAccess)throw new i.L(`Collection ${b.collection.config.slug} has disabled bulk edit`,403);try{let a,c,s=!b.disableTransaction&&await (0,q.n)(b.req),{autosave:B=!1,collection:{config:C},collection:D,depth:E,draft:F=!1,limit:G=0,overrideAccess:H,overrideLock:I,overwriteExistingFiles:J=!1,populate:K,publishSpecificLocale:L,req:{fallbackLocale:M,locale:N,payload:{config:O},payload:P},req:Q,select:R,showHiddenFields:S,sort:T,trash:U=!1,where:V}=b=await (0,y.v)({args:b,collection:b.collection.config,operation:"update"});if(!V)throw new i.L("Missing 'where' query of documents to update.",d.h.BAD_REQUEST);let{data:W}=b,X=!!(F&&(0,p.gD)(C));H||(a=await (0,e.m)({req:Q},C.access.update)),await (0,g.d)({collectionConfig:C,overrideAccess:H,req:Q,where:V});let Y=(0,f.m)(V,a);if(C.trash&&"object"==typeof W&&null!==W&&"deletedAt"in W&&null!=W.deletedAt&&!H){let a=await (0,e.m)({req:Q},C.access.delete);Y=(0,f.m)(Y,a)}Y=(0,m.v)({enableTrash:C.trash,trash:U,where:Y}),(0,h.D)({fields:C.flattenedFields,payload:P,where:Y});let Z=(0,z.K)({fields:D.config.flattenedFields,sort:T});if((0,p.gD)(C)&&X){let a=(0,v.D)(Y);await (0,g.d)({collectionConfig:D.config,overrideAccess:H,req:Q,versionFields:(0,u.c)(P.config,D.config,!0),where:(0,v.D)(V)}),c=(await P.db.queryDrafts({collection:C.slug,limit:G,locale:N,pagination:!1,req:Q,sort:(0,w.t)({collectionConfig:C,sort:Z}),where:a})).docs}else c=(await P.db.find({collection:C.slug,limit:G,locale:N,pagination:!1,req:Q,sort:Z,where:Y})).docs;let{data:$,files:_}=await (0,k.Y)({collection:D,config:O,data:W,operation:"update",overwriteExistingFiles:J,req:Q,throwOnMissingFile:!1}),aa=[],ab=c.map(async b=>{let{id:c}=b;try{let d=(0,t.Y)({fields:C.flattenedFields,forceSelect:C.forceSelect,select:R});return await (0,A.l)({id:c,accessResults:a,autosave:B,collectionConfig:C,config:O,data:(0,j.Zt)($),depth:E,docWithLocales:b,draftArg:F,fallbackLocale:M,filesToUpload:_,locale:N,overrideAccess:H,overrideLock:I,payload:P,populate:K,publishSpecificLocale:L,req:Q,select:d,showHiddenFields:S})}catch(b){let a=b instanceof Error&&(0,r.q)(b,O);aa.push({id:c,isPublic:a,message:b instanceof Error?b.message:"Unknown error"})}return null});await (0,l.b)({collectionConfig:C,config:O,req:Q});let ac={docs:(await Promise.all(ab)).filter(Boolean),errors:aa};return ac=await (0,x.E)({args:b,collection:C,operation:"update",result:ac}),s&&await (0,o.w)(Q),ac}catch(a){throw await (0,s.J)(b.req),a}}},70631:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(34414);b.default={keyword:"allOf",schemaType:"array",code(a){let{gen:b,schema:c,it:e}=a;if(!Array.isArray(c))throw Error("ajv implementation error");let f=b.name("valid");c.forEach((b,c)=>{if((0,d.alwaysValidSchema)(e,b))return;let g=a.subschema({keyword:"allOf",schemaProp:c},f);a.ok(f),a.mergeEvaluated(g)})}}},70670:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.callRef=b.getValidate=void 0;let d=c(1948),e=c(26582),f=c(47934),g=c(10004),h=c(31104),i=c(34414),j={keyword:"$ref",schemaType:"string",code(a){let{gen:b,schema:c,it:e}=a,{baseId:g,schemaEnv:i,validateName:j,opts:m,self:o}=e,{root:p}=i;if(("#"===c||"#/"===c)&&g===p.baseId)return r();let q=h.resolveRef.call(o,p,g,c);if(void 0===q)throw new d.default(e.opts.uriResolver,g,c);if(q instanceof h.SchemaEnv)return s(q);return t(q);function r(){if(i===p)return l(a,j,i,i.$async);let c=b.scopeValue("root",{ref:p});return l(a,(0,f._)`${c}.validate`,p,p.$async)}function s(b){let c=k(a,b);l(a,c,b,b.$async)}function t(d){let e=b.scopeValue("schema",!0===m.code.source?{ref:d,code:(0,f.stringify)(d)}:{ref:d}),g=b.name("valid"),h=a.subschema({schema:d,dataTypes:[],schemaPath:f.nil,topSchemaRef:e,errSchemaPath:c},g);a.mergeEvaluated(h),a.ok(g)}}};function k(a,b){let{gen:c}=a;return b.validate?c.scopeValue("validate",{ref:b.validate}):(0,f._)`${c.scopeValue("wrapper",{ref:b})}.validate`}function l(a,b,c,d){let{gen:h,it:j}=a,{allErrors:k,schemaEnv:l,opts:m}=j,o=m.passContext?g.default.this:f.nil;function p(){if(!l.$async)throw Error("async schema referenced by sync schema");let c=h.let("valid");h.try(()=>{h.code((0,f._)`await ${(0,e.callValidateCode)(a,b,o)}`),s(b),k||h.assign(c,!0)},a=>{h.if((0,f._)`!(${a} instanceof ${j.ValidationError})`,()=>h.throw(a)),r(a),k||h.assign(c,!1)}),a.ok(c)}function q(){a.result((0,e.callValidateCode)(a,b,o),()=>s(b),()=>r(b))}function r(a){let b=(0,f._)`${a}.errors`;h.assign(g.default.vErrors,(0,f._)`${g.default.vErrors} === null ? ${b} : ${g.default.vErrors}.concat(${b})`),h.assign(g.default.errors,(0,f._)`${g.default.vErrors}.length`)}function s(a){var b;if(!j.opts.unevaluated)return;let d=null==(b=null==c?void 0:c.validate)?void 0:b.evaluated;if(!0!==j.props)if(d&&!d.dynamicProps)void 0!==d.props&&(j.props=i.mergeEvaluated.props(h,d.props,j.props));else{let b=h.var("props",(0,f._)`${a}.evaluated.props`);j.props=i.mergeEvaluated.props(h,b,j.props,f.Name)}if(!0!==j.items)if(d&&!d.dynamicItems)void 0!==d.items&&(j.items=i.mergeEvaluated.items(h,d.items,j.items));else{let b=h.var("items",(0,f._)`${a}.evaluated.items`);j.items=i.mergeEvaluated.items(h,b,j.items,f.Name)}}d?p():q()}b.getValidate=k,b.callRef=l,b.default=j},70958:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default={keyword:"id",code(){throw Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},70965:(a,b)=>{"use strict";let{hasOwnProperty:c}=Object.prototype,d=s();d.configure=s,d.stringify=d,d.default=d,b.stringify=d,b.configure=s,a.exports=d;let e=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function f(a){return a.length<5e3&&!e.test(a)?`"${a}"`:JSON.stringify(a)}function g(a,b){if(a.length>200||b)return a.sort(b);for(let b=1;b<a.length;b++){let c=a[b],d=b;for(;0!==d&&a[d-1]>c;)a[d]=a[d-1],d--;a[d]=c}return a}let h=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function i(a){return void 0!==h.call(a)&&0!==a.length}function j(a,b,c){a.length<c&&(c=a.length);let d=","===b?"":" ",e=`"0":${d}${a[0]}`;for(let f=1;f<c;f++)e+=`${b}"${f}":${d}${a[f]}`;return e}function k(a){if(c.call(a,"circularValue")){let b=a.circularValue;if("string"==typeof b)return`"${b}"`;if(null==b)return b;if(b===Error||b===TypeError)return{toString(){throw TypeError("Converting circular structure to JSON")}};throw TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function l(a){let b;if(c.call(a,"deterministic")&&"boolean"!=typeof(b=a.deterministic)&&"function"!=typeof b)throw TypeError('The "deterministic" argument must be of type boolean or comparator function');return void 0===b||b}function m(a,b){let d;if(c.call(a,b)&&"boolean"!=typeof(d=a[b]))throw TypeError(`The "${b}" argument must be of type boolean`);return void 0===d||d}function o(a,b){let d;if(c.call(a,b)){if("number"!=typeof(d=a[b]))throw TypeError(`The "${b}" argument must be of type number`);if(!Number.isInteger(d))throw TypeError(`The "${b}" argument must be an integer`);if(d<1)throw RangeError(`The "${b}" argument must be >= 1`)}return void 0===d?1/0:d}function p(a){return 1===a?"1 item":`${a} items`}function q(a){let b=new Set;for(let c of a)("string"==typeof c||"number"==typeof c)&&b.add(String(c));return b}function r(a){if(c.call(a,"strict")){let b=a.strict;if("boolean"!=typeof b)throw TypeError('The "strict" argument must be of type boolean');if(b)return a=>{let b=`Object can not safely be stringified. Received type ${typeof a}`;throw"function"!=typeof a&&(b+=` (${a.toString()})`),Error(b)}}}function s(a){let b=r(a={...a});b&&(void 0===a.bigint&&(a.bigint=!1),"circularValue"in a||(a.circularValue=Error));let c=k(a),d=m(a,"bigint"),e=l(a),h="function"==typeof e?e:void 0,s=o(a,"maximumDepth"),t=o(a,"maximumBreadth");function u(a,j,k,l,m,o){let q=j[a];switch("object"==typeof q&&null!==q&&"function"==typeof q.toJSON&&(q=q.toJSON(a)),typeof(q=l.call(j,a,q))){case"string":return f(q);case"object":{if(null===q)return"null";if(-1!==k.indexOf(q))return c;let a="",b=",",d=o;if(Array.isArray(q)){if(0===q.length)return"[]";if(s<k.length+1)return'"[Array]"';k.push(q),""!==m&&(o+=m,a+=`
${o}`,b=`,
${o}`);let c=Math.min(q.length,t),e=0;for(;e<c-1;e++){let c=u(String(e),q,k,l,m,o);a+=void 0!==c?c:"null",a+=b}let f=u(String(e),q,k,l,m,o);if(a+=void 0!==f?f:"null",q.length-1>t){let c=q.length-t-1;a+=`${b}"... ${p(c)} not stringified"`}return""!==m&&(a+=`
${d}`),k.pop(),`[${a}]`}let j=Object.keys(q),r=j.length;if(0===r)return"{}";if(s<k.length+1)return'"[Object]"';let v="",w="";""!==m&&(o+=m,b=`,
${o}`,v=" ");let x=Math.min(r,t);e&&!i(q)&&(j=g(j,h)),k.push(q);for(let c=0;c<x;c++){let d=j[c],e=u(d,q,k,l,m,o);void 0!==e&&(a+=`${w}${f(d)}:${v}${e}`,w=b)}if(r>t){let c=r-t;a+=`${w}"...":${v}"${p(c)} not stringified"`,w=b}return""!==m&&w.length>1&&(a=`
${o}${a}
${d}`),k.pop(),`{${a}}`}case"number":return isFinite(q)?String(q):b?b(q):"null";case"boolean":return!0===q?"true":"false";case"undefined":return;case"bigint":if(d)return String(q);default:return b?b(q):void 0}}function v(a,e,g,h,i,j){switch("object"==typeof e&&null!==e&&"function"==typeof e.toJSON&&(e=e.toJSON(a)),typeof e){case"string":return f(e);case"object":{if(null===e)return"null";if(-1!==g.indexOf(e))return c;let a=j,b="",d=",";if(Array.isArray(e)){if(0===e.length)return"[]";if(s<g.length+1)return'"[Array]"';g.push(e),""!==i&&(j+=i,b+=`
${j}`,d=`,
${j}`);let c=Math.min(e.length,t),f=0;for(;f<c-1;f++){let a=v(String(f),e[f],g,h,i,j);b+=void 0!==a?a:"null",b+=d}let k=v(String(f),e[f],g,h,i,j);if(b+=void 0!==k?k:"null",e.length-1>t){let a=e.length-t-1;b+=`${d}"... ${p(a)} not stringified"`}return""!==i&&(b+=`
${a}`),g.pop(),`[${b}]`}g.push(e);let k="";""!==i&&(j+=i,d=`,
${j}`,k=" ");let l="";for(let a of h){let c=v(a,e[a],g,h,i,j);void 0!==c&&(b+=`${l}${f(a)}:${k}${c}`,l=d)}return""!==i&&l.length>1&&(b=`
${j}${b}
${a}`),g.pop(),`{${b}}`}case"number":return isFinite(e)?String(e):b?b(e):"null";case"boolean":return!0===e?"true":"false";case"undefined":return;case"bigint":if(d)return String(e);default:return b?b(e):void 0}}function w(a,k,l,m,o){switch(typeof k){case"string":return f(k);case"object":{if(null===k)return"null";if("function"==typeof k.toJSON){if("object"!=typeof(k=k.toJSON(a)))return w(a,k,l,m,o);if(null===k)return"null"}if(-1!==l.indexOf(k))return c;let b=o;if(Array.isArray(k)){if(0===k.length)return"[]";if(s<l.length+1)return'"[Array]"';l.push(k),o+=m;let a=`
${o}`,c=`,
${o}`,d=Math.min(k.length,t),e=0;for(;e<d-1;e++){let b=w(String(e),k[e],l,m,o);a+=void 0!==b?b:"null",a+=c}let f=w(String(e),k[e],l,m,o);if(a+=void 0!==f?f:"null",k.length-1>t){let b=k.length-t-1;a+=`${c}"... ${p(b)} not stringified"`}return a+=`
${b}`,l.pop(),`[${a}]`}let d=Object.keys(k),q=d.length;if(0===q)return"{}";if(s<l.length+1)return'"[Object]"';o+=m;let r=`,
${o}`,u="",v="",x=Math.min(q,t);i(k)&&(u+=j(k,r,t),d=d.slice(k.length),x-=k.length,v=r),e&&(d=g(d,h)),l.push(k);for(let a=0;a<x;a++){let b=d[a],c=w(b,k[b],l,m,o);void 0!==c&&(u+=`${v}${f(b)}: ${c}`,v=r)}if(q>t){let a=q-t;u+=`${v}"...": "${p(a)} not stringified"`,v=r}return""!==v&&(u=`
${o}${u}
${b}`),l.pop(),`{${u}}`}case"number":return isFinite(k)?String(k):b?b(k):"null";case"boolean":return!0===k?"true":"false";case"undefined":return;case"bigint":if(d)return String(k);default:return b?b(k):void 0}}function x(a,k,l){switch(typeof k){case"string":return f(k);case"object":{if(null===k)return"null";if("function"==typeof k.toJSON){if("object"!=typeof(k=k.toJSON(a)))return x(a,k,l);if(null===k)return"null"}if(-1!==l.indexOf(k))return c;let b="",d=void 0!==k.length;if(d&&Array.isArray(k)){if(0===k.length)return"[]";if(s<l.length+1)return'"[Array]"';l.push(k);let a=Math.min(k.length,t),c=0;for(;c<a-1;c++){let a=x(String(c),k[c],l);b+=void 0!==a?a:"null",b+=","}let d=x(String(c),k[c],l);if(b+=void 0!==d?d:"null",k.length-1>t){let a=k.length-t-1;b+=`,"... ${p(a)} not stringified"`}return l.pop(),`[${b}]`}let m=Object.keys(k),o=m.length;if(0===o)return"{}";if(s<l.length+1)return'"[Object]"';let q="",r=Math.min(o,t);d&&i(k)&&(b+=j(k,",",t),m=m.slice(k.length),r-=k.length,q=","),e&&(m=g(m,h)),l.push(k);for(let a=0;a<r;a++){let c=m[a],d=x(c,k[c],l);void 0!==d&&(b+=`${q}${f(c)}:${d}`,q=",")}if(o>t){let a=o-t;b+=`${q}"...":"${p(a)} not stringified"`}return l.pop(),`{${b}}`}case"number":return isFinite(k)?String(k):b?b(k):"null";case"boolean":return!0===k?"true":"false";case"undefined":return;case"bigint":if(d)return String(k);default:return b?b(k):void 0}}return function(a,b,c){if(arguments.length>1){let d="";if("number"==typeof c?d=" ".repeat(Math.min(c,10)):"string"==typeof c&&(d=c.slice(0,10)),null!=b){if("function"==typeof b)return u("",{"":a},[],b,d,"");if(Array.isArray(b))return v("",a,[],q(b),d,"")}if(0!==d.length)return w("",a,[],d,"")}return x("",a,[])}}},71278:a=>{"use strict";a.exports={maxAttributeValueSize:1024,maxNameValuePairSize:4096}},71462:(a,b,c)=>{"use strict";c.d(b,{E:()=>d});let d=a=>{let b={};for(let c in a){let d=a[c];"_id"===c?b.id=d:"__v"!==c&&(b[c]=d)}return b}},71496:(a,b,c)=>{"use strict";let d=c(91513);class e extends d{constructor(a={}){super(a)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(a){a=parseInt(a.substr(-2))-1,this.date.setMonth(a<0?0:a)}toString(){let a=this.date.getMonth(),b=this.token.length;return 2===b?String(a+1).padStart(2,"0"):3===b?this.locales.monthsShort[a]:4===b?this.locales.months[a]:String(a+1)}}a.exports=e},71550:(a,b,c)=>{"use strict";c.d(b,{Df:()=>g,G8:()=>e,Rn:()=>i,XP:()=>j,XS:()=>h,bp:()=>d,jh:()=>f,l5:()=>k,ok:()=>l});let d=100,e=2e4,f=500,g=500,h=5,i=10,j=1,k="amz-sdk-invocation-id",l="amz-sdk-request"},71656:(a,b,c)=>{"use strict";c.d(b,{D0:()=>e,Rd:()=>d,xW:()=>f});let d=new TextEncoder,e=new TextDecoder;function f(...a){let b=new Uint8Array(a.reduce((a,{length:b})=>a+b,0)),c=0;for(let d of a)b.set(d,c),c+=d.length;return b}},71883:(a,b,c)=>{"use strict";c.d(b,{r_:()=>e,yd:()=>f});let d=Symbol.for("react.client.reference");function e(a){return"function"==typeof a&&a.$$typeof!==d}function f(a){return"function"==typeof a}},71898:(a,b,c)=>{"use strict";c.d(b,{D:()=>d});let d=({fields:a,payload:b,where:c})=>{for(let e in c){let f=c[e];if(["and","or"].includes(e.toLowerCase())&&Array.isArray(f)){for(let c of f)d({fields:a,payload:b,where:c});continue}let g=e.split("."),h=!1,i=a;for(let a=0;a<g.length;a++){let c=g[a],d=i.find(a=>a.name===c);if(!d)break;if("virtual"in d&&d.virtual&&"string"==typeof d.virtual&&(g[a]=d.virtual,h=!0),"flattenedFields"in d&&(i=d.flattenedFields),("relationship"===d.type||"upload"===d.type)&&"string"==typeof d.relationTo){let a=b.collections[d.relationTo];a&&(i=a.config.flattenedFields)}}h&&(c[g.join(".")]=c[e],delete c[e])}}},72146:(a,b,c)=>{"use strict";c.d(b,{y:()=>f});var d=c(66424),e=c(72909);let f=async a=>{let{defaultFromAddress:b,defaultFromName:c,transport:d}=await g(a);return()=>({name:"nodemailer",defaultFromAddress:b,defaultFromName:c,sendEmail:async a=>await d.sendMail({from:`${c} <${b}>`,...a})})};async function g(a){let b;if(!a){let b=await i(a);if(!b)throw new e.s("Unable to create Nodemailer test account.");return{defaultFromAddress:"info@payloadcms.com",defaultFromName:"Payload",transport:b}}return"transport"in a&&a.transport?{transport:b}=a:b="transportOptions"in a&&a.transportOptions?d.createTransport(a.transportOptions):await i(a),a.skipVerify||await h(b),{defaultFromAddress:a.defaultFromAddress,defaultFromName:a.defaultFromName,transport:b}}async function h(a){try{await a.verify()}catch(a){console.error({err:a,msg:"Error verifying Nodemailer transport."})}}async function i(a){try{let b=await d.createTestAccount(),c={...a||{},auth:{pass:b.pass,user:b.user},fromAddress:a?.defaultFromAddress,fromName:a?.defaultFromName,host:"smtp.ethereal.email",port:587,secure:!1},e=d.createTransport(c),{pass:f,user:g,web:h}=b;return console.info("E-mail configured with ethereal.email test account. "),console.info(`Log into mock email provider at ${h}`),console.info(`Mock email account username: ${g}`),console.info(`Mock email account password: ${f}`),e}catch(a){if(a instanceof Error)throw console.error({err:a,msg:"There was a problem setting up the mock email handler"}),new e.s(`Unable to create Nodemailer test account. Error: ${a.message}`);throw new e.s("Unable to create Nodemailer test account.")}}},72218:(a,b,c)=>{"use strict";c.d(b,{h:()=>o});var d=c(78164),e=c(6722);let f={ar:{label:" "},az:{label:"\xdcf\xfcqi Xtt"},bg:{label:" "},cs:{label:"Vodorovn\xfd prav\xedtko"},da:{label:"Horisontal Regel"},de:{label:"Trennlinie"},en:{label:"Horizontal Rule"},es:{label:"Regla Horizontal"},et:{label:"Horisontaalne reegel"},fa:{label:" "},fr:{label:"R\xe8gle horizontale"},he:{label:" "},hr:{label:"Vodoravna linija"},hu:{label:"V\xedzszintes vonal"},is:{label:"L\xe1r\xe9tt l\xedna"},it:{label:"Regola Orizzontale"},ja:{label:""},ko:{label:" "},my:{label:"Peraturan Mendatar"},nb:{label:"Horisontal Regel"},nl:{label:"Horizontale Regel"},pl:{label:"Pozioma Linia"},pt:{label:"Regra Horizontal"},ro:{label:"Linie orizontal"},rs:{label:" "},"rs-latin":{label:"Horizontalna linija"},ru:{label:" "},sk:{label:"Vodorovn\xe1 iara"},sl:{label:"Vodoravna rta"},sv:{label:"Horisontell linje"},ta:{label:" "},th:{label:""},tr:{label:"Yatay \xc7izgi"},uk:{label:" "},vi:{label:"Quy tc ngang"},zh:{label:""},"zh-TW":{label:""}};var g=c(86861),h=c(34318);(0,h.guI)("INSERT_HORIZONTAL_RULE_COMMAND");class i extends h.Kp7{static clone(a){return new this(a.__key)}static getType(){return"horizontalrule"}static importDOM(){return{hr:()=>({conversion:j,priority:0})}}static importJSON(a){return k()}createDOM(a){let b=document.createElement("hr");return(0,g.ZB)(b,a.theme.hr),b}decorate(){return null}exportDOM(){return{element:document.createElement("hr")}}exportJSON(){return{type:"horizontalrule",version:1}}getTextContent(){return"\n"}isInline(){return!1}updateDOM(){return!1}}function j(){return{node:k()}}function k(){return(0,h.pTq)(new i)}function l(a){return a instanceof i}let m={type:"element",dependencies:[i],export:(a,b)=>l(a)?"---":null,regExp:/^---\s*$/,replace:a=>{let b=k();b&&a.replace(b)}},o=(0,d.m)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#HorizontalRuleFeatureClient",i18n:f,markdownTransformers:[m],nodes:[(0,e.R)({converters:{html:{converter:()=>"<hr/>",nodeTypes:[i.getType()]}},node:i})]},key:"horizontalRule"})},72338:(a,b,c)=>{"use strict";let{kProxy:d,kClose:e,kDestroy:f,kDispatch:g,kConnector:h}=c(10257),{URL:i}=c(73136),j=c(83927),k=c(24626),l=c(60647),{InvalidArgumentError:m,RequestAbortedError:o,SecureProxyConnectionError:p}=c(64737),q=c(62094),r=c(77531),s=Symbol("proxy agent"),t=Symbol("proxy client"),u=Symbol("proxy headers"),v=Symbol("request tls settings"),w=Symbol("proxy tls settings"),x=Symbol("connect endpoint function"),y=Symbol("tunnel proxy");function z(a){return"https:"===a?443:80}function A(a,b){return new k(a,b)}let B=()=>{};class C extends l{#aO=null;constructor(a,b){if("string"==typeof a&&(a=new i(a)),"http:"!==a.protocol&&"https:"!==a.protocol)throw new m("ProxyClient only supports http and https protocols");super(),this.#aO=new r(a,b)}async [e](){await this.#aO.close()}async [f](){await this.#aO.destroy()}async [g](a,b){let{method:c,origin:d}=a;return"CONNECT"===c?void this.#aO[h]({origin:d,port:a.port||z(a.protocol),path:a.host,signal:a.signal,headers:{...this[u],host:a.host},servername:this[w]?.servername||a.servername},(a,c)=>{a?b.callback(a):b.callback(null,{socket:c,statusCode:200})}):("string"==typeof d&&(a.origin=new i(d)),this.#aO.dispatch(a,b))}}class D extends l{constructor(a){if(!a||"object"==typeof a&&!(a instanceof i)&&!a.uri)throw new m("Proxy uri is mandatory");let{clientFactory:b=A}=a;if("function"!=typeof b)throw new m("Proxy opts.clientFactory must be a function.");let{proxyTunnel:c=!0}=a;super();let e=this.#a2(a),{href:f,origin:g,port:h,protocol:k,username:l,password:D,hostname:E}=e;if(this[d]={uri:f,protocol:k},this[v]=a.requestTls,this[w]=a.proxyTls,this[u]=a.headers||{},a.auth&&a.token)throw new m("opts.auth cannot be used in combination with opts.token");a.auth?this[u]["proxy-authorization"]=`Basic ${a.auth}`:a.token?this[u]["proxy-authorization"]=a.token:l&&D&&(this[u]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(l)}:${decodeURIComponent(D)}`).toString("base64")}`);let F=c||"http:"!==k?void 0:(a,b)=>"http:"===a.protocol?new C(a,b):new r(a,b),G=q({...a.proxyTls});this[x]=q({...a.requestTls}),this[t]=b(e,{connect:G,factory:F}),this[y]=c,this[s]=new j({...a,connect:async(a,b)=>{let c=a.host;a.port||(c+=`:${z(a.protocol)}`);try{let d,{socket:e,statusCode:f}=await this[t].connect({origin:g,port:h,path:c,signal:a.signal,headers:{...this[u],host:a.host},servername:this[w]?.servername||E});if(200!==f&&(e.on("error",B).destroy(),b(new o(`Proxy response (${f}) !== 200 when HTTP Tunneling`))),"https:"!==a.protocol)return void b(null,e);d=this[v]?this[v].servername:a.servername,this[x]({...a,servername:d,httpSocket:e},b)}catch(a){b("ERR_TLS_CERT_ALTNAME_INVALID"===a.code?new p(a):a)}}})}dispatch(a,b){let c=E(a.headers);if(F(c),c&&!("host"in c)&&!("Host"in c)){let{host:b}=new i(a.origin);c.host=b}return this.#a3(new i(a.origin))||(a.path=a.origin+a.path),this[s].dispatch({...a,headers:c},b)}#a2(a){return"string"==typeof a?new i(a):a instanceof i?a:new i(a.uri)}async [e](){await this[s].close(),await this[t].close()}async [f](){await this[s].destroy(),await this[t].destroy()}#a3(a){return"string"==typeof a&&(a=new i(a)),!!this[y]||"http:"!==a.protocol||"http:"!==this[d].protocol}}function E(a){if(Array.isArray(a)){let b={};for(let c=0;c<a.length;c+=2)b[a[c]]=a[c+1];return b}return a}function F(a){if(a&&Object.keys(a).find(a=>"proxy-authorization"===a.toLowerCase()))throw new m("Proxy-Authorization should be sent in ProxyAgent constructor")}a.exports=D},72506:(a,b,c)=>{"use strict";c.d(b,{F:()=>e});var d=c(38353);let e=a=>"string"==typeof a?(0,d.a)(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)},72688:(a,b,c)=>{"use strict";c.d(b,{N:()=>z});var d=c(24401),e=c(99408),f=c(10631),g=c(35597),h=c(71898),i=c(70404),j=c(1276),k=c(21133),l=c(34611),m=c(10353),o=c(77600),p=c(46386),q=c(23042),r=c(23271),s=c(146),t=c(66089),u=c(16886),v=c(86442),w=c(30097),x=c(35183),y=c(96683);let z=async a=>{let b=a;try{let a,c=!b.disableTransaction&&await (0,r.n)(b.req),{collection:{config:t},depth:z,overrideAccess:A,overrideLock:B,populate:C,req:{fallbackLocale:D,locale:E,payload:{config:F},payload:G},req:H,select:I,showHiddenFields:J,trash:K=!1,where:L}=b=await (0,y.v)({args:b,collection:b.collection.config,operation:"delete"});if(!L)throw new i.L("Missing 'where' query of documents to delete.",d.h.BAD_REQUEST);A||(a=await (0,e.m)({req:H},t.access.delete)),await (0,g.d)({collectionConfig:t,overrideAccess:A,req:H,where:L});let M=(0,f.m)(L,a);M=(0,m.v)({enableTrash:t.trash,trash:K,where:M}),(0,h.D)({fields:t.flattenedFields,payload:G,where:M});let N=(0,u.Y)({fields:t.flattenedFields,forceSelect:t.forceSelect,select:I}),{docs:O}=await G.db.find({collection:t.slug,locale:E,req:H,select:N,where:M}),P=[],Q=O.map(async a=>{let b,{id:c}=a;try{if(await (0,o.B)({id:c,collectionSlug:t.slug,lockErrorMessage:`Document with ID ${c} is currently locked and cannot be deleted.`,overrideLock:B,req:H}),t.hooks?.beforeDelete?.length)for(let a of t.hooks.beforeDelete)await a({id:c,collection:t,context:H.context,req:H});if(await (0,l.F)({collectionConfig:t,config:F,doc:a,overrideDelete:!0,req:H}),t.versions&&await (0,v.H)({id:c,slug:t.slug,payload:G,req:H}),(0,q._N)(t)&&await (0,w.y)({id:c,slug:t.slug,payload:G,req:H}),await G.db.deleteOne({collection:t.slug,req:H,returning:!1,where:{id:{equals:c}}}),b=await (0,j.v)({collection:t,context:H.context,depth:z,doc:b||a,draft:void 0,fallbackLocale:D,global:null,locale:E,overrideAccess:A,populate:C,req:H,select:N,showHiddenFields:J}),t.hooks?.afterRead?.length)for(let c of t.hooks.afterRead)b=await c({collection:t,context:H.context,doc:b||a,req:H})||b;if(t.hooks?.afterDelete?.length)for(let a of t.hooks.afterDelete)b=await a({id:c,collection:t,context:H.context,doc:b,req:H})||b;return b}catch(c){let b=c instanceof Error&&(0,s.q)(c,F);P.push({id:a.id,isPublic:b,message:c instanceof Error?c.message:"Unknown error"})}return null}),R=await Promise.all(Q);await (0,k.j)({collectionConfig:t,ids:O.map(({id:a})=>a),payload:G,req:H});let S={docs:R.filter(Boolean),errors:P};return S=await (0,x.E)({args:b,collection:t,operation:"delete",result:S}),c&&await (0,p.w)(H),S}catch(a){throw await (0,t.J)(b.req),a}}},72783:(a,b,c)=>{"use strict";let{isUtf8:d}=c(79428),{hasBlob:e}=c(82455);function f(a){let b=a.length,c=0;for(;c<b;)if((128&a[c])==0)c++;else if((224&a[c])==192){if(c+1===b||(192&a[c+1])!=128||(254&a[c])==192)return!1;c+=2}else if((240&a[c])==224){if(c+2>=b||(192&a[c+1])!=128||(192&a[c+2])!=128||224===a[c]&&(224&a[c+1])==128||237===a[c]&&(224&a[c+1])==160)return!1;c+=3}else{if((248&a[c])!=240||c+3>=b||(192&a[c+1])!=128||(192&a[c+2])!=128||(192&a[c+3])!=128||240===a[c]&&(240&a[c+1])==128||244===a[c]&&a[c+1]>143||a[c]>244)return!1;c+=4}return!0}if(a.exports={isBlob:function(a){return e&&"object"==typeof a&&"function"==typeof a.arrayBuffer&&"string"==typeof a.type&&"function"==typeof a.stream&&("Blob"===a[Symbol.toStringTag]||"File"===a[Symbol.toStringTag])},isValidStatusCode:function(a){return a>=1e3&&a<=1014&&1004!==a&&1005!==a&&1006!==a||a>=3e3&&a<=4999},isValidUTF8:f,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},d)a.exports.isValidUTF8=function(a){return a.length<24?f(a):d(a)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let b=c(7080);a.exports.isValidUTF8=function(a){return a.length<32?f(a):b(a)}}catch(a){}},72818:(a,b,c)=>{"use strict";c.d(b,{k:()=>r});var d=c(24401),e=c(35183),f=c(96683),g=c(70404),h=c(86069),i=c(10631),j=c(10353),k=c(46386),l=c(23271),m=c(66089),o=c(99408),p=c(48240),q=c(10689);let r=async a=>{let{collection:{config:b},overrideAccess:c,req:{locale:r},req:s}=a,t=b.auth.loginWithUsername,{canLoginWithEmail:u,canLoginWithUsername:v}=(0,p.Y)(t),w=u&&(a.data?.email||"").toLowerCase().trim(),x=v&&"username"in a.data&&"string"==typeof a.data.username&&a.data.username.toLowerCase().trim()||null;if(b.auth.disableLocalStrategy)throw new h.c(s.t);if(!w&&!x)throw new g.L(`Missing ${b.auth.loginWithUsername?"username":"email"}.`,d.h.BAD_REQUEST);try{a=await (0,f.v)({args:a,collection:a.collection.config,operation:"unlock"});let d=await (0,l.n)(s),g={};if(!c){let a=await (0,o.m)({req:s},b.access.unlock);a&&"object"==typeof a&&(g=a)}u&&w?g=(0,i.m)(g,{email:{equals:w}}):v&&x&&(g=(0,i.m)(g,{username:{equals:x}})),g=(0,j.v)({enableTrash:!!b.trash,trash:!1,where:g});let m=await s.payload.db.findOne({collection:b.slug,locale:r,req:s,where:g}),p=null;if(m)await (0,q.Z)({collection:b,doc:m,payload:s.payload,req:s}),p=!0;else throw p=null,new h.c(s.t);return d&&await (0,k.w)(s),!!(p=await (0,e.E)({args:a,collection:a.collection.config,operation:"unlock",result:p}))}catch(a){throw await (0,m.J)(s),a}}},72827:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});let e=d(c(39196)),f=c(97556);class g{constructor(a){this.table=new e.default(a)}addColumn(a){return this.table.addColumn(a),this}addColumns(a){return this.table.addColumns(a),this}addRow(a,b){return this.table.addRow(a,(0,f.convertRawRowOptionsToStandard)(b)),this}addRows(a,b){return this.table.addRows(a,(0,f.convertRawRowOptionsToStandard)(b)),this}printTable(){console.log(this.table.renderTable())}render(){return this.table.renderTable()}}b.default=g},72909:(a,b,c)=>{"use strict";c.d(b,{s:()=>f});var d=c(24401),e=c(70404);class f extends e.L{constructor(a){super(a,d.h.INTERNAL_SERVER_ERROR)}}},72953:(a,b,c)=>{"use strict";let d=c(78474),e=c(984),f=a=>(b,c)=>a(b,e.wrap(c));class g extends d{dispatch(){throw Error("not implemented")}close(){throw Error("not implemented")}destroy(){throw Error("not implemented")}compose(...a){let b=Array.isArray(a[0])?a[0]:a,c=this.dispatch.bind(this);for(let a of b)if(null!=a){if("function"!=typeof a)throw TypeError(`invalid interceptor, expected function received ${typeof a}`);if(c=a(c),c=f(c),null==c||"function"!=typeof c||2!==c.length)throw TypeError("invalid interceptor")}return new Proxy(this,{get:(a,b)=>"dispatch"===b?c:a[b]})}}a.exports=g},73077:(a,b,c)=>{"use strict";c.d(b,{L:()=>f});var d=c(38203),e=c(65540);function f(a=[],b){let{i18n:c,keepPresentationalFields:g,labelPrefix:h,moveSubFieldsToTop:i=!1,pathPrefix:j}="boolean"==typeof b?{keepPresentationalFields:b}:b??{};return a.reduce((a,k)=>{if("group"===k.type&&"fields"in k)if(i){let b="name"in k&&"string"==typeof k.name&&!!k.name,e="name"in k?k.name:void 0,l="label"in k&&k.label&&c?(0,d.s)(k.label,c):void 0,m=h?`${h} > ${l??e}`:l??e,o="name"in k&&k.name?j?`${j}.${k.name}`:k.name:j;a.push(k,...f(k.fields,{i18n:c,keepPresentationalFields:g,labelPrefix:b?m:h,moveSubFieldsToTop:i,pathPrefix:b?o:j}))}else(0,e.Z7)(k)?a.push(k):a.push(...f(k.fields,b));else if("tabs"===k.type&&"tabs"in k)return[...a,...k.tabs.reduce((a,k)=>{if(!(0,e.pz)(k))return[...a,...f(k.fields,b)];if(!i)return[...a,{...k,type:"tab"}];{let b="label"in k&&k.label&&c?(0,d.s)(k.label,c):void 0,e=h?`${h} > ${b??k.name}`:b??k.name,l=k.name?j?`${j}.${k.name}`:k.name:j;return[...a,...f(k.fields,{i18n:c,keepPresentationalFields:g,labelPrefix:e,moveSubFieldsToTop:i,pathPrefix:l})]}},[])];else if((0,e.sd)(k)&&["collapsible","row"].includes(k.type))a.push(...f(k.fields,b));else if((0,e.Z7)(k)||g&&(0,e.aO)(k)){if("id"===k.name&&void 0!==h)return a;let b="label"in k&&k.label&&c?(0,d.s)(k.label,c):void 0,e="name"in k?k.name:void 0,f=void 0!==j||void 0!==h;a.push({...k,...i&&f&&{accessor:j&&e?`${j}.${e}`:e??"",labelWithPrefix:h?`${h} > ${b??e}`:b??e}})}return a},[])}},73304:(a,b,c)=>{"use strict";c.d(b,{l:()=>f});var d=c(24401),e=c(70404);class f extends e.L{constructor(a){super(`The following path${1===a.length?"":"s"} cannot be queried: ${a.map(a=>a.path).join(", ")}`,d.h.BAD_REQUEST,a)}}},73307:(a,b,c)=>{"use strict";c.d(b,{r:()=>j});let d={name:"serializerMiddleware"};function e(a,b,c){a.__smithy_context?a.__smithy_context.features||(a.__smithy_context.features={}):a.__smithy_context={features:{}},a.__smithy_context.features[b]=c}var f=c(88392),g=c(79944);let h=({config:a,instructions:b})=>(c,d)=>async h=>{a.isCustomEndpoint&&e(d,"ENDPOINT_OVERRIDE","N");let i=await (0,g.r)(h.input,{getEndpointParameterInstructions:()=>b},{...a},d);d.endpointV2=i,d.authSchemes=i.properties?.authSchemes;let j=d.authSchemes?.[0];if(j){d.signing_region=j.signingRegion,d.signing_service=j.signingName;let a=(0,f.u)(d),b=a?.selectedHttpAuthScheme?.httpAuthOption;b&&(b.signingProperties=Object.assign(b.signingProperties||{},{signing_region:j.signingRegion,signingRegion:j.signingRegion,signing_service:j.signingName,signingName:j.signingName,signingRegionSet:j.signingRegionSet},j.properties))}return c({...h})},i={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:d.name},j=(a,b)=>({applyToStack:c=>{c.addRelativeTo(h({config:a,instructions:b}),i)}})},73334:(a,b,c)=>{var d=c(27574);a.exports={create:function(a,b){return{parse:function(){return d.parse(a,b)}}}}},73343:(a,b,c)=>{"use strict";var d;try{d=c(Object(function(){var a=Error("Cannot find module 'pg-native'");throw a.code="MODULE_NOT_FOUND",a}()))}catch(a){throw a}let e=c(55778),f=c(94735).EventEmitter,g=c(28354),h=c(21439),i=c(62062),j=a.exports=function(a){f.call(this),a=a||{},this._Promise=a.Promise||global.Promise,this._types=new e(a.types),this.native=new d({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;let b=this.connectionParameters=new h(a);a.nativeConnectionString&&(b.nativeConnectionString=a.nativeConnectionString),this.user=b.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:b.password}),this.database=b.database,this.host=b.host,this.port=b.port,this.namedQueries={}};j.Query=i,g.inherits(j,f),j.prototype._errorAllQueries=function(a){let b=b=>{process.nextTick(()=>{b.native=this.native,b.handleError(a)})};this._hasActiveQuery()&&(b(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(b),this._queryQueue.length=0},j.prototype._connect=function(a){let b=this;if(this._connecting)return void process.nextTick(()=>a(Error("Client has already been connected. You cannot reuse a client.")));this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(c,d){if(b.connectionParameters.nativeConnectionString&&(d=b.connectionParameters.nativeConnectionString),c)return a(c);b.native.connect(d,function(c){if(c)return b.native.end(),a(c);b._connected=!0,b.native.on("error",function(a){b._queryable=!1,b._errorAllQueries(a),b.emit("error",a)}),b.native.on("notification",function(a){b.emit("notification",{channel:a.relname,payload:a.extra})}),b.emit("connect"),b._pulseQueryQueue(!0),a()})})},j.prototype.connect=function(a){return a?void this._connect(a):new this._Promise((a,b)=>{this._connect(c=>{c?b(c):a()})})},j.prototype.query=function(a,b,c){let d,e,f,g,h;if(null==a)throw TypeError("Client was passed a null or undefined query");if("function"==typeof a.submit)f=a.query_timeout||this.connectionParameters.query_timeout,e=d=a,"function"==typeof b&&(a.callback=b);else if(f=a.query_timeout||this.connectionParameters.query_timeout,!(d=new i(a,b,c)).callback){let a,b;e=new this._Promise((c,d)=>{a=c,b=d}).catch(a=>{throw Error.captureStackTrace(a),a}),d.callback=(c,d)=>c?b(c):a(d)}return(f&&(h=d.callback,g=setTimeout(()=>{let a=Error("Query read timeout");process.nextTick(()=>{d.handleError(a,this.connection)}),h(a),d.callback=()=>{};let b=this._queryQueue.indexOf(d);b>-1&&this._queryQueue.splice(b,1),this._pulseQueryQueue()},f),d.callback=(a,b)=>{clearTimeout(g),h(a,b)}),this._queryable)?this._ending?(d.native=this.native,process.nextTick(()=>{d.handleError(Error("Client was closed and is not queryable"))})):(this._queryQueue.push(d),this._pulseQueryQueue()):(d.native=this.native,process.nextTick(()=>{d.handleError(Error("Client has encountered a connection error and is not queryable"))})),e},j.prototype.end=function(a){let b,c=this;return this._ending=!0,this._connected||this.once("connect",this.end.bind(this,a)),a||(b=new this._Promise(function(b,c){a=a=>a?c(a):b()})),this.native.end(function(){c._errorAllQueries(Error("Connection terminated")),process.nextTick(()=>{c.emit("end"),a&&a()})}),b},j.prototype._hasActiveQuery=function(){return this._activeQuery&&"error"!==this._activeQuery.state&&"end"!==this._activeQuery.state},j.prototype._pulseQueryQueue=function(a){if(!this._connected||this._hasActiveQuery())return;let b=this._queryQueue.shift();if(!b){a||this.emit("drain");return}this._activeQuery=b,b.submit(this);let c=this;b.once("_done",function(){c._pulseQueryQueue()})},j.prototype.cancel=function(a){this._activeQuery===a?this.native.cancel(function(){}):-1!==this._queryQueue.indexOf(a)&&this._queryQueue.splice(this._queryQueue.indexOf(a),1)},j.prototype.ref=function(){},j.prototype.unref=function(){},j.prototype.setTypeParser=function(a,b,c){return this._types.setTypeParser(a,b,c)},j.prototype.getTypeParser=function(a,b){return this._types.getTypeParser(a,b)}},73346:(a,b,c)=>{"use strict";c.d(b,{M:()=>j});var d=c(96493),e=c(19669);let f=async({config:a,language:b})=>(0,e.L)({config:a.i18n,context:"api",language:b});var g=c(69718);function h(a={context:null},b={}){return a.context?0===Object.keys(a.context).length&&a.context.constructor===Object?b:{...a.context,...b}:b}let i=(a,b)=>{let c;function d(){if(c)return c;let d=`http://${a.host||"localhost"}${b||""}`,e=a?.url||a.payload?.config?.serverURL?`${a.payload?.config.serverURL}${b||""}`:d;try{c=new URL(e)}catch(b){a.payload?.logger.error(`Failed to create URL object from URL: ${e}, falling back to ${d}`),c=new URL(d)}return c}a.host||(a.host=d().host),a.protocol||(a.protocol=d().protocol),a.pathname||(a.pathname=d().pathname),a.searchParams||(a.searchParams=d().searchParams),a.origin||(a.origin=d().origin),a?.url||(a.url=d().href)},j=async({context:a,fallbackLocale:b,locale:c,req:e={},urlSuffix:j,user:k},l)=>{let m=l.config?.localization;if(m){let a="*"===c?"all":c,d=m.defaultLocale,f=a||e?.locale||e?.query?.locale;e.locale=f&&"string"==typeof f?f:d;let h=(0,g.m)({fallbackLocale:b,locale:e.locale,localization:m});e.fallbackLocale=h}let o=e?.i18n||await f({config:l.config,language:l.config.i18n.fallbackLanguage});return e.headers||(e.headers=new Headers),e.context=h(e,a),e.payloadAPI=e?.payloadAPI||"local",e.payload=l,e.i18n=o,e.t=o.t,e.user=k||e?.user||null,e.payloadDataLoader=e?.payloadDataLoader||(0,d.Y)(e),e.routeParams=e?.routeParams||{},e.query=e?.query||{},i(e,j),e}},73403:(a,b,c)=>{"use strict";c.d(b,{F:()=>e});let d={css:"text/css",csv:"text/csv",htm:"text/html",html:"text/html",js:"application/javascript",json:"application/json",md:"text/markdown",svg:"image/svg+xml",xml:"application/xml",yml:"application/x-yaml"},e=a=>{let b=a.split(".").pop()||"txt";return{ext:b,mime:d[b]||"text/plain"}}},73410:(a,b,c)=>{"use strict";function d(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}h.done?b(i):Promise.resolve(i).then(d,e)}function e(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function h(a){d(g,e,f,h,i,"next",a)}function i(a){d(g,e,f,h,i,"throw",a)}h(void 0)})}}let f=c(85558),g=c(42319),h=c(40821),i=h.erase,j=h.cursor,k=c(13576),l=k.style,m=k.clear,o=k.lines,p=k.figures;class q extends g{constructor(a={}){super(a),this.transform=l.render(a.style),this.scale=this.transform.scale,this.msg=a.message,this.initial=a.initial||"",this.validator=a.validate||(()=>!0),this.value="",this.errorMsg=a.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=m("",this.out.columns),this.render()}set value(a){!a&&this.initial?(this.placeholder=!0,this.rendered=f.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(a)),this._value=a,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var a=this;return e(function*(){let b=yield a.validator(a.value);"string"==typeof b&&(a.errorMsg=b,b=!1),a.error=!b})()}submit(){var a=this;return e(function*(){if(a.value=a.value||a.initial,a.cursorOffset=0,a.cursor=a.rendered.length,yield a.validate(),a.error){a.red=!0,a.fire(),a.render();return}a.done=!0,a.aborted=!1,a.fire(),a.render(),a.out.write("\n"),a.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(a){this.placeholder||(this.cursor=this.cursor+a,this.cursorOffset+=a)}_(a,b){let c=this.value.slice(0,this.cursor),d=this.value.slice(this.cursor);this.value=`${c}${a}${d}`,this.red=!1,this.cursor=this.placeholder?0:c.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let a=this.value.slice(0,this.cursor-1),b=this.value.slice(this.cursor);this.value=`${a}${b}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let a=this.value.slice(0,this.cursor),b=this.value.slice(this.cursor+1);this.value=`${a}${b}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(j.down(o(this.outputError,this.out.columns)-1)+m(this.outputError,this.out.columns)),this.out.write(m(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[l.symbol(this.done,this.aborted),f.bold(this.msg),l.delimiter(this.done),this.red?f.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((a,b,c)=>a+`
${c?" ":p.pointerSmall} ${f.red().italic(b)}`,"")),this.out.write(i.line+j.to(0)+this.outputText+j.save+this.outputError+j.restore+j.move(this.cursorOffset,0)))}}a.exports=q},73885:(a,b,c)=>{"use strict";let d=c(79448),e=c(28354),{isDate:f}=e.types||e;function g(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function h(a){let b="{";for(let c=0;c<a.length;c++)if(c>0&&(b+=","),null===a[c]||void 0===a[c])b+="NULL";else if(Array.isArray(a[c]))b+=h(a[c]);else if(ArrayBuffer.isView(a[c])){let d=a[c];if(!(d instanceof Buffer)){let a=Buffer.from(d.buffer,d.byteOffset,d.byteLength);d=a.length===d.byteLength?a:a.slice(d.byteOffset,d.byteOffset+d.byteLength)}b+="\\\\x"+d.toString("hex")}else b+=g(i(a[c]));return b+"}"}let i=function(a,b){if(null==a)return null;if("object"==typeof a){if(a instanceof Buffer)return a;if(ArrayBuffer.isView(a)){let b=Buffer.from(a.buffer,a.byteOffset,a.byteLength);return b.length===a.byteLength?b:b.slice(a.byteOffset,a.byteOffset+a.byteLength)}if(f(a))if(d.parseInputDatesAsUTC)return l(a);else return k(a);return Array.isArray(a)?h(a):j(a,b)}return a.toString()};function j(a,b){if(a&&"function"==typeof a.toPostgres){if(-1!==(b=b||[]).indexOf(a))throw Error('circular reference detected while preparing "'+a+'" for query');return b.push(a),i(a.toPostgres(i),b)}return JSON.stringify(a)}function k(a){let b=-a.getTimezoneOffset(),c=a.getFullYear(),d=c<1;d&&(c=Math.abs(c)+1);let e=String(c).padStart(4,"0")+"-"+String(a.getMonth()+1).padStart(2,"0")+"-"+String(a.getDate()).padStart(2,"0")+"T"+String(a.getHours()).padStart(2,"0")+":"+String(a.getMinutes()).padStart(2,"0")+":"+String(a.getSeconds()).padStart(2,"0")+"."+String(a.getMilliseconds()).padStart(3,"0");return b<0?(e+="-",b*=-1):e+="+",e+=String(Math.floor(b/60)).padStart(2,"0")+":"+String(b%60).padStart(2,"0"),d&&(e+=" BC"),e}function l(a){let b=a.getUTCFullYear(),c=b<1;c&&(b=Math.abs(b)+1);let d=String(b).padStart(4,"0")+"-"+String(a.getUTCMonth()+1).padStart(2,"0")+"-"+String(a.getUTCDate()).padStart(2,"0")+"T"+String(a.getUTCHours()).padStart(2,"0")+":"+String(a.getUTCMinutes()).padStart(2,"0")+":"+String(a.getUTCSeconds()).padStart(2,"0")+"."+String(a.getUTCMilliseconds()).padStart(3,"0");return d+="+00:00",c&&(d+=" BC"),d}a.exports={prepareValue:function(a){return i(a)},normalizeQueryConfig:function(a,b,c){return a="string"==typeof a?{text:a}:a,b&&("function"==typeof b?a.callback=b:a.values=b),c&&(a.callback=c),a},escapeIdentifier:function(a){return'"'+a.replace(/"/g,'""')+'"'},escapeLiteral:function(a){let b=!1,c="'";if(null==a||"string"!=typeof a)return"''";for(let d=0;d<a.length;d++){let e=a[d];"'"===e?c+=e+e:"\\"===e?(c+=e+e,b=!0):c+=e}return c+="'",!0===b&&(c=" E"+c),c}}},73891:(a,b,c)=>{"use strict";c.d(b,{n:()=>f});var d=c(41582),e=c(38353);let f=a=>{let b;if("object"!=typeof(b="string"==typeof a?(0,e.a)(a):a)||"number"!=typeof b.byteOffset||"number"!=typeof b.byteLength)throw Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,d.Q)(b.buffer,b.byteOffset,b.byteLength).toString("base64")}},73964:(a,b,c)=>{"use strict";let{version:d}=c(52790),{EventEmitter:e}=c(94735),{Worker:f}=c(73566),{join:g}=c(33873),{pathToFileURL:h}=c(79551),{wait:i}=c(7683),{WRITE_INDEX:j,READ_INDEX:k}=c(20552),l=c(79428),m=c(12412),o=Symbol("kImpl"),p=l.constants.MAX_STRING_LENGTH;class q{constructor(a){this._value=a}deref(){return this._value}}class r{register(){}unregister(){}}let s=process.env.NODE_V8_COVERAGE?r:global.FinalizationRegistry||r,t=process.env.NODE_V8_COVERAGE?q:global.WeakRef||q,u=new s(a=>{a.exited||a.terminate()});function v(a,b){let{filename:c,workerData:e}=b,i=new f(("__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{})["thread-stream-worker"]||g(__dirname,"lib","worker.js"),{...b.workerOpts,trackUnmanagedFds:!1,workerData:{filename:0===c.indexOf("file://")?c:h(c).href,dataBuf:a[o].dataBuf,stateBuf:a[o].stateBuf,workerData:{$context:{threadStreamVersion:d},...e}}});return i.stream=new q(a),i.on("message",y),i.on("exit",z),u.register(a,i),i}function w(a){m(!a[o].sync),a[o].needDrain&&(a[o].needDrain=!1,a.emit("drain"))}function x(a){let b=Atomics.load(a[o].state,j),c=a[o].data.length-b;if(c>0){if(0===a[o].buf.length){a[o].flushing=!1,a[o].ending?E(a):a[o].needDrain&&process.nextTick(w,a);return}let b=a[o].buf.slice(0,c),d=Buffer.byteLength(b);d<=c?(a[o].buf=a[o].buf.slice(c),D(a,b,x.bind(null,a))):a.flush(()=>{if(!a.destroyed){for(Atomics.store(a[o].state,k,0),Atomics.store(a[o].state,j,0);d>a[o].data.length;)c/=2,b=a[o].buf.slice(0,c),d=Buffer.byteLength(b);a[o].buf=a[o].buf.slice(c),D(a,b,x.bind(null,a))}})}else if(0===c){if(0===b&&0===a[o].buf.length)return;a.flush(()=>{Atomics.store(a[o].state,k,0),Atomics.store(a[o].state,j,0),x(a)})}else C(a,Error("overwritten"))}function y(a){let b=this.stream.deref();if(void 0===b){this.exited=!0,this.terminate();return}switch(a.code){case"READY":this.stream=new t(b),b.flush(()=>{b[o].ready=!0,b.emit("ready")});break;case"ERROR":C(b,a.err);break;case"EVENT":Array.isArray(a.args)?b.emit(a.name,...a.args):b.emit(a.name,a.args);break;case"WARNING":process.emitWarning(a.err);break;default:C(b,Error("this should not happen: "+a.code))}}function z(a){let b=this.stream.deref();void 0!==b&&(u.unregister(b),b.worker.exited=!0,b.worker.off("exit",z),C(b,0!==a?Error("the worker thread exited"):null))}class A extends e{constructor(a={}){if(super(),a.bufferSize<4)throw Error("bufferSize must at least fit a 4-byte utf-8 char");this[o]={},this[o].stateBuf=new SharedArrayBuffer(128),this[o].state=new Int32Array(this[o].stateBuf),this[o].dataBuf=new SharedArrayBuffer(a.bufferSize||4194304),this[o].data=Buffer.from(this[o].dataBuf),this[o].sync=a.sync||!1,this[o].ending=!1,this[o].ended=!1,this[o].needDrain=!1,this[o].destroyed=!1,this[o].flushing=!1,this[o].ready=!1,this[o].finished=!1,this[o].errored=null,this[o].closed=!1,this[o].buf="",this.worker=v(this,a),this.on("message",(a,b)=>{this.worker.postMessage(a,b)})}write(a){if(this[o].destroyed)return B(this,Error("the worker has exited")),!1;if(this[o].ending)return B(this,Error("the worker is ending")),!1;if(this[o].flushing&&this[o].buf.length+a.length>=p)try{F(this),this[o].flushing=!0}catch(a){return C(this,a),!1}if(this[o].buf+=a,this[o].sync)try{return F(this),!0}catch(a){return C(this,a),!1}return this[o].flushing||(this[o].flushing=!0,setImmediate(x,this)),this[o].needDrain=this[o].data.length-this[o].buf.length-Atomics.load(this[o].state,j)<=0,!this[o].needDrain}end(){this[o].destroyed||(this[o].ending=!0,E(this))}flush(a){if(this[o].destroyed){"function"==typeof a&&process.nextTick(a,Error("the worker has exited"));return}let b=Atomics.load(this[o].state,j);i(this[o].state,k,b,1/0,(b,c)=>{if(b){C(this,b),process.nextTick(a,b);return}if("not-equal"===c)return void this.flush(a);process.nextTick(a)})}flushSync(){this[o].destroyed||(F(this),G(this))}unref(){this.worker.unref()}ref(){this.worker.ref()}get ready(){return this[o].ready}get destroyed(){return this[o].destroyed}get closed(){return this[o].closed}get writable(){return!this[o].destroyed&&!this[o].ending}get writableEnded(){return this[o].ending}get writableFinished(){return this[o].finished}get writableNeedDrain(){return this[o].needDrain}get writableObjectMode(){return!1}get writableErrored(){return this[o].errored}}function B(a,b){setImmediate(()=>{a.emit("error",b)})}function C(a,b){a[o].destroyed||(a[o].destroyed=!0,b&&(a[o].errored=b,B(a,b)),a.worker.exited?setImmediate(()=>{a[o].closed=!0,a.emit("close")}):a.worker.terminate().catch(()=>{}).then(()=>{a[o].closed=!0,a.emit("close")}))}function D(a,b,c){let d=Atomics.load(a[o].state,j),e=Buffer.byteLength(b);return a[o].data.write(b,d),Atomics.store(a[o].state,j,d+e),Atomics.notify(a[o].state,j),c(),!0}function E(a){if(!a[o].ended&&a[o].ending&&!a[o].flushing){a[o].ended=!0;try{a.flushSync();let b=Atomics.load(a[o].state,k);Atomics.store(a[o].state,j,-1),Atomics.notify(a[o].state,j);let c=0;for(;-1!==b;){if(Atomics.wait(a[o].state,k,b,1e3),b=Atomics.load(a[o].state,k),-2===b)return void C(a,Error("end() failed"));if(10==++c)return void C(a,Error("end() took too long (10s)"))}process.nextTick(()=>{a[o].finished=!0,a.emit("finish")})}catch(b){C(a,b)}}}function F(a){let b=()=>{a[o].ending?E(a):a[o].needDrain&&process.nextTick(w,a)};for(a[o].flushing=!1;0!==a[o].buf.length;){let c=Atomics.load(a[o].state,j),d=a[o].data.length-c;if(0===d){G(a),Atomics.store(a[o].state,k,0),Atomics.store(a[o].state,j,0);continue}if(d<0)throw Error("overwritten");let e=a[o].buf.slice(0,d),f=Buffer.byteLength(e);if(f<=d)a[o].buf=a[o].buf.slice(d),D(a,e,b);else{for(G(a),Atomics.store(a[o].state,k,0),Atomics.store(a[o].state,j,0);f>a[o].buf.length;)d/=2,e=a[o].buf.slice(0,d),f=Buffer.byteLength(e);a[o].buf=a[o].buf.slice(d),D(a,e,b)}}}function G(a){if(a[o].flushing)throw Error("unable to flush while flushing");let b=Atomics.load(a[o].state,j),c=0;for(;;){let d=Atomics.load(a[o].state,k);if(-2===d)throw Error("_flushSync failed");if(d!==b)Atomics.wait(a[o].state,k,d,1e3);else break;if(10==++c)throw Error("_flushSync took too long (10s)")}}a.exports=A},74210:(a,b,c)=>{"use strict";function d(a,b={}){let e;if("/"===a.charAt(0)){let b=a.split(" ");return{host:b[0],database:b[1]}}let f={},g=!1;/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(a)&&(a=encodeURI(a).replace(/%25(\d\d)/g,"%$1"));try{try{e=new URL(a,"postgres://base")}catch(b){e=new URL(a.replace("@/","@___DUMMY___/"),"postgres://base"),g=!0}}catch(a){a.input&&(a.input="*****REDACTED*****")}for(let a of e.searchParams.entries())f[a[0]]=a[1];if(f.user=f.user||decodeURIComponent(e.username),f.password=f.password||decodeURIComponent(e.password),"socket:"==e.protocol)return f.host=decodeURI(e.pathname),f.database=e.searchParams.get("db"),f.client_encoding=e.searchParams.get("encoding"),f;let h=g?"":e.hostname;f.host?h&&/^%2f/i.test(h)&&(e.pathname=h+e.pathname):f.host=decodeURIComponent(h),f.port||(f.port=e.port);let i=e.pathname.slice(1)||null;f.database=i?decodeURI(i):null,("true"===f.ssl||"1"===f.ssl)&&(f.ssl=!0),"0"===f.ssl&&(f.ssl=!1),(f.sslcert||f.sslkey||f.sslrootcert||f.sslmode)&&(f.ssl={});let j=f.sslcert||f.sslkey||f.sslrootcert?c(29021):null;if(f.sslcert&&(f.ssl.cert=j.readFileSync(f.sslcert).toString()),f.sslkey&&(f.ssl.key=j.readFileSync(f.sslkey).toString()),f.sslrootcert&&(f.ssl.ca=j.readFileSync(f.sslrootcert).toString()),b.useLibpqCompat&&f.uselibpqcompat)throw Error("Both useLibpqCompat and uselibpqcompat are set. Please use only one of them.");if("true"===f.uselibpqcompat||b.useLibpqCompat)switch(f.sslmode){case"disable":f.ssl=!1;break;case"prefer":f.ssl.rejectUnauthorized=!1;break;case"require":f.sslrootcert?f.ssl.checkServerIdentity=function(){}:f.ssl.rejectUnauthorized=!1;break;case"verify-ca":if(!f.ssl.ca)throw Error("SECURITY WARNING: Using sslmode=verify-ca requires specifying a CA with sslrootcert. If a public CA is used, verify-ca allows connections to a server that somebody else may have registered with the CA, making you vulnerable to Man-in-the-Middle attacks. Either specify a custom CA certificate with sslrootcert parameter or use sslmode=verify-full for proper security.");f.ssl.checkServerIdentity=function(){}}else switch(f.sslmode){case"disable":f.ssl=!1;break;case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":f.ssl.rejectUnauthorized=!1}return f}function e(a){return Object.entries(a).reduce((a,[b,c])=>(null!=c&&(a[b]=c),a),{})}function f(a){return Object.entries(a).reduce((a,[b,c])=>{if("ssl"===b){let d=c;"boolean"==typeof d&&(a[b]=d),"object"==typeof d&&(a[b]=e(d))}else if(null!=c)if("port"===b){if(""!==c){let d=parseInt(c,10);if(isNaN(d))throw Error(`Invalid ${b}: ${c}`);a[b]=d}}else a[b]=c;return a},{})}function g(a){return f(d(a))}a.exports=d,d.parse=d,d.toClientConfig=f,d.parseIntoClientConfig=g},74232:(a,b,c)=>{"use strict";c(33873);var d=c(29021),e=c(4218);a.exports=function(a,b){var c=e.getFileName();d.stat(c,function(f,g){if(f||!e.usePgPass(g,c))return b(void 0);var h=d.createReadStream(c);e.getPassword(a,h,b)})},a.exports.warnTo=e.warnTo},74492:(a,b,c)=>{"use strict";c.d(b,{Dp:()=>j,Rb:()=>g,T0:()=>h,Ye:()=>i,h2:()=>l,ie:()=>e,n:()=>f});class d extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(a,b){super(a,b),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class e extends d{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class f extends d{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class g extends d{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class h extends d{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class i extends d{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class j extends d{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class k extends d{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(a="multiple matching keys found in the JSON Web Key Set",b){super(a,b)}}class l extends d{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(a="signature verification failed",b){super(a,b)}}},74657:(a,b,c)=>{"use strict";let{getResponseData:d,buildKey:e,addMockDispatch:f}=c(67899),{kDispatches:g,kDispatchKey:h,kDefaultHeaders:i,kDefaultTrailers:j,kContentLength:k,kMockDispatch:l,kIgnoreTrailingSlash:m}=c(59343),{InvalidArgumentError:o}=c(64737),{serializePathWithQuery:p}=c(81350);class q{constructor(a){this[l]=a}delay(a){if("number"!=typeof a||!Number.isInteger(a)||a<=0)throw new o("waitInMs must be a valid integer > 0");return this[l].delay=a,this}persist(){return this[l].persist=!0,this}times(a){if("number"!=typeof a||!Number.isInteger(a)||a<=0)throw new o("repeatTimes must be a valid integer > 0");return this[l].times=a,this}}class r{constructor(a,b){if("object"!=typeof a)throw new o("opts must be an object");if(void 0===a.path)throw new o("opts.path must be defined");if(void 0===a.method&&(a.method="GET"),"string"==typeof a.path)if(a.query)a.path=p(a.path,a.query);else{let b=new URL(a.path,"data://");a.path=b.pathname+b.search}"string"==typeof a.method&&(a.method=a.method.toUpperCase()),this[h]=e(a),this[g]=b,this[m]=a.ignoreTrailingSlash??!1,this[i]={},this[j]={},this[k]=!1}createMockScopeDispatchData({statusCode:a,data:b,responseOptions:c}){let e=d(b),f=this[k]?{"content-length":e.length}:{};return{statusCode:a,data:b,headers:{...this[i],...f,...c.headers},trailers:{...this[j],...c.trailers}}}validateReplyParameters(a){if(void 0===a.statusCode)throw new o("statusCode must be defined");if("object"!=typeof a.responseOptions||null===a.responseOptions)throw new o("responseOptions must be an object")}reply(a){if("function"==typeof a){let b=b=>{let c=a(b);if("object"!=typeof c||null===c)throw new o("reply options callback must return an object");let d={data:"",responseOptions:{},...c};return this.validateReplyParameters(d),{...this.createMockScopeDispatchData(d)}};return new q(f(this[g],this[h],b,{ignoreTrailingSlash:this[m]}))}let b={statusCode:a,data:void 0===arguments[1]?"":arguments[1],responseOptions:void 0===arguments[2]?{}:arguments[2]};this.validateReplyParameters(b);let c=this.createMockScopeDispatchData(b);return new q(f(this[g],this[h],c,{ignoreTrailingSlash:this[m]}))}replyWithError(a){if(void 0===a)throw new o("error must be defined");return new q(f(this[g],this[h],{error:a},{ignoreTrailingSlash:this[m]}))}defaultReplyHeaders(a){if(void 0===a)throw new o("headers must be defined");return this[i]=a,this}defaultReplyTrailers(a){if(void 0===a)throw new o("trailers must be defined");return this[j]=a,this}replyContentLength(){return this[k]=!0,this}}a.exports.MockInterceptor=r,a.exports.MockScope=q},74895:(a,b,c)=>{"use strict";let{kClients:d}=c(10257),e=c(83927),{kAgent:f,kMockAgentSet:g,kMockAgentGet:h,kDispatches:i,kIsMockActive:j,kNetConnect:k,kGetNetConnect:l,kOptions:m,kFactory:o,kMockAgentRegisterCallHistory:p,kMockAgentIsCallHistoryEnabled:q,kMockAgentAddCallHistoryLog:r,kMockAgentMockCallHistoryInstance:s,kMockAgentAcceptsNonStandardSearchParameters:t,kMockCallHistoryAddLog:u}=c(59343),v=c(8867),w=c(97402),{matchValue:x,normalizeSearchParams:y,buildAndValidateMockOptions:z}=c(67899),{InvalidArgumentError:A,UndiciError:B}=c(64737),C=c(72953),D=c(33636),{MockCallHistory:E}=c(38281);class F extends C{constructor(a){super(a);let b=z(a);if(this[k]=!0,this[j]=!0,this[q]=b?.enableCallHistory??!1,this[t]=b?.acceptNonStandardSearchParameters??!1,a?.agent&&"function"!=typeof a.agent.dispatch)throw new A("Argument opts.agent must implement Agent");let c=a?.agent?a.agent:new e(a);this[f]=c,this[d]=c[d],this[m]=b,this[q]&&this[p]()}get(a){let b=this[h](a);return b||(b=this[o](a),this[g](a,b)),b}dispatch(a,b){this.get(a.origin),this[r](a);let c=this[t],d={...a};if(c&&d.path){let[a,b]=d.path.split("?"),e=y(b,c);d.path=`${a}?${e}`}return this[f].dispatch(d,b)}async close(){this.clearCallHistory(),await this[f].close(),this[d].clear()}deactivate(){this[j]=!1}activate(){this[j]=!0}enableNetConnect(a){if("string"==typeof a||"function"==typeof a||a instanceof RegExp)Array.isArray(this[k])?this[k].push(a):this[k]=[a];else if(void 0===a)this[k]=!0;else throw new A("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[k]=!1}enableCallHistory(){return this[q]=!0,this}disableCallHistory(){return this[q]=!1,this}getCallHistory(){return this[s]}clearCallHistory(){void 0!==this[s]&&this[s].clear()}get isMockActive(){return this[j]}[p](){void 0===this[s]&&(this[s]=new E)}[r](a){this[q]&&(this[p](),this[s][u](a))}[g](a,b){this[d].set(a,{count:0,dispatcher:b})}[o](a){let b=Object.assign({agent:this},this[m]);return this[m]&&1===this[m].connections?new v(a,b):new w(a,b)}[h](a){let b=this[d].get(a);if(b?.dispatcher)return b.dispatcher;if("string"!=typeof a){let b=this[o]("http://localhost:9999");return this[g](a,b),b}for(let[b,c]of Array.from(this[d]))if(c&&"string"!=typeof b&&x(b,a)){let b=this[o](a);return this[g](a,b),b[i]=c.dispatcher[i],b}}[l](){return this[k]}pendingInterceptors(){return Array.from(this[d].entries()).flatMap(([a,b])=>b.dispatcher[i].map(b=>({...b,origin:a}))).filter(({pending:a})=>a)}assertNoPendingInterceptors({pendingInterceptorsFormatter:a=new D}={}){let b=this.pendingInterceptors();if(0!==b.length)throw new B(1===b.length?`1 interceptor is pending:

${a.format(b)}`.trim():`${b.length} interceptors are pending:

${a.format(b)}`.trim())}}a.exports=F},74951:(a,b,c)=>{"use strict";var d;c.d(b,{xA:()=>i,uv:()=>j}),function(a){a.MD5="md5",a.CRC32="crc32",a.CRC32C="crc32c",a.SHA1="sha1",a.SHA256="sha256"}(d||(d={}));let e=a=>{let b=[];for(let c in d){let e=d[c];void 0!==a[e]&&b.push({algorithmId:()=>e,checksumConstructor:()=>a[e]})}return{addChecksumAlgorithm(a){b.push(a)},checksumAlgorithms:()=>b}},f=a=>{let b={};return a.checksumAlgorithms().forEach(a=>{b[a.algorithmId()]=a.checksumConstructor()}),b},g=a=>({setRetryStrategy(b){a.retryStrategy=b},retryStrategy:()=>a.retryStrategy}),h=a=>{let b={};return b.retryStrategy=a.retryStrategy(),b},i=a=>Object.assign(e(a),g(a)),j=a=>Object.assign(f(a),h(a))},75041:(a,b,c)=>{"use strict";c.d(b,{c:()=>z});var d=c(24401),e=c(99408),f=c(65716),g=c(10631),h=c(70404),i=c(82545),j=c(86069),k=c(78584),l=c(1276),m=c(40869),o=c(86739),p=c(46386),q=c(46601),r=c(23042),s=c(23271),t=c(66089),u=c(16886),v=c(58609),w=c(37712),x=c(35183),y=c(96683);let z=async a=>{let{id:b,collection:{config:c},depth:z,draft:A=!1,overrideAccess:B=!1,populate:C,req:D,req:{fallbackLocale:E,locale:F,payload:G},select:H,showHiddenFields:I}=a;try{let t=!a.disableTransaction&&await (0,s.n)(a.req);if(a=await (0,y.v)({args:a,collection:a.collection.config,operation:"restoreVersion"}),!b)throw new h.L("Missing ID of version to restore.",d.h.BAD_REQUEST);let{docs:J}=await D.payload.db.findVersions({collection:c.slug,limit:1,locale:F,pagination:!1,req:D,where:{id:{equals:b}}}),[K]=J;if(!K)throw new i.M(D.t);let{parent:L,version:M}=K,N=!!B||await (0,e.m)({id:L,req:D},c.access.update),O=(0,f.L)(N),P={collection:c.slug,locale:F,req:D,where:(0,g.m)({id:{equals:L}},N)},Q=await D.payload.db.findOne(P);if(!Q&&!O)throw new i.M(D.t);if(!Q&&O)throw new j.c(D.t);if(c.trash&&Q?.deletedAt)throw new h.L(`Cannot restore a version of a trashed document (ID: ${L}). Restore the document first.`,d.h.FORBIDDEN);let R=await (0,v.a)({id:L,config:c,payload:G,query:P,req:D}),S=await (0,l.v)({collection:c,context:D.context,depth:0,doc:(0,q.Zt)(R),draft:A,fallbackLocale:null,global:null,locale:F,overrideAccess:!0,req:D,showHiddenFields:!0}),T=await (0,l.v)({collection:c,context:D.context,depth:0,doc:(0,q.Zt)(K.version),draft:A,fallbackLocale:null,global:null,locale:F,overrideAccess:!0,req:D,showHiddenFields:!0}),U=await (0,o.M)({id:L,collection:c,context:D.context,data:(0,q.Zt)(T),doc:S,global:null,operation:"update",overrideAccess:B,req:D});if(c.hooks?.beforeValidate?.length)for(let a of c.hooks.beforeValidate)U=await a({collection:c,context:D.context,data:U,operation:"update",originalDoc:S,req:D})||U;if(c.hooks?.beforeChange?.length)for(let a of c.hooks.beforeChange)U=await a({collection:c,context:D.context,data:U,operation:"update",originalDoc:S,req:D})||U;let V=await (0,m.o)({id:L,collection:c,context:D.context,data:{...U,id:L},doc:S,docWithLocales:M,global:null,operation:"update",overrideAccess:B,req:D,skipValidation:A&&!(0,r.wA)(c)}),W=(0,u.Y)({fields:c.flattenedFields,forceSelect:c.forceSelect,select:H});if(V.updatedAt=new Date().toISOString(),V._status=A?"draft":V._status,A||(V=await D.payload.db.updateOne({id:L,collection:c.slug,data:V,req:D,select:W})),V=await (0,w.U)({id:L,autosave:!1,collection:c,docWithLocales:V,draft:A,operation:"restoreVersion",payload:G,req:D,select:W}),V=await (0,l.v)({collection:c,context:D.context,depth:z,doc:V,draft:void 0,fallbackLocale:E,global:null,locale:F,overrideAccess:B,populate:C,req:D,select:W,showHiddenFields:I}),c.hooks?.afterRead?.length)for(let a of c.hooks.afterRead)V=await a({collection:c,context:D.context,doc:V,req:D})||V;if(V=await (0,k.t)({collection:c,context:D.context,data:V,doc:V,global:null,operation:"update",previousDoc:R,req:D}),c.hooks?.afterChange?.length)for(let a of c.hooks.afterChange)V=await a({collection:c,context:D.context,data:V,doc:V,operation:"update",previousDoc:R,req:D})||V;return V=await (0,x.E)({args:a,collection:c,operation:"restoreVersion",result:V}),t&&await (0,p.w)(D),V}catch(a){throw await (0,t.J)(D),a}}},75042:(a,b,c)=>{"use strict";let d,e,f,g;c.d(b,{Z:()=>bk});var h=c(59626),i=c(50284),j=c(57987),k=c(29351),l=c(32036),m=c(53179),o=c(75285),p=c(15376),q=c(80347),r=c(96824),s=c(30645),t=c(67420),u=c(96867),v=c(98481),w=c(39494),x=c(77350),y=c(86159),z=c(30648);let A=a=>(a.sigv4aSigningRegionSet=(0,y.t)(a.sigv4aSigningRegionSet),a),B={environmentVariableSelector(a){if(a.AWS_SIGV4A_SIGNING_REGION_SET)return a.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(a=>a.trim());throw new z.m("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(a){if(a.sigv4a_signing_region_set)return(a.sigv4a_signing_region_set??"").split(",").map(a=>a.trim());throw new z.m("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0};var C=c(76221);c(98927),c(5239);let D="X-Amz-S3session-Token",E=D.toLowerCase();class F extends C.B{async signWithCredentials(a,b,c){let d=G(b);a.headers[E]=b.sessionToken;let e=this;return H(e,d),e.signRequest(a,c??{})}async presignWithCredentials(a,b,c){let d=G(b);delete a.headers[E],a.headers[D]=b.sessionToken,a.query=a.query??{},a.query[D]=b.sessionToken;let e=this;return H(e,d),this.presign(a,c)}}function G(a){return{accessKeyId:a.accessKeyId,secretAccessKey:a.secretAccessKey,expiration:a.expiration}}function H(a,b){let c=setTimeout(()=>{throw Error("SignatureV4S3Express credential override was created but not called.")},10),d=a.credentialProvider,e=()=>(clearTimeout(c),a.credentialProvider=d,Promise.resolve(b));a.credentialProvider=e}let I={SignatureV4a:null},J={CrtSignerV4:null};class K{sigv4aSigner;sigv4Signer;signerOptions;static sigv4aDependency(){return"function"==typeof J.CrtSignerV4?"crt":"function"==typeof I.SignatureV4a?"js":"none"}constructor(a){this.sigv4Signer=new F(a),this.signerOptions=a}async sign(a,b={}){return"*"===b.signingRegion?this.getSigv4aSigner().sign(a,b):this.sigv4Signer.sign(a,b)}async signWithCredentials(a,b,c={}){if("*"===c.signingRegion){let d=this.getSigv4aSigner(),e=J.CrtSignerV4;if(e&&d instanceof e)return d.signWithCredentials(a,b,c);throw Error('signWithCredentials with signingRegion \'*\' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt')}return this.sigv4Signer.signWithCredentials(a,b,c)}async presign(a,b={}){if("*"===b.signingRegion){let c=this.getSigv4aSigner(),d=J.CrtSignerV4;if(d&&c instanceof d)return c.presign(a,b);throw Error('presign with signingRegion \'*\' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt')}return this.sigv4Signer.presign(a,b)}async presignWithCredentials(a,b,c={}){if("*"===c.signingRegion)throw Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(a,b,c)}getSigv4aSigner(){if(!this.sigv4aSigner){let a=J.CrtSignerV4,b=I.SignatureV4a;if("node"===this.signerOptions.runtime){if(!a&&!b)throw Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");if(a&&"function"==typeof a)this.sigv4aSigner=new a({...this.signerOptions,signingAlgorithm:1});else if(b&&"function"==typeof b)this.sigv4aSigner=new b({...this.signerOptions});else throw Error("Available SigV4a implementation is not a valid constructor. Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt")}else{if(!b||"function"!=typeof b)throw Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");this.sigv4aSigner=new b({...this.signerOptions})}}return this.sigv4aSigner}}var L=c(79944),M=c(88392),N=c(91035),O=c(31589),P=c(8270),Q=c(52373),R=c(69327);let S="required",T="type",U="fn",V="argv",W="ref",X="isSet",Y="booleanEquals",Z="endpoint",$="tree",_="error",aa={[S]:!1,[T]:"string"},ab={[S]:!0,default:!1,[T]:"boolean"},ac={[W]:"EndpointId"},ad={[U]:X,[V]:[{[W]:"Region"}]},ae={[U]:"aws.partition",[V]:[{[W]:"Region"}],assign:"PartitionResult"},af={[W]:"UseFIPS"},ag={[W]:"Endpoint"},ah={authSchemes:[{name:"sigv4a",signingName:"ses",signingRegionSet:["*"]}]},ai={},aj={[U]:Y,[V]:[{[W]:"UseDualStack"},!0]},ak={[U]:Y,[V]:[!0,{[U]:"getAttr",[V]:[{[W]:"PartitionResult"},"supportsDualStack"]}]},al={[_]:"DualStack is enabled but this partition does not support DualStack",[T]:_},am={[U]:Y,[V]:[af,!0]},an={[U]:"getAttr",[V]:[{[W]:"PartitionResult"},"supportsFIPS"]},ao=[{[U]:X,[V]:[ag]}],ap=[aj],aq=[ak],ar=[am],as={version:"1.0",parameters:{Region:aa,UseDualStack:ab,UseFIPS:ab,Endpoint:aa,EndpointId:aa},rules:[{conditions:[{[U]:X,[V]:[ac]},ad,ae],rules:[{conditions:[{[U]:"isValidHostLabel",[V]:[ac,!0]}],rules:[{conditions:[{[U]:Y,[V]:[af,!1]}],rules:[{conditions:ao,endpoint:{url:ag,properties:ah,headers:ai},[T]:Z},{conditions:ap,rules:[{conditions:aq,rules:[{endpoint:{url:"https://{EndpointId}.endpoints.email.global.{PartitionResult#dualStackDnsSuffix}",properties:ah,headers:ai},[T]:Z}],[T]:$},al],[T]:$},{endpoint:{url:"https://{EndpointId}.endpoints.email.{PartitionResult#dnsSuffix}",properties:ah,headers:ai},[T]:Z}],[T]:$},{error:"Invalid Configuration: FIPS is not supported with multi-region endpoints",[T]:_}],[T]:$},{error:"EndpointId must be a valid host label",[T]:_}],[T]:$},{conditions:ao,rules:[{conditions:ar,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[T]:_},{conditions:ap,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[T]:_},{endpoint:{url:ag,properties:ai,headers:ai},[T]:Z}],[T]:$},{conditions:[ad],rules:[{conditions:[ae],rules:[{conditions:[am,aj],rules:[{conditions:[{[U]:Y,[V]:[!0,an]},ak],rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ai,headers:ai},[T]:Z}],[T]:$},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[T]:_}],[T]:$},{conditions:ar,rules:[{conditions:[{[U]:Y,[V]:[an,!0]}],rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ai,headers:ai},[T]:Z}],[T]:$},{error:"FIPS is enabled but this partition does not support FIPS",[T]:_}],[T]:$},{conditions:ap,rules:[{conditions:aq,rules:[{endpoint:{url:"https://email.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ai,headers:ai},[T]:Z}],[T]:$},al],[T]:$},{endpoint:{url:"https://email.{Region}.{PartitionResult#dnsSuffix}",properties:ai,headers:ai},[T]:Z}],[T]:$}],[T]:$},{error:"Invalid Configuration: Missing Region",[T]:_}]},at=new P.k({size:50,params:["Endpoint","EndpointId","Region","UseDualStack","UseFIPS"]}),au=(a,b={})=>at.get(a,()=>(0,Q.s)(as,{endpointParams:a,logger:b.logger}));R.m.aws=O.UF;let av=(d=async(a,b,c)=>({operation:(0,M.u)(b).operation,region:await (0,N.t)(a.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),async(a,b,c)=>{if(!c)throw Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");let e=await d(a,b,c),f=(0,M.u)(b)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!f)throw Error(`getEndpointParameterInstructions() is not defined on '${b.commandName}'`);return Object.assign(e,await (0,L.x)(c,{getEndpointParameterInstructions:f},a))});function aw(a){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"ses",region:a.region},propertiesExtractor:(a,b)=>({signingProperties:{config:a,context:b}})}}function ax(a){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"ses",region:a.region},propertiesExtractor:(a,b)=>({signingProperties:{config:a,context:b}})}}let ay=(e=au,f=a=>{let b=[];return a.operation,b.push(aw(a)),b.push(ax(a)),b},g={"aws.auth#sigv4":aw,"aws.auth#sigv4a":ax},a=>{let b=e(a),c=b.properties?.authSchemes;if(!c)return f(a);let d=[];for(let b of c){let e,{name:f,properties:h={},...i}=b,j=f.toLowerCase();if(f!==j&&console.warn(`HttpAuthScheme has been normalized with lowercasing: '${f}' to '${j}'`),"sigv4a"===j){e="aws.auth#sigv4a";let a=c.find(a=>{let b=a.name.toLowerCase();return"sigv4a"!==b&&b.startsWith("sigv4")});if("none"===K.sigv4aDependency()&&a)continue}else if(j.startsWith("sigv4"))e="aws.auth#sigv4";else throw Error(`Unknown HttpAuthScheme found in '@smithy.rules#endpointRuleSet': '${j}'`);let k=g[e];if(!k)throw Error(`Could not find HttpAuthOption create function for '${e}'`);let l=k(a);l.schemeId=e,l.signingProperties={...l.signingProperties||{},...i,...h},d.push(l)}return d}),az=a=>Object.assign(A((0,x.h)(a)),{authSchemePreference:(0,N.t)(a.authSchemePreference??[])});var aA=c(32885);let aB={rE:"3.962.0"};var aC=c(62033),aD=c(27356),aE=c(4429),aF=c(64262),aG=c(55042),aH=c(76552);let aI="AWS_EC2_METADATA_DISABLED",aJ=async a=>{let{ENV_CMDS_FULL_URI:b,ENV_CMDS_RELATIVE_URI:d,fromContainerMetadata:e,fromInstanceMetadata:f}=await c.e(7024).then(c.bind(c,37024));if(process.env[d]||process.env[b]){a.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:b}=await c.e(6554).then(c.bind(c,56554));return(0,aH.c)(b(a),e(a))}return process.env[aI]&&"false"!==process.env[aI]?async()=>{throw new aF.C("EC2 Instance Metadata Service access disabled",{logger:a.logger})}:(a.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),f(a))};function aK(a,b){let c,d,e,f=aL(a),g=async a=>{if(a?.forceRefresh)return await f(a);if(e?.expiration&&e?.expiration?.getTime()<Date.now()&&(e=void 0),c)await c;else if(!e||b?.(e))if(!e)return c=f(a).then(a=>{e=a,c=void 0}),g(a);else d||(d=f(a).then(a=>{e=a,d=void 0}));return e};return g}let aL=a=>async b=>{let c;for(let d of a)try{return await d(b)}catch(a){if(c=a,a?.tryNextLink)continue;throw a}throw c},aM=!1,aN=(a={})=>aK([async()=>{if(a.profile??process.env[aG.Ch])throw process.env[aE.yG]&&process.env[aE.pi]&&!aM&&((a.logger?.warn&&a.logger?.constructor?.name!=="NoOpLogger"?a.logger.warn.bind(a.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),aM=!0),new aF.C("AWS_PROFILE is set, skipping fromEnv provider.",{logger:a.logger,tryNextLink:!0});return a.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,aE.sF)(a)()},async b=>{a.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:d,ssoAccountId:e,ssoRegion:f,ssoRoleName:g,ssoSession:h}=a;if(!d&&!e&&!f&&!g&&!h)throw new aF.C("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:a.logger});let{fromSSO:i}=await c.e(4223).then(c.bind(c,36604));return i(a)(b)},async b=>{a.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:d}=await c.e(9578).then(c.bind(c,19578));return d(a)(b)},async b=>{a.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:d}=await c.e(2266).then(c.bind(c,9885));return d(a)(b)},async b=>{a.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:d}=await c.e(5352).then(c.bind(c,75352));return d(a)(b)},async()=>(a.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await aJ(a))()),async()=>{throw new aF.C("Could not load credentials from any providers",{tryNextLink:!1,logger:a.logger})}],aO),aO=a=>a?.expiration!==void 0&&a.expiration.getTime()-Date.now()<3e5;var aP=c(61997),aQ=c(69022),aR=c(59476),aS=c(34352),aT=c(98550),aU=c(3057),aV=c(60175),aW=c(11487),aX=c(99741),aY=c(99162),aZ=c(271),a$=c(55947),a_=c(7992),a0=c(62445),a1=c(13246),a2=c(15796),a3=c(22018);class a4 extends a1.f2{async sign(a,b,c){if(!a2.K.isInstance(a))throw Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:d,signer:e,signingRegion:f,signingRegionSet:g,signingName:h}=await (0,a1.pz)(c),i=(await d.sigv4aSigningRegionSet?.()??g??[f]).join(",");return await e.sign(a,{signingDate:(0,a3.C)(d.systemClockOffset),signingRegion:i,signingService:h})}}var a5=c(61231),a6=c(97885),a7=c(58412),a8=c(46734),a9=c(73891),ba=c(38353),bb=c(38756);let bc=a=>({apiVersion:"2019-09-27",base64Decoder:a?.base64Decoder??a8.E,base64Encoder:a?.base64Encoder??a9.n,disableHostPrefix:a?.disableHostPrefix??!1,endpointProvider:a?.endpointProvider??au,extensions:a?.extensions??[],httpAuthSchemeProvider:a?.httpAuthSchemeProvider??ay,httpAuthSchemes:a?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:a=>a.getIdentityProvider("aws.auth#sigv4"),signer:new a1.f2},{schemeId:"aws.auth#sigv4a",identityProvider:a=>a.getIdentityProvider("aws.auth#sigv4a"),signer:new a4}],logger:a?.logger??new a6.N,protocol:a?.protocol??a5.Y,protocolSettings:a?.protocolSettings??{defaultNamespace:"com.amazonaws.sesv2",version:"2019-09-27",serviceTarget:"SimpleEmailService_v2"},serviceId:a?.serviceId??"SESv2",signerConstructor:a?.signerConstructor??K,urlParser:a?.urlParser??a7.D,utf8Decoder:a?.utf8Decoder??ba.a,utf8Encoder:a?.utf8Encoder??bb.P}),bd=a=>{(0,aY.I)(process.version);let b=(0,a_.I)(a),c=()=>b().then(aZ.l),d=bc(a);(0,aC.I)(process.version);let e={profile:a?.profile,logger:d.logger};return{...d,...a,runtime:"node",defaultsMode:b,authSchemePreference:a?.authSchemePreference??(0,aV.Z)(aD.$,e),bodyLengthChecker:a?.bodyLengthChecker??a$.n,credentialDefaultProvider:a?.credentialDefaultProvider??aN,defaultUserAgentProvider:a?.defaultUserAgentProvider??(0,aP.pf)({serviceId:d.serviceId,clientVersion:aB.rE}),maxAttempts:a?.maxAttempts??(0,aV.Z)(u.qs,a),region:a?.region??(0,aV.Z)(aR.GG,{...aR.zH,...e}),requestHandler:aW.$.create(a?.requestHandler??c),retryMode:a?.retryMode??(0,aV.Z)({...u.kN,default:async()=>(await c()).retryMode||a0.L0},a),sha256:a?.sha256??aU.V.bind(null,"sha256"),sigv4aSigningRegionSet:a?.sigv4aSigningRegionSet??(0,aV.Z)(B,e),streamCollector:a?.streamCollector??aX.k,useDualstackEndpoint:a?.useDualstackEndpoint??(0,aV.Z)(aS.e$,e),useFipsEndpoint:a?.useFipsEndpoint??(0,aV.Z)(aT.Ko,e),userAgentAppId:a?.userAgentAppId??(0,aV.Z)(aQ.hV,e)}};var be=c(40267),bf=c(10931),bg=c(74951);let bh=a=>{let b=a.httpAuthSchemes,c=a.httpAuthSchemeProvider,d=a.credentials;return{setHttpAuthScheme(a){let c=b.findIndex(b=>b.schemeId===a.schemeId);-1===c?b.push(a):b.splice(c,1,a)},httpAuthSchemes:()=>b,setHttpAuthSchemeProvider(a){c=a},httpAuthSchemeProvider:()=>c,setCredentials(a){d=a},credentials:()=>d}},bi=a=>({httpAuthSchemes:a.httpAuthSchemes(),httpAuthSchemeProvider:a.httpAuthSchemeProvider(),credentials:a.credentials()}),bj=(a,b)=>{let c=Object.assign((0,be.R)(a),(0,bg.xA)(a),(0,bf.e)(a),bh(a));return b.forEach(a=>a.configure(c)),Object.assign(a,(0,be.$)(c),(0,bg.uv)(c),(0,bf.j)(c),bi(c))};class bk extends w.K{config;constructor(...[a]){let b=bd(a||{});super(b),this.initConfig=b;let c=(0,aA.v)(b),d=(0,k.D)(c),e=(0,u.$z)(d),f=(0,m.T)(e),g=(0,h.OV)(f),w=bj(az((0,t.C)(g)),a?.extensions||[]);this.config=w,this.middlewareStack.use((0,r.wq)(this.config)),this.middlewareStack.use((0,l.sM)(this.config)),this.middlewareStack.use((0,v.ey)(this.config)),this.middlewareStack.use((0,s.vK)(this.config)),this.middlewareStack.use((0,h.TC)(this.config)),this.middlewareStack.use((0,i.Y7)(this.config)),this.middlewareStack.use((0,j.n)(this.config)),this.middlewareStack.use((0,o.w)(this.config,{httpAuthSchemeParametersProvider:av,identityProviderConfigProvider:async a=>new p.h({"aws.auth#sigv4":a.credentials,"aws.auth#sigv4a":a.credentials})})),this.middlewareStack.use((0,q.l)(this.config))}destroy(){super.destroy()}}},75058:(a,b,c)=>{"use strict";c.d(b,{DN:()=>g,IS:()=>f,JT:()=>h});let d=a=>{let{name:b,domain:c,expires:d,httpOnly:e,maxAge:f,path:g,returnCookieAsObject:h,sameSite:i,secure:j,value:k}=a,l=`${b}=${k||""}`,m={name:b,value:k},o=j||"None"===i;return d&&(h?m.expires=d.toUTCString():l+=`; Expires=${d.toUTCString()}`),f&&(h?m.maxAge=f:l+=`; Max-Age=${f.toString()}`),c&&(h?m.domain=c:l+=`; Domain=${c}`),g&&(h?m.path=g:l+=`; Path=${g}`),o&&(h?m.secure=o:l+=`; Secure=${o}`),e&&(h?m.httpOnly=e:l+=`; HttpOnly=${e}`),i&&(h?m.sameSite=i:l+=`; SameSite=${i}`),h?m:l},e=({seconds:a=7200})=>{let b=new Date;return b.setSeconds(b.getSeconds()+a),b},f=({collectionAuthConfig:a,cookiePrefix:b,returnCookieAsObject:c=!1,token:f})=>{let g="string"==typeof a.cookies.sameSite?a.cookies.sameSite:a.cookies.sameSite?"Strict":void 0;return d({name:`${b}-token`,domain:a.cookies.domain??void 0,expires:e({seconds:a.tokenExpiration}),httpOnly:!0,path:"/",returnCookieAsObject:c,sameSite:g,secure:a.cookies.secure,value:f})},g=({collectionAuthConfig:a,cookiePrefix:b,returnCookieAsObject:c=!1})=>{let e="string"==typeof a.cookies.sameSite?a.cookies.sameSite:a.cookies.sameSite?"Strict":void 0,f=new Date(Date.now()-1e3);return d({name:`${b}-token`,domain:a.cookies.domain??void 0,expires:f,httpOnly:!0,path:"/",returnCookieAsObject:c,sameSite:e,secure:a.cookies.secure})};function h(a){let b=new Map,c=a.get("Cookie");if(!c)return b;for(let a of c.split(/; */)){if(!a)continue;let c=a.indexOf("=");if(-1===c){b.set(a,"true");continue}let[d,e]=[a.slice(0,c),a.slice(c+1)];try{b.set(d,decodeURIComponent(e??"true"))}catch{}}return b}},75285:(a,b,c)=>{"use strict";c.d(b,{w:()=>i});var d=c(88392);let e=(a,b)=>{if(!b||0===b.length)return a;let c=[];for(let d of b)for(let b of a)b.schemeId.split("#")[1]===d&&c.push(b);for(let b of a)c.find(({schemeId:a})=>a===b.schemeId)||c.push(b);return c};function f(a){let b=new Map;for(let c of a)b.set(c.schemeId,c);return b}let g=(a,b)=>(c,g)=>async h=>{let i=e(a.httpAuthSchemeProvider(await b.httpAuthSchemeParametersProvider(a,g,h.input)),a.authSchemePreference?await a.authSchemePreference():[]),j=f(a.httpAuthSchemes),k=(0,d.u)(g),l=[];for(let c of i){let d=j.get(c.schemeId);if(!d){l.push(`HttpAuthScheme \`${c.schemeId}\` was not enabled for this service.`);continue}let e=d.identityProvider(await b.identityProviderConfigProvider(a));if(!e){l.push(`HttpAuthScheme \`${c.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:f={},signingProperties:h={}}=c.propertiesExtractor?.(a,g)||{};c.identityProperties=Object.assign(c.identityProperties||{},f),c.signingProperties=Object.assign(c.signingProperties||{},h),k.selectedHttpAuthScheme={httpAuthOption:c,identity:await e(c.identityProperties),signer:d.signer};break}if(!k.selectedHttpAuthScheme)throw Error(l.join("\n"));return c(h)},h={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},i=(a,{httpAuthSchemeParametersProvider:b,identityProviderConfigProvider:c})=>({applyToStack:d=>{d.addRelativeTo(g(a,{httpAuthSchemeParametersProvider:b,identityProviderConfigProvider:c}),h)}})},75394:a=>{"use strict";let b=2048,c=2047;class d{constructor(){this.bottom=0,this.top=0,this.list=Array(b).fill(void 0),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&c)===this.bottom}push(a){this.list[this.top]=a,this.top=this.top+1&c}shift(){let a=this.list[this.bottom];return void 0===a?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&c,a)}}a.exports=class{constructor(){this.head=this.tail=new d}isEmpty(){return this.head.isEmpty()}push(a){this.head.isFull()&&(this.head=this.head.next=new d),this.head.push(a)}shift(){let a=this.tail,b=a.shift();return a.isEmpty()&&null!==a.next&&(this.tail=a.next,a.next=null),b}}},75467:(a,b,c)=>{"use strict";c.d(b,{A:()=>p});var d=c(77598),e=c(74492),f=c(26390),g=c(44619),h=c(10466),i=c(61435),j=c(19071);new WeakMap;let k=a=>{switch(a){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new e.T0("Unsupported key curve for this operation")}},l=(a,b)=>{let c;if((0,f.R)(a))c=d.KeyObject.from(a);else if((0,g.A)(a))c=a;else if((0,j.ll)(a))return a.crv;else throw TypeError((0,h.A)(a,...i.g));if("secret"===c.type)throw TypeError('only "private" or "public" type keys can be used for this operation');switch(c.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${c.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${c.asymmetricKeyType.slice(1)}`;case"ec":{let a=c.asymmetricKeyDetails.namedCurve;if(b)return a;return k(a)}default:throw TypeError("Invalid asymmetric key type for this operation")}},m=(a,b)=>{let c;try{c=a instanceof d.KeyObject?a.asymmetricKeyDetails?.modulusLength:Buffer.from(a.n,"base64url").byteLength<<3}catch{}if("number"!=typeof c||c<2048)throw TypeError(`${b} requires key modulusLength to be 2048 bits or larger`)},o=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);function p(a,b){let c,f,g,h;if(b instanceof d.KeyObject)c=b.asymmetricKeyType,f=b.asymmetricKeyDetails;else switch(g=!0,b.kty){case"RSA":c="rsa";break;case"EC":c="ec";break;case"OKP":if("Ed25519"===b.crv){c="ed25519";break}if("Ed448"===b.crv){c="ed448";break}throw TypeError("Invalid key for this operation, its crv must be Ed25519 or Ed448");default:throw TypeError("Invalid key for this operation, its kty must be RSA, OKP, or EC")}switch(a){case"EdDSA":if(!["ed25519","ed448"].includes(c))throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448");break;case"RS256":case"RS384":case"RS512":if("rsa"!==c)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");m(b,a);break;case"PS256":case"PS384":case"PS512":if("rsa-pss"===c){let{hashAlgorithm:b,mgf1HashAlgorithm:c,saltLength:d}=f,e=parseInt(a.slice(-3),10);if(void 0!==b&&(b!==`sha${e}`||c!==b))throw TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${a}`);if(void 0!==d&&d>e>>3)throw TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${a}`)}else if("rsa"!==c)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss");m(b,a),h={padding:d.constants.RSA_PKCS1_PSS_PADDING,saltLength:d.constants.RSA_PSS_SALTLEN_DIGEST};break;case"ES256":case"ES256K":case"ES384":case"ES512":{if("ec"!==c)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ec");let d=l(b),e=o.get(a);if(d!==e)throw TypeError(`Invalid key curve for the algorithm, its curve must be ${e}, got ${d}`);h={dsaEncoding:"ieee-p1363"};break}default:throw new e.T0(`alg ${a} is not supported either by JOSE or your javascript runtime`)}return g?{format:"jwk",key:b,...h}:h?{...h,key:b}:b}},75523:(a,b,c)=>{"use strict";c.d(b,{A:()=>l});var d=c(77598),e=c(57975),f=c(43732),g=c(74492);function h(a){switch(a){case"HS256":return"sha256";case"HS384":return"sha384";case"HS512":return"sha512";default:throw new g.T0(`alg ${a} is not supported either by JOSE or your javascript runtime`)}}var i=c(75467),j=c(24290);let k=(0,e.promisify)(d.sign),l=async(a,b,c)=>{let e=(0,j.A)(a,b,"sign");if(a.startsWith("HS")){let b=d.createHmac(h(a),e);return b.update(c),b.digest()}return k((0,f.A)(a),c,(0,i.A)(a,e))}},75624:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getSchemaRefs=b.resolveUrl=b.normalizeId=b._getFullPath=b.getFullPath=b.inlineRef=void 0;let d=c(34414),e=c(56757),f=c(97827),g=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);b.inlineRef=function(a,b=!0){return"boolean"==typeof a||(!0===b?!i(a):!!b&&j(a)<=b)};let h=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function i(a){for(let b in a){if(h.has(b))return!0;let c=a[b];if(Array.isArray(c)&&c.some(i)||"object"==typeof c&&i(c))return!0}return!1}function j(a){let b=0;for(let c in a)if("$ref"===c||(b++,!g.has(c)&&("object"==typeof a[c]&&(0,d.eachItem)(a[c],a=>b+=j(a)),b===1/0)))return 1/0;return b}function k(a,b="",c){!1!==c&&(b=o(b));let d=a.parse(b);return l(a,d)}function l(a,b){return a.serialize(b).split("#")[0]+"#"}b.getFullPath=k,b._getFullPath=l;let m=/#\/?$/;function o(a){return a?a.replace(m,""):""}b.normalizeId=o,b.resolveUrl=function(a,b,c){return c=o(c),a.resolve(b,c)};let p=/^[a-z_][-a-z0-9._]*$/i;b.getSchemaRefs=function(a,b){if("boolean"==typeof a)return{};let{schemaId:c,uriResolver:d}=this.opts,g=o(a[c]||b),h={"":g},i=k(d,g,!1),j={},l=new Set;return f(a,{allKeys:!0},(a,b,d,e)=>{if(void 0===e)return;let f=i+b,g=h[e];function k(b){let c=this.opts.uriResolver.resolve;if(b=o(g?c(g,b):b),l.has(b))throw q(b);l.add(b);let d=this.refs[b];return"string"==typeof d&&(d=this.refs[d]),"object"==typeof d?m(a,d.schema,b):b!==o(f)&&("#"===b[0]?(m(a,j[b],b),j[b]=a):this.refs[b]=f),b}function r(a){if("string"==typeof a){if(!p.test(a))throw Error(`invalid anchor "${a}"`);k.call(this,`#${a}`)}}"string"==typeof a[c]&&(g=k.call(this,a[c])),r.call(this,a.$anchor),r.call(this,a.$dynamicAnchor),h[b]=g}),j;function m(a,b,c){if(void 0!==b&&!e(a,b))throw q(c)}function q(a){return Error(`reference "${a}" resolves to more than one schema`)}}},75667:(a,b,c)=>{"use strict";let d=c(27092),e=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/;class f{constructor(a,b){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=b,this.RowCtor=null,this.rowAsArray="array"===a,this.rowAsArray&&(this.parseRow=this._parseRowAsArray),this._prebuiltEmptyResultObject=null}addCommandComplete(a){let b;(b=a.text?e.exec(a.text):e.exec(a.command))&&(this.command=b[1],b[3]?(this.oid=parseInt(b[2],10),this.rowCount=parseInt(b[3],10)):b[2]&&(this.rowCount=parseInt(b[2],10)))}_parseRowAsArray(a){let b=Array(a.length);for(let c=0,d=a.length;c<d;c++){let d=a[c];null!==d?b[c]=this._parsers[c](d):b[c]=null}return b}parseRow(a){let b={...this._prebuiltEmptyResultObject};for(let c=0,d=a.length;c<d;c++){let d=a[c],e=this.fields[c].name;if(null!==d){let a="binary"===this.fields[c].format?Buffer.from(d):d;b[e]=this._parsers[c](a)}else b[e]=null}return b}addRow(a){this.rows.push(a)}addFields(a){this.fields=a,this.fields.length&&(this._parsers=Array(a.length));let b={};for(let c=0;c<a.length;c++){let e=a[c];b[e.name]=null,this._types?this._parsers[c]=this._types.getTypeParser(e.dataTypeID,e.format||"text"):this._parsers[c]=d.getTypeParser(e.dataTypeID,e.format||"text")}this._prebuiltEmptyResultObject={...b}}}a.exports=f},75724:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateKeywordUsage=b.validSchemaType=b.funcKeywordCode=b.macroKeywordCode=void 0;let d=c(47934),e=c(10004),f=c(26582),g=c(94233);function h(a){let{gen:b,data:c,it:e}=a;b.if(e.parentData,()=>b.assign(c,(0,d._)`${e.parentData}[${e.parentDataProperty}]`))}function i(a,b){let{gen:c}=a;c.if((0,d._)`Array.isArray(${b})`,()=>{c.assign(e.default.vErrors,(0,d._)`${e.default.vErrors} === null ? ${b} : ${e.default.vErrors}.concat(${b})`).assign(e.default.errors,(0,d._)`${e.default.vErrors}.length`),(0,g.extendErrors)(a)},()=>a.error())}function j({schemaEnv:a},b){if(b.async&&!a.$async)throw Error("async keyword in sync schema")}function k(a,b,c){if(void 0===c)throw Error(`keyword "${b}" failed to compile`);return a.scopeValue("keyword","function"==typeof c?{ref:c}:{ref:c,code:(0,d.stringify)(c)})}b.macroKeywordCode=function(a,b){let{gen:c,keyword:e,schema:f,parentSchema:g,it:h}=a,i=b.macro.call(h.self,f,g,h),j=k(c,e,i);!1!==h.opts.validateSchema&&h.self.validateSchema(i,!0);let l=c.name("valid");a.subschema({schema:i,schemaPath:d.nil,errSchemaPath:`${h.errSchemaPath}/${e}`,topSchemaRef:j,compositeRule:!0},l),a.pass(l,()=>a.error(!0))},b.funcKeywordCode=function(a,b){var c;let{gen:g,keyword:l,schema:m,parentSchema:o,$data:p,it:q}=a;j(q,b);let r=k(g,l,!p&&b.compile?b.compile.call(q.self,m,o,q):b.validate),s=g.let("valid");function t(){if(!1===b.errors)w(),b.modifying&&h(a),x(()=>a.error());else{let c=b.async?u():v();b.modifying&&h(a),x(()=>i(a,c))}}function u(){let a=g.let("ruleErrs",null);return g.try(()=>w((0,d._)`await `),b=>g.assign(s,!1).if((0,d._)`${b} instanceof ${q.ValidationError}`,()=>g.assign(a,(0,d._)`${b}.errors`),()=>g.throw(b))),a}function v(){let a=(0,d._)`${r}.errors`;return g.assign(a,null),w(d.nil),a}function w(c=b.async?(0,d._)`await `:d.nil){let h=q.opts.passContext?e.default.this:e.default.self,i=!("compile"in b&&!p||!1===b.schema);g.assign(s,(0,d._)`${c}${(0,f.callValidateCode)(a,r,h,i)}`,b.modifying)}function x(a){var c;g.if((0,d.not)(null!=(c=b.valid)?c:s),a)}a.block$data(s,t),a.ok(null!=(c=b.valid)?c:s)},b.validSchemaType=function(a,b,c=!1){return!b.length||b.some(b=>"array"===b?Array.isArray(a):"object"===b?a&&"object"==typeof a&&!Array.isArray(a):typeof a==b||c&&void 0===a)},b.validateKeywordUsage=function({schema:a,opts:b,self:c,errSchemaPath:d},e,f){if(Array.isArray(e.keyword)?!e.keyword.includes(f):e.keyword!==f)throw Error("ajv implementation error");let g=e.dependencies;if(null==g?void 0:g.some(b=>!Object.prototype.hasOwnProperty.call(a,b)))throw Error(`parent schema must have dependencies of ${f}: ${g.join(",")}`);if(e.validateSchema&&!e.validateSchema(a[f])){let a=`keyword "${f}" value is invalid at path "${d}": `+c.errorsText(e.validateSchema.errors);if("log"===b.validateSchema)c.logger.error(a);else throw Error(a)}}},75981:(a,b,c)=>{"use strict";function d(a,b){if(b.timestampFormat.useTrait&&a.isTimestampSchema()&&(5===a.getSchema()||6===a.getSchema()||7===a.getSchema()))return a.getSchema();let{httpLabel:c,httpPrefixHeaders:d,httpHeader:e,httpQuery:f}=a.getMergedTraits();return(b.httpBindings?"string"==typeof d||e?6:f||c?5:void 0:void 0)??b.timestampFormat.default}c.d(b,{V:()=>d})},76007:(a,b,c)=>{"use strict";let{Readable:d,Writable:e}=c(27910),f=c(68874),{basename:g,convertToUTF8:h,getDecoder:i,parseContentType:j,parseDisposition:k}=c(86336),l=Buffer.from("\r\n"),m=Buffer.from("\r"),o=Buffer.from("-");function p(){}let q=2e3,r=16384,s=0,t=1,u=2;class v{constructor(a){this.header=Object.create(null),this.pairCount=0,this.byteCount=0,this.state=s,this.name="",this.value="",this.crlf=0,this.cb=a}reset(){this.header=Object.create(null),this.pairCount=0,this.byteCount=0,this.state=s,this.name="",this.value="",this.crlf=0}push(a,b,c){let d=b;for(;b<c;)switch(this.state){case s:{let e=!1;for(;b<c;++b){if(this.byteCount===r)return -1;++this.byteCount;let c=a[b];if(1!==D[c]){if(58!==c||(this.name+=a.latin1Slice(d,b),0===this.name.length))return -1;++b,e=!0,this.state=t;break}}if(!e){this.name+=a.latin1Slice(d,b);break}}case t:{let e=!1;for(;b<c;++b){if(this.byteCount===r)return -1;++this.byteCount;let c=a[b];if(32!==c&&9!==c){d=b,e=!0,this.state=u;break}}if(!e)break}case u:switch(this.crlf){case 0:for(;b<c;++b){if(this.byteCount===r)return -1;++this.byteCount;let c=a[b];if(1!==E[c]){if(13!==c)return -1;++this.crlf;break}}this.value+=a.latin1Slice(d,b++);break;case 1:if(this.byteCount===r||(++this.byteCount,10!==a[b++]))return -1;++this.crlf;break;case 2:{if(this.byteCount===r)return -1;++this.byteCount;let c=a[b];32===c||9===c?(d=b,this.crlf=0):(++this.pairCount<q&&(this.name=this.name.toLowerCase(),void 0===this.header[this.name]?this.header[this.name]=[this.value]:this.header[this.name].push(this.value)),13===c?(++this.crlf,++b):(d=b,this.crlf=0,this.state=s,this.name="",this.value=""));break}case 3:{if(this.byteCount===r||(++this.byteCount,10!==a[b++]))return -1;let c=this.header;return this.reset(),this.cb(c),b}}}return b}}class w extends d{constructor(a,b){super(a),this.truncated=!1,this._readcb=null,this.once("end",()=>{if(this._read(),0==--b._fileEndsLeft&&b._finalcb){let a=b._finalcb;b._finalcb=null,process.nextTick(a)}})}_read(a){let b=this._readcb;b&&(this._readcb=null,b())}}let x={push:(a,b)=>{},destroy:()=>{}};function y(a,b){let c=a._writecb;a._writecb=null,b?a.destroy(b):c&&c()}function z(a,b){return a}class A extends e{constructor(a){let b,c,d,e,q;if(super({autoDestroy:!0,emitClose:!0,highWaterMark:"number"==typeof a.highWaterMark?a.highWaterMark:void 0}),!a.conType.params||"string"!=typeof a.conType.params.boundary)throw Error("Multipart: Boundary not found");let r=a.conType.params.boundary,s="string"==typeof a.defParamCharset&&a.defParamCharset?i(a.defParamCharset):z,t=a.defCharset||"utf8",u=a.preservePath,y={autoDestroy:!0,emitClose:!0,highWaterMark:"number"==typeof a.fileHwm?a.fileHwm:void 0},A=a.limits,B=A&&"number"==typeof A.fieldSize?A.fieldSize:1048576,C=A&&"number"==typeof A.fileSize?A.fileSize:1/0,D=A&&"number"==typeof A.files?A.files:1/0,E=A&&"number"==typeof A.fields?A.fields:1/0,F=A&&"number"==typeof A.parts?A.parts:1/0,G=-1,H=0,I=0,J=!1;this._fileEndsLeft=0,this._fileStream=void 0,this._complete=!1;let K=0,L=0,M=!1,N=!1,O=!1;this._hparser=null;let P=new v(a=>{let f;if(this._hparser=null,J=!1,e="text/plain",c=t,d="7bit",q=void 0,M=!1,!a["content-disposition"]){J=!0;return}let h=k(a["content-disposition"][0],s);if(!h||"form-data"!==h.type){J=!0;return}if(h.params&&(h.params.name&&(q=h.params.name),h.params["filename*"]?f=h.params["filename*"]:h.params.filename&&(f=h.params.filename),void 0===f||u||(f=g(f))),a["content-type"]){let b=j(a["content-type"][0]);b&&(e=`${b.type}/${b.subtype}`,b.params&&"string"==typeof b.params.charset&&(c=b.params.charset.toLowerCase()))}if(a["content-transfer-encoding"]&&(d=a["content-transfer-encoding"][0].toLowerCase()),"application/octet-stream"===e||void 0!==f){if(I===D){N||(N=!0,this.emit("filesLimit")),J=!0;return}if(++I,0===this.listenerCount("file")){J=!0;return}K=0,this._fileStream=new w(y,this),++this._fileEndsLeft,this.emit("file",q,this._fileStream,{filename:f,encoding:d,mimeType:e})}else{if(H===E){O||(O=!0,this.emit("fieldsLimit")),J=!0;return}if(++H,0===this.listenerCount("field")){J=!0;return}b=[],L=0}}),Q=0,R=(a,f,g,i,j)=>{for(;f;){if(null!==this._hparser){let a=this._hparser.push(f,g,i);if(-1===a){this._hparser=null,P.reset(),this.emit("error",Error("Malformed part header"));break}g=a}if(g===i)break;if(0!==Q){if(1===Q){switch(f[g]){case 45:Q=2,++g;break;case 13:Q=3,++g;break;default:Q=0}if(g===i)return}if(2===Q){if(Q=0,45===f[g]){this._complete=!0,this._bparser=x;return}let a=this._writecb;this._writecb=p,R(!1,o,0,1,!1),this._writecb=a}else if(3===Q){if(Q=0,10===f[g]){if(++g,G>=F||(this._hparser=P,g===i))break;continue}{let a=this._writecb;this._writecb=p,R(!1,m,0,1,!1),this._writecb=a}}}if(!J){if(this._fileStream){let a,b=Math.min(i-g,C-K);j?a=f.slice(g,g+b):(a=Buffer.allocUnsafe(b),f.copy(a,0,g,g+b)),(K+=a.length)===C?(a.length>0&&this._fileStream.push(a),this._fileStream.emit("limit"),this._fileStream.truncated=!0,J=!0):this._fileStream.push(a)||(this._writecb&&(this._fileStream._readcb=this._writecb),this._writecb=null)}else if(void 0!==b){let a,c=Math.min(i-g,B-L);j?a=f.slice(g,g+c):(a=Buffer.allocUnsafe(c),f.copy(a,0,g,g+c)),L+=c,b.push(a),L===B&&(J=!0,M=!0)}}break}if(a){if(Q=1,this._fileStream)this._fileStream.push(null),this._fileStream=null;else if(void 0!==b){let a;switch(b.length){case 0:a="";break;case 1:a=h(b[0],c,0);break;default:a=h(Buffer.concat(b,L),c,0)}b=void 0,L=0,this.emit("field",q,a,{nameTruncated:!1,valueTruncated:M,encoding:d,mimeType:e})}++G===F&&this.emit("partsLimit")}};this._bparser=new f(`\r
--${r}`,R),this._writecb=null,this._finalcb=null,this.write(l)}static detect(a){return"multipart"===a.type&&"form-data"===a.subtype}_write(a,b,c){this._writecb=c,this._bparser.push(a,0),this._writecb&&y(this)}_destroy(a,b){this._hparser=null,this._bparser=x,a||(a=C(this));let c=this._fileStream;c&&(this._fileStream=null,c.destroy(a)),b(a)}_final(a){if(this._bparser.destroy(),!this._complete)return a(Error("Unexpected end of form"));this._fileEndsLeft?this._finalcb=B.bind(null,this,a):B(this,a)}}function B(a,b,c){if(c)return b(c);b(c=C(a))}function C(a){if(a._hparser)return Error("Malformed part header");let b=a._fileStream;if(b&&(a._fileStream=null,b.destroy(Error("Unexpected end of file"))),!a._complete)return Error("Unexpected end of form")}let D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],E=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];a.exports=A},76011:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});class c extends Error{constructor(a){super("validation failed"),this.errors=a,this.ajv=this.validation=!0}}b.default=c},76221:(a,b,c)=>{"use strict";c.d(b,{B:()=>$});var d,e=c(89480),f=c(72506);let g="X-Amz-Algorithm",h="X-Amz-Credential",i="X-Amz-Date",j="X-Amz-SignedHeaders",k="X-Amz-Expires",l="X-Amz-Signature",m="X-Amz-Security-Token",o="authorization",p=i.toLowerCase(),q=[o,p,"date"],r=l.toLowerCase(),s="x-amz-content-sha256",t=m.toLowerCase(),u={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},v=/^proxy-/,w=/^sec-/,x="AWS4-HMAC-SHA256",y="AWS4-HMAC-SHA256-PAYLOAD",z="UNSIGNED-PAYLOAD",A=50,B="aws4_request",C=604800,D={},E=[],F=(a,b,c)=>`${a}/${b}/${c}/${B}`,G=async(a,b,c,d,f)=>{let g=await H(a,b.secretAccessKey,b.accessKeyId),h=`${c}:${d}:${f}:${(0,e.n)(g)}:${b.sessionToken}`;if(h in D)return D[h];for(E.push(h);E.length>A;)delete D[E.shift()];let i=`AWS4${b.secretAccessKey}`;for(let b of[c,d,f,B])i=await H(a,i,b);return D[h]=i},H=(a,b,c)=>{let d=new a(b);return d.update((0,f.F)(c)),d.digest()},I=({headers:a},b,c)=>{let d={};for(let e of Object.keys(a).sort()){if(void 0==a[e])continue;let f=e.toLowerCase();(!(f in u||b?.has(f)||v.test(f)||w.test(f))||c&&(!c||c.has(f)))&&(d[f]=a[e].trim().replace(/\s+/g," "))}return d};var J=c(70430);let K=async({headers:a,body:b},c)=>{for(let b of Object.keys(a))if(b.toLowerCase()===s)return a[b];if(void 0==b)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof b||ArrayBuffer.isView(b)||(0,J.m)(b)){let a=new c;return a.update((0,f.F)(b)),(0,e.n)(await a.digest())}return z};var L=c(38353);class M{format(a){let b=[];for(let c of Object.keys(a)){let d=(0,L.a)(c);b.push(Uint8Array.from([d.byteLength]),d,this.formatHeaderValue(a[c]))}let c=new Uint8Array(b.reduce((a,b)=>a+b.byteLength,0)),d=0;for(let a of b)c.set(a,d),d+=a.byteLength;return c}formatHeaderValue(a){switch(a.type){case"boolean":return Uint8Array.from([+!a.value]);case"byte":return Uint8Array.from([2,a.value]);case"short":let b=new DataView(new ArrayBuffer(3));return b.setUint8(0,3),b.setInt16(1,a.value,!1),new Uint8Array(b.buffer);case"integer":let c=new DataView(new ArrayBuffer(5));return c.setUint8(0,4),c.setInt32(1,a.value,!1),new Uint8Array(c.buffer);case"long":let d=new Uint8Array(9);return d[0]=5,d.set(a.value.bytes,1),d;case"binary":let f=new DataView(new ArrayBuffer(3+a.value.byteLength));f.setUint8(0,6),f.setUint16(1,a.value.byteLength,!1);let g=new Uint8Array(f.buffer);return g.set(a.value,3),g;case"string":let h=(0,L.a)(a.value),i=new DataView(new ArrayBuffer(3+h.byteLength));i.setUint8(0,7),i.setUint16(1,h.byteLength,!1);let j=new Uint8Array(i.buffer);return j.set(h,3),j;case"timestamp":let k=new Uint8Array(9);return k[0]=8,k.set(O.fromNumber(a.value.valueOf()).bytes,1),k;case"uuid":if(!N.test(a.value))throw Error(`Invalid UUID received: ${a.value}`);let l=new Uint8Array(17);return l[0]=9,l.set((0,e.a)(a.value.replace(/\-/g,"")),1),l}}}!function(a){a[a.boolTrue=0]="boolTrue",a[a.boolFalse=1]="boolFalse",a[a.byte=2]="byte",a[a.short=3]="short",a[a.integer=4]="integer",a[a.long=5]="long",a[a.byteArray=6]="byteArray",a[a.string=7]="string",a[a.timestamp=8]="timestamp",a[a.uuid=9]="uuid"}(d||(d={}));let N=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class O{bytes;constructor(a){if(this.bytes=a,8!==a.byteLength)throw Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(a){if(a>0x8000000000000000||a<-0x8000000000000000)throw Error(`${a} is too large (or, if negative, too small) to represent as an Int64`);let b=new Uint8Array(8);for(let c=7,d=Math.abs(Math.round(a));c>-1&&d>0;c--,d/=256)b[c]=d;return a<0&&P(b),new O(b)}valueOf(){let a=this.bytes.slice(0),b=128&a[0];return b&&P(a),parseInt((0,e.n)(a),16)*(b?-1:1)}toString(){return String(this.valueOf())}}function P(a){for(let b=0;b<8;b++)a[b]^=255;for(let b=7;b>-1&&(a[b]++,0===a[b]);b--);}let Q=(a,b)=>{for(let c of(a=a.toLowerCase(),Object.keys(b)))if(a===c.toLowerCase())return!0;return!1};var R=c(15796);let S=(a,b={})=>{let{headers:c,query:d={}}=R.K.clone(a);for(let a of Object.keys(c)){let e=a.toLowerCase();("x-amz-"===e.slice(0,6)&&!b.unhoistableHeaders?.has(e)||b.hoistableHeaders?.has(e))&&(d[a]=c[a],delete c[a])}return{...a,headers:c,query:d}},T=a=>{for(let b of Object.keys((a=R.K.clone(a)).headers))q.indexOf(b.toLowerCase())>-1&&delete a.headers[b];return a};var U=c(91035),V=c(23264);let W=({query:a={}})=>{let b=[],c={};for(let d of Object.keys(a)){if(d.toLowerCase()===r)continue;let e=(0,V.o)(d);b.push(e);let f=a[d];"string"==typeof f?c[e]=`${e}=${(0,V.o)(f)}`:Array.isArray(f)&&(c[e]=f.slice(0).reduce((a,b)=>a.concat([`${e}=${(0,V.o)(b)}`]),[]).sort().join("&"))}return b.sort().map(a=>c[a]).filter(a=>a).join("&")},X=a=>Y(a).toISOString().replace(/\.\d{3}Z$/,"Z"),Y=a=>"number"==typeof a?new Date(1e3*a):"string"==typeof a?new Date(Number(a)?1e3*Number(a):a):a;class Z{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:a,credentials:b,region:c,service:d,sha256:e,uriEscapePath:f=!0}){this.service=d,this.sha256=e,this.uriEscapePath=f,this.applyChecksum="boolean"!=typeof a||a,this.regionProvider=(0,U.t)(c),this.credentialProvider=(0,U.t)(b)}createCanonicalRequest(a,b,c){let d=Object.keys(b).sort();return`${a.method}
${this.getCanonicalPath(a)}
${W(a)}
${d.map(a=>`${a}:${b[a]}`).join("\n")}

${d.join(";")}
${c}`}async createStringToSign(a,b,c,d){let g=new this.sha256;g.update((0,f.F)(c));let h=await g.digest();return`${d}
${a}
${b}
${(0,e.n)(h)}`}getCanonicalPath({path:a}){if(this.uriEscapePath){let b=[];for(let c of a.split("/"))c?.length!==0&&"."!==c&&(".."===c?b.pop():b.push(c));let c=`${a?.startsWith("/")?"/":""}${b.join("/")}${b.length>0&&a?.endsWith("/")?"/":""}`;return(0,V.o)(c).replace(/%2F/g,"/")}return a}validateResolvedCredentials(a){if("object"!=typeof a||"string"!=typeof a.accessKeyId||"string"!=typeof a.secretAccessKey)throw Error("Resolved credential object is not valid")}formatDate(a){let b=X(a).replace(/[\-:]/g,"");return{longDate:b,shortDate:b.slice(0,8)}}getCanonicalHeaderList(a){return Object.keys(a).sort().join(";")}}class $ extends Z{headerFormatter=new M;constructor({applyChecksum:a,credentials:b,region:c,service:d,sha256:e,uriEscapePath:f=!0}){super({applyChecksum:a,credentials:b,region:c,service:d,sha256:e,uriEscapePath:f})}async presign(a,b={}){let{signingDate:c=new Date,expiresIn:d=3600,unsignableHeaders:e,unhoistableHeaders:f,signableHeaders:o,hoistableHeaders:p,signingRegion:q,signingService:r}=b,s=await this.credentialProvider();this.validateResolvedCredentials(s);let t=q??await this.regionProvider(),{longDate:u,shortDate:v}=this.formatDate(c);if(d>C)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let w=F(v,t,r??this.service),y=S(T(a),{unhoistableHeaders:f,hoistableHeaders:p});s.sessionToken&&(y.query[m]=s.sessionToken),y.query[g]=x,y.query[h]=`${s.accessKeyId}/${w}`,y.query[i]=u,y.query[k]=d.toString(10);let z=I(y,e,o);return y.query[j]=this.getCanonicalHeaderList(z),y.query[l]=await this.getSignature(u,w,this.getSigningKey(s,t,v,r),this.createCanonicalRequest(y,z,await K(a,this.sha256))),y}async sign(a,b){return"string"==typeof a?this.signString(a,b):a.headers&&a.payload?this.signEvent(a,b):a.message?this.signMessage(a,b):this.signRequest(a,b)}async signEvent({headers:a,payload:b},{signingDate:c=new Date,priorSignature:d,signingRegion:f,signingService:g}){let h=f??await this.regionProvider(),{shortDate:i,longDate:j}=this.formatDate(c),k=F(i,h,g??this.service),l=await K({headers:{},body:b},this.sha256),m=new this.sha256;m.update(a);let o=[y,j,k,d,(0,e.n)(await m.digest()),l].join("\n");return this.signString(o,{signingDate:c,signingRegion:h,signingService:g})}async signMessage(a,{signingDate:b=new Date,signingRegion:c,signingService:d}){return this.signEvent({headers:this.headerFormatter.format(a.message.headers),payload:a.message.body},{signingDate:b,signingRegion:c,signingService:d,priorSignature:a.priorSignature}).then(b=>({message:a.message,signature:b}))}async signString(a,{signingDate:b=new Date,signingRegion:c,signingService:d}={}){let g=await this.credentialProvider();this.validateResolvedCredentials(g);let h=c??await this.regionProvider(),{shortDate:i}=this.formatDate(b),j=new this.sha256(await this.getSigningKey(g,h,i,d));return j.update((0,f.F)(a)),(0,e.n)(await j.digest())}async signRequest(a,{signingDate:b=new Date,signableHeaders:c,unsignableHeaders:d,signingRegion:e,signingService:f}={}){let g=await this.credentialProvider();this.validateResolvedCredentials(g);let h=e??await this.regionProvider(),i=T(a),{longDate:j,shortDate:k}=this.formatDate(b),l=F(k,h,f??this.service);i.headers[p]=j,g.sessionToken&&(i.headers[t]=g.sessionToken);let m=await K(i,this.sha256);!Q(s,i.headers)&&this.applyChecksum&&(i.headers[s]=m);let q=I(i,d,c),r=await this.getSignature(j,l,this.getSigningKey(g,h,k,f),this.createCanonicalRequest(i,q,m));return i.headers[o]=`${x} Credential=${g.accessKeyId}/${l}, SignedHeaders=${this.getCanonicalHeaderList(q)}, Signature=${r}`,i}async getSignature(a,b,c,d){let g=await this.createStringToSign(a,b,d,x),h=new this.sha256(await c);return h.update((0,f.F)(g)),(0,e.n)(await h.digest())}getSigningKey(a,b,c,d){return G(this.sha256,a,c,b,d||this.service)}}},76419:(a,b)=>{"use strict";function c(a){return"("===a[0]&&a.endsWith(")")}function d(a){return a.startsWith("@")&&"@children"!==a}function e(a,b){if(a.includes(f)){let a=JSON.stringify(b);return"{}"!==a?f+"?"+a:f}return a}Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{DEFAULT_SEGMENT_KEY:function(){return g},PAGE_SEGMENT_KEY:function(){return f},addSearchParamsIfPageSegment:function(){return e},isGroupSegment:function(){return c},isParallelRouteSegment:function(){return d}});let f="__PAGE__",g="__DEFAULT__"},76530:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NoticeMessage=b.DataRowMessage=b.CommandCompleteMessage=b.ReadyForQueryMessage=b.NotificationResponseMessage=b.BackendKeyDataMessage=b.AuthenticationMD5Password=b.ParameterStatusMessage=b.ParameterDescriptionMessage=b.RowDescriptionMessage=b.Field=b.CopyResponse=b.CopyDataMessage=b.DatabaseError=b.copyDone=b.emptyQuery=b.replicationStart=b.portalSuspended=b.noData=b.closeComplete=b.bindComplete=b.parseComplete=void 0,b.parseComplete={name:"parseComplete",length:5},b.bindComplete={name:"bindComplete",length:5},b.closeComplete={name:"closeComplete",length:5},b.noData={name:"noData",length:5},b.portalSuspended={name:"portalSuspended",length:5},b.replicationStart={name:"replicationStart",length:4},b.emptyQuery={name:"emptyQuery",length:4},b.copyDone={name:"copyDone",length:4};class c extends Error{constructor(a,b,c){super(a),this.length=b,this.name=c}}b.DatabaseError=c;class d{constructor(a,b){this.length=a,this.chunk=b,this.name="copyData"}}b.CopyDataMessage=d;class e{constructor(a,b,c,d){this.length=a,this.name=b,this.binary=c,this.columnTypes=Array(d)}}b.CopyResponse=e;class f{constructor(a,b,c,d,e,f,g){this.name=a,this.tableID=b,this.columnID=c,this.dataTypeID=d,this.dataTypeSize=e,this.dataTypeModifier=f,this.format=g}}b.Field=f;class g{constructor(a,b){this.length=a,this.fieldCount=b,this.name="rowDescription",this.fields=Array(this.fieldCount)}}b.RowDescriptionMessage=g;class h{constructor(a,b){this.length=a,this.parameterCount=b,this.name="parameterDescription",this.dataTypeIDs=Array(this.parameterCount)}}b.ParameterDescriptionMessage=h;class i{constructor(a,b,c){this.length=a,this.parameterName=b,this.parameterValue=c,this.name="parameterStatus"}}b.ParameterStatusMessage=i;class j{constructor(a,b){this.length=a,this.salt=b,this.name="authenticationMD5Password"}}b.AuthenticationMD5Password=j;class k{constructor(a,b,c){this.length=a,this.processID=b,this.secretKey=c,this.name="backendKeyData"}}b.BackendKeyDataMessage=k;class l{constructor(a,b,c,d){this.length=a,this.processId=b,this.channel=c,this.payload=d,this.name="notification"}}b.NotificationResponseMessage=l;class m{constructor(a,b){this.length=a,this.status=b,this.name="readyForQuery"}}b.ReadyForQueryMessage=m;class o{constructor(a,b){this.length=a,this.text=b,this.name="commandComplete"}}b.CommandCompleteMessage=o;class p{constructor(a,b){this.length=a,this.fields=b,this.name="dataRow",this.fieldCount=b.length}}b.DataRowMessage=p;class q{constructor(a,b){this.length=a,this.message=b,this.name="notice"}}b.NoticeMessage=q},76552:(a,b,c)=>{"use strict";c.d(b,{c:()=>e});var d=c(30648);let e=(...a)=>async()=>{let b;if(0===a.length)throw new d.m("No providers in chain");for(let c of a)try{return await c()}catch(a){if(b=a,a?.tryNextLink)continue;throw a}throw b}},76745:(a,b,c)=>{"use strict";let d=c(27910).Transform;class e extends d{constructor(){super(),this.lastByte=!1}_transform(a,b,c){a.length&&(this.lastByte=a[a.length-1]),this.push(a),c()}_flush(a){return 10===this.lastByte||(13===this.lastByte?this.push(Buffer.from("\n")):this.push(Buffer.from("\r\n"))),a()}}a.exports=e},77127:(a,b,c)=>{"use strict";c.d(b,{d1:()=>e,CX:()=>h,yT:()=>i});let d="End-Of-Stream";class e extends Error{constructor(){super(d)}}class f{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((a,b)=>{this.reject=b,this.resolve=a})}}class g{constructor(){this.maxStreamReadSize=1048576,this.endOfStream=!1,this.peekQueue=[]}async peek(a,b,c){let d=await this.read(a,b,c);return this.peekQueue.push(a.subarray(b,b+d)),d}async read(a,b,c){if(0===c)return 0;let d=this.readFromPeekBuffer(a,b,c);if(0===(d+=await this.readRemainderFromStream(a,b+d,c-d)))throw new e;return d}readFromPeekBuffer(a,b,c){let d=c,e=0;for(;this.peekQueue.length>0&&d>0;){let c=this.peekQueue.pop();if(!c)throw Error("peekData should be defined");let f=Math.min(c.length,d);a.set(c.subarray(0,f),b+e),e+=f,d-=f,f<c.length&&this.peekQueue.push(c.subarray(f))}return e}async readRemainderFromStream(a,b,c){let d=c,e=0;for(;d>0&&!this.endOfStream;){let c=Math.min(d,this.maxStreamReadSize),f=await this.readFromStream(a,b+e,c);if(0===f)break;e+=f,d-=f}return e}}class h extends g{constructor(a){if(super(),this.s=a,this.deferred=null,!a.read||!a.once)throw Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new e)),this.s.once("error",a=>this.reject(a)),this.s.once("close",()=>this.reject(Error("Stream closed")))}async readFromStream(a,b,c){if(this.endOfStream)return 0;let d=this.s.read(c);if(d)return a.set(d,b),d.length;let e={buffer:a,offset:b,length:c,deferred:new f};return this.deferred=e.deferred,this.s.once("readable",()=>{this.readDeferred(e)}),e.deferred.promise}readDeferred(a){let b=this.s.read(a.length);b?(a.buffer.set(b,a.offset),a.deferred.resolve(b.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(a)})}reject(a){this.endOfStream=!0,this.deferred&&(this.deferred.reject(a),this.deferred=null)}async abort(){this.reject(Error("abort"))}async close(){return this.abort()}}class i extends g{constructor(a){super(),this.reader=a.getReader({mode:"byob"})}async readFromStream(a,b,c){if(this.endOfStream)throw new e;let d=await this.reader.read(new Uint8Array(c));return(d.done&&(this.endOfStream=d.done),d.value)?(a.set(d.value,b),d.value.byteLength):0}abort(){return this.reader.cancel()}async close(){await this.abort(),this.reader.releaseLock()}}},77208:a=>{for(var b=Math.floor(0xffffff*Math.random()),c=k.index=parseInt(0xffffff*Math.random(),10),d=("undefined"==typeof process||"number"!=typeof process.pid?Math.floor(1e5*Math.random()):process.pid)%65535,e=(()=>{try{return _Buffer}catch(a){try{return Buffer}catch(a){return null}}})(),f=function(a){return!!(null!=a&&a.constructor&&"function"==typeof a.constructor.isBuffer&&a.constructor.isBuffer(a))},g=[],h=0;h<256;h++)g[h]=(h<=15?"0":"")+h.toString(16);var i=RegExp("^[0-9a-fA-F]{24}$"),j=[];for(h=0;h<10;)j[48+h]=h++;for(;h<16;)j[55+h]=j[87+h]=h++;function k(a){if(!(this instanceof k))return new k(a);if(a&&(a instanceof k||"ObjectID"===a._bsontype))return a;if(this._bsontype="ObjectID",null==a||"number"==typeof a){this.id=this.generate(a);return}var b=k.isValid(a);if(b||null==a)if(b&&"string"==typeof a&&24===a.length)return k.createFromHexString(a);else if(null!=a&&12===a.length)this.id=a;else if(null!=a&&"function"==typeof a.toHexString)return a;else throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");else throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}function l(){return c=(c+1)%0xffffff}function m(a,b){return(b=b.toString(16)).length===a?b:"00000000".substring(b.length,a)+b}a.exports=k,k.default=k,k.createFromTime=function(a){return new k(m(8,a=parseInt(a,10)%0xffffffff)+"0000000000000000")},k.createFromHexString=function(a){if(void 0===a||null!=a&&24!==a.length)throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var b="",c=0;c<24;)b+=String.fromCharCode(j[a.charCodeAt(c++)]<<4|j[a.charCodeAt(c++)]);return new k(b)},k.isValid=function(a){return null!=a&&("number"==typeof a||("string"==typeof a?12===a.length||24===a.length&&i.test(a):a instanceof k||(f(a)?k.isValid(a.toString("hex")):"function"==typeof a.toHexString&&!!e&&(a.id instanceof e||"string"==typeof a.id)&&(12===a.id.length||24===a.id.length&&i.test(a.id)))))},k.prototype={constructor:k,toHexString:function(){if(!this.id||!this.id.length)throw Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(24===this.id.length)return this.id;if(f(this.id))return this.id.toString("hex");for(var a="",b=0;b<this.id.length;b++)a+=g[this.id.charCodeAt(b)];return a},equals:function(a){if(a instanceof k)return this.toString()===a.toString();if("string"==typeof a&&k.isValid(a)&&12===a.length&&f(this.id))return a===this.id.toString("binary");if("string"==typeof a&&k.isValid(a)&&24===a.length)return a.toLowerCase()===this.toHexString();if("string"==typeof a&&k.isValid(a)&&12===a.length)return a===this.id;if(null!=a&&(a instanceof k||a.toHexString))return a.toHexString()===this.toHexString();else return!1},getTimestamp:function(){var a,b=new Date;return a=f(this.id)?this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24:this.id.charCodeAt(3)|this.id.charCodeAt(2)<<8|this.id.charCodeAt(1)<<16|this.id.charCodeAt(0)<<24,b.setTime(1e3*Math.floor(a)),b},generate:function(a){"number"!=typeof a&&(a=~~(Date.now()/1e3)),a=parseInt(a,10)%0xffffffff;var c=l();return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a,b>>16&255,b>>8&255,255&b,d>>8&255,255&d,c>>16&255,c>>8&255,255&c)}};var o=Symbol&&Symbol.for&&Symbol.for("nodejs.util.inspect.custom")||"inspect";k.prototype[o]=function(){return"ObjectID("+this+")"},k.prototype.toJSON=k.prototype.toHexString,k.prototype.toString=k.prototype.toHexString},77211:a=>{"use strict";let b=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,c=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function d(a){return"boolean"==typeof a.secure?a.secure:"wss"===String(a.scheme).toLowerCase()}function e(a){return a.host||(a.error=a.error||"HTTP URIs must have a host."),a}function f(a){let b="https"===String(a.scheme).toLowerCase();return(a.port===(b?443:80)||""===a.port)&&(a.port=void 0),a.path||(a.path="/"),a}function g(a){return a.secure=d(a),a.resourceName=(a.path||"/")+(a.query?"?"+a.query:""),a.path=void 0,a.query=void 0,a}function h(a){if((a.port===(d(a)?443:80)||""===a.port)&&(a.port=void 0),"boolean"==typeof a.secure&&(a.scheme=a.secure?"wss":"ws",a.secure=void 0),a.resourceName){let[b,c]=a.resourceName.split("?");a.path=b&&"/"!==b?b:void 0,a.query=c,a.resourceName=void 0}return a.fragment=void 0,a}function i(a,b){if(!a.path)return a.error="URN can not be parsed",a;let d=a.path.match(c);if(d){let c=b.scheme||a.scheme||"urn";a.nid=d[1].toLowerCase(),a.nss=d[2];let e=r[`${c}:${b.nid||a.nid}`];a.path=void 0,e&&(a=e.parse(a,b))}else a.error=a.error||"URN can not be parsed.";return a}function j(a,b){let c=b.scheme||a.scheme||"urn",d=a.nid.toLowerCase(),e=r[`${c}:${b.nid||d}`];e&&(a=e.serialize(a,b));let f=a,g=a.nss;return f.path=`${d||b.nid}:${g}`,b.skipEscape=!0,f}function k(a,c){let d=a;return d.uuid=d.nss,d.nss=void 0,c.tolerant||d.uuid&&b.test(d.uuid)||(d.error=d.error||"UUID is not valid."),d}function l(a){let b=a;return b.nss=(a.uuid||"").toLowerCase(),b}let m={scheme:"http",domainHost:!0,parse:e,serialize:f},o={scheme:"https",domainHost:m.domainHost,parse:e,serialize:f},p={scheme:"ws",domainHost:!0,parse:g,serialize:h},q={scheme:"wss",domainHost:p.domainHost,parse:p.parse,serialize:p.serialize},r={http:m,https:o,ws:p,wss:q,urn:{scheme:"urn",parse:i,serialize:j,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:k,serialize:l,skipNormalize:!0}};a.exports=r},77350:(a,b,c)=>{"use strict";c.d(b,{h:()=>j});var d=c(89701),e=c(86159);let f=function(a){return g(a)&&a.expiration.getTime()-Date.now()<3e5},g=a=>void 0!==a.expiration,h=(a,b,c)=>{let d,e,f;if(void 0===a)return;let g="function"!=typeof a?async()=>Promise.resolve(a):a,h=!1,i=async a=>{e||(e=g(a));try{d=await e,f=!0,h=!1}finally{e=void 0}return d};return void 0===b?async a=>((!f||a?.forceRefresh)&&(d=await i(a)),d):async a=>((!f||a?.forceRefresh)&&(d=await i(a)),h||(c(d)?b(d)&&await i(a):h=!0),d)};var i=c(76221);let j=a=>{let b,c,f=a.credentials,g=!!a.credentials;Object.defineProperty(a,"credentials",{set(c){c&&c!==f&&c!==b&&(g=!0);let e=k(a,{credentials:f=c,credentialDefaultProvider:a.credentialDefaultProvider}),h=l(a,e);g&&!h.attributed?((b=async a=>h(a).then(a=>(0,d.g)(a,"CREDENTIALS_CODE","e"))).memoized=h.memoized,b.configBound=h.configBound,b.attributed=!0):b=h},get:()=>b,enumerable:!0,configurable:!0}),a.credentials=f;let{signingEscapePath:h=!0,systemClockOffset:j=a.systemClockOffset||0,sha256:m}=a;return c=a.signer?(0,e.t)(a.signer):a.regionInfoProvider?()=>(0,e.t)(a.region)().then(async b=>[await a.regionInfoProvider(b,{useFipsEndpoint:await a.useFipsEndpoint(),useDualstackEndpoint:await a.useDualstackEndpoint()})||{},b]).then(([b,c])=>{let{signingRegion:d,signingService:e}=b;a.signingRegion=a.signingRegion||d||c,a.signingName=a.signingName||e||a.serviceId;let f={...a,credentials:a.credentials,region:a.signingRegion,service:a.signingName,sha256:m,uriEscapePath:h};return new(a.signerConstructor||i.B)(f)}):async b=>{let c=(b=Object.assign({},{name:"sigv4",signingName:a.signingName||a.defaultSigningName,signingRegion:await (0,e.t)(a.region)(),properties:{}},b)).signingRegion,d=b.signingName;a.signingRegion=a.signingRegion||c,a.signingName=a.signingName||d||a.serviceId;let f={...a,credentials:a.credentials,region:a.signingRegion,service:a.signingName,sha256:m,uriEscapePath:h};return new(a.signerConstructor||i.B)(f)},Object.assign(a,{systemClockOffset:j,signingEscapePath:h,signer:c})};function k(a,{credentials:b,credentialDefaultProvider:c}){let d;return(d=b?b?.memoized?b:h(b,f,g):c?(0,e.t)(c(Object.assign({},a,{parentClientConfig:a}))):async()=>{throw Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")}).memoized=!0,d}function l(a,b){if(b.configBound)return b;let c=async c=>b({...c,callerClientConfig:a});return c.memoized=b.memoized,c.configBound=!0,c}},77531:(a,b,c)=>{"use strict";let d=c(34589),e=c(77030),f=c(37067),g=c(81350),{ClientStats:h}=c(40488),{channels:i}=c(84372),j=c(1733),k=c(60647),{InvalidArgumentError:l,InformationalError:m,ClientDestroyedError:o}=c(64737),p=c(62094),{kUrl:q,kServerName:r,kClient:s,kBusy:t,kConnect:u,kResuming:v,kRunning:w,kPending:x,kSize:y,kQueue:z,kConnected:A,kConnecting:B,kNeedDrain:C,kKeepAliveDefaultTimeout:D,kHostHeader:E,kPendingIdx:F,kRunningIdx:G,kError:H,kPipelining:I,kKeepAliveTimeoutValue:J,kMaxHeadersSize:K,kKeepAliveMaxTimeout:L,kKeepAliveTimeoutThreshold:M,kHeadersTimeout:N,kBodyTimeout:O,kStrictContentLength:P,kConnector:Q,kMaxRequests:R,kCounter:S,kClose:T,kDestroy:U,kDispatch:V,kLocalAddress:W,kMaxResponseSize:X,kOnError:Y,kHTTPContext:Z,kMaxConcurrentStreams:$,kResume:_}=c(10257),aa=c(99679),ab=c(13090),ac=Symbol("kClosedResolve"),ad=f&&f.maxHeaderSize&&Number.isInteger(f.maxHeaderSize)&&f.maxHeaderSize>0?()=>f.maxHeaderSize:()=>{throw new l("http module not available or http.maxHeaderSize invalid")},ae=()=>{};function af(a){return a[I]??a[Z]?.defaultPipelining??1}class ag extends k{constructor(a,{maxHeaderSize:b,headersTimeout:c,socketTimeout:d,requestTimeout:f,connectTimeout:h,bodyTimeout:i,idleTimeout:j,keepAlive:k,keepAliveTimeout:m,maxKeepAliveTimeout:o,keepAliveMaxTimeout:s,keepAliveTimeoutThreshold:t,socketPath:u,pipelining:w,tls:x,strictContentLength:y,maxCachedSessions:A,connect:B,maxRequestsPerClient:H,localAddress:S,maxResponseSize:T,autoSelectFamily:U,autoSelectFamilyAttemptTimeout:V,maxConcurrentStreams:aa,allowH2:ab}={}){if(void 0!==k)throw new l("unsupported keepAlive, use pipelining=0 instead");if(void 0!==d)throw new l("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(void 0!==f)throw new l("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(void 0!==j)throw new l("unsupported idleTimeout, use keepAliveTimeout instead");if(void 0!==o)throw new l("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(null!=b){if(!Number.isInteger(b)||b<1)throw new l("invalid maxHeaderSize")}else b=ad();if(null!=u&&"string"!=typeof u)throw new l("invalid socketPath");if(null!=h&&(!Number.isFinite(h)||h<0))throw new l("invalid connectTimeout");if(null!=m&&(!Number.isFinite(m)||m<=0))throw new l("invalid keepAliveTimeout");if(null!=s&&(!Number.isFinite(s)||s<=0))throw new l("invalid keepAliveMaxTimeout");if(null!=t&&!Number.isFinite(t))throw new l("invalid keepAliveTimeoutThreshold");if(null!=c&&(!Number.isInteger(c)||c<0))throw new l("headersTimeout must be a positive integer or zero");if(null!=i&&(!Number.isInteger(i)||i<0))throw new l("bodyTimeout must be a positive integer or zero");if(null!=B&&"function"!=typeof B&&"object"!=typeof B)throw new l("connect must be a function or an object");if(null!=H&&(!Number.isInteger(H)||H<0))throw new l("maxRequestsPerClient must be a positive number");if(null!=S&&("string"!=typeof S||0===e.isIP(S)))throw new l("localAddress must be valid string IP address");if(null!=T&&(!Number.isInteger(T)||T<-1))throw new l("maxResponseSize must be a positive number");if(null!=V&&(!Number.isInteger(V)||V<-1))throw new l("autoSelectFamilyAttemptTimeout must be a positive number");if(null!=ab&&"boolean"!=typeof ab)throw new l("allowH2 must be a valid boolean value");if(null!=aa&&("number"!=typeof aa||aa<1))throw new l("maxConcurrentStreams must be a positive integer, greater than 0");super(),"function"!=typeof B&&(B=p({...x,maxCachedSessions:A,allowH2:ab,socketPath:u,timeout:h,..."boolean"==typeof U?{autoSelectFamily:U,autoSelectFamilyAttemptTimeout:V}:void 0,...B})),this[q]=g.parseOrigin(a),this[Q]=B,this[I]=null!=w?w:1,this[K]=b,this[D]=null==m?4e3:m,this[L]=null==s?6e5:s,this[M]=null==t?2e3:t,this[J]=this[D],this[r]=null,this[W]=null!=S?S:null,this[v]=0,this[C]=0,this[E]=`host: ${this[q].hostname}${this[q].port?`:${this[q].port}`:""}\r
`,this[O]=null!=i?i:3e5,this[N]=null!=c?c:3e5,this[P]=null==y||y,this[R]=H,this[ac]=null,this[X]=T>-1?T:-1,this[$]=null!=aa?aa:100,this[Z]=null,this[z]=[],this[G]=0,this[F]=0,this[_]=a=>ak(this,a),this[Y]=a=>ah(this,a)}get pipelining(){return this[I]}set pipelining(a){this[I]=a,this[_](!0)}get stats(){return new h(this)}get[x](){return this[z].length-this[F]}get[w](){return this[F]-this[G]}get[y](){return this[z].length-this[G]}get[A](){return!!this[Z]&&!this[B]&&!this[Z].destroyed}get[t](){return!!(this[Z]?.busy(null)||this[y]>=(af(this)||1)||this[x]>0)}[u](a){ai(this),this.once("connect",a)}[V](a,b){let c=new j(a.origin||this[q].origin,a,b);return this[z].push(c),this[v]||(null==g.bodyLength(c.body)&&g.isIterable(c.body)?(this[v]=1,queueMicrotask(()=>ak(this))):this[_](!0)),this[v]&&2!==this[C]&&this[t]&&(this[C]=2),this[C]<2}async [T](){return new Promise(a=>{this[y]?this[ac]=a:a(null)})}async [U](a){return new Promise(b=>{let c=this[z].splice(this[F]);for(let b=0;b<c.length;b++){let d=c[b];g.errorRequest(this,d,a)}let d=()=>{this[ac]&&(this[ac](),this[ac]=null),b(null)};this[Z]?(this[Z].destroy(a,d),this[Z]=null):queueMicrotask(d),this[_]()})}}function ah(a,b){if(0===a[w]&&"UND_ERR_INFO"!==b.code&&"UND_ERR_SOCKET"!==b.code){d(a[F]===a[G]);let c=a[z].splice(a[G]);for(let d=0;d<c.length;d++){let e=c[d];g.errorRequest(a,e,b)}d(0===a[y])}}async function ai(a){d(!a[B]),d(!a[Z]);let{host:b,hostname:c,protocol:f,port:h}=a[q];if("["===c[0]){let a=c.indexOf("]");d(-1!==a);let b=c.substring(1,a);d(e.isIPv6(b)),c=b}a[B]=!0,i.beforeConnect.hasSubscribers&&i.beforeConnect.publish({connectParams:{host:b,hostname:c,protocol:f,port:h,version:a[Z]?.version,servername:a[r],localAddress:a[W]},connector:a[Q]});try{let e=await new Promise((d,e)=>{a[Q]({host:b,hostname:c,protocol:f,port:h,servername:a[r],localAddress:a[W]},(a,b)=>{a?e(a):d(b)})});if(a.destroyed)return void g.destroy(e.on("error",ae),new o);d(e);try{a[Z]="h2"===e.alpnProtocol?await ab(a,e):await aa(a,e)}catch(a){throw e.destroy().on("error",ae),a}a[B]=!1,e[S]=0,e[R]=a[R],e[s]=a,e[H]=null,i.connected.hasSubscribers&&i.connected.publish({connectParams:{host:b,hostname:c,protocol:f,port:h,version:a[Z]?.version,servername:a[r],localAddress:a[W]},connector:a[Q],socket:e}),a.emit("connect",a[q],[a])}catch(e){if(a.destroyed)return;if(a[B]=!1,i.connectError.hasSubscribers&&i.connectError.publish({connectParams:{host:b,hostname:c,protocol:f,port:h,version:a[Z]?.version,servername:a[r],localAddress:a[W]},connector:a[Q],error:e}),"ERR_TLS_CERT_ALTNAME_INVALID"===e.code)for(d(0===a[w]);a[x]>0&&a[z][a[F]].servername===a[r];){let b=a[z][a[F]++];g.errorRequest(a,b,e)}else ah(a,e);a.emit("connectionError",a[q],[a],e)}a[_]()}function aj(a){a[C]=0,a.emit("drain",a[q],[a])}function ak(a,b){2!==a[v]&&(a[v]=2,al(a,b),a[v]=0,a[G]>256&&(a[z].splice(0,a[G]),a[F]-=a[G],a[G]=0))}function al(a,b){for(;;){if(a.destroyed)return void d(0===a[x]);if(a[ac]&&!a[y]){a[ac](),a[ac]=null;return}if(a[Z]&&a[Z].resume(),a[t])a[C]=2;else if(2===a[C]){b?(a[C]=1,queueMicrotask(()=>aj(a))):aj(a);continue}if(0===a[x]||a[w]>=(af(a)||1))return;let c=a[z][a[F]];if("https:"===a[q].protocol&&a[r]!==c.servername){if(a[w]>0)return;a[r]=c.servername,a[Z]?.destroy(new m("servername changed"),()=>{a[Z]=null,ak(a)})}if(a[B])return;if(!a[Z])return void ai(a);if(a[Z].destroyed||a[Z].busy(c))return;!c.aborted&&a[Z].write(c)?a[F]++:a[z].splice(a[F],1)}}a.exports=ag},77600:(a,b,c)=>{"use strict";c.d(b,{B:()=>h});var d=c(24401),e=c(70404);class f extends e.L{constructor(a){super(a,d.h.LOCKED)}}var g=c(55878);let h=async({id:a,collectionSlug:b,globalSlug:c,lockDurationDefault:d=300,lockErrorMessage:e,overrideLock:h=!0,req:i})=>{let{payload:j}=i,k=b?j.collections?.[b]?.config?.lockDocuments:j.config?.globals?.find(a=>a.slug===c)?.lockDocuments,l=!1!==k,m={};if(b)m={and:[{"document.relationTo":{equals:b}},{"document.value":{equals:a}}]};else if(c)m={globalSlug:{equals:c}};else throw Error("Either collectionSlug or globalSlug must be provided.");if(l){if(!h){let h=b?`Document with ID ${a} is currently locked by another user and cannot be modified.`:`Global document with slug "${c}" is currently locked by another user and cannot be modified.`,l=e||h,o=await j.db.find({collection:g.q,limit:1,pagination:!1,sort:"-updatedAt",where:m}),p=o?.docs[0];if(p){let a=new Date(p?.updatedAt).getTime(),b=new Date().getTime(),c=1e3*("object"==typeof k?k.duration:d),e=i.user?.id;if(p.user?.value!==e&&b-a<=c)throw new f(l)}}await j.db.deleteMany({collection:g.q,req:"mongoose"===j.db.name?void 0:i,where:m})}}},77791:(a,b,c)=>{"use strict";let{Cache:d}=c(20148),{webidl:e}=c(81399),{kEnumerableProperty:f}=c(81350),{kConstruct:g}=c(10257);class h{#a4=new Map;constructor(){arguments[0]!==g&&e.illegalConstructor(),e.util.markAsUncloneable(this)}async match(a,b={}){if(e.brandCheck(this,h),e.argumentLengthCheck(arguments,1,"CacheStorage.match"),a=e.converters.RequestInfo(a),null!=(b=e.converters.MultiCacheQueryOptions(b)).cacheName){if(this.#a4.has(b.cacheName)){let c=new d(g,this.#a4.get(b.cacheName));return await c.match(a,b)}}else for(let c of this.#a4.values()){let e=new d(g,c),f=await e.match(a,b);if(void 0!==f)return f}}async has(a){e.brandCheck(this,h);let b="CacheStorage.has";return e.argumentLengthCheck(arguments,1,b),a=e.converters.DOMString(a,b,"cacheName"),this.#a4.has(a)}async open(a){e.brandCheck(this,h);let b="CacheStorage.open";if(e.argumentLengthCheck(arguments,1,b),a=e.converters.DOMString(a,b,"cacheName"),this.#a4.has(a))return new d(g,this.#a4.get(a));let c=[];return this.#a4.set(a,c),new d(g,c)}async delete(a){e.brandCheck(this,h);let b="CacheStorage.delete";return e.argumentLengthCheck(arguments,1,b),a=e.converters.DOMString(a,b,"cacheName"),this.#a4.delete(a)}async keys(){return e.brandCheck(this,h),[...this.#a4.keys()]}}Object.defineProperties(h.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:f,has:f,open:f,delete:f,keys:f}),a.exports={CacheStorage:h}},77918:(a,b,c)=>{"use strict";let d,e;c.d(b,{V8:()=>iL});var f,g,h,i,j,k=c(29021),l=c(33873),m=c(12082),o=c(76760),p=c(73024),q=c(98995);let r=a=>null!==a&&"object"==typeof a,s=(a,b)=>Object.assign(Error(`[${a}]: ${b}`),{code:a}),t="ERR_INVALID_PACKAGE_CONFIG",u="ERR_INVALID_PACKAGE_TARGET",v="ERR_PACKAGE_PATH_NOT_EXPORTED",w=/^\d+$/,x=/^(\.{1,2}|node_modules)$/i,y=/\/|\\/;var z=(a=>(a.Export="exports",a.Import="imports",a))(z||{});let A=(a,b,c,d,e)=>{if(null==b)return[];if("string"==typeof b){let[c,...d]=b.split(y);if(".."===c||d.some(a=>x.test(a)))throw s(u,`Invalid "${a}" target "${b}" defined in the package config`);return[e?b.replace(/\*/g,e):b]}if(Array.isArray(b))return b.flatMap(b=>A(a,b,c,d,e));if(r(b)){for(let f of Object.keys(b)){if(w.test(f))throw s(t,"Cannot contain numeric property keys");if("default"===f||d.includes(f))return A(a,b[f],c,d,e)}return[]}throw s(u,`Invalid "${a}" target "${b}"`)},B="*",C=(a,b)=>{let c=a.indexOf(B),d=b.indexOf(B);return c===d?b.length>a.length:d>c};function D(a,b){let c,d;if(!b.includes(B)&&a.hasOwnProperty(b))return[b];for(let e of Object.keys(a))if(e.includes(B)){let[a,f,g]=e.split(B);if(void 0===g&&b.startsWith(a)&&b.endsWith(f)){let g=b.slice(a.length,-f.length||void 0);g&&(!c||C(c,e))&&(c=e,d=g)}}return[c,d]}let E=a=>Object.keys(a).reduce((a,b)=>{let c=""===b||"."!==b[0];if(void 0===a||a===c)return c;throw s(t,'"exports" cannot contain some keys starting with "." and some not')},void 0),F=/^\w+:/,G=(a,b,c)=>{if(!a)throw Error('"exports" is required');b=""===b?".":`./${b}`,("string"==typeof a||Array.isArray(a)||r(a)&&E(a))&&(a={".":a});let[d,e]=D(a,b),f=A(z.Export,a[d],b,c,e);if(0===f.length)throw s(v,"."===b?'No "exports" main defined':`Package subpath '${b}' is not defined by "exports"`);for(let a of f)if(!a.startsWith("./")&&!F.test(a))throw s(u,`Invalid "exports" target "${a}" defined in the package config`);return f};var H=Object.defineProperty,I=(a,b)=>H(a,"name",{value:b,configurable:!0});function J(a){return a.startsWith("\\\\?\\")?a:a.replace(/\\/g,"/")}I(J,"slash");let K=I(a=>{let b=p[a];return(c,...d)=>{let e=`${a}:${d.join(":")}`,f=null==c?void 0:c.get(e);return void 0===f&&(f=Reflect.apply(b,p,d),null==c||c.set(e,f)),f}},"cacheFs"),L=K("existsSync"),M=K("readFileSync"),N=K("statSync"),O=I((a,b,c)=>{for(;;){let d=o.posix.join(a,b);if(L(c,d))return d;let e=o.dirname(a);if(e===a)return;a=e}},"findUp"),P=/^\.{1,2}(\/.*)?$/,Q=I(a=>{let b=J(a);return P.test(b)?b:`./${b}`},"normalizeRelativePath");function R(a,b=!1){let c=a.length,d=0,e="",f=0,g=16,h=0,i=0,j=0,k=0,l=0;function m(b,c){let e=0,f=0;for(;e<b||!c;){let b=a.charCodeAt(d);if(b>=48&&b<=57)f=16*f+b-48;else if(b>=65&&b<=70)f=16*f+b-65+10;else if(b>=97&&b<=102)f=16*f+b-97+10;else break;d++,e++}return e<b&&(f=-1),f}function o(a){d=a,e="",f=0,g=16,l=0}function p(){let b=d;if(48===a.charCodeAt(d))d++;else for(d++;d<a.length&&U(a.charCodeAt(d));)d++;if(d<a.length&&46===a.charCodeAt(d))if(!(++d<a.length&&U(a.charCodeAt(d))))return l=3,a.substring(b,d);else for(d++;d<a.length&&U(a.charCodeAt(d));)d++;let c=d;if(d<a.length&&(69===a.charCodeAt(d)||101===a.charCodeAt(d)))if((++d<a.length&&43===a.charCodeAt(d)||45===a.charCodeAt(d))&&d++,d<a.length&&U(a.charCodeAt(d))){for(d++;d<a.length&&U(a.charCodeAt(d));)d++;c=d}else l=3;return a.substring(b,c)}function q(){let b="",e=d;for(;;){if(d>=c){b+=a.substring(e,d),l=2;break}let f=a.charCodeAt(d);if(34===f){b+=a.substring(e,d),d++;break}if(92===f){if(b+=a.substring(e,d),++d>=c){l=2;break}switch(a.charCodeAt(d++)){case 34:b+='"';break;case 92:b+="\\";break;case 47:b+="/";break;case 98:b+="\b";break;case 102:b+="\f";break;case 110:b+=`
`;break;case 114:b+="\r";break;case 116:b+="	";break;case 117:let f=m(4,!0);f>=0?b+=String.fromCharCode(f):l=4;break;default:l=5}e=d;continue}if(f>=0&&f<=31)if(T(f)){b+=a.substring(e,d),l=2;break}else l=6;d++}return b}function r(){if(e="",l=0,f=d,i=h,k=j,d>=c)return f=c,g=17;let b=a.charCodeAt(d);if(S(b)){do d++,e+=String.fromCharCode(b),b=a.charCodeAt(d);while(S(b));return g=15}if(T(b))return d++,e+=String.fromCharCode(b),13===b&&10===a.charCodeAt(d)&&(d++,e+=`
`),h++,j=d,g=14;switch(b){case 123:return d++,g=1;case 125:return d++,g=2;case 91:return d++,g=3;case 93:return d++,g=4;case 58:return d++,g=6;case 44:return d++,g=5;case 34:return d++,e=q(),g=10;case 47:let m=d-1;if(47===a.charCodeAt(d+1)){for(d+=2;d<c&&!T(a.charCodeAt(d));)d++;return e=a.substring(m,d),g=12}if(42===a.charCodeAt(d+1)){d+=2;let b=c-1,f=!1;for(;d<b;){let b=a.charCodeAt(d);if(42===b&&47===a.charCodeAt(d+1)){d+=2,f=!0;break}d++,T(b)&&(13===b&&10===a.charCodeAt(d)&&d++,h++,j=d)}return f||(d++,l=1),e=a.substring(m,d),g=13}return e+=String.fromCharCode(b),d++,g=16;case 45:if(e+=String.fromCharCode(b),++d===c||!U(a.charCodeAt(d)))return g=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return e+=p(),g=11;default:for(;d<c&&s(b);)d++,b=a.charCodeAt(d);if(f!==d){switch(e=a.substring(f,d)){case"true":return g=8;case"false":return g=9;case"null":return g=7}return g=16}return e+=String.fromCharCode(b),d++,g=16}}function s(a){if(S(a)||T(a))return!1;switch(a){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function t(){let a;do a=r();while(a>=12&&a<=15);return a}return I(m,"scanHexDigits"),I(o,"setPosition"),I(p,"scanNumber"),I(q,"scanString"),I(r,"scanNext"),I(s,"isUnknownContentCharacter"),I(t,"scanNextNonTrivia"),{setPosition:o,getPosition:I(()=>d,"getPosition"),scan:b?t:r,getToken:I(()=>g,"getToken"),getTokenValue:I(()=>e,"getTokenValue"),getTokenOffset:I(()=>f,"getTokenOffset"),getTokenLength:I(()=>d-f,"getTokenLength"),getTokenStartLine:I(()=>i,"getTokenStartLine"),getTokenStartCharacter:I(()=>f-k,"getTokenStartCharacter"),getTokenError:I(()=>l,"getTokenError")}}function S(a){return 32===a||9===a}function T(a){return 10===a||13===a}function U(a){return a>=48&&a<=57}I(R,"createScanner"),I(S,"isWhiteSpace"),I(T,"isLineBreak"),I(U,"isDigit"),function(a){a[a.lineFeed=10]="lineFeed",a[a.carriageReturn=13]="carriageReturn",a[a.space=32]="space",a[a._0=48]="_0",a[a._1=49]="_1",a[a._2=50]="_2",a[a._3=51]="_3",a[a._4=52]="_4",a[a._5=53]="_5",a[a._6=54]="_6",a[a._7=55]="_7",a[a._8=56]="_8",a[a._9=57]="_9",a[a.a=97]="a",a[a.b=98]="b",a[a.c=99]="c",a[a.d=100]="d",a[a.e=101]="e",a[a.f=102]="f",a[a.g=103]="g",a[a.h=104]="h",a[a.i=105]="i",a[a.j=106]="j",a[a.k=107]="k",a[a.l=108]="l",a[a.m=109]="m",a[a.n=110]="n",a[a.o=111]="o",a[a.p=112]="p",a[a.q=113]="q",a[a.r=114]="r",a[a.s=115]="s",a[a.t=116]="t",a[a.u=117]="u",a[a.v=118]="v",a[a.w=119]="w",a[a.x=120]="x",a[a.y=121]="y",a[a.z=122]="z",a[a.A=65]="A",a[a.B=66]="B",a[a.C=67]="C",a[a.D=68]="D",a[a.E=69]="E",a[a.F=70]="F",a[a.G=71]="G",a[a.H=72]="H",a[a.I=73]="I",a[a.J=74]="J",a[a.K=75]="K",a[a.L=76]="L",a[a.M=77]="M",a[a.N=78]="N",a[a.O=79]="O",a[a.P=80]="P",a[a.Q=81]="Q",a[a.R=82]="R",a[a.S=83]="S",a[a.T=84]="T",a[a.U=85]="U",a[a.V=86]="V",a[a.W=87]="W",a[a.X=88]="X",a[a.Y=89]="Y",a[a.Z=90]="Z",a[a.asterisk=42]="asterisk",a[a.backslash=92]="backslash",a[a.closeBrace=125]="closeBrace",a[a.closeBracket=93]="closeBracket",a[a.colon=58]="colon",a[a.comma=44]="comma",a[a.dot=46]="dot",a[a.doubleQuote=34]="doubleQuote",a[a.minus=45]="minus",a[a.openBrace=123]="openBrace",a[a.openBracket=91]="openBracket",a[a.plus=43]="plus",a[a.slash=47]="slash",a[a.formFeed=12]="formFeed",a[a.tab=9]="tab"}(f||(f={})),Array(20).fill(0).map((a,b)=>" ".repeat(b));let V=200;function W(a,b=[],c=g.DEFAULT){let d=null,e=[],f=[];function h(a){Array.isArray(e)?e.push(a):null!==d&&(e[d]=a)}return I(h,"onValue"),X(a,{onObjectBegin:I(()=>{let a={};h(a),f.push(e),e=a,d=null},"onObjectBegin"),onObjectProperty:I(a=>{d=a},"onObjectProperty"),onObjectEnd:I(()=>{e=f.pop()},"onObjectEnd"),onArrayBegin:I(()=>{let a=[];h(a),f.push(e),e=a,d=null},"onArrayBegin"),onArrayEnd:I(()=>{e=f.pop()},"onArrayEnd"),onLiteralValue:h,onError:I((a,c,d)=>{b.push({error:a,offset:c,length:d})},"onError")},c),e[0]}function X(a,b,c=g.DEFAULT){let d=R(a,!1),e=[];function f(a){return a?()=>a(d.getTokenOffset(),d.getTokenLength(),d.getTokenStartLine(),d.getTokenStartCharacter()):()=>!0}function h(a){return a?()=>a(d.getTokenOffset(),d.getTokenLength(),d.getTokenStartLine(),d.getTokenStartCharacter(),()=>e.slice()):()=>!0}function i(a){return a?b=>a(b,d.getTokenOffset(),d.getTokenLength(),d.getTokenStartLine(),d.getTokenStartCharacter()):()=>!0}function j(a){return a?b=>a(b,d.getTokenOffset(),d.getTokenLength(),d.getTokenStartLine(),d.getTokenStartCharacter(),()=>e.slice()):()=>!0}I(f,"toNoArgVisit"),I(h,"toNoArgVisitWithPath"),I(i,"toOneArgVisit"),I(j,"toOneArgVisitWithPath");let k=h(b.onObjectBegin),l=j(b.onObjectProperty),m=f(b.onObjectEnd),o=h(b.onArrayBegin),p=f(b.onArrayEnd),q=j(b.onLiteralValue),r=i(b.onSeparator),s=f(b.onComment),t=i(b.onError),u=c&&c.disallowComments,v=c&&c.allowTrailingComma;function w(){for(;;){let a=d.scan();switch(d.getTokenError()){case 4:x(14);break;case 5:x(15);break;case 3:x(13);break;case 1:u||x(11);break;case 2:x(12);break;case 6:x(16)}switch(a){case 12:case 13:u?x(10):s();break;case 16:x(1);break;case 15:case 14:break;default:return a}}}function x(a,b=[],c=[]){if(t(a),b.length+c.length>0){let a=d.getToken();for(;17!==a;){if(-1!==b.indexOf(a)){w();break}if(-1!==c.indexOf(a))break;a=w()}}}function y(a){let b=d.getTokenValue();return a?q(b):(l(b),e.push(b)),w(),!0}function z(){switch(d.getToken()){case 11:let a=Number(d.getTokenValue());isNaN(a)&&(x(2),a=0),q(a);break;case 7:q(null);break;case 8:q(!0);break;case 9:q(!1);break;default:return!1}return w(),!0}function A(){return 10!==d.getToken()?(x(3,[],[2,5]),!1):(y(!1),6===d.getToken()?(r(":"),w(),D()||x(4,[],[2,5])):x(5,[],[2,5]),e.pop(),!0)}function B(){k(),w();let a=!1;for(;2!==d.getToken()&&17!==d.getToken();){if(5===d.getToken()){if(a||x(4,[],[]),r(","),w(),2===d.getToken()&&v)break}else a&&x(6,[],[]);A()||x(4,[],[2,5]),a=!0}return m(),2!==d.getToken()?x(7,[2],[]):w(),!0}function C(){o(),w();let a=!0,b=!1;for(;4!==d.getToken()&&17!==d.getToken();){if(5===d.getToken()){if(b||x(4,[],[]),r(","),w(),4===d.getToken()&&v)break}else b&&x(6,[],[]);a?(e.push(0),a=!1):e[e.length-1]++,D()||x(4,[],[4,5]),b=!0}return p(),a||e.pop(),4!==d.getToken()?x(8,[4],[]):w(),!0}function D(){switch(d.getToken()){case 3:return C();case 1:return B();case 10:return y(!0);default:return z()}}return I(w,"scanNext"),I(x,"handleError"),I(y,"parseString"),I(z,"parseLiteral"),I(A,"parseProperty"),I(B,"parseObject"),I(C,"parseArray"),I(D,"parseValue"),w(),17===d.getToken()?!!c.allowEmptyContent||(x(4,[],[]),!1):D()?(17!==d.getToken()&&x(9,[],[]),!0):(x(4,[],[]),!1)}Array(200).fill(0).map((a,b)=>`
`+" ".repeat(b)),Array(V).fill(0).map((a,b)=>"\r"+" ".repeat(b)),Array(V).fill(0).map((a,b)=>`\r
`+" ".repeat(b)),Array(V).fill(0).map((a,b)=>`
`+"	".repeat(b)),Array(V).fill(0).map((a,b)=>"\r"+"	".repeat(b)),Array(V).fill(0).map((a,b)=>`\r
`+"	".repeat(b)),function(a){a.DEFAULT={allowTrailingComma:!1}}(g||(g={})),I(W,"parse$1"),I(X,"visit"),function(a){a[a.None=0]="None",a[a.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",a[a.UnexpectedEndOfString=2]="UnexpectedEndOfString",a[a.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",a[a.InvalidUnicode=4]="InvalidUnicode",a[a.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",a[a.InvalidCharacter=6]="InvalidCharacter"}(h||(h={})),function(a){a[a.OpenBraceToken=1]="OpenBraceToken",a[a.CloseBraceToken=2]="CloseBraceToken",a[a.OpenBracketToken=3]="OpenBracketToken",a[a.CloseBracketToken=4]="CloseBracketToken",a[a.CommaToken=5]="CommaToken",a[a.ColonToken=6]="ColonToken",a[a.NullKeyword=7]="NullKeyword",a[a.TrueKeyword=8]="TrueKeyword",a[a.FalseKeyword=9]="FalseKeyword",a[a.StringLiteral=10]="StringLiteral",a[a.NumericLiteral=11]="NumericLiteral",a[a.LineCommentTrivia=12]="LineCommentTrivia",a[a.BlockCommentTrivia=13]="BlockCommentTrivia",a[a.LineBreakTrivia=14]="LineBreakTrivia",a[a.Trivia=15]="Trivia",a[a.Unknown=16]="Unknown",a[a.EOF=17]="EOF"}(i||(i={}));let Y=W;!function(a){a[a.InvalidSymbol=1]="InvalidSymbol",a[a.InvalidNumberFormat=2]="InvalidNumberFormat",a[a.PropertyNameExpected=3]="PropertyNameExpected",a[a.ValueExpected=4]="ValueExpected",a[a.ColonExpected=5]="ColonExpected",a[a.CommaExpected=6]="CommaExpected",a[a.CloseBraceExpected=7]="CloseBraceExpected",a[a.CloseBracketExpected=8]="CloseBracketExpected",a[a.EndOfFileExpected=9]="EndOfFileExpected",a[a.InvalidCommentToken=10]="InvalidCommentToken",a[a.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",a[a.UnexpectedEndOfString=12]="UnexpectedEndOfString",a[a.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",a[a.InvalidUnicode=14]="InvalidUnicode",a[a.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",a[a.InvalidCharacter=16]="InvalidCharacter"}(j||(j={}));let Z=I((a,b)=>Y(M(b,a,"utf8")),"readJsonc"),$=Symbol("implicitBaseUrl"),_="${configDir}",aa=I(()=>{let{findPnpApi:a}=q;return a&&a(process.cwd())},"getPnpApi"),ab=I((a,b,c,d)=>{let e=`resolveFromPackageJsonPath:${a}:${b}:${c}`;if(null!=d&&d.has(e))return d.get(e);let f=Z(a,d);if(!f)return;let g=b||"tsconfig.json";if(!c&&f.exports)try{let[a]=G(f.exports,b,["require","types"]);g=a}catch{return!1}else!b&&f.tsconfig&&(g=f.tsconfig);return g=o.join(a,"..",g),null==d||d.set(e,g),g},"resolveFromPackageJsonPath"),ac="package.json",ad="tsconfig.json",ae=I((a,b,c)=>{let d=a;if(".."===a&&(d=o.join(d,ad)),"."===a[0]&&(d=o.resolve(b,d)),o.isAbsolute(d)){if(L(c,d)){if(N(c,d).isFile())return d}else if(!d.endsWith(".json")){let a=`${d}.json`;if(L(c,a))return a}return}let[e,...f]=a.split("/"),g="@"===e[0]?`${e}/${f.shift()}`:e,h=f.join("/"),i=aa();if(i){let{resolveRequest:d}=i;try{if(g===a){let a=d(o.join(g,ac),b);if(a){let b=ab(a,h,!1,c);if(b&&L(c,b))return b}}else{let c;try{c=d(a,b,{extensions:[".json"]})}catch{c=d(o.join(a,ad),b)}if(c)return c}}catch{}}let j=O(o.resolve(b),o.join("node_modules",g),c);if(!j||!N(c,j).isDirectory())return;let k=o.join(j,ac);if(L(c,k)){let a=ab(k,h,!1,c);if(!1===a)return;if(a&&L(c,a)&&N(c,a).isFile())return a}let l=o.join(j,h),m=l.endsWith(".json");if(!m){let a=`${l}.json`;if(L(c,a))return a}if(L(c,l)){if(N(c,l).isDirectory()){let a=o.join(l,ac);if(L(c,a)){let b=ab(a,"",!0,c);if(b&&L(c,b))return b}let b=o.join(l,ad);if(L(c,b))return b}else if(m)return l}},"resolveExtendsPath"),af=I((a,b)=>Q(o.relative(a,b)),"pathRelative"),ag=["files","include","exclude"],ah=I((a,b,c,d)=>{let e=ae(a,b,d);if(!e)throw Error(`File '${a}' not found.`);if(c.has(e))throw Error(`Circularity detected while resolving configuration: ${e}`);c.add(e);let f=o.dirname(e),g=aj(e,d,c);delete g.references;let{compilerOptions:h}=g;if(h){let{baseUrl:a}=h;a&&!a.startsWith(_)&&(h.baseUrl=J(o.relative(b,o.join(f,a)))||"./");let{outDir:c}=h;c&&(c.startsWith(_)||(c=o.relative(b,o.join(f,c))),h.outDir=J(c)||"./")}for(let a of ag){let c=g[a];c&&(g[a]=c.map(a=>a.startsWith(_)?a:J(o.relative(b,o.join(f,a)))))}return g},"resolveExtends"),ai=["outDir","declarationDir"],aj=I((a,b,c=new Set)=>{let d;try{d=Z(a,b)||{}}catch{throw Error(`Cannot resolve tsconfig at path: ${a}`)}if("object"!=typeof d)throw SyntaxError(`Failed to parse tsconfig at: ${a}`);let e=o.dirname(a);if(d.compilerOptions){let{compilerOptions:a}=d;a.paths&&!a.baseUrl&&(a[$]=e)}if(d.extends){let a=Array.isArray(d.extends)?d.extends:[d.extends];for(let f of(delete d.extends,a.reverse())){let a=ah(f,e,new Set(c),b),g={...a,...d,compilerOptions:{...a.compilerOptions,...d.compilerOptions}};a.watchOptions&&(g.watchOptions={...a.watchOptions,...d.watchOptions}),d=g}}if(d.compilerOptions){let{compilerOptions:a}=d;for(let b of["baseUrl","rootDir"]){let c=a[b];if(c&&!c.startsWith(_)){let d=o.resolve(e,c),f=af(e,d);a[b]=f}}for(let b of ai){let c=a[b];c&&(Array.isArray(d.exclude)||(d.exclude=[]),d.exclude.includes(c)||d.exclude.push(c),c.startsWith(_)||(c=Q(c)),a[b]=c)}}else d.compilerOptions={};if(d.include?(d.include=d.include.map(J),d.files&&delete d.files):d.files&&(d.files=d.files.map(a=>a.startsWith(_)?a:Q(a))),d.watchOptions){let{watchOptions:a}=d;a.excludeDirectories&&(a.excludeDirectories=a.excludeDirectories.map(a=>J(o.resolve(e,a))))}return d},"_parseTsconfig"),ak=I((a,b)=>{if(a.startsWith(_))return J(o.join(b,a.slice(_.length)))},"interpolateConfigDir"),al=["outDir","declarationDir","outFile","rootDir","baseUrl","tsBuildInfoFile"],am=I((a,b=new Map)=>{let c=o.resolve(a),d=aj(c,b),e=o.dirname(c),{compilerOptions:f}=d;if(f){for(let a of al){let b=f[a];if(b){let c=ak(b,e);f[a]=c?af(e,c):b}}for(let a of["rootDirs","typeRoots"]){let b=f[a];b&&(f[a]=b.map(a=>{let b=ak(a,e);return b?af(e,b):a}))}let{paths:a}=f;if(a)for(let b of Object.keys(a))a[b]=a[b].map(a=>{var b;return null!=(b=ak(a,e))?b:a})}for(let a of ag){let b=d[a];b&&(d[a]=b.map(a=>{var b;return null!=(b=ak(a,e))?b:a}))}return d},"parseTsconfig"),an=I((a=process.cwd(),b="tsconfig.json",c=new Map)=>{let d=O(J(a),b,c);if(!d)return null;let e=am(d,c);return{path:d,config:e}},"getTsconfig"),ao=/\*/g,ap=I((a,b)=>{let c=a.match(ao);if(c&&c.length>1)throw Error(b)},"assertStarCount"),aq=I(a=>{if(a.includes("*")){let[b,c]=a.split("*");return{prefix:b,suffix:c}}return a},"parsePattern"),ar=I(({prefix:a,suffix:b},c)=>c.startsWith(a)&&c.endsWith(b),"isPatternMatch"),as=I((a,b,c)=>Object.entries(a).map(([a,d])=>(ap(a,`Pattern '${a}' can have at most one '*' character.`),{pattern:aq(a),substitutions:d.map(d=>{if(ap(d,`Substitution '${d}' in pattern '${a}' can have at most one '*' character.`),!b&&!P.test(d))throw Error("Non-relative paths are not allowed when 'baseUrl' is not set. Did you forget a leading './'?");return o.resolve(c,d)})})),"parsePaths"),at=(I(a=>{let{compilerOptions:b}=a.config;if(!b)return null;let{baseUrl:c,paths:d}=b;if(!c&&!d)return null;let e=$ in b&&b[$],f=o.resolve(o.dirname(a.path),c||e||"."),g=d?as(d,c,f):[];return a=>{if(P.test(a))return[];let b=[];for(let c of g){if(c.pattern===a)return c.substitutions.map(J);"string"!=typeof c.pattern&&b.push(c)}let d,e=-1;for(let c of b)ar(c.pattern,a)&&c.pattern.prefix.length>e&&(e=c.pattern.prefix.length,d=c);if(!d)return c?[J(o.join(f,a))]:[];let h=a.slice(d.pattern.prefix.length,a.length-d.pattern.suffix.length);return d.substitutions.map(a=>J(a.replace("*",h)))}},"createPathsMatcher"),I(a=>{let b="";for(let c=0;c<a.length;c+=1){let d=a[c],e=d.toUpperCase();b+=d===e?d.toLowerCase():e}return b},"s")),au=65,av=97,aw=I(()=>Math.floor(26*Math.random()),"m"),ax=I(a=>Array.from({length:a},()=>String.fromCodePoint(aw()+(Math.random()>.5?au:av))).join(""),"S"),ay=I((a=k)=>{let b=process.execPath;if(a.existsSync(b))return!a.existsSync(at(b));let c=`/${ax(10)}`;a.writeFileSync(c,"");let d=!a.existsSync(at(c));return a.unlinkSync(c),d},"l"),{join:az}=o.posix,aA={ts:[".ts",".tsx",".d.ts"],cts:[".cts",".d.cts"],mts:[".mts",".d.mts"]},aB=I(a=>{let b=[...aA.ts],c=[...aA.cts],d=[...aA.mts];return null!=a&&a.allowJs&&(b.push(".js",".jsx"),c.push(".cjs"),d.push(".mjs")),[...b,...c,...d]},"getSupportedExtensions"),aC=I(a=>{let b=[];if(!a)return b;let{outDir:c,declarationDir:d}=a;return c&&b.push(c),d&&b.push(d),b},"getDefaultExcludeSpec"),aD=I(a=>a.replaceAll(/[.*+?^${}()|[\]\\]/g,String.raw`\$&`),"escapeForRegexp"),aE=["node_modules","bower_components","jspm_packages"],aF=`(?!(${aE.join("|")})(/|$))`,aG=/(?:^|\/)[^.*?]+$/,aH="**/*",aI="[^/]",aJ="[^./]",aK="win32"===process.platform;I(({config:a,path:b},c=ay())=>{if("extends"in a)throw Error("tsconfig#extends must be resolved. Use getTsconfig or parseTsconfig to resolve it.");if(!o.isAbsolute(b))throw Error("The tsconfig path must be absolute");aK&&(b=J(b));let d=o.dirname(b),{files:e,include:f,exclude:g,compilerOptions:h}=a,i=null==e?void 0:e.map(a=>az(d,a)),j=aB(h),k=c?"":"i",l=(g||aC(h)).map(a=>{let b=aD(az(d,a)).replaceAll(String.raw`\*\*/`,"(.+/)?").replaceAll(String.raw`\*`,`${aI}*`).replaceAll(String.raw`\?`,aI);return RegExp(`^${b}($|/)`,k)}),m=e||f?f:[aH],p=m?m.map(a=>{let b=az(d,a);aG.test(b)&&(b=az(b,aH));let c=aD(b).replaceAll(String.raw`/\*\*`,`(/${aF}${aJ}${aI}*)*?`).replaceAll(/(\/)?\\\*/g,(a,b)=>{let c=`(${aJ}|(\\.(?!min\\.js$))?)*`;return b?`/${aF}${aJ}${c}`:c}).replaceAll(/(\/)?\\\?/g,(a,b)=>{let c=aI;return b?`/${aF}${c}`:c});return RegExp(`^${c}$`,k)}):void 0;return b=>{if(!o.isAbsolute(b))throw Error("filePath must be absolute");if(aK&&(b=J(b)),null!=i&&i.includes(b)||!(!j.some(a=>b.endsWith(a))||l.some(a=>a.test(b)))&&p&&p.some(a=>a.test(b)))return a}},"createFilesMatcher");let aL=a=>k.readdirSync(a).filter(a=>(a.endsWith(".ts")||a.endsWith(".js"))&&"index.ts"!==a&&"index.js"!==a).sort(),aM=a=>{let b=an(),c=b?.config?.compilerOptions?.moduleResolution==="NodeNext"?".js":"",d="",e="export const migrations = [\n";return a.forEach((b,f)=>{let g=b.replace(/\.[^/.]+$/,"");d+=`import * as migration_${g} from './${g}${c}';
`,e+=`  {
    up: migration_${g}.up,
    down: migration_${g}.down,
    name: '${g}'${f!==a.length-1?",":""}
  },
`}),e+="];\n",d+"\n"+e},aN=a=>{let b=aM(aL(a.migrationsDir));k.writeFileSync(l.join(a.migrationsDir,"index.ts"),b)};var aO=c(91974);let aP=a=>a.split("\n").map(a=>`  ${a}`).join("\n"),aQ=({downSQL:a,imports:b,packageName:c,upSQL:d})=>`import { MigrateUpArgs, MigrateDownArgs, sql } from '${c}'
${b?`${b}
`:""}
export async function up({ db, payload, req }: MigrateUpArgs): Promise<void> {
${aP(d)}
}

export async function down({ db, payload, req }: MigrateDownArgs): Promise<void> {
${aP(a)}
}
`,aR=({executeMethod:a,filename:b,sanitizeStatements:c})=>{let d=l.dirname(b);return async function({file:b,forceAcceptWarning:e,migrationName:f,payload:g,skipEmpty:h}){let i,j,l=g.db.migrationDir;k.existsSync(l)||k.mkdirSync(l);let{generateDrizzleJson:o,generateMigration:p,upSnapshot:q}=this.requireDrizzleKit(),r=await o(this.schema),[s,t]=new Date().toISOString().split("T"),u=s.replace(/\D/g,""),v=t.split(".")[0].replace(/\D/g,""),w="";({downSQL:i,imports:w,upSQL:j}=await (0,m.F)({dirname:d,file:b,migrationName:f,payload:g}));let x=`${u}_${v}`,y=f||b?.split("/").slice(2).join("/"),z=`${x}${y?`_${y.replace(/\W/g,"_")}`:""}`,A=`${l}/${z}`,B=this.defaultDrizzleSnapshot;if(this.schemaName&&(B.schemas={[this.schemaName]:this.schemaName}),!j){let b=k.readdirSync(l).filter(a=>a.endsWith(".json")).sort().reverse()?.[0];b&&(B=JSON.parse(k.readFileSync(`${l}/${b}`,"utf8")),q&&B.version<r.version&&(B=q(B)));let d=await p(B,r),f=await p(r,B),g=`await db.${a}(sql\``;if(d?.length&&(j=c({sqlExecute:g,statements:d})),f?.length&&(i=c({sqlExecute:g,statements:f})),!j?.length&&!i?.length&&!e){h&&process.exit(0);let{confirm:a}=await aO({name:"confirm",type:"confirm",initial:!1,message:"No schema changes detected. Would you like to create a blank migration file?"},{onCancel:()=>{process.exit(0)}});a||process.exit(0)}k.writeFileSync(`${A}.json`,JSON.stringify(r,null,2))}let C=aQ({downSQL:i||"  // Migration code",imports:w,packageName:g.db.packageName,upSQL:j||"  // Migration code"}),D=`${A}.ts`;k.writeFileSync(D,C),aN({migrationsDir:g.db.migrationDir}),g.logger.info({msg:`Migration created at ${D}`})}};var aS=c(43835),aT=c(4611);let aU=Symbol.for("drizzle:entityKind");function aV(a,b){if(!a||"object"!=typeof a)return!1;if(a instanceof b)return!0;if(!Object.prototype.hasOwnProperty.call(b,aU))throw Error(`Class "${b.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let c=Object.getPrototypeOf(a).constructor;if(c)for(;c;){if(aU in c&&c[aU]===b[aU])return!0;c=Object.getPrototypeOf(c)}return!1}Symbol.for("drizzle:hasOwnEntityKind");class aW{static [aU]="ColumnBuilder";config;constructor(a,b,c){this.config={name:a,keyAsName:""===a,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:b,columnType:c,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(a){return this.config.default=a,this.config.hasDefault=!0,this}$defaultFn(a){return this.config.defaultFn=a,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(a){return this.config.onUpdateFn=a,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(a){""===this.config.name&&(this.config.name=a)}}class aX{constructor(a,b){this.table=a,this.config=b,this.name=b.name,this.keyAsName=b.keyAsName,this.notNull=b.notNull,this.default=b.default,this.defaultFn=b.defaultFn,this.onUpdateFn=b.onUpdateFn,this.hasDefault=b.hasDefault,this.primary=b.primaryKey,this.isUnique=b.isUnique,this.uniqueName=b.uniqueName,this.uniqueType=b.uniqueType,this.dataType=b.dataType,this.columnType=b.columnType,this.generated=b.generated,this.generatedIdentity=b.generatedIdentity}static [aU]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(a){return a}mapToDriverValue(a){return a}shouldDisableInsert(){return void 0!==this.config.generated&&"byDefault"!==this.config.generated.type}}let aY=Symbol.for("drizzle:Name");class aZ{static [aU]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(a,b){this.reference=()=>{let{name:b,columns:c,foreignColumns:d}=a();return{name:b,columns:c,foreignTable:d[0].table,foreignColumns:d}},b&&(this._onUpdate=b.onUpdate,this._onDelete=b.onDelete)}onUpdate(a){return this._onUpdate=void 0===a?"no action":a,this}onDelete(a){return this._onDelete=void 0===a?"no action":a,this}build(a){return new a$(a,this)}}class a${constructor(a,b){this.table=a,this.reference=b.reference,this.onUpdate=b._onUpdate,this.onDelete=b._onDelete}static [aU]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:a,columns:b,foreignColumns:c}=this.reference(),d=b.map(a=>a.name),e=c.map(a=>a.name),f=[this.table[aY],...d,c[0].table[aY],...e];return a??`${f.join("_")}_fk`}}function a_(a){return new aZ(function(){let{name:b,columns:c,foreignColumns:d}=a;return{name:b,columns:c,foreignColumns:d}})}function a0(a,...b){return a(...b)}function a1(a,b){return`${a[aY]}_${b.join("_")}_unique`}class a2{constructor(a,b){this.name=b,this.columns=a}static [aU]=null;columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(a){return new a4(a,this.columns,this.nullsNotDistinctConfig,this.name)}}class a3{static [aU]=null;name;constructor(a){this.name=a}on(...a){return new a2(a,this.name)}}class a4{constructor(a,b,c,d){this.table=a,this.columns=b,this.name=d??a1(this.table,this.columns.map(a=>a.name)),this.nullsNotDistinct=c}static [aU]=null;columns;name;nullsNotDistinct=!1;getName(){return this.name}}function a5(a,b,c){for(let d=b;d<a.length;d++){let e=a[d];if("\\"===e){d++;continue}if('"'===e)return[a.slice(b,d).replace(/\\/g,""),d+1];if(!c&&(","===e||"}"===e))return[a.slice(b,d).replace(/\\/g,""),d]}return[a.slice(b).replace(/\\/g,""),a.length]}function a6(a,b=0){let c=[],d=b,e=!1;for(;d<a.length;){let f=a[d];if(","===f){(e||d===b)&&c.push(""),e=!0,d++;continue}if(e=!1,"\\"===f){d+=2;continue}if('"'===f){let[b,e]=a5(a,d+1,!0);c.push(b),d=e;continue}if("}"===f)return[c,d+1];if("{"===f){let[b,e]=a6(a,d+1);c.push(b),d=e;continue}let[g,h]=a5(a,d,!1);c.push(g),d=h}return[c,d]}function a7(a){let[b]=a6(a,1);return b}function a8(a){return`{${a.map(a=>Array.isArray(a)?a8(a):"string"==typeof a?`"${a.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${a}`).join(",")}}`}class a9 extends aW{foreignKeyConfigs=[];static [aU]="PgColumnBuilder";array(a){return new bd(this.config.name,this,a)}references(a,b={}){return this.foreignKeyConfigs.push({ref:a,actions:b}),this}unique(a,b){return this.config.isUnique=!0,this.config.uniqueName=a,this.config.uniqueType=b?.nulls,this}generatedAlwaysAs(a){return this.config.generated={as:a,type:"always",mode:"stored"},this}buildForeignKeys(a,b){return this.foreignKeyConfigs.map(({ref:c,actions:d})=>a0((c,d)=>{let e=new aZ(()=>({columns:[a],foreignColumns:[c()]}));return d.onUpdate&&e.onUpdate(d.onUpdate),d.onDelete&&e.onDelete(d.onDelete),e.build(b)},c,d))}buildExtraConfigColumn(a){return new bb(a,this.config)}}class ba extends aX{constructor(a,b){b.uniqueName||(b.uniqueName=a1(a,[b.name])),super(a,b),this.table=a}static [aU]="PgColumn"}class bb extends ba{static [aU]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(a){return this.indexConfig.opClass=a,this}}class bc{static [aU]="IndexedColumn";constructor(a,b,c,d){this.name=a,this.keyAsName=b,this.type=c,this.indexConfig=d}name;keyAsName;type;indexConfig}class bd extends a9{static [aU]="PgArrayBuilder";constructor(a,b,c){super(a,"array","PgArray"),this.config.baseBuilder=b,this.config.size=c}build(a){let b=this.config.baseBuilder.build(a);return new be(a,this.config,b)}}class be extends ba{constructor(a,b,c,d){super(a,b),this.baseColumn=c,this.range=d,this.size=b.size}size;static [aU]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${"number"==typeof this.size?this.size:""}]`}mapFromDriverValue(a){return"string"==typeof a&&(a=a7(a)),a.map(a=>this.baseColumn.mapFromDriverValue(a))}mapToDriverValue(a,b=!1){let c=a.map(a=>null===a?null:aV(this.baseColumn,be)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return b?c:a8(c)}}class bf extends a9{static [aU]="PgEnumObjectColumnBuilder";constructor(a,b){super(a,"string","PgEnumObjectColumn"),this.config.enum=b}build(a){return new bg(a,this.config)}}class bg extends ba{static [aU]="PgEnumObjectColumn";enum;enumValues=this.config.enum.enumValues;constructor(a,b){super(a,b),this.enum=b.enum}getSQLType(){return this.enum.enumName}}let bh=Symbol.for("drizzle:isPgEnum");function bi(a){return!!a&&"function"==typeof a&&bh in a&&!0===a[bh]}class bj extends a9{static [aU]="PgEnumColumnBuilder";constructor(a,b){super(a,"string","PgEnumColumn"),this.config.enum=b}build(a){return new bk(a,this.config)}}class bk extends ba{static [aU]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(a,b){super(a,b),this.enum=b.enum}getSQLType(){return this.enum.enumName}}function bl(a,b){return Array.isArray(b)?bm(a,[...b],void 0):bn(a,b,void 0)}function bm(a,b,c){let d=Object.assign(a=>new bj(a??"",d),{enumName:a,enumValues:b,schema:c,[bh]:!0});return d}function bn(a,b,c){let d=Object.assign(a=>new bf(a??"",d),{enumName:a,enumValues:Object.values(b),schema:c,[bh]:!0});return d}class bo{static [aU]="Subquery";constructor(a,b,c,d=!1,e=[]){this._={brand:"Subquery",sql:a,selectedFields:b,alias:c,isWith:d,usedTables:e}}}class bp extends bo{static [aU]="WithSubquery"}var bq="0.44.7";let br={startActiveSpan:(a,b)=>d?(e||(e=d.trace.getTracer("drizzle-orm",bq)),a0((c,d)=>d.startActiveSpan(a,a=>{try{return b(a)}catch(b){throw a.setStatus({code:c.SpanStatusCode.ERROR,message:b instanceof Error?b.message:"Unknown error"}),b}finally{a.end()}}),d,e)):b()},bs=Symbol.for("drizzle:ViewBaseConfig"),bt=Symbol.for("drizzle:Schema"),bu=Symbol.for("drizzle:Columns"),bv=Symbol.for("drizzle:ExtraConfigColumns"),bw=Symbol.for("drizzle:OriginalName"),bx=Symbol.for("drizzle:BaseName"),by=Symbol.for("drizzle:IsAlias"),bz=Symbol.for("drizzle:ExtraConfigBuilder"),bA=Symbol.for("drizzle:IsDrizzleTable");class bB{static [aU]="Table";static Symbol={Name:aY,Schema:bt,OriginalName:bw,Columns:bu,ExtraConfigColumns:bv,BaseName:bx,IsAlias:by,ExtraConfigBuilder:bz};[aY];[bw];[bt];[bu];[bv];[bx];[by]=!1;[bA]=!0;[bz]=void 0;constructor(a,b,c){this[aY]=this[bw]=a,this[bt]=b,this[bx]=c}}function bC(a){return a[aY]}function bD(a){return`${a[bt]??"public"}.${a[aY]}`}class bE{static [aU]=null}function bF(a){return null!=a&&"function"==typeof a.getSQL}function bG(a){let b={sql:"",params:[]};for(let c of a)b.sql+=c.sql,b.params.push(...c.params),c.typings?.length&&(b.typings||(b.typings=[]),b.typings.push(...c.typings));return b}class bH{static [aU]="StringChunk";value;constructor(a){this.value=Array.isArray(a)?a:[a]}getSQL(){return new bI([this])}}class bI{constructor(a){for(let b of(this.queryChunks=a,a))if(aV(b,bB)){let a=b[bB.Symbol.Schema];this.usedTables.push(void 0===a?b[bB.Symbol.Name]:a+"."+b[bB.Symbol.Name])}}static [aU]="SQL";decoder=bL;shouldInlineParams=!1;usedTables=[];append(a){return this.queryChunks.push(...a.queryChunks),this}toQuery(a){return br.startActiveSpan("drizzle.buildSQL",b=>{let c=this.buildQueryFromSourceParams(this.queryChunks,a);return b?.setAttributes({"drizzle.query.text":c.sql,"drizzle.query.params":JSON.stringify(c.params)}),c})}buildQueryFromSourceParams(a,b){let c=Object.assign({},b,{inlineParams:b.inlineParams||this.shouldInlineParams,paramStartIndex:b.paramStartIndex||{value:0}}),{casing:d,escapeName:e,escapeParam:f,prepareTyping:g,inlineParams:h,paramStartIndex:i}=c;return bG(a.map(a=>{if(aV(a,bH))return{sql:a.value.join(""),params:[]};if(aV(a,bJ))return{sql:e(a.value),params:[]};if(void 0===a)return{sql:"",params:[]};if(Array.isArray(a)){let b=[new bH("(")];for(let[c,d]of a.entries())b.push(d),c<a.length-1&&b.push(new bH(", "));return b.push(new bH(")")),this.buildQueryFromSourceParams(b,c)}if(aV(a,bI))return this.buildQueryFromSourceParams(a.queryChunks,{...c,inlineParams:h||a.shouldInlineParams});if(aV(a,bB)){let b=a[bB.Symbol.Schema],c=a[bB.Symbol.Name];return{sql:void 0===b||a[by]?e(c):e(b)+"."+e(c),params:[]}}if(aV(a,aX)){let c=d.getColumnCasing(a);if("indexes"===b.invokeSource)return{sql:e(c),params:[]};let f=a.table[bB.Symbol.Schema];return{sql:a.table[by]||void 0===f?e(a.table[bB.Symbol.Name])+"."+e(c):e(f)+"."+e(a.table[bB.Symbol.Name])+"."+e(c),params:[]}}if(aV(a,bS)){let b=a[bs].schema,c=a[bs].name;return{sql:void 0===b||a[bs].isAlias?e(c):e(b)+"."+e(c),params:[]}}if(aV(a,bN)){if(aV(a.value,bP))return{sql:f(i.value++,a),params:[a],typings:["none"]};let b=null===a.value?null:a.encoder.mapToDriverValue(a.value);if(aV(b,bI))return this.buildQueryFromSourceParams([b],c);if(h)return{sql:this.mapInlineParam(b,c),params:[]};let d=["none"];return g&&(d=[g(a.encoder)]),{sql:f(i.value++,b),params:[b],typings:d}}return aV(a,bP)?{sql:f(i.value++,a),params:[a],typings:["none"]}:aV(a,bI.Aliased)&&void 0!==a.fieldAlias?{sql:e(a.fieldAlias),params:[]}:aV(a,bo)?a._.isWith?{sql:e(a._.alias),params:[]}:this.buildQueryFromSourceParams([new bH("("),a._.sql,new bH(") "),new bJ(a._.alias)],c):bi(a)?a.schema?{sql:e(a.schema)+"."+e(a.enumName),params:[]}:{sql:e(a.enumName),params:[]}:bF(a)?a.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([a.getSQL()],c):this.buildQueryFromSourceParams([new bH("("),a.getSQL(),new bH(")")],c):h?{sql:this.mapInlineParam(a,c),params:[]}:{sql:f(i.value++,a),params:[a],typings:["none"]}}))}mapInlineParam(a,{escapeString:b}){if(null===a)return"null";if("number"==typeof a||"boolean"==typeof a)return a.toString();if("string"==typeof a)return b(a);if("object"==typeof a){let c=a.toString();return"[object Object]"===c?b(JSON.stringify(a)):b(c)}throw Error("Unexpected param value: "+a)}getSQL(){return this}as(a){return void 0===a?this:new bI.Aliased(this,a)}mapWith(a){return this.decoder="function"==typeof a?{mapFromDriverValue:a}:a,this}inlineParams(){return this.shouldInlineParams=!0,this}if(a){return a?this:void 0}}class bJ{constructor(a){this.value=a}static [aU]="Name";brand;getSQL(){return new bI([this])}}function bK(a){return"object"==typeof a&&null!==a&&"mapToDriverValue"in a&&"function"==typeof a.mapToDriverValue}let bL={mapFromDriverValue:a=>a},bM={mapToDriverValue:a=>a};({...bL,...bM});class bN{constructor(a,b=bM){this.value=a,this.encoder=b}static [aU]="Param";brand;getSQL(){return new bI([this])}}function bO(a,...b){let c=[];for(let[d,e]of((b.length>0||a.length>0&&""!==a[0])&&c.push(new bH(a[0])),b.entries()))c.push(e,new bH(a[d+1]));return new bI(c)}(a=>{a.empty=function(){return new bI([])},a.fromList=function(a){return new bI(a)},a.raw=function(a){return new bI([new bH(a)])},a.join=function(a,b){let c=[];for(let[d,e]of a.entries())d>0&&void 0!==b&&c.push(b),c.push(e);return new bI(c)},a.identifier=function(a){return new bJ(a)},a.placeholder=function(a){return new bP(a)},a.param=function(a,b){return new bN(a,b)}})(bO||(bO={})),(a=>{class b{constructor(a,b){this.sql=a,this.fieldAlias=b}static [aU]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new b(this.sql,this.fieldAlias)}}a.Aliased=b})(bI||(bI={}));class bP{constructor(a){this.name=a}static [aU]="Placeholder";getSQL(){return new bI([this])}}function bQ(a,b){return a.map(a=>{if(aV(a,bP)){if(!(a.name in b))throw Error(`No value for placeholder "${a.name}" was provided`);return b[a.name]}if(aV(a,bN)&&aV(a.value,bP)){if(!(a.value.name in b))throw Error(`No value for placeholder "${a.value.name}" was provided`);return a.encoder.mapToDriverValue(b[a.value.name])}return a})}let bR=Symbol.for("drizzle:IsDrizzleView");class bS{static [aU]="View";[bs];[bR]=!0;constructor({name:a,schema:b,selectedFields:c,query:d}){this[bs]={name:a,originalName:a,schema:b,selectedFields:c,query:d,isExisting:!d,isAlias:!1}}getSQL(){return new bI([this])}}function bT(a){return bO`${a} asc`}function bU(a){return bO`${a} desc`}aX.prototype.getSQL=function(){return new bI([this])},bB.prototype.getSQL=function(){return new bI([this])},bo.prototype.getSQL=function(){return new bI([this])};let bV=a=>bC(a);function bW(a,b){return!bK(b)||bF(a)||aV(a,bN)||aV(a,bP)||aV(a,aX)||aV(a,bB)||aV(a,bS)?a:new bN(a,b)}let bX=(a,b)=>bO`${a} = ${bW(b,a)}`,bY=(a,b)=>bO`${a} <> ${bW(b,a)}`;function bZ(...a){let b=a.filter(a=>void 0!==a);if(0!==b.length)return new bI(1===b.length?b:[new bH("("),bO.join(b,new bH(" and ")),new bH(")")])}function b$(...a){let b=a.filter(a=>void 0!==a);if(0!==b.length)return new bI(1===b.length?b:[new bH("("),bO.join(b,new bH(" or ")),new bH(")")])}function b_(a){return bO`not ${a}`}let b0=(a,b)=>bO`${a} > ${bW(b,a)}`,b1=(a,b)=>bO`${a} >= ${bW(b,a)}`,b2=(a,b)=>bO`${a} < ${bW(b,a)}`,b3=(a,b)=>bO`${a} <= ${bW(b,a)}`;function b4(a,b){return Array.isArray(b)?0===b.length?bO`false`:bO`${a} in ${b.map(b=>bW(b,a))}`:bO`${a} in ${bW(b,a)}`}function b5(a,b){return Array.isArray(b)?0===b.length?bO`true`:bO`${a} not in ${b.map(b=>bW(b,a))}`:bO`${a} not in ${bW(b,a)}`}function b6(a){return bO`${a} is null`}function b7(a){return bO`${a} is not null`}function b8(a){return bO`exists ${a}`}function b9(a){return bO`not exists ${a}`}function ca(a,b,c){return bO`${a} between ${bW(b,a)} and ${bW(c,a)}`}function cb(a,b,c){return bO`${a} not between ${bW(b,a)} and ${bW(c,a)}`}function cc(a,b){return bO`${a} like ${b}`}function cd(a,b){return bO`${a} not like ${b}`}function ce(a,b){return bO`${a} ilike ${b}`}function cf(a,b){return bO`${a} not ilike ${b}`}var cg=c(70404),ch=c(65540);let ci=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,cj=function(a){return"string"==typeof a&&ci.test(a)},ck=a=>a&&"object"==typeof a&&"relationTo"in a&&"string"==typeof a.relationTo&&"value"in a;function cl(a,b){return"sqlite"===a.name?bO`coalesce(json_group_array(${b}), '[]')`:bO`coalesce(json_agg(${b}), '[]'::json)`}function cm(a,b){let c=[];return(Object.entries(b).forEach(([a,b])=>{c.length>0&&c.push(bO.raw(",")),c.push(bO.raw(`'${a}',`)),c.push(bO`${b}`)}),"sqlite"===a.name)?bO`json_object(${bO.join(c)})`:bO`json_build_object(${bO.join(c)})`}let cn=(a,b)=>cl(a,cm(a,b)),co=Symbol("RawConstraint"),cp=Symbol("DistinctSymbol"),cq=a=>({type:co,value:a}),cr=a=>a&&"object"==typeof a&&"type"in a&&a.type===co,cs=a=>{let{fields:b,parentIsLocalized:c,prefix:d=""}=a;return b.reduce((a,b)=>{let e=d;return["array","blocks","relationship","upload"].includes(b.type)||"hasMany"in b&&!0===b.hasMany?a:(0,ch.sd)(b)?(e="name"in b?`${d}${b.name}_`:d,[...a,...cs({fields:b.fields,parentIsLocalized:c||"localized"in b&&b.localized,prefix:e})]):"tabs"===b.type?[...a,...b.tabs.reduce((a,b)=>(e="name"in b?`${d}_${b.name}`:d,[...a,...(0,ch.pz)(b)?[{...b,type:"tab"}]:cs({fields:b.fields,parentIsLocalized:c||b.localized,prefix:e})]),[])]:(0,ch.Z7)(b)?[...a,{name:`${e}${b.name}`,localized:(0,ch.Cd)({field:b,parentIsLocalized:c})}]:a},[])},ct=({block:a,localized:b,parentIsLocalized:c,table:d,tableLocales:e})=>{let f=cs({fields:a.fields,parentIsLocalized:c||b});return!(f.find(({name:a,localized:b})=>-1===Object.keys((b&&e?e:d).columns).indexOf(a))||Object.keys(d).find(a=>{if(!["_locale","_order","_parentID","_path","_uuid"].includes(a))return -1===f.findIndex(a=>a.name)}))&&!!b==!!d.columns._locale},cu=Symbol("InternalBlockTableNameIndex"),cv=(a,b)=>{a[cu]=b},cw=(a,b)=>a[cu]?`${b}_${a[cu]}`:b,cx=({type:a,condition:b,joins:c,queryPath:d,table:e})=>{let f=bV(e);c.some(a=>bV(a.table)===f)||c.push({type:a,condition:b,queryPath:d,table:e})};class cy{constructor(a){this.table=a}static [aU]="ColumnAliasProxyHandler";get(a,b){return"table"===b?this.table:a[b]}}class cz{constructor(a,b){this.alias=a,this.replaceOriginalName=b}static [aU]="TableAliasProxyHandler";get(a,b){if(b===bB.Symbol.IsAlias)return!0;if(b===bB.Symbol.Name||this.replaceOriginalName&&b===bB.Symbol.OriginalName)return this.alias;if(b===bs)return{...a[bs],name:this.alias,isAlias:!0};if(b===bB.Symbol.Columns){let b=a[bB.Symbol.Columns];if(!b)return b;let c={};return Object.keys(b).map(d=>{c[d]=new Proxy(b[d],new cy(new Proxy(a,this)))}),c}let c=a[b];return aV(c,aX)?new Proxy(c,new cy(new Proxy(a,this))):c}}class cA{constructor(a){this.alias=a}static [aU]=null;get(a,b){return"sourceTable"===b?cB(a.sourceTable,this.alias):a[b]}}function cB(a,b){return new Proxy(a,new cz(b,!1))}function cC(a,b){return new Proxy(a,new cy(new Proxy(a.table,new cz(b,!1))))}function cD(a,b){return new bI.Aliased(cE(a.sql,b),a.fieldAlias)}function cE(a,b){return bO.join(a.queryChunks.map(a=>aV(a,aX)?cC(a,b):aV(a,bI)?cE(a,b):aV(a,bI.Aliased)?cD(a,b):a))}function cF(a,b){return new Proxy(a,new cz(b,!1))}function cG(a,b){return new Proxy(a,new cz(b,!1))}var cH=c(55511),cI=c.n(cH);let cJ={randomUUID:cI().randomUUID},cK=new Uint8Array(256),cL=cK.length;function cM(){return cL>cK.length-16&&(cI().randomFillSync(cK),cL=0),cK.slice(cL,cL+=16)}let cN=[];for(let a=0;a<256;++a)cN.push((a+256).toString(16).slice(1));function cO(a,b=0){return(cN[a[b+0]]+cN[a[b+1]]+cN[a[b+2]]+cN[a[b+3]]+"-"+cN[a[b+4]]+cN[a[b+5]]+"-"+cN[a[b+6]]+cN[a[b+7]]+"-"+cN[a[b+8]]+cN[a[b+9]]+"-"+cN[a[b+10]]+cN[a[b+11]]+cN[a[b+12]]+cN[a[b+13]]+cN[a[b+14]]+cN[a[b+15]]).toLowerCase()}let cP=function(a,b,c){if(cJ.randomUUID&&!b&&!a)return cJ.randomUUID();let d=(a=a||{}).random||(a.rng||cM)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,b){c=c||0;for(let a=0;a<16;++a)b[c+a]=d[a];return b}return cO(d)},cQ=({adapter:a,tableName:b})=>{let c,d=aT(cP());return"postgres"===a.name&&(c=cF(a.tables[b],d)),"sqlite"===a.name&&(c=cG(a.tables[b],d)),{newAliasTable:c,newAliasTableName:d}},cR=({adapter:a,aliasTable:b,collectionPath:c,columnPrefix:d="",constraintPath:e,constraints:f=[],fields:g,joins:h,locale:i,parentAliasTable:j,parentIsLocalized:k,pathSegments:l,rootTableName:m,selectFields:o,selectLocale:p,tableName:q,tableNameSuffix:r="",value:s})=>{let t=l[0],u=i,v=m||q,w=e||"",x=g.find(a=>a.name===t),y=q;if(!x&&"id"===t)return o.id=a.tables[y].id,{columnName:"id",constraints:f,field:{name:"id",type:"uuid"===a.idType?"text":"number"},table:a.tables[y]};if(x){let e=[...l],g=(0,ch.Cd)({field:x,parentIsLocalized:k});if(g&&a.payload.config.localization){let b=a.payload.config.localization.localeCodes.find(a=>a===e[1]);b&&(u=b,e.splice(1,1))}switch(x.type){case"array":{y=a.tableNameMap.get(`${q}_${r}${aT(x.name)}`);let d=b||a.tables[q];if(w=`${w}${x.name}.%.`,u&&g&&a.payload.config.localization){let b=[bX(d.id,a.tables[y]._parentID)];p&&(o._locale=a.tables[y]._locale),"all"!==u&&b.push(bX(a.tables[y]._locale,u)),cx({condition:bZ(...b),joins:h,table:a.tables[y]})}else cx({condition:bX(d.id,a.tables[y]._parentID),joins:h,table:a.tables[y]});return cR({adapter:a,collectionPath:c,constraintPath:w,constraints:f,fields:x.flattenedFields,joins:h,locale:u,parentAliasTable:b,parentIsLocalized:k||x.localized,pathSegments:e.slice(1),rootTableName:v,selectFields:o,selectLocale:p,tableName:y,value:s})}case"blocks":{let d,i;if(a.blocksAsJSON)break;if("blockType"===e[1])return(Array.isArray(s)?s:[s]).forEach(b=>{let c=a.payload.blocks[b]??(x.blockReferences??x.blocks).find(a=>"string"!=typeof a&&a.slug===b);i=cw(c,a.tableNameMap.get(`${q}_blocks_${aT(c.slug)}`));let{newAliasTable:d}=cQ({adapter:a,tableName:i});h.push({condition:bX(a.tables[q].id,d._parentID),table:d}),f.push({columnName:"_path",table:d,value:e[0]})}),{constraints:f,field:x,getNotNullColumnByValue:()=>"id",table:a.tables[q]};if((x.blockReferences??x.blocks).some(j=>{let l,m,r="string"==typeof j?a.payload.blocks[j]:j;i=cw(r,a.tableNameMap.get(`${q}_blocks_${aT(r.slug)}`)),w=`${w}${x.name}.%.`;let t=[],y={};if(g&&a.payload.config.localization){let c=[bX((b||a.tables[q]).id,a.tables[i]._parentID)];"all"!==u&&c.push(bX(a.tables[i]._locale,u)),m={condition:bZ(...c),table:a.tables[i]}}else m={condition:bX((b||a.tables[q]).id,a.tables[i]._parentID),table:a.tables[i]};let z=[...h];try{l=cR({adapter:a,collectionPath:c,constraintPath:w,constraints:t,fields:r.flattenedFields,joins:z,locale:u,parentIsLocalized:k||x.localized,pathSegments:e.slice(1),rootTableName:v,selectFields:y,selectLocale:p,tableName:i,value:s})}catch(a){}if(!l)return;d=l,f=f.concat(t),o={...o,...y};let A=h.length;if(h.push(m),z.length>A)for(let a=A;a<z.length;a++)h.push(z[a]);return!0}))return{columnName:d.columnName,constraints:f,field:d.field,pathSegments:e.slice(1),rawColumn:d.rawColumn,table:d.table};break}case"group":if(u&&g&&a.payload.config.localization){y=`${q}${a.localesSuffix}`;let b=bX(a.tables[q].id,a.tables[y]._parentID);"all"!==u&&(b=bZ(b,bX(a.tables[y]._locale,u))),cx({condition:b,joins:h,table:a.tables[y]})}return cR({adapter:a,aliasTable:b,collectionPath:c,columnPrefix:`${d}${x.name}_`,constraintPath:`${w}${x.name}.`,constraints:f,fields:x.flattenedFields,joins:h,locale:u,parentIsLocalized:k||x.localized,pathSegments:e.slice(1),rootTableName:v,selectFields:o,selectLocale:p,tableName:y,tableNameSuffix:`${r}${aT(x.name)}_`,value:s});case"join":{if(Array.isArray(x.collection))throw new cg.L("Not supported");let c=e.slice(1).join(".");if(x.hasMany){let b=`${a.tableNameMap.get(aT(x.collection))}${a.relationshipsSuffix}`,d=h.find(a=>a.queryPath===`${w}${x.name}._rels`),g=d?.table??cQ({adapter:a,tableName:b}).newAliasTable,i=(0,aS.p)({fields:a.payload.collections[x.collection].config.flattenedFields,path:x.on});if(!i)throw new cg.L("Relationship was not found");if(d||cx({condition:bZ(bX(a.tables[v].id,g[`${i.field.relationTo}ID`]),cc(g.path,x.on)),joins:h,queryPath:`${w}${x.name}._rels`,table:g}),"id"===c)return{columnName:"parent",constraints:f,field:{name:"id",type:"uuid"===a.idType?"text":"number"},table:g};let j=a.payload.collections[x.collection].config,k=a.tableNameMap.get(aT(j.slug)),l=j.flattenedFields,m=h.find(a=>a.queryPath===`${w}${x.name}`),q=m?.table??cQ({adapter:a,tableName:k}).newAliasTable;return m||h.push({condition:bX(g.parent,q.id),queryPath:`${w}${x.name}`,table:q}),cR({adapter:a,aliasTable:q,collectionPath:c,constraints:f,fields:l,joins:h,locale:u,parentIsLocalized:!1,pathSegments:e.slice(1),rootTableName:k,selectFields:o,selectLocale:p,tableName:k,value:s})}let d=a.tableNameMap.get(aT(a.payload.collections[x.collection].config.slug)),g=h.find(a=>a.queryPath===`${w}${x.name}`)?.table,i=g||cQ({adapter:a,tableName:d}).newAliasTable;if(g||h.push({condition:bX(i[x.on.replaceAll(".","_")],b?b.id:a.tables[q].id),queryPath:`${w}${x.name}`,table:i}),"id"===c)return{columnName:"id",constraints:f,field:{name:"id",type:"uuid"===a.idType?"text":"number"},table:i};return cR({adapter:a,aliasTable:i,collectionPath:c,constraintPath:"",constraints:f,fields:a.payload.collections[x.collection].config.flattenedFields,joins:h,locale:u,parentIsLocalized:k||x.localized,pathSegments:e.slice(1),selectFields:o,tableName:d,value:s})}case"number":case"text":if(x.hasMany){let b="texts",c="text";"number"===x.type&&(b="numbers",c="number"),y=`${v}_${b}`;let d=h.find(a=>a.queryPath===`${w}${x.name}`),e=d?.table??cQ({adapter:a,tableName:y}).newAliasTable,i=[bX(a.tables[v].id,e.parent),cc(e.path,`${w}${x.name}`)];if(u&&g&&a.payload.config.localization){let a=[...i];"all"!==u&&a.push(bX(e._locale,u)),cx({condition:bZ(...a),joins:h,queryPath:`${w}${x.name}`,table:e})}else cx({condition:bZ(...i),joins:h,queryPath:`${w}${x.name}`,table:e});return{columnName:c,constraints:f,field:x,table:e}}break;case"relationship":case"upload":{let c=e.slice(1).join(".");if(Array.isArray(x.relationTo)||x.hasMany){let d,i,k,l,m=`${v}${a.relationshipsSuffix}`,q=h.find(a=>a.queryPath===`${w}.${x.name}`);if(q)i=q.table,k=bC(q.table);else{let b=cQ({adapter:a,tableName:m});i=b.newAliasTable,k=b.newAliasTableName}if(p&&g&&a.payload.config.localization&&(o._locale=i.locale),u&&g&&a.payload.config.localization){let c=[bX((j||b||a.tables[v]).id,i.parent),cc(i.path,`${w}${x.name}`)];"all"!==u&&c.push(bX(i.locale,u)),cx({condition:bZ(...c),joins:h,queryPath:`${w}.${x.name}`,table:i})}else cx({condition:bZ(bX((j||b||a.tables[v]).id,i.parent),cc(i.path,`${w}${x.name}`)),joins:h,queryPath:`${w}.${x.name}`,table:i});if(o[`${m}.path`]=i.path,"string"==typeof x.relationTo){let b=a.payload.collections[x.relationTo].config;if(y=a.tableNameMap.get(aT(b.slug)),d=b.flattenedFields,{newAliasTable:l}=cQ({adapter:a,tableName:y}),h.push({condition:bX(l.id,i[`${x.relationTo}ID`]),table:l}),""===c||"id"===c)return{columnName:`${x.relationTo}ID`,constraints:f,field:x,table:i}}else if("value"===c){let b=x.relationTo.some(b=>!!a.payload.collections[b].customIDType);return{columns:x.relationTo.map(c=>{let d="uuid"===a.idType?"uuid":"number",{customIDType:e}=a.payload.collections[c];e&&(d=e);let f="text"===d||"uuid"===d;if("number"==typeof s&&f||Array.isArray(s)&&s.every(a=>"number"==typeof a)&&f||s&&!Array.isArray(s)&&"uuid"===d&&b&&!cj(s)||Array.isArray(s)&&"uuid"===d&&b&&!s.some(a=>cj(a)))return null;let g=a.tableNameMap.get(aT(a.payload.collections[c].config.slug));return{idType:d,rawColumn:bO.raw(`"${k}"."${g}_id"`)}}).filter(Boolean),constraints:f,field:x,table:i}}else if("relationTo"===c){let a=Array.isArray(x.relationTo)?x.relationTo:[x.relationTo];return{constraints:f,field:x,getNotNullColumnByValue:b=>{let c=a.find(a=>a===b);if(c)return`${c}ID`},table:i}}else if(ck(s)){let{relationTo:b}=s,c=a.tableNameMap.get(aT(a.payload.collections[b].config.slug));return{constraints:f,field:x,rawColumn:bO.raw(`"${k}"."${c}_id"`),table:i}}else if(s===cp){let b={};x.relationTo.forEach(c=>{let d=a.tableNameMap.get(aT(a.payload.collections[c].config.slug));b[c]=bO.raw(`"${k}"."${d}_id"`)});let c=cm(a,b);return"postgres"===a.name&&(c=bO`${c}::text`),{constraints:f,field:x,rawColumn:c,table:i}}else throw new cg.L("Not supported");return cR({adapter:a,aliasTable:l,collectionPath:c,constraints:f,fields:d,joins:h,locale:u,parentIsLocalized:!1,pathSegments:e.slice(1),rootTableName:y,selectFields:o,selectLocale:p,tableName:y,value:s})}if(e.length>1&&(2!==e.length||"id"!==e[1])){let i=`${d}${x.name}`,j=a.tableNameMap.get(aT(a.payload.collections[x.relationTo].config.slug)),{newAliasTable:l}=cQ({adapter:a,tableName:j});if(g&&a.payload.config.localization){let{newAliasTable:b}=cQ({adapter:a,tableName:`${v}${a.localesSuffix}`}),c=[bX(b._parentID,a.tables[v].id)];p&&(o._locale=b._locale),"all"!==u&&c.push(bX(b._locale,u));let d=a.tables[`${v}${a.localesSuffix}`];cx({condition:bZ(...c),joins:h,table:d}),h.push({condition:bX(d[i],l.id),table:l})}else h.push({condition:bX(l.id,b?b[i]:a.tables[q][i]),table:l});return cR({adapter:a,aliasTable:l,collectionPath:c,constraintPath:"",constraints:f,fields:a.payload.collections[x.relationTo].config.flattenedFields,joins:h,locale:u,parentIsLocalized:k||x.localized,pathSegments:e.slice(1),selectFields:o,tableName:j,value:s})}break}case"select":if(x.hasMany){let c=a.tableNameMap.get(`${q}_${r}${aT(x.name)}`),d=(b??a.tables[q]).id;if(u&&g&&a.payload.config.localization){let b=[bX(d,a.tables[c].parent),bX(a.tables[c]._locale,u)];"all"!==u&&b.push(bX(a.tables[c]._locale,u)),cx({condition:bZ(...b),joins:h,table:a.tables[c]})}else cx({condition:bX(d,a.tables[c].parent),joins:h,table:a.tables[c]});return{columnName:"value",constraints:f,field:x,table:a.tables[c]}}break;case"tab":if((0,ch.pz)(x))return cR({adapter:a,aliasTable:b,collectionPath:c,columnPrefix:`${d}${x.name}_`,constraintPath:`${w}${x.name}.`,constraints:f,fields:x.flattenedFields,joins:h,locale:u,parentIsLocalized:k||x.localized,pathSegments:e.slice(1),rootTableName:v,selectFields:o,selectLocale:p,tableName:y,tableNameSuffix:`${r}${aT(x.name)}_`,value:s});return cR({adapter:a,aliasTable:b,collectionPath:c,columnPrefix:d,constraintPath:w,constraints:f,fields:x.flattenedFields,joins:h,locale:u,parentIsLocalized:k||x.localized,pathSegments:e.slice(1),rootTableName:v,selectFields:o,selectLocale:p,tableName:y,tableNameSuffix:r,value:s})}let i=a.tables[y];if(g&&a.payload.config.localization){let c=b||a.tables[q];y=`${q}${a.localesSuffix}`,i=a.tables[y];let d=bX(c.id,i._parentID);"all"!==u&&(d=bZ(d,bX(i._locale,u))),p&&(o._locale=i._locale),cx({condition:d,joins:h,table:i}),b=void 0}let m=b||i;return o[`${y}.${d}${x.name}`]=m[`${d}${x.name}`],{columnName:`${d}${x.name}`,constraints:f,field:x,pathSegments:e,table:m}}throw new cg.L(`Cannot find field for path at ${t}`)},cS=({adapter:a,aliasTable:b,fields:c,joins:d,locale:e,parentIsLocalized:f,rawSort:g,selectFields:h,sort:i,tableName:j})=>{let k=[],l=a.tables[j]?.createdAt;i||(i=l?"-createdAt":"-id"),"string"==typeof i&&(i=[i]);let m="-id";for(let o of(l&&(m="-createdAt"),i.includes(m)||i.includes(m.replace("-",""))||i.push(m),i)){let i,l;"-"===o[0]?(i=o.substring(1),l="desc"):(i=o,l="asc");try{let{columnName:m,table:o}=cR({adapter:a,collectionPath:i,fields:c,joins:d,locale:e,parentIsLocalized:f,pathSegments:i.replace(/__/g,".").split("."),selectFields:h,tableName:j,value:i});if(o?.[m]){let a="asc"===l?bT:bU;g&&(a=()=>g),k.push({column:b&&j===bV(o)?b[m]:o[m],order:a}),h[m]=o[m]}}catch(a){}}return k};class cT extends a9{static [aU]="PgUUIDBuilder";constructor(a){super(a,"string","PgUUID")}defaultRandom(){return this.default(bO`gen_random_uuid()`)}build(a){return new cU(a,this.config)}}class cU extends ba{static [aU]="PgUUID";getSQLType(){return"uuid"}}function cV(a){return new cT(a??"")}var cW=c(73304),cX=c(23237);function cY(a){return/^[\w-]+$/.test(a)}function cZ({adapter:a,aliasTable:b,context:c,fields:d,joins:e,locale:f,parentIsLocalized:g,selectFields:h,selectLocale:i,tableName:j,where:k}){let l=[];for(let m of k)if("object"==typeof m){let k=c2({adapter:a,aliasTable:b,context:c,fields:d,joins:e,locale:f,parentIsLocalized:g,selectFields:h,selectLocale:i,tableName:j,where:m});k&&Object.keys(k).length>0&&l.push(k)}return l}function c$(a){return Array.isArray(a)?a:a.split(",")}let c_={number:"number",serial:"number",text:"text",uuid:"text"},c0=({adapter:a,collection:b})=>b.customIDType??c_[a.idType],c1=({adapter:a,columns:b,field:c,isUUID:d,operator:e,relationOrPath:f,val:g})=>{let h,i=e,j=g;if(!(0,ch.Z7)(c))return{operator:i,value:j};if(cr(g))return{operator:i,value:g.value};if(("relationship"===c.type||"upload"===c.type)&&!f.endsWith("relationTo")&&Array.isArray(j)){let b=[];j.forEach(c=>{"uuid"!==a.idType&&"string"==typeof c?b.push(c,parseInt(c)):"string"==typeof c?b.push(c):b.push(c,String(c))}),j=b}if("checkbox"===c.type&&"string"==typeof g&&("true"===g.toLowerCase()&&(j=!0),"false"===g.toLowerCase()&&(j=!1)),["all","in","not_in"].includes(i)&&("string"==typeof j?(j=c$(j),"number"===c.type&&(j=j.map(a=>parseFloat(a)))):"number"==typeof j&&(j=[j]),!Array.isArray(j)))return null;"number"===c.type&&"string"==typeof j&&Number.isNaN(j=Number(g))&&(j=null),d&&"string"==typeof j&&!cj(g)&&(j=null);let k=a=>{if("string"==typeof a){if("null"===a||""===a)return null;let b=new Date(a);return Number.isNaN(b.getTime())?void 0:b.toISOString()}return"number"==typeof a?new Date(a).toISOString():a instanceof Date?a.toISOString():a};if("date"===c.type&&"exists"!==i)if(Array.isArray(j))j=j.map(k).filter(a=>void 0!==a);else{let a=k(g);if(void 0===a)return{operator:i,value:void 0};j=a}if("relationship"===c.type||"upload"===c.type){if("null"===g)j=null;else if(null!==j&&"boolean"!=typeof j){let d;if("string"==typeof c.relationTo)d=c0({adapter:a,collection:a.payload.collections[c.relationTo]});else{if(ck(g)){if("equals"!==i)throw new cg.L(`Only 'equals' operator is supported for polymorphic relationship object notation. Given - ${i}`);return(d=c0({adapter:a,collection:a.payload.collections[g.relationTo]}),cr(g.value))?{operator:i,value:g.value.value}:{operator:i,value:"number"===d?Number(g.value):String(g.value)}}h=b.map(({idType:a,rawColumn:b})=>{let c;if(Array.isArray(g))c=g.map(b=>{let c;if("number"===a){if(Number.isNaN(c=Number(b)))return null}else{if("uuid"===a&&!cj(b))return null;c=String(b)}return c}).filter(Boolean);else if("number"===a){if(Number.isNaN(c=Number(g)))return null}else c=String(g);return{rawColumn:b,value:c}}).filter(Boolean)}Array.isArray(j)?j=j.map(a=>"number"===d?Number(a):"text"===d?String(a):a):("number"===d&&(j=Number(g)),"text"===d&&(j=String(g)))}}if("hasMany"in c&&c.hasMany&&"contains"===i&&(i="equals"),"near"===i&&"point"===c.type&&"string"==typeof j){let[a,b,c,d]=j.split(",");j=[Number(a),Number(b),Number(c),Number(d)]}return"contains"===i&&(j=`%${j}%`),"exists"===i&&(i=(j="true"===g||!0===g)?"exists":"isNull"),{columns:h,operator:i,value:j}};function c2({adapter:a,aliasTable:b,context:c,fields:d,joins:e,locale:f,parentIsLocalized:g,selectFields:h,selectLocale:i,tableName:j,where:k}){let l,m=[];if("object"==typeof k&&Object.keys(k).length>0){for(let o of Object.keys(k))if(o){let p,q=k[o];if("and"===o.toLowerCase()?p=bZ:"or"===o.toLowerCase()&&(p=b$),Array.isArray(q)){let k=cZ({adapter:a,aliasTable:b,context:c,fields:d,joins:e,locale:f,parentIsLocalized:g,selectFields:h,selectLocale:i,tableName:j,where:q});k.length>0&&(l=p(...k))}else{let l=k[o];if("object"==typeof l){for(let p of Object.keys(l))if(cX.L.has(p)){let l=k[o][p],{columnName:q,columns:r,constraints:s,field:t,getNotNullColumnByValue:u,pathSegments:v,rawColumn:w,table:x}=cR({adapter:a,aliasTable:b,collectionPath:o,fields:d,joins:e,locale:f,parentIsLocalized:g,pathSegments:o.replace(/__/g,".").split("."),selectFields:h,selectLocale:i,tableName:j,value:l}),y=w||(b&&j===bV(x)?b[q]:x[q]);if(l===cp){h._selected=y;break}if(s.forEach(({columnName:b,table:c,value:d})=>{"string"==typeof d&&d.indexOf("%")>-1?m.push(a.operators.like(c[b],d)):m.push(a.operators.equals(c[b],d))}),(["json","richText"].includes(t.type)||"blocks"===t.type&&a.blocksAsJSON)&&Array.isArray(v)&&v.length>1){if("postgres"===a.name){let b=a.createJSONQuery({column:w||x[q],operator:p,pathSegments:v,value:l});m.push(bO.raw(b));break}let b=v.slice(1);if(b.unshift(x[q].name),"richText"===t.type){let c=0===e.length?j:e[e.length-1].table[Object.getOwnPropertySymbols(e[e.length-1].table)[0]],d=a.createJSONQuery({operator:p,pathSegments:b,table:c,treatAsArray:["children"],treatRootAsArray:!0,value:l});m.push(bO.raw(d));break}let c=a.convertPathToJSONTraversal(v),d={contains:{operator:"like",wildcard:"%"},equals:{operator:"=",wildcard:""},exists:{operator:!0===l?"is not null":"is null",wildcard:""},in:{operator:"in",wildcard:""},like:{operator:"like",wildcard:"%"},not_equals:{operator:"<>",wildcard:""},not_in:{operator:"not in",wildcard:""},not_like:{operator:"not like",wildcard:"%"}},f=l;f="sqlite"!==a.name||"equals"!==p||isNaN(l)?["in","not_in"].includes(p)&&Array.isArray(l)?`(${l.map(a=>`${a}`).join(",")})`:`'${d[p].wildcard}${l}${d[p].wildcard}'`:l,"exists"===p&&(f="");let g=`${x[q].name}${c}`;"sqlite"===a.name&&"not_like"===p&&(g=`COALESCE(${x[q].name}${c}, '')`);let h=`${g} ${d[p].operator} ${f}`;m.push(bO.raw(h));break}if(u){let a=u(l);if(a)m.push(b7(x[a]));else throw new cW.l([{path:o}]);break}if("like"===p&&("number"===t.type||"relationship"===t.type||"upload"===t.type||"PgUUID"===x[q].columnType)&&(p="equals"),"like"===p){m.push(bZ(...l.split(" ").map(b=>a.operators.like(x[q],`%${b}%`))));break}let z=c1({adapter:a,columns:r,field:t,isUUID:x?.[q]instanceof cU,operator:p,relationOrPath:o,val:l});if(null===z)break;let{columns:A,operator:B,value:C}=z;if(A){if(!A.length)break;let b=b$;if(null===C&&["equals","not_equals"].includes(p)){"equals"===p&&(b=bZ),m.push(b(...A.map(({rawColumn:a})=>"equals"===p?b6(a):b7(a))));break}["not_equals","not_in"].includes(p)&&(b=bZ),m.push(b(...A.map(({rawColumn:b,value:c})=>a.operators[B](b,c))));break}if("not_equals"===B&&null!==C){m.push(b$(b6(y),bY(y,C)));break}if(("relationship"===t.type||"upload"===t.type)&&Array.isArray(C)&&"not_in"===p){m.push(bO`(${b5(x[q],C)} OR
                    ${x[q]}
                    IS
                    NULL)`);break}if("equals"===p&&null===C){m.push(b6(y));break}if("not_equals"===p&&null===C){m.push(b7(y));break}if("point"===t.type&&"postgres"===a.name){switch(p){case"intersects":m.push(bO`ST_Intersects(${x[q]}, ST_GeomFromGeoJSON(${JSON.stringify(C)}))`);break;case"near":{let[a,b,d,e]=C,f=[];"number"!=typeof d||Number.isNaN(d)||f.push(bO`ST_DWithin(ST_Transform(${x[q]}, 3857), ST_Transform(ST_SetSRID(ST_MakePoint(${a}, ${b}), 4326), 3857), ${d})`),"number"!=typeof e||Number.isNaN(e)||f.push(bO`ST_Distance(ST_Transform(${x[q]}, 3857), ST_Transform(ST_SetSRID(ST_MakePoint(${a}, ${b}), 4326), 3857)) >= ${e}`),f.length&&(c.sort=o,c.rawSort=bO`${x[q]} <-> ST_SetSRID(ST_MakePoint(${a}, ${b}), 4326)`,m.push(bZ(...f)));break}case"within":m.push(bO`ST_Within(${x[q]}, ST_GeomFromGeoJSON(${JSON.stringify(C)}))`)}break}let D=[],E=C;"in"===p&&Array.isArray(C)&&C.some(a=>null===a)&&(D.push(b6(y)),E=C.filter(a=>null!==a));let F=a.operators[B](y,E);if(a.limitedBoundParameters&&("in"===p||"not_in"===p)&&"id"===o&&Array.isArray(C)){let a=!1;for(let b of C)if("number"!=typeof b&&null!==b){if("string"==typeof b)if(cY(b))continue;else{a=!0;break}a=!0;break}if(a)throw new cg.L(`Invalid ID value in ${JSON.stringify(C)}`);m.push(bO.raw(`${y.name} ${"in"===p?"IN":"NOT IN"} (${C.map(a=>null===a?"NULL":"number"==typeof a?a:`'${a}'`).join(",")})`));break}D.length&&(D.push(F),F=b$(...D)),m.push(F)}}}}}return m.length>0&&(l=l?bZ(l,...m):bZ(...m)),1!==m.length||l||([l]=m),l}let c3=function({adapter:a,aliasTable:b,fields:c,joins:d=[],locale:e,parentIsLocalized:f,selectLocale:g,sort:h,tableName:i,where:j}){let k,l={id:a.tables[i].id},m={sort:h};j&&Object.keys(j).length>0&&(k=c2({adapter:a,aliasTable:b,context:m,fields:c,joins:d,locale:e,parentIsLocalized:f,selectFields:l,selectLocale:g,tableName:i,where:j}));let o=cS({adapter:a,aliasTable:b,fields:c,joins:d,locale:e,parentIsLocalized:f,rawSort:m.rawSort,selectFields:l,sort:m.sort,tableName:i});return{joins:d,orderBy:o,selectFields:l,where:k}},c4=({adapter:a,db:b,forceRun:c,joins:d,query:e=({query:a})=>a,selectFields:f,tableName:g,where:h})=>{if(c||Object.keys(d).length>0){let c,i=a.tables[g];return"postgres"===a.name&&(c=b.selectDistinct(f).from(i).$dynamic()),"sqlite"===a.name&&(c=b.selectDistinct(f).from(i).$dynamic()),h&&(c=c.where(h)),d.forEach(({type:a,condition:b,table:d})=>{c=c[a??"leftJoin"](d,b)}),e({query:c})}},c5=async(a,b)=>b?.transactionID&&a.sessions[await b.transactionID]?.db||a.drizzle,c6=async function(a){let b=this.payload.collections[a.collection].config,c=a.page||1,d=a.limit?(c-1)*a.limit:void 0,e=this.tableNameMap.get(aT(b.slug)),{joins:f,orderBy:g,selectFields:h,where:i}=c3({adapter:this,fields:b.flattenedFields,locale:a.locale,sort:a.sort??a.field,tableName:e,where:{and:[a.where??{},{[a.field]:{equals:cp}}]}});g.pop();let j=await c5(this,a.req),k=await c4({adapter:this,db:j,forceRun:!0,joins:f,query:({query:b})=>(b=b.orderBy(()=>g.map(({column:a,order:b})=>b(a))),a.limit&&(d&&(b=b.offset(d)),b=b.limit(a.limit)),b),selectFields:{_selected:h._selected,...g.length&&(g[0].column===h._selected?{}:{_order:g[0]?.column})},tableName:e,where:i}),l=(0,aS.p)({config:this.payload.config,fields:b.flattenedFields,includeRelationships:!0,path:a.field})?.field;if(l&&"relationTo"in l&&Array.isArray(l.relationTo))for(let a of k){let b=JSON.parse(a._selected),c=Object.keys(b).find(a=>!!b[a]),d=b[c];d?a._selected={relationTo:c,value:d}:a._selected=null}let m=k.map(b=>({[a.field]:b._selected}));if(a.limit){let b=await this.countDistinct({column:h._selected,db:j,joins:f,tableName:e,where:i}),d=Math.ceil(b/a.limit),g=c>1,k=d>c,l=(c-1)*a.limit+1;return{hasNextPage:k,hasPrevPage:g,limit:a.limit,nextPage:k?c+1:null,page:c,pagingCounter:l,prevPage:g?c-1:null,totalDocs:b,totalPages:d,values:m}}return{hasNextPage:!1,hasPrevPage:!1,limit:0,page:1,pagingCounter:1,totalDocs:m.length,totalPages:1,values:m}};var c7=c(3556);let c8={and:bZ,contains:ce,equals:bX,exists:b7,greater_than:b0,greater_than_equal:b1,in:b4,isNull:b6,less_than:b2,less_than_equal:b3,like:ce,not_equals:bY,not_like:cf,not_in:b5,or:b$},c9=async function(a){let b;try{let c,d,e,f;b=cP(),await this.initializing;let g=this.drizzle.transaction(async a=>{e=a,await new Promise((a,b)=>{d=()=>(a(),g),c=()=>(b(),g),f()})},a||this.transactionOptions).catch(()=>{});await new Promise(a=>f=a),this.sessions[b]={db:e,reject:c,resolve:d}}catch(a){throw this.payload.logger.error({err:a,msg:`Error: cannot begin transaction: ${a.message}`}),Error(`Error: cannot begin transaction: ${a.message}`)}return b},da=async function(a=""){let b=a instanceof Promise?await a:a;if(!this.sessions[b])return;let c=this.sessions[b];delete this.sessions[b];try{await c.resolve()}catch(a){await c.reject()}},db=async function({collection:a,locale:b,req:c,where:d}){let e=this.payload.collections[a].config,f=this.tableNameMap.get(aT(e.slug)),{joins:g,where:h}=c3({adapter:this,fields:e.flattenedFields,locale:b,tableName:f,where:d}),i=await c5(this,c);return{totalDocs:await this.countDistinct({db:i,joins:g,tableName:f,where:h})}};var dc=c(41144);let dd=async function({global:a,locale:b,req:c,where:d}){let e=this.payload.globals.config.find(({slug:b})=>b===a),f=this.tableNameMap.get(`_${aT(e.slug)}${this.versionsSuffix}`),{joins:g,where:h}=c3({adapter:this,fields:(0,dc.p)(this.payload.config,e,!0),locale:b,tableName:f,where:d}),i=await c5(this,c);return{totalDocs:await this.countDistinct({db:i,joins:g,tableName:f,where:h})}};var de=c(35355);let df=async function({collection:a,locale:b,req:c,where:d}){let e=this.payload.collections[a].config,f=this.tableNameMap.get(`_${aT(e.slug)}${this.versionsSuffix}`),{joins:g,where:h}=c3({adapter:this,fields:(0,de.c)(this.payload.config,e,!0),locale:b,tableName:f,where:d}),i=await c5(this,c);return{totalDocs:await this.countDistinct({db:i,joins:g,tableName:f,where:h})}};var dg=c(90639),dh=c(54094);function di(a){return bO`count(${a||bO.raw("*")})`.mapWith(Number)}var dj=c(10631),dk=c(37745),dl=c(25443),dm=c(23042);let dn=({field:a,path:b,tableName:c})=>a.dbName&&b.length>63?`_${c}`:b,dp=(a,b)=>{for(let c in a)if(["AND","OR"].includes(c.toUpperCase())){if(Array.isArray(a[c]))for(let d of a[c])dp(d,b)}else b.push({path:c.split(".").join("_"),ref:a})},dq=(a,b)=>{for(let c in a)if(["AND","OR"].includes(c.toUpperCase())){if(Array.isArray(a[c])){let d="AND"===c.toUpperCase()?bZ:b$,e=[];for(let d of a[c])e.push(dq(d,b));return d(...e)}}else{let d=Object.keys(a[c])[0],e=a[c][d];if("$raw"===d)return bO.raw(e);return"exists"===d&&!1===e&&(d="isNull"),c8[d](bO.raw(`"${b}"."${c.split(".").join("_")}"`),e)}},dr=({_locales:a,adapter:b,collectionSlug:c,currentArgs:d,currentTableName:e,depth:f,draftsEnabled:g,fields:h,forceWithFields:i,joinQuery:j={},joins:k,locale:l,parentIsLocalized:m=!1,path:o,select:p,selectAllOnCurrentLevel:q=!1,selectMode:r,tablePath:s,topLevelArgs:t,topLevelTableName:u,versions:v,withTabledFields:w})=>(h.forEach(h=>{if((0,ch.IC)(h))return;let x=(0,ch.Cd)({field:h,parentIsLocalized:m});switch(f>0&&("upload"===h.type||"relationship"===h.type)&&!h.hasMany&&"string"==typeof h.relationTo&&(x?a.with[`${o}${h.name}`]=!0:d.with[`${o}${h.name}`]=!0),h.type){case"array":{let a=!!q||p?.[h.name];if(p&&("include"===r&&void 0===a||"exclude"===r&&!1===a))break;let c={columns:"object"==typeof a?{id:!0,_order:!0}:{_parentID:!1},orderBy:({_order:a},{asc:b})=>[b(a)],with:{}},k=b.tableNameMap.get(`${e}_${s}${aT(h.name)}`);"object"==typeof a&&(b.tables[k]._locale&&(c.columns._locale=!0),b.tables[k]._uuid&&(c.columns._uuid=!0));let v=`${k}${b.localesSuffix}`;b.tables[v]&&(c.with._locales={columns:"object"==typeof a?{_locale:!0}:{id:!1,_parentID:!1},with:{}});let x=dn({field:h,path:`${o}${h.name}`,tableName:k});d.with[x]=c,dr({_locales:c.with._locales,adapter:b,currentArgs:c,currentTableName:k,depth:f,draftsEnabled:g,fields:h.flattenedFields,forceWithFields:i,joinQuery:j,locale:l,parentIsLocalized:m||h.localized,path:"",select:"object"==typeof a?a:void 0,selectMode:r,tablePath:"",topLevelArgs:t,topLevelTableName:u,withTabledFields:w}),"object"==typeof a&&c.with._locales&&1===Object.keys(c.with._locales).length&&delete c.with._locales;break}case"blocks":{let c=!!q||p?.[h.name];if(p&&("include"===r&&!c||"exclude"===r&&!1===c))break;if(b.blocksAsJSON){if(p||q){let c=`${o}${h.name}`;(x||m)&&a?a.columns[c]=!0:b.tables[e]?.[c]&&(d.columns[c]=!0)}break}(h.blockReferences??h.blocks).forEach(a=>{let d,e="string"==typeof a?b.payload.blocks[a]:a,i=`_blocks_${e.slug}${!e[cu]?"":`_${e[cu]}`}`,k=r;if("include"===r&&!0===c&&(d=!0),"object"==typeof c&&("object"==typeof c[e.slug]?d=c[e.slug]:"include"===r&&void 0===c[e.slug]||"exclude"===r&&!1===c[e.slug]?(d={},k="include"):"include"===r&&c[e.slug]&&(d=!0)),!t[i]){let a={columns:"object"==typeof d?{id:!0,_order:!0,_path:!0}:{_parentID:!1},orderBy:({_order:a},{asc:b})=>[b(a)],with:{}},c=cw(e,b.tableNameMap.get(`${u}_blocks_${aT(e.slug)}`));"object"==typeof d&&(b.tables[c]._locale&&(a.columns._locale=!0),b.tables[c]._uuid&&(a.columns._uuid=!0)),b.tables[`${c}${b.localesSuffix}`]&&(a.with._locales={with:{}},"object"==typeof d&&(a.with._locales.columns={_locale:!0})),t.with[i]=a,dr({_locales:a.with._locales,adapter:b,currentArgs:a,currentTableName:c,depth:f,draftsEnabled:g,fields:e.flattenedFields,forceWithFields:!0===d,joinQuery:j,locale:l,parentIsLocalized:m||h.localized,path:"",select:"object"==typeof d?d:void 0,selectMode:k,tablePath:"",topLevelArgs:t,topLevelTableName:u,withTabledFields:w}),"object"==typeof d&&a.with._locales&&1===Object.keys(a.with._locales.columns).length&&delete a.with._locales}});break}case"group":case"tab":{let x=p?.[h.name];if(!1===x)break;dr({_locales:a,adapter:b,collectionSlug:c,currentArgs:d,currentTableName:e,depth:f,draftsEnabled:g,fields:h.flattenedFields,forceWithFields:i,joinQuery:j,joins:k,locale:l,parentIsLocalized:m||h.localized,path:`${o}${h.name}_`,select:"object"==typeof x?x:void 0,selectAllOnCurrentLevel:q||!0===x||"exclude"===r&&void 0===x,selectMode:r,tablePath:`${s}${aT(h.name)}_`,topLevelArgs:t,topLevelTableName:u,versions:v,withTabledFields:w});break}case"join":{if(!1===j||p&&"include"===r&&!p[h.name]||"exclude"===r&&!1===p[h.name])break;let a=`${o.replaceAll("_",".")}${h.name}`;if(!1===j[a])break;let{count:f=!1,limit:i=h.defaultLimit??10,page:k,sort:q=h.defaultSort,where:s}=j[a]||{},t=i;0!==t&&(t+=1);let u=`${o.replaceAll(".","_")}${h.name}`,w=b.drizzle;if(Array.isArray(h.collection)){let a=null,c=h.on.split(".").join("_");if(Array.isArray(q))throw Error("Not implemented");let g=q;g||(g=h.collection.some(a=>b.payload.collections[a].config.fields.some(a=>"date"===a.type&&"createdAt"===a.name))?"-createdAt":"id");let i=g.startsWith("-")?bU:bT,j=(g=g.replace("-","")).split(".").join("_"),l=[];for(let d of(s&&dp(s,l),h.collection)){let e=b.tableNameMap.get(aT(d)),f=b.tables[e],g=f[j],h={id:b.tables[e].id,parent:bO`${b.tables[e][c]}`.as(c),relationTo:bO`${d}`.as("relationTo"),sortPath:bO`${g||null}`.as("sortPath")},i=[];for(let{path:a,ref:c}of l){let g=b.payload.collections[d].config,i=(0,aS.p)({fields:g.flattenedFields,path:a});if(i&&"select"===i.field.type&&i.field.hasMany){let e=b.tableNameMap.get(`${aT(d)}_${aT(a)}`),g=bC(f);b.schemaName&&(e=`"${b.schemaName}"."${e}"`,g=`"${b.schemaName}"."${g}"`),"postgres"===b.name?h[a]=bO.raw(`(select jsonb_agg(${e}.value) from ${e} where ${e}.parent_id = ${g}.id)`).as(a):h[a]=bO.raw(`(select json_group_array(${e}.value) from ${e} where ${e}.parent_id = ${g}.id)`).as(a);let j=c[a],k=Object.keys(j)[0],l=Object.values(j)[0],m=b.createJSONQuery({column:`"${a}"`,operator:k,pathSegments:[i.field.name],table:g,value:l});c[a]={$raw:m}}else b.tables[e][a]?h[a]=bO`${b.tables[e][a]}`.as(a):"relationTo"!==a&&("deletedAt"===a&&"postgres"===b.name?h[a]=bO`null::timestamp with time zone`.as(a):h[a]=bO`null`.as(a))}let k=w.select(h).from(b.tables[e]);i.length&&(k=k.where(bZ(...i))),a=null===a?k:a.unionAll(k)}let m=`${u}_subquery`,o=bX(bO.raw(`"${e}"."id"`),bO.raw(`"${m}"."${c}"`));if(s&&Object.keys(s).length>0&&(o=bZ(o,dq(s,m))),f&&(d.extras[`${u}_count`]=bO`${w.select({count:di()}).from(bO`${a.as(m)}`).where(o)}`.as(`${u}_count`)),a=a.orderBy(i(bO`"sortPath"`)),k&&0!==t){let b=(k-1)*t;b>0&&(a=a.offset(b))}t&&(a=a.limit(t)),d.extras[u]=bO`${w.select({id:cn(b,{id:bO.raw(`"${m}"."id"`),relationTo:bO.raw(`"${m}"."relationTo"`)})}).from(bO`${a.as(m)}`).where(o)}`.as(u)}else{let a,i=(v||g)&&(0,dm.gD)(b.payload.collections[h.collection].config),j=i?(0,de.c)(b.payload.config,b.payload.collections[h.collection].config,!0):b.payload.collections[h.collection].config.flattenedFields,p=b.tableNameMap.get(i?`_${aT(h.collection)}${b.versionsSuffix}`:aT(h.collection)),r=[],u=v?b.tables[e].parent:b.tables[e].id,x=bO.raw(`"${bV(u.table)}"."${u.name}"`);a=Array.isArray(h.targetField.relationTo)?{[h.on]:{equals:{relationTo:c,value:cq(x)}}}:{[h.on]:{equals:cq(x)}},s&&Object.keys(s).length&&(a={and:[a,s]}),i&&(a=(0,dj.m)((0,dk.D)(a),{latest:{equals:!0}}));let y=`${o.replaceAll(".","_")}${h.name}`,z=`${y}_alias`,{newAliasTable:A}=cQ({adapter:b,tableName:p}),{orderBy:B,selectFields:C,where:D}=c3({adapter:b,aliasTable:A,fields:j,joins:r,locale:l,parentIsLocalized:m,selectLocale:!0,sort:i?(0,dl.t)({collectionConfig:b.payload.collections[h.collection].config,sort:q}):q,tableName:p,where:a});for(let a in C){let b=C[a];b.table&&bV(b.table)===p&&(delete C[a],C[a=a.split(".").pop()]=A[a])}i&&(C.parent=A.parent);let E=w.select(C).from(A).where(D).orderBy(()=>B.map(({column:a,order:b})=>b(a))).$dynamic();if(r.forEach(({type:a,condition:b,table:c})=>{E=E[a??"leftJoin"](c,b)}),k&&0!==t){let a=(k-1)*t-1;a>0&&(E=E.offset(a))}0!==t&&(E=E.limit(t));let F=E.as(z);if(f){let a=w.select(C).from(A).where(D).$dynamic();r.forEach(({type:b,condition:c,table:d})=>{a=a[b??"leftJoin"](d,c)}),d.extras[`${y}_count`]=bO`${w.select({count:di()}).from(bO`${a.as(`${z}_count_subquery`)}`)}`.as(`${z}_count`)}d.extras[y]=bO`${w.select({result:cn(b,{id:bO.raw(`"${z}".${i?"parent_id":"id"}`),...C._locale&&{locale:bO.raw(`"${z}".${C._locale.name}`)}})}).from(bO`${F}`)}`.as(z)}break}case"point":{if("sqlite"===b.name)break;let c=x?a:d;c.columns||(c.columns={}),c.extras||(c.extras={});let f=`${o}${h.name}`;c.columns[f]=!1;let g=!1;p||q?(q||"include"===r&&p[h.name]||"exclude"===r&&void 0===p[h.name])&&(g=!0):g=!0;let i=(0,ch.Cd)({field:h,parentIsLocalized:m})?`${e}${b.localesSuffix}`:e;g&&(c.extras[f]=bO.raw(`ST_AsGeoJSON("${b.tables[i][f].name}")::jsonb`).as(f));break}case"select":if(p&&!q&&("include"===r&&!p[h.name]||"exclude"===r&&!1===p[h.name]))break;if(h.hasMany){let a={columns:{id:!1,order:!1,parent:!1},orderBy:({order:a},{asc:b})=>[b(a)]};d.with[`${o}${h.name}`]=a;break}if(p||q){let c=`${o}${h.name}`;(x||m)&&a?a.columns[c]=!0:b.tables[e]?.[c]&&(d.columns[c]=!0)}break;default:if(i&&(("relationship"===h.type||"upload"===h.type)&&(h.hasMany||Array.isArray(h.relationTo))&&(w.rels=!0),"number"===h.type&&h.hasMany&&(w.numbers=!0),"text"===h.type&&h.hasMany&&(w.texts=!0)),!p&&!q)break;if(q||"include"===r&&p[h.name]||"exclude"===r&&void 0===p[h.name]){let c=`${o}${h.name}`;(x||m)&&a?a.columns[c]=!0:b.tables[e]?.[c]&&(d.columns[c]=!0),!w.rels&&("relationship"===h.type||"upload"===h.type)&&(h.hasMany||Array.isArray(h.relationTo))&&(w.rels=!0),!w.numbers&&"number"===h.type&&h.hasMany&&(w.numbers=!0),!w.texts&&"text"===h.type&&h.hasMany&&(w.texts=!0)}}}),t),ds=({adapter:a,collectionSlug:b,depth:c,draftsEnabled:d,fields:e,joinQuery:f,joins:g=[],locale:h,select:i,tableName:j,versions:k})=>{let l={extras:{},with:{}};i&&(l.columns={id:!0});let m={columns:i?{_locale:!0}:{id:!1,_parentID:!1},extras:{},with:{}},o=i?{}:{numbers:!0,rels:!0,texts:!0};for(let p of(dr({_locales:m,adapter:a,collectionSlug:b,currentArgs:l,currentTableName:j,depth:c,draftsEnabled:d,fields:e,joinQuery:f,joins:g,locale:h,path:"",select:i,selectMode:i?(0,dh.a)(i):void 0,tablePath:"",topLevelArgs:l,topLevelTableName:j,versions:k,withTabledFields:o}),a.tables[`${j}_texts`]&&o.texts&&(l.with._texts={columns:{id:!1,parent:!1},orderBy:({order:a},{asc:b})=>[b(a)]}),a.tables[`${j}_numbers`]&&o.numbers&&(l.with._numbers={columns:{id:!1,parent:!1},orderBy:({order:a},{asc:b})=>[b(a)]}),a.tables[`${j}${a.relationshipsSuffix}`]&&o.rels&&(l.with._rels={columns:{id:!1,parent:!1},orderBy:({order:a},{asc:b})=>[b(a)]}),a.tables[`${j}${a.localesSuffix}`]&&(!i||Object.keys(m.columns).length>1)&&(l.with._locales=m),Object.keys(l)))Object.keys(l[p]).length||delete l[p];return l},dt=a=>{let b={};return Object.entries(a).forEach(([c,d])=>{if(c.startsWith("_blocks_")&&Array.isArray(d)){let e=c.replace("_blocks_",""),f=e.split("_");2===f.length&&Number.isInteger(Number(f[1]))&&(e=f[0]),d.forEach(a=>{"_path"in a&&(a._path in b||(b[a._path]=[]),a.blockType=e,b[a._path].push(a),delete a._path)}),delete a[c]}}),Object.entries(b).reduce((a,[b,c])=>(a[b]=c.sort((a,b)=>"number"==typeof a._order&&"number"==typeof b._order?a._order-b._order:0),a),{}),b},du=a=>{let b={};return Array.isArray(a)&&(b=a.reduce((a,b)=>{let c={...b};return delete c.path,a[b.path]||(a[b.path]=[]),a[b.path].push(b),a},{})),b},dv=({field:a,locale:b,numberRows:c,ref:d,withinArrayOrBlockLocale:e})=>{let f;f=e?c.reduce((a,{locale:b,number:c})=>(b===e&&("string"==typeof c&&(c=Number(c)),a.push(c)),a),[]):c.map(({number:a})=>("string"==typeof a&&(a=Number(a)),a)),b?d[a.name][b]=f:d[a.name]=f},dw=({field:a,locale:b,ref:c,textRows:d,withinArrayOrBlockLocale:e})=>{let f;f=e?d.reduce((a,{locale:b,text:c})=>(b===e&&a.push(c),a),[]):d.map(({text:a})=>a),b?c[a.name][b]=f:c[a.name]=f},dx=({field:a,locale:b,ref:c,relations:d,withinArrayOrBlockLocale:e})=>{let f;if("hasMany"in a&&!1!==a.hasMany){let b=[];d.forEach(c=>{let d=!0;if(e&&(d=c.locale===e),Array.isArray(a.relationTo)){let a=Object.entries(c).find(([a,b])=>null!==b&&!["id","locale","order","parent","path"].includes(a)&&d);if(a){let c=a[0].replace("ID","");b.push({relationTo:c,value:a[1]})}}else{let e=c[`${a.relationTo}ID`];e&&d&&b.push(e)}}),f=b}else{let b=d[0];if(e&&(b=d.find(a=>a.locale===e)),b&&Array.isArray(a.relationTo)){let a=Object.entries(b).find(([a,b])=>null!==b&&!["id","locale","order","parent","path"].includes(a));a&&(f={relationTo:a[0].replace("ID",""),value:a[1]})}}b?c[a.name][b]=f:c[a.name]=f},dy=({adapter:a,blocks:b,config:c,currentTableName:d,dataRef:e,deletions:f,fieldPrefix:g,fields:h,joinQuery:i,numbers:j,parentIsLocalized:k,path:l,relationships:m,table:o,tablePath:p,texts:q,topLevelTableName:r,withinArrayOrBlockLocale:s})=>{let t=l?`${l}.`:l,u=a.payload.config.localization&&a.payload.config.localization.localeCodes,v=h.reduce((e,h)=>{if((0,ch.IC)(h))return e;let l=`${g||""}${h.name}`,v=o[l],w={},x=[];g&&f.push(()=>delete o[l]);let y=(0,ch.Cd)({field:h,parentIsLocalized:k});if("array"===h.type){let g=a.tableNameMap.get(`${d}_${p}${aT(h.name)}`);return Array.isArray(v=o[dn({field:h,path:l,tableName:g})])&&(y?e[h.name]=v.reduce((d,e)=>{if("string"==typeof e._locale){d[e._locale]||(d[e._locale]=[]);let i=e._locale,l={};delete e._locale,e._uuid&&(e.id=e._uuid,delete e._uuid);let o=dy({adapter:a,blocks:b,config:c,currentTableName:g,dataRef:l,deletions:f,fieldPrefix:"",fields:h.flattenedFields,numbers:j,parentIsLocalized:k||h.localized,path:`${t}${h.name}.${e._order-1}`,relationships:m,table:e,tablePath:"",texts:q,topLevelTableName:r,withinArrayOrBlockLocale:i});"_order"in o&&delete o._order,d[i].push(o)}return d},{}):e[h.name]=v.reduce((d,e,i)=>(e._uuid&&(e.id=e._uuid,delete e._uuid),"_order"in e&&delete e._order,(!s||s&&s===e._locale)&&(e._locale&&delete e._locale,d.push(dy({adapter:a,blocks:b,config:c,currentTableName:g,dataRef:e,deletions:f,fieldPrefix:"",fields:h.flattenedFields,numbers:j,parentIsLocalized:k||h.localized,path:`${t}${h.name}.${i}`,relationships:m,table:e,tablePath:"",texts:q,topLevelTableName:r,withinArrayOrBlockLocale:s}))),d),[])),e}if("blocks"===h.type&&!a.blocksAsJSON){let d=`${t}${h.name}`,g=b[d];if(Array.isArray(g))if(y)e[h.name]={},g.forEach(a=>{a._uuid&&(a.id=a._uuid,delete a._uuid),"string"==typeof a._locale&&(e[h.name][a._locale]||(e[h.name][a._locale]=[]),e[h.name][a._locale].push(a),delete a._locale)}),Object.entries(e[h.name]).forEach(([g,i])=>{e[h.name][g]=i.map(e=>{let i=a.payload.blocks[e.blockType]??(h.blockReferences??h.blocks).find(a=>"string"!=typeof a&&a.slug===e.blockType),l=cw(i,a.tableNameMap.get(`${r}_blocks_${aT(i.slug)}`));if(i){let o=dy({adapter:a,blocks:b,config:c,currentTableName:l,dataRef:e,deletions:f,fieldPrefix:"",fields:i.flattenedFields,numbers:j,parentIsLocalized:k||h.localized,path:`${d}.${e._order-1}`,relationships:m,table:e,tablePath:"",texts:q,topLevelTableName:r,withinArrayOrBlockLocale:g});return delete o._order,o}return{}})});else{if(s&&c.localization)for(let a of c.localization.localeCodes){let b=0;for(let c=0;c<g.length;c++){let d=g[c];d._locale===a&&(d._index=b,b++)}}e[h.name]=g.reduce((e,g,i)=>{if(delete g._order,g._uuid&&(g.id=g._uuid,delete g._uuid),"string"!=typeof g.blockType)return e;let l=a.payload.blocks[g.blockType]??(h.blockReferences??h.blocks).find(a=>"string"!=typeof a&&a.slug===g.blockType);if(l){if(!s||s&&s===g._locale){g._locale&&delete g._locale,"number"==typeof g._index&&(i=g._index,delete g._index);let o=cw(l,a.tableNameMap.get(`${r}_blocks_${aT(l.slug)}`));e.push(dy({adapter:a,blocks:b,config:c,currentTableName:o,dataRef:g,deletions:f,fieldPrefix:"",fields:l.flattenedFields,numbers:j,parentIsLocalized:k||h.localized,path:`${d}.${i}`,relationships:m,table:g,tablePath:"",texts:q,topLevelTableName:r,withinArrayOrBlockLocale:s}))}}else e.push({});return e},[])}return e}if(("relationship"===h.type||"upload"===h.type)&&(Array.isArray(h.relationTo)||h.hasMany)){let a=m[`${t}${h.name}`];if(!a)return"hasMany"in h&&h.hasMany&&(y&&c.localization&&c.localization.locales?e[h.name]={[c.localization.defaultLocale]:[]}:e[h.name]=[]),e;if(y){e[h.name]={};let b={};a.forEach(a=>{"string"==typeof a.locale&&(b[a.locale]||(b[a.locale]=[]),b[a.locale].push(a))}),Object.entries(b).forEach(([a,b])=>{dx({field:h,locale:a,ref:e,relations:b})})}else dx({field:h,ref:e,relations:a,withinArrayOrBlockLocale:s});return e}if("join"===h.type){let b,{count:c,limit:d=h.defaultLimit??10}=i?.[`${g.replaceAll("_",".")}${h.name}`]||{};if("string"==typeof v&&(v=JSON.parse(v)),Array.isArray(v))if(y&&a.payload.config.localization)Object.keys(b=v.reduce((a,b)=>("string"==typeof b.locale&&a[b.locale].docs.push(b.id),a),a.payload.config.localization.localeCodes.reduce((a,b)=>(a[b]={docs:[],hasNextPage:!1},a),{}))).forEach(a=>{b[a].hasNextPage=b[a].docs.length>d,b[a].docs=b[a].docs.slice(0,d)});else{let a=0!==d&&v.length>d;b={docs:(a?v.slice(0,d):v).map(({id:a,relationTo:b})=>b?{relationTo:b,value:a}:{id:a}),hasNextPage:a}}if(c){let a=`${l}_count`;if(void 0!==o[a]){let c=Number(o[a]);Number.isNaN(c)&&(c=0),b.totalDocs=c}}return e[h.name]=b,e}if("text"===h.type&&h?.hasMany){let a=q[`${t}${h.name}`];if(!a)return e[h.name]=y&&u?Object.fromEntries(u.map(a=>[a,[]])):[],e;if(y){e[h.name]={};let b={};a.forEach(a=>{"string"==typeof a.locale&&(b[a.locale]||(b[a.locale]=[]),b[a.locale].push(a))}),Object.entries(b).forEach(([a,b])=>{dw({field:h,locale:a,ref:e,textRows:b})})}else dw({field:h,ref:e,textRows:a,withinArrayOrBlockLocale:s});return e}if("number"===h.type&&h.hasMany){let a=j[`${t}${h.name}`];if(!a)return e[h.name]=y&&u?Object.fromEntries(u.map(a=>[a,[]])):[],e;if(y){e[h.name]={};let b={};a.forEach(a=>{"string"==typeof a.locale&&(b[a.locale]||(b[a.locale]=[]),b[a.locale].push(a))}),Object.entries(b).forEach(([a,b])=>{dv({field:h,locale:a,numberRows:b,ref:e})})}else dv({field:h,numberRows:a,ref:e,withinArrayOrBlockLocale:s});return e}if("select"===h.type&&h.hasMany){if(Array.isArray(v))if(y)e[h.name]=v.reduce((a,b)=>("string"==typeof b.locale&&(a[b.locale]||(a[b.locale]=[]),a[b.locale].push(b.value)),a),{});else{let a=v;s&&(a=a.filter(({locale:a})=>a===s)),e[h.name]=a.map(({value:a})=>a)}return e}return y&&Array.isArray(o._locales)?(!o._locales.length&&u&&u.forEach(a=>o._locales.push({_locale:a})),o._locales.forEach(a=>{x.push({ref:w,table:{...o,...a}})})):x.push({ref:e,table:o}),x.forEach(({ref:l,table:o})=>{let u=o[`${g||""}${h.name}`],v=o?._locale,w=u;switch(h.type){case"date":"string"==typeof u&&(w=new Date(u).toISOString());break;case"group":case"tab":{let e=`${g||""}${h.name}_`,u={},v=o._locale,w=y&&v?v:h.name;y&&v&&delete o._locale,l[w]=dy({adapter:a,blocks:b,config:c,currentTableName:d,dataRef:u,deletions:f,fieldPrefix:e,fields:h.flattenedFields,joinQuery:i,numbers:j,parentIsLocalized:k||h.localized,path:`${t}${h.name}`,relationships:m,table:o,tablePath:`${p}${aT(h.name)}_`,texts:q,topLevelTableName:r,withinArrayOrBlockLocale:v||s});return}case"number":"string"==typeof u&&(w=Number.parseFloat(u));break;case"point":"string"==typeof u&&(w=JSON.parse(u));break;case"relationship":case"upload":w&&"string"==typeof h.relationTo&&"number"===a.payload.collections[h.relationTo].customIDType&&(w=Number(w));break;case"text":"string"==typeof u&&(w=String(u))}"string"==typeof v?l[v]=w:e[h.name]=w}),Object.keys(w).length>0&&(e[h.name]=w),e},e);return Array.isArray(o._locales)&&f.push(()=>delete o._locales),v},dz=({adapter:a,config:b,data:c,fields:d,joinQuery:e,parentIsLocalized:f,tableName:g})=>{let h={},i={},j={};"_rels"in c&&(h=du(c._rels),delete c._rels),"_texts"in c&&(i=du(c._texts),delete c._texts),"_numbers"in c&&(j=du(c._numbers),delete c._numbers);let k=dt(c),l=[],m=dy({adapter:a,blocks:k,config:b,currentTableName:g,dataRef:{id:c.id},deletions:l,fieldPrefix:"",fields:d,joinQuery:e,numbers:j,parentIsLocalized:f,path:"",relationships:h,table:c,tablePath:"",texts:i,topLevelTableName:g});return l.forEach(a=>a()),m};function dA(a){return Array.isArray(a)}let dB=({adapter:a,arrayTableName:b,baseTableName:c,blocks:d,blocksToDelete:e,data:f,field:g,locale:h,numbers:i,numbersToDelete:j,parentIsLocalized:k,path:l,relationships:m,relationshipsToDelete:o,selects:p,texts:q,textsToDelete:r,withinArrayOrBlockLocale:s})=>{let t=[],u=a.tables[b]._uuid;return dA(f)&&f.forEach((f,v)=>{let w={arrays:{},arraysToPush:{},locales:{},row:{_order:v+1}};u&&(w.row._uuid=f.id,delete f.id),h&&(w.locales[h]={_locale:h}),(0,ch.Cd)({field:g,parentIsLocalized:k})&&h&&(w.row._locale=h),s&&(w.row._locale=s),dH({adapter:a,arrays:w.arrays,arraysToPush:w.arraysToPush,baseTableName:c,blocks:d,blocksToDelete:e,columnPrefix:"",data:f,fieldPrefix:"",fields:g.flattenedFields,insideArrayOrBlock:!0,locales:w.locales,numbers:i,numbersToDelete:j,parentIsLocalized:k||g.localized,parentTableName:b,path:`${l||""}${g.name}.${v}.`,relationships:m,relationshipsToAppend:[],relationshipsToDelete:o,row:w.row,selects:p,texts:q,textsToDelete:r,withinArrayOrBlockLocale:s}),t.push(w)}),t},dC=({adapter:a,baseTableName:b,blocks:c,blocksToDelete:d,data:e,field:f,locale:g,numbers:h,numbersToDelete:i,parentIsLocalized:j,path:k,relationships:l,relationshipsToDelete:m,selects:o,texts:p,textsToDelete:q,withinArrayOrBlockLocale:r})=>{e.forEach((e,s)=>{if("string"!=typeof e.blockType)return;let t=a.payload.blocks[e.blockType]??(f.blockReferences??f.blocks).find(a=>"string"!=typeof a&&a.slug===e.blockType);if(!t)return;let u=aT(e.blockType),v={arrays:{},arraysToPush:{},locales:{},row:{_order:s+1,_path:`${k}${f.name}`}};(0,ch.Cd)({field:f,parentIsLocalized:j})&&g&&(v.row._locale=g),r&&(v.row._locale=r);let w=cw(t,a.tableNameMap.get(`${b}_blocks_${u}`));c[w]||(c[w]=[]),a.tables[w]._uuid&&(v.row._uuid=e.id,delete e.id),dH({adapter:a,arrays:v.arrays,arraysToPush:v.arraysToPush,baseTableName:b,blocks:c,blocksToDelete:d,columnPrefix:"",data:e,fieldPrefix:"",fields:t.flattenedFields,insideArrayOrBlock:!0,locales:v.locales,numbers:h,numbersToDelete:i,parentIsLocalized:j||f.localized,parentTableName:w,path:`${k||""}${f.name}.${s}.`,relationships:l,relationshipsToAppend:[],relationshipsToDelete:m,row:v.row,selects:o,texts:p,textsToDelete:q,withinArrayOrBlockLocale:r}),c[w].push(v)})},dD=({baseRow:a,data:b,numbers:c})=>{b.forEach((b,d)=>{c.push({...a,number:b,order:d+1})})},dE=({baseRow:a,data:b,field:c,relationships:d})=>{(Array.isArray(b)?b:[b]).forEach((b,e)=>{if(b){let f={...a};"hasMany"in c&&c.hasMany&&(f.order=e+1),Array.isArray(c.relationTo)&&(0,ch.b_)(b)?(f[`${b.relationTo}ID`]=b.value,d.push(f)):"string"==typeof c.relationTo&&(f[`${c.relationTo}ID`]=b,b&&d.push(f))}})},dF=({id:a,data:b,locale:c})=>{let d=[];return dA(b)&&b.forEach((b,e)=>{let f={order:e+1,parent:a,value:b};c&&(f.locale=c),d.push(f)}),d},dG=({baseRow:a,data:b,texts:c})=>{b.forEach((b,d)=>{c.push({...a,order:d+1,text:b})})},dH=({adapter:a,arrays:b,arraysToPush:c,baseTableName:d,blocks:e,blocksToDelete:f,columnPrefix:g,data:h,enableAtomicWrites:i,existingLocales:j,fieldPrefix:k,fields:l,forcedLocale:m,insideArrayOrBlock:o=!1,locales:p,numbers:q,numbersToDelete:r,parentIsLocalized:s,parentTableName:t,path:u,relationships:v,relationshipsToAppend:w,relationshipsToDelete:x,row:y,selects:z,texts:A,textsToDelete:B,withinArrayOrBlockLocale:C})=>{let D=!1;y._uuid&&(h._uuid=y._uuid),l.forEach(l=>{let E,F="",G="";if((0,ch.IC)(l))return;void 0!==h[l.name]&&(D=!0),F=`${g||""}${aT(l.name)}`,G=`${k||""}${l.name}`,E=h[l.name];let H=(0,ch.Cd)({field:l,parentIsLocalized:s});if("array"===l.type){let g=a.tableNameMap.get(`${t}_${F}`);if(H){let i=h[l.name];"object"==typeof i&&null!==i&&Object.entries(i).forEach(([h,i])=>{let j=i,k=!1;if(i&&"object"==typeof i&&"$push"in i&&(j=i.$push,k=!0,Array.isArray(j)||(j=[j])),Array.isArray(j)){let i=dB({adapter:a,arrayTableName:g,baseTableName:d,blocks:e,blocksToDelete:f,data:j,field:l,locale:h,numbers:q,numbersToDelete:r,parentIsLocalized:s||l.localized,path:u,relationships:v,relationshipsToDelete:x,selects:z,texts:A,textsToDelete:B,withinArrayOrBlockLocale:h});k?(c[g]||(c[g]=[]),c[g]=c[g].concat(i)):(b[g]||(b[g]=[]),b[g]=b[g].concat(i))}})}else{let i=h[l.name],j=!1;"object"==typeof i&&"$push"in i&&(i=Array.isArray(i.$push)?i.$push:[i.$push],j=!0);let k=dB({adapter:a,arrayTableName:g,baseTableName:d,blocks:e,blocksToDelete:f,data:i,field:l,numbers:q,numbersToDelete:r,parentIsLocalized:s||l.localized,path:u,relationships:v,relationshipsToDelete:x,selects:z,texts:A,textsToDelete:B,withinArrayOrBlockLocale:C});j?(c[g]||(c[g]=[]),c[g]=c[g].concat(k)):(b[g]||(b[g]=[]),b[g]=b[g].concat(k))}return}if("blocks"===l.type&&!a.blocksAsJSON){(l.blockReferences??l.blocks).forEach(b=>{let c="string"==typeof b?a.payload.config.blocks.find(a=>a.slug===b):b;f.add(cw(c,a.tableNameMap.get(`${d}_blocks_${aT(c.slug)}`)))}),H?"object"==typeof h[l.name]&&null!==h[l.name]&&Object.entries(h[l.name]).forEach(([b,c])=>{Array.isArray(c)&&dC({adapter:a,baseTableName:d,blocks:e,blocksToDelete:f,data:c,field:l,locale:b,numbers:q,numbersToDelete:r,parentIsLocalized:s||l.localized,path:u,relationships:v,relationshipsToDelete:x,selects:z,texts:A,textsToDelete:B,withinArrayOrBlockLocale:b})}):dA(E)&&dC({adapter:a,baseTableName:d,blocks:e,blocksToDelete:f,data:E,field:l,numbers:q,numbersToDelete:r,parentIsLocalized:s||l.localized,path:u,relationships:v,relationshipsToDelete:x,selects:z,texts:A,textsToDelete:B,withinArrayOrBlockLocale:C});return}if("group"===l.type||"tab"===l.type){if("object"==typeof h[l.name]&&null!==h[l.name])if(H)Object.entries(h[l.name]).forEach(([g,k])=>{k._uuid=h.id||h._uuid,dH({adapter:a,arrays:b,arraysToPush:c,baseTableName:d,blocks:e,blocksToDelete:f,columnPrefix:`${F}_`,data:k,enableAtomicWrites:i,existingLocales:j,fieldPrefix:`${G}_`,fields:l.flattenedFields,forcedLocale:g,insideArrayOrBlock:o,locales:p,numbers:q,numbersToDelete:r,parentIsLocalized:s||l.localized,parentTableName:t,path:`${u||""}${l.name}.`,relationships:v,relationshipsToAppend:w,relationshipsToDelete:x,row:y,selects:z,texts:A,textsToDelete:B,withinArrayOrBlockLocale:g})});else{let g=h[l.name];g._uuid=h.id||h._uuid,dH({adapter:a,arrays:b,arraysToPush:c,baseTableName:d,blocks:e,blocksToDelete:f,columnPrefix:`${F}_`,data:g,existingLocales:j,fieldPrefix:`${G}_`,fields:l.flattenedFields,insideArrayOrBlock:o,locales:p,numbers:q,numbersToDelete:r,parentIsLocalized:s||l.localized,parentTableName:t,path:`${u||""}${l.name}.`,relationships:v,relationshipsToAppend:w,relationshipsToDelete:x,row:y,selects:z,texts:A,textsToDelete:B,withinArrayOrBlockLocale:C})}return}if("relationship"===l.type||"upload"===l.type){let a=`${u||""}${l.name}`;if(E&&"object"==typeof E&&"hasMany"in l&&l.hasMany&&("$push"in E||l.localized&&Object.values(E).some(a=>a&&"object"==typeof a&&"$push"in a))){if(l.localized){let b=!1;Object.entries(E).forEach(([c,d])=>{if(d&&"object"==typeof d&&"$push"in d){b=!0;let e=d.$push;(Array.isArray(e)?e:[e]).forEach(b=>{let d={locale:c,path:a,value:b};Array.isArray(l.relationTo)&&b&&"object"==typeof b&&"relationTo"in b?(d.relationTo=b.relationTo,d.value=b.value):"string"==typeof l.relationTo&&(d.relationTo=l.relationTo,d.value=b),w.push(d)})}})}else(Array.isArray(E.$push)?E.$push:[E.$push]).forEach(b=>{let c={locale:H?C:void 0,path:a,value:b};Array.isArray(l.relationTo)&&b&&"object"==typeof b&&"relationTo"in b&&"value"in b?(c.relationTo=b.relationTo,c.value=b.value):"string"==typeof l.relationTo&&(c.relationTo=l.relationTo,c.value=b),w.push(c)});return}if(E&&"object"==typeof E&&"hasMany"in l&&l.hasMany&&("$remove"in E||l.localized&&Object.values(E).some(a=>a&&"object"==typeof a&&"$remove"in a))){if(l.localized){let b=!1;Object.entries(E).forEach(([c,d])=>{if(d&&"object"==typeof d&&"$remove"in d){b=!0;let e=d.$remove;(Array.isArray(e)?e:[e]).forEach(b=>{let d={itemToRemove:b,locale:c,path:a};"string"==typeof l.relationTo&&(d.relationTo=l.relationTo),x.push(d)})}})}else(Array.isArray(E.$remove)?E.$remove:[E.$remove]).forEach(b=>{let c={itemToRemove:b,locale:H?C:void 0,path:a};"string"==typeof l.relationTo&&(c.relationTo=l.relationTo),x.push(c)});return}if(H&&(Array.isArray(l.relationTo)||"hasMany"in l&&l.hasMany)){"object"==typeof E&&Object.entries(E).forEach(([b,c])=>{if(null===c)return void x.push({locale:b,path:a});dE({baseRow:{locale:b,path:a},data:c,field:l,relationships:v})});return}if(Array.isArray(l.relationTo)||"hasMany"in l&&l.hasMany)return null===E||Array.isArray(E)&&0===E.length?void x.push({path:a}):void dE({baseRow:{locale:C,path:a},data:E,field:l,relationships:v});!H&&E&&"object"==typeof E&&"id"in E&&E?.id?E=E.id:H&&"object"==typeof E&&Object.entries(E).forEach(([a,b])=>{"object"==typeof b?b&&"id"in b&&b?.id&&(E[a]=b.id):E[a]=b})}if("text"===l.type&&l.hasMany){let a=`${u||""}${l.name}`;if(H)"object"==typeof E&&Object.entries(E).forEach(([b,c])=>{if(Array.isArray(c)){if(!c.length)return void B.push({locale:b,path:a});dG({baseRow:{locale:b,path:a},data:c,texts:A})}});else if(Array.isArray(E)){if(!E.length)return void B.push({locale:C,path:a});dG({baseRow:{locale:C,path:a},data:E,texts:A})}return}if("number"===l.type&&l.hasMany){let a=`${u||""}${l.name}`;if(H)"object"==typeof E&&Object.entries(E).forEach(([b,c])=>{if(Array.isArray(c)){if(!c.length)return void r.push({locale:b,path:a});dD({baseRow:{locale:b,path:a},data:c,numbers:q})}});else if(Array.isArray(E)){if(!E.length)return void r.push({locale:C,path:a});dD({baseRow:{locale:C,path:a},data:E,numbers:q})}return}if("select"===l.type&&l.hasMany){let b=a.tableNameMap.get(`${t}_${F}`);if(z[b]||(z[b]=[]),H)"object"==typeof h[l.name]&&null!==h[l.name]&&Object.entries(h[l.name]).forEach(([a,c])=>{if(Array.isArray(c)){let d=dF({id:o?h._uuid||h.id:void 0,data:c,locale:a});z[b]=z[b].concat(d)}});else if(Array.isArray(h[l.name])){let a=dF({id:o?h._uuid||h.id:void 0,data:h[l.name],locale:C});z[b]=z[b].concat(a)}return}let I=[];if(H)"object"==typeof E&&null!==E&&Object.entries(E).forEach(([a,b])=>{p[a]||(p[a]={}),I.push({localeKey:a,ref:p,value:b})});else{let a=y;m&&(p[m]||(p[m]={}),a=p[m]),I.push({ref:a,value:E})}I.forEach(({localeKey:b,ref:c,value:d})=>{let e=d;if("date"===l.type)if("updatedAt"===G&&null===e)return;else"updatedAt"===G&&void 0===e?e=new Date().toISOString():"number"!=typeof d||Number.isNaN(d)?d instanceof Date&&(e=d.toISOString()):e=new Date(d).toISOString();if(void 0!==d&&(d&&"point"===l.type&&"sqlite"!==a.name&&(e=bO`ST_GeomFromGeoJSON(${JSON.stringify(d)})`),"text"===l.type&&d&&"string"!=typeof d&&(e=JSON.stringify(d)),"number"===l.type&&d&&"object"==typeof d&&"$inc"in d&&"number"==typeof d.$inc)){if(!i)throw new cg.L("The passed data must not contain any nested fields for atomic writes");e=bO.raw(`${F} + ${d.$inc}`)}void 0!==e&&(b?c[b][G]=e:c[G]=e)})}),D||Object.keys(h).forEach(D=>{if(D.includes(".")){let E=D.indexOf("."),F=D.substring(0,E),G=D.substring(E+1);h[F]||(h[F]={}),h[F][G]=h[D],delete h[D],dH({adapter:a,arrays:b,arraysToPush:c,baseTableName:d,blocks:e,blocksToDelete:f,columnPrefix:g,data:h,enableAtomicWrites:i,existingLocales:j,fieldPrefix:k,fields:l,forcedLocale:m,insideArrayOrBlock:o,locales:p,numbers:q,numbersToDelete:r,parentIsLocalized:s,parentTableName:t,path:u,relationships:v,relationshipsToAppend:w,relationshipsToDelete:x,row:y,selects:z,texts:A,textsToDelete:B,withinArrayOrBlockLocale:C})}})},dI=({adapter:a,data:b,enableAtomicWrites:c,fields:d,parentIsLocalized:e,path:f="",tableName:g})=>{let h={arrays:{},arraysToPush:{},blocks:{},blocksToDelete:new Set,locales:{},numbers:[],numbersToDelete:[],relationships:[],relationshipsToAppend:[],relationshipsToDelete:[],row:{},selects:{},texts:[],textsToDelete:[]};return dH({adapter:a,arrays:h.arrays,arraysToPush:h.arraysToPush,baseTableName:g,blocks:h.blocks,blocksToDelete:h.blocksToDelete,columnPrefix:"",data:b,enableAtomicWrites:c,fieldPrefix:"",fields:d,locales:h.locales,numbers:h.numbers,numbersToDelete:h.numbersToDelete,parentIsLocalized:e,parentTableName:g,path:f,relationships:h.relationships,relationshipsToAppend:h.relationshipsToAppend,relationshipsToDelete:h.relationshipsToDelete,row:h.row,selects:h.selects,texts:h.texts,textsToDelete:h.textsToDelete}),h},dJ=async({adapter:a,db:b,parentID:c,tableName:d})=>{let e=[bX(a.tables[d]._parentID,c)];await a.deleteWhere({db:b,tableName:d,where:bZ(...e)})},dK=async({adapter:a,db:b,localeColumnName:c="_locale",parentColumnName:d="_parentID",parentID:e,pathColumnName:f="_path",rows:g,tableName:h})=>{let i=new Set,j=new Set,k=a.tables[h];if(g.forEach(a=>{let b=a[f],d=a[c];"string"==typeof b&&("string"==typeof d?i.add(b):j.add(b))}),i.size>0){let c=[bX(k[d],e)];f&&c.push(b4(k[f],Array.from(i))),await a.deleteWhere({db:b,tableName:h,where:bZ(...c)})}if(j.size>0){let c=[bX(k[d],e)];f&&c.push(b4(k[f],Array.from(j))),await a.deleteWhere({db:b,tableName:h,where:bZ(...c)})}},dL=async({adapter:a,arrays:b,db:c,parentRows:d,uuidMap:e={}})=>{let f={};for(let[g,h]of(b.forEach((a,b)=>{a&&0!==Object.keys(a).length&&Object.entries(a).forEach(([a,c])=>{f[a]||(f[a]={arrays:[],locales:[],rows:[]});let e=d[b].id;c.forEach(b=>{Object.keys(b.arrays).length>0&&f[a].arrays.push(b.arrays),b.row._parentID=e,f[a].rows.push(b.row),Object.entries(b.locales).forEach(([c,d])=>{d._parentID=b.row.id,d._locale=c,f[a].locales.push(d),b.row.id||(d._getParentID=a=>{let{id:c}=a.find(a=>a._uuid===b.row._uuid);return c})})})})}),Object.entries(f))){let b;h.rows.length>0&&(b=await a.insert({db:c,tableName:g,values:h.rows})).forEach(a=>{"string"==typeof a._uuid&&("string"==typeof a.id||"number"==typeof a.id)&&(e[a._uuid]=a.id)}),a.tables[`${g}${a.localesSuffix}`]&&h.locales.length>0&&(h.locales[0]._parentID||(h.locales=h.locales.map(a=>("function"==typeof a._getParentID&&(a._parentID=a._getParentID(b),delete a._getParentID),a))),await a.insert({db:c,tableName:`${g}${a.localesSuffix}`,values:h.locales})),h.arrays.length>0&&await dL({adapter:a,arrays:h.arrays,db:c,parentRows:b})}},dM=({data:a,fields:b})=>{let c=!1;for(let d in a){let e=a[d],f=b.find(a=>a.name===d);if(f){if(c=!0,"blocks"===f.type||("text"===f.type||"relationship"===f.type||"upload"===f.type||"select"===f.type||"number"===f.type)&&f.hasMany||("relationship"===f.type||"upload"===f.type)&&Array.isArray(f.relationTo)||f.localized)return!1;if("array"===f.type){if("object"==typeof e&&"$push"in e&&e.$push)return dM({data:Array.isArray(e.$push)?e.$push?.[0]:e.$push,fields:f.flattenedFields});return!1}if(("relationship"===f.type||"upload"===f.type)&&f.hasMany&&"object"==typeof e&&("$push"in e||"$remove"in e)||("group"===f.type||"tab"===f.type)&&e&&"object"==typeof e&&!dM({data:e,fields:f.flattenedFields}))return!1}}if(!c){for(let c in a)if(c.includes(".")){let d=c.indexOf(".");return dM({data:{[c.substring(0,d)]:{[c.substring(d+1)]:a[c]}},fields:b})}}return!0},dN=async({id:a,adapter:b,data:c,db:d,fields:e,ignoreResult:f,joinQuery:g,operation:h,path:i="",req:j,select:k,tableName:l,upsertTarget:m,where:o})=>{"create"!==h||c.createdAt||(c.createdAt=new Date().toISOString());let p={id:a};if(a&&dM({data:c,fields:e})){let g=dI({adapter:b,data:c,enableAtomicWrites:!0,fields:e,tableName:l}),{row:h}=g,{arraysToPush:i}=g,j=d;i&&Object.keys(i)?.length&&await dL({adapter:b,arrays:[i],db:d,parentRows:[p],uuidMap:{}}),(void 0===h.updatedAt||null===h.updatedAt)&&delete h.updatedAt;let m=h&&Object.keys(h)?.length;if(f)return m&&await j.update(b.tables[l]).set(h).where(bX(b.tables[l].id,a)),"idOnly"===f?{id:a}:null;let o=ds({adapter:b,depth:0,fields:e,joinQuery:!1,select:k,tableName:l}),q=Object.keys(o).length,r=Object.keys(o.columns||{}).length>0;if(!m){o.where=bX(b.tables[l].id,p.id);let a=await d.query[l].findFirst(o);return dz({adapter:b,config:b.payload.config,data:a,fields:e,joinQuery:!1,tableName:l})}if(0===q||r){let c={};if(r)for(let[a,d]of Object.entries(o.columns))d&&(c[a]=b.tables[l][a]);let d=await j.update(b.tables[l]).set(h).where(bX(b.tables[l].id,a)).returning(Object.keys(c).length?c:void 0);return dz({adapter:b,config:b.payload.config,data:d[0],fields:e,joinQuery:!1,tableName:l})}await j.update(b.tables[l]).set(h).where(bX(b.tables[l].id,a)),o.where=bX(b.tables[l].id,p.id);let s=await d.query[l].findFirst(o);return dz({adapter:b,config:b.payload.config,data:s,fields:e,joinQuery:!1,tableName:l})}let q=dI({adapter:b,data:c,enableAtomicWrites:!1,fields:e,path:i,tableName:l});try{if("update"===h){let c=m||b.tables[l].id,e=Object.keys(q.row);e.length>0&&!e.every(a=>"updatedAt"===a||"createdAt"===a)?a?(q.row.id=a,[p]=await b.insert({db:d,onConflictDoUpdate:{set:q.row,target:c},tableName:l,values:q.row})):[p]=await b.insert({db:d,onConflictDoUpdate:{set:q.row,target:c,where:o},tableName:l,values:q.row}):p={id:a}}else b.allowIDOnCreate&&c.id&&(q.row.id=c.id),[p]=await b.insert({db:d,tableName:l,values:q.row});let e=[],f=[],g=[],i=[],j={},k={};if(Object.keys(q.locales).length>0&&Object.entries(q.locales).forEach(([a,b])=>{b._parentID=p.id,b._locale=a,e.push(b)}),q.relationships.length>0&&q.relationships.forEach(a=>{a.parent=p.id,f.push(a)}),q.texts.length>0&&q.texts.forEach(a=>{a.parent=p.id,g.push(a)}),q.numbers.length>0&&q.numbers.forEach(a=>{a.parent=p.id,i.push(a)}),Object.keys(q.selects).length>0&&Object.entries(q.selects).forEach(([a,b])=>{k[a]=[],b.forEach(b=>{void 0===b.parent&&(b.parent=p.id),k[a].push(b)})}),Object.keys(q.blocks).forEach(a=>{q.blocks[a].forEach(b=>{b.row._parentID=p.id,j[a]||(j[a]=[]),b.row.uuid&&delete b.row.uuid,j[a].push(b)})}),e.length>0){let a=`${l}${b.localesSuffix}`,c=b.tables[`${l}${b.localesSuffix}`];"update"===h&&await b.deleteWhere({db:d,tableName:a,where:bX(c._parentID,p.id)}),await b.insert({db:d,tableName:a,values:e})}let r=`${l}${b.relationshipsSuffix}`;if("update"===h){let a=q.relationshipsToDelete.filter(a=>!("itemToRemove"in a));await dK({adapter:b,db:d,localeColumnName:"locale",parentColumnName:"parent",parentID:p.id,pathColumnName:"path",rows:[...f,...a],tableName:r})}if(f.length>0&&await b.insert({db:d,tableName:r,values:f}),q.relationshipsToAppend.length>0){let c=q.relationshipsToAppend.map(c=>{let d={parent:a||p.id,path:c.path},e=b.rawTables[r];return c.locale&&e&&e.columns.locale&&(d.locale=c.locale),c.relationTo&&(d[`${c.relationTo}ID`]=c.value),d});if(c.length>0){let e=b.tables[r];if(e){if(0===c.length)return;let f=c.map(a=>{let b=[bX(e.parent,a.parent),bX(e.path,a.path)];for(let[c,d]of(void 0!==a.locale&&e.locale?b.push(bX(e.locale,a.locale)):e.locale&&b.push(b6(e.locale)),Object.entries(a)))if(c.endsWith("ID")&&null!=d){let a=e[c];a&&"object"==typeof a&&b.push(bX(a,d))}return bZ(...b)}),g=[],h=0;f.length>0&&(g=await d.select().from(e).where(b$(...f)));let i=a||p.id,j=await d.select({maxOrder:e.order}).from(e).where(bX(e.parent,i)).orderBy(bU(e.order)).limit(1);j.length>0&&j[0].maxOrder&&(h=j[0].maxOrder),c.forEach((a,b)=>{a.order=h+b+1});let k=c.filter(a=>!g.some(b=>{let c=b.parent===a.parent&&b.path===a.path;for(let d of(void 0!==a.locale&&(c=c&&b.locale===a.locale),Object.keys(a)))d.endsWith("ID")&&(c=c&&b[d]===a[d]);return c}));k.length>0&&await b.insert({db:d,tableName:r,values:k})}}}if(q.relationshipsToDelete.some(a=>"itemToRemove"in a)){let c=b.tables[r];if(c){for(let e of q.relationshipsToDelete)if("itemToRemove"in e&&e.itemToRemove){let f=e.itemToRemove,g=a||p.id,h=[bX(c.parent,g),bX(c.path,e.path)];if(b.rawTables[r]?.columns.locale&&(e.locale?h.push(bX(c.locale,e.locale)):h.push(b6(c.locale))),"object"==typeof f&&"relationTo"in f){let a=`${f.relationTo}ID`;c[a]&&h.push(bX(c[a],f.value))}else if(e.relationTo){let a=`${e.relationTo}ID`;c[a]&&h.push(bX(c[a],f))}await b.deleteWhere({db:d,tableName:r,where:bZ(...h)})}}}let s=`${l}_texts`;"update"===h&&await dK({adapter:b,db:d,localeColumnName:"locale",parentColumnName:"parent",parentID:p.id,pathColumnName:"path",rows:[...g,...q.textsToDelete],tableName:s}),g.length>0&&await b.insert({db:d,tableName:s,values:g});let t=`${l}_numbers`;"update"===h&&await dK({adapter:b,db:d,localeColumnName:"locale",parentColumnName:"parent",parentID:p.id,pathColumnName:"path",rows:[...i,...q.numbersToDelete],tableName:t}),i.length>0&&await b.insert({db:d,tableName:t,values:i});let u={};if("update"===h)for(let a of q.blocksToDelete){let c=b.tables[a];await b.deleteWhere({db:d,tableName:a,where:bX(c._parentID,p.id)})}let v={};for(let[a,c]of Object.entries(j)){u[a]=await b.insert({db:d,tableName:a,values:c.map(({row:a})=>a)}),u[a].forEach((a,b)=>{c[b].row=a,"string"==typeof a._uuid&&("string"==typeof a.id||"number"==typeof a.id)&&(v[a._uuid]=a.id)});let e=[],f=c.reduce((a,b,c)=>(Object.entries(b.locales).length>0&&Object.entries(b.locales).forEach(([d,f])=>{Object.keys(f).length>0&&(f._parentID=b.row.id,f._locale=d,a.push(f),e.push(c))}),a),[]);f.length>0&&await b.insert({db:d,tableName:`${a}${b.localesSuffix}`,values:f}),await dL({adapter:b,arrays:c.map(({arrays:a})=>a),db:d,parentRows:u[a],uuidMap:v})}if("update"===h)for(let a of Object.keys(q.arrays))await dJ({adapter:b,db:d,parentID:p.id,tableName:a});for(let[a,c]of(await dL({adapter:b,arrays:[q.arrays,q.arraysToPush],db:d,parentRows:[p,p],uuidMap:v}),Object.entries(k))){let e=b.tables[a];"update"===h&&await b.deleteWhere({db:d,tableName:a,where:bX(e.parent,p.id)}),Object.keys(v).length>0&&c.forEach(a=>{a.parent in v&&(a.parent=v[a.parent])}),c.length&&await b.insert({db:d,tableName:a,values:c})}}catch(d){let c=d;if("object"==typeof d&&"cause"in d&&(c=d.cause),"23505"===c.code||"SQLITE_CONSTRAINT_UNIQUE"===c.code){let d=null;if("23505"===c.code){if(b.fieldConstraints?.[l]?.[c.constraint])d=b.fieldConstraints[l]?.[c.constraint];else{let a=`${l}_`;if(c.constraint.includes(a)){let e=c.constraint.replace(a,"");e&&b.fieldConstraints[l]?.[e]&&(d=b.fieldConstraints[l][e])}}if(!d){let a=c.detail,b=/Key \(([^)]+)\)=\(([^)]+)\)/,e=a.match(b);e&&e[1]&&(d=e[1])}}else if("SQLITE_CONSTRAINT_UNIQUE"===c.code){let a=/UNIQUE constraint failed: ([^.]+)\.([^.]+)/,e=c.message.match(a);e&&e[2]&&(b.fieldConstraints[l]&&(d=b.fieldConstraints[l][`${e[2]}_idx`]),d||(d=e[2]))}throw new dg.y({id:a,errors:[{message:j?.t?j.t("error:valueMustBeUnique"):"Value must be unique",path:d}],req:j},j?.t)}throw c}if("idOnly"===f)return{id:p.id};if(f)return c;let r=ds({adapter:b,depth:0,fields:e,joinQuery:!1,select:k,tableName:l});r.where=bX(b.tables[l].id,p.id);let s=await d.query[l].findFirst(r);return dz({adapter:b,config:b.payload.config,data:s,fields:e,joinQuery:!1,tableName:l})},dO=async function({collection:a,data:b,req:c,returning:d,select:e}){let f=this.payload.collections[a].config,g=this.tableNameMap.get(aT(f.slug)),h=await c5(this,c),i=await dN({adapter:this,data:b,db:h,fields:f.flattenedFields,ignoreResult:!1===d,operation:"create",req:c,select:e,tableName:g});return!1===d?null:i};async function dP({slug:a,data:b,req:c,returning:d}){let e=this.payload.globals.config.find(b=>b.slug===a),f=this.tableNameMap.get(aT(e.slug));b.createdAt=new Date().toISOString();let g=await c5(this,c),h=await dN({adapter:this,data:b,db:g,fields:e.flattenedFields,ignoreResult:!1===d,operation:"create",req:c,tableName:f});return!1===d?null:(h.globalType=a,h)}async function dQ({autosave:a,createdAt:b,globalSlug:c,publishedLocale:d,req:e,returning:f,select:g,snapshot:h,updatedAt:i,versionData:j}){let k=this.payload.globals.config.find(({slug:a})=>a===c),l=this.tableNameMap.get(`_${aT(k.slug)}${this.versionsSuffix}`),m=await c5(this,e),o=await dN({adapter:this,data:{autosave:a,createdAt:b,latest:!0,publishedLocale:d,snapshot:h,updatedAt:i,version:j},db:m,fields:(0,dc.p)(this.payload.config,k,!0),ignoreResult:!1===f&&"idOnly",operation:"create",req:e,select:g,tableName:l}),p=this.tables[l];return((0,dm.gD)(k)&&await this.execute({db:m,sql:bO`
          UPDATE ${p}
          SET latest = false
          WHERE ${p.id} != ${o.id};
        `}),!1===f)?null:o}async function dR({autosave:a,collectionSlug:b,createdAt:c,parent:d,publishedLocale:e,req:f,returning:g,select:h,snapshot:i,updatedAt:j,versionData:k}){let l=this.payload.collections[b].config,m=aT(l.slug),o=this.tableNameMap.get(`_${m}${this.versionsSuffix}`),p={...k};p.id&&delete p.id;let q={autosave:a,createdAt:c,latest:!0,parent:d,publishedLocale:e,snapshot:i,updatedAt:j,version:p},r=await c5(this,f),s=await dN({adapter:this,data:q,db:r,fields:(0,de.c)(this.payload.config,l,!0),operation:"create",req:f,select:h,tableName:o}),t=this.tables[o];return((0,dm.gD)(l)&&await this.execute({db:r,sql:bO`
        UPDATE ${t}
        SET latest = false
        WHERE ${t.id} != ${s.id}
          AND ${t.parent} = ${d}
          AND ${t.updatedAt} < ${s.updatedAt}
      `}),!1===g)?null:s}let dS=async function({adapter:a,collectionSlug:b,draftsEnabled:c,fields:d,joins:e,limit:f,locale:g,page:h=1,pagination:i,req:j,select:k,skip:l,sort:m,tableName:o,versions:p,where:q}){let r,s,t,u,v,w,x=f,y=l||(h-1)*x;0===x&&(i=!1,x=void 0);let{joins:z,orderBy:A,selectFields:B,where:C}=c3({adapter:a,fields:d,locale:g,sort:m,tableName:o,where:q}),D={},E=ds({adapter:a,collectionSlug:b,depth:0,draftsEnabled:c,fields:d,joinQuery:e,joins:z,locale:g,select:k,tableName:o,versions:p});if(A)for(let a in B){let b=B[a];b&&!b.primary&&(A.some(a=>a.column.name===b.name&&bV(a.column.table)===bV(b.table))||delete B[a])}let F=await c5(a,j),G=await c4({adapter:a,db:F,joins:z,query:({query:a})=>(A&&(a=a.orderBy(()=>A.map(({column:a,order:b})=>b(a)))),a.offset(y).limit(x)),selectFields:B,tableName:o,where:C});if(G)if(0===G.length)return{docs:[],hasNextPage:!1,hasPrevPage:!1,limit:x,nextPage:null,page:1,pagingCounter:0,prevPage:null,totalDocs:0,totalPages:0};else G.forEach(({id:a},b)=>{D[a]=b}),w=Object.keys(D),E.where=b4(a.tables[o].id,w);else E.limit=x,E.offset=y,E.orderBy=()=>A.map(({column:a,order:b})=>b(a)),C&&(E.where=C);let H=F.query[o].findMany(E);!1!==i&&(!w||w?.length<=x)&&(r=await a.countDistinct({db:F,joins:z,tableName:o,where:C}),s="number"==typeof x&&0!==x?Math.ceil(r/x):1,t=h>1,u=s>h,v=(h-1)*x+1);let I=await H;return Object.keys(D).length>0&&I.sort((a,b)=>D[a.id]-D[b.id]),!1!==i&&r||(r=I.length,s=1,v=1,t=!1,u=!1),{docs:I.map(b=>dz({adapter:a,config:a.payload.config,data:b,fields:d,joinQuery:e,tableName:o})),hasNextPage:u,hasPrevPage:t,limit:f,nextPage:u?h+1:null,page:h,pagingCounter:v,prevPage:t?h-1:null,totalDocs:r,totalPages:s}},dT=async function({collection:a,req:b,where:c}){let d=this.payload.collections[a].config,e=this.tableNameMap.get(aT(d.slug)),f=this.tables[e],{joins:g,where:h}=c3({adapter:this,fields:d.flattenedFields,locale:b?.locale,tableName:e,where:c}),i=h;if(g?.length){let a=await dS({adapter:this,fields:d.flattenedFields,joins:!1,limit:0,locale:b?.locale,page:1,pagination:!1,req:b,select:{id:!0},tableName:e,where:c});i=b4(f.id,a.docs.map(a=>a.id))}let j=await c5(this,b);await this.deleteWhere({db:j,tableName:e,where:i})},dU=async function({collection:a,req:b,returning:c,select:d,where:e}){let f,g=this.payload.collections[a].config,h=this.tableNameMap.get(aT(g.slug)),{joins:i,selectFields:j,where:k}=c3({adapter:this,fields:g.flattenedFields,locale:b?.locale,tableName:h,where:e}),l=await c5(this,b),m=await c4({adapter:this,db:l,joins:i,query:({query:a})=>a.limit(1),selectFields:j,tableName:h,where:k});if(m?.[0]?.id)f=await l.query[h].findFirst({where:bX(this.tables[h].id,m[0].id)});else{let a=ds({adapter:this,depth:0,fields:g.flattenedFields,joinQuery:!1,select:d,tableName:h});a.where=k,f=await l.query[h].findFirst(a)}if(!f)return null;let o=!1===c?null:dz({adapter:this,config:this.payload.config,data:f,fields:g.flattenedFields,joinQuery:!1,tableName:h});return await this.deleteWhere({db:l,tableName:h,where:bX(this.tables[h].id,f.id)}),o},dV=async function({collection:a,globalSlug:b,locale:c,req:d,where:e}){let f,g;if(b){let a=this.payload.globals.config.find(({slug:a})=>a===b);f=this.tableNameMap.get(`_${aT(b)}${this.versionsSuffix}`),g=(0,dc.p)(this.payload.config,a,!0)}else if(a){let b=this.payload.collections[a].config;f=this.tableNameMap.get(`_${aT(b.slug)}${this.versionsSuffix}`),g=(0,de.c)(this.payload.config,b,!0)}else throw new cg.L("Either collection or globalSlug must be passed.");let{docs:h}=await dS({adapter:this,fields:g,joins:!1,limit:0,locale:c,page:1,pagination:!1,req:d,tableName:f,where:e}),i=[];if(h.forEach(a=>{i.push(a.id)}),i.length>0){let a=await c5(this,d);await this.deleteWhere({db:a,tableName:f,where:b4(this.tables[f].id,i)})}return h},dW=async function(){this.enums&&(this.enums={}),this.schema={},this.tables={},this.relations={},this.fieldConstraints={},this.drizzle=void 0,this.initializing=new Promise((a,b)=>{this.resolveInitializing=a,this.rejectInitializing=b})},dX=async function({collection:a,draftsEnabled:b,joins:c,limit:d,locale:e,page:f=1,pagination:g,req:h,select:i,sort:j,where:k}){let l=this.payload.collections[a].config,m=null!=j?j:l.defaultSort,o=this.tableNameMap.get(aT(l.slug));return dS({adapter:this,collectionSlug:l.slug,draftsEnabled:b,fields:l.flattenedFields,joins:c,limit:d,locale:e,page:f,pagination:g,req:h,select:i,sort:m,tableName:o,where:k})},dY=async function({slug:a,locale:b,req:c,select:d,where:e}){let f=this.payload.globals.config.find(b=>b.slug===a),g=this.tableNameMap.get(aT(f.slug)),{docs:[h]}=await dS({adapter:this,fields:f.flattenedFields,limit:1,locale:b,pagination:!1,req:c,select:d,tableName:g,where:e});return h?(h.globalType=a,h):{}},dZ=async function({global:a,limit:b,locale:c,page:d,pagination:e,req:f,select:g,skip:h,sort:i,where:j}){let k=this.payload.globals.config.find(({slug:b})=>b===a),l=null!=i?i:"-createdAt",m=this.tableNameMap.get(`_${aT(k.slug)}${this.versionsSuffix}`);return dS({adapter:this,fields:(0,dc.p)(this.payload.config,k,!0),limit:b,locale:c,page:d,pagination:e,req:f,select:g,skip:h,sort:l,tableName:m,where:j})};async function d$({collection:a,draftsEnabled:b,joins:c,locale:d,req:e,select:f,where:g}){let h=this.payload.collections[a].config,i=this.tableNameMap.get(aT(h.slug)),{docs:j}=await dS({adapter:this,collectionSlug:a,draftsEnabled:b,fields:h.flattenedFields,joins:c,limit:1,locale:d,page:1,pagination:!1,req:e,select:f,sort:void 0,tableName:i,where:g});return j?.[0]||null}let d_=async function({collection:a,limit:b,locale:c,page:d,pagination:e,req:f,select:g,skip:h,sort:i,where:j}){let k=this.payload.collections[a].config,l=null!=i?i:k.defaultSort,m=this.tableNameMap.get(`_${aT(k.slug)}${this.versionsSuffix}`);return dS({adapter:this,fields:(0,de.c)(this.payload.config,k,!0),joins:!1,limit:b,locale:c,page:d,pagination:e,req:f,select:g,skip:h,sort:l,tableName:m,where:j})},d0=async({payload:a})=>k.existsSync(a.db.migrationDir)?(a.logger.info({msg:`Reading migration files from ${a.db.migrationDir}`}),Promise.all(k.readdirSync(a.db.migrationDir).sort().filter(a=>(a.endsWith(".ts")||a.endsWith(".js"))&&"index.js"!==a&&"index.ts"!==a).map(b=>l.resolve(a.db.migrationDir,b)).map(async a=>{let b=await c(11882)(a.replaceAll("\\","/"));return"default"in b&&(b=b.default),{name:l.basename(a).split(".")[0],down:b.down,up:b.up}}))):(a.logger.error({msg:`No migration directory found at ${a.db.migrationDir}`}),[]);var d1=c(73346),d2=c(23271),d3=c(46386),d4=c(66089);let d5=async(a,b)=>{let c;if("postgres"===a.name){let b=a.schemaName?`"${a.schemaName}".`:"";c=`SELECT to_regclass('${b}"payload_migrations"') AS exists;`}"sqlite"===a.name&&(c=`
      SELECT CASE
               WHEN COUNT(*) > 0 THEN 1
               ELSE 0
               END AS 'exists'
      FROM sqlite_master
      WHERE type = 'table'
        AND name = 'payload_migrations';`);let[d]=(await a.execute({drizzle:b??a.drizzle,raw:c})).rows;return d&&"object"==typeof d&&"exists"in d&&!!d.exists},d6=(a,b)=>{let c=`${b}`;return a instanceof Error&&(c+=` ${a.message}.`,"hint"in a&&"string"==typeof a.hint&&(c+=` ${a.hint}.`)),c},d7=async function(a){let{payload:b}=this,c=a?.migrations||await d0({payload:b});if(!c.length)return void b.logger.info({msg:"No migrations to run."});"createExtensions"in this&&"function"==typeof this.createExtensions&&await this.createExtensions();let d=0,e=[];if(await d5(this)){if({docs:e}=await b.find({collection:"payload-migrations",limit:0,sort:"-name"}),e.find(a=>-1===a.batch)){let{confirm:a}=await aO({name:"confirm",type:"confirm",initial:!1,message:"It looks like you've run Payload in dev mode, meaning you've dynamically pushed changes to your database.\n\nIf you'd like to run migrations, data loss will occur. Would you like to proceed?"},{onCancel:()=>{process.exit(0)}});a||process.exit(0),e=e.filter(a=>-1!==a.batch)}Number(e?.[0]?.batch)>0&&(d=Number(e[0]?.batch))}let f=d+1;for(let a of c)e.find(b=>b.name===a.name)||await d8(b,a,f)};async function d8(a,b,c){let d=Date.now(),e=await (0,d1.M)({},a);a.logger.info({msg:`Migrating: ${b.name}`});try{await (0,d2.n)(e);let f=await c5(a.db,e);await b.up({db:f,payload:a,req:e}),a.logger.info({msg:`Migrated:  ${b.name} (${Date.now()-d}ms)`}),await a.create({collection:"payload-migrations",data:{name:b.name,batch:c},req:e}),await (0,d3.w)(e)}catch(c){await (0,d4.J)(e),a.logger.error({err:c,msg:d6(c,`Error running migration ${b.name}`)}),process.exit(1)}}async function d9({payload:a}){let b=(await a.find({collection:"payload-migrations",limit:0,sort:["-batch","-name"],where:{batch:{not_equals:-1}}})).docs,c=Number(b?.[0]?.batch)||0;return{existingMigrations:b,latestBatch:c}}async function ea(){let{payload:a}=this,b=await d0({payload:a}),{existingMigrations:c,latestBatch:d}=await d9({payload:a});if(!c?.length)return void a.logger.info({msg:"No migrations to rollback."});for(let e of(a.logger.info({msg:`Rolling back batch ${d} consisting of ${c.length} migration(s).`}),c.filter(({batch:a})=>a===d))){let c=b.find(a=>a.name===e.name);if(!c)throw Error(`Migration ${e.name} not found locally.`);let d=Date.now(),f=await (0,d1.M)({},a);try{a.logger.info({msg:`Migrating down: ${c.name}`}),await (0,d2.n)(f);let b=await c5(this,f);await c.down({db:b,payload:a,req:f}),a.logger.info({msg:`Migrated down:  ${c.name} (${Date.now()-d}ms)`}),await d5(this,b)&&await a.delete({id:e.id,collection:"payload-migrations",req:f}),await (0,d3.w)(f)}catch(b){await (0,d4.J)(f),a.logger.error({err:b,msg:d6(b,`Error migrating down ${c.name}. Rolling back.`)}),process.exit(1)}}}async function eb({forceAcceptWarning:a=!1}){let{payload:b}=this;if(!1===a){let{confirm:a}=await aO({name:"confirm",type:"confirm",initial:!1,message:"WARNING: This will drop your database and run all migrations. Are you sure you want to proceed?"},{onCancel:()=>{process.exit(0)}});a||process.exit(0)}b.logger.info({msg:"Dropping database."}),await this.dropDatabase({adapter:this});let c=await d0({payload:b});b.logger.debug({msg:`Found ${c.length} migration files.`});let d=await (0,d1.M)({},b);for(let a of("createExtensions"in this&&"function"==typeof this.createExtensions&&await this.createExtensions(),c)){b.logger.info({msg:`Migrating: ${a.name}`});try{let c=Date.now();await (0,d2.n)(d);let e=await c5(this,d);await a.up({db:e,payload:b,req:d}),await b.create({collection:"payload-migrations",data:{name:a.name,batch:1},req:d}),await (0,d3.w)(d),b.logger.info({msg:`Migrated:  ${a.name} (${Date.now()-c}ms)`})}catch(c){await (0,d4.J)(d),b.logger.error({err:c,msg:d6(c,`Error running migration ${a.name}. Rolling back`)}),process.exit(1)}}}async function ec(){let{payload:a}=this,b=await d0({payload:a}),{existingMigrations:c,latestBatch:d}=await d9({payload:a});if(!c?.length)return void a.logger.info({msg:"No migrations to rollback."});a.logger.info({msg:`Rolling back batch ${d} consisting of ${c.length} migration(s).`});let e=await (0,d1.M)({},a);for(let d of(c.reverse(),c))try{let c=b.find(a=>a.name===d.name);if(!c)throw Error(`Migration ${d.name} not found locally.`);a.logger.info({msg:`Migrating down: ${d.name}`});let f=Date.now();await (0,d2.n)(e);let g=await c5(this,e);await c.down({db:g,payload:a,req:e}),a.logger.info({msg:`Migrated down:  ${d.name} (${Date.now()-f}ms)`}),await d5(this,g)&&await a.delete({collection:"payload-migrations",req:e,where:{name:{equals:d.name}}}),await (0,d3.w)(e)}catch(b){await (0,d4.J)(e),a.logger.error({err:b,msg:d6(b,`Error running migration ${d.name}. Rolling back.`)}),process.exit(1)}for(let c of b){a.logger.info({msg:`Migrating: ${c.name}`});try{let b=Date.now();await (0,d2.n)(e),await c.up({payload:a,req:e}),await a.create({collection:"payload-migrations",data:{name:c.name,executed:!0},req:e}),await (0,d3.w)(e),a.logger.info({msg:`Migrated:  ${c.name} (${Date.now()-b}ms)`})}catch(b){await (0,d4.J)(e),a.logger.error({err:b,msg:d6(b,`Error running migration ${c.name}. Rolling back.`)}),process.exit(1)}}}async function ed(){let{payload:a}=this,b=await d0({payload:a}),{existingMigrations:c}=await d9({payload:a});if(!c?.length)return void a.logger.info({msg:"No migrations to reset."});let d=await (0,d1.M)({},a);for(let e of(c.reverse(),c)){let c=b.find(a=>a.name===e.name);try{if(!c)throw Error(`Migration ${e.name} not found locally.`);let b=Date.now();a.logger.info({msg:`Migrating down: ${c.name}`}),await (0,d2.n)(d);let f=await c5(this,d);await c.down({db:f,payload:a,req:d}),a.logger.info({msg:`Migrated down:  ${c.name} (${Date.now()-b}ms)`}),await d5(this,f)&&await a.delete({id:e.id,collection:"payload-migrations",req:d}),await (0,d3.w)(d)}catch(e){let b=`Error running migration ${c.name}.`;e instanceof Error&&(b+=` ${e.message}`),await (0,d4.J)(d),a.logger.error({err:e,msg:b}),process.exit(1)}}if(await d5(this))try{await a.delete({collection:"payload-migrations",where:{batch:{equals:-1}}})}catch(b){a.logger.error({err:b,msg:"Error deleting dev migration"})}}var ee=c(26743);async function ef(){let{payload:a}=this,b=await d0({payload:a});a.logger.debug({msg:`Found ${b.length} migration files.`});let c=[];if(await d5(this)&&({existingMigrations:c}=await d9({payload:a})),!b.length)return void a.logger.info({msg:"No migrations found."});let d=b.map(a=>{let b=c.find(b=>b.name===a.name);return{Name:a.name,Batch:b?.batch,Ran:b?"Yes":"No"}}),e=new ee.Table;d.forEach(a=>{e.addRow(a,{color:"Yes"===a.Ran?"green":"red"})}),e.printTable()}let eg=async function({collection:a,joins:b,limit:c,locale:d,page:e=1,pagination:f,req:g,select:h,sort:i,where:j}){let k=this.payload.collections[a].config,l=this.tableNameMap.get(`_${aT(k.slug)}${this.versionsSuffix}`),m=(0,de.c)(this.payload.config,k,!0),o=(0,dj.m)({latest:{equals:!0}},j),p=await dS({adapter:this,collectionSlug:a,fields:m,joins:b,limit:c,locale:d,page:e,pagination:f,req:g,select:h,sort:i,tableName:l,versions:!0,where:o});return{...p,docs:p.docs.map(a=>a={id:a.parent,...a.version})}},eh=async function({id:a,data:b,limit:c,req:d,returning:e,sort:f,where:g}){b?.log?.length||b.log&&"object"==typeof b.log&&"$push"in b.log||delete b.log;let h=a?{id:{equals:a}}:g,i=a?1:c,j=this.payload.collections["payload-jobs"].config,k=this.tableNameMap.get(aT(j.slug)),l=null!=f?f:j.defaultSort,m=dM({data:b,fields:j.flattenedFields});if(m&&a){let c=await c5(this,d),f=await dN({id:a,adapter:this,data:b,db:c,fields:j.flattenedFields,ignoreResult:!1===e,operation:"update",req:d,tableName:k});return!1===e?null:[f]}let o=await dS({adapter:this,collectionSlug:"payload-jobs",fields:j.flattenedFields,limit:a?1:i,pagination:!1,req:d,sort:l,tableName:k,where:h});if(!o.docs.length)return[];let p=await c5(this,d),q=[];for(let a of o.docs){let c=m?b:{...a,...b},f=await dN({id:a.id,adapter:this,data:c,db:p,fields:j.flattenedFields,ignoreResult:!1===e,operation:"update",req:d,tableName:k});q.push(f)}return!1===e?null:q},ei=async function(a=""){let b=a instanceof Promise?await a:a;if(!this.sessions[b])return;let c=this.sessions[b];delete this.sessions[b],await c.reject()};async function ej({slug:a,data:b,req:c,returning:d,select:e}){let f=this.payload.globals.config.find(b=>b.slug===a),g=this.tableNameMap.get(aT(f.slug)),h=await c5(this,c),i=await h.query[g].findFirst({}),j=await dN({...i?{id:i.id,operation:"update"}:{operation:"create"},adapter:this,data:b,db:h,fields:f.flattenedFields,ignoreResult:!1===d,req:c,select:e,tableName:g});return!1===d?null:(j.globalType=a,j)}async function ek({id:a,global:b,locale:c,req:d,returning:e,select:f,versionData:g,where:h}){let i=this.payload.globals.config.find(({slug:a})=>a===b),j=h||{id:{equals:a}},k=this.tableNameMap.get(`_${aT(i.slug)}${this.versionsSuffix}`),l=(0,dc.p)(this.payload.config,i,!0),{where:m}=c3({adapter:this,fields:l,locale:c,tableName:k,where:j}),o=await c5(this,d),p=await dN({id:a,adapter:this,data:g,db:o,fields:l,ignoreResult:!1===e,operation:"update",req:d,select:f,tableName:k,where:m});return!1===e?null:p}let el=async function({collection:a,data:b,joins:c,limit:d,locale:e,req:f,returning:g,select:h,sort:i,where:j}){let k=this.payload.collections[a].config,l=this.tableNameMap.get(aT(k.slug)),m=null!=i?i:k.defaultSort,{joins:o,orderBy:p,selectFields:q,where:r}=c3({adapter:this,fields:k.flattenedFields,locale:e,sort:m,tableName:l,where:j}),s=await c5(this,f),t=[],u=await c4({adapter:this,db:s,joins:o,query:({query:a})=>p?a.orderBy(()=>p.map(({column:a,order:b})=>b(a))):a,selectFields:q,tableName:l,where:r});if(u?.[0]?.id)t=u?.map(a=>a.id);else if(j&&!o.length){let a=s,b=this.tables[l],c=a.select({id:b.id}).from(b).where(r).$dynamic();"number"==typeof d&&d>0&&(c=c.limit(d)),p&&(c=c.orderBy(()=>p.map(({column:a,order:b})=>b(a))));let e=await c;t=e?.map(a=>a.id)}if(!t.length)return[];let v=[];for(let a of t){let d=await dN({id:a,adapter:this,data:b,db:s,fields:k.flattenedFields,ignoreResult:!1===g,joinQuery:c,operation:"update",req:f,select:h,tableName:l});v.push(d)}return!1===g?null:v},em=async function({id:a,collection:b,data:c,joins:d,locale:e,options:f={upsert:!1},req:g,returning:h,select:i,where:j}){let k=this.payload.collections[b].config,l=this.tableNameMap.get(aT(k.slug)),m=a,o=await c5(this,g);if(!m){let{joins:a,selectFields:b,where:c}=c3({adapter:this,fields:k.flattenedFields,locale:e,tableName:l,where:j}),d=await c4({adapter:this,db:o,joins:a,query:({query:a})=>a.limit(1),selectFields:b,tableName:l,where:c});if(d?.[0]?.id)m=d?.[0]?.id;else if(j&&!a.length){let a=this.tables[l],b=await o.select({id:a.id}).from(a).where(c).limit(1);m=b?.[0]?.id}}if(!m&&!f.upsert)return null;let p=await dN({id:m,adapter:this,data:c,db:o,fields:k.flattenedFields,ignoreResult:!1===h,joinQuery:d,operation:"update",req:g,select:i,tableName:l});return!1===h?null:p};async function en({id:a,collection:b,locale:c,req:d,returning:e,select:f,versionData:g,where:h}){let i=this.payload.collections[b].config,j=h||{id:{equals:a}},k=this.tableNameMap.get(`_${aT(i.slug)}${this.versionsSuffix}`),l=(0,de.c)(this.payload.config,i,!0),{where:m}=c3({adapter:this,fields:l,locale:c,tableName:k,where:j}),o=await c5(this,d),p=await dN({id:a,adapter:this,data:g,db:o,fields:l,ignoreResult:!1===e,joinQuery:!1,operation:"update",req:d,select:f,tableName:k,where:m});return!1===e?null:p}let eo=async function({collection:a,data:b,joins:c,locale:d,req:e,returning:f,select:g,where:h}){return this.updateOne({collection:a,data:b,joins:c,locale:d,options:{upsert:!0},req:e,returning:f,select:g,where:h})},ep=({connectionString:a,database:b})=>{let c=new URL(a),d=new URL(c);return d.pathname=`/${b}`,d.toString()},eq=async function(a={}){let b=this.poolOptions?.connectionString??process.env.POSTGRES_URL??process.env.DATABASE_URL,d={},e=a.name,f=this.schemaName||"public";b?(e||(e=new URL(b).pathname.slice(1)),d.connectionString=ep({connectionString:b,database:"postgres"})):(e||(e=this.poolOptions.database),d={...this.poolOptions,database:"postgres"});let g=await Promise.resolve().then(c.bind(c,6805)).then(a=>a.default),h=new g.Client(d);try{if(await h.connect(),await h.query(`CREATE DATABASE "${e}"`),this.payload.logger.info(`Created database "${e}"`),"public"!==f){let a={};b?a.connectionString=ep({connectionString:b,database:e}):a={...this.poolOptions,database:e};let c=new g.Client(a);try{await c.connect(),await c.query(`CREATE SCHEMA ${f}`),this.payload.logger.info(`Created schema "${e}.${f}"`)}catch(a){this.payload.logger.error({err:a,msg:`Error: failed to create schema "${e}.${f}". Details: ${a.message}`})}finally{await c.end()}}return!0}catch(a){return this.payload.logger.error({err:a,msg:`Error: failed to create database ${e}. Details: ${a.message}`}),!1}finally{await h.end()}},er=async function(){for(let a in this.extensions)if(this.extensions[a])try{await this.drizzle.execute(`CREATE EXTENSION IF NOT EXISTS "${a}"`)}catch(b){this.payload.logger.error({err:b,msg:`Failed to create extension ${a}`})}},es={id:"00000000-0000-0000-0000-000000000000",_meta:{columns:{},schemas:{},tables:{}},dialect:"postgresql",enums:{},policies:{},prevId:"00000000-0000-0000-0000-00000000000",roles:{},schemas:{},sequences:{},tables:{},version:"7",views:{}},et=({adapter:a,addEnum:b,addImport:c,column:d,tableKey:e})=>{let f=d.type;"geometry"===d.type?(f="geometryColumn",c(a.packageName,f)):"enum"===d.type?"locale"in d?f="enum__locales":(b(d.enumName,d.options),f=d.enumName):c(`${a.packageName}/drizzle/pg-core`,f);let g=[];switch(d.type){case"bit":case"halfvec":case"sparsevec":case"vector":d.dimensions&&g.push(`dimensions: ${d.dimensions}`);break;case"numeric":g.push("mode: 'number'");break;case"timestamp":g.push(`mode: '${d.mode}'`),d.withTimezone&&g.push("withTimezone: true"),"number"==typeof d.precision&&g.push(`precision: ${d.precision}`)}let h="";g.length&&(h=`, {${g.join(",")}}`);let i=`${f}('${d.name}'${h})`;if("timestamp"===d.type&&d.defaultNow&&(i=`${i}.defaultNow()`),"uuid"===d.type&&d.defaultRandom&&(i=`${i}.defaultRandom()`),d.notNull&&(i=`${i}.notNull()`),d.primaryKey&&(i=`${i}.primaryKey()`),void 0!==d.default){let a=d.default;"geometry"===d.type?a=`sql\`${d.default}\``:"jsonb"===d.type?a=`sql\`'${JSON.stringify(d.default)}'::jsonb\``:"numeric"===d.type?a=`${d.default}`:"string"==typeof d.default&&(a=`${JSON.stringify(d.default)}`),i=`${i}.default(${a})`}if(d.reference){let b="()";d.reference.table===e&&(c(`${a.packageName}/drizzle/pg-core`,"type AnyPgColumn"),b=`${b}: AnyPgColumn`),b=`${b} => ${d.reference.table}.${d.reference.name}`,i=`${i}.references(${b}, {
      ${d.reference.onDelete?`onDelete: '${d.reference.onDelete}'`:""}
  })`}return i},eu=async function({column:a,db:b,joins:c,tableName:d,where:e}){if(0===c.length){let c=await b.select({count:a?di(bO`DISTINCT ${a}`):di()}).from(this.tables[d]).where(e);return Number(c?.[0]?.count??0)}let f=b.select({count:bO`COUNT(1) OVER()`}).from(this.tables[d]).where(e).groupBy(a||this.tables[d].id).limit(1).$dynamic();c.forEach(({type:a,condition:b,table:c})=>{f=f[a??"leftJoin"](c,b)});let g=await f;return Number(g?.[0]?.count??0)},ev={contains:"~",equals:"==",in:"in",like:"like_regex",not_equals:"!=",not_in:"in",not_like:"!like_regex"},ew=(a,b)=>"string"==typeof a?`"${["like","not_like"].includes(b)?"(?i)":""}${a}"`:a,ex=({column:a,operator:b,pathSegments:c,value:d})=>{let e="object"==typeof a?a.name:a,f=c.slice(1).map(a=>`${a}[*]`).join("."),g=1===c.length?"$[*]":`$.${f}`,h="";if(["in","not_in"].includes(b)&&Array.isArray(d))h="(",d.forEach((e,f)=>{h=`${h}${ex({column:a,operator:"in"===b?"equals":"not_equals",pathSegments:c,value:e})}${f===d.length-1?"":` ${"in"===b?"OR":"AND"} `}`}),h=`${h})`;else if("exists"===b)h=`${!1===d?"NOT ":""}jsonb_path_exists(${e}, '${g}')`;else if(["not_like"].includes(b)){let a=ev[b];h=`NOT jsonb_path_exists(${e}, '${g} ? (@ ${a.substring(1)} ${ew(d,b)})')`}else h=`jsonb_path_exists(${e}, '${g} ? (@ ${ev[b]} ${ew(d,b)})')`;return h},ey=async function({db:a,tableName:b,where:c}){let d=this.tables[b];await a.delete(d).where(c)},ez=async function({adapter:a}){await a.execute({drizzle:a.drizzle,raw:`drop schema if exists ${this.schemaName||"public"} cascade;
    create schema ${this.schemaName||"public"};`})},eA=function({db:a,drizzle:b,raw:c,sql:d}){let e=a??b;return c?e.execute(bO.raw(c)):e.execute(bO`${d}`)};function eB(a,b,c){let d={},e=a.reduce((a,{path:e,field:f},g)=>{let h;h=aV(f,aX)?f:aV(f,bI)?f.decoder:f.sql.decoder;let i=a;for(let[a,j]of e.entries())if(a<e.length-1)j in i||(i[j]={}),i=i[j];else{let a=b[g],k=i[j]=null===a?null:h.mapFromDriverValue(a);if(c&&aV(f,aX)&&2===e.length){let a=e[0];a in d?"string"==typeof d[a]&&d[a]!==bC(f.table)&&(d[a]=!1):d[a]=null===k&&bC(f.table)}}return a},{});if(c&&Object.keys(d).length>0)for(let[a,b]of Object.entries(d))"string"!=typeof b||c[b]||(e[a]=null);return e}function eC(a,b){return Object.entries(a).reduce((a,[c,d])=>{if("string"!=typeof c)return a;let e=b?[...b,c]:[c];return aV(d,aX)||aV(d,bI)||aV(d,bI.Aliased)?a.push({path:e,field:d}):aV(d,bB)?a.push(...eC(d[bB.Symbol.Columns],e)):a.push(...eC(d,e)),a},[])}function eD(a,b){let c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(let[a,b]of c.entries())if(b!==d[a])return!1;return!0}function eE(a,b){let c=Object.entries(b).filter(([,a])=>void 0!==a).map(([b,c])=>aV(c,bI)||aV(c,aX)?[b,c]:[b,new bN(c,a[bB.Symbol.Columns][b])]);if(0===c.length)throw Error("No values to set");return Object.fromEntries(c)}function eF(a,b){for(let c of b)for(let b of Object.getOwnPropertyNames(c.prototype))"constructor"!==b&&Object.defineProperty(a.prototype,b,Object.getOwnPropertyDescriptor(c.prototype,b)||Object.create(null))}function eG(a){return a[bB.Symbol.Columns]}function eH(a){return aV(a,bo)?a._.alias:aV(a,bS)?a[bs].name:aV(a,bI)?void 0:a[bB.Symbol.IsAlias]?a[bB.Symbol.Name]:a[bB.Symbol.BaseName]}function eI(a,b){return{name:"string"==typeof a&&a.length>0?a:"",config:"object"==typeof a?a:b}}function eJ(a){if("object"!=typeof a||null===a||"Object"!==a.constructor.name)return!1;if("logger"in a){let b=typeof a.logger;return"boolean"===b||"object"===b&&"function"==typeof a.logger.logQuery||"undefined"===b}if("schema"in a){let b=typeof a.schema;return"object"===b||"undefined"===b}if("casing"in a){let b=typeof a.casing;return"string"===b||"undefined"===b}if("mode"in a)return"default"===a.mode&&"planetscale"===a.mode&&void 0===a.mode;if("connection"in a){let b=typeof a.connection;return"string"===b||"object"===b||"undefined"===b}if("client"in a){let b=typeof a.client;return"object"===b||"function"===b||"undefined"===b}return 0===Object.keys(a).length}"undefined"==typeof TextDecoder||new TextDecoder;class eK extends a9{static [aU]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(a){if(a){let{name:b,...c}=a;this.config.generatedIdentity={type:"always",sequenceName:b,sequenceOptions:c}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(a){if(a){let{name:b,...c}=a;this.config.generatedIdentity={type:"byDefault",sequenceName:b,sequenceOptions:c}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class eL extends eK{static [aU]="PgBigInt53Builder";constructor(a){super(a,"number","PgBigInt53")}build(a){return new eM(a,this.config)}}class eM extends ba{static [aU]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(a){return"number"==typeof a?a:Number(a)}}class eN extends eK{static [aU]="PgBigInt64Builder";constructor(a){super(a,"bigint","PgBigInt64")}build(a){return new eO(a,this.config)}}class eO extends ba{static [aU]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(a){return BigInt(a)}}function eP(a,b){let{name:c,config:d}=eI(a,b);return"number"===d.mode?new eL(c):new eN(c)}class eQ extends a9{static [aU]="PgBigSerial53Builder";constructor(a){super(a,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(a){return new eR(a,this.config)}}class eR extends ba{static [aU]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(a){return"number"==typeof a?a:Number(a)}}class eS extends a9{static [aU]="PgBigSerial64Builder";constructor(a){super(a,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(a){return new eT(a,this.config)}}class eT extends ba{static [aU]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(a){return BigInt(a)}}function eU(a,b){let{name:c,config:d}=eI(a,b);return"number"===d.mode?new eQ(c):new eS(c)}class eV extends a9{static [aU]="PgBooleanBuilder";constructor(a){super(a,"boolean","PgBoolean")}build(a){return new eW(a,this.config)}}class eW extends ba{static [aU]="PgBoolean";getSQLType(){return"boolean"}}function eX(a){return new eV(a??"")}class eY extends a9{static [aU]="PgCharBuilder";constructor(a,b){super(a,"string","PgChar"),this.config.length=b.length,this.config.enumValues=b.enum}build(a){return new eZ(a,this.config)}}class eZ extends ba{static [aU]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"char":`char(${this.length})`}}function e$(a,b={}){let{name:c,config:d}=eI(a,b);return new eY(c,d)}class e_ extends a9{static [aU]="PgCidrBuilder";constructor(a){super(a,"string","PgCidr")}build(a){return new e0(a,this.config)}}class e0 extends ba{static [aU]="PgCidr";getSQLType(){return"cidr"}}function e1(a){return new e_(a??"")}class e2 extends a9{static [aU]="PgCustomColumnBuilder";constructor(a,b,c){super(a,"custom","PgCustomColumn"),this.config.fieldConfig=b,this.config.customTypeParams=c}build(a){return new e3(a,this.config)}}class e3 extends ba{static [aU]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(a,b){super(a,b),this.sqlName=b.customTypeParams.dataType(b.fieldConfig),this.mapTo=b.customTypeParams.toDriver,this.mapFrom=b.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(a){return"function"==typeof this.mapFrom?this.mapFrom(a):a}mapToDriverValue(a){return"function"==typeof this.mapTo?this.mapTo(a):a}}function e4(a){return(b,c)=>{let{name:d,config:e}=eI(b,c);return new e2(d,e,a)}}class e5 extends a9{static [aU]="PgDateColumnBaseBuilder";defaultNow(){return this.default(bO`now()`)}}class e6 extends e5{static [aU]="PgDateBuilder";constructor(a){super(a,"date","PgDate")}build(a){return new e7(a,this.config)}}class e7 extends ba{static [aU]="PgDate";getSQLType(){return"date"}mapFromDriverValue(a){return new Date(a)}mapToDriverValue(a){return a.toISOString()}}class e8 extends e5{static [aU]="PgDateStringBuilder";constructor(a){super(a,"string","PgDateString")}build(a){return new e9(a,this.config)}}class e9 extends ba{static [aU]="PgDateString";getSQLType(){return"date"}}function fa(a,b){let{name:c,config:d}=eI(a,b);return d?.mode==="date"?new e6(c):new e8(c)}class fb extends a9{static [aU]="PgDoublePrecisionBuilder";constructor(a){super(a,"number","PgDoublePrecision")}build(a){return new fc(a,this.config)}}class fc extends ba{static [aU]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(a){return"string"==typeof a?Number.parseFloat(a):a}}function fd(a){return new fb(a??"")}class fe extends a9{static [aU]="PgInetBuilder";constructor(a){super(a,"string","PgInet")}build(a){return new ff(a,this.config)}}class ff extends ba{static [aU]="PgInet";getSQLType(){return"inet"}}function fg(a){return new fe(a??"")}class fh extends eK{static [aU]="PgIntegerBuilder";constructor(a){super(a,"number","PgInteger")}build(a){return new fi(a,this.config)}}class fi extends ba{static [aU]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(a){return"string"==typeof a?Number.parseInt(a):a}}function fj(a){return new fh(a??"")}class fk extends a9{static [aU]="PgIntervalBuilder";constructor(a,b){super(a,"string","PgInterval"),this.config.intervalConfig=b}build(a){return new fl(a,this.config)}}class fl extends ba{static [aU]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let a=this.fields?` ${this.fields}`:"",b=this.precision?`(${this.precision})`:"";return`interval${a}${b}`}}function fm(a,b={}){let{name:c,config:d}=eI(a,b);return new fk(c,d)}class fn extends a9{static [aU]="PgJsonBuilder";constructor(a){super(a,"json","PgJson")}build(a){return new fo(a,this.config)}}class fo extends ba{static [aU]="PgJson";constructor(a,b){super(a,b)}getSQLType(){return"json"}mapToDriverValue(a){return JSON.stringify(a)}mapFromDriverValue(a){if("string"==typeof a)try{return JSON.parse(a)}catch{}return a}}function fp(a){return new fn(a??"")}class fq extends a9{static [aU]="PgJsonbBuilder";constructor(a){super(a,"json","PgJsonb")}build(a){return new fr(a,this.config)}}class fr extends ba{static [aU]="PgJsonb";constructor(a,b){super(a,b)}getSQLType(){return"jsonb"}mapToDriverValue(a){return JSON.stringify(a)}mapFromDriverValue(a){if("string"==typeof a)try{return JSON.parse(a)}catch{}return a}}function fs(a){return new fq(a??"")}class ft extends a9{static [aU]="PgLineBuilder";constructor(a){super(a,"array","PgLine")}build(a){return new fu(a,this.config)}}class fu extends ba{static [aU]="PgLine";getSQLType(){return"line"}mapFromDriverValue(a){let[b,c,d]=a.slice(1,-1).split(",");return[Number.parseFloat(b),Number.parseFloat(c),Number.parseFloat(d)]}mapToDriverValue(a){return`{${a[0]},${a[1]},${a[2]}}`}}class fv extends a9{static [aU]="PgLineABCBuilder";constructor(a){super(a,"json","PgLineABC")}build(a){return new fw(a,this.config)}}class fw extends ba{static [aU]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(a){let[b,c,d]=a.slice(1,-1).split(",");return{a:Number.parseFloat(b),b:Number.parseFloat(c),c:Number.parseFloat(d)}}mapToDriverValue(a){return`{${a.a},${a.b},${a.c}}`}}function fx(a,b){let{name:c,config:d}=eI(a,b);return d?.mode&&"tuple"!==d.mode?new fv(c):new ft(c)}class fy extends a9{static [aU]="PgMacaddrBuilder";constructor(a){super(a,"string","PgMacaddr")}build(a){return new fz(a,this.config)}}class fz extends ba{static [aU]="PgMacaddr";getSQLType(){return"macaddr"}}function fA(a){return new fy(a??"")}class fB extends a9{static [aU]="PgMacaddr8Builder";constructor(a){super(a,"string","PgMacaddr8")}build(a){return new fC(a,this.config)}}class fC extends ba{static [aU]="PgMacaddr8";getSQLType(){return"macaddr8"}}function fD(a){return new fB(a??"")}class fE extends a9{static [aU]="PgNumericBuilder";constructor(a,b,c){super(a,"string","PgNumeric"),this.config.precision=b,this.config.scale=c}build(a){return new fF(a,this.config)}}class fF extends ba{static [aU]="PgNumeric";precision;scale;constructor(a,b){super(a,b),this.precision=b.precision,this.scale=b.scale}mapFromDriverValue(a){return"string"==typeof a?a:String(a)}getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}class fG extends a9{static [aU]="PgNumericNumberBuilder";constructor(a,b,c){super(a,"number","PgNumericNumber"),this.config.precision=b,this.config.scale=c}build(a){return new fH(a,this.config)}}class fH extends ba{static [aU]="PgNumericNumber";precision;scale;constructor(a,b){super(a,b),this.precision=b.precision,this.scale=b.scale}mapFromDriverValue(a){return"number"==typeof a?a:Number(a)}mapToDriverValue=String;getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}class fI extends a9{static [aU]="PgNumericBigIntBuilder";constructor(a,b,c){super(a,"bigint","PgNumericBigInt"),this.config.precision=b,this.config.scale=c}build(a){return new fJ(a,this.config)}}class fJ extends ba{static [aU]="PgNumericBigInt";precision;scale;constructor(a,b){super(a,b),this.precision=b.precision,this.scale=b.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}function fK(a,b){let{name:c,config:d}=eI(a,b),e=d?.mode;return"number"===e?new fG(c,d?.precision,d?.scale):"bigint"===e?new fI(c,d?.precision,d?.scale):new fE(c,d?.precision,d?.scale)}class fL extends a9{static [aU]="PgPointTupleBuilder";constructor(a){super(a,"array","PgPointTuple")}build(a){return new fM(a,this.config)}}class fM extends ba{static [aU]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(a){if("string"==typeof a){let[b,c]=a.slice(1,-1).split(",");return[Number.parseFloat(b),Number.parseFloat(c)]}return[a.x,a.y]}mapToDriverValue(a){return`(${a[0]},${a[1]})`}}class fN extends a9{static [aU]="PgPointObjectBuilder";constructor(a){super(a,"json","PgPointObject")}build(a){return new fO(a,this.config)}}class fO extends ba{static [aU]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(a){if("string"==typeof a){let[b,c]=a.slice(1,-1).split(",");return{x:Number.parseFloat(b),y:Number.parseFloat(c)}}return a}mapToDriverValue(a){return`(${a.x},${a.y})`}}function fP(a,b){let{name:c,config:d}=eI(a,b);return d?.mode&&"tuple"!==d.mode?new fN(c):new fL(c)}function fQ(a){let b=[];for(let c=0;c<a.length;c+=2)b.push(Number.parseInt(a.slice(c,c+2),16));return new Uint8Array(b)}function fR(a,b){let c=new DataView(new ArrayBuffer(8));for(let d=0;d<8;d++)c.setUint8(d,a[b+d]);return c.getFloat64(0,!0)}function fS(a){let b,c=fQ(a),d=0,e=c[0];d+=1;let f=new DataView(c.buffer),g=f.getUint32(d,1===e);if(d+=4,0x20000000&g&&(b=f.getUint32(d,1===e),d+=4),(65535&g)==1){let a=fR(c,d),b=fR(c,d+=8);return d+=8,[a,b]}throw Error("Unsupported geometry type")}class fT extends a9{static [aU]="PgGeometryBuilder";constructor(a){super(a,"array","PgGeometry")}build(a){return new fU(a,this.config)}}class fU extends ba{static [aU]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(a){return fS(a)}mapToDriverValue(a){return`point(${a[0]} ${a[1]})`}}class fV extends a9{static [aU]="PgGeometryObjectBuilder";constructor(a){super(a,"json","PgGeometryObject")}build(a){return new fW(a,this.config)}}class fW extends ba{static [aU]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(a){let b=fS(a);return{x:b[0],y:b[1]}}mapToDriverValue(a){return`point(${a.x} ${a.y})`}}function fX(a,b){let{name:c,config:d}=eI(a,b);return d?.mode&&"tuple"!==d.mode?new fV(c):new fT(c)}class fY extends a9{static [aU]="PgRealBuilder";constructor(a,b){super(a,"number","PgReal"),this.config.length=b}build(a){return new fZ(a,this.config)}}class fZ extends ba{static [aU]="PgReal";constructor(a,b){super(a,b)}getSQLType(){return"real"}mapFromDriverValue=a=>"string"==typeof a?Number.parseFloat(a):a}function f$(a){return new fY(a??"")}class f_ extends a9{static [aU]="PgSerialBuilder";constructor(a){super(a,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(a){return new f0(a,this.config)}}class f0 extends ba{static [aU]="PgSerial";getSQLType(){return"serial"}}function f1(a){return new f_(a??"")}class f2 extends eK{static [aU]="PgSmallIntBuilder";constructor(a){super(a,"number","PgSmallInt")}build(a){return new f3(a,this.config)}}class f3 extends ba{static [aU]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=a=>"string"==typeof a?Number(a):a}function f4(a){return new f2(a??"")}class f5 extends a9{static [aU]="PgSmallSerialBuilder";constructor(a){super(a,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(a){return new f6(a,this.config)}}class f6 extends ba{static [aU]="PgSmallSerial";getSQLType(){return"smallserial"}}function f7(a){return new f5(a??"")}class f8 extends a9{static [aU]="PgTextBuilder";constructor(a,b){super(a,"string","PgText"),this.config.enumValues=b.enum}build(a){return new f9(a,this.config)}}class f9 extends ba{static [aU]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function ga(a,b={}){let{name:c,config:d}=eI(a,b);return new f8(c,d)}class gb extends e5{constructor(a,b,c){super(a,"string","PgTime"),this.withTimezone=b,this.precision=c,this.config.withTimezone=b,this.config.precision=c}static [aU]="PgTimeBuilder";build(a){return new gc(a,this.config)}}class gc extends ba{static [aU]="PgTime";withTimezone;precision;constructor(a,b){super(a,b),this.withTimezone=b.withTimezone,this.precision=b.precision}getSQLType(){let a=void 0===this.precision?"":`(${this.precision})`;return`time${a}${this.withTimezone?" with time zone":""}`}}function gd(a,b={}){let{name:c,config:d}=eI(a,b);return new gb(c,d.withTimezone??!1,d.precision)}class ge extends e5{static [aU]="PgTimestampBuilder";constructor(a,b,c){super(a,"date","PgTimestamp"),this.config.withTimezone=b,this.config.precision=c}build(a){return new gf(a,this.config)}}class gf extends ba{static [aU]="PgTimestamp";withTimezone;precision;constructor(a,b){super(a,b),this.withTimezone=b.withTimezone,this.precision=b.precision}getSQLType(){let a=void 0===this.precision?"":` (${this.precision})`;return`timestamp${a}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=a=>new Date(this.withTimezone?a:a+"+0000");mapToDriverValue=a=>a.toISOString()}class gg extends e5{static [aU]="PgTimestampStringBuilder";constructor(a,b,c){super(a,"string","PgTimestampString"),this.config.withTimezone=b,this.config.precision=c}build(a){return new gh(a,this.config)}}class gh extends ba{static [aU]="PgTimestampString";withTimezone;precision;constructor(a,b){super(a,b),this.withTimezone=b.withTimezone,this.precision=b.precision}getSQLType(){let a=void 0===this.precision?"":`(${this.precision})`;return`timestamp${a}${this.withTimezone?" with time zone":""}`}}function gi(a,b={}){let{name:c,config:d}=eI(a,b);return d?.mode==="string"?new gg(c,d.withTimezone??!1,d.precision):new ge(c,d?.withTimezone??!1,d?.precision)}class gj extends a9{static [aU]="PgVarcharBuilder";constructor(a,b){super(a,"string","PgVarchar"),this.config.length=b.length,this.config.enumValues=b.enum}build(a){return new gk(a,this.config)}}class gk extends ba{static [aU]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"varchar":`varchar(${this.length})`}}function gl(a,b={}){let{name:c,config:d}=eI(a,b);return new gj(c,d)}class gm extends a9{static [aU]="PgBinaryVectorBuilder";constructor(a,b){super(a,"string","PgBinaryVector"),this.config.dimensions=b.dimensions}build(a){return new gn(a,this.config)}}class gn extends ba{static [aU]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function go(a,b){let{name:c,config:d}=eI(a,b);return new gm(c,d)}class gp extends a9{static [aU]="PgHalfVectorBuilder";constructor(a,b){super(a,"array","PgHalfVector"),this.config.dimensions=b.dimensions}build(a){return new gq(a,this.config)}}class gq extends ba{static [aU]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(a){return JSON.stringify(a)}mapFromDriverValue(a){return a.slice(1,-1).split(",").map(a=>Number.parseFloat(a))}}function gr(a,b){let{name:c,config:d}=eI(a,b);return new gp(c,d)}class gs extends a9{static [aU]="PgSparseVectorBuilder";constructor(a,b){super(a,"string","PgSparseVector"),this.config.dimensions=b.dimensions}build(a){return new gt(a,this.config)}}class gt extends ba{static [aU]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function gu(a,b){let{name:c,config:d}=eI(a,b);return new gs(c,d)}class gv extends a9{static [aU]="PgVectorBuilder";constructor(a,b){super(a,"array","PgVector"),this.config.dimensions=b.dimensions}build(a){return new gw(a,this.config)}}class gw extends ba{static [aU]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(a){return JSON.stringify(a)}mapFromDriverValue(a){return a.slice(1,-1).split(",").map(a=>Number.parseFloat(a))}}function gx(a,b){let{name:c,config:d}=eI(a,b);return new gv(c,d)}function gy(){return{bigint:eP,bigserial:eU,boolean:eX,char:e$,cidr:e1,customType:e4,date:fa,doublePrecision:fd,inet:fg,integer:fj,interval:fm,json:fp,jsonb:fs,line:fx,macaddr:fA,macaddr8:fD,numeric:fK,point:fP,geometry:fX,real:f$,serial:f1,smallint:f4,smallserial:f7,text:ga,time:gd,timestamp:gi,uuid:cV,varchar:gl,bit:go,halfvec:gr,sparsevec:gu,vector:gx}}let gz=Symbol.for("drizzle:PgInlineForeignKeys"),gA=Symbol.for("drizzle:EnableRLS");class gB extends bB{static [aU]="PgTable";static Symbol=Object.assign({},bB.Symbol,{InlineForeignKeys:gz,EnableRLS:gA});[gz]=[];[gA]=!1;[bB.Symbol.ExtraConfigBuilder]=void 0;[bB.Symbol.ExtraConfigColumns]={}}function gC(a,b,c,d,e=a){let f=new gB(a,d,e),g="function"==typeof b?b(gy()):b,h=Object.fromEntries(Object.entries(g).map(([a,b])=>{let c=b;c.setName(a);let d=c.build(f);return f[gz].push(...c.buildForeignKeys(d,f)),[a,d]})),i=Object.fromEntries(Object.entries(g).map(([a,b])=>{let c=b;return c.setName(a),[a,c.buildExtraConfigColumn(f)]})),j=Object.assign(f,h);return j[bB.Symbol.Columns]=h,j[bB.Symbol.ExtraConfigColumns]=i,c&&(j[gB.Symbol.ExtraConfigBuilder]=c),Object.assign(j,{enableRLS:()=>(j[gB.Symbol.EnableRLS]=!0,j)})}let gD=(a,b,c)=>gC(a,b,c,void 0);class gE{static [aU]="PgPrimaryKeyBuilder";columns;name;constructor(a,b){this.columns=a,this.name=b}build(a){return new gF(a,this.columns,this.name)}}class gF{constructor(a,b,c){this.table=a,this.columns=b,this.name=c}static [aU]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[gB.Symbol.Name]}_${this.columns.map(a=>a.name).join("_")}_pk`}}class gG{constructor(a,b,c){this.sourceTable=a,this.referencedTable=b,this.relationName=c,this.referencedTableName=b[bB.Symbol.Name]}static [aU]="Relation";referencedTableName;fieldName}class gH{constructor(a,b){this.table=a,this.config=b}static [aU]="Relations"}class gI extends gG{constructor(a,b,c,d){super(a,b,c?.relationName),this.config=c,this.isNullable=d}static [aU]="One";withFieldName(a){let b=new gI(this.sourceTable,this.referencedTable,this.config,this.isNullable);return b.fieldName=a,b}}class gJ extends gG{constructor(a,b,c){super(a,b,c?.relationName),this.config=c}static [aU]="Many";withFieldName(a){let b=new gJ(this.sourceTable,this.referencedTable,this.config);return b.fieldName=a,b}}function gK(){return{and:bZ,between:ca,eq:bX,exists:b8,gt:b0,gte:b1,ilike:ce,inArray:b4,isNull:b6,isNotNull:b7,like:cc,lt:b2,lte:b3,ne:bY,not:b_,notBetween:cb,notExists:b9,notLike:cd,notIlike:cf,notInArray:b5,or:b$,sql:bO}}function gL(){return{sql:bO,asc:bT,desc:bU}}function gM(a,b){1===Object.keys(a).length&&"default"in a&&!aV(a.default,bB)&&(a=a.default);let c={},d={},e={};for(let[f,g]of Object.entries(a))if(aV(g,bB)){let a=bD(g),b=d[a];for(let d of(c[a]=f,e[f]={tsName:f,dbName:g[bB.Symbol.Name],schema:g[bB.Symbol.Schema],columns:g[bB.Symbol.Columns],relations:b?.relations??{},primaryKey:b?.primaryKey??[]},Object.values(g[bB.Symbol.Columns])))d.primary&&e[f].primaryKey.push(d);let h=g[bB.Symbol.ExtraConfigBuilder]?.(g[bB.Symbol.ExtraConfigColumns]);if(h)for(let a of Object.values(h))aV(a,gE)&&e[f].primaryKey.push(...a.columns)}else if(aV(g,gH)){let a,f=bD(g.table),h=c[f];for(let[c,i]of Object.entries(g.config(b(g.table))))if(h){let b=e[h];b.relations[c]=i,a&&b.primaryKey.push(...a)}else f in d||(d[f]={relations:{},primaryKey:a}),d[f].relations[c]=i}return{tables:e,tableNamesMap:c}}function gN(a,b){return new gH(a,a=>Object.fromEntries(Object.entries(b(a)).map(([a,b])=>[a,b.withFieldName(a)])))}function gO(a){return function(b,c){return new gI(a,b,c,c?.fields.reduce((a,b)=>a&&b.notNull,!0)??!1)}}function gP(a){return function(b,c){return new gJ(a,b,c)}}function gQ(a,b,c){if(aV(c,gI)&&c.config)return{fields:c.config.fields,references:c.config.references};let d=b[bD(c.referencedTable)];if(!d)throw Error(`Table "${c.referencedTable[bB.Symbol.Name]}" not found in schema`);let e=a[d];if(!e)throw Error(`Table "${d}" not found in schema`);let f=c.sourceTable,g=b[bD(f)];if(!g)throw Error(`Table "${f[bB.Symbol.Name]}" not found in schema`);let h=[];for(let a of Object.values(e.relations))(c.relationName&&c!==a&&a.relationName===c.relationName||!c.relationName&&a.referencedTable===c.sourceTable)&&h.push(a);if(h.length>1)throw c.relationName?Error(`There are multiple relations with name "${c.relationName}" in table "${d}"`):Error(`There are multiple relations between "${d}" and "${c.sourceTable[bB.Symbol.Name]}". Please specify relation name`);if(h[0]&&aV(h[0],gI)&&h[0].config)return{fields:h[0].config.references,references:h[0].config.fields};throw Error(`There is not enough information to infer relation "${g}.${c.fieldName}"`)}function gR(a){return{one:gO(a),many:gP(a)}}function gS(a,b,c,d,e=a=>a){let f={};for(let[g,h]of d.entries())if(h.isJson){let d=b.relations[h.tsKey],i=c[g],j="string"==typeof i?JSON.parse(i):i;f[h.tsKey]=aV(d,gI)?j&&gS(a,a[h.relationTableTsKey],j,h.selection,e):j.map(b=>gS(a,a[h.relationTableTsKey],b,h.selection,e))}else{let a,b=e(c[g]),d=h.field;a=aV(d,aX)?d:aV(d,bI)?d.decoder:d.sql.decoder,f[h.tsKey]=null===b?null:a.mapFromDriverValue(b)}return f}let gT=({adapter:a})=>{for(let b in a.rawRelations){let c=a.rawRelations[b];a.relations[`relations_${b}`]=gN(a.tables[b],({many:b,one:d})=>{let e={};for(let f in c){let g=c[f];"one"===g.type?e[f]=d(a.tables[g.to],{fields:g.fields.map(b=>a.tables[b.table][b.name]),references:g.references.map(b=>a.tables[g.to][b]),relationName:g.relationName}):e[f]=b(a.tables[g.to],{relationName:g.relationName})}return e})}},gU=({indexes:a})=>a.map(a=>({fields:a.fields.map(({field:a,localizedPath:b,path:c,pathHasLocalized:d})=>({field:a,localizedPath:`version.${b}`,path:`version.${c}`,pathHasLocalized:d})),unique:!1})),gV=({adapter:a,config:{name:b,slug:c},config:d,parentTableName:e,prefix:f="",target:g="dbName",throwValidationError:h=!1,versions:i=!1,versionsCustomName:j=!1})=>{let k,l=d[g],m=`${f}${aT(b??c)}`;i&&(m=`_${m}${a.versionsSuffix}`),l||"enumName"!==g||(l=d.dbName),l&&(k="function"==typeof l?l({tableName:e}):l,j&&(k=`_${k}${a.versionsSuffix}`));let o=k||m;if(a.tableNameMap.set(m,o),!h)return o;if(o.length>63)throw new cg.L(`Exceeded max identifier length for table or enum name of 63 characters. Invalid name: ${o}.
Tip: You can use the dbName property to reduce the table name length.
      `);return o},gW=({name:a,adapter:b,appendSuffix:c=!0,number:d=0})=>{let e=`${a}${d?`_${d}`:""}${c?"_idx":""}`;if(e.length>60){let b=`${d?`_${d}`:""}${c?"_idx":""}`;e=`${a.slice(0,60-b.length)}${b}`}return b.indexes.has(e)||e in b.rawTables?gW({name:a,adapter:b,appendSuffix:c,number:d+1}):(b.indexes.add(e),e)};var gX=c(72909);let gY=({name:a,adapter:b,number:c=0})=>{let d=`${a}${c?`_${c}`:""}_fk`;if(d.length>60){let b=`${c?`_${c}`:""}_fk`;d=`${a.slice(0,60-b.length)}${b}`}return b.foreignKeys.has(d)?gY({name:a,adapter:b,number:c+1}):(b.foreignKeys.add(d),d)},gZ=({fields:a,parentIsLocalized:b})=>a.some(a=>"array"!==a.type&&(!!((0,ch.Z7)(a)&&(0,ch.Cd)({field:a,parentIsLocalized:b}))||((0,ch.sd)(a)?gZ({fields:a.fields,parentIsLocalized:b||"localized"in a&&a.localized}):"tabs"===a.type&&a.tabs.some(a=>gZ({fields:a.fields,parentIsLocalized:b||a.localized}))))),g$=a=>a.map(a=>"name"in a&&"id"===a.name?{...a,name:"_uuid"}:a),g_=(a,b)=>void 0===b.defaultValue||"function"==typeof b.defaultValue?a:{...a,default:b.defaultValue},g0=({adapter:a,blocksTableNameMap:b,columnPrefix:c,columns:d,disableNotNull:e,disableRelsTableUnique:f,disableUnique:g=!1,fieldPrefix:h,fields:i,forceLocalized:j,indexes:k,localesColumns:l,localesIndexes:m,newTableName:o,parentIsLocalized:p,parentTableName:q,relationships:r,relationsToBuild:s,rootRelationsToBuild:t,rootTableIDColType:u,rootTableName:v,setColumnID:w,uniqueRelationships:x,versions:y,withinLocalizedArrayOrBlock:z})=>{let A=!0,B=!1,C=!1,D=!1,E=!1,F=!1,G=!1,H="integer",I=d.id;return I&&["numeric","text","uuid","varchar"].includes(I.type)&&(H=I.type),i.forEach(i=>{if("name"in i&&"id"===i.name||(0,ch.IC)(i))return;let I=d,J=k,K=`${c||""}${"_"===i.name[0]?"_":""}${aT(i.name)}`,L=`${h?.replace(".","_")||""}${i.name}`,M=(0,ch.Cd)({field:i,parentIsLocalized:p});if(a.payload.config.localization&&(M||j)&&"array"!==i.type&&("blocks"!==i.type||a.blocksAsJSON)&&("hasMany"in i&&!0!==i.hasMany||!("hasMany"in i))&&(B=!0,I=l,J=m),(i.unique||i.index||["relationship","upload"].includes(i.type))&&!["array","blocks","group"].includes(i.type)&&!("hasMany"in i&&!0===i.hasMany)&&!("relationTo"in i&&Array.isArray(i.relationTo))){let b=!0!==g&&i.unique;if(b){let b=`${h||""}${i.name}`;a.fieldConstraints?.[v]||(a.fieldConstraints[v]={}),a.fieldConstraints[v][`${K}_idx`]=b}let c=gW({name:`${o}_${K}`,adapter:a});J[c]={name:c,on:M?[L,"_locale"]:L,unique:b}}switch(i.type){case"array":{let c=!!i.admin?.condition||e,d=gV({adapter:a,config:i,parentTableName:o,prefix:`${o}_`,throwValidationError:A,versionsCustomName:y}),f={_order:{name:"_order",type:"integer",notNull:!0},_parentID:{name:"_parent_id",type:H,notNull:!0}},h={_orderIdx:{name:`${d}_order_idx`,on:["_order"]},_parentIDIdx:{name:`${d}_parent_id_idx`,on:"_parentID"}},k={_parentIDFk:{name:`${d}_parent_id_fk`,columns:["_parentID"],foreignColumns:[{name:"id",table:q}],onDelete:"cascade"}},l=!!(M&&a.payload.config.localization)||z||j;l&&(f._locale={name:"_locale",type:"enum",locale:!0,notNull:!0},h._localeIdx={name:`${d}_locale_idx`,on:"_locale"});let{hasLocalizedManyNumberField:m,hasLocalizedManyTextField:B,hasLocalizedRelationshipField:I,hasManyNumberField:J,hasManyTextField:K,relationsToBuild:N}=g1({adapter:a,baseColumns:f,baseForeignKeys:k,baseIndexes:h,blocksTableNameMap:b,disableNotNull:c,disableRelsTableUnique:!0,disableUnique:g,fields:g?g$(i.flattenedFields):i.flattenedFields,parentIsLocalized:p||i.localized,rootRelationships:r,rootRelationsToBuild:t,rootTableIDColType:u,rootTableName:v,rootUniqueRelationships:x,setColumnID:w,tableName:d,versions:y,withinLocalizedArrayOrBlock:l});m&&(G=m),I&&(C=I),B&&(E=B),K&&(!D||"index"===K)&&(D=K),J&&(!F||"index"===J)&&(F=J);let O=dn({field:i,path:L,tableName:d});s.set(O,{type:"many",localized:!1,target:d});let P={_parentID:{type:"one",fields:[{name:"_parentID",table:d}],references:["id"],relationName:O,to:q}};gZ({fields:i.fields,parentIsLocalized:p||i.localized})&&(P._locales={type:"many",relationName:"_locales",to:`${d}${a.localesSuffix}`}),N.forEach(({type:b,localized:c,target:e},f)=>{if("one"===b){let b=c?`${d}${a.localesSuffix}`:d;P[f]={type:"one",fields:[{name:f,table:b}],references:["id"],relationName:f,to:e}}"many"===b&&(P[f]={type:"many",relationName:f,to:e})}),a.rawRelations[d]=P;break}case"blocks":{if(a.blocksAsJSON){I[L]=g_({name:K,type:"jsonb"},i);break}let c=!!i.admin?.condition||e;(i.blockReferences??i.blocks).forEach(d=>{let e="string"==typeof d?a.payload.blocks[d]:d,f=gV({adapter:a,config:e,parentTableName:v,prefix:`${v}_blocks_`,throwValidationError:A,versionsCustomName:y});void 0===b[f]?b[f]=1:a.rawTables[f]&&ct({block:e,localized:i.localized,rootTableName:v,table:a.rawTables[f],tableLocales:a.rawTables[`${f}${a.localesSuffix}`]})||(b[f]++,cv(e,b[f]),f=`${f}_${b[f]}`);let h=`_blocks_${e.slug}`;if(void 0!==e[cu]&&(h=`_blocks_${e.slug}_${e[cu]}`),!a.rawTables[f]){let d={_order:{name:"_order",type:"integer",notNull:!0},_parentID:{name:"_parent_id",type:u,notNull:!0},_path:{name:"_path",type:"text",notNull:!0}},k={_orderIdx:{name:`${f}_order_idx`,on:"_order"},_parentIDIdx:{name:`${f}_parent_id_idx`,on:["_parentID"]},_pathIdx:{name:`${f}_path_idx`,on:"_path"}},l={_parentIdFk:{name:`${f}_parent_id_fk`,columns:["_parentID"],foreignColumns:[{name:"id",table:v}],onDelete:"cascade"}},m=!!(M&&a.payload.config.localization)||z||j;m&&(d._locale={name:"_locale",type:"enum",locale:!0,notNull:!0},k._localeIdx={name:`${f}_locale_idx`,on:"_locale"});let{hasLocalizedManyNumberField:o,hasLocalizedManyTextField:q,hasLocalizedRelationshipField:s,hasManyNumberField:A,hasManyTextField:B,relationsToBuild:H}=g1({adapter:a,baseColumns:d,baseForeignKeys:l,baseIndexes:k,blocksTableNameMap:b,disableNotNull:c,disableRelsTableUnique:!0,disableUnique:g,fields:g?g$(e.flattenedFields):e.flattenedFields,parentIsLocalized:p||i.localized,rootRelationships:r,rootRelationsToBuild:t,rootTableIDColType:u,rootTableName:v,rootUniqueRelationships:x,setColumnID:w,tableName:f,versions:y,withinLocalizedArrayOrBlock:m});o&&(G=o),s&&(C=s),q&&(E=q),B&&(!D||"index"===B)&&(D=B),A&&(!F||"index"===A)&&(F=A);let I={_parentID:{type:"one",fields:[{name:"_parentID",table:f}],references:["id"],relationName:h,to:v}};gZ({fields:e.fields,parentIsLocalized:p||i.localized})&&(I._locales={type:"many",relationName:"_locales",to:`${f}${a.localesSuffix}`}),H.forEach(({type:b,localized:c,target:d},e)=>{if("one"===b){let b=c?`${f}${a.localesSuffix}`:f;I[e]={type:"one",fields:[{name:e,table:b}],references:["id"],relationName:e,to:d}}"many"===b&&(I[e]={type:"many",relationName:e,to:d})}),a.rawRelations[f]=I}t.set(h,{type:"many",localized:!1,target:f})});break}case"checkbox":I[L]=g_({name:K,type:"boolean"},i);break;case"code":case"email":case"textarea":I[L]=g_({name:K,type:"varchar"},i);break;case"date":I[L]=g_({name:K,type:"timestamp",mode:"string",precision:3,withTimezone:!0},i);break;case"group":case"tab":{let{hasLocalizedField:c,hasLocalizedManyNumberField:f,hasLocalizedManyTextField:h,hasLocalizedRelationshipField:j,hasManyNumberField:o,hasManyTextField:A}=g0({adapter:a,blocksTableNameMap:b,columnPrefix:`${K}_`,columns:d,disableNotNull:!!i.admin?.condition||e,disableUnique:g,fieldPrefix:`${L}.`,fields:i.flattenedFields,forceLocalized:M,indexes:k,localesColumns:l,localesIndexes:m,newTableName:`${q}_${K}`,parentIsLocalized:p||i.localized,parentTableName:q,relationships:r,relationsToBuild:s,rootRelationsToBuild:t,rootTableIDColType:u,rootTableName:v,setColumnID:w,uniqueRelationships:x,versions:y,withinLocalizedArrayOrBlock:z||M});c&&(B=!0),j&&(C=!0),A&&(D=!0),h&&(E=!0),o&&(F=!0),f&&(G=!0);break}case"json":case"richText":I[L]=g_({name:K,type:"jsonb"},i);break;case"number":if(i.hasMany){if((M&&a.payload.config.localization||z||j)&&(G=!0),i.index?F="index":F||(F=!0),i.unique)throw new gX.s("Unique is not supported in Postgres for hasMany number fields.")}else I[L]=g_({name:K,type:"numeric"},i);break;case"point":I[L]=g_({name:K,type:"geometry"},i);break;case"radio":case"select":{let c=gV({adapter:a,config:i,parentTableName:o,prefix:`enum_${o}_`,target:"enumName",throwValidationError:A}),d=i.options.map(a=>(0,ch.vs)(a)?a.value:a);if("select"===i.type&&i.hasMany){let c=gV({adapter:a,config:i,parentTableName:o,prefix:`${o}_`,throwValidationError:A,versionsCustomName:y}),f={order:{name:"order",type:"integer",notNull:!0},parent:{name:"parent_id",type:H,notNull:!0},value:{name:"value",type:"enum",enumName:gV({adapter:a,config:i,parentTableName:o,prefix:`enum_${o}_`,target:"enumName",throwValidationError:A}),options:d}},h={orderIdx:{name:`${c}_order_idx`,on:"order"},parentIdx:{name:`${c}_parent_idx`,on:"parent"}},k={parentFk:{name:`${c}_parent_fk`,columns:["parent"],foreignColumns:[{name:"id",table:q}],onDelete:"cascade"}};(M&&a.payload.config.localization||z||j)&&(f.locale={name:"locale",type:"enum",locale:!0,notNull:!0},h.localeIdx={name:`${c}_locale_idx`,on:"locale"}),i.index&&(h.value={name:`${c}_value_idx`,on:"value"}),g1({adapter:a,baseColumns:f,baseForeignKeys:k,baseIndexes:h,blocksTableNameMap:b,disableNotNull:e,disableUnique:g,fields:[],parentIsLocalized:p||i.localized,rootTableName:v,setColumnID:w,tableName:c,versions:y}),s.set(L,{type:"many",localized:!1,target:c}),a.rawRelations[c]={parent:{type:"one",fields:[{name:"parent",table:c}],references:["id"],relationName:L,to:q}}}else I[L]=g_({name:K,type:"enum",enumName:c,options:d},i);break}case"relationship":case"upload":if(Array.isArray(i.relationTo))i.relationTo.forEach(a=>{r.add(a),!i.unique||g||f||x.add(a)});else if(i.hasMany)r.add(i.relationTo),!i.unique||g||f||x.add(i.relationTo);else{let b=a.payload.collections[i.relationTo].config,c=a.tableNameMap.get(aT(i.relationTo)),d="uuid"===a.idType?"uuid":"integer",f=b.fields.find(a=>(0,ch.Z7)(a)&&"id"===a.name);f?.type==="number"&&(d="numeric"),f?.type==="text"&&(d="varchar"),I[L]={name:`${K}_id`,type:d,reference:{name:"id",onDelete:"set null",table:c}},s.set(L,{type:"one",localized:a.payload.config.localization&&(M||j),target:c}),e||!i.required||i.admin?.condition||(I[L].notNull=!0);break}(M&&a.payload.config.localization||z)&&(C=!0);break;case"text":if(i.hasMany){if((M&&a.payload.config.localization||z||j)&&(E=!0),i.index?D="index":D||(D=!0),i.unique)throw new gX.s("Unique is not supported in Postgres for hasMany text fields.")}else I[L]=g_({name:K,type:"varchar"},i)}let N=i.admin&&i.admin.condition;!e&&I[L]&&"required"in i&&i.required&&!N&&(I[L].notNull=!0)}),{hasLocalizedField:B,hasLocalizedManyNumberField:G,hasLocalizedManyTextField:E,hasLocalizedRelationshipField:C,hasManyNumberField:F,hasManyTextField:D}},g1=({adapter:a,baseColumns:b={},baseForeignKeys:c={},baseIndexes:d={},blocksTableNameMap:e,compoundIndexes:f,disableNotNull:g,disableRelsTableUnique:h=!1,disableUnique:i=!1,fields:j,parentIsLocalized:k,rootRelationships:l,rootRelationsToBuild:m,rootTableIDColType:o,rootTableName:p,rootUniqueRelationships:q,setColumnID:r,tableName:s,timestamps:t,versions:u,withinLocalizedArrayOrBlock:v})=>{let w,x,y,z,A=!p,B=p||s,C=b,D=d,E={},F={},G=l||new Set,H=q||new Set,I=new Map,J=r({adapter:a,columns:C,fields:j}),{hasLocalizedField:K,hasLocalizedManyNumberField:L,hasLocalizedManyTextField:M,hasLocalizedRelationshipField:N,hasManyNumberField:O,hasManyTextField:P}=g0({adapter:a,blocksTableNameMap:e,columns:C,disableNotNull:g,disableRelsTableUnique:h,disableUnique:i,fields:j,indexes:D,localesColumns:E,localesIndexes:F,newTableName:s,parentIsLocalized:k,parentTableName:s,relationships:G,relationsToBuild:I,rootRelationsToBuild:m||I,rootTableIDColType:o||J,rootTableName:B,setColumnID:r,uniqueRelationships:H,versions:u,withinLocalizedArrayOrBlock:v}),Q=new Map,R=new Map;I.forEach(({type:a,localized:b,relationName:c,target:d},e)=>{(b?Q:R).set(e,{type:a,relationName:c,target:d})}),t&&(C.createdAt={name:"created_at",type:"timestamp",defaultNow:!0,mode:"string",notNull:!0,precision:3,withTimezone:!0},C.updatedAt={name:"updated_at",type:"timestamp",defaultNow:!0,mode:"string",notNull:!0,precision:3,withTimezone:!0});let S={name:s,columns:C,foreignKeys:c,indexes:D};if(a.rawTables[s]=S,K||Q.size){let b=`${s}${a.localesSuffix}`;a.rawTables[b]=w,E.id={name:"id",type:"serial",primaryKey:!0},E._locale={name:"_locale",type:"enum",locale:!0,notNull:!0},E._parentID={name:"_parent_id",type:J,notNull:!0},F._localeParent={name:gW({name:`${b}_locale_parent_id_unique`,adapter:a,appendSuffix:!1}),on:["_locale","_parentID"],unique:!0},w={name:b,columns:E,foreignKeys:{_parentIdFk:{name:gY({name:`${b}_parent_id`,adapter:a}),columns:["_parentID"],foreignColumns:[{name:"id",table:s}],onDelete:"cascade"}},indexes:F},a.rawTables[b]=w;let c={_parentID:{type:"one",fields:[{name:"_parentID",table:b}],references:["id"],relationName:"_locales",to:s}};Q.forEach(({type:a,target:d},e)=>{"one"===a&&(c[e]={type:"one",fields:[{name:e,table:b}],references:["id"],relationName:e,to:d}),"many"===a&&(c[e]={type:"many",relationName:e,to:d})}),a.rawRelations[b]=c}if(f)for(let b of f){let c=null,d=[],e=()=>c?w:S;for(let{path:a,pathHasLocalized:f}of b.fields){if(null===c&&(c=f),c!==f)throw new gX.s(`Compound indexes within localized and non localized fields are not supported in SQL. Expected ${a} to be ${c?"non":""} localized.`);let b=a.replaceAll(".","_");if(!e().columns[b])throw new gX.s(`Column ${b} for compound index on ${a} was not found in the ${e().name} table.`);d.push(b)}c&&d.push("_locale");let f=d.join("_");f.length>63&&(f="compound_index");let g=gW({name:f,adapter:a});e().indexes[g]={name:g,on:d,unique:!i&&b.unique}}if(A){if(P){let b=`${B}_texts`;a.rawTables[b]=x;let c={id:{name:"id",type:"serial",primaryKey:!0},order:{name:"order",type:"integer",notNull:!0},parent:{name:"parent_id",type:J,notNull:!0},path:{name:"path",type:"varchar",notNull:!0},text:{name:"text",type:"varchar"}};M&&(c.locale={name:"locale",type:"enum",locale:!0});let d={orderParentIdx:{name:gW({name:`${b}_order_parent`,adapter:a,appendSuffix:!1}),on:["order","parent"]}};"index"===P&&(d.text_idx={name:gW({name:`${b}_text`,adapter:a}),on:"text"}),M&&(d.localeParent={name:gW({name:`${b}_locale_parent`,adapter:a,appendSuffix:!1}),on:["locale","parent"]}),x={name:b,columns:c,foreignKeys:{parentFk:{name:gY({name:`${b}_parent`,adapter:a}),columns:["parent"],foreignColumns:[{name:"id",table:s}],onDelete:"cascade"}},indexes:d},a.rawTables[b]=x,a.rawRelations[b]={parent:{type:"one",fields:[{name:"parent",table:b}],references:["id"],relationName:"_texts",to:s}}}if(O){let b=`${B}_numbers`;a.rawTables[b]=y;let c={id:{name:"id",type:"serial",primaryKey:!0},number:{name:"number",type:"numeric"},order:{name:"order",type:"integer",notNull:!0},parent:{name:"parent_id",type:J,notNull:!0},path:{name:"path",type:"varchar",notNull:!0}};L&&(c.locale={name:"locale",type:"enum",locale:!0});let d={orderParentIdx:{name:gW({name:`${b}_order_parent`,adapter:a}),on:["order","parent"]}};"index"===O&&(d.numberIdx={name:gW({name:`${b}_number`,adapter:a}),on:"number"}),L&&(d.localeParent={name:gW({name:`${b}_locale_parent`,adapter:a,appendSuffix:!1}),on:["locale","parent"]}),y={name:b,columns:c,foreignKeys:{parentFk:{name:gY({name:`${b}_parent`,adapter:a}),columns:["parent"],foreignColumns:[{name:"id",table:s}],onDelete:"cascade"}},indexes:d},a.rawTables[b]=y,a.rawRelations[b]={parent:{type:"one",fields:[{name:"parent",table:b}],references:["id"],relationName:"_numbers",to:s}}}if(G.size){let b={id:{name:"id",type:"serial",primaryKey:!0},order:{name:"order",type:"integer"},parent:{name:"parent_id",type:J,notNull:!0},path:{name:"path",type:"varchar",notNull:!0}};N&&(b.locale={name:"locale",type:"enum",locale:!0});let c=`${s}${a.relationshipsSuffix}`,d={order:{name:gW({name:`${c}_order`,adapter:a}),on:"order"},parentIdx:{name:gW({name:`${c}_parent`,adapter:a}),on:"parent"},pathIdx:{name:gW({name:`${c}_path`,adapter:a}),on:"path"}};N&&(d.localeIdx={name:gW({name:`${c}_locale`,adapter:a}),on:"locale"});let e={parentFk:{name:gY({name:`${c}_parent`,adapter:a}),columns:["parent"],foreignColumns:[{name:"id",table:s}],onDelete:"cascade"}};G.forEach(f=>{let g=a.payload.collections[f].config,h=gV({adapter:a,config:g,throwValidationError:!0}),j="uuid"===a.idType?"uuid":"integer",k=a.payload.collections[g.slug]?.customIDType;"number"===k&&(j="numeric"),"text"===k&&(j="varchar");let l=`${f}ID`;b[l]={name:`${h}_id`,type:j},e[`${f}IdFk`]={name:gY({name:`${c}_${aT(f)}`,adapter:a}),columns:[l],foreignColumns:[{name:"id",table:h}],onDelete:"cascade"};let m=[l],o=!i&&H.has(f);o&&m.push("path"),N&&m.push("locale");let p=gW({name:`${c}_${h}_id`,adapter:a});d[p]={name:p,on:m,unique:o}}),z={name:c,columns:b,foreignKeys:e,indexes:d},a.rawTables[c]=z;let f={parent:{type:"one",fields:[{name:"parent",table:c}],references:["id"],relationName:"_rels",to:s}};G.forEach(b=>{let d=gV({adapter:a,config:a.payload.collections[b].config,throwValidationError:!0}),e=`${b}ID`;f[e]={type:"one",fields:[{name:e,table:c}],references:["id"],relationName:b,to:d}}),a.rawRelations[c]=f}}let T={};return R.forEach(({type:a,relationName:b,target:c},d)=>{"one"===a&&(T[d]={type:"one",fields:[{name:d,table:s}],references:["id"],relationName:d,to:c}),"many"===a&&(T[d]={type:"many",relationName:b||d,to:c})}),K&&(T._locales={type:"many",relationName:"_locales",to:w.name}),A&&x&&(T._texts={type:"many",relationName:"_texts",to:x.name}),A&&y&&(T._numbers={type:"many",relationName:"_numbers",to:y.name}),G.size&&z&&(T._rels={type:"many",relationName:"_rels",to:z.name}),a.rawRelations[s]=T,{hasLocalizedManyNumberField:L,hasLocalizedManyTextField:M,hasLocalizedRelationshipField:N,hasManyNumberField:O,hasManyTextField:P,relationsToBuild:I}},g2=({adapter:a,setColumnID:b})=>{a.indexes=new Set,a.foreignKeys=new Set,a.payload.config.collections.forEach(b=>{gV({adapter:a,config:b}),b.versions&&gV({adapter:a,config:b,versions:!0,versionsCustomName:!0})}),a.payload.config.collections.forEach(c=>{let d=a.tableNameMap.get(aT(c.slug)),e=a.payload.config,f={};if(c.upload.filenameCompoundIndex&&(f.filename_compound_index={name:gW({name:`${d}_filename_compound_idx`,adapter:a}),on:c.upload.filenameCompoundIndex.map(a=>a),unique:!0}),g1({adapter:a,blocksTableNameMap:{},compoundIndexes:c.sanitizedIndexes,disableNotNull:!!c?.versions?.drafts,disableUnique:!1,fields:c.flattenedFields,parentIsLocalized:!1,setColumnID:b,tableName:d,timestamps:c.timestamps,versions:!1}),c.versions){let d=a.tableNameMap.get(`_${aT(c.slug)}${a.versionsSuffix}`),f=(0,de.c)(e,c,!0);g1({adapter:a,blocksTableNameMap:{},compoundIndexes:gU({indexes:c.sanitizedIndexes}),disableNotNull:!!c.versions?.drafts,disableUnique:!0,fields:f,parentIsLocalized:!1,setColumnID:b,tableName:d,timestamps:!0,versions:!0})}}),a.payload.config.globals.forEach(c=>{let d=gV({adapter:a,config:c});if(g1({adapter:a,blocksTableNameMap:{},disableNotNull:(0,dm.gD)(c),disableUnique:!1,fields:c.flattenedFields,parentIsLocalized:!1,setColumnID:b,tableName:d,timestamps:!1,versions:!1}),c.versions){let d=gV({adapter:a,config:c,versions:!0,versionsCustomName:!0}),e=a.payload.config,f=(0,dc.p)(e,c,!0);g1({adapter:a,blocksTableNameMap:{},disableNotNull:!!c.versions?.drafts,disableUnique:!0,fields:f,parentIsLocalized:!1,setColumnID:b,tableName:d,timestamps:!0,versions:!0})}})},{Symbol:g3}=bB,g4=({columns:a,extraConfig:b,table:c})=>{let d=Object.getOwnPropertySymbols(c).find(a=>a.description?.includes("InlineForeignKeys"));if(!d)throw new cg.L("Error when finding InlineForeignKeys Symbol",500);if(a)for(let[b,e]of Object.entries(a)){let a=e.build(c);c[b]=a,c[d].push(...e.buildForeignKeys(a,c)),c[g3.Columns][b]=a,c[g3.ExtraConfigColumns][b]="buildExtraConfigColumn"in e?e.buildExtraConfigColumn(c):a}if(b){let a=c[g3.ExtraConfigBuilder];c[g3.ExtraConfigBuilder]=c=>({...a(c),...b(c)})}},g5=async({type:a,adapter:b})=>{for(let c of b[a]){let a=await c({adapter:b,extendTable:g4,schema:{enums:b.enums,relations:b.relations,tables:b.tables}});a.enums&&(b.enums=a.enums),b.tables=a.tables,b.relations=a.relations}};class g6{constructor(a,b){this.unique=a,this.name=b}static [aU]="PgIndexBuilderOn";on(...a){return new g7(a.map(a=>{if(aV(a,bI))return a;let b=new bc(a.name,!!a.keyAsName,a.columnType,a.indexConfig);return a.indexConfig=JSON.parse(JSON.stringify(a.defaultConfig)),b}),this.unique,!1,this.name)}onOnly(...a){return new g7(a.map(a=>{if(aV(a,bI))return a;let b=new bc(a.name,!!a.keyAsName,a.columnType,a.indexConfig);return a.indexConfig=a.defaultConfig,b}),this.unique,!0,this.name)}using(a,...b){return new g7(b.map(a=>{if(aV(a,bI))return a;let b=new bc(a.name,!!a.keyAsName,a.columnType,a.indexConfig);return a.indexConfig=JSON.parse(JSON.stringify(a.defaultConfig)),b}),this.unique,!0,this.name,a)}}class g7{static [aU]="PgIndexBuilder";config;constructor(a,b,c,d,e="btree"){this.config={name:d,columns:a,unique:b,only:c,method:e}}concurrently(){return this.config.concurrently=!0,this}with(a){return this.config.with=a,this}where(a){return this.config.where=a,this}build(a){return new g8(this.config,a)}}class g8{static [aU]="PgIndex";config;constructor(a,b){this.config={...a,table:b}}}function g9(a){return new g6(!1,a)}function ha(a){return new g6(!0,a)}let hb={boolean:eX,geometry:a=>e4({dataType:()=>"geometry(Point)",fromDriver:a=>fS(a),toDriver:a=>`SRID=4326;point(${a[0]} ${a[1]})`})(a),integer:fj,jsonb:fs,numeric:fK,serial:f1,text:ga,uuid:cV,varchar:gl},hc=({adapter:a,rawTable:b})=>{let c={};for(let[d,e]of Object.entries(b.columns)){switch(e.type){case"bit":{let a=go(e.name,{dimensions:e.dimensions});c[d]=a;break}case"enum":"locale"in e?c[d]=a.enums.enum__locales(e.name):(a.enums[e.enumName]=a.pgSchema.enum(e.enumName,e.options),c[d]=a.enums[e.enumName](e.name));break;case"halfvec":{let a=gr(e.name,{dimensions:e.dimensions});c[d]=a;break}case"numeric":c[d]=fK(e.name,{mode:"number"});break;case"sparsevec":{let a=gu(e.name,{dimensions:e.dimensions});c[d]=a;break}case"timestamp":{let a=gi(e.name,{mode:e.mode,precision:e.precision,withTimezone:e.withTimezone});e.defaultNow&&(a=a.defaultNow()),c[d]=a;break}case"uuid":{let a=cV(e.name);e.defaultRandom&&(a=a.defaultRandom()),c[d]=a;break}case"vector":{let a=gx(e.name,{dimensions:e.dimensions});c[d]=a;break}default:c[d]=hb[e.type](e.name)}if(e.reference&&c[d].references(()=>a.tables[e.reference.table][e.reference.name],{onDelete:e.reference.onDelete}),e.primaryKey&&c[d].primaryKey(),e.notNull&&c[d].notNull(),void 0!==e.default){let a=e.default;"geometry"===e.type&&Array.isArray(e.default)&&(a=`SRID=4326;POINT(${e.default[0]} ${e.default[1]})`),c[d].default(a)}"geometry"!==e.type||a.extensions.postgis||(a.extensions.postgis=!0)}let d=c=>{let d={};if(b.indexes)for(let[a,e]of Object.entries(b.indexes)){let b=g9;e.unique&&(b=ha),Array.isArray(e.on)?e.on.length&&(d[a]=b(e.name).on(...e.on.map(a=>c[a]))):d[a]=b(e.name).on(c[e.on])}if(b.foreignKeys)for(let[e,f]of Object.entries(b.foreignKeys)){let b=a_({name:f.name,columns:f.columns.map(a=>c[a]),foreignColumns:f.foreignColumns.map(b=>a.tables[b.table][b.name])});f.onDelete&&(b=b.onDelete(f.onDelete)),f.onUpdate&&(b=b.onDelete(f.onUpdate)),d[e]=b}return d};a.tables[b.name]=a.pgSchema.table(b.name,c,d)},hd=({adapter:a,columns:b,fields:c})=>{let d=c.find(a=>"id"===a.name);if(d){if("number"===d.type)return b.id={name:"id",type:"numeric",primaryKey:!0},"numeric";if("text"===d.type)return b.id={name:"id",type:"varchar",primaryKey:!0},"varchar"}return"uuid"===a.idType?(b.id={name:"id",type:"uuid",defaultRandom:!0,primaryKey:!0},"uuid"):(b.id={name:"id",type:"serial",primaryKey:!0},"integer")},he=async function(){for(let a in this.rawRelations={},this.rawTables={},g2({adapter:this,setColumnID:hd}),await g5({type:"beforeSchemaInit",adapter:this}),this.payload.config.localization&&(this.enums.enum__locales=this.pgSchema.enum("_locales",this.payload.config.localization.locales.map(({code:a})=>a))),this.rawTables)hc({adapter:this,rawTable:this.rawTables[a]});gT({adapter:this}),await g5({type:"afterSchemaInit",adapter:this}),this.schema={pgSchema:this.pgSchema,...this.tables,...this.relations,...this.enums}},hf=async function({db:a,onConflictDoUpdate:b,tableName:c,values:d}){let e=this.tables[c];return b?await a.insert(e).values(d).onConflictDoUpdate(b).returning():await a.insert(e).values(d).returning()},hg=(0,c(8086).createRequire)("file:///home/node/app/node_modules/.pnpm/@payloadcms+drizzle@3.69.0_@types+pg@8.10.2_payload@3.69.0_graphql@16.10.0_typescript@5.7.3__pg@8.16.3/node_modules/@payloadcms/drizzle/dist/postgres/requireDrizzleKit.js"),hh=()=>{let{generateDrizzleJson:a,generateMigration:b,pushSchema:c,upPgSnapshot:d}=hg("drizzle-kit/api");return{generateDrizzleJson:a,generateMigration:b,pushSchema:c,upSnapshot:d}};class hi{constructor(a,b,c){this.seqName=a,this.seqOptions=b,this.schema=c}static [aU]="PgSequence"}function hj(a,b,c){return new hi(a,b,c)}class hk{static [aU]="SelectionProxyHandler";config;constructor(a){this.config={...a}}get(a,b){if("_"===b)return{...a._,selectedFields:new Proxy(a._.selectedFields,this)};if(b===bs)return{...a[bs],selectedFields:new Proxy(a[bs].selectedFields,this)};if("symbol"==typeof b)return a[b];let c=(aV(a,bo)?a._.selectedFields:aV(a,bS)?a[bs].selectedFields:a)[b];if(aV(c,bI.Aliased)){if("sql"===this.config.sqlAliasedBehavior&&!c.isSelectionField)return c.sql;let a=c.clone();return a.isSelectionField=!0,a}if(aV(c,bI)){if("sql"===this.config.sqlBehavior)return c;throw Error(`You tried to reference "${b}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return aV(c,aX)?this.config.alias?new Proxy(c,new cy(new Proxy(c.table,new cz(this.config.alias,this.config.replaceOriginalName??!1)))):c:"object"!=typeof c||null===c?c:new Proxy(c,new hk(this.config))}}function hl(a){return(a.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(a=>a.toLowerCase()).join("_")}function hm(a){return(a.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((a,b,c)=>a+(0===c?b.toLowerCase():`${b[0].toUpperCase()}${b.slice(1)}`),"")}function hn(a){return a}class ho{static [aU]="CasingCache";cache={};cachedTables={};convert;constructor(a){this.convert="snake_case"===a?hl:"camelCase"===a?hm:hn}getColumnCasing(a){if(!a.keyAsName)return a.name;let b=a.table[bB.Symbol.Schema]??"public",c=a.table[bB.Symbol.OriginalName],d=`${b}.${c}.${a.name}`;return this.cache[d]||this.cacheTable(a.table),this.cache[d]}cacheTable(a){let b=a[bB.Symbol.Schema]??"public",c=a[bB.Symbol.OriginalName],d=`${b}.${c}`;if(!this.cachedTables[d]){for(let b of Object.values(a[bB.Symbol.Columns])){let a=`${d}.${b.name}`;this.cache[a]=this.convert(b.name)}this.cachedTables[d]=!0}}clearCache(){this.cache={},this.cachedTables={}}}class hp extends Error{static [aU]="DrizzleError";constructor({message:a,cause:b}){super(a),this.name="DrizzleError",this.cause=b}}class hq extends Error{constructor(a,b,c){super(`Failed query: ${a}
params: ${b}`),this.query=a,this.params=b,this.cause=c,Error.captureStackTrace(this,hq),c&&(this.cause=c)}}class hr extends hp{static [aU]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}class hs extends bS{static [aU]="PgViewBase"}class ht{static [aU]="PgDialect";casing;constructor(a){this.casing=new ho(a?.casing)}async migrate(a,b,c){let d="string"==typeof c?"__drizzle_migrations":c.migrationsTable??"__drizzle_migrations",e="string"==typeof c?"drizzle":c.migrationsSchema??"drizzle",f=bO`
			CREATE TABLE IF NOT EXISTS ${bO.identifier(e)}.${bO.identifier(d)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;await b.execute(bO`CREATE SCHEMA IF NOT EXISTS ${bO.identifier(e)}`),await b.execute(f);let g=(await b.all(bO`select id, hash, created_at from ${bO.identifier(e)}.${bO.identifier(d)} order by created_at desc limit 1`))[0];await b.transaction(async b=>{for await(let c of a)if(!g||Number(g.created_at)<c.folderMillis){for(let a of c.sql)await b.execute(bO.raw(a));await b.execute(bO`insert into ${bO.identifier(e)}.${bO.identifier(d)} ("hash", "created_at") values(${c.hash}, ${c.folderMillis})`)}})}escapeName(a){return`"${a}"`}escapeParam(a){return`$${a+1}`}escapeString(a){return`'${a.replace(/'/g,"''")}'`}buildWithCTE(a){if(!a?.length)return;let b=[bO`with `];for(let[c,d]of a.entries())b.push(bO`${bO.identifier(d._.alias)} as (${d._.sql})`),c<a.length-1&&b.push(bO`, `);return b.push(bO` `),bO.join(b)}buildDeleteQuery({table:a,where:b,returning:c,withList:d}){let e=this.buildWithCTE(d),f=c?bO` returning ${this.buildSelection(c,{isSingleTable:!0})}`:void 0,g=b?bO` where ${b}`:void 0;return bO`${e}delete from ${a}${g}${f}`}buildUpdateSet(a,b){let c=a[bB.Symbol.Columns],d=Object.keys(c).filter(a=>void 0!==b[a]||c[a]?.onUpdateFn!==void 0),e=d.length;return bO.join(d.flatMap((a,d)=>{let f=c[a],g=b[a]??bO.param(f.onUpdateFn(),f),h=bO`${bO.identifier(this.casing.getColumnCasing(f))} = ${g}`;return d<e-1?[h,bO.raw(", ")]:[h]}))}buildUpdateQuery({table:a,set:b,where:c,returning:d,withList:e,from:f,joins:g}){let h=this.buildWithCTE(e),i=a[gB.Symbol.Name],j=a[gB.Symbol.Schema],k=a[gB.Symbol.OriginalName],l=i===k?void 0:i,m=bO`${j?bO`${bO.identifier(j)}.`:void 0}${bO.identifier(k)}${l&&bO` ${bO.identifier(l)}`}`,o=this.buildUpdateSet(a,b),p=f&&bO.join([bO.raw(" from "),this.buildFromTable(f)]),q=this.buildJoins(g),r=d?bO` returning ${this.buildSelection(d,{isSingleTable:!f})}`:void 0,s=c?bO` where ${c}`:void 0;return bO`${h}update ${m} set ${o}${p}${q}${s}${r}`}buildSelection(a,{isSingleTable:b=!1}={}){let c=a.length,d=a.flatMap(({field:a},d)=>{let e=[];if(aV(a,bI.Aliased)&&a.isSelectionField)e.push(bO.identifier(a.fieldAlias));else if(aV(a,bI.Aliased)||aV(a,bI)){let c=aV(a,bI.Aliased)?a.sql:a;b?e.push(new bI(c.queryChunks.map(a=>aV(a,ba)?bO.identifier(this.casing.getColumnCasing(a)):a))):e.push(c),aV(a,bI.Aliased)&&e.push(bO` as ${bO.identifier(a.fieldAlias)}`)}else aV(a,aX)&&(b?e.push(bO.identifier(this.casing.getColumnCasing(a))):e.push(a));return d<c-1&&e.push(bO`, `),e});return bO.join(d)}buildJoins(a){if(!a||0===a.length)return;let b=[];for(let[c,d]of a.entries()){0===c&&b.push(bO` `);let e=d.table,f=d.lateral?bO` lateral`:void 0,g=d.on?bO` on ${d.on}`:void 0;if(aV(e,gB)){let a=e[gB.Symbol.Name],c=e[gB.Symbol.Schema],h=e[gB.Symbol.OriginalName],i=a===h?void 0:d.alias;b.push(bO`${bO.raw(d.joinType)} join${f} ${c?bO`${bO.identifier(c)}.`:void 0}${bO.identifier(h)}${i&&bO` ${bO.identifier(i)}`}${g}`)}else if(aV(e,bS)){let a=e[bs].name,c=e[bs].schema,h=e[bs].originalName,i=a===h?void 0:d.alias;b.push(bO`${bO.raw(d.joinType)} join${f} ${c?bO`${bO.identifier(c)}.`:void 0}${bO.identifier(h)}${i&&bO` ${bO.identifier(i)}`}${g}`)}else b.push(bO`${bO.raw(d.joinType)} join${f} ${e}${g}`);c<a.length-1&&b.push(bO` `)}return bO.join(b)}buildFromTable(a){if(aV(a,bB)&&a[bB.Symbol.IsAlias]){let b=bO`${bO.identifier(a[bB.Symbol.OriginalName])}`;return a[bB.Symbol.Schema]&&(b=bO`${bO.identifier(a[bB.Symbol.Schema])}.${b}`),bO`${b} ${bO.identifier(a[bB.Symbol.Name])}`}return a}buildSelectQuery({withList:a,fields:b,fieldsFlat:c,where:d,having:e,table:f,joins:g,orderBy:h,groupBy:i,limit:j,offset:k,lockingClause:l,distinct:m,setOperators:o}){let p,q,r,s=c??eC(b);for(let a of s){let b;if(aV(a.field,aX)&&bC(a.field.table)!==(aV(f,bo)?f._.alias:aV(f,hs)?f[bs].name:aV(f,bI)?void 0:bC(f))&&(b=a.field.table,!g?.some(({alias:a})=>a===(b[bB.Symbol.IsAlias]?bC(b):b[bB.Symbol.BaseName])))){let b=bC(a.field.table);throw Error(`Your "${a.path.join("->")}" field references a column "${b}"."${a.field.name}", but the table "${b}" is not part of the query! Did you forget to join it?`)}}let t=!g||0===g.length,u=this.buildWithCTE(a);m&&(p=!0===m?bO` distinct`:bO` distinct on (${bO.join(m.on,bO`, `)})`);let v=this.buildSelection(s,{isSingleTable:t}),w=this.buildFromTable(f),x=this.buildJoins(g),y=d?bO` where ${d}`:void 0,z=e?bO` having ${e}`:void 0;h&&h.length>0&&(q=bO` order by ${bO.join(h,bO`, `)}`),i&&i.length>0&&(r=bO` group by ${bO.join(i,bO`, `)}`);let A="object"==typeof j||"number"==typeof j&&j>=0?bO` limit ${j}`:void 0,B=k?bO` offset ${k}`:void 0,C=bO.empty();if(l){let a=bO` for ${bO.raw(l.strength)}`;l.config.of&&a.append(bO` of ${bO.join(Array.isArray(l.config.of)?l.config.of:[l.config.of],bO`, `)}`),l.config.noWait?a.append(bO` nowait`):l.config.skipLocked&&a.append(bO` skip locked`),C.append(a)}let D=bO`${u}select${p} ${v} from ${w}${x}${y}${r}${z}${q}${A}${B}${C}`;return o.length>0?this.buildSetOperations(D,o):D}buildSetOperations(a,b){let[c,...d]=b;if(!c)throw Error("Cannot pass undefined values to any set operator");return 0===d.length?this.buildSetOperationQuery({leftSelect:a,setOperator:c}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:a,setOperator:c}),d)}buildSetOperationQuery({leftSelect:a,setOperator:{type:b,isAll:c,rightSelect:d,limit:e,orderBy:f,offset:g}}){let h,i=bO`(${a.getSQL()}) `,j=bO`(${d.getSQL()})`;if(f&&f.length>0){let a=[];for(let b of f)if(aV(b,ba))a.push(bO.identifier(b.name));else if(aV(b,bI)){for(let a=0;a<b.queryChunks.length;a++){let c=b.queryChunks[a];aV(c,ba)&&(b.queryChunks[a]=bO.identifier(c.name))}a.push(bO`${b}`)}else a.push(bO`${b}`);h=bO` order by ${bO.join(a,bO`, `)} `}let k="object"==typeof e||"number"==typeof e&&e>=0?bO` limit ${e}`:void 0,l=bO.raw(`${b} ${c?"all ":""}`),m=g?bO` offset ${g}`:void 0;return bO`${i}${l}${j}${h}${k}${m}`}buildInsertQuery({table:a,values:b,onConflict:c,returning:d,withList:e,select:f,overridingSystemValue_:g}){let h=[],i=Object.entries(a[bB.Symbol.Columns]).filter(([a,b])=>!b.shouldDisableInsert()),j=i.map(([,a])=>bO.identifier(this.casing.getColumnCasing(a)));if(f){let a=b;aV(a,bI)?h.push(a):h.push(a.getSQL())}else{let a=b;for(let[b,c]of(h.push(bO.raw("values ")),a.entries())){let d=[];for(let[a,b]of i){let e=c[a];if(void 0===e||aV(e,bN)&&void 0===e.value)if(void 0!==b.defaultFn){let a=b.defaultFn(),c=aV(a,bI)?a:bO.param(a,b);d.push(c)}else if(b.default||void 0===b.onUpdateFn)d.push(bO`default`);else{let a=b.onUpdateFn(),c=aV(a,bI)?a:bO.param(a,b);d.push(c)}else d.push(e)}h.push(d),b<a.length-1&&h.push(bO`, `)}}let k=this.buildWithCTE(e),l=bO.join(h),m=d?bO` returning ${this.buildSelection(d,{isSingleTable:!0})}`:void 0,o=c?bO` on conflict ${c}`:void 0,p=!0===g?bO`overriding system value `:void 0;return bO`${k}insert into ${a} ${j} ${p}${l}${o}${m}`}buildRefreshMaterializedViewQuery({view:a,concurrently:b,withNoData:c}){let d=b?bO` concurrently`:void 0,e=c?bO` with no data`:void 0;return bO`refresh materialized view${d} ${a}${e}`}prepareTyping(a){if(aV(a,fr)||aV(a,fo))return"json";if(aV(a,fF))return"decimal";if(aV(a,gc))return"time";if(aV(a,gf)||aV(a,gh))return"timestamp";if(aV(a,e7)||aV(a,e9))return"date";else if(aV(a,cU))return"uuid";else return"none"}sqlToQuery(a,b){return a.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:b})}buildRelationalQueryWithoutPK({fullSchema:a,schema:b,tableNamesMap:c,table:d,tableConfig:e,queryConfig:f,tableAlias:g,nestedQueryRelation:h,joinOn:i}){let j,k=[],l,m,o=[],p,q=[];if(!0===f)k=Object.entries(e.columns).map(([a,b])=>({dbKey:b.name,tsKey:a,field:cC(b,g),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let d=Object.fromEntries(Object.entries(e.columns).map(([a,b])=>[a,cC(b,g)]));if(f.where){let a="function"==typeof f.where?f.where(d,gK()):f.where;p=a&&cE(a,g)}let h=[],i=[];if(f.columns){let a=!1;for(let[b,c]of Object.entries(f.columns))void 0!==c&&b in e.columns&&(a||!0!==c||(a=!0),i.push(b));i.length>0&&(i=a?i.filter(a=>f.columns?.[a]===!0):Object.keys(e.columns).filter(a=>!i.includes(a)))}else i=Object.keys(e.columns);for(let a of i){let b=e.columns[a];h.push({tsKey:a,value:b})}let j=[];if(f.with&&(j=Object.entries(f.with).filter(a=>!!a[1]).map(([a,b])=>({tsKey:a,queryConfig:b,relation:e.relations[a]}))),f.extras)for(let[a,b]of Object.entries("function"==typeof f.extras?f.extras(d,{sql:bO}):f.extras))h.push({tsKey:a,value:cD(b,g)});for(let{tsKey:a,value:b}of h)k.push({dbKey:aV(b,bI.Aliased)?b.fieldAlias:e.columns[a].name,tsKey:a,field:aV(b,aX)?cC(b,g):b,relationTableTsKey:void 0,isJson:!1,selection:[]});let r="function"==typeof f.orderBy?f.orderBy(d,gL()):f.orderBy??[];for(let{tsKey:d,queryConfig:e,relation:h}of(Array.isArray(r)||(r=[r]),o=r.map(a=>aV(a,aX)?cC(a,g):cE(a,g)),l=f.limit,m=f.offset,j)){let f=gQ(b,c,h),i=c[bD(h.referencedTable)],j=`${g}_${d}`,l=bZ(...f.fields.map((a,b)=>bX(cC(f.references[b],j),cC(a,g)))),m=this.buildRelationalQueryWithoutPK({fullSchema:a,schema:b,tableNamesMap:c,table:a[i],tableConfig:b[i],queryConfig:aV(h,gI)?!0===e?{limit:1}:{...e,limit:1}:e,tableAlias:j,joinOn:l,nestedQueryRelation:h}),o=bO`${bO.identifier(j)}.${bO.identifier("data")}`.as(d);q.push({on:bO`true`,table:new bo(m.sql,{},j),alias:j,joinType:"left",lateral:!0}),k.push({dbKey:d,tsKey:d,field:o,relationTableTsKey:i,isJson:!0,selection:m.selection})}}if(0===k.length)throw new hp({message:`No fields selected for table "${e.tsName}" ("${g}")`});if(p=bZ(i,p),h){let a=bO`json_build_array(${bO.join(k.map(({field:a,tsKey:b,isJson:c})=>c?bO`${bO.identifier(`${g}_${b}`)}.${bO.identifier("data")}`:aV(a,bI.Aliased)?a.sql:a),bO`, `)})`;aV(h,gJ)&&(a=bO`coalesce(json_agg(${a}${o.length>0?bO` order by ${bO.join(o,bO`, `)}`:void 0}), '[]'::json)`);let b=[{dbKey:"data",tsKey:"data",field:a.as("data"),isJson:!0,relationTableTsKey:e.tsName,selection:k}];void 0!==l||void 0!==m||o.length>0?(j=this.buildSelectQuery({table:cB(d,g),fields:{},fieldsFlat:[{path:[],field:bO.raw("*")}],where:p,limit:l,offset:m,orderBy:o,setOperators:[]}),p=void 0,l=void 0,m=void 0,o=[]):j=cB(d,g),j=this.buildSelectQuery({table:aV(j,gB)?j:new bo(j,{},g),fields:{},fieldsFlat:b.map(({field:a})=>({path:[],field:aV(a,aX)?cC(a,g):a})),joins:q,where:p,limit:l,offset:m,orderBy:o,setOperators:[]})}else j=this.buildSelectQuery({table:cB(d,g),fields:{},fieldsFlat:k.map(({field:a})=>({path:[],field:aV(a,aX)?cC(a,g):a})),joins:q,where:p,limit:l,offset:m,orderBy:o,setOperators:[]});return{tableTsKey:e.tsName,sql:j,selection:k}}}class hu{static [aU]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}class hv{static [aU]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(a){return this.then(void 0,a)}finally(a){return this.then(b=>(a?.(),b),b=>{throw a?.(),b})}then(a,b){return this.execute().then(a,b)}}function hw(a){return aV(a,gB)?[a[bt]?`${a[bt]}.${a[bB.Symbol.BaseName]}`:a[bB.Symbol.BaseName]]:aV(a,bo)?a._.usedTables??[]:aV(a,bI)?a.usedTables??[]:[]}class hx{static [aU]="PgSelectBuilder";fields;session;dialect;withList=[];distinct;constructor(a){this.fields=a.fields,this.session=a.session,this.dialect=a.dialect,a.withList&&(this.withList=a.withList),this.distinct=a.distinct}authToken;setToken(a){return this.authToken=a,this}from(a){let b,c=!!this.fields,d=a;return b=this.fields?this.fields:aV(d,bo)?Object.fromEntries(Object.keys(d._.selectedFields).map(a=>[a,d[a]])):aV(d,hs)?d[bs].selectedFields:aV(d,bI)?{}:eG(d),new hz({table:d,fields:b,isPartialSelect:c,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct}).setToken(this.authToken)}}class hy extends hu{static [aU]="PgSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;cacheConfig=void 0;usedTables=new Set;constructor({table:a,fields:b,isPartialSelect:c,session:d,dialect:e,withList:f,distinct:g}){for(let h of(super(),this.config={withList:f,table:a,fields:{...b},distinct:g,setOperators:[]},this.isPartialSelect=c,this.session=d,this.dialect=e,this._={selectedFields:b,config:this.config},this.tableName=eH(a),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{},hw(a)))this.usedTables.add(h)}getUsedTables(){return[...this.usedTables]}createJoin(a,b){return(c,d)=>{let e=this.tableName,f=eH(c);for(let a of hw(c))this.usedTables.add(a);if("string"==typeof f&&this.config.joins?.some(a=>a.alias===f))throw Error(`Alias "${f}" is already used in this query`);if(!this.isPartialSelect&&(1===Object.keys(this.joinsNotNullableMap).length&&"string"==typeof e&&(this.config.fields={[e]:this.config.fields}),"string"==typeof f&&!aV(c,bI))){let a=aV(c,bo)?c._.selectedFields:aV(c,bS)?c[bs].selectedFields:c[bB.Symbol.Columns];this.config.fields[f]=a}if("function"==typeof d&&(d=d(new Proxy(this.config.fields,new hk({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:d,table:c,joinType:a,alias:f,lateral:b}),"string"==typeof f)switch(a){case"left":this.joinsNotNullableMap[f]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[f]=!0;break;case"cross":case"inner":this.joinsNotNullableMap[f]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[f]=!1}return this}}leftJoin=this.createJoin("left",!1);leftJoinLateral=this.createJoin("left",!0);rightJoin=this.createJoin("right",!1);innerJoin=this.createJoin("inner",!1);innerJoinLateral=this.createJoin("inner",!0);fullJoin=this.createJoin("full",!1);crossJoin=this.createJoin("cross",!1);crossJoinLateral=this.createJoin("cross",!0);createSetOperator(a,b){return c=>{let d="function"==typeof c?c(hB()):c;if(!eD(this.getSelectedFields(),d.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:a,isAll:b,rightSelect:d}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);intersectAll=this.createSetOperator("intersect",!0);except=this.createSetOperator("except",!1);exceptAll=this.createSetOperator("except",!0);addSetOperators(a){return this.config.setOperators.push(...a),this}where(a){return"function"==typeof a&&(a=a(new Proxy(this.config.fields,new hk({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=a,this}having(a){return"function"==typeof a&&(a=a(new Proxy(this.config.fields,new hk({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=a,this}groupBy(...a){if("function"==typeof a[0]){let b=a[0](new Proxy(this.config.fields,new hk({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(b)?b:[b]}else this.config.groupBy=a;return this}orderBy(...a){if("function"==typeof a[0]){let b=a[0](new Proxy(this.config.fields,new hk({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),c=Array.isArray(b)?b:[b];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=c:this.config.orderBy=c}else{let b=a;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=b:this.config.orderBy=b}return this}limit(a){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=a:this.config.limit=a,this}offset(a){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=a:this.config.offset=a,this}for(a,b={}){return this.config.lockingClause={strength:a,config:b},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:a,...b}=this.dialect.sqlToQuery(this.getSQL());return b}as(a){let b=[];if(b.push(...hw(this.config.table)),this.config.joins)for(let a of this.config.joins)b.push(...hw(a.table));return new Proxy(new bo(this.getSQL(),this.config.fields,a,!1,[...new Set(b)]),new hk({alias:a,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new hk({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}$withCache(a){return this.cacheConfig=void 0===a?{config:{},enable:!0,autoInvalidate:!0}:!1===a?{enable:!1}:{enable:!0,autoInvalidate:!0,...a},this}}class hz extends hy{static [aU]="PgSelect";_prepare(a){let{session:b,config:c,dialect:d,joinsNotNullableMap:e,authToken:f,cacheConfig:g,usedTables:h}=this;if(!b)throw Error("Cannot execute a query on a query builder. Please use a database instance instead.");let{fields:i}=c;return br.startActiveSpan("drizzle.prepareQuery",()=>{let c=eC(i),j=b.prepareQuery(d.sqlToQuery(this.getSQL()),c,a,!0,void 0,{type:"select",tables:[...h]},g);return j.joinsNotNullableMap=e,j.setToken(f)})}prepare(a){return this._prepare(a)}authToken;setToken(a){return this.authToken=a,this}execute=a=>br.startActiveSpan("drizzle.operation",()=>this._prepare().execute(a,this.authToken))}function hA(a,b){return(c,d,...e)=>{let f=[d,...e].map(c=>({type:a,isAll:b,rightSelect:c}));for(let a of f)if(!eD(c.getSelectedFields(),a.rightSelect.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return c.addSetOperators(f)}}eF(hz,[hv]);let hB=()=>({union:hC,unionAll:hD,intersect:hE,intersectAll:hF,except:hG,exceptAll:hH}),hC=hA("union",!1),hD=hA("union",!0),hE=hA("intersect",!1),hF=hA("intersect",!0),hG=hA("except",!1),hH=hA("except",!0);class hI{static [aU]="PgQueryBuilder";dialect;dialectConfig;constructor(a){this.dialect=aV(a,ht)?a:void 0,this.dialectConfig=aV(a,ht)?void 0:a}$with=(a,b)=>{let c=this;return{as:d=>("function"==typeof d&&(d=d(c)),new Proxy(new bp(d.getSQL(),b??("getSelectedFields"in d?d.getSelectedFields()??{}:{}),a,!0),new hk({alias:a,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};with(...a){let b=this;return{select:function(c){return new hx({fields:c??void 0,session:void 0,dialect:b.getDialect(),withList:a})},selectDistinct:function(a){return new hx({fields:a??void 0,session:void 0,dialect:b.getDialect(),distinct:!0})},selectDistinctOn:function(a,c){return new hx({fields:c??void 0,session:void 0,dialect:b.getDialect(),distinct:{on:a}})}}}select(a){return new hx({fields:a??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(a){return new hx({fields:a??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(a,b){return new hx({fields:b??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:a}})}getDialect(){return this.dialect||(this.dialect=new ht(this.dialectConfig)),this.dialect}}let hJ=Symbol.for("drizzle:PgViewConfig");class hK{constructor(a,b){this.name=a,this.schema=b}static [aU]="PgDefaultViewBuilderCore";config={};with(a){return this.config.with=a,this}}class hL extends hK{static [aU]="PgViewBuilder";as(a){"function"==typeof a&&(a=a(new hI));let b=new hk({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),c=new Proxy(a.getSelectedFields(),b);return new Proxy(new hQ({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:c,query:a.getSQL().inlineParams()}}),b)}}class hM extends hK{static [aU]="PgManualViewBuilder";columns;constructor(a,b,c){super(a,c),this.columns=eG(gD(a,b))}existing(){return new Proxy(new hQ({pgConfig:void 0,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new hk({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(a){return new Proxy(new hQ({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:a.inlineParams()}}),new hk({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}}class hN{constructor(a,b){this.name=a,this.schema=b}static [aU]="PgMaterializedViewBuilderCore";config={};using(a){return this.config.using=a,this}with(a){return this.config.with=a,this}tablespace(a){return this.config.tablespace=a,this}withNoData(){return this.config.withNoData=!0,this}}class hO extends hN{static [aU]="PgMaterializedViewBuilder";as(a){"function"==typeof a&&(a=a(new hI));let b=new hk({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),c=new Proxy(a.getSelectedFields(),b);return new Proxy(new hS({pgConfig:{with:this.config.with,using:this.config.using,tablespace:this.config.tablespace,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:c,query:a.getSQL().inlineParams()}}),b)}}class hP extends hN{static [aU]="PgManualMaterializedViewBuilder";columns;constructor(a,b,c){super(a,c),this.columns=eG(gD(a,b))}existing(){return new Proxy(new hS({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new hk({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(a){return new Proxy(new hS({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:a.inlineParams()}}),new hk({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}}class hQ extends hs{static [aU]="PgView";[hJ];constructor({pgConfig:a,config:b}){super(b),a&&(this[hJ]={with:a.with})}}let hR=Symbol.for("drizzle:PgMaterializedViewConfig");class hS extends hs{static [aU]="PgMaterializedView";[hR];constructor({pgConfig:a,config:b}){super(b),this[hR]={with:a?.with,using:a?.using,tablespace:a?.tablespace,withNoData:a?.withNoData}}}function hT(a,b,c){return b?new hM(a,b,c):new hL(a,c)}function hU(a,b,c){return b?new hP(a,b,c):new hO(a,c)}class hV{constructor(a){this.schemaName=a}static [aU]="PgSchema";table=(a,b,c)=>gC(a,b,c,this.schemaName);view=(a,b)=>hT(a,b,this.schemaName);materializedView=(a,b)=>hU(a,b,this.schemaName);enum(a,b){return Array.isArray(b)?bm(a,[...b],this.schemaName):bn(a,b,this.schemaName)}sequence=(a,b)=>hj(a,b,this.schemaName);getSQL(){return new bI([bO.identifier(this.schemaName)])}shouldOmitSQLParens(){return!0}}function hW(a){if("public"===a)throw Error("You can't specify 'public' as schema name. Postgres is using public schema by default. If you want to use 'public' schema, just use pgTable() instead of creating a schema");return new hV(a)}let hX=a=>{let b=process.cwd(),c=l.resolve(b,"src/migrations"),d=l.resolve(b,"dist/migrations"),e=l.resolve(b,"migrations");return a||(k.existsSync(c)?c:k.existsSync(d)?d:k.existsSync(e)?e:k.existsSync(l.resolve(b,"src"))?c:e)};var hY=c(38807);let hZ=async function({id:a,data:b,limit:c,req:d,returning:e,where:f}){let g=[],h=(a?[await this.findOne({collection:hY.SJ,req:d,where:{id:{equals:a}}})]:(await this.find({collection:hY.SJ,limit:c,pagination:!1,req:d,where:f})).docs).filter(Boolean);if(!h)return null;for(let a of h){let c={...a,...b},f=await this.updateOne({id:a.id,collection:hY.SJ,data:c,req:d,returning:e});g.push(f)}return g},h$=`
import {
  MigrateUpArgs,
  MigrateDownArgs,
} from "@payloadcms/db-mongodb";

export async function up({ payload, req }: MigrateUpArgs): Promise<void> {
  // Migration code
};

export async function down({ payload, req }: MigrateDownArgs): Promise<void> {
  // Migration code
};
`,h_=function({migrationName:a,payload:b}){let c=b.db.migrationDir;k.existsSync(c)||k.mkdirSync(c);let[d,e]=new Date().toISOString().split("T"),f=d.replace(/\D/g,""),g=e.split(".")[0].replace(/\D/g,""),h=`${f}_${g}`,i=a.replace(/\W/g,"_"),j=`${h}_${i}.ts`,l=`${c}/${j}`;k.writeFileSync(l,h$),aN({migrationsDir:b.db.migrationDir}),b.logger.info({msg:`Migration created at ${l}`})},h0=async function(a){let{payload:b}=this,c=a?.migrations||await d0({payload:b}),{existingMigrations:d,latestBatch:e}=await d9({payload:b}),f=e+1;for(let a of c){if(d.find(b=>b.name===a.name))continue;let c=Date.now(),e=await (0,d1.M)({},b);b.logger.info({msg:`Migrating: ${a.name}`});try{await (0,d2.n)(e);let d=b.db.sessions?.[await e.transactionID];await a.up({payload:b,req:e,session:d}),b.logger.info({msg:`Migrated:  ${a.name} (${Date.now()-c}ms)`}),await b.create({collection:"payload-migrations",data:{name:a.name,batch:f},req:e}),await (0,d3.w)(e)}catch(c){throw await (0,d4.J)(e),b.logger.error({err:c,msg:`Error running migration ${a.name}`}),c}}};async function h1(){let{payload:a}=this,b=await d0({payload:a}),{existingMigrations:c,latestBatch:d}=await d9({payload:a});if(!c?.length)return void a.logger.info({msg:"No migrations to rollback."});for(let e of(a.logger.info({msg:`Rolling back batch ${d} consisting of ${c.length} migration(s).`}),c.filter(({batch:a})=>a===d))){let c=b.find(a=>a.name===e.name);if(!c)throw Error(`Migration ${e.name} not found locally.`);let d=Date.now(),f=await (0,d1.M)({},a);try{a.logger.info({msg:`Migrating down: ${c.name}`}),await (0,d2.n)(f);let b=a.db.sessions?.[await f.transactionID];await c.down({payload:a,req:f,session:b}),a.logger.info({msg:`Migrated down:  ${c.name} (${Date.now()-d}ms)`}),await a.delete({id:e.id,collection:"payload-migrations",req:f}),await (0,d3.w)(f)}catch(b){await (0,d4.J)(f),a.logger.error({err:b,msg:`Error running migration ${c.name}`}),process.exit(1)}}}async function h2(){let{payload:a}=this,b=await d0({payload:a}),{existingMigrations:c}=await d9({payload:a}),d=await (0,d1.M)({},a);if(c?.length)for(let e of(a.logger.info({msg:`Rolling back all ${c.length} migration(s).`}),c.reverse(),c))try{let c=b.find(a=>a.name===e.name);if(!c)throw Error(`Migration ${e.name} not found locally.`);a.logger.info({msg:`Migrating down: ${e.name}`});let f=Date.now();await (0,d2.n)(d);let g=a.db.sessions?.[await d.transactionID];await c.down({payload:a,req:d,session:g}),a.logger.info({msg:`Migrated down:  ${e.name} (${Date.now()-f}ms)`}),await a.delete({collection:"payload-migrations",req:d,where:{name:{equals:e.name}}})}catch(c){await (0,d4.J)(d);let b=`Error running migration ${e.name}. Rolling back.`;c instanceof Error&&(b+=` ${c.message}`),a.logger.error({err:c,msg:b}),process.exit(1)}else a.logger.info({msg:"No migrations to rollback."});for(let c of b){a.logger.info({msg:`Migrating: ${c.name}`});try{let b=Date.now();await (0,d2.n)(d),await c.up({payload:a,req:d}),await a.create({collection:"payload-migrations",data:{name:c.name,executed:!0},req:d}),await (0,d3.w)(d),a.logger.info({msg:`Migrated:  ${c.name} (${Date.now()-b}ms)`})}catch(e){await (0,d4.J)(d);let b=`Error running migration ${c.name}. Rolling back.`;e instanceof Error&&(b+=` ${e.message}`),a.logger.error({err:e,msg:b}),process.exit(1)}}}async function h3(){let{payload:a}=this,b=await d0({payload:a}),{existingMigrations:c}=await d9({payload:a});if(!c?.length)return void a.logger.info({msg:"No migrations to reset."});let d=await (0,d1.M)({},a);for(let e of(b.reverse(),b)){let b=c.find(a=>a.name===e.name);if(b){a.logger.info({msg:`Migrating down: ${e.name}`});try{let c=Date.now();await (0,d2.n)(d);let f=a.db.sessions?.[await d.transactionID];await e.down({payload:a,req:d,session:f}),await a.delete({collection:"payload-migrations",req:d,where:{id:{equals:b.id}}}),await (0,d3.w)(d),a.logger.info({msg:`Migrated down:  ${e.name} (${Date.now()-c}ms)`})}catch(b){throw await (0,d4.J)(d),a.logger.error({err:b,msg:`Error running migration ${e.name}`}),b}}}try{await a.delete({collection:"payload-migrations",where:{batch:{equals:-1}}})}catch(b){a.logger.error({err:b,msg:"Error deleting dev migration"})}}async function h4(){let{payload:a}=this,b=await d0({payload:a});a.logger.debug({msg:`Found ${b.length} migration files.`});let{existingMigrations:c}=await d9({payload:a});if(!b.length)return void a.logger.info({msg:"No migrations found."});let d=b.map(a=>{let b=c.find(b=>b.name===a.name);return{Name:a.name,Batch:b?.batch,Ran:b?"Yes":"No"}}),e=new ee.Table;d.forEach(a=>{e.addRow(a,{color:"Yes"===a.Ran?"green":"red"})}),e.printTable()}let h5=()=>Promise.resolve(null),h6=()=>Promise.resolve(null),h7=()=>Promise.resolve(null);function h8(a){return{beginTransaction:h5,commitTransaction:h7,createMigration:h_,migrate:h0,migrateDown:h1,migrateFresh:()=>Promise.resolve(null),migrateRefresh:h2,migrateReset:h3,migrateStatus:h4,rollbackTransaction:h6,updateJobs:hZ,...a,migrationDir:a.migrationDir||"migrations"}}function h9(){let a=Promise.resolve(null);return()=>a}var ia=c(6805),ib=c(79551);class ic{static [aU]="ConsoleLogWriter";write(a){console.log(a)}}class id{static [aU]="DefaultLogger";writer;constructor(a){this.writer=a?.writer??new ic}logQuery(a,b){let c=b.map(a=>{try{return JSON.stringify(a)}catch{return String(a)}}),d=c.length?` -- params: [${c.join(", ")}]`:"";this.writer.write(`Query: ${a}${d}`)}}class ie{static [aU]="NoopLogger";logQuery(){}}class ig{constructor(a,b,c,d){this.table=a,this.session=b,this.dialect=c,this.withList=d}static [aU]="PgUpdateBuilder";authToken;setToken(a){return this.authToken=a,this}set(a){return new ih(this.table,eE(this.table,a),this.session,this.dialect,this.withList).setToken(this.authToken)}}class ih extends hv{constructor(a,b,c,d,e){super(),this.session=c,this.dialect=d,this.config={set:b,table:a,withList:e,joins:[]},this.tableName=eH(a),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{}}static [aU]="PgUpdate";config;tableName;joinsNotNullableMap;cacheConfig;from(a){let b=a,c=eH(b);return"string"==typeof c&&(this.joinsNotNullableMap[c]=!0),this.config.from=b,this}getTableLikeFields(a){return aV(a,gB)?a[bB.Symbol.Columns]:aV(a,bo)?a._.selectedFields:a[bs].selectedFields}createJoin(a){return(b,c)=>{let d=eH(b);if("string"==typeof d&&this.config.joins.some(a=>a.alias===d))throw Error(`Alias "${d}" is already used in this query`);if("function"==typeof c){let a=this.config.from&&!aV(this.config.from,bI)?this.getTableLikeFields(this.config.from):void 0;c=c(new Proxy(this.config.table[bB.Symbol.Columns],new hk({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),a&&new Proxy(a,new hk({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}if(this.config.joins.push({on:c,table:b,joinType:a,alias:d}),"string"==typeof d)switch(a){case"left":this.joinsNotNullableMap[d]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[d]=!0;break;case"inner":this.joinsNotNullableMap[d]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[d]=!1}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(a){return this.config.where=a,this}returning(a){if(!a&&(a=Object.assign({},this.config.table[bB.Symbol.Columns]),this.config.from)){let b=eH(this.config.from);if("string"==typeof b&&this.config.from&&!aV(this.config.from,bI)){let c=this.getTableLikeFields(this.config.from);a[b]=c}for(let b of this.config.joins){let c=eH(b.table);if("string"==typeof c&&!aV(b.table,bI)){let d=this.getTableLikeFields(b.table);a[c]=d}}}return this.config.returningFields=a,this.config.returning=eC(a),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:a,...b}=this.dialect.sqlToQuery(this.getSQL());return b}_prepare(a){let b=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,a,!0,void 0,{type:"insert",tables:hw(this.config.table)},this.cacheConfig);return b.joinsNotNullableMap=this.joinsNotNullableMap,b}prepare(a){return this._prepare(a)}authToken;setToken(a){return this.authToken=a,this}execute=a=>this._prepare().execute(a,this.authToken);getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new hk({alias:bC(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}class ii{constructor(a,b,c,d,e){this.table=a,this.session=b,this.dialect=c,this.withList=d,this.overridingSystemValue_=e}static [aU]="PgInsertBuilder";authToken;setToken(a){return this.authToken=a,this}overridingSystemValue(){return this.overridingSystemValue_=!0,this}values(a){if(0===(a=Array.isArray(a)?a:[a]).length)throw Error("values() must be called with at least one value");let b=a.map(a=>{let b={},c=this.table[bB.Symbol.Columns];for(let d of Object.keys(a)){let e=a[d];b[d]=aV(e,bI)?e:new bN(e,c[d])}return b});return new ij(this.table,b,this.session,this.dialect,this.withList,!1,this.overridingSystemValue_).setToken(this.authToken)}select(a){let b="function"==typeof a?a(new hI):a;if(!aV(b,bI)&&!eD(this.table[bu],b._.selectedFields))throw Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new ij(this.table,b,this.session,this.dialect,this.withList,!0)}}class ij extends hv{constructor(a,b,c,d,e,f,g){super(),this.session=c,this.dialect=d,this.config={table:a,values:b,withList:e,select:f,overridingSystemValue_:g}}static [aU]="PgInsert";config;cacheConfig;returning(a=this.config.table[bB.Symbol.Columns]){return this.config.returningFields=a,this.config.returning=eC(a),this}onConflictDoNothing(a={}){if(void 0===a.target)this.config.onConflict=bO`do nothing`;else{let b="";b=Array.isArray(a.target)?a.target.map(a=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(a))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(a.target));let c=a.where?bO` where ${a.where}`:void 0;this.config.onConflict=bO`(${bO.raw(b)})${c} do nothing`}return this}onConflictDoUpdate(a){if(a.where&&(a.targetWhere||a.setWhere))throw Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');let b=a.where?bO` where ${a.where}`:void 0,c=a.targetWhere?bO` where ${a.targetWhere}`:void 0,d=a.setWhere?bO` where ${a.setWhere}`:void 0,e=this.dialect.buildUpdateSet(this.config.table,eE(this.config.table,a.set)),f="";return f=Array.isArray(a.target)?a.target.map(a=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(a))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(a.target)),this.config.onConflict=bO`(${bO.raw(f)})${c} do update set ${e}${b}${d}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:a,...b}=this.dialect.sqlToQuery(this.getSQL());return b}_prepare(a){return br.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,a,!0,void 0,{type:"insert",tables:hw(this.config.table)},this.cacheConfig))}prepare(a){return this._prepare(a)}authToken;setToken(a){return this.authToken=a,this}execute=a=>br.startActiveSpan("drizzle.operation",()=>this._prepare().execute(a,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new hk({alias:bC(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}class ik extends hv{constructor(a,b,c,d){super(),this.session=b,this.dialect=c,this.config={table:a,withList:d}}static [aU]="PgDelete";config;cacheConfig;where(a){return this.config.where=a,this}returning(a=this.config.table[bB.Symbol.Columns]){return this.config.returningFields=a,this.config.returning=eC(a),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:a,...b}=this.dialect.sqlToQuery(this.getSQL());return b}_prepare(a){return br.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,a,!0,void 0,{type:"delete",tables:hw(this.config.table)},this.cacheConfig))}prepare(a){return this._prepare(a)}authToken;setToken(a){return this.authToken=a,this}execute=a=>br.startActiveSpan("drizzle.operation",()=>this._prepare().execute(a,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new hk({alias:bC(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}class il extends bI{constructor(a){super(il.buildEmbeddedCount(a.source,a.filters).queryChunks),this.params=a,this.mapWith(Number),this.session=a.session,this.sql=il.buildCount(a.source,a.filters)}sql;token;static [aU]="PgCountBuilder";[Symbol.toStringTag]="PgCountBuilder";session;static buildEmbeddedCount(a,b){return bO`(select count(*) from ${a}${bO.raw(" where ").if(b)}${b})`}static buildCount(a,b){return bO`select count(*) as count from ${a}${bO.raw(" where ").if(b)}${b};`}setToken(a){return this.token=a,this}then(a,b){return Promise.resolve(this.session.count(this.sql,this.token)).then(a,b)}catch(a){return this.then(void 0,a)}finally(a){return this.then(b=>(a?.(),b),b=>{throw a?.(),b})}}class im{constructor(a,b,c,d,e,f,g){this.fullSchema=a,this.schema=b,this.tableNamesMap=c,this.table=d,this.tableConfig=e,this.dialect=f,this.session=g}static [aU]="PgRelationalQueryBuilder";findMany(a){return new io(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,a||{},"many")}findFirst(a){return new io(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,a?{...a,limit:1}:{limit:1},"first")}}class io extends hv{constructor(a,b,c,d,e,f,g,h,i){super(),this.fullSchema=a,this.schema=b,this.tableNamesMap=c,this.table=d,this.tableConfig=e,this.dialect=f,this.session=g,this.config=h,this.mode=i}static [aU]="PgRelationalQuery";_prepare(a){return br.startActiveSpan("drizzle.prepareQuery",()=>{let{query:b,builtQuery:c}=this._toSQL();return this.session.prepareQuery(c,void 0,a,!0,(a,c)=>{let d=a.map(a=>gS(this.schema,this.tableConfig,a,b.selection,c));return"first"===this.mode?d[0]:d})})}prepare(a){return this._prepare(a)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){let a=this._getQuery(),b=this.dialect.sqlToQuery(a.sql);return{query:a,builtQuery:b}}toSQL(){return this._toSQL().builtQuery}authToken;setToken(a){return this.authToken=a,this}execute(){return br.startActiveSpan("drizzle.operation",()=>this._prepare().execute(void 0,this.authToken))}}class ip extends hv{constructor(a,b,c,d){super(),this.execute=a,this.sql=b,this.query=c,this.mapBatchResult=d}static [aU]="PgRaw";getSQL(){return this.sql}getQuery(){return this.query}mapResult(a,b){return b?this.mapBatchResult(a):a}_prepare(){return this}isResponseInArrayMode(){return!1}}class iq extends hv{constructor(a,b,c){super(),this.session=b,this.dialect=c,this.config={view:a}}static [aU]="PgRefreshMaterializedView";config;concurrently(){if(void 0!==this.config.withNoData)throw Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(void 0!==this.config.concurrently)throw Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){let{typings:a,...b}=this.dialect.sqlToQuery(this.getSQL());return b}_prepare(a){return br.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,a,!0))}prepare(a){return this._prepare(a)}authToken;setToken(a){return this.authToken=a,this}execute=a=>br.startActiveSpan("drizzle.operation",()=>this._prepare().execute(a,this.authToken))}class ir{constructor(a,b,c){if(this.dialect=a,this.session=b,this._=c?{schema:c.schema,fullSchema:c.fullSchema,tableNamesMap:c.tableNamesMap,session:b}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:b},this.query={},this._.schema)for(let[d,e]of Object.entries(this._.schema))this.query[d]=new im(c.fullSchema,this._.schema,this._.tableNamesMap,c.fullSchema[d],e,a,b);this.$cache={invalidate:async a=>{}}}static [aU]="PgDatabase";query;$with=(a,b)=>{let c=this;return{as:d=>("function"==typeof d&&(d=d(new hI(c.dialect))),new Proxy(new bp(d.getSQL(),b??("getSelectedFields"in d?d.getSelectedFields()??{}:{}),a,!0),new hk({alias:a,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};$count(a,b){return new il({source:a,filters:b,session:this.session})}$cache;with(...a){let b=this;return{select:function(c){return new hx({fields:c??void 0,session:b.session,dialect:b.dialect,withList:a})},selectDistinct:function(c){return new hx({fields:c??void 0,session:b.session,dialect:b.dialect,withList:a,distinct:!0})},selectDistinctOn:function(c,d){return new hx({fields:d??void 0,session:b.session,dialect:b.dialect,withList:a,distinct:{on:c}})},update:function(c){return new ig(c,b.session,b.dialect,a)},insert:function(c){return new ii(c,b.session,b.dialect,a)},delete:function(c){return new ik(c,b.session,b.dialect,a)}}}select(a){return new hx({fields:a??void 0,session:this.session,dialect:this.dialect})}selectDistinct(a){return new hx({fields:a??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(a,b){return new hx({fields:b??void 0,session:this.session,dialect:this.dialect,distinct:{on:a}})}update(a){return new ig(a,this.session,this.dialect)}insert(a){return new ii(a,this.session,this.dialect)}delete(a){return new ik(a,this.session,this.dialect)}refreshMaterializedView(a){return new iq(a,this.session,this.dialect)}authToken;execute(a){let b="string"==typeof a?bO.raw(a):a.getSQL(),c=this.dialect.sqlToQuery(b),d=this.session.prepareQuery(c,void 0,void 0,!1);return new ip(()=>d.execute(void 0,this.authToken),b,c,a=>d.mapResult(a,!0))}transaction(a,b){return this.session.transaction(a,b)}}let is=(a,b,c=()=>b[Math.floor(Math.random()*b.length)])=>{let d=(...a)=>c(b).select(...a),e=(...a)=>c(b).selectDistinct(...a),f=(...a)=>c(b).selectDistinctOn(...a),g=(...a)=>c(b).$count(...a),h=(...a)=>c(b).with(...a),i=a=>c(b).$with(a),j=(...b)=>a.update(...b),k=(...b)=>a.insert(...b),l=(...b)=>a.delete(...b),m=(...b)=>a.execute(...b),o=(...b)=>a.transaction(...b),p=(...b)=>a.refreshMaterializedView(...b);return{...a,update:j,insert:k,delete:l,execute:m,transaction:o,refreshMaterializedView:p,$primary:a,$replicas:b,select:d,selectDistinct:e,selectDistinctOn:f,$count:g,$with:i,with:h,get query(){return c(b).query}}};class it{static [aU]="Cache"}class iu extends it{strategy(){return"all"}static [aU]="NoopCache";async get(a){}async put(a,b,c,d){}async onMutate(a){}}async function iv(a,b){let c=`${a}-${JSON.stringify(b)}`,d=new TextEncoder().encode(c);return[...new Uint8Array(await crypto.subtle.digest("SHA-256",d))].map(a=>a.toString(16).padStart(2,"0")).join("")}class iw{constructor(a,b,c,d){this.query=a,this.cache=b,this.queryMetadata=c,this.cacheConfig=d,b&&"all"===b.strategy()&&void 0===d&&(this.cacheConfig={enable:!0,autoInvalidate:!0}),this.cacheConfig?.enable||(this.cacheConfig=void 0)}authToken;getQuery(){return this.query}mapResult(a,b){return a}setToken(a){return this.authToken=a,this}static [aU]="PgPreparedQuery";joinsNotNullableMap;async queryWithCache(a,b,c){if(void 0===this.cache||aV(this.cache,iu)||void 0===this.queryMetadata||this.cacheConfig&&!this.cacheConfig.enable)try{return await c()}catch(c){throw new hq(a,b,c)}if(("insert"===this.queryMetadata.type||"update"===this.queryMetadata.type||"delete"===this.queryMetadata.type)&&this.queryMetadata.tables.length>0)try{let[a]=await Promise.all([c(),this.cache.onMutate({tables:this.queryMetadata.tables})]);return a}catch(c){throw new hq(a,b,c)}if(!this.cacheConfig)try{return await c()}catch(c){throw new hq(a,b,c)}if("select"===this.queryMetadata.type){let d=await this.cache.get(this.cacheConfig.tag??await iv(a,b),this.queryMetadata.tables,void 0!==this.cacheConfig.tag,this.cacheConfig.autoInvalidate);if(void 0===d){let d;try{d=await c()}catch(c){throw new hq(a,b,c)}return await this.cache.put(this.cacheConfig.tag??await iv(a,b),d,this.cacheConfig.autoInvalidate?this.queryMetadata.tables:[],void 0!==this.cacheConfig.tag,this.cacheConfig.config),d}return d}try{return await c()}catch(c){throw new hq(a,b,c)}}}class ix{constructor(a){this.dialect=a}static [aU]="PgSession";execute(a,b){return br.startActiveSpan("drizzle.operation",()=>br.startActiveSpan("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(a),void 0,void 0,!1)).setToken(b).execute(void 0,b))}all(a){return this.prepareQuery(this.dialect.sqlToQuery(a),void 0,void 0,!1).all()}async count(a,b){return Number((await this.execute(a,b))[0].count)}}class iy extends ir{constructor(a,b,c,d=0){super(a,b,c),this.schema=c,this.nestedIndex=d}static [aU]="PgTransaction";rollback(){throw new hr}getTransactionConfigSQL(a){let b=[];return a.isolationLevel&&b.push(`isolation level ${a.isolationLevel}`),a.accessMode&&b.push(a.accessMode),"boolean"==typeof a.deferrable&&b.push(a.deferrable?"deferrable":"not deferrable"),bO.raw(b.join(" "))}setTransaction(a){return this.session.execute(bO`set transaction ${this.getTransactionConfigSQL(a)}`)}}let{Pool:iz,types:iA}=ia.default;class iB extends iw{constructor(a,b,c,d,e,f,g,h,i,j,k){super({sql:b,params:c},e,f,g),this.client=a,this.queryString=b,this.params=c,this.logger=d,this.fields=h,this._isResponseInArrayMode=j,this.customResultMapper=k,this.rawQueryConfig={name:i,text:b,types:{getTypeParser:(a,b)=>a===iA.builtins.TIMESTAMPTZ||a===iA.builtins.TIMESTAMP||a===iA.builtins.DATE||a===iA.builtins.INTERVAL||1231===a||1115===a||1185===a||1187===a||1182===a?a=>a:iA.getTypeParser(a,b)}},this.queryConfig={name:i,text:b,rowMode:"array",types:{getTypeParser:(a,b)=>a===iA.builtins.TIMESTAMPTZ||a===iA.builtins.TIMESTAMP||a===iA.builtins.DATE||a===iA.builtins.INTERVAL||1231===a||1115===a||1185===a||1187===a||1182===a?a=>a:iA.getTypeParser(a,b)}}}static [aU]="NodePgPreparedQuery";rawQueryConfig;queryConfig;async execute(a={}){return br.startActiveSpan("drizzle.execute",async()=>{let b=bQ(this.params,a);this.logger.logQuery(this.rawQueryConfig.text,b);let{fields:c,rawQueryConfig:d,client:e,queryConfig:f,joinsNotNullableMap:g,customResultMapper:h}=this;if(!c&&!h)return br.startActiveSpan("drizzle.driver.execute",async a=>(a?.setAttributes({"drizzle.query.name":d.name,"drizzle.query.text":d.text,"drizzle.query.params":JSON.stringify(b)}),this.queryWithCache(d.text,b,async()=>await e.query(d,b))));let i=await br.startActiveSpan("drizzle.driver.execute",a=>(a?.setAttributes({"drizzle.query.name":f.name,"drizzle.query.text":f.text,"drizzle.query.params":JSON.stringify(b)}),this.queryWithCache(f.text,b,async()=>await e.query(f,b))));return br.startActiveSpan("drizzle.mapResponse",()=>h?h(i.rows):i.rows.map(a=>eB(c,a,g)))})}all(a={}){return br.startActiveSpan("drizzle.execute",()=>{let b=bQ(this.params,a);return this.logger.logQuery(this.rawQueryConfig.text,b),br.startActiveSpan("drizzle.driver.execute",a=>(a?.setAttributes({"drizzle.query.name":this.rawQueryConfig.name,"drizzle.query.text":this.rawQueryConfig.text,"drizzle.query.params":JSON.stringify(b)}),this.queryWithCache(this.rawQueryConfig.text,b,async()=>this.client.query(this.rawQueryConfig,b)).then(a=>a.rows)))})}isResponseInArrayMode(){return this._isResponseInArrayMode}}class iC extends ix{constructor(a,b,c,d={}){super(b),this.client=a,this.schema=c,this.options=d,this.logger=d.logger??new ie,this.cache=d.cache??new iu}static [aU]="NodePgSession";logger;cache;prepareQuery(a,b,c,d,e,f,g){return new iB(this.client,a.sql,a.params,this.logger,this.cache,f,g,b,c,d,e)}async transaction(a,b){let c=this.client instanceof iz?new iC(await this.client.connect(),this.dialect,this.schema,this.options):this,d=new iD(this.dialect,c,this.schema);await d.execute(bO`begin${b?bO` ${d.getTransactionConfigSQL(b)}`:void 0}`);try{let b=await a(d);return await d.execute(bO`commit`),b}catch(a){throw await d.execute(bO`rollback`),a}finally{this.client instanceof iz&&c.client.release()}}async count(a){return Number((await this.execute(a)).rows[0].count)}}class iD extends iy{static [aU]="NodePgTransaction";async transaction(a){let b=`sp${this.nestedIndex+1}`,c=new iD(this.dialect,this.session,this.schema,this.nestedIndex+1);await c.execute(bO.raw(`savepoint ${b}`));try{let d=await a(c);return await c.execute(bO.raw(`release savepoint ${b}`)),d}catch(a){throw await c.execute(bO.raw(`rollback to savepoint ${b}`)),a}}}class iE{constructor(a,b,c={}){this.client=a,this.dialect=b,this.options=c}static [aU]="NodePgDriver";createSession(a){return new iC(this.client,this.dialect,a,{logger:this.options.logger,cache:this.options.cache})}}class iF extends ir{static [aU]="NodePgDatabase"}function iG(a,b={}){let c,d,e=new ht({casing:b.casing});if(!0===b.logger?c=new id:!1!==b.logger&&(c=b.logger),b.schema){let a=gM(b.schema,gR);d={fullSchema:b.schema,schema:a.tables,tableNamesMap:a.tableNamesMap}}let f=new iE(a,e,{logger:c,cache:b.cache}).createSession(d),g=new iF(e,f,d);return g.$client=a,g.$cache=b.cache,g.$cache&&(g.$cache.invalidate=b.cache?.onMutate),g}function iH(...a){if("string"==typeof a[0])return iG(new ia.default.Pool({connectionString:a[0]}),a[1]);if(eJ(a[0])){let{connection:b,client:c,...d}=a[0];return c?iG(c,d):iG(new ia.default.Pool("string"==typeof b?{connectionString:b}:b),d)}return iG(a[0],a[1])}(a=>{a.mock=function(a){return iG({},a)}})(iH||(iH={}));let iI=async function({adapter:a,pool:b,reconnect:c=!1}){let d;if(c)try{d=await b.connect()}catch(c){setTimeout(()=>{a.payload.logger.info("Reconnecting to postgres"),iI({adapter:a,pool:b,reconnect:!0})},1e3)}else d=await b.connect();d&&d.prependListener("error",c=>{try{"ECONNRESET"===c.code&&iI({adapter:a,pool:b,reconnect:!0})}catch(a){}})},iJ=async function(a={hotReload:!1}){let{hotReload:b}=a;try{this.pool||(this.pool=new this.pg.Pool(this.poolOptions),await iI({adapter:this,pool:this.pool}));let a=this.logger||!1;if(this.drizzle=iH({client:this.pool,logger:a,schema:this.schema}),this.readReplicaOptions){let b=this.readReplicaOptions.map(b=>{let c={...this.poolOptions,connectionString:b},d=new this.pg.Pool(c);return iI({adapter:this,pool:d}),iH({client:d,logger:a,schema:this.schema})}),c=is(this.drizzle,b);this.drizzle=c}b||"true"!==process.env.PAYLOAD_DROP_DATABASE||(this.payload.logger.info(`---- DROPPING TABLES SCHEMA(${this.schemaName||"public"}) ----`),await this.dropDatabase({adapter:this}),this.payload.logger.info("---- DROPPED TABLES ----"))}catch(c){let b=c instanceof Error?c:Error(String(c));if(b.message?.match(/database .* does not exist/i)&&!this.disableCreateDatabase){if(this.payload.logger.info(`${b.message.charAt(0).toUpperCase()+b.message.slice(1)}, creating...`),await this.createDatabase()&&this.connect)return void await this.connect(a)}else this.payload.logger.error({err:b,msg:`Error: cannot connect to Postgres. Details: ${b.message}`});throw"function"==typeof this.rejectInitializing&&this.rejectInitializing(),Error(`Error: cannot connect to Postgres: ${b.message}`)}await this.createExtensions(),"function"==typeof this.resolveInitializing&&this.resolveInitializing(),this.prodMigrations&&await this.migrate({migrations:this.prodMigrations})},iK=(0,ib.fileURLToPath)("file:///home/node/app/node_modules/.pnpm/@payloadcms+db-postgres@3.69.0_payload@3.69.0_graphql@16.10.0_typescript@5.7.3_/node_modules/@payloadcms/db-postgres/dist/index.js");function iL(a){let b=a.idType||"serial",c="serial"===b?"number":"text",d=a.allowIDOnCreate??!1;function e({payload:e}){let f,g,h,i=hX(a.migrationDir),j=new Promise((a,b)=>{f=a,g=b});h=a.schemaName?hW(a.schemaName):{enum:bl,table:gD};let k=(a.extensions??[]).reduce((a,b)=>(a[b]=!0,a),{});return h8({name:"postgres",afterSchemaInit:a.afterSchemaInit??[],allowIDOnCreate:d,beforeSchemaInit:a.beforeSchemaInit??[],blocksAsJSON:a.blocksAsJSON??!1,createDatabase:eq,createExtensions:er,createMigration:aR({executeMethod:"execute",filename:iK,sanitizeStatements:({sqlExecute:a,statements:b})=>`${a}
 ${b.join("\n")}\`)`}),defaultDrizzleSnapshot:es,disableCreateDatabase:a.disableCreateDatabase??!1,drizzle:void 0,enums:{},extensions:k,features:{json:!0},fieldConstraints:{},findDistinct:c6,generateSchema:(0,c7.d)({columnToCodeConverter:et,corePackageSuffix:"pg-core",defaultOutputFile:a.generateSchemaOutputFile,enumImport:"pgEnum",schemaImport:"pgSchema",tableImport:"pgTable"}),idType:b,initializing:j,localesSuffix:a.localesSuffix||"_locales",logger:a.logger,operators:c8,pg:a.pg||ia.default,pgSchema:h,pool:void 0,poolOptions:a.pool,prodMigrations:a.prodMigrations,push:a.push,readReplicaOptions:a.readReplicas,relations:{},relationshipsSuffix:a.relationshipsSuffix||"_rels",schema:{},schemaName:a.schemaName,sessions:{},tableNameMap:new Map,tables:{},tablesFilter:a.tablesFilter,transactionOptions:a.transactionOptions||void 0,versionsSuffix:a.versionsSuffix||"_v",beginTransaction:!1===a.transactionOptions?h9():c9,commitTransaction:da,connect:iJ,count:db,countDistinct:eu,countGlobalVersions:dd,countVersions:df,create:dO,createGlobal:dP,createGlobalVersion:dQ,createJSONQuery:ex,createVersion:dR,defaultIDType:c,deleteMany:dT,deleteOne:dU,deleteVersions:dV,deleteWhere:ey,destroy:dW,dropDatabase:ez,execute:eA,find:dX,findGlobal:dY,findGlobalVersions:dZ,findOne:d$,findVersions:d_,foreignKeys:new Set,indexes:new Set,init:he,insert:hf,migrate:d7,migrateDown:ea,migrateFresh:eb,migrateRefresh:ec,migrateReset:ed,migrateStatus:ef,migrationDir:i,packageName:"@payloadcms/db-postgres",payload:e,queryDrafts:eg,rawRelations:{},rawTables:{},updateJobs:eh,rejectInitializing:g,requireDrizzleKit:hh,resolveInitializing:f,rollbackTransaction:ei,updateGlobal:ej,updateGlobalVersion:ek,updateMany:el,updateOne:em,updateVersion:en,upsert:eo})}return{name:"postgres",allowIDOnCreate:d,defaultIDType:c,init:e}}},78006:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateAdditionalItems=void 0;let d=c(47934),e=c(34414),f={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,d.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,d._)`{limit: ${a}}`},code(a){let{parentSchema:b,it:c}=a,{items:d}=b;if(!Array.isArray(d))return void(0,e.checkStrictMode)(c,'"additionalItems" is ignored when "items" is not an array of schemas');g(a,d)}};function g(a,b){let{gen:c,schema:f,data:g,keyword:h,it:i}=a;i.items=!0;let j=c.const("len",(0,d._)`${g}.length`);if(!1===f)a.setParams({len:b.length}),a.pass((0,d._)`${j} <= ${b.length}`);else if("object"==typeof f&&!(0,e.alwaysValidSchema)(i,f)){let e=c.var("valid",(0,d._)`${j} <= ${b.length}`);c.if((0,d.not)(e),()=>k(e)),a.ok(e)}function k(f){c.forRange("i",b.length,j,b=>{a.subschema({keyword:h,dataProp:b,dataPropType:e.Type.Num},f),i.allErrors||c.if((0,d.not)(f),()=>c.break())})}}b.validateAdditionalItems=g,b.default=f},78066:(a,b,c)=>{"use strict";let d=c(63590),e=a=>1==(a%=10)?"st":2===a?"nd":3===a?"rd":"th";class f extends d{constructor(a={}){super(a)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(a){this.date.setDate(parseInt(a.substr(-2)))}toString(){let a=this.date.getDate(),b=this.date.getDay();return"DD"===this.token?String(a).padStart(2,"0"):"Do"===this.token?a+e(a):"d"===this.token?b+1:"ddd"===this.token?this.locales.weekdaysShort[b]:"dddd"===this.token?this.locales.weekdays[b]:a}}a.exports=f},78164:(a,b,c)=>{"use strict";c.d(b,{m:()=>d});let d=({dependencies:a,dependenciesPriority:b,dependenciesSoft:c,feature:d,key:e})=>f=>{let g={dependencies:a,dependenciesPriority:b,dependenciesSoft:c,key:e,serverFeatureProps:f};if("function"==typeof d)g.feature=async({config:a,featureProviderMap:b,isRoot:c,parentIsLocalized:e,resolvedFeatures:g,unSanitizedEditorConfig:h})=>{let i=await d({config:a,featureProviderMap:b,isRoot:c,parentIsLocalized:e,props:f,resolvedFeatures:g,unSanitizedEditorConfig:h});return null===i.sanitizedServerFeatureProps&&(i.sanitizedServerFeatureProps=f),i};else{let a={...d};a.sanitizedServerFeatureProps=f,g.feature=a}return g}},78218:(a,b,c)=>{"use strict";let d=c(63590);class e extends d{constructor(a={}){super(a)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(a){this.date.setSeconds(parseInt(a.substr(-2)))}toString(){let a=this.date.getSeconds();return this.token.length>1?String(a).padStart(2,"0"):a}}a.exports=e},78339:(a,b,c)=>{"use strict";a.exports={action:c(79297),clear:c(16606),style:c(88550),strip:c(68781),figures:c(68794),lines:c(32724),wrap:c(84331),entriesToDisplay:c(31538)}},78584:(a,b,c)=>{"use strict";c.d(b,{t:()=>e});var d=c(2539);let e=async({collection:a,context:b,data:c,doc:e,global:f,operation:g,previousDoc:h,req:i})=>(await (0,d.m)({collection:a,context:b,data:c,doc:e,fields:a?.fields||f?.fields,global:f,operation:g,parentIndexPath:"",parentIsLocalized:!1,parentPath:"",parentSchemaPath:"",previousDoc:h,previousSiblingDoc:h,req:i,siblingData:c,siblingDoc:e}),e)},78893:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(47934),e=d.operators,f={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},g={message:({keyword:a,schemaCode:b})=>(0,d.str)`must be ${f[a].okStr} ${b}`,params:({keyword:a,schemaCode:b})=>(0,d._)`{comparison: ${f[a].okStr}, limit: ${b}}`};b.default={keyword:Object.keys(f),type:"number",schemaType:"number",$data:!0,error:g,code(a){let{keyword:b,data:c,schemaCode:e}=a;a.fail$data((0,d._)`${c} ${f[b].fail} ${e} || isNaN(${c})`)}}},79056:(a,b,c)=>{"use strict";let d;a=c.nmd(a);let{Buffer:e}=c(4573),f="AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAn9/AGABfwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAzQzBQYAAAMAAAAAAAADAQMAAwMDAAACAAAAAAICAgICAgICAgIBAQEBAQEBAQEDAAADAAAABAUBcAESEgUDAQACBggBfwFBgNgECwfFBygGbWVtb3J5AgALX2luaXRpYWxpemUACBlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQACRhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUANgxsbGh0dHBfYWxsb2MACwZtYWxsb2MAOAtsbGh0dHBfZnJlZQAMBGZyZWUADA9sbGh0dHBfZ2V0X3R5cGUADRVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADhVsbGh0dHBfZ2V0X2h0dHBfbWlub3IADxFsbGh0dHBfZ2V0X21ldGhvZAAQFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAERJsbGh0dHBfZ2V0X3VwZ3JhZGUAEgxsbGh0dHBfcmVzZXQAEw5sbGh0dHBfZXhlY3V0ZQAUFGxsaHR0cF9zZXR0aW5nc19pbml0ABUNbGxodHRwX2ZpbmlzaAAWDGxsaHR0cF9wYXVzZQAXDWxsaHR0cF9yZXN1bWUAGBtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGRBsbGh0dHBfZ2V0X2Vycm5vABoXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AGxdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAcFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB0RbGxodHRwX2Vycm5vX25hbWUAHhJsbGh0dHBfbWV0aG9kX25hbWUAHxJsbGh0dHBfc3RhdHVzX25hbWUAIBpsbGh0dHBfc2V0X2xlbmllbnRfaGVhZGVycwAhIWxsaHR0cF9zZXRfbGVuaWVudF9jaHVua2VkX2xlbmd0aAAiHWxsaHR0cF9zZXRfbGVuaWVudF9rZWVwX2FsaXZlACMkbGxodHRwX3NldF9sZW5pZW50X3RyYW5zZmVyX2VuY29kaW5nACQabGxodHRwX3NldF9sZW5pZW50X3ZlcnNpb24AJSNsbGh0dHBfc2V0X2xlbmllbnRfZGF0YV9hZnRlcl9jbG9zZQAmJ2xsaHR0cF9zZXRfbGVuaWVudF9vcHRpb25hbF9sZl9hZnRlcl9jcgAnLGxsaHR0cF9zZXRfbGVuaWVudF9vcHRpb25hbF9jcmxmX2FmdGVyX2NodW5rACgobGxodHRwX3NldF9sZW5pZW50X29wdGlvbmFsX2NyX2JlZm9yZV9sZgApKmxsaHR0cF9zZXRfbGVuaWVudF9zcGFjZXNfYWZ0ZXJfY2h1bmtfc2l6ZQAqGGxsaHR0cF9tZXNzYWdlX25lZWRzX2VvZgA1CRcBAEEBCxEBAgMEBQoGBzEzMi0uLCsvMAq8ywIzFgBB/NMAKAIABEAAC0H80wBBATYCAAsUACAAEDcgACACNgI4IAAgAToAKAsUACAAIAAvATQgAC0AMCAAEDYQAAseAQF/QcAAEDkiARA3IAFBgAg2AjggASAAOgAoIAELjwwBB38CQCAARQ0AIABBCGsiASAAQQRrKAIAIgBBeHEiBGohBQJAIABBAXENACAAQQNxRQ0BIAEgASgCACIAayIBQZDUACgCAEkNASAAIARqIQQCQAJAQZTUACgCACABRwRAIABB/wFNBEAgAEEDdiEDIAEoAggiACABKAIMIgJGBEBBgNQAQYDUACgCAEF+IAN3cTYCAAwFCyACIAA2AgggACACNgIMDAQLIAEoAhghBiABIAEoAgwiAEcEQCAAIAEoAggiAjYCCCACIAA2AgwMAwsgAUEUaiIDKAIAIgJFBEAgASgCECICRQ0CIAFBEGohAwsDQCADIQcgAiIAQRRqIgMoAgAiAg0AIABBEGohAyAAKAIQIgINAAsgB0EANgIADAILIAUoAgQiAEEDcUEDRw0CIAUgAEF+cTYCBEGI1AAgBDYCACAFIAQ2AgAgASAEQQFyNgIEDAMLQQAhAAsgBkUNAAJAIAEoAhwiAkECdEGw1gBqIgMoAgAgAUYEQCADIAA2AgAgAA0BQYTUAEGE1AAoAgBBfiACd3E2AgAMAgsgBkEQQRQgBigCECABRhtqIAA2AgAgAEUNAQsgACAGNgIYIAEoAhAiAgRAIAAgAjYCECACIAA2AhgLIAFBFGooAgAiAkUNACAAQRRqIAI2AgAgAiAANgIYCyABIAVPDQAgBSgCBCIAQQFxRQ0AAkACQAJAAkAgAEECcUUEQEGY1AAoAgAgBUYEQEGY1AAgATYCAEGM1ABBjNQAKAIAIARqIgA2AgAgASAAQQFyNgIEIAFBlNQAKAIARw0GQYjUAEEANgIAQZTUAEEANgIADAYLQZTUACgCACAFRgRAQZTUACABNgIAQYjUAEGI1AAoAgAgBGoiADYCACABIABBAXI2AgQgACABaiAANgIADAYLIABBeHEgBGohBCAAQf8BTQRAIABBA3YhAyAFKAIIIgAgBSgCDCICRgRAQYDUAEGA1AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyAFKAIYIQYgBSAFKAIMIgBHBEBBkNQAKAIAGiAAIAUoAggiAjYCCCACIAA2AgwMAwsgBUEUaiIDKAIAIgJFBEAgBSgCECICRQ0CIAVBEGohAwsDQCADIQcgAiIAQRRqIgMoAgAiAg0AIABBEGohAyAAKAIQIgINAAsgB0EANgIADAILIAUgAEF+cTYCBCABIARqIAQ2AgAgASAEQQFyNgIEDAMLQQAhAAsgBkUNAAJAIAUoAhwiAkECdEGw1gBqIgMoAgAgBUYEQCADIAA2AgAgAA0BQYTUAEGE1AAoAgBBfiACd3E2AgAMAgsgBkEQQRQgBigCECAFRhtqIAA2AgAgAEUNAQsgACAGNgIYIAUoAhAiAgRAIAAgAjYCECACIAA2AhgLIAVBFGooAgAiAkUNACAAQRRqIAI2AgAgAiAANgIYCyABIARqIAQ2AgAgASAEQQFyNgIEIAFBlNQAKAIARw0AQYjUACAENgIADAELIARB/wFNBEAgBEF4cUGo1ABqIQACf0GA1AAoAgAiAkEBIARBA3Z0IgNxRQRAQYDUACACIANyNgIAIAAMAQsgACgCCAsiAiABNgIMIAAgATYCCCABIAA2AgwgASACNgIIDAELQR8hAiAEQf///wdNBEAgBEEmIARBCHZnIgBrdkEBcSAAQQF0a0E+aiECCyABIAI2AhwgAUIANwIQIAJBAnRBsNYAaiEAAkBBhNQAKAIAIgNBASACdCIHcUUEQCAAIAE2AgBBhNQAIAMgB3I2AgAgASAANgIYIAEgATYCCCABIAE2AgwMAQsgBEEZIAJBAXZrQQAgAkEfRxt0IQIgACgCACEAAkADQCAAIgMoAgRBeHEgBEYNASACQR12IQAgAkEBdCECIAMgAEEEcWpBEGoiBygCACIADQALIAcgATYCACABIAM2AhggASABNgIMIAEgATYCCAwBCyADKAIIIgAgATYCDCADIAE2AgggAUEANgIYIAEgAzYCDCABIAA2AggLQaDUAEGg1AAoAgBBAWsiAEF/IAAbNgIACwsHACAALQAoCwcAIAAtACoLBwAgAC0AKwsHACAALQApCwcAIAAvATQLBwAgAC0AMAtAAQR/IAAoAhghASAALwEuIQIgAC0AKCEDIAAoAjghBCAAEDcgACAENgI4IAAgAzoAKCAAIAI7AS4gACABNgIYC8X4AQIHfwN+IAEgAmohBAJAIAAiAygCDCIADQAgAygCBARAIAMgATYCBAsjAEEQayIJJAACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAygCHCICQQFrDuwB7gEB6AECAwQFBgcICQoLDA0ODxAREucBE+YBFBXlARYX5AEYGRobHB0eHyDvAe0BIeMBIiMkJSYnKCkqK+IBLC0uLzAxMuEB4AEzNN8B3gE1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk/pAVBRUlPdAdwBVNsBVdoBVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHZAdgBxgHXAccB1gHIAckBygHLAcwBzQHOAc8B0AHRAdIB0wHUAQDqAQtBAAzUAQtBDgzTAQtBDQzSAQtBDwzRAQtBEAzQAQtBEQzPAQtBEgzOAQtBEwzNAQtBFAzMAQtBFQzLAQtBFgzKAQtBFwzJAQtBGAzIAQtBGQzHAQtBGgzGAQtBGwzFAQtBHAzEAQtBHQzDAQtBHgzCAQtBHwzBAQtBCAzAAQtBIAy/AQtBIgy+AQtBIQy9AQtBBwy8AQtBIwy7AQtBJAy6AQtBJQy5AQtBJgy4AQtBJwy3AQtBzgEMtgELQSgMtQELQSkMtAELQSoMswELQSsMsgELQc8BDLEBC0EtDLABC0EuDK8BC0EvDK4BC0EwDK0BC0ExDKwBC0EyDKsBC0EzDKoBC0HQAQypAQtBNAyoAQtBOAynAQtBDAymAQtBNQylAQtBNgykAQtBNwyjAQtBPQyiAQtBOQyhAQtB0QEMoAELQQsMnwELQT4MngELQToMnQELQQoMnAELQTsMmwELQTwMmgELQdIBDJkBC0HAAAyYAQtBPwyXAQtBwQAMlgELQQkMlQELQSwMlAELQcIADJMBC0HDAAySAQtBxAAMkQELQcUADJABC0HGAAyPAQtBxwAMjgELQcgADI0BC0HJAAyMAQtBygAMiwELQcsADIoBC0HMAAyJAQtBzQAMiAELQc4ADIcBC0HPAAyGAQtB0AAMhQELQdEADIQBC0HSAAyDAQtB1AAMggELQdMADIEBC0HVAAyAAQtB1gAMfwtB1wAMfgtB2AAMfQtB2QAMfAtB2gAMewtB2wAMegtB0wEMeQtB3AAMeAtB3QAMdwtBBgx2C0HeAAx1C0EFDHQLQd8ADHMLQQQMcgtB4AAMcQtB4QAMcAtB4gAMbwtB4wAMbgtBAwxtC0HkAAxsC0HlAAxrC0HmAAxqC0HoAAxpC0HnAAxoC0HpAAxnC0HqAAxmC0HrAAxlC0HsAAxkC0ECDGMLQe0ADGILQe4ADGELQe8ADGALQfAADF8LQfEADF4LQfIADF0LQfMADFwLQfQADFsLQfUADFoLQfYADFkLQfcADFgLQfgADFcLQfkADFYLQfoADFULQfsADFQLQfwADFMLQf0ADFILQf4ADFELQf8ADFALQYABDE8LQYEBDE4LQYIBDE0LQYMBDEwLQYQBDEsLQYUBDEoLQYYBDEkLQYcBDEgLQYgBDEcLQYkBDEYLQYoBDEULQYsBDEQLQYwBDEMLQY0BDEILQY4BDEELQY8BDEALQZABDD8LQZEBDD4LQZIBDD0LQZMBDDwLQZQBDDsLQZUBDDoLQZYBDDkLQZcBDDgLQZgBDDcLQZkBDDYLQZoBDDULQZsBDDQLQZwBDDMLQZ0BDDILQZ4BDDELQZ8BDDALQaABDC8LQaEBDC4LQaIBDC0LQaMBDCwLQaQBDCsLQaUBDCoLQaYBDCkLQacBDCgLQagBDCcLQakBDCYLQaoBDCULQasBDCQLQawBDCMLQa0BDCILQa4BDCELQa8BDCALQbABDB8LQbEBDB4LQbIBDB0LQbMBDBwLQbQBDBsLQbUBDBoLQbYBDBkLQbcBDBgLQbgBDBcLQQEMFgtBuQEMFQtBugEMFAtBuwEMEwtBvAEMEgtBvQEMEQtBvgEMEAtBvwEMDwtBwAEMDgtBwQEMDQtBwgEMDAtBwwEMCwtBxAEMCgtBxQEMCQtBxgEMCAtB1AEMBwtBxwEMBgtByAEMBQtByQEMBAtBygEMAwtBywEMAgtBzQEMAQtBzAELIQIDQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAMCfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJ/AkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAMCfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCACDtQBAAECAwQFBgcICQoLDA0ODxARFBUWFxgZGhscHR4fICEjJCUnKCmIA4cDhQOEA/wC9QLuAusC6ALmAuMC4ALfAt0C2wLWAtUC1ALTAtICygLJAsgCxwLGAsUCxALDAr0CvAK6ArkCuAK3ArYCtQK0ArICsQKsAqoCqAKnAqYCpQKkAqMCogKhAqACnwKbApoCmQKYApcCkAKIAoQCgwKCAvkB9gH1AfQB8wHyAfEB8AHvAe0B6wHoAeMB4QHgAd8B3gHdAdwB2wHaAdkB2AHXAdYB1QHUAdIB0QHQAc8BzgHNAcwBywHKAckByAHHAcYBxQHEAcMBwgHBAcABvwG+Ab0BvAG7AboBuQG4AbcBtgG1AbQBswGyAbEBsAGvAa4BrQGsAasBqgGpAagBpwGmAaUBpAGjAaIBoQGgAZ8BngGdAZwBmwGaAZcBlgGRAZABjwGOAY0BjAGLAYoBiQGIAYUBhAGDAX59fHt6d3Z1LFFSU1RVVgsgASAERw1zQewBIQIMqQMLIAEgBEcNkAFB0QEhAgyoAwsgASAERw3pAUGEASECDKcDCyABIARHDfQBQfoAIQIMpgMLIAEgBEcNggJB9QAhAgylAwsgASAERw2JAkHzACECDKQDCyABIARHDYwCQfEAIQIMowMLIAEgBEcNHkEeIQIMogMLIAEgBEcNGUEYIQIMoQMLIAEgBEcNuAJBzQAhAgygAwsgASAERw3DAkHGACECDJ8DCyABIARHDcQCQcMAIQIMngMLIAEgBEcNygJBOCECDJ0DCyADLQAwQQFGDZUDDPICC0EAIQACQAJAAkAgAy0AKkUNACADLQArRQ0AIAMvATIiAkECcUUNAQwCCyADLwEyIgJBAXFFDQELQQEhACADLQAoQQFGDQAgAy8BNCIGQeQAa0HkAEkNACAGQcwBRg0AIAZBsAJGDQAgAkHAAHENAEEAIQAgAkGIBHFBgARGDQAgAkEocUEARyEACyADQQA7ATIgA0EAOgAxAkAgAEUEQCADQQA6ADEgAy0ALkEEcQ0BDJwDCyADQgA3AyALIANBADoAMSADQQE6ADYMSQtBACEAAkAgAygCOCICRQ0AIAIoAiwiAkUNACADIAIRAAAhAAsgAEUNSSAAQRVHDWMgA0EENgIcIAMgATYCFCADQb0aNgIQIANBFTYCDEEAIQIMmgMLIAEgBEYEQEEGIQIMmgMLIAEtAABBCkYNGQwBCyABIARGBEBBByECDJkDCwJAIAEtAABBCmsOBAIBAQABCyABQQFqIQFBECECDP4CCyADLQAuQYABcQ0YQQAhAiADQQA2AhwgAyABNgIUIANBqR82AhAgA0ECNgIMDJcDCyABQQFqIQEgA0Evai0AAEEBcQ0XQQAhAiADQQA2AhwgAyABNgIUIANBhB82AhAgA0EZNgIMDJYDCyADIAMpAyAiDCAEIAFrrSIKfSILQgAgCyAMWBs3AyAgCiAMWg0ZQQghAgyVAwsgASAERwRAIANBCTYCCCADIAE2AgRBEiECDPsCC0EJIQIMlAMLIAMpAyBQDZwCDEQLIAEgBEYEQEELIQIMkwMLIAEtAABBCkcNFyABQQFqIQEMGAsgA0Evai0AAEEBcUUNGgwnC0EAIQACQCADKAI4IgJFDQAgAigCSCICRQ0AIAMgAhEAACEACyAADRoMQwtBACEAAkAgAygCOCICRQ0AIAIoAkgiAkUNACADIAIRAAAhAAsgAA0bDCULQQAhAAJAIAMoAjgiAkUNACACKAJIIgJFDQAgAyACEQAAIQALIAANHAwzCyADQS9qLQAAQQFxRQ0dDCMLQQAhAAJAIAMoAjgiAkUNACACKAJMIgJFDQAgAyACEQAAIQALIAANHQxDC0EAIQACQCADKAI4IgJFDQAgAigCTCICRQ0AIAMgAhEAACEACyAADR4MIQsgASAERgRAQRMhAgyLAwsCQCABLQAAIgBBCmsOBCAkJAAjCyABQQFqIQEMIAtBACEAAkAgAygCOCICRQ0AIAIoAkwiAkUNACADIAIRAAAhAAsgAA0jDEMLIAEgBEYEQEEWIQIMiQMLIAEtAABB8D9qLQAAQQFHDSQM7QILAkADQCABLQAAQeA5ai0AACIAQQFHBEACQCAAQQJrDgIDACgLIAFBAWohAUEfIQIM8AILIAQgAUEBaiIBRw0AC0EYIQIMiAMLIAMoAgQhAEEAIQIgA0EANgIEIAMgACABQQFqIgEQMyIADSIMQgtBACEAAkAgAygCOCICRQ0AIAIoAkwiAkUNACADIAIRAAAhAAsgAA0kDCsLIAEgBEYEQEEcIQIMhgMLIANBCjYCCCADIAE2AgRBACEAAkAgAygCOCICRQ0AIAIoAkgiAkUNACADIAIRAAAhAAsgAA0mQSIhAgzrAgsgASAERwRAA0AgAS0AAEHgO2otAAAiAEEDRwRAIABBAWsOBRkbJ+wCJicLIAQgAUEBaiIBRw0AC0EbIQIMhQMLQRshAgyEAwsDQCABLQAAQeA9ai0AACIAQQNHBEAgAEEBaw4FEBIoFCcoCyAEIAFBAWoiAUcNAAtBHiECDIMDCyABIARHBEAgA0ELNgIIIAMgATYCBEEHIQIM6QILQR8hAgyCAwsgASAERgRAQSAhAgyCAwsCQCABLQAAQQ1rDhQvQEBAQEBAQEBAQEBAQEBAQEBAAEALQQAhAiADQQA2AhwgA0G3CzYCECADQQI2AgwgAyABQQFqNgIUDIEDCyADQS9qIQIDQCABIARGBEBBISECDIIDCwJAAkACQCABLQAAIgBBCWsOGAIAKioBKioqKioqKioqKioqKioqKioqAigLIAFBAWohASADQS9qLQAAQQFxRQ0LDBkLIAFBAWohAQwYCyABQQFqIQEgAi0AAEECcQ0AC0EAIQIgA0EANgIcIAMgATYCFCADQc4UNgIQIANBDDYCDAyAAwsgAUEBaiEBC0EAIQACQCADKAI4IgJFDQAgAigCVCICRQ0AIAMgAhEAACEACyAADQEM0QILIANCADcDIAw8CyAAQRVGBEAgA0EkNgIcIAMgATYCFCADQYYaNgIQIANBFTYCDEEAIQIM/QILQQAhAiADQQA2AhwgAyABNgIUIANB4g02AhAgA0EUNgIMDPwCCyADKAIEIQBBACECIANBADYCBCADIAAgASAMp2oiARAxIgBFDSsgA0EHNgIcIAMgATYCFCADIAA2AgwM+wILIAMtAC5BwABxRQ0BC0EAIQACQCADKAI4IgJFDQAgAigCUCICRQ0AIAMgAhEAACEACyAARQ0rIABBFUYEQCADQQo2AhwgAyABNgIUIANB8Rg2AhAgA0EVNgIMQQAhAgz6AgtBACECIANBADYCHCADIAE2AhQgA0GLDDYCECADQRM2AgwM+QILQQAhAiADQQA2AhwgAyABNgIUIANBsRQ2AhAgA0ECNgIMDPgCC0EAIQIgA0EANgIcIAMgATYCFCADQYwUNgIQIANBGTYCDAz3AgtBACECIANBADYCHCADIAE2AhQgA0HRHDYCECADQRk2AgwM9gILIABBFUYNPUEAIQIgA0EANgIcIAMgATYCFCADQaIPNgIQIANBIjYCDAz1AgsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEQMiIARQ0oIANBDTYCHCADIAE2AhQgAyAANgIMDPQCCyAAQRVGDTpBACECIANBADYCHCADIAE2AhQgA0GiDzYCECADQSI2AgwM8wILIAMoAgQhAEEAIQIgA0EANgIEIAMgACABEDIiAEUEQCABQQFqIQEMKAsgA0EONgIcIAMgADYCDCADIAFBAWo2AhQM8gILIABBFUYNN0EAIQIgA0EANgIcIAMgATYCFCADQaIPNgIQIANBIjYCDAzxAgsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEQMiIARQRAIAFBAWohAQwnCyADQQ82AhwgAyAANgIMIAMgAUEBajYCFAzwAgtBACECIANBADYCHCADIAE2AhQgA0HoFjYCECADQRk2AgwM7wILIABBFUYNM0EAIQIgA0EANgIcIAMgATYCFCADQc4MNgIQIANBIzYCDAzuAgsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEQMyIARQ0lIANBETYCHCADIAE2AhQgAyAANgIMDO0CCyAAQRVGDTBBACECIANBADYCHCADIAE2AhQgA0HODDYCECADQSM2AgwM7AILIAMoAgQhAEEAIQIgA0EANgIEIAMgACABEDMiAEUEQCABQQFqIQEMJQsgA0ESNgIcIAMgADYCDCADIAFBAWo2AhQM6wILIANBL2otAABBAXFFDQELQRUhAgzPAgtBACECIANBADYCHCADIAE2AhQgA0HoFjYCECADQRk2AgwM6AILIABBO0cNACABQQFqIQEMDAtBACECIANBADYCHCADIAE2AhQgA0GYFzYCECADQQI2AgwM5gILIABBFUYNKEEAIQIgA0EANgIcIAMgATYCFCADQc4MNgIQIANBIzYCDAzlAgsgA0EUNgIcIAMgATYCFCADIAA2AgwM5AILIAMoAgQhAEEAIQIgA0EANgIEIAMgACABEDMiAEUEQCABQQFqIQEM3AILIANBFTYCHCADIAA2AgwgAyABQQFqNgIUDOMCCyADKAIEIQBBACECIANBADYCBCADIAAgARAzIgBFBEAgAUEBaiEBDNoCCyADQRc2AhwgAyAANgIMIAMgAUEBajYCFAziAgsgAEEVRg0jQQAhAiADQQA2AhwgAyABNgIUIANBzgw2AhAgA0EjNgIMDOECCyADKAIEIQBBACECIANBADYCBCADIAAgARAzIgBFBEAgAUEBaiEBDB0LIANBGTYCHCADIAA2AgwgAyABQQFqNgIUDOACCyADKAIEIQBBACECIANBADYCBCADIAAgARAzIgBFBEAgAUEBaiEBDNYCCyADQRo2AhwgAyAANgIMIAMgAUEBajYCFAzfAgsgAEEVRg0fQQAhAiADQQA2AhwgAyABNgIUIANBog82AhAgA0EiNgIMDN4CCyADKAIEIQBBACECIANBADYCBCADIAAgARAyIgBFBEAgAUEBaiEBDBsLIANBHDYCHCADIAA2AgwgAyABQQFqNgIUDN0CCyADKAIEIQBBACECIANBADYCBCADIAAgARAyIgBFBEAgAUEBaiEBDNICCyADQR02AhwgAyAANgIMIAMgAUEBajYCFAzcAgsgAEE7Rw0BIAFBAWohAQtBJCECDMACC0EAIQIgA0EANgIcIAMgATYCFCADQc4UNgIQIANBDDYCDAzZAgsgASAERwRAA0AgAS0AAEEgRw3xASAEIAFBAWoiAUcNAAtBLCECDNkCC0EsIQIM2AILIAEgBEYEQEE0IQIM2AILAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0E0IQIM2QILIAMoAgQhACADQQA2AgQgAyAAIAEQMCIARQ2MAiADQTI2AhwgAyABNgIUIAMgADYCDEEAIQIM2AILIAMoAgQhACADQQA2AgQgAyAAIAEQMCIARQRAIAFBAWohAQyMAgsgA0EyNgIcIAMgADYCDCADIAFBAWo2AhRBACECDNcCCyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE5IQIMwAILIAMpAyAiC0KZs+bMmbPmzBlWDQEgAyALQgp+Igo3AyAgCiAArUL/AYMiC0J/hVYNASADIAogC3w3AyAgBCABQQFqIgFHDQALQcAAIQIM2AILIAMoAgQhACADQQA2AgQgAyAAIAFBAWoiARAwIgANFwzJAgtBwAAhAgzWAgsgASAERgRAQckAIQIM1gILAkADQAJAIAEtAABBCWsOGAACjwKPApMCjwKPAo8CjwKPAo8CjwKPAo8CjwKPAo8CjwKPAo8CjwKPAo8CAI8CCyAEIAFBAWoiAUcNAAtByQAhAgzWAgsgAUEBaiEBIANBL2otAABBAXENjwIgA0EANgIcIAMgATYCFCADQekPNgIQIANBCjYCDEEAIQIM1QILIAEgBEcEQANAIAEtAAAiAEEgRwRAAkACQAJAIABByABrDgsAAc0BzQHNAc0BzQHNAc0BzQECzQELIAFBAWohAUHZACECDL8CCyABQQFqIQFB2gAhAgy+AgsgAUEBaiEBQdsAIQIMvQILIAQgAUEBaiIBRw0AC0HuACECDNUCC0HuACECDNQCCyADQQI6ACgMMAtBACECIANBADYCHCADQbcLNgIQIANBAjYCDCADIAFBAWo2AhQM0gILQQAhAgy3AgtBDSECDLYCC0ERIQIMtQILQRMhAgy0AgtBFCECDLMCC0EWIQIMsgILQRchAgyxAgtBGCECDLACC0EZIQIMrwILQRohAgyuAgtBGyECDK0CC0EcIQIMrAILQR0hAgyrAgtBHiECDKoCC0EgIQIMqQILQSEhAgyoAgtBIyECDKcCC0EnIQIMpgILIANBPTYCHCADIAE2AhQgAyAANgIMQQAhAgy/AgsgA0EbNgIcIAMgATYCFCADQY8bNgIQIANBFTYCDEEAIQIMvgILIANBIDYCHCADIAE2AhQgA0GeGTYCECADQRU2AgxBACECDL0CCyADQRM2AhwgAyABNgIUIANBnhk2AhAgA0EVNgIMQQAhAgy8AgsgA0ELNgIcIAMgATYCFCADQZ4ZNgIQIANBFTYCDEEAIQIMuwILIANBEDYCHCADIAE2AhQgA0GeGTYCECADQRU2AgxBACECDLoCCyADQSA2AhwgAyABNgIUIANBjxs2AhAgA0EVNgIMQQAhAgy5AgsgA0ELNgIcIAMgATYCFCADQY8bNgIQIANBFTYCDEEAIQIMuAILIANBDDYCHCADIAE2AhQgA0GPGzYCECADQRU2AgxBACECDLcCC0EAIQIgA0EANgIcIAMgATYCFCADQa8ONgIQIANBEjYCDAy2AgsCQANAAkAgAS0AAEEKaw4EAAICAAILIAQgAUEBaiIBRw0AC0HsASECDLYCCwJAAkAgAy0ANkEBRw0AQQAhAAJAIAMoAjgiAkUNACACKAJYIgJFDQAgAyACEQAAIQALIABFDQAgAEEVRw0BIANB6wE2AhwgAyABNgIUIANB4hg2AhAgA0EVNgIMQQAhAgy3AgtBzAEhAgycAgsgA0EANgIcIAMgATYCFCADQfELNgIQIANBHzYCDEEAIQIMtQILAkACQCADLQAoQQFrDgIEAQALQcsBIQIMmwILQcQBIQIMmgILIANBAjoAMUEAIQACQCADKAI4IgJFDQAgAigCACICRQ0AIAMgAhEAACEACyAARQRAQc0BIQIMmgILIABBFUcEQCADQQA2AhwgAyABNgIUIANBrAw2AhAgA0EQNgIMQQAhAgy0AgsgA0HqATYCHCADIAE2AhQgA0GHGTYCECADQRU2AgxBACECDLMCCyABIARGBEBB6QEhAgyzAgsgAS0AAEHIAEYNASADQQE6ACgLQbYBIQIMlwILQcoBIQIMlgILIAEgBEcEQCADQQw2AgggAyABNgIEQckBIQIMlgILQegBIQIMrwILIAEgBEYEQEHnASECDK8CCyABLQAAQcgARw0EIAFBAWohAUHIASECDJQCCyABIARGBEBB5gEhAgyuAgsCQAJAIAEtAABBxQBrDhAABQUFBQUFBQUFBQUFBQUBBQsgAUEBaiEBQcYBIQIMlAILIAFBAWohAUHHASECDJMCC0HlASECIAEgBEYNrAIgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB99MAai0AAEcNAyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMrQILIAMoAgQhACADQgA3AwAgAyAAIAZBAWoiARAtIgBFBEBB1AEhAgyTAgsgA0HkATYCHCADIAE2AhQgAyAANgIMQQAhAgysAgtB4wEhAiABIARGDasCIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQfXTAGotAABHDQIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADKwCCyADQYEEOwEoIAMoAgQhACADQgA3AwAgAyAAIAZBAWoiARAtIgANAwwCCyADQQA2AgALQQAhAiADQQA2AhwgAyABNgIUIANB0B42AhAgA0EINgIMDKkCC0HFASECDI4CCyADQeIBNgIcIAMgATYCFCADIAA2AgxBACECDKcCC0EAIQACQCADKAI4IgJFDQAgAigCOCICRQ0AIAMgAhEAACEACyAARQ1lIABBFUcEQCADQQA2AhwgAyABNgIUIANB1A42AhAgA0EgNgIMQQAhAgynAgsgA0GFATYCHCADIAE2AhQgA0HXGjYCECADQRU2AgxBACECDKYCC0HhASECIAQgASIARg2lAiAEIAFrIAMoAgAiAWohBSAAIAFrQQRqIQYCQANAIAAtAAAgAUHw0wBqLQAARw0BIAFBBEYNAyABQQFqIQEgBCAAQQFqIgBHDQALIAMgBTYCAAymAgsgA0EANgIcIAMgADYCFCADQYQ3NgIQIANBCDYCDCADQQA2AgBBACECDKUCCyABIARHBEAgA0ENNgIIIAMgATYCBEHCASECDIsCC0HgASECDKQCCyADQQA2AgAgBkEBaiEBC0HDASECDIgCCyABIARGBEBB3wEhAgyiAgsgAS0AAEEwayIAQf8BcUEKSQRAIAMgADoAKiABQQFqIQFBwQEhAgyIAgsgAygCBCEAIANBADYCBCADIAAgARAuIgBFDYgCIANB3gE2AhwgAyABNgIUIAMgADYCDEEAIQIMoQILIAEgBEYEQEHdASECDKECCwJAIAEtAABBLkYEQCABQQFqIQEMAQsgAygCBCEAIANBADYCBCADIAAgARAuIgBFDYkCIANB3AE2AhwgAyABNgIUIAMgADYCDEEAIQIMoQILQcABIQIMhgILIAEgBEYEQEHbASECDKACC0EAIQBBASEFQQEhB0EAIQICQAJAAkACQAJAAn8CQAJAAkACQAJAAkACQCABLQAAQTBrDgoKCQABAgMEBQYICwtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshAkEAIQVBACEHDAILQQkhAkEBIQBBACEFQQAhBwwBC0EAIQVBASECCyADIAI6ACsgAUEBaiEBAkACQCADLQAuQRBxDQACQAJAAkAgAy0AKg4DAQACBAsgB0UNAwwCCyAADQEMAgsgBUUNAQsgAygCBCEAIANBADYCBCADIAAgARAuIgBFDQIgA0HYATYCHCADIAE2AhQgAyAANgIMQQAhAgyiAgsgAygCBCEAIANBADYCBCADIAAgARAuIgBFDYsCIANB2QE2AhwgAyABNgIUIAMgADYCDEEAIQIMoQILIAMoAgQhACADQQA2AgQgAyAAIAEQLiIARQ2JAiADQdoBNgIcIAMgATYCFCADIAA2AgwMoAILQb8BIQIMhQILQQAhAAJAIAMoAjgiAkUNACACKAI8IgJFDQAgAyACEQAAIQALAkAgAARAIABBFUYNASADQQA2AhwgAyABNgIUIANBnA02AhAgA0EhNgIMQQAhAgygAgtBvgEhAgyFAgsgA0HXATYCHCADIAE2AhQgA0HWGTYCECADQRU2AgxBACECDJ4CCyABIARGBEBB1wEhAgyeAgsCQCABLQAAQSBGBEAgA0EAOwE0IAFBAWohAQwBCyADQQA2AhwgAyABNgIUIANB6xA2AhAgA0EJNgIMQQAhAgyeAgtBvQEhAgyDAgsgASAERgRAQdYBIQIMnQILAkAgAS0AAEEwa0H/AXEiAkEKSQRAIAFBAWohAQJAIAMvATQiAEGZM0sNACADIABBCmwiADsBNCAAQf7/A3EgAkH//wNzSw0AIAMgACACajsBNAwCC0EAIQIgA0EANgIcIAMgATYCFCADQYAdNgIQIANBDTYCDAyeAgsgA0EANgIcIAMgATYCFCADQYAdNgIQIANBDTYCDEEAIQIMnQILQbwBIQIMggILIAEgBEYEQEHVASECDJwCCwJAIAEtAABBMGtB/wFxIgJBCkkEQCABQQFqIQECQCADLwE0IgBBmTNLDQAgAyAAQQpsIgA7ATQgAEH+/wNxIAJB//8Dc0sNACADIAAgAmo7ATQMAgtBACECIANBADYCHCADIAE2AhQgA0GAHTYCECADQQ02AgwMnQILIANBADYCHCADIAE2AhQgA0GAHTYCECADQQ02AgxBACECDJwCC0G7ASECDIECCyABIARGBEBB1AEhAgybAgsCQCABLQAAQTBrQf8BcSICQQpJBEAgAUEBaiEBAkAgAy8BNCIAQZkzSw0AIAMgAEEKbCIAOwE0IABB/v8DcSACQf//A3NLDQAgAyAAIAJqOwE0DAILQQAhAiADQQA2AhwgAyABNgIUIANBgB02AhAgA0ENNgIMDJwCCyADQQA2AhwgAyABNgIUIANBgB02AhAgA0ENNgIMQQAhAgybAgtBugEhAgyAAgsgASAERgRAQdMBIQIMmgILAkACQAJAAkAgAS0AAEEKaw4XAgMDAAMDAwMDAwMDAwMDAwMDAwMDAwEDCyABQQFqDAULIAFBAWohAUG5ASECDIECCyABQQFqIQEgA0Evai0AAEEBcQ0IIANBADYCHCADIAE2AhQgA0GFCzYCECADQQ02AgxBACECDJoCCyADQQA2AhwgAyABNgIUIANBhQs2AhAgA0ENNgIMQQAhAgyZAgsgASAERwRAIANBDjYCCCADIAE2AgRBASECDP8BC0HSASECDJgCCwJAAkADQAJAIAEtAABBCmsOBAIAAAMACyAEIAFBAWoiAUcNAAtB0QEhAgyZAgsgAygCBCEAIANBADYCBCADIAAgARAsIgBFBEAgAUEBaiEBDAQLIANB0AE2AhwgAyAANgIMIAMgAUEBajYCFEEAIQIMmAILIAMoAgQhACADQQA2AgQgAyAAIAEQLCIADQEgAUEBagshAUG3ASECDPwBCyADQc8BNgIcIAMgADYCDCADIAFBAWo2AhRBACECDJUCC0G4ASECDPoBCyADQS9qLQAAQQFxDQEgA0EANgIcIAMgATYCFCADQc8bNgIQIANBGTYCDEEAIQIMkwILIAEgBEYEQEHPASECDJMCCwJAAkACQCABLQAAQQprDgQBAgIAAgsgAUEBaiEBDAILIAFBAWohAQwBCyADLQAuQcAAcUUNAQtBACEAAkAgAygCOCICRQ0AIAIoAjQiAkUNACADIAIRAAAhAAsgAEUNlgEgAEEVRgRAIANB2QA2AhwgAyABNgIUIANBvRk2AhAgA0EVNgIMQQAhAgySAgsgA0EANgIcIAMgATYCFCADQfgMNgIQIANBGzYCDEEAIQIMkQILIANBADYCHCADIAE2AhQgA0HHJzYCECADQQI2AgxBACECDJACCyABIARHBEAgA0EMNgIIIAMgATYCBEG1ASECDPYBC0HOASECDI8CCyABIARGBEBBzQEhAgyPAgsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBwQBrDhUAAQIDWgQFBlpaWgcICQoLDA0ODxBaCyABQQFqIQFB8QAhAgyEAgsgAUEBaiEBQfIAIQIMgwILIAFBAWohAUH3ACECDIICCyABQQFqIQFB+wAhAgyBAgsgAUEBaiEBQfwAIQIMgAILIAFBAWohAUH/ACECDP8BCyABQQFqIQFBgAEhAgz+AQsgAUEBaiEBQYMBIQIM/QELIAFBAWohAUGMASECDPwBCyABQQFqIQFBjQEhAgz7AQsgAUEBaiEBQY4BIQIM+gELIAFBAWohAUGbASECDPkBCyABQQFqIQFBnAEhAgz4AQsgAUEBaiEBQaIBIQIM9wELIAFBAWohAUGqASECDPYBCyABQQFqIQFBrQEhAgz1AQsgAUEBaiEBQbQBIQIM9AELIAEgBEYEQEHMASECDI4CCyABLQAAQc4ARw1IIAFBAWohAUGzASECDPMBCyABIARGBEBBywEhAgyNAgsCQAJAAkAgAS0AAEHCAGsOEgBKSkpKSkpKSkoBSkpKSkpKAkoLIAFBAWohAUGuASECDPQBCyABQQFqIQFBsQEhAgzzAQsgAUEBaiEBQbIBIQIM8gELQcoBIQIgASAERg2LAiADKAIAIgAgBCABa2ohBSABIABrQQdqIQYCQANAIAEtAAAgAEHo0wBqLQAARw1FIABBB0YNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyMAgsgA0EANgIAIAZBAWohAUEbDEULIAEgBEYEQEHJASECDIsCCwJAAkAgAS0AAEHJAGsOBwBHR0dHRwFHCyABQQFqIQFBrwEhAgzxAQsgAUEBaiEBQbABIQIM8AELQcgBIQIgASAERg2JAiADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHm0wBqLQAARw1DIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyKAgsgA0EANgIAIAZBAWohAUEPDEMLQccBIQIgASAERg2IAiADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHk0wBqLQAARw1CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyJAgsgA0EANgIAIAZBAWohAUEgDEILQcYBIQIgASAERg2HAiADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHh0wBqLQAARw1BIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyIAgsgA0EANgIAIAZBAWohAUESDEELIAEgBEYEQEHFASECDIcCCwJAAkAgAS0AAEHFAGsODgBDQ0NDQ0NDQ0NDQ0MBQwsgAUEBaiEBQasBIQIM7QELIAFBAWohAUGsASECDOwBC0HEASECIAEgBEYNhQIgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB3tMAai0AAEcNPyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMhgILIANBADYCACAGQQFqIQFBBww/C0HDASECIAEgBEYNhAIgAygCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABB2NMAai0AAEcNPiAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMhQILIANBADYCACAGQQFqIQFBKAw+CyABIARGBEBBwgEhAgyEAgsCQAJAAkAgAS0AAEHFAGsOEQBBQUFBQUFBQUEBQUFBQUECQQsgAUEBaiEBQacBIQIM6wELIAFBAWohAUGoASECDOoBCyABQQFqIQFBqQEhAgzpAQtBwQEhAiABIARGDYICIAMoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQdHTAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADIMCCyADQQA2AgAgBkEBaiEBQRoMPAtBwAEhAiABIARGDYECIAMoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQc3TAGotAABHDTsgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADIICCyADQQA2AgAgBkEBaiEBQSEMOwsgASAERgRAQb8BIQIMgQILAkACQCABLQAAQcEAaw4UAD09PT09PT09PT09PT09PT09PQE9CyABQQFqIQFBowEhAgznAQsgAUEBaiEBQaYBIQIM5gELIAEgBEYEQEG+ASECDIACCwJAAkAgAS0AAEHVAGsOCwA8PDw8PDw8PDwBPAsgAUEBaiEBQaQBIQIM5gELIAFBAWohAUGlASECDOUBC0G9ASECIAEgBEYN/gEgAygCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABBxNMAai0AAEcNOCAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM/wELIANBADYCACAGQQFqIQFBKgw4CyABIARGBEBBvAEhAgz+AQsgAS0AAEHQAEcNOCABQQFqIQFBJQw3C0G7ASECIAEgBEYN/AEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBwdMAai0AAEcNNiAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM/QELIANBADYCACAGQQFqIQFBDgw2CyABIARGBEBBugEhAgz8AQsgAS0AAEHFAEcNNiABQQFqIQFBoQEhAgzhAQsgASAERgRAQbkBIQIM+wELAkACQAJAAkAgAS0AAEHCAGsODwABAjk5OTk5OTk5OTk5AzkLIAFBAWohAUGdASECDOMBCyABQQFqIQFBngEhAgziAQsgAUEBaiEBQZ8BIQIM4QELIAFBAWohAUGgASECDOABC0G4ASECIAEgBEYN+QEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBvtMAai0AAEcNMyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM+gELIANBADYCACAGQQFqIQFBFAwzC0G3ASECIAEgBEYN+AEgAygCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBudMAai0AAEcNMiAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM+QELIANBADYCACAGQQFqIQFBKwwyC0G2ASECIAEgBEYN9wEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBttMAai0AAEcNMSAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM+AELIANBADYCACAGQQFqIQFBLAwxC0G1ASECIAEgBEYN9gEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB4dMAai0AAEcNMCAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM9wELIANBADYCACAGQQFqIQFBEQwwC0G0ASECIAEgBEYN9QEgAygCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBstMAai0AAEcNLyAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM9gELIANBADYCACAGQQFqIQFBLgwvCyABIARGBEBBswEhAgz1AQsCQAJAAkACQAJAIAEtAABBwQBrDhUANDQ0NDQ0NDQ0NAE0NAI0NAM0NAQ0CyABQQFqIQFBkQEhAgzeAQsgAUEBaiEBQZIBIQIM3QELIAFBAWohAUGTASECDNwBCyABQQFqIQFBmAEhAgzbAQsgAUEBaiEBQZoBIQIM2gELIAEgBEYEQEGyASECDPQBCwJAAkAgAS0AAEHSAGsOAwAwATALIAFBAWohAUGZASECDNoBCyABQQFqIQFBBAwtC0GxASECIAEgBEYN8gEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBsNMAai0AAEcNLCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM8wELIANBADYCACAGQQFqIQFBHQwsCyABIARGBEBBsAEhAgzyAQsCQAJAIAEtAABByQBrDgcBLi4uLi4ALgsgAUEBaiEBQZcBIQIM2AELIAFBAWohAUEiDCsLIAEgBEYEQEGvASECDPEBCyABLQAAQdAARw0rIAFBAWohAUGWASECDNYBCyABIARGBEBBrgEhAgzwAQsCQAJAIAEtAABBxgBrDgsALCwsLCwsLCwsASwLIAFBAWohAUGUASECDNYBCyABQQFqIQFBlQEhAgzVAQtBrQEhAiABIARGDe4BIAMoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQazTAGotAABHDSggAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADO8BCyADQQA2AgAgBkEBaiEBQQ0MKAtBrAEhAiABIARGDe0BIAMoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQeHTAGotAABHDScgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADO4BCyADQQA2AgAgBkEBaiEBQQwMJwtBqwEhAiABIARGDewBIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQarTAGotAABHDSYgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADO0BCyADQQA2AgAgBkEBaiEBQQMMJgtBqgEhAiABIARGDesBIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQajTAGotAABHDSUgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADOwBCyADQQA2AgAgBkEBaiEBQSYMJQsgASAERgRAQakBIQIM6wELAkACQCABLQAAQdQAaw4CAAEnCyABQQFqIQFBjwEhAgzRAQsgAUEBaiEBQZABIQIM0AELQagBIQIgASAERg3pASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGm0wBqLQAARw0jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzqAQsgA0EANgIAIAZBAWohAUEnDCMLQacBIQIgASAERg3oASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGk0wBqLQAARw0iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzpAQsgA0EANgIAIAZBAWohAUEcDCILQaYBIQIgASAERg3nASADKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGe0wBqLQAARw0hIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzoAQsgA0EANgIAIAZBAWohAUEGDCELQaUBIQIgASAERg3mASADKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEGZ0wBqLQAARw0gIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAznAQsgA0EANgIAIAZBAWohAUEZDCALIAEgBEYEQEGkASECDOYBCwJAAkACQAJAIAEtAABBLWsOIwAkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJAEkJCQkJAIkJCQDJAsgAUEBaiEBQYQBIQIMzgELIAFBAWohAUGFASECDM0BCyABQQFqIQFBigEhAgzMAQsgAUEBaiEBQYsBIQIMywELQaMBIQIgASAERg3kASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGX0wBqLQAARw0eIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzlAQsgA0EANgIAIAZBAWohAUELDB4LIAEgBEYEQEGiASECDOQBCwJAAkAgAS0AAEHBAGsOAwAgASALIAFBAWohAUGGASECDMoBCyABQQFqIQFBiQEhAgzJAQsgASAERgRAQaEBIQIM4wELAkACQCABLQAAQcEAaw4PAB8fHx8fHx8fHx8fHx8BHwsgAUEBaiEBQYcBIQIMyQELIAFBAWohAUGIASECDMgBCyABIARGBEBBoAEhAgziAQsgAS0AAEHMAEcNHCABQQFqIQFBCgwbC0GfASECIAEgBEYN4AEgAygCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBkdMAai0AAEcNGiAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM4QELIANBADYCACAGQQFqIQFBHgwaC0GeASECIAEgBEYN3wEgAygCACIAIAQgAWtqIQUgASAAa0EGaiEGAkADQCABLQAAIABBitMAai0AAEcNGSAAQQZGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM4AELIANBADYCACAGQQFqIQFBFQwZC0GdASECIAEgBEYN3gEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBh9MAai0AAEcNGCAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM3wELIANBADYCACAGQQFqIQFBFwwYC0GcASECIAEgBEYN3QEgAygCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBgdMAai0AAEcNFyAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM3gELIANBADYCACAGQQFqIQFBGAwXCyABIARGBEBBmwEhAgzdAQsCQAJAIAEtAABByQBrDgcAGRkZGRkBGQsgAUEBaiEBQYEBIQIMwwELIAFBAWohAUGCASECDMIBC0GaASECIAEgBEYN2wEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB5tMAai0AAEcNFSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM3AELIANBADYCACAGQQFqIQFBCQwVC0GZASECIAEgBEYN2gEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB5NMAai0AAEcNFCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM2wELIANBADYCACAGQQFqIQFBHwwUC0GYASECIAEgBEYN2QEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB/tIAai0AAEcNEyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM2gELIANBADYCACAGQQFqIQFBAgwTC0GXASECIAEgBEYN2AEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGA0AgAS0AACAAQfzSAGotAABHDREgAEEBRg0CIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADNgBCyABIARGBEBBlgEhAgzYAQtBASABLQAAQd8ARw0RGiABQQFqIQFB/QAhAgy9AQsgA0EANgIAIAZBAWohAUH+ACECDLwBC0GVASECIAEgBEYN1QEgAygCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABBxNMAai0AAEcNDyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM1gELIANBADYCACAGQQFqIQFBKQwPC0GUASECIAEgBEYN1AEgAygCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABB+NIAai0AAEcNDiAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM1QELIANBADYCACAGQQFqIQFBLQwOCyABIARGBEBBkwEhAgzUAQsgAS0AAEHFAEcNDiABQQFqIQFB+gAhAgy5AQsgASAERgRAQZIBIQIM0wELAkACQCABLQAAQcwAaw4IAA8PDw8PDwEPCyABQQFqIQFB+AAhAgy5AQsgAUEBaiEBQfkAIQIMuAELQZEBIQIgASAERg3RASADKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHz0gBqLQAARw0LIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzSAQsgA0EANgIAIAZBAWohAUEjDAsLQZABIQIgASAERg3QASADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHw0gBqLQAARw0KIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzRAQsgA0EANgIAIAZBAWohAUEADAoLIAEgBEYEQEGPASECDNABCwJAAkAgAS0AAEHIAGsOCAAMDAwMDAwBDAsgAUEBaiEBQfMAIQIMtgELIAFBAWohAUH2ACECDLUBCyABIARGBEBBjgEhAgzPAQsCQAJAIAEtAABBzgBrDgMACwELCyABQQFqIQFB9AAhAgy1AQsgAUEBaiEBQfUAIQIMtAELIAEgBEYEQEGNASECDM4BCyABLQAAQdkARw0IIAFBAWohAUEIDAcLQYwBIQIgASAERg3MASADKAIAIgAgBCABa2ohBSABIABrQQNqIQYCQANAIAEtAAAgAEHs0gBqLQAARw0GIABBA0YNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzNAQsgA0EANgIAIAZBAWohAUEFDAYLQYsBIQIgASAERg3LASADKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHm0gBqLQAARw0FIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzMAQsgA0EANgIAIAZBAWohAUEWDAULQYoBIQIgASAERg3KASADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHh0wBqLQAARw0EIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzLAQsgA0EANgIAIAZBAWohAUEQDAQLIAEgBEYEQEGJASECDMoBCwJAAkAgAS0AAEHDAGsODAAGBgYGBgYGBgYGAQYLIAFBAWohAUHvACECDLABCyABQQFqIQFB8AAhAgyvAQtBiAEhAiABIARGDcgBIAMoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQeDSAGotAABHDQIgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADMkBCyADQQA2AgAgBkEBaiEBQSQMAgsgA0EANgIADAILIAEgBEYEQEGHASECDMcBCyABLQAAQcwARw0BIAFBAWohAUETCzoAKSADKAIEIQAgA0EANgIEIAMgACABEC0iAA0CDAELQQAhAiADQQA2AhwgAyABNgIUIANB6R42AhAgA0EGNgIMDMQBC0HuACECDKkBCyADQYYBNgIcIAMgATYCFCADIAA2AgxBACECDMIBC0EAIQACQCADKAI4IgJFDQAgAigCOCICRQ0AIAMgAhEAACEACyAARQ0AIABBFUYNASADQQA2AhwgAyABNgIUIANB1A42AhAgA0EgNgIMQQAhAgzBAQtB7QAhAgymAQsgA0GFATYCHCADIAE2AhQgA0HXGjYCECADQRU2AgxBACECDL8BCyABIARGBEBBhQEhAgy/AQsCQCABLQAAQSBGBEAgAUEBaiEBDAELIANBADYCHCADIAE2AhQgA0GGHjYCECADQQY2AgxBACECDL8BC0ECIQIMpAELA0AgAS0AAEEgRw0CIAQgAUEBaiIBRw0AC0GEASECDL0BCyABIARGBEBBgwEhAgy9AQsCQCABLQAAQQlrDgRAAABAAAtB6wAhAgyiAQsgAy0AKUEFRgRAQewAIQIMogELQeoAIQIMoQELIAEgBEYEQEGCASECDLsBCyADQQ82AgggAyABNgIEDAoLIAEgBEYEQEGBASECDLoBCwJAIAEtAABBCWsOBD0AAD0AC0HpACECDJ8BCyABIARHBEAgA0EPNgIIIAMgATYCBEHnACECDJ8BC0GAASECDLgBCwJAIAEgBEcEQANAIAEtAABB4M4Aai0AACIAQQNHBEACQCAAQQFrDgI/AAQLQeYAIQIMoQELIAQgAUEBaiIBRw0AC0H+ACECDLkBC0H+ACECDLgBCyADQQA2AhwgAyABNgIUIANBxh82AhAgA0EHNgIMQQAhAgy3AQsgASAERgRAQf8AIQIMtwELAkACQAJAIAEtAABB4NAAai0AAEEBaw4DPAIAAQtB6AAhAgyeAQsgA0EANgIcIAMgATYCFCADQYYSNgIQIANBBzYCDEEAIQIMtwELQeAAIQIMnAELIAEgBEcEQCABQQFqIQFB5QAhAgycAQtB/QAhAgy1AQsgBCABIgBGBEBB/AAhAgy1AQsgAC0AACIBQS9GBEAgAEEBaiEBQeQAIQIMmwELIAFBCWsiAkEXSw0BIAAhAUEBIAJ0QZuAgARxDTcMAQsgBCABIgBGBEBB+wAhAgy0AQsgAC0AAEEvRw0AIABBAWohAQwDC0EAIQIgA0EANgIcIAMgADYCFCADQcYfNgIQIANBBzYCDAyyAQsCQAJAAkACQAJAA0AgAS0AAEHgzABqLQAAIgBBBUcEQAJAAkAgAEEBaw4IPQUGBwgABAEIC0HhACECDJ8BCyABQQFqIQFB4wAhAgyeAQsgBCABQQFqIgFHDQALQfoAIQIMtgELIAFBAWoMFAsgAygCBCEAIANBADYCBCADIAAgARArIgBFDR4gA0HbADYCHCADIAE2AhQgAyAANgIMQQAhAgy0AQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDR4gA0HdADYCHCADIAE2AhQgAyAANgIMQQAhAgyzAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDR4gA0HwADYCHCADIAE2AhQgAyAANgIMQQAhAgyyAQsgA0EANgIcIAMgATYCFCADQcsPNgIQIANBBzYCDEEAIQIMsQELIAEgBEYEQEH5ACECDLEBCwJAIAEtAABB4MwAai0AAEEBaw4INAQFBgAIAgMHCyABQQFqIQELQQMhAgyVAQsgAUEBagwNC0EAIQIgA0EANgIcIANBoxI2AhAgA0EHNgIMIAMgAUEBajYCFAytAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDRYgA0HbADYCHCADIAE2AhQgAyAANgIMQQAhAgysAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDRYgA0HdADYCHCADIAE2AhQgAyAANgIMQQAhAgyrAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDRYgA0HwADYCHCADIAE2AhQgAyAANgIMQQAhAgyqAQsgA0EANgIcIAMgATYCFCADQcsPNgIQIANBBzYCDEEAIQIMqQELQeIAIQIMjgELIAEgBEYEQEH4ACECDKgBCyABQQFqDAILIAEgBEYEQEH3ACECDKcBCyABQQFqDAELIAEgBEYNASABQQFqCyEBQQQhAgyKAQtB9gAhAgyjAQsDQCABLQAAQeDKAGotAAAiAEECRwRAIABBAUcEQEHfACECDIsBCwwnCyAEIAFBAWoiAUcNAAtB9QAhAgyiAQsgASAERgRAQfQAIQIMogELAkAgAS0AAEEJaw43JQMGJQQGBgYGBgYGBgYGBgYGBgYGBgYFBgYCBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGAAYLIAFBAWoLIQFBBSECDIYBCyABQQFqDAYLIAMoAgQhACADQQA2AgQgAyAAIAEQKyIARQ0IIANB2wA2AhwgAyABNgIUIAMgADYCDEEAIQIMngELIAMoAgQhACADQQA2AgQgAyAAIAEQKyIARQ0IIANB3QA2AhwgAyABNgIUIAMgADYCDEEAIQIMnQELIAMoAgQhACADQQA2AgQgAyAAIAEQKyIARQ0IIANB8AA2AhwgAyABNgIUIAMgADYCDEEAIQIMnAELIANBADYCHCADIAE2AhQgA0G8EzYCECADQQc2AgxBACECDJsBCwJAAkACQAJAA0AgAS0AAEHgyABqLQAAIgBBBUcEQAJAIABBAWsOBiQDBAUGAAYLQd4AIQIMhgELIAQgAUEBaiIBRw0AC0HzACECDJ4BCyADKAIEIQAgA0EANgIEIAMgACABECsiAEUNByADQdsANgIcIAMgATYCFCADIAA2AgxBACECDJ0BCyADKAIEIQAgA0EANgIEIAMgACABECsiAEUNByADQd0ANgIcIAMgATYCFCADIAA2AgxBACECDJwBCyADKAIEIQAgA0EANgIEIAMgACABECsiAEUNByADQfAANgIcIAMgATYCFCADIAA2AgxBACECDJsBCyADQQA2AhwgAyABNgIUIANB3Ag2AhAgA0EHNgIMQQAhAgyaAQsgASAERg0BIAFBAWoLIQFBBiECDH4LQfIAIQIMlwELAkACQAJAAkADQCABLQAAQeDGAGotAAAiAEEFRwRAIABBAWsOBB8CAwQFCyAEIAFBAWoiAUcNAAtB8QAhAgyaAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDQMgA0HbADYCHCADIAE2AhQgAyAANgIMQQAhAgyZAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDQMgA0HdADYCHCADIAE2AhQgAyAANgIMQQAhAgyYAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDQMgA0HwADYCHCADIAE2AhQgAyAANgIMQQAhAgyXAQsgA0EANgIcIAMgATYCFCADQbQKNgIQIANBBzYCDEEAIQIMlgELQc4AIQIMewtB0AAhAgx6C0HdACECDHkLIAEgBEYEQEHwACECDJMBCwJAIAEtAABBCWsOBBYAABYACyABQQFqIQFB3AAhAgx4CyABIARGBEBB7wAhAgySAQsCQCABLQAAQQlrDgQVAAAVAAtBACEAAkAgAygCOCICRQ0AIAIoAjAiAkUNACADIAIRAAAhAAsgAEUEQEHTASECDHgLIABBFUcEQCADQQA2AhwgAyABNgIUIANBwQ02AhAgA0EaNgIMQQAhAgySAQsgA0HuADYCHCADIAE2AhQgA0HwGTYCECADQRU2AgxBACECDJEBC0HtACECIAEgBEYNkAEgAygCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABB18YAai0AAEcNBCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMkQELIANBADYCACAGQQFqIQEgAy0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACECIANBADYCHCADIAE2AhQgA0HlCTYCECADQQg2AgwMkAELQewAIQIgASAERg2PASADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHUxgBqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyQAQsgA0EANgIAIAZBAWohASADLQApQSFGDQMgA0EANgIcIAMgATYCFCADQYkKNgIQIANBCDYCDEEAIQIMjwELQesAIQIgASAERg2OASADKAIAIgAgBCABa2ohBSABIABrQQNqIQYCQANAIAEtAAAgAEHQxgBqLQAARw0CIABBA0YNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyPAQsgA0EANgIAIAZBAWohASADLQApIgBBI0kNAiAAQS5GDQIgA0EANgIcIAMgATYCFCADQcEJNgIQIANBCDYCDEEAIQIMjgELIANBADYCAAtBACECIANBADYCHCADIAE2AhQgA0GENzYCECADQQg2AgwMjAELQdgAIQIMcQsgASAERwRAIANBDTYCCCADIAE2AgRB1wAhAgxxC0HqACECDIoBCyABIARGBEBB6QAhAgyKAQsgAS0AAEEwayIAQf8BcUEKSQRAIAMgADoAKiABQQFqIQFB1gAhAgxwCyADKAIEIQAgA0EANgIEIAMgACABEC4iAEUNdCADQegANgIcIAMgATYCFCADIAA2AgxBACECDIkBCyABIARGBEBB5wAhAgyJAQsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAMoAgQhACADQQA2AgQgAyAAIAEQLiIARQ11IANB5gA2AhwgAyABNgIUIAMgADYCDEEAIQIMiQELQdUAIQIMbgsgASAERgRAQeUAIQIMiAELQQAhAEEBIQVBASEHQQAhAgJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAEtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyECQQAhBUEAIQcMAgtBCSECQQEhAEEAIQVBACEHDAELQQAhBUEBIQILIAMgAjoAKyABQQFqIQECQAJAIAMtAC5BEHENAAJAAkACQCADLQAqDgMBAAIECyAHRQ0DDAILIAANAQwCCyAFRQ0BCyADKAIEIQAgA0EANgIEIAMgACABEC4iAEUNAiADQeIANgIcIAMgATYCFCADIAA2AgxBACECDIoBCyADKAIEIQAgA0EANgIEIAMgACABEC4iAEUNdyADQeMANgIcIAMgATYCFCADIAA2AgxBACECDIkBCyADKAIEIQAgA0EANgIEIAMgACABEC4iAEUNdSADQeQANgIcIAMgATYCFCADIAA2AgwMiAELQdMAIQIMbQsgAy0AKUEiRg2AAUHSACECDGwLQQAhAAJAIAMoAjgiAkUNACACKAI8IgJFDQAgAyACEQAAIQALIABFBEBB1AAhAgxsCyAAQRVHBEAgA0EANgIcIAMgATYCFCADQZwNNgIQIANBITYCDEEAIQIMhgELIANB4QA2AhwgAyABNgIUIANB1hk2AhAgA0EVNgIMQQAhAgyFAQsgASAERgRAQeAAIQIMhQELAkACQAJAAkACQCABLQAAQQprDgQBBAQABAsgAUEBaiEBDAELIAFBAWohASADQS9qLQAAQQFxRQ0BC0HRACECDGwLIANBADYCHCADIAE2AhQgA0GIETYCECADQQk2AgxBACECDIUBCyADQQA2AhwgAyABNgIUIANBiBE2AhAgA0EJNgIMQQAhAgyEAQsgASAERgRAQd8AIQIMhAELIAEtAABBCkYEQCABQQFqIQEMCQsgAy0ALkHAAHENCCADQQA2AhwgAyABNgIUIANBiBE2AhAgA0ECNgIMQQAhAgyDAQsgASAERgRAQd0AIQIMgwELIAEtAAAiAkENRgRAIAFBAWohAUHPACECDGkLIAEhACACQQlrDgQFAQEFAQsgBCABIgBGBEBB3AAhAgyCAQsgAC0AAEEKRw0AIABBAWoMAgtBACECIANBADYCHCADIAA2AhQgA0G1LDYCECADQQc2AgwMgAELIAEgBEYEQEHbACECDIABCwJAIAEtAABBCWsOBAMAAAMACyABQQFqCyEBQc0AIQIMZAsgASAERgRAQdoAIQIMfgsgAS0AAEEJaw4EAAEBAAELQQAhAiADQQA2AhwgA0HsETYCECADQQc2AgwgAyABQQFqNgIUDHwLIANBgBI7ASpBACEAAkAgAygCOCICRQ0AIAIoAjAiAkUNACADIAIRAAAhAAsgAEUNACAAQRVHDQEgA0HZADYCHCADIAE2AhQgA0HwGTYCECADQRU2AgxBACECDHsLQcwAIQIMYAsgA0EANgIcIAMgATYCFCADQcENNgIQIANBGjYCDEEAIQIMeQsgASAERgRAQdkAIQIMeQsgAS0AAEEgRw06IAFBAWohASADLQAuQQFxDTogA0EANgIcIAMgATYCFCADQa0bNgIQIANBHjYCDEEAIQIMeAsgASAERgRAQdgAIQIMeAsCQAJAAkACQAJAIAEtAAAiAEEKaw4EAgMDAAELIAFBAWohAUErIQIMYQsgAEE6Rw0BIANBADYCHCADIAE2AhQgA0G5ETYCECADQQo2AgxBACECDHoLIAFBAWohASADQS9qLQAAQQFxRQ1tIAMtADJBgAFxRQRAIANBMmohAiADEDRBACEAAkAgAygCOCIGRQ0AIAYoAiQiBkUNACADIAYRAAAhAAsCQAJAIAAOFkpJSAEBAQEBAQEBAQEBAQEBAQEBAQABCyADQSk2AhwgAyABNgIUIANBshg2AhAgA0EVNgIMQQAhAgx7CyADQQA2AhwgAyABNgIUIANB3Qs2AhAgA0ERNgIMQQAhAgx6C0EAIQACQCADKAI4IgJFDQAgAigCVCICRQ0AIAMgAhEAACEACyAARQ1VIABBFUcNASADQQU2AhwgAyABNgIUIANBhho2AhAgA0EVNgIMQQAhAgx5C0HKACECDF4LQQAhAiADQQA2AhwgAyABNgIUIANB4g02AhAgA0EUNgIMDHcLIAMgAy8BMkGAAXI7ATIMOAsgASAERwRAIANBEDYCCCADIAE2AgRByQAhAgxcC0HXACECDHULIAEgBEYEQEHWACECDHULAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAPT09PT09PT09PT09AT09PQIDPQsgAUEBaiEBQcUAIQIMXQsgAUEBaiEBQcYAIQIMXAsgAUEBaiEBQccAIQIMWwsgAUEBaiEBQcgAIQIMWgtB1QAhAiAEIAEiAEYNcyAEIAFrIAMoAgAiAWohBiAAIAFrQQVqIQcDQCABQcDGAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQhBBCABQQVGDQoaIAFBAWohASAEIABBAWoiAEcNAAsgAyAGNgIADHMLQdQAIQIgBCABIgBGDXIgBCABayADKAIAIgFqIQYgACABa0EPaiEHA0AgAUGwxgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0HQQMgAUEPRg0JGiABQQFqIQEgBCAAQQFqIgBHDQALIAMgBjYCAAxyC0HTACECIAQgASIARg1xIAQgAWsgAygCACIBaiEGIAAgAWtBDmohBwNAIAFBksYAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNBiABQQ5GDQcgAUEBaiEBIAQgAEEBaiIARw0ACyADIAY2AgAMcQtB0gAhAiAEIAEiAEYNcCAEIAFrIAMoAgAiAWohBSAAIAFrQQFqIQYDQCABQZDGAGotAAAgAC0AACIHQSByIAcgB0HBAGtB/wFxQRpJG0H/AXFHDQUgAUEBRg0CIAFBAWohASAEIABBAWoiAEcNAAsgAyAFNgIADHALIAEgBEYEQEHRACECDHALAkACQCABLQAAIgBBIHIgACAAQcEAa0H/AXFBGkkbQf8BcUHuAGsOBwA2NjY2NgE2CyABQQFqIQFBwgAhAgxWCyABQQFqIQFBwwAhAgxVCyADQQA2AgAgBkEBaiEBQcQAIQIMVAtB0AAhAiAEIAEiAEYNbSAEIAFrIAMoAgAiAWohBiAAIAFrQQlqIQcDQCABQYbGAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQJBAiABQQlGDQQaIAFBAWohASAEIABBAWoiAEcNAAsgAyAGNgIADG0LQc8AIQIgBCABIgBGDWwgBCABayADKAIAIgFqIQYgACABa0EFaiEHA0AgAUGAxgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYNAiABQQFqIQEgBCAAQQFqIgBHDQALIAMgBjYCAAxsCyAAIQEgA0EANgIADDALQQELOgAsIANBADYCACAHQQFqIQELQSwhAgxOCwJAA0AgAS0AAEGAxABqLQAAQQFHDQEgBCABQQFqIgFHDQALQc0AIQIMaAtBwQAhAgxNCyABIARGBEBBzAAhAgxnCyABLQAAQTpGBEAgAygCBCEAIANBADYCBCADIAAgARAvIgBFDTAgA0HLADYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgxnCyADQQA2AhwgAyABNgIUIANBuRE2AhAgA0EKNgIMQQAhAgxmCwJAAkAgAy0ALEECaw4CAAEkCyADQTNqLQAAQQJxRQ0jIAMtAC5BAnENIyADQQA2AhwgAyABNgIUIANB1RM2AhAgA0ELNgIMQQAhAgxmCyADLQAyQSBxRQ0iIAMtAC5BAnENIiADQQA2AhwgAyABNgIUIANB7BI2AhAgA0EPNgIMQQAhAgxlC0EAIQACQCADKAI4IgJFDQAgAigCQCICRQ0AIAMgAhEAACEACyAARQRAQcAAIQIMSwsgAEEVRwRAIANBADYCHCADIAE2AhQgA0H4DjYCECADQRw2AgxBACECDGULIANBygA2AhwgAyABNgIUIANB8Bo2AhAgA0EVNgIMQQAhAgxkCyABIARHBEADQCABLQAAQfA/ai0AAEEBRw0XIAQgAUEBaiIBRw0AC0HEACECDGQLQcQAIQIMYwsgASAERwRAA0ACQCABLQAAIgBBIHIgACAAQcEAa0H/AXFBGkkbQf8BcSIAQQlGDQAgAEEgRg0AAkACQAJAAkAgAEHjAGsOEwADAwMDAwMDAQMDAwMDAwMDAwIDCyABQQFqIQFBNSECDE4LIAFBAWohAUE2IQIMTQsgAUEBaiEBQTchAgxMCwwVCyAEIAFBAWoiAUcNAAtBPCECDGMLQTwhAgxiCyABIARGBEBByAAhAgxiCyADQRE2AgggAyABNgIEAkACQAJAAkACQCADLQAsQQFrDgQUAAECCQsgAy0AMkEgcQ0DQdEBIQIMSwsCQCADLwEyIgBBCHFFDQAgAy0AKEEBRw0AIAMtAC5BCHFFDQILIAMgAEH3+wNxQYAEcjsBMgwLCyADIAMvATJBEHI7ATIMBAsgA0EANgIEIAMgASABEDAiAARAIANBwQA2AhwgAyAANgIMIAMgAUEBajYCFEEAIQIMYwsgAUEBaiEBDFILIANBADYCHCADIAE2AhQgA0GjEzYCECADQQQ2AgxBACECDGELQccAIQIgASAERg1gIAMoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEHwwwBqLQAAIAEtAABBIHJHDQEgAEEGRg1GIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADGELIANBADYCAAwFCwJAIAEgBEcEQANAIAEtAABB8MEAai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBxQAhAgxhC0HFACECDGALCyADQQA6ACwMAQtBCyECDEMLQT4hAgxCCwJAAkADQCABLQAAIgBBIEcEQAJAIABBCmsOBAMFBQMACyAAQSxGDQMMBAsgBCABQQFqIgFHDQALQcYAIQIMXQsgA0EIOgAsDA4LIAMtAChBAUcNAiADLQAuQQhxDQIgAygCBCEAIANBADYCBCADIAAgARAwIgAEQCADQcIANgIcIAMgADYCDCADIAFBAWo2AhRBACECDFwLIAFBAWohAQxKC0E6IQIMQAsCQANAIAEtAAAiAEEgRyAAQQlHcQ0BIAQgAUEBaiIBRw0AC0HDACECDFoLC0E7IQIMPgsCQAJAIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBAMEBAMECyAEIAFBAWoiAUcNAAtBPyECDFoLQT8hAgxZCyADIAMvATJBIHI7ATIMCgsgAygCBCEAIANBADYCBCADIAAgARAwIgBFDUggA0E+NgIcIAMgATYCFCADIAA2AgxBACECDFcLAkAgASAERwRAA0AgAS0AAEHwwQBqLQAAIgBBAUcEQCAAQQJGDQMMDAsgBCABQQFqIgFHDQALQTchAgxYC0E3IQIMVwsgAUEBaiEBDAQLQTshAiAEIAEiAEYNVSAEIAFrIAMoAgAiAWohBiAAIAFrQQVqIQcCQANAIAFBwMYAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNASABQQVGBEBBByEBDDsLIAFBAWohASAEIABBAWoiAEcNAAsgAyAGNgIADFYLIANBADYCACAAIQEMBQtBOiECIAQgASIARg1UIAQgAWsgAygCACIBaiEGIAAgAWtBCGohBwJAA0AgAUHkP2otAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAUEIRgRAQQUhAQw6CyABQQFqIQEgBCAAQQFqIgBHDQALIAMgBjYCAAxVCyADQQA2AgAgACEBDAQLQTkhAiAEIAEiAEYNUyAEIAFrIAMoAgAiAWohBiAAIAFrQQNqIQcCQANAIAFB4D9qLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBA0YEQEEGIQEMOQsgAUEBaiEBIAQgAEEBaiIARw0ACyADIAY2AgAMVAsgA0EANgIAIAAhAQwDCwJAA0AgAS0AACIAQSBHBEAgAEEKaw4EBwQEBwILIAQgAUEBaiIBRw0AC0E4IQIMUwsgAEEsRw0BIAFBAWohAEEBIQECQAJAAkACQAJAIAMtACxBBWsOBAMBAgQACyAAIQEMBAtBAiEBDAELQQQhAQsgA0EBOgAsIAMgAy8BMiABcjsBMiAAIQEMAQsgAyADLwEyQQhyOwEyIAAhAQtBPSECDDcLIANBADoALAtBOCECDDULIAEgBEYEQEE2IQIMTwsCQAJAAkACQAJAIAEtAABBCmsOBAACAgECCyADKAIEIQAgA0EANgIEIAMgACABEDAiAEUNAiADQTM2AhwgAyABNgIUIAMgADYCDEEAIQIMUgsgAygCBCEAIANBADYCBCADIAAgARAwIgBFBEAgAUEBaiEBDAYLIANBMjYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgxRCyADLQAuQQFxBEBB0AEhAgw3CyADKAIEIQAgA0EANgIEIAMgACABEDAiAA0BDEMLQTMhAgw1CyADQTU2AhwgAyABNgIUIAMgADYCDEEAIQIMTgtBNCECDDMLIANBL2otAABBAXENACADQQA2AhwgAyABNgIUIANB8RU2AhAgA0EZNgIMQQAhAgxMC0EyIQIMMQsgASAERgRAQTIhAgxLCwJAIAEtAABBCkYEQCABQQFqIQEMAQsgA0EANgIcIAMgATYCFCADQZgWNgIQIANBAzYCDEEAIQIMSwtBMSECDDALIAEgBEYEQEExIQIMSgsgAS0AACIAQQlHIABBIEdxDQEgAy0ALEEIRw0AIANBADoALAtBPCECDC4LQQEhAgJAAkACQAJAIAMtACxBBWsOBAMBAgAKCyADIAMvATJBCHI7ATIMCQtBAiECDAELQQQhAgsgA0EBOgAsIAMgAy8BMiACcjsBMgwGCyABIARGBEBBMCECDEcLIAEtAABBCkYEQCABQQFqIQEMAQsgAy0ALkEBcQ0AIANBADYCHCADIAE2AhQgA0HHJzYCECADQQI2AgxBACECDEYLQS8hAgwrCyABQQFqIQFBMCECDCoLIAEgBEYEQEEvIQIMRAsgAS0AACIAQQlHIABBIEdxRQRAIAFBAWohASADLQAuQQFxDQEgA0EANgIcIAMgATYCFCADQekPNgIQIANBCjYCDEEAIQIMRAtBASECAkACQAJAAkACQAJAIAMtACxBAmsOBwUEBAMBAgAECyADIAMvATJBCHI7ATIMAwtBAiECDAELQQQhAgsgA0EBOgAsIAMgAy8BMiACcjsBMgtBLiECDCoLIANBADYCHCADIAE2AhQgA0GzEjYCECADQQs2AgxBACECDEMLQdIBIQIMKAsgASAERgRAQS4hAgxCCyADQQA2AgQgA0ERNgIIIAMgASABEDAiAA0BC0EtIQIMJgsgA0EtNgIcIAMgATYCFCADIAA2AgxBACECDD8LQQAhAAJAIAMoAjgiAkUNACACKAJEIgJFDQAgAyACEQAAIQALIABFDQAgAEEVRw0BIANB2AA2AhwgAyABNgIUIANBnho2AhAgA0EVNgIMQQAhAgw+C0HLACECDCMLIANBADYCHCADIAE2AhQgA0GFDjYCECADQR02AgxBACECDDwLIAEgBEYEQEHOACECDDwLIAEtAAAiAEEgRg0CIABBOkYNAQsgA0EAOgAsQQkhAgwgCyADKAIEIQAgA0EANgIEIAMgACABEC8iAA0BDAILIAMtAC5BAXEEQEHPASECDB8LIAMoAgQhACADQQA2AgQgAyAAIAEQLyIARQ0CIANBKjYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgw4CyADQcsANgIcIAMgADYCDCADIAFBAWo2AhRBACECDDcLIAFBAWohAUE/IQIMHAsgAUEBaiEBDCkLIAEgBEYEQEErIQIMNQsCQCABLQAAQQpGBEAgAUEBaiEBDAELIAMtAC5BwABxRQ0GCyADLQAyQYABcQRAQQAhAAJAIAMoAjgiAkUNACACKAJUIgJFDQAgAyACEQAAIQALIABFDREgAEEVRgRAIANBBTYCHCADIAE2AhQgA0GGGjYCECADQRU2AgxBACECDDYLIANBADYCHCADIAE2AhQgA0HiDTYCECADQRQ2AgxBACECDDULIANBMmohAiADEDRBACEAAkAgAygCOCIGRQ0AIAYoAiQiBkUNACADIAYRAAAhAAsgAA4WAgEABAQEBAQEBAQEBAQEBAQEBAQEAwQLIANBAToAMAsgAiACLwEAQcAAcjsBAAtBKiECDBcLIANBKTYCHCADIAE2AhQgA0GyGDYCECADQRU2AgxBACECDDALIANBADYCHCADIAE2AhQgA0HdCzYCECADQRE2AgxBACECDC8LIANBADYCHCADIAE2AhQgA0GdCzYCECADQQI2AgxBACECDC4LQQEhByADLwEyIgVBCHFFBEAgAykDIEIAUiEHCwJAIAMtADAEQEEBIQAgAy0AKUEFRg0BIAVBwABxRSAHcUUNAQsCQCADLQAoIgJBAkYEQEEBIQAgAy8BNCIGQeUARg0CQQAhACAFQcAAcQ0CIAZB5ABGDQIgBkHmAGtBAkkNAiAGQcwBRg0CIAZBsAJGDQIMAQtBACEAIAVBwABxDQELQQIhACAFQQhxDQAgBUGABHEEQAJAIAJBAUcNACADLQAuQQpxDQBBBSEADAILQQQhAAwBCyAFQSBxRQRAIAMQNUEAR0ECdCEADAELQQBBAyADKQMgUBshAAsCQCAAQQFrDgUAAQYHAgMLQQAhAgJAIAMoAjgiAEUNACAAKAIsIgBFDQAgAyAAEQAAIQILIAJFDSYgAkEVRgRAIANBAzYCHCADIAE2AhQgA0G9GjYCECADQRU2AgxBACECDC4LQQAhAiADQQA2AhwgAyABNgIUIANBrw42AhAgA0ESNgIMDC0LQc4BIQIMEgtBACECIANBADYCHCADIAE2AhQgA0HkHzYCECADQQ82AgwMKwtBACEAAkAgAygCOCICRQ0AIAIoAiwiAkUNACADIAIRAAAhAAsgAA0BC0EOIQIMDwsgAEEVRgRAIANBAjYCHCADIAE2AhQgA0G9GjYCECADQRU2AgxBACECDCkLQQAhAiADQQA2AhwgAyABNgIUIANBrw42AhAgA0ESNgIMDCgLQSkhAgwNCyADQQE6ADEMJAsgASAERwRAIANBCTYCCCADIAE2AgRBKCECDAwLQSYhAgwlCyADIAMpAyAiDCAEIAFrrSIKfSILQgAgCyAMWBs3AyAgCiAMVARAQSUhAgwlCyADKAIEIQBBACECIANBADYCBCADIAAgASAMp2oiARAxIgBFDQAgA0EFNgIcIAMgATYCFCADIAA2AgwMJAtBDyECDAkLIAEgBEYEQEEjIQIMIwtCACEKAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsONxcWAAECAwQFBgcUFBQUFBQUCAkKCwwNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQODxAREhMUC0ICIQoMFgtCAyEKDBULQgQhCgwUC0IFIQoMEwtCBiEKDBILQgchCgwRC0IIIQoMEAtCCSEKDA8LQgohCgwOC0ILIQoMDQtCDCEKDAwLQg0hCgwLC0IOIQoMCgtCDyEKDAkLQgohCgwIC0ILIQoMBwtCDCEKDAYLQg0hCgwFC0IOIQoMBAtCDyEKDAMLQQAhAiADQQA2AhwgAyABNgIUIANBzhQ2AhAgA0EMNgIMDCILIAEgBEYEQEEiIQIMIgtCACEKAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQTBrDjcVFAABAgMEBQYHFhYWFhYWFggJCgsMDRYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWDg8QERITFgtCAiEKDBQLQgMhCgwTC0IEIQoMEgtCBSEKDBELQgYhCgwQC0IHIQoMDwtCCCEKDA4LQgkhCgwNC0IKIQoMDAtCCyEKDAsLQgwhCgwKC0INIQoMCQtCDiEKDAgLQg8hCgwHC0IKIQoMBgtCCyEKDAULQgwhCgwEC0INIQoMAwtCDiEKDAILQg8hCgwBC0IBIQoLIAFBAWohASADKQMgIgtC//////////8PWARAIAMgC0IEhiAKhDcDIAwCC0EAIQIgA0EANgIcIAMgATYCFCADQa0JNgIQIANBDDYCDAwfC0ElIQIMBAtBJiECDAMLIAMgAToALCADQQA2AgAgB0EBaiEBQQwhAgwCCyADQQA2AgAgBkEBaiEBQQohAgwBCyABQQFqIQFBCCECDAALAAtBACECIANBADYCHCADIAE2AhQgA0HVEDYCECADQQk2AgwMGAtBACECIANBADYCHCADIAE2AhQgA0HXCjYCECADQQk2AgwMFwtBACECIANBADYCHCADIAE2AhQgA0G/EDYCECADQQk2AgwMFgtBACECIANBADYCHCADIAE2AhQgA0GkETYCECADQQk2AgwMFQtBACECIANBADYCHCADIAE2AhQgA0HVEDYCECADQQk2AgwMFAtBACECIANBADYCHCADIAE2AhQgA0HXCjYCECADQQk2AgwMEwtBACECIANBADYCHCADIAE2AhQgA0G/EDYCECADQQk2AgwMEgtBACECIANBADYCHCADIAE2AhQgA0GkETYCECADQQk2AgwMEQtBACECIANBADYCHCADIAE2AhQgA0G/FjYCECADQQ82AgwMEAtBACECIANBADYCHCADIAE2AhQgA0G/FjYCECADQQ82AgwMDwtBACECIANBADYCHCADIAE2AhQgA0HIEjYCECADQQs2AgwMDgtBACECIANBADYCHCADIAE2AhQgA0GVCTYCECADQQs2AgwMDQtBACECIANBADYCHCADIAE2AhQgA0HpDzYCECADQQo2AgwMDAtBACECIANBADYCHCADIAE2AhQgA0GDEDYCECADQQo2AgwMCwtBACECIANBADYCHCADIAE2AhQgA0GmHDYCECADQQI2AgwMCgtBACECIANBADYCHCADIAE2AhQgA0HFFTYCECADQQI2AgwMCQtBACECIANBADYCHCADIAE2AhQgA0H/FzYCECADQQI2AgwMCAtBACECIANBADYCHCADIAE2AhQgA0HKFzYCECADQQI2AgwMBwsgA0ECNgIcIAMgATYCFCADQZQdNgIQIANBFjYCDEEAIQIMBgtB3gAhAiABIARGDQUgCUEIaiEHIAMoAgAhBQJAAkAgASAERwRAIAVBxsYAaiEIIAQgBWogAWshBiAFQX9zQQpqIgUgAWohAANAIAEtAAAgCC0AAEcEQEECIQgMAwsgBUUEQEEAIQggACEBDAMLIAVBAWshBSAIQQFqIQggBCABQQFqIgFHDQALIAYhBSAEIQELIAdBATYCACADIAU2AgAMAQsgA0EANgIAIAcgCDYCAAsgByABNgIEIAkoAgwhACAJKAIIDgMBBQIACwALIANBADYCHCADQa0dNgIQIANBFzYCDCADIABBAWo2AhRBACECDAMLIANBADYCHCADIAA2AhQgA0HCHTYCECADQQk2AgxBACECDAILIAEgBEYEQEEoIQIMAgsgA0EJNgIIIAMgATYCBEEnIQIMAQsgASAERgRAQQEhAgwBCwNAAkACQAJAIAEtAABBCmsOBAABAQABCyABQQFqIQEMAQsgAUEBaiEBIAMtAC5BIHENAEEAIQIgA0EANgIcIAMgATYCFCADQYwgNgIQIANBBTYCDAwCC0EBIQIgASAERw0ACwsgCUEQaiQAIAJFBEAgAygCDCEADAELIAMgAjYCHEEAIQAgAygCBCIBRQ0AIAMgASAEIAMoAggRAQAiAUUNACADIAQ2AhQgAyABNgIMIAEhAAsgAAu+AgECfyAAQQA6AAAgAEHcAGoiAUEBa0EAOgAAIABBADoAAiAAQQA6AAEgAUEDa0EAOgAAIAFBAmtBADoAACAAQQA6AAMgAUEEa0EAOgAAQQAgAGtBA3EiASAAaiIAQQA2AgBB3AAgAWtBfHEiAiAAaiIBQQRrQQA2AgACQCACQQlJDQAgAEEANgIIIABBADYCBCABQQhrQQA2AgAgAUEMa0EANgIAIAJBGUkNACAAQQA2AhggAEEANgIUIABBADYCECAAQQA2AgwgAUEQa0EANgIAIAFBFGtBADYCACABQRhrQQA2AgAgAUEca0EANgIAIAIgAEEEcUEYciICayIBQSBJDQAgACACaiEAA0AgAEIANwMYIABCADcDECAAQgA3AwggAEIANwMAIABBIGohACABQSBrIgFBH0sNAAsLC1YBAX8CQCAAKAIMDQACQAJAAkACQCAALQAxDgMBAAMCCyAAKAI4IgFFDQAgASgCLCIBRQ0AIAAgAREAACIBDQMLQQAPCwALIABB0Bg2AhBBDiEBCyABCxoAIAAoAgxFBEAgAEHJHjYCECAAQRU2AgwLCxQAIAAoAgxBFUYEQCAAQQA2AgwLCxQAIAAoAgxBFkYEQCAAQQA2AgwLCwcAIAAoAgwLBwAgACgCEAsJACAAIAE2AhALBwAgACgCFAsXACAAQSRPBEAACyAAQQJ0QZQ3aigCAAsXACAAQS9PBEAACyAAQQJ0QaQ4aigCAAu/CQEBf0HfLCEBAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAEHkAGsO9ANjYgABYWFhYWFhAgMEBWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWEGBwgJCgsMDQ4PYWFhYWEQYWFhYWFhYWFhYWERYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhEhMUFRYXGBkaG2FhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWEcHR4fICEiIyQlJicoKSorLC0uLzAxMjM0NTZhNzg5OmFhYWFhYWFhO2FhYTxhYWFhPT4/YWFhYWFhYWFAYWFBYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhQkNERUZHSElKS0xNTk9QUVJTYWFhYWFhYWFUVVZXWFlaW2FcXWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYV5hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFfYGELQdUrDwtBgyUPC0G/MA8LQfI1DwtBtCgPC0GfKA8LQYEsDwtB1ioPC0H0Mw8LQa0zDwtByygPC0HOIw8LQcAjDwtB2SMPC0HRJA8LQZwzDwtBojYPC0H8Mw8LQeArDwtB4SUPC0HtIA8LQcQyDwtBqScPC0G5Ng8LQbggDwtBqyAPC0GjJA8LQbYkDwtBgSMPC0HhMg8LQZ80DwtByCkPC0HAMg8LQe4yDwtB8C8PC0HGNA8LQdAhDwtBmiQPC0HrLw8LQYQ1DwtByzUPC0GWMQ8LQcgrDwtB1C8PC0GTMA8LQd81DwtBtCMPC0G+NQ8LQdIpDwtBsyIPC0HNIA8LQZs2DwtBkCEPC0H/IA8LQa01DwtBsDQPC0HxJA8LQacqDwtB3TAPC0GLIg8LQcgvDwtB6yoPC0H0KQ8LQY8lDwtB3SIPC0HsJg8LQf0wDwtB1iYPC0GUNQ8LQY0jDwtBuikPC0HHIg8LQfIlDwtBtjMPC0GiIQ8LQf8vDwtBwCEPC0GBMw8LQcklDwtBqDEPC0HGMw8LQdM2DwtBxjYPC0HkNA8LQYgmDwtB7ScPC0H4IQ8LQakwDwtBjzQPC0GGNg8LQaovDwtBoSYPC0HsNg8LQZIpDwtBryYPC0GZIg8LQeAhDwsAC0G1JSEBCyABCxcAIAAgAC8BLkH+/wNxIAFBAEdyOwEuCxoAIAAgAC8BLkH9/wNxIAFBAEdBAXRyOwEuCxoAIAAgAC8BLkH7/wNxIAFBAEdBAnRyOwEuCxoAIAAgAC8BLkH3/wNxIAFBAEdBA3RyOwEuCxoAIAAgAC8BLkHv/wNxIAFBAEdBBHRyOwEuCxoAIAAgAC8BLkHf/wNxIAFBAEdBBXRyOwEuCxoAIAAgAC8BLkG//wNxIAFBAEdBBnRyOwEuCxoAIAAgAC8BLkH//gNxIAFBAEdBB3RyOwEuCxoAIAAgAC8BLkH//QNxIAFBAEdBCHRyOwEuCxoAIAAgAC8BLkH/+wNxIAFBAEdBCXRyOwEuCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBzhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB5Ao2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB5R02AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBnRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBoh42AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7hQ2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9xs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRU2AhBBGCEECyAECzgAIAACfyAALwEyQRRxQRRGBEBBASAALQAoQQFGDQEaIAAvATRB5QBGDAELIAAtAClBBUYLOgAwC1kBAn8CQCAALQAoQQFGDQAgAC8BNCIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMiIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEyIgFBAnFFDQEMAgsgAC8BMiIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATQiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtXACAAQRhqQgA3AwAgAEIANwMAIABBOGpCADcDACAAQTBqQgA3AwAgAEEoakIANwMAIABBIGpCADcDACAAQRBqQgA3AwAgAEEIakIANwMAIABB7AE2AhwLBgAgABA5C5otAQt/IwBBEGsiCiQAQZjUACgCACIJRQRAQdjXACgCACIFRQRAQeTXAEJ/NwIAQdzXAEKAgISAgIDAADcCAEHY1wAgCkEIakFwcUHYqtWqBXMiBTYCAEHs1wBBADYCAEG81wBBADYCAAtBwNcAQYDYBDYCAEGQ1ABBgNgENgIAQaTUACAFNgIAQaDUAEF/NgIAQcTXAEGAqAM2AgADQCABQbzUAGogAUGw1ABqIgI2AgAgAiABQajUAGoiAzYCACABQbTUAGogAzYCACABQcTUAGogAUG41ABqIgM2AgAgAyACNgIAIAFBzNQAaiABQcDUAGoiAjYCACACIAM2AgAgAUHI1ABqIAI2AgAgAUEgaiIBQYACRw0AC0GM2ARBwacDNgIAQZzUAEHo1wAoAgA2AgBBjNQAQcCnAzYCAEGY1ABBiNgENgIAQcz/B0E4NgIAQYjYBCEJCwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB7AFNBEBBgNQAKAIAIgZBECAAQRNqQXBxIABBC0kbIgRBA3YiAHYiAUEDcQRAAkAgAUEBcSAAckEBcyICQQN0IgBBqNQAaiIBIABBsNQAaigCACIAKAIIIgNGBEBBgNQAIAZBfiACd3E2AgAMAQsgASADNgIIIAMgATYCDAsgAEEIaiEBIAAgAkEDdCICQQNyNgIEIAAgAmoiACAAKAIEQQFyNgIEDBELQYjUACgCACIIIARPDQEgAQRAAkBBAiAAdCICQQAgAmtyIAEgAHRxaCIAQQN0IgJBqNQAaiIBIAJBsNQAaigCACICKAIIIgNGBEBBgNQAIAZBfiAAd3EiBjYCAAwBCyABIAM2AgggAyABNgIMCyACIARBA3I2AgQgAEEDdCIAIARrIQUgACACaiAFNgIAIAIgBGoiBCAFQQFyNgIEIAgEQCAIQXhxQajUAGohAEGU1AAoAgAhAwJ/QQEgCEEDdnQiASAGcUUEQEGA1AAgASAGcjYCACAADAELIAAoAggLIgEgAzYCDCAAIAM2AgggAyAANgIMIAMgATYCCAsgAkEIaiEBQZTUACAENgIAQYjUACAFNgIADBELQYTUACgCACILRQ0BIAtoQQJ0QbDWAGooAgAiACgCBEF4cSAEayEFIAAhAgNAAkAgAigCECIBRQRAIAJBFGooAgAiAUUNAQsgASgCBEF4cSAEayIDIAVJIQIgAyAFIAIbIQUgASAAIAIbIQAgASECDAELCyAAKAIYIQkgACgCDCIDIABHBEBBkNQAKAIAGiADIAAoAggiATYCCCABIAM2AgwMEAsgAEEUaiICKAIAIgFFBEAgACgCECIBRQ0DIABBEGohAgsDQCACIQcgASIDQRRqIgIoAgAiAQ0AIANBEGohAiADKAIQIgENAAsgB0EANgIADA8LQX8hBCAAQb9/Sw0AIABBE2oiAUFwcSEEQYTUACgCACIIRQ0AQQAgBGshBQJAAkACQAJ/QQAgBEGAAkkNABpBHyAEQf///wdLDQAaIARBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmoLIgZBAnRBsNYAaigCACICRQRAQQAhAUEAIQMMAQtBACEBIARBGSAGQQF2a0EAIAZBH0cbdCEAQQAhAwNAAkAgAigCBEF4cSAEayIHIAVPDQAgAiEDIAciBQ0AQQAhBSACIQEMAwsgASACQRRqKAIAIgcgByACIABBHXZBBHFqQRBqKAIAIgJGGyABIAcbIQEgAEEBdCEAIAINAAsLIAEgA3JFBEBBACEDQQIgBnQiAEEAIABrciAIcSIARQ0DIABoQQJ0QbDWAGooAgAhAQsgAUUNAQsDQCABKAIEQXhxIARrIgIgBUkhACACIAUgABshBSABIAMgABshAyABKAIQIgAEfyAABSABQRRqKAIACyIBDQALCyADRQ0AIAVBiNQAKAIAIARrTw0AIAMoAhghByADIAMoAgwiAEcEQEGQ1AAoAgAaIAAgAygCCCIBNgIIIAEgADYCDAwOCyADQRRqIgIoAgAiAUUEQCADKAIQIgFFDQMgA0EQaiECCwNAIAIhBiABIgBBFGoiAigCACIBDQAgAEEQaiECIAAoAhAiAQ0ACyAGQQA2AgAMDQtBiNQAKAIAIgMgBE8EQEGU1AAoAgAhAQJAIAMgBGsiAkEQTwRAIAEgBGoiACACQQFyNgIEIAEgA2ogAjYCACABIARBA3I2AgQMAQsgASADQQNyNgIEIAEgA2oiACAAKAIEQQFyNgIEQQAhAEEAIQILQYjUACACNgIAQZTUACAANgIAIAFBCGohAQwPC0GM1AAoAgAiAyAESwRAIAQgCWoiACADIARrIgFBAXI2AgRBmNQAIAA2AgBBjNQAIAE2AgAgCSAEQQNyNgIEIAlBCGohAQwPC0EAIQEgBAJ/QdjXACgCAARAQeDXACgCAAwBC0Hk1wBCfzcCAEHc1wBCgICEgICAwAA3AgBB2NcAIApBDGpBcHFB2KrVqgVzNgIAQezXAEEANgIAQbzXAEEANgIAQYCABAsiACAEQccAaiIFaiIGQQAgAGsiB3EiAk8EQEHw1wBBMDYCAAwPCwJAQbjXACgCACIBRQ0AQbDXACgCACIIIAJqIQAgACABTSAAIAhLcQ0AQQAhAUHw1wBBMDYCAAwPC0G81wAtAABBBHENBAJAAkAgCQRAQcDXACEBA0AgASgCACIAIAlNBEAgACABKAIEaiAJSw0DCyABKAIIIgENAAsLQQAQOiIAQX9GDQUgAiEGQdzXACgCACIBQQFrIgMgAHEEQCACIABrIAAgA2pBACABa3FqIQYLIAQgBk8NBSAGQf7///8HSw0FQbjXACgCACIDBEBBsNcAKAIAIgcgBmohASABIAdNDQYgASADSw0GCyAGEDoiASAARw0BDAcLIAYgA2sgB3EiBkH+////B0sNBCAGEDohACAAIAEoAgAgASgCBGpGDQMgACEBCwJAIAYgBEHIAGpPDQAgAUF/Rg0AQeDXACgCACIAIAUgBmtqQQAgAGtxIgBB/v///wdLBEAgASEADAcLIAAQOkF/RwRAIAAgBmohBiABIQAMBwtBACAGaxA6GgwECyABIgBBf0cNBQwDC0EAIQMMDAtBACEADAoLIABBf0cNAgtBvNcAQbzXACgCAEEEcjYCAAsgAkH+////B0sNASACEDohAEEAEDohASAAQX9GDQEgAUF/Rg0BIAAgAU8NASABIABrIgYgBEE4ak0NAQtBsNcAQbDXACgCACAGaiIBNgIAQbTXACgCACABSQRAQbTXACABNgIACwJAAkACQEGY1AAoAgAiAgRAQcDXACEBA0AgACABKAIAIgMgASgCBCIFakYNAiABKAIIIgENAAsMAgtBkNQAKAIAIgFBAEcgACABT3FFBEBBkNQAIAA2AgALQQAhAUHE1wAgBjYCAEHA1wAgADYCAEGg1ABBfzYCAEGk1ABB2NcAKAIANgIAQczXAEEANgIAA0AgAUG81ABqIAFBsNQAaiICNgIAIAIgAUGo1ABqIgM2AgAgAUG01ABqIAM2AgAgAUHE1ABqIAFBuNQAaiIDNgIAIAMgAjYCACABQczUAGogAUHA1ABqIgI2AgAgAiADNgIAIAFByNQAaiACNgIAIAFBIGoiAUGAAkcNAAtBeCAAa0EPcSIBIABqIgIgBkE4ayIDIAFrIgFBAXI2AgRBnNQAQejXACgCADYCAEGM1AAgATYCAEGY1AAgAjYCACAAIANqQTg2AgQMAgsgACACTQ0AIAIgA0kNACABKAIMQQhxDQBBeCACa0EPcSIAIAJqIgNBjNQAKAIAIAZqIgcgAGsiAEEBcjYCBCABIAUgBmo2AgRBnNQAQejXACgCADYCAEGM1AAgADYCAEGY1AAgAzYCACACIAdqQTg2AgQMAQsgAEGQ1AAoAgBJBEBBkNQAIAA2AgALIAAgBmohA0HA1wAhAQJAAkACQANAIAMgASgCAEcEQCABKAIIIgENAQwCCwsgAS0ADEEIcUUNAQtBwNcAIQEDQCABKAIAIgMgAk0EQCADIAEoAgRqIgUgAksNAwsgASgCCCEBDAALAAsgASAANgIAIAEgASgCBCAGajYCBCAAQXggAGtBD3FqIgkgBEEDcjYCBCADQXggA2tBD3FqIgYgBCAJaiIEayEBIAIgBkYEQEGY1AAgBDYCAEGM1ABBjNQAKAIAIAFqIgA2AgAgBCAAQQFyNgIEDAgLQZTUACgCACAGRgRAQZTUACAENgIAQYjUAEGI1AAoAgAgAWoiADYCACAEIABBAXI2AgQgACAEaiAANgIADAgLIAYoAgQiBUEDcUEBRw0GIAVBeHEhCCAFQf8BTQRAIAVBA3YhAyAGKAIIIgAgBigCDCICRgRAQYDUAEGA1AAoAgBBfiADd3E2AgAMBwsgAiAANgIIIAAgAjYCDAwGCyAGKAIYIQcgBiAGKAIMIgBHBEAgACAGKAIIIgI2AgggAiAANgIMDAULIAZBFGoiAigCACIFRQRAIAYoAhAiBUUNBCAGQRBqIQILA0AgAiEDIAUiAEEUaiICKAIAIgUNACAAQRBqIQIgACgCECIFDQALIANBADYCAAwEC0F4IABrQQ9xIgEgAGoiByAGQThrIgMgAWsiAUEBcjYCBCAAIANqQTg2AgQgAiAFQTcgBWtBD3FqQT9rIgMgAyACQRBqSRsiA0EjNgIEQZzUAEHo1wAoAgA2AgBBjNQAIAE2AgBBmNQAIAc2AgAgA0EQakHI1wApAgA3AgAgA0HA1wApAgA3AghByNcAIANBCGo2AgBBxNcAIAY2AgBBwNcAIAA2AgBBzNcAQQA2AgAgA0EkaiEBA0AgAUEHNgIAIAUgAUEEaiIBSw0ACyACIANGDQAgAyADKAIEQX5xNgIEIAMgAyACayIFNgIAIAIgBUEBcjYCBCAFQf8BTQRAIAVBeHFBqNQAaiEAAn9BgNQAKAIAIgFBASAFQQN2dCIDcUUEQEGA1AAgASADcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbDWAGohAEGE1AAoAgAiA0EBIAF0IgZxRQRAIAAgAjYCAEGE1AAgAyAGcjYCACACIAA2AhggAiACNgIIIAIgAjYCDAwBCyAFQRkgAUEBdmtBACABQR9HG3QhASAAKAIAIQMCQANAIAMiACgCBEF4cSAFRg0BIAFBHXYhAyABQQF0IQEgACADQQRxakEQaiIGKAIAIgMNAAsgBiACNgIAIAIgADYCGCACIAI2AgwgAiACNgIIDAELIAAoAggiASACNgIMIAAgAjYCCCACQQA2AhggAiAANgIMIAIgATYCCAtBjNQAKAIAIgEgBE0NAEGY1AAoAgAiACAEaiICIAEgBGsiAUEBcjYCBEGM1AAgATYCAEGY1AAgAjYCACAAIARBA3I2AgQgAEEIaiEBDAgLQQAhAUHw1wBBMDYCAAwHC0EAIQALIAdFDQACQCAGKAIcIgJBAnRBsNYAaiIDKAIAIAZGBEAgAyAANgIAIAANAUGE1ABBhNQAKAIAQX4gAndxNgIADAILIAdBEEEUIAcoAhAgBkYbaiAANgIAIABFDQELIAAgBzYCGCAGKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAGQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAIaiEBIAYgCGoiBigCBCEFCyAGIAVBfnE2AgQgASAEaiABNgIAIAQgAUEBcjYCBCABQf8BTQRAIAFBeHFBqNQAaiEAAn9BgNQAKAIAIgJBASABQQN2dCIBcUUEQEGA1AAgASACcjYCACAADAELIAAoAggLIgEgBDYCDCAAIAQ2AgggBCAANgIMIAQgATYCCAwBC0EfIQUgAUH///8HTQRAIAFBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmohBQsgBCAFNgIcIARCADcCECAFQQJ0QbDWAGohAEGE1AAoAgAiAkEBIAV0IgNxRQRAIAAgBDYCAEGE1AAgAiADcjYCACAEIAA2AhggBCAENgIIIAQgBDYCDAwBCyABQRkgBUEBdmtBACAFQR9HG3QhBSAAKAIAIQACQANAIAAiAigCBEF4cSABRg0BIAVBHXYhACAFQQF0IQUgAiAAQQRxakEQaiIDKAIAIgANAAsgAyAENgIAIAQgAjYCGCAEIAQ2AgwgBCAENgIIDAELIAIoAggiACAENgIMIAIgBDYCCCAEQQA2AhggBCACNgIMIAQgADYCCAsgCUEIaiEBDAILAkAgB0UNAAJAIAMoAhwiAUECdEGw1gBqIgIoAgAgA0YEQCACIAA2AgAgAA0BQYTUACAIQX4gAXdxIgg2AgAMAgsgB0EQQRQgBygCECADRhtqIAA2AgAgAEUNAQsgACAHNgIYIAMoAhAiAQRAIAAgATYCECABIAA2AhgLIANBFGooAgAiAUUNACAAQRRqIAE2AgAgASAANgIYCwJAIAVBD00EQCADIAQgBWoiAEEDcjYCBCAAIANqIgAgACgCBEEBcjYCBAwBCyADIARqIgIgBUEBcjYCBCADIARBA3I2AgQgAiAFaiAFNgIAIAVB/wFNBEAgBUF4cUGo1ABqIQACf0GA1AAoAgAiAUEBIAVBA3Z0IgVxRQRAQYDUACABIAVyNgIAIAAMAQsgACgCCAsiASACNgIMIAAgAjYCCCACIAA2AgwgAiABNgIIDAELQR8hASAFQf///wdNBEAgBUEmIAVBCHZnIgBrdkEBcSAAQQF0a0E+aiEBCyACIAE2AhwgAkIANwIQIAFBAnRBsNYAaiEAQQEgAXQiBCAIcUUEQCAAIAI2AgBBhNQAIAQgCHI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEEAkADQCAEIgAoAgRBeHEgBUYNASABQR12IQQgAUEBdCEBIAAgBEEEcWpBEGoiBigCACIEDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLIANBCGohAQwBCwJAIAlFDQACQCAAKAIcIgFBAnRBsNYAaiICKAIAIABGBEAgAiADNgIAIAMNAUGE1AAgC0F+IAF3cTYCAAwCCyAJQRBBFCAJKAIQIABGG2ogAzYCACADRQ0BCyADIAk2AhggACgCECIBBEAgAyABNgIQIAEgAzYCGAsgAEEUaigCACIBRQ0AIANBFGogATYCACABIAM2AhgLAkAgBUEPTQRAIAAgBCAFaiIBQQNyNgIEIAAgAWoiASABKAIEQQFyNgIEDAELIAAgBGoiByAFQQFyNgIEIAAgBEEDcjYCBCAFIAdqIAU2AgAgCARAIAhBeHFBqNQAaiEBQZTUACgCACEDAn9BASAIQQN2dCICIAZxRQRAQYDUACACIAZyNgIAIAEMAQsgASgCCAsiAiADNgIMIAEgAzYCCCADIAE2AgwgAyACNgIIC0GU1AAgBzYCAEGI1AAgBTYCAAsgAEEIaiEBCyAKQRBqJAAgAQtDACAARQRAPwBBEHQPCwJAIABB//8DcQ0AIABBAEgNACAAQRB2QAAiAEF/RgRAQfDXAEEwNgIAQX8PCyAAQRB0DwsACwvbQCIAQYAICwkBAAAAAgAAAAMAQZQICwUEAAAABQBBpAgLCQYAAAAHAAAACABB3AgLgjFJbnZhbGlkIGNoYXIgaW4gdXJsIHF1ZXJ5AFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fYm9keQBDb250ZW50LUxlbmd0aCBvdmVyZmxvdwBDaHVuayBzaXplIG92ZXJmbG93AEludmFsaWQgbWV0aG9kIGZvciBIVFRQL3gueCByZXF1ZXN0AEludmFsaWQgbWV0aG9kIGZvciBSVFNQL3gueCByZXF1ZXN0AEV4cGVjdGVkIFNPVVJDRSBtZXRob2QgZm9yIElDRS94LnggcmVxdWVzdABJbnZhbGlkIGNoYXIgaW4gdXJsIGZyYWdtZW50IHN0YXJ0AEV4cGVjdGVkIGRvdABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3N0YXR1cwBJbnZhbGlkIHJlc3BvbnNlIHN0YXR1cwBFeHBlY3RlZCBMRiBhZnRlciBoZWFkZXJzAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMAVXNlciBjYWxsYmFjayBlcnJvcgBgb25fcmVzZXRgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19oZWFkZXJgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2JlZ2luYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlYCBjYWxsYmFjayBlcnJvcgBgb25fc3RhdHVzX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdmVyc2lvbl9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3VybF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21ldGhvZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lYCBjYWxsYmFjayBlcnJvcgBVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNlcnZlcgBJbnZhbGlkIGhlYWRlciB2YWx1ZSBjaGFyAEludmFsaWQgaGVhZGVyIGZpZWxkIGNoYXIAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl92ZXJzaW9uAEludmFsaWQgbWlub3IgdmVyc2lvbgBJbnZhbGlkIG1ham9yIHZlcnNpb24ARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgdmVyc2lvbgBFeHBlY3RlZCBDUkxGIGFmdGVyIHZlcnNpb24ASW52YWxpZCBIVFRQIHZlcnNpb24ASW52YWxpZCBoZWFkZXIgdG9rZW4AU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl91cmwASW52YWxpZCBjaGFyYWN0ZXJzIGluIHVybABVbmV4cGVjdGVkIHN0YXJ0IGNoYXIgaW4gdXJsAERvdWJsZSBAIGluIHVybABFbXB0eSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXJhY3RlciBpbiBDb250ZW50LUxlbmd0aABUcmFuc2Zlci1FbmNvZGluZyBjYW4ndCBiZSBwcmVzZW50IHdpdGggQ29udGVudC1MZW5ndGgARHVwbGljYXRlIENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhciBpbiB1cmwgcGF0aABDb250ZW50LUxlbmd0aCBjYW4ndCBiZSBwcmVzZW50IHdpdGggVHJhbnNmZXItRW5jb2RpbmcATWlzc2luZyBleHBlY3RlZCBDUiBhZnRlciBjaHVuayBzaXplAEV4cGVjdGVkIExGIGFmdGVyIGNodW5rIHNpemUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgc2l6ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl92YWx1ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgQ1IgYWZ0ZXIgaGVhZGVyIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVyIHZhbHVlAEludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYCBoZWFkZXIgdmFsdWUATWlzc2luZyBleHBlY3RlZCBDUiBhZnRlciBjaHVuayBleHRlbnNpb24gdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZSB2YWx1ZQBJbnZhbGlkIHF1b3RlZC1wYWlyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGVkIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGVkIHZhbHVlAFBhdXNlZCBieSBvbl9oZWFkZXJzX2NvbXBsZXRlAEludmFsaWQgRU9GIHN0YXRlAG9uX3Jlc2V0IHBhdXNlAG9uX2NodW5rX2hlYWRlciBwYXVzZQBvbl9tZXNzYWdlX2JlZ2luIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZSBwYXVzZQBvbl9zdGF0dXNfY29tcGxldGUgcGF1c2UAb25fdmVyc2lvbl9jb21wbGV0ZSBwYXVzZQBvbl91cmxfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlIHBhdXNlAG9uX21lc3NhZ2VfY29tcGxldGUgcGF1c2UAb25fbWV0aG9kX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fbmFtZSBwYXVzZQBVbmV4cGVjdGVkIHNwYWNlIGFmdGVyIHN0YXJ0IGxpbmUATWlzc2luZyBleHBlY3RlZCBDUiBhZnRlciByZXNwb25zZSBsaW5lAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBuYW1lAE1pc3NpbmcgZXhwZWN0ZWQgQ1IgYWZ0ZXIgY2h1bmsgZXh0ZW5zaW9uIG5hbWUASW52YWxpZCBzdGF0dXMgY29kZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABNaXNzaW5nIGV4cGVjdGVkIENSIGFmdGVyIGNodW5rIGRhdGEARXhwZWN0ZWQgTEYgYWZ0ZXIgY2h1bmsgZGF0YQBVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AARGF0YSBhZnRlciBgQ29ubmVjdGlvbjogY2xvc2VgAFNXSVRDSF9QUk9YWQBVU0VfUFJPWFkATUtBQ1RJVklUWQBVTlBST0NFU1NBQkxFX0VOVElUWQBRVUVSWQBDT1BZAE1PVkVEX1BFUk1BTkVOVExZAFRPT19FQVJMWQBOT1RJRlkARkFJTEVEX0RFUEVOREVOQ1kAQkFEX0dBVEVXQVkAUExBWQBQVVQAQ0hFQ0tPVVQAR0FURVdBWV9USU1FT1VUAFJFUVVFU1RfVElNRU9VVABORVRXT1JLX0NPTk5FQ1RfVElNRU9VVABDT05ORUNUSU9OX1RJTUVPVVQATE9HSU5fVElNRU9VVABORVRXT1JLX1JFQURfVElNRU9VVABQT1NUAE1JU0RJUkVDVEVEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfTE9BRF9CQUxBTkNFRF9SRVFVRVNUAEJBRF9SRVFVRVNUAEhUVFBfUkVRVUVTVF9TRU5UX1RPX0hUVFBTX1BPUlQAUkVQT1JUAElNX0FfVEVBUE9UAFJFU0VUX0NPTlRFTlQATk9fQ09OVEVOVABQQVJUSUFMX0NPTlRFTlQASFBFX0lOVkFMSURfQ09OU1RBTlQASFBFX0NCX1JFU0VUAEdFVABIUEVfU1RSSUNUAENPTkZMSUNUAFRFTVBPUkFSWV9SRURJUkVDVABQRVJNQU5FTlRfUkVESVJFQ1QAQ09OTkVDVABNVUxUSV9TVEFUVVMASFBFX0lOVkFMSURfU1RBVFVTAFRPT19NQU5ZX1JFUVVFU1RTAEVBUkxZX0hJTlRTAFVOQVZBSUxBQkxFX0ZPUl9MRUdBTF9SRUFTT05TAE9QVElPTlMAU1dJVENISU5HX1BST1RPQ09MUwBWQVJJQU5UX0FMU09fTkVHT1RJQVRFUwBNVUxUSVBMRV9DSE9JQ0VTAElOVEVSTkFMX1NFUlZFUl9FUlJPUgBXRUJfU0VSVkVSX1VOS05PV05fRVJST1IAUkFJTEdVTl9FUlJPUgBJREVOVElUWV9QUk9WSURFUl9BVVRIRU5USUNBVElPTl9FUlJPUgBTU0xfQ0VSVElGSUNBVEVfRVJST1IASU5WQUxJRF9YX0ZPUldBUkRFRF9GT1IAU0VUX1BBUkFNRVRFUgBHRVRfUEFSQU1FVEVSAEhQRV9VU0VSAFNFRV9PVEhFUgBIUEVfQ0JfQ0hVTktfSEVBREVSAEV4cGVjdGVkIExGIGFmdGVyIENSAE1LQ0FMRU5EQVIAU0VUVVAAV0VCX1NFUlZFUl9JU19ET1dOAFRFQVJET1dOAEhQRV9DTE9TRURfQ09OTkVDVElPTgBIRVVSSVNUSUNfRVhQSVJBVElPTgBESVNDT05ORUNURURfT1BFUkFUSU9OAE5PTl9BVVRIT1JJVEFUSVZFX0lORk9STUFUSU9OAEhQRV9JTlZBTElEX1ZFUlNJT04ASFBFX0NCX01FU1NBR0VfQkVHSU4AU0lURV9JU19GUk9aRU4ASFBFX0lOVkFMSURfSEVBREVSX1RPS0VOAElOVkFMSURfVE9LRU4ARk9SQklEREVOAEVOSEFOQ0VfWU9VUl9DQUxNAEhQRV9JTlZBTElEX1VSTABCTE9DS0VEX0JZX1BBUkVOVEFMX0NPTlRST0wATUtDT0wAQUNMAEhQRV9JTlRFUk5BTABSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFX1VOT0ZGSUNJQUwASFBFX09LAFVOTElOSwBVTkxPQ0sAUFJJAFJFVFJZX1dJVEgASFBFX0lOVkFMSURfQ09OVEVOVF9MRU5HVEgASFBFX1VORVhQRUNURURfQ09OVEVOVF9MRU5HVEgARkxVU0gAUFJPUFBBVENIAE0tU0VBUkNIAFVSSV9UT09fTE9ORwBQUk9DRVNTSU5HAE1JU0NFTExBTkVPVVNfUEVSU0lTVEVOVF9XQVJOSU5HAE1JU0NFTExBTkVPVVNfV0FSTklORwBIUEVfSU5WQUxJRF9UUkFOU0ZFUl9FTkNPRElORwBFeHBlY3RlZCBDUkxGAEhQRV9JTlZBTElEX0NIVU5LX1NJWkUATU9WRQBDT05USU5VRQBIUEVfQ0JfU1RBVFVTX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJTX0NPTVBMRVRFAEhQRV9DQl9WRVJTSU9OX0NPTVBMRVRFAEhQRV9DQl9VUkxfQ09NUExFVEUASFBFX0NCX0NIVU5LX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX05BTUVfQ09NUExFVEUASFBFX0NCX01FU1NBR0VfQ09NUExFVEUASFBFX0NCX01FVEhPRF9DT01QTEVURQBIUEVfQ0JfSEVBREVSX0ZJRUxEX0NPTVBMRVRFAERFTEVURQBIUEVfSU5WQUxJRF9FT0ZfU1RBVEUASU5WQUxJRF9TU0xfQ0VSVElGSUNBVEUAUEFVU0UATk9fUkVTUE9OU0UAVU5TVVBQT1JURURfTUVESUFfVFlQRQBHT05FAE5PVF9BQ0NFUFRBQkxFAFNFUlZJQ0VfVU5BVkFJTEFCTEUAUkFOR0VfTk9UX1NBVElTRklBQkxFAE9SSUdJTl9JU19VTlJFQUNIQUJMRQBSRVNQT05TRV9JU19TVEFMRQBQVVJHRQBNRVJHRQBSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFAFJFUVVFU1RfSEVBREVSX1RPT19MQVJHRQBQQVlMT0FEX1RPT19MQVJHRQBJTlNVRkZJQ0lFTlRfU1RPUkFHRQBIUEVfUEFVU0VEX1VQR1JBREUASFBFX1BBVVNFRF9IMl9VUEdSQURFAFNPVVJDRQBBTk5PVU5DRQBUUkFDRQBIUEVfVU5FWFBFQ1RFRF9TUEFDRQBERVNDUklCRQBVTlNVQlNDUklCRQBSRUNPUkQASFBFX0lOVkFMSURfTUVUSE9EAE5PVF9GT1VORABQUk9QRklORABVTkJJTkQAUkVCSU5EAFVOQVVUSE9SSVpFRABNRVRIT0RfTk9UX0FMTE9XRUQASFRUUF9WRVJTSU9OX05PVF9TVVBQT1JURUQAQUxSRUFEWV9SRVBPUlRFRABBQ0NFUFRFRABOT1RfSU1QTEVNRU5URUQATE9PUF9ERVRFQ1RFRABIUEVfQ1JfRVhQRUNURUQASFBFX0xGX0VYUEVDVEVEAENSRUFURUQASU1fVVNFRABIUEVfUEFVU0VEAFRJTUVPVVRfT0NDVVJFRABQQVlNRU5UX1JFUVVJUkVEAFBSRUNPTkRJVElPTl9SRVFVSVJFRABQUk9YWV9BVVRIRU5USUNBVElPTl9SRVFVSVJFRABORVRXT1JLX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAExFTkdUSF9SRVFVSVJFRABTU0xfQ0VSVElGSUNBVEVfUkVRVUlSRUQAVVBHUkFERV9SRVFVSVJFRABQQUdFX0VYUElSRUQAUFJFQ09ORElUSU9OX0ZBSUxFRABFWFBFQ1RBVElPTl9GQUlMRUQAUkVWQUxJREFUSU9OX0ZBSUxFRABTU0xfSEFORFNIQUtFX0ZBSUxFRABMT0NLRUQAVFJBTlNGT1JNQVRJT05fQVBQTElFRABOT1RfTU9ESUZJRUQATk9UX0VYVEVOREVEAEJBTkRXSURUSF9MSU1JVF9FWENFRURFRABTSVRFX0lTX09WRVJMT0FERUQASEVBRABFeHBlY3RlZCBIVFRQLwAAUhUAABoVAAAPEgAA5BkAAJEVAAAJFAAALRkAAOQUAADpEQAAaRQAAKEUAAB2FQAAQxYAAF4SAACUFwAAFxYAAH0UAAB/FgAAQRcAALMTAADDFgAABBoAAL0YAADQGAAAoBMAANQZAACvFgAAaBYAAHAXAADZFgAA/BgAAP4RAABZFwAAlxYAABwXAAD2FgAAjRcAAAsSAAB/GwAALhEAALMQAABJEgAArRIAAPYYAABoEAAAYhUAABAVAABaFgAAShkAALUVAADBFQAAYBUAAFwZAABaGQAAUxkAABYVAACtEQAAQhAAALcQAABXGAAAvxUAAIkQAAAcGQAAGhkAALkVAABRGAAA3BMAAFsVAABZFQAA5hgAAGcVAAARGQAA7RgAAOcTAACuEAAAwhcAAAAUAACSEwAAhBMAAEASAAAmGQAArxUAAGIQAEHpOQsBAQBBgDoL4AEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB6jsLBAEAAAIAQYE8C14DBAMDAwMDAAADAwADAwADAwMDAwMDAwMDAAUAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAwADAEHqPQsEAQAAAgBBgT4LXgMAAwMDAwMAAAMDAAMDAAMDAwMDAwMDAwMABAAFAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwADAAMAQeA/Cw1sb3NlZWVwLWFsaXZlAEH5PwsBAQBBkMAAC+ABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQfnBAAsBAQBBkMIAC+cBAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAEGhxAALXgEAAQEBAQEAAAEBAAEBAAEBAQEBAQEBAQEAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAEAQYDGAAshZWN0aW9uZW50LWxlbmd0aG9ucm94eS1jb25uZWN0aW9uAEGwxgALK3JhbnNmZXItZW5jb2RpbmdwZ3JhZGUNCg0KU00NCg0KVFRQL0NFL1RTUC8AQenGAAsFAQIAAQMAQYDHAAtfBAUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUAQenIAAsFAQIAAQMAQYDJAAtfBAUFBgUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUAQenKAAsEAQAAAQBBgcsAC14CAgACAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAEHpzAALBQECAAEDAEGAzQALXwQFAAAFBQUFBQUFBQUFBQYFBQUFBQUFBQUFBQUABQAHCAUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQAFAAUABQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUAAAAFAEHpzgALBQEBAAEBAEGAzwALAQEAQZrPAAtBAgAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQenQAAsFAQEAAQEAQYDRAAsBAQBBitEACwYCAAAAAAIAQaHRAAs6AwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB4NIAC5oBTk9VTkNFRUNLT1VUTkVDVEVURUNSSUJFTFVTSEVURUFEU0VBUkNIUkdFQ1RJVklUWUxFTkRBUlZFT1RJRllQVElPTlNDSFNFQVlTVEFUQ0hHRVVFUllPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw==";Object.defineProperty(a,"exports",{get:()=>d||(d=e.from(f,"base64"))})},79234:(a,b,c)=>{"use strict";c.d(b,{L:()=>t});var d=c(99408),e=c(78584),f=c(1276),g=c(40869),h=c(86739),i=c(46601),j=c(77600),k=c(46386),l=c(54094),m=c(23042),o=c(23271),p=c(66089),q=c(16886);let r=async({slug:a,config:b,locale:c,payload:d,published:e,req:f,where:g})=>{let h,i=e?{"version._status":{equals:"published"}}:{latest:{equals:!0}};(0,m.gD)(b)&&(h=(await d.db.findGlobalVersions({global:a,limit:1,locale:c||f?.locale||void 0,pagination:!1,req:f,where:i})).docs[0]);let j=await d.db.findGlobal({slug:a,locale:c,req:f,where:g}),k=!!j;return h?(h.version.createdAt||(h.version.createdAt=h.createdAt),h.version.updatedAt||(h.version.updatedAt=h.updatedAt),{global:h.version,globalExists:k}):{global:j,globalExists:k}};var s=c(37712);let t=async a=>{a.publishSpecificLocale&&(a.req.locale=a.publishSpecificLocale);let{slug:b,autosave:c,depth:t,disableTransaction:u,draft:v,globalConfig:w,overrideAccess:x,overrideLock:y,populate:z,publishSpecificLocale:A,req:{fallbackLocale:B,locale:C,payload:D},req:E,select:F,showHiddenFields:G}=a;try{let p,H=!u&&await (0,o.n)(E);if(w.hooks?.beforeOperation?.length)for(let b of w.hooks.beforeOperation)a=await b({args:a,context:a.req.context,global:w,operation:"update",req:a.req})||a;let{data:I}=a,J=!!(v&&(0,m.gD)(w))&&"published"!==I._status,K=!!x||await (0,d.m)({data:I,req:E},w.access.update),L=x?void 0:K,M=await r({slug:b,config:w,locale:C,payload:D,req:E,where:L}),{global:N,globalExists:O}=M||{},P={};M&&M.global&&(P=(0,i.Zt)(N))._id&&delete P._id;let Q=await (0,f.v)({collection:null,context:E.context,depth:0,doc:(0,i.Zt)(P),draft:v,fallbackLocale:B,global:w,locale:C,overrideAccess:!0,req:E,showHiddenFields:G});if(await (0,j.B)({globalSlug:b,lockErrorMessage:`Global with slug "${b}" is currently locked by another user and cannot be updated.`,overrideLock:y,req:E}),I=await (0,h.M)({collection:null,context:E.context,data:I,doc:Q,global:w,operation:"update",overrideAccess:x,req:E}),w.hooks?.beforeValidate?.length)for(let a of w.hooks.beforeValidate)I=await a({context:E.context,data:I,global:w,originalDoc:Q,req:E})||I;if(w.hooks?.beforeChange?.length)for(let a of w.hooks.beforeChange)I=await a({context:E.context,data:I,global:w,originalDoc:Q,req:E})||I;let R={collection:null,context:E.context,data:I,doc:Q,docWithLocales:P,global:w,operation:"update",req:E,skipValidation:J&&!(0,m.wA)(w)},S=await (0,g.o)(R);D.config.localization&&w.versions&&A&&(p=(0,i.Zt)(S),S=await (0,g.o)({...R,docWithLocales:(await r({slug:b,config:w,payload:D,published:!0,req:E,where:L}))?.global||{}}));let T=(0,q.Y)({fields:w.flattenedFields,forceSelect:w.forceSelect,select:F});if(!J){let a=new Date().toISOString();S.createdAt||(S.createdAt=a),S.updatedAt=a,S=O?await D.db.updateGlobal({slug:b,data:S,req:E,select:T}):await D.db.createGlobal({slug:b,data:S,req:E})}if(w.versions){let{globalType:a}=S;S={...S=await (0,s.U)({autosave:c,docWithLocales:S,draft:J,global:w,operation:"update",payload:D,publishSpecificLocale:A,req:E,select:T,snapshot:p}),globalType:a}}if(T&&S.globalType){let a=(0,l.a)(T);("include"!==a||T.globalType)&&("exclude"!==a||!1!==T.globalType)||delete S.globalType}if(S=await (0,f.v)({collection:null,context:E.context,depth:t,doc:S,draft:v,fallbackLocale:null,global:w,locale:C,overrideAccess:x,populate:z,req:E,select:T,showHiddenFields:G}),w.hooks?.afterRead?.length)for(let a of w.hooks.afterRead)S=await a({context:E.context,doc:S,global:w,req:E})||S;if(S=await (0,e.t)({collection:null,context:E.context,data:I,doc:S,global:w,operation:"update",previousDoc:Q,req:E}),w.hooks?.afterChange?.length)for(let a of w.hooks.afterChange)S=await a({context:E.context,data:I,doc:S,global:w,previousDoc:Q,req:E})||S;return H&&await (0,k.w)(E),S}catch(a){throw await (0,p.J)(E),a}}},79297:a=>{"use strict";a.exports=(a,b)=>{if(!a.meta||"escape"===a.name){if(a.ctrl){if("a"===a.name)return"first";if("c"===a.name||"d"===a.name)return"abort";if("e"===a.name)return"last";if("g"===a.name)return"reset"}if(b){if("j"===a.name)return"down";if("k"===a.name)return"up"}return"return"===a.name||"enter"===a.name?"submit":"backspace"===a.name?"delete":"delete"===a.name?"deleteForward":"abort"===a.name?"abort":"escape"===a.name?"exit":"tab"===a.name?"next":"pagedown"===a.name?"nextPage":"pageup"===a.name?"prevPage":"home"===a.name?"home":"end"===a.name?"end":"up"===a.name?"up":"down"===a.name?"down":"right"===a.name?"right":"left"===a.name&&"left"}}},79349:(a,b,c)=>{"use strict";a.exports=i;let{isErrorLike:d}=c(93618),{pinoErrProto:e,pinoErrorSymbols:f}=c(30693),{seen:g}=f,{toString:h}=Object.prototype;function i(a){if(!d(a))return a;a[g]=void 0;let b=Object.create(e);for(let c in b.type="[object Function]"===h.call(a.constructor)?a.constructor.name:a.name,b.message=a.message,b.stack=a.stack,Array.isArray(a.errors)&&(b.aggregateErrors=a.errors.map(a=>i(a))),d(a.cause)&&!Object.prototype.hasOwnProperty.call(a.cause,g)&&(b.cause=i(a.cause)),a)if(void 0===b[c]){let e=a[c];d(e)?Object.prototype.hasOwnProperty.call(e,g)||(b[c]=i(e)):b[c]=e}return delete a[g],b.raw=a,b}},79448:(a,b,c)=>{"use strict";a.exports={host:"localhost",user:"win32"===process.platform?process.env.USERNAME:process.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};let d=c(27092),e=d.getTypeParser(20,"text"),f=d.getTypeParser(1016,"text");a.exports.__defineSetter__("parseInt8",function(a){d.setTypeParser(20,"text",a?d.getTypeParser(23,"text"):e),d.setTypeParser(1016,"text",a?d.getTypeParser(1007,"text"):f)})},79467:a=>{"use strict";function b(a){for(let b=0;b<a.length;++b){let c=a.charCodeAt(b);if(c>=0&&c<=8||c>=10&&c<=31||127===c)return!0}return!1}function c(a){for(let b=0;b<a.length;++b){let c=a.charCodeAt(b);if(c<33||c>126||34===c||40===c||41===c||60===c||62===c||64===c||44===c||59===c||58===c||92===c||47===c||91===c||93===c||63===c||61===c||123===c||125===c)throw Error("Invalid cookie name")}}function d(a){let b=a.length,c=0;if('"'===a[0]){if(1===b||'"'!==a[b-1])throw Error("Invalid cookie value");--b,++c}for(;c<b;){let b=a.charCodeAt(c++);if(b<33||b>126||34===b||44===b||59===b||92===b)throw Error("Invalid cookie value")}}function e(a){for(let b=0;b<a.length;++b){let c=a.charCodeAt(b);if(c<32||127===c||59===c)throw Error("Invalid cookie path")}}function f(a){if(a.startsWith("-")||a.endsWith(".")||a.endsWith("-"))throw Error("Invalid cookie domain")}let g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=Array(61).fill(0).map((a,b)=>b.toString().padStart(2,"0"));function j(a){return"number"==typeof a&&(a=new Date(a)),`${g[a.getUTCDay()]}, ${i[a.getUTCDate()]} ${h[a.getUTCMonth()]} ${a.getUTCFullYear()} ${i[a.getUTCHours()]}:${i[a.getUTCMinutes()]}:${i[a.getUTCSeconds()]} GMT`}function k(a){if(a<0)throw Error("Invalid cookie max-age")}function l(a){if(0===a.name.length)return null;c(a.name),d(a.value);let b=[`${a.name}=${a.value}`];for(let c of(a.name.startsWith("__Secure-")&&(a.secure=!0),a.name.startsWith("__Host-")&&(a.secure=!0,a.domain=null,a.path="/"),a.secure&&b.push("Secure"),a.httpOnly&&b.push("HttpOnly"),"number"==typeof a.maxAge&&(k(a.maxAge),b.push(`Max-Age=${a.maxAge}`)),a.domain&&(f(a.domain),b.push(`Domain=${a.domain}`)),a.path&&(e(a.path),b.push(`Path=${a.path}`)),a.expires&&"Invalid Date"!==a.expires.toString()&&b.push(`Expires=${j(a.expires)}`),a.sameSite&&b.push(`SameSite=${a.sameSite}`),a.unparsed)){if(!c.includes("="))throw Error("Invalid unparsed");let[a,...d]=c.split("=");b.push(`${a.trim()}=${d.join("=")}`)}return b.join("; ")}a.exports={isCTLExcludingHtab:b,validateCookieName:c,validateCookiePath:e,validateCookieValue:d,toIMFDate:j,stringify:l}},79605:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(84225);b.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:a=>(0,d.validateTuple)(a,"items")}},79909:(a,b,c)=>{"use strict";c.d(b,{I:()=>l});var d=c(10466),e=c(61435),f=c(19071);let g=a=>a?.[Symbol.toStringTag],h=(a,b,c)=>{if(void 0!==b.use&&"sig"!==b.use)throw TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==b.key_ops&&b.key_ops.includes?.(c)!==!0)throw TypeError(`Invalid key for this operation, when present its key_ops must include ${c}`);if(void 0!==b.alg&&b.alg!==a)throw TypeError(`Invalid key for this operation, when present its alg must be ${a}`);return!0},i=(a,b,c,i)=>{if(!(b instanceof Uint8Array)){if(i&&f.ll(b)){if(f.t9(b)&&h(a,b,c))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!(0,e.A)(b))throw TypeError((0,d.t)(a,b,...e.g,"Uint8Array",i?"JSON Web Key":null));if("secret"!==b.type)throw TypeError(`${g(b)} instances for symmetric algorithms must be of type "secret"`)}},j=(a,b,c,i)=>{if(i&&f.ll(b))switch(c){case"sign":if(f.W2(b)&&h(a,b,c))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(f.M3(b)&&h(a,b,c))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!(0,e.A)(b))throw TypeError((0,d.t)(a,b,...e.g,i?"JSON Web Key":null));if("secret"===b.type)throw TypeError(`${g(b)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===c&&"public"===b.type)throw TypeError(`${g(b)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===c&&"public"===b.type)throw TypeError(`${g(b)} instances for asymmetric algorithm decryption must be of type "private"`);if(b.algorithm&&"verify"===c&&"private"===b.type)throw TypeError(`${g(b)} instances for asymmetric algorithm verifying must be of type "public"`);if(b.algorithm&&"encrypt"===c&&"private"===b.type)throw TypeError(`${g(b)} instances for asymmetric algorithm encryption must be of type "public"`)};function k(a,b,c,d){b.startsWith("HS")||"dir"===b||b.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(b)?i(b,c,d,a):j(b,c,d,a)}k.bind(void 0,!1);let l=k.bind(void 0,!0)},79936:(a,b,c)=>{"use strict";c.d(b,{T:()=>G});var d=c(50200),e=c(85088),f=c(78164),g=c(44240),h=c(6722),i=c(34318),j=c(86861),k=c(77208);let l=new Set(["http:","https:","mailto:","sms:","tel:"]);class m extends i.fGB{__fields;__id;constructor({id:a,fields:b={linkType:"custom",newTab:!1},key:c}){super(c),this.__fields=b,this.__id=a}static clone(a){return new this({id:a.__id,fields:a.__fields,key:a.__key})}static getType(){return"link"}static importDOM(){return{a:a=>({conversion:o,priority:1})}}static importJSON(a){let b=p({}).updateFromJSON(a);return 1===a.version&&"object"==typeof a.fields?.doc?.value&&a.fields?.doc?.value?.id&&(a.fields.doc.value=a.fields.doc.value.id,a.version=2),2!==a.version||a.id||(a.id=new k.default().toHexString(),a.version=3),b}canBeEmpty(){return!1}canInsertTextAfter(){return!1}canInsertTextBefore(){return!1}createDOM(a){let b=document.createElement("a");return this.__fields?.linkType==="custom"&&(b.href=this.sanitizeUrl(this.__fields.url??"")),this.__fields?.newTab&&(b.target="_blank"),this.__fields?.newTab===!0&&this.__fields?.linkType==="custom"&&(b.rel=r(b.rel,"add","noopener")),(0,j.ZB)(b,a.theme.link),b}exportJSON(){let a=this.getFields();a?.linkType==="internal"?delete a.url:a?.linkType==="custom"&&delete a.doc;let b={...super.exportJSON(),type:"link",fields:a,version:3},c=this.getID();return c&&(b.id=c),b}extractWithChild(a,b,c){if(!(0,i.I2P)(b))return!1;let d=b.anchor.getNode(),e=b.focus.getNode();return this.isParentOf(d)&&this.isParentOf(e)&&b.getTextContent().length>0}getFields(){return this.getLatest().__fields}getID(){return this.getLatest().__id}insertNewAfter(a,b=!0){let c=this.getParentOrThrow().insertNewAfter(a,b);if((0,i.ff4)(c)){let a=p({fields:this.__fields});return c.append(a),a}return null}isInline(){return!0}sanitizeUrl(a){try{let b=new URL(a);if(!l.has(b.protocol))return"about:blank"}catch(a){return"https://"}return a}setFields(a){let b=this.getWritable();return b.__fields=a,b}setID(a){let b=this.getWritable();return b.__id=a,b}updateDOM(a,b,c){let d=this.__fields?.url,e=this.__fields?.newTab;return null!=d&&d!==a.__fields?.url&&this.__fields?.linkType==="custom"&&(b.href=d),this.__fields?.linkType==="internal"&&a.__fields?.linkType==="custom"&&b.removeAttribute("href"),null==b.rel&&(b.rel=""),e!==a.__fields?.newTab&&(e?(b.target="_blank",this.__fields?.linkType==="custom"&&(b.rel=r(b.rel,"add","noopener"))):(b.removeAttribute("target"),b.rel=r(b.rel,"remove","noopener"))),!1}updateFromJSON(a){return super.updateFromJSON(a).setFields(a.fields).setID(a.id)}}function o(a){let b=null;if((0,i.nYP)(a)){let c=a.textContent;null!==c&&""!==c&&(b=p({id:new k.default().toHexString(),fields:{doc:null,linkType:"custom",newTab:"_blank"===a.getAttribute("target"),url:a.getAttribute("href")??""}}))}return{node:b}}function p({id:a,fields:b}){return(0,i.pTq)(new m({id:a??new k.default().toHexString(),fields:b}))}function q(a){return a instanceof m}function r(a,b,c){let d,e=`${a}`;if("add"===b){if(e.includes(c)){let a=RegExp(c,"g");e=e.replace(a,"").trim()}d=0===(e=e.trim()).length?`${c}`:`${e} ${c}`}else{let a=RegExp(c,"g");d=e.replace(a,"").trim()}return d}(0,i.guI)("TOGGLE_LINK_COMMAND");let s={type:"text-match",dependencies:[m],export:(a,b)=>{if(!q(a))return null;let c=a,{url:d}=c.getFields(),e=b(c);return`[${e}](${d})`},importRegExp:/\[([^[]+)\]\(([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?\)/,regExp:/\[([^[]+)\]\(([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?\)$/,replace:(a,b)=>{let[,c,d]=b,e=p({fields:{doc:null,linkType:"custom",newTab:!1,url:d}}),f=(0,i.sTu)(c);return f.setFormat(a.getFormat()),e.append(f),a.replace(e),f},trigger:")"};class t extends m{static clone(a){return new this({id:"",fields:a.__fields,key:a.__key})}static getType(){return"autolink"}static importDOM(){return null}static importJSON(a){let b=u({}).updateFromJSON(a);return 1===a.version&&"object"==typeof a.fields?.doc?.value&&a.fields?.doc?.value?.id&&(a.fields.doc.value=a.fields.doc.value.id,a.version=2),b}exportJSON(){let a=super.exportJSON();return{type:"autolink",children:a.children,direction:a.direction,fields:a.fields,format:a.format,indent:a.indent,version:2}}insertNewAfter(a,b=!0){let c=this.getParentOrThrow().insertNewAfter(a,b);if((0,i.ff4)(c)){let a=u({fields:this.__fields});return c.append(a),a}return null}updateFromJSON(a){return super.updateFromJSON(a).setFields(a.fields)}}function u({fields:a}){return(0,i.pTq)(new t({id:"",fields:a}))}var v=c(9764);let w=a=>({context:b,currentDepth:c,depth:d,draft:e,editorPopulationPromises:f,field:g,fieldPromises:h,findMany:i,flattenLocales:j,node:k,overrideAccess:l,parentIsLocalized:m,populationPromises:o,req:p,showHiddenFields:q})=>{a.fields?.length&&Array.isArray(a.fields)&&(0,v.V)({context:b,currentDepth:c,data:k.fields,depth:d,draft:e,editorPopulationPromises:f,fieldPromises:h,fields:a.fields,findMany:i,flattenLocales:j,overrideAccess:l,parentIsLocalized:m||g.localized||!1,populationPromises:o,req:p,showHiddenFields:q,siblingDoc:k.fields})},x={ar:{label:"",loadingWithEllipsis:" ..."},az:{label:"Ke\xe7id",loadingWithEllipsis:"Y\xfcklnir..."},bg:{label:"",loadingWithEllipsis:" ..."},cs:{label:"Odkaz",loadingWithEllipsis:"Na\xedt\xe1n\xed..."},da:{label:"Link",loadingWithEllipsis:"Indl\xe6ser..."},de:{label:"Verkn\xfcpfung",loadingWithEllipsis:"Laden..."},en:{label:"Link",loadingWithEllipsis:"Loading..."},es:{label:"Enlace",loadingWithEllipsis:"Cargando..."},et:{label:"Link",loadingWithEllipsis:"Laadimine..."},fa:{label:"",loadingWithEllipsis:"  ..."},fr:{label:"Lien",loadingWithEllipsis:"Chargement..."},he:{label:"",loadingWithEllipsis:"..."},hr:{label:"Poveznica",loadingWithEllipsis:"Uitavanje..."},hu:{label:"Hivatkoz\xe1s",loadingWithEllipsis:"Bet\xf6lt\xe9s..."},is:{label:"Hlekkur",loadingWithEllipsis:"Hle\xf0..."},it:{label:"Collegamento",loadingWithEllipsis:"Caricamento..."},ja:{label:"",loadingWithEllipsis:"..."},ko:{label:"",loadingWithEllipsis:" ..."},my:{label:"",loadingWithEllipsis:"..."},nb:{label:"Lenke",loadingWithEllipsis:"Laster..."},nl:{label:"Link",loadingWithEllipsis:"Laden..."},pl:{label:"cze",loadingWithEllipsis:"adowanie..."},pt:{label:"Liga\xe7\xe3o",loadingWithEllipsis:"Carregando..."},ro:{label:"Legtur",loadingWithEllipsis:"Se \xeencarc..."},rs:{label:"",loadingWithEllipsis:"..."},"rs-latin":{label:"Veza",loadingWithEllipsis:"Uitavanje..."},ru:{label:"",loadingWithEllipsis:"..."},sk:{label:"Odkaz",loadingWithEllipsis:"Na\xedtava sa..."},sl:{label:"Povezava",loadingWithEllipsis:"Nalaganje..."},sv:{label:"L\xe4nk",loadingWithEllipsis:"Laddar..."},ta:{label:"",loadingWithEllipsis:"..."},th:{label:"",loadingWithEllipsis:"..."},tr:{label:"Balant",loadingWithEllipsis:"Y\xfckleniyor..."},uk:{label:"",loadingWithEllipsis:"..."},vi:{label:"Li\xean kt",loadingWithEllipsis:"ang ti..."},zh:{label:"",loadingWithEllipsis:"..."},"zh-TW":{label:"",loadingWithEllipsis:"..."}},y=/^(?:[a-zA-Z][a-zA-Z\d+.-]*:(?:\/\/)?(?:[-;:&=+$,\w]+@)?[A-Za-z\d]+(?:\.[A-Za-z\d]+)+|www\.[A-Za-z\d]+(?:\.[A-Za-z\d]+)+|(?:tel|mailto):[\w+.-]+)(?:\/[+~%/\w-]*)?(?:\?[-;&=%\w]*)?(?:#\w+)?$/,z=/^(?:\/[\w\-./]*(?:\?[-;&=%\w]*)?(?:#[\w-]+)?|#[\w\-]+)$/;function A(a){return!!a&&!a.includes(" ")}function B(a){if(!a||a.includes(" ")||/^[a-z][a-z\d+.-]*:\/[^/]/i.test(a))return!1;if("https://"===a||y.test(a)||z.test(a))return!0;try{let b=new URL(a);if(["ftp:","http:","https:"].includes(b.protocol)&&!b.hostname.includes("."))return!1;return!0}catch{}return!1}let C=(a,b,c,d)=>{let e;e=b||(c?a.collections.filter(({slug:a})=>!c.includes(a)).map(({slug:a})=>a):a.collections.filter(({admin:{enableRichTextLink:a,hidden:b}})=>("function"==typeof b||!b)&&a).map(({slug:a})=>a));let f=[{name:"text",type:"text",label:({t:a})=>a("fields:textToDisplay"),required:!0},{name:"linkType",type:"radio",admin:{description:({t:a})=>a("fields:chooseBetweenCustomTextOrDocument")},defaultValue:"custom",label:({t:a})=>a("fields:linkType"),options:[{label:({t:a})=>a("fields:customURL"),value:"custom"}],required:!0},{name:"url",type:"text",hooks:{beforeChange:[({value:a})=>{if(a)return B(a)?a:encodeURIComponent(a)}]},label:({t:a})=>a("fields:enterURL"),required:!0,validate:(a,b)=>{if(b?.siblingData?.linkType!=="internal"&&!A(a))return"Invalid URL"}}];return e?.length&&(f[1].options.push({label:({t:a})=>a("fields:internalLink"),value:"internal"}),f[2].admin={condition:(a,b)=>"internal"!==b.linkType},f.push({name:"doc",admin:{condition:(a,b)=>"internal"===b.linkType},type:"relationship",filterOptions:b||c?null:async({relationTo:b,req:c,user:d})=>{let e=a.collections.find(({slug:a})=>a===b)?.admin,f=e?.hidden;if("function"==typeof f&&f({user:d}))return!1;let g=e?.baseFilter??e?.baseListFilter;return await g?.({limit:0,page:1,req:c,sort:"id"})??!0},label:({t:a})=>a("fields:chooseDocumentToLink"),maxDepth:d,relationTo:e,required:!0})),f.push({name:"newTab",type:"checkbox",label:({t:a})=>a("fields:openInNewTab")}),f};function D(a,b,c,d,e){let f=C(b,c,d,e);return"function"==typeof a?a({config:b,defaultFields:f}):Array.isArray(a)?a:f}var E=c(95149);let F=(a,b)=>async({node:a,validation:{options:{id:c,collectionSlug:d,data:e,operation:f,preferences:g,req:h}}})=>{let i=await (0,E.d)({id:c,collectionSlug:d,data:a.fields,documentData:e,fields:b,fieldSchemaMap:void 0,initialBlockData:a.fields,operation:"create"===f||"update"===f?f:"update",permissions:{},preferences:g,renderAllFields:!1,req:h,schemaPath:""}),j=new Set;for(let a in i){let b=i[a];if(b?.errorPaths?.length)for(let a of b.errorPaths)j.add(a)}let k=Array.from(j);return!k.length||"The following fields are invalid: "+k.join(", ")},G=(0,f.m)({feature:async({config:a,isRoot:b,parentIsLocalized:c,props:f})=>{f||(f={});let i=a.collections.map(a=>a.slug)||[],j=D(f.fields?f.fields:null,a,f.enabledCollections,f.disabledCollections,f.maxDepth),k=await (0,e.b)({config:a,fields:j,parentIsLocalized:c,requireFieldLevelRichTextEditor:b,validRelationships:i});f.fields=k;let l=k.filter(a=>!("name"in a)||"text"!==a.name),o=null,p=null;for(let a of k)"name"in a&&"linkType"===a.name&&(o=a),"name"in a&&"url"===a.name&&(p=a);return{ClientFeature:"@payloadcms/richtext-lexical/client#LinkFeatureClient",clientFeatureProps:{defaultLinkType:o?"defaultValue"in o&&"string"==typeof o.defaultValue?o.defaultValue:"custom":void 0,defaultLinkURL:p?"defaultValue"in p&&"string"==typeof p.defaultValue?p.defaultValue:"https://":void 0,disableAutoLinks:f.disableAutoLinks,disabledCollections:f.disabledCollections,enabledCollections:f.enabledCollections},generateSchemaMap:()=>{if(!k||!Array.isArray(k)||0===k.length)return null;let a=new Map;return a.set("fields",{fields:k}),a},i18n:x,markdownTransformers:[s],nodes:[f?.disableAutoLinks===!0?null:(0,h.R)({converters:{html:{converter:async({converters:a,currentDepth:b,depth:c,draft:d,node:e,overrideAccess:f,parent:h,req:i,showHiddenFields:j})=>{let k=await (0,g.D)({converters:a,currentDepth:b,depth:c,draft:d,lexicalNodes:e.children,overrideAccess:f,parent:{...e,parent:h},req:i,showHiddenFields:j}),l=e.fields.url??"";return"internal"===e.fields.linkType&&(l="object"!=typeof e.fields.doc?.value?String(e.fields.doc?.value):String(e.fields.doc?.value?.id)),`<a href="${l}"${e.fields.newTab?' rel="noopener noreferrer" target="_blank"':""}>${k}</a>`},nodeTypes:[t.getType()]}},node:t,validations:[F(f,l)]}),(0,h.R)({converters:{html:{converter:async({converters:a,currentDepth:b,depth:c,draft:e,node:f,overrideAccess:h,parent:i,req:j,showHiddenFields:k})=>{let l=await (0,g.D)({converters:a,currentDepth:b,depth:c,draft:e,lexicalNodes:f.children,overrideAccess:h,parent:{...f,parent:i},req:j,showHiddenFields:k}),m="custom"===f.fields.linkType?d(f.fields.url):f.fields.doc?.value;return`<a href="${m}"${f.fields.newTab?' rel="noopener noreferrer" target="_blank"':""}>${l}</a>`},nodeTypes:[m.getType()]}},getSubFields:()=>l,getSubFieldsData:({node:a})=>a?.fields,graphQLPopulationPromises:[w(f)],node:m,validations:[F(f,l)]})].filter(Boolean),sanitizedServerFeatureProps:f}},key:"link"})},79944:(a,b,c)=>{"use strict";c.d(b,{r:()=>m,x:()=>o});let d=async a=>{let b=a?.Bucket||"";if("string"==typeof a.Bucket&&(a.Bucket=b.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),i(b)){if(!0===a.ForcePathStyle)throw Error("Path-style addressing cannot be used with ARN buckets")}else h(b)&&(-1===b.indexOf(".")||String(a.Endpoint).startsWith("http:"))&&b.toLowerCase()===b&&!(b.length<3)||(a.ForcePathStyle=!0);return a.DisableMultiRegionAccessPoints&&(a.disableMultiRegionAccessPoints=!0,a.DisableMRAP=!0),a},e=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,f=/(\d+\.){3}\d+/,g=/\.\./,h=a=>e.test(a)&&!f.test(a)&&!g.test(a),i=a=>{let[b,c,d,,,e]=a.split(":"),f="arn"===b&&a.split(":").length>=6,g=!!(f&&c&&d&&e);if(f&&!g)throw Error(`Invalid ARN: ${a} was an invalid ARN.`);return g},j=(a,b,c,d=!1)=>{let e=async()=>{let e;if(d){let d=c.clientContextParams;e=d?.[a]??c[a]??c[b]}else e=c[a]??c[b];return"function"==typeof e?e():e};return"credentialScope"===a||"CredentialScope"===b?async()=>{let a="function"==typeof c.credentials?await c.credentials():c.credentials;return a?.credentialScope??a?.CredentialScope}:"accountId"===a||"AccountId"===b?async()=>{let a="function"==typeof c.credentials?await c.credentials():c.credentials;return a?.accountId??a?.AccountId}:"endpoint"===a||"endpoint"===b?async()=>{if(!1===c.isCustomEndpoint)return;let a=await e();if(a&&"object"==typeof a){if("url"in a)return a.url.href;if("hostname"in a){let{protocol:b,hostname:c,port:d,path:e}=a;return`${b}//${c}${d?":"+d:""}${e}`}}return a}:e};var k=c(96366),l=c(24281);let m=async(a,b,c,d)=>{if(!c.isCustomEndpoint){let a;(a=c.serviceConfiguredEndpoint?await c.serviceConfiguredEndpoint():await (0,k.k)(c.serviceId))&&(c.endpoint=()=>Promise.resolve((0,l.a)(a)),c.isCustomEndpoint=!0)}let e=await o(a,b,c);if("function"!=typeof c.endpointProvider)throw Error("config.endpointProvider is not set.");return c.endpointProvider(e,d)},o=async(a,b,c)=>{let e={},f=b?.getEndpointParameterInstructions?.()||{};for(let[b,d]of Object.entries(f))switch(d.type){case"staticContextParams":e[b]=d.value;break;case"contextParams":e[b]=a[d.name];break;case"clientContextParams":case"builtInParams":e[b]=await j(d.name,b,c,"builtInParams"!==d.type)();break;case"operationContextParams":e[b]=d.get(a);break;default:throw Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(d))}return 0===Object.keys(f).length&&Object.assign(e,c),"s3"===String(c.serviceId).toLowerCase()&&await d(e),e}},79983:(a,b,c)=>{"use strict";c.d(b,{V:()=>e});var d=c(54094);let e=({select:a})=>a?"include"===(0,d.a)(a)?{parent:!0,version:a}:{version:a}:void 0},80004:(a,b,c)=>{"use strict";let{EventEmitter:d}=c(94735),e=c(75667),f=c(73885);class g extends d{constructor(a,b,c){super(),a=f.normalizeQueryConfig(a,b,c),this.text=a.text,this.values=a.values,this.rows=a.rows,this.types=a.types,this.name=a.name,this.queryMode=a.queryMode,this.binary=a.binary,this.portal=a.portal||"",this.callback=a.callback,this._rowMode=a.rowMode,process.domain&&a.callback&&(this.callback=process.domain.bind(a.callback)),this._result=new e(this._rowMode,this.types),this._results=this._result,this._canceledDueToError=!1}requiresPreparation(){return"extended"===this.queryMode||!!this.name||!!this.rows||!!this.text&&!!this.values&&this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new e(this._rowMode,this._result._types),this._results.push(this._result))}handleRowDescription(a){this._checkForMultirow(),this._result.addFields(a.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(a){let b;if(!this._canceledDueToError){try{b=this._result.parseRow(a.fields)}catch(a){this._canceledDueToError=a;return}this.emit("row",b,this._result),this._accumulateRows&&this._result.addRow(b)}}handleCommandComplete(a,b){this._checkForMultirow(),this._result.addCommandComplete(a),this.rows&&b.sync()}handleEmptyQuery(a){this.rows&&a.sync()}handleError(a,b){if(this._canceledDueToError&&(a=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(a);this.emit("error",a)}handleReadyForQuery(a){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,a);if(this.callback)try{this.callback(null,this._results)}catch(a){process.nextTick(()=>{throw a})}this.emit("end",this._results)}submit(a){if("string"!=typeof this.text&&"string"!=typeof this.name)return Error("A query must have either text or a name. Supplying neither is unsupported.");let b=a.parsedStatements[this.name];if(this.text&&b&&this.text!==b)return Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);if(this.values&&!Array.isArray(this.values))return Error("Query values must be an array");if(this.requiresPreparation()){a.stream.cork&&a.stream.cork();try{this.prepare(a)}finally{a.stream.uncork&&a.stream.uncork()}}else a.query(this.text);return null}hasBeenParsed(a){return this.name&&a.parsedStatements[this.name]}handlePortalSuspended(a){this._getRows(a,this.rows)}_getRows(a,b){a.execute({portal:this.portal,rows:b}),b?a.flush():a.sync()}prepare(a){this.hasBeenParsed(a)||a.parse({text:this.text,name:this.name,types:this.types});try{a.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:f.prepareValue})}catch(b){this.handleError(b,a);return}a.describe({type:"P",name:this.portal||""}),this._getRows(a,this.rows)}handleCopyInResponse(a){a.sendCopyFail("No source stream defined")}handleCopyData(a,b){}}a.exports=g},80347:(a,b,c)=>{"use strict";c.d(b,{l:()=>j});var d=c(15796),e=c(88392);let f=a=>a=>{throw a},g=(a,b)=>{},h=a=>(a,b)=>async c=>{if(!d.K.isInstance(c.request))return a(c);let h=(0,e.u)(b).selectedHttpAuthScheme;if(!h)throw Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:j,signer:k}=h,l=await a({...c,request:await k.sign(c.request,j,i)}).catch((k.errorHandler||f)(i));return(k.successHandler||g)(l.response,i),l},i={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},j=a=>({applyToStack:b=>{b.addRelativeTo(h(a),i)}})},80427:(a,b,c)=>{"use strict";let d=c(27910).Transform;class e extends d{constructor(a){super(a),this.lastBytes=Buffer.alloc(4),this.headersParsed=!1,this.headerBytes=0,this.headerChunks=[],this.rawHeaders=!1,this.bodySize=0}updateLastBytes(a){let b=this.lastBytes.length,c=Math.min(a.length,b);for(let a=0,d=b-c;a<d;a++)this.lastBytes[a]=this.lastBytes[a+c];for(let d=1;d<=c;d++)this.lastBytes[b-d]=a[a.length-d]}checkHeaders(a){if(this.headersParsed)return!0;let b=this.lastBytes.length,c=0;this.curLinePos=0;for(let d=0,e=this.lastBytes.length+a.length;d<e;d++){let e;if(10===(e=d<b?this.lastBytes[d]:a[d-b])&&d){let e=d-1<b?this.lastBytes[d-1]:a[d-1-b],f=d>1&&(d-2<b?this.lastBytes[d-2]:a[d-2-b]);if(10===e||13===e&&10===f){this.headersParsed=!0,c=d-b+1,this.headerBytes+=c;break}}}if(this.headersParsed){if(this.headerChunks.push(a.slice(0,c)),this.rawHeaders=Buffer.concat(this.headerChunks,this.headerBytes),this.headerChunks=null,this.emit("headers",this.parseHeaders()),a.length-1>c){let b=a.slice(c);this.bodySize+=b.length,setImmediate(()=>this.push(b))}return!1}return this.headerBytes+=a.length,this.headerChunks.push(a),this.updateLastBytes(a),!1}_transform(a,b,c){let d;if(!a||!a.length)return c();"string"==typeof a&&(a=Buffer.from(a,b));try{d=this.checkHeaders(a)}catch(a){return c(a)}d&&(this.bodySize+=a.length,this.push(a)),setImmediate(c)}_flush(a){if(this.headerChunks){let a=Buffer.concat(this.headerChunks,this.headerBytes);this.bodySize+=a.length,this.push(a),this.headerChunks=null}a()}parseHeaders(){let a=(this.rawHeaders||"").toString().split(/\r?\n/);for(let b=a.length-1;b>0;b--)/^\s/.test(a[b])&&(a[b-1]+="\n"+a[b],a.splice(b,1));return a.filter(a=>a.trim()).map(a=>({key:a.substr(0,a.indexOf(":")).trim().toLowerCase(),line:a}))}}a.exports=e},80548:(a,b,c)=>{"use strict";c.d(b,{FU:()=>e,nz:()=>d});let d=[{name:"_status",type:"select",admin:{components:{Field:!1},disableBulkEdit:!0},defaultValue:"draft",index:!0,label:({t:a})=>a("version:status"),options:[{label:({t:a})=>a("version:draft"),value:"draft"},{label:({t:a})=>a("version:published"),value:"published"}]}],e={name:"snapshot",type:"checkbox",admin:{disableBulkEdit:!0,disabled:!0},index:!0}},81094:(a,b,c)=>{"use strict";a.exports={TextPrompt:c(88687),SelectPrompt:c(47464),TogglePrompt:c(33772),DatePrompt:c(2724),NumberPrompt:c(469),MultiselectPrompt:c(1575),AutocompletePrompt:c(55228),AutocompleteMultiselectPrompt:c(97955),ConfirmPrompt:c(39786)}},81126:(a,b,c)=>{"use strict";function d(a,b){let c=Array.isArray(b)?b:[b],d={};for(let b of c)b in a&&(d[b]=a[b]);return new Proxy(a,{deleteProperty:(a,b)=>Reflect.deleteProperty(c.includes(b)?d:a,b),get:(a,b,e)=>Reflect.get(c.includes(b)?d:a,b,e),has:(a,b)=>Reflect.has(c.includes(b)?d:a,b),set:(a,b,e,f)=>c.includes(b)?Reflect.set(d,b,e):Reflect.set(a,b,e,f)})}c.d(b,{i:()=>d})},81211:(a,b,c)=>{"use strict";a.exports=e;let d=c(14466);function e({keyName:a,lines:b,eol:c,ident:e}){let f="",g=d({input:b,ident:e,eol:c}),h=`${e}${a}: ${g}${c}`.split(c);for(let a=0;a<h.length;a+=1){0!==a&&(f+=c);let b=h[a];if(/^\s*"stack"/.test(b)){let a=/^(\s*"stack":)\s*(".*"),?$/.exec(b);if(a&&3===a.length){let d=/^\s*/.exec(b)[0].length+4,e=" ".repeat(d),g=a[2];f+=a[1]+c+e+JSON.parse(g).replace(/\n/g,c+e)}else f+=b}else f+=b}return f}},81218:(a,b,c)=>{"use strict";c.d(b,{Q:()=>d});let d=a=>{let{adminRoute:b,apiRoute:c,includeBasePath:d,path:e="",relative:f=!1,serverURL:g}=a,h=process.env.NEXT_BASE_PATH||a.basePath||"",i=b||c,j=[i&&"/"!==i&&i,e&&e].filter(Boolean).join("")||"/",k=(h+j).replace(/\/$/,"")||"/",l=d??!b;if(f||!g)return l&&h?k:j;let m=new URL(g);return new URL(k,m.origin).toString()}},81350:(a,b,c)=>{"use strict";let d=c(34589),{kDestroyed:e,kBodyUsed:f,kListeners:g,kBody:h}=c(10257),{IncomingMessage:i}=c(37067),j=c(57075),k=c(77030),{Blob:l}=c(4573),m=c(57975),{stringify:o}=c(41792),{EventEmitter:p}=c(78474),q=c(26089),{InvalidArgumentError:r,ConnectTimeoutError:s}=c(64737),{headerNameLowerCasedRecord:t}=c(46221),{tree:u}=c(26258),[v,w]=process.versions.node.split(".",2).map(a=>Number(a));class x{constructor(a){this[h]=a,this[f]=!1}async *[Symbol.asyncIterator](){d(!this[f],"disturbed"),this[f]=!0,yield*this[h]}}function y(){}function z(a){return A(a)?(0===M(a)&&a.on("data",function(){d(!1)}),"boolean"!=typeof a.readableDidRead&&(a[f]=!1,p.prototype.on.call(a,"data",function(){this[f]=!0})),a):a&&"function"==typeof a.pipeTo?new x(a):a&&"string"!=typeof a&&!ArrayBuffer.isView(a)&&L(a)?new x(a):a}function A(a){return a&&"object"==typeof a&&"function"==typeof a.pipe&&"function"==typeof a.on}function B(a){if(null===a)return!1;{if(a instanceof l)return!0;if("object"!=typeof a)return!1;let b=a[Symbol.toStringTag];return("Blob"===b||"File"===b)&&("stream"in a&&"function"==typeof a.stream||"arrayBuffer"in a&&"function"==typeof a.arrayBuffer)}}function C(a,b){if(a.includes("?")||a.includes("#"))throw Error('Query params cannot be passed when url already contains "?" or "#".');let c=o(b);return c&&(a+="?"+c),a}function D(a){let b=parseInt(a,10);return b===Number(a)&&b>=0&&b<=65535}function E(a){return null!=a&&"h"===a[0]&&"t"===a[1]&&"t"===a[2]&&"p"===a[3]&&(":"===a[4]||"s"===a[4]&&":"===a[5])}function F(a){if("string"==typeof a){if(!E((a=new URL(a)).origin||a.protocol))throw new r("Invalid URL protocol: the URL must start with `http:` or `https:`.");return a}if(!a||"object"!=typeof a)throw new r("Invalid URL: The URL argument must be a non-null object.");if(!(a instanceof URL)){if(null!=a.port&&""!==a.port&&!1===D(a.port))throw new r("Invalid URL: port must be a valid integer or a string representation of an integer.");if(null!=a.path&&"string"!=typeof a.path)throw new r("Invalid URL path: the path must be a string or null/undefined.");if(null!=a.pathname&&"string"!=typeof a.pathname)throw new r("Invalid URL pathname: the pathname must be a string or null/undefined.");if(null!=a.hostname&&"string"!=typeof a.hostname)throw new r("Invalid URL hostname: the hostname must be a string or null/undefined.");if(null!=a.origin&&"string"!=typeof a.origin)throw new r("Invalid URL origin: the origin must be a string or null/undefined.");if(!E(a.origin||a.protocol))throw new r("Invalid URL protocol: the URL must start with `http:` or `https:`.");let b=null!=a.port?a.port:"https:"===a.protocol?443:80,c=null!=a.origin?a.origin:`${a.protocol||""}//${a.hostname||""}:${b}`,d=null!=a.path?a.path:`${a.pathname||""}${a.search||""}`;return"/"===c[c.length-1]&&(c=c.slice(0,c.length-1)),d&&"/"!==d[0]&&(d=`/${d}`),new URL(`${c}${d}`)}if(!E(a.origin||a.protocol))throw new r("Invalid URL protocol: the URL must start with `http:` or `https:`.");return a}function G(a){if("/"!==(a=F(a)).pathname||a.search||a.hash)throw new r("invalid url");return a}function H(a){if("["===a[0]){let b=a.indexOf("]");return d(-1!==b),a.substring(1,b)}let b=a.indexOf(":");return -1===b?a:a.substring(0,b)}function I(a){if(!a)return null;d("string"==typeof a);let b=H(a);return k.isIP(b)?"":b}function J(a){return JSON.parse(JSON.stringify(a))}function K(a){return null!=a&&"function"==typeof a[Symbol.asyncIterator]}function L(a){return null!=a&&("function"==typeof a[Symbol.iterator]||"function"==typeof a[Symbol.asyncIterator])}function M(a){if(null==a)return 0;if(A(a)){let b=a._readableState;return b&&!1===b.objectMode&&!0===b.ended&&Number.isFinite(b.length)?b.length:null}return B(a)?null!=a.size?a.size:null:W(a)?a.byteLength:null}function N(a){return a&&!!(a.destroyed||a[e]||j.isDestroyed?.(a))}function O(a,b){null==a||!A(a)||N(a)||("function"==typeof a.destroy?(Object.getPrototypeOf(a).constructor===i&&(a.socket=null),a.destroy(b)):b&&queueMicrotask(()=>{a.emit("error",b)}),!0!==a.destroyed&&(a[e]=!0))}let P=/timeout=(\d+)/;function Q(a){let b=a.match(P);return b?1e3*parseInt(b[1],10):null}function R(a){return"string"==typeof a?t[a]??a.toLowerCase():u.lookup(a)??a.toString("latin1").toLowerCase()}function S(a){return u.lookup(a)??a.toString("latin1").toLowerCase()}function T(a,b){void 0===b&&(b={});for(let c=0;c<a.length;c+=2){let d=R(a[c]),e=b[d];if(e)"string"==typeof e&&(e=[e],b[d]=e),e.push(a[c+1].toString("utf8"));else{let e=a[c+1];"string"==typeof e?b[d]=e:b[d]=Array.isArray(e)?e.map(a=>a.toString("utf8")):e.toString("utf8")}}return"content-length"in b&&"content-disposition"in b&&(b["content-disposition"]=Buffer.from(b["content-disposition"]).toString("latin1")),b}function U(a){let b,c,d=a.length,e=Array(d),f=!1,g=-1,h=0;for(let i=0;i<d;i+=2)b=a[i],c=a[i+1],"string"!=typeof b&&(b=b.toString()),"string"!=typeof c&&(c=c.toString("utf8")),14===(h=b.length)&&"-"===b[7]&&("content-length"===b||"content-length"===b.toLowerCase())?f=!0:19===h&&"-"===b[7]&&("content-disposition"===b||"content-disposition"===b.toLowerCase())&&(g=i+1),e[i]=b,e[i+1]=c;return f&&-1!==g&&(e[g]=Buffer.from(e[g]).toString("latin1")),e}function V(a){if(!Array.isArray(a))throw TypeError("expected headers to be an array");return a.map(a=>Buffer.from(a))}function W(a){return a instanceof Uint8Array||Buffer.isBuffer(a)}function X(a,b,c){if(!a||"object"!=typeof a)throw new r("handler must be an object");if("function"!=typeof a.onRequestStart){if("function"!=typeof a.onConnect)throw new r("invalid onConnect method");if("function"!=typeof a.onError)throw new r("invalid onError method");if("function"!=typeof a.onBodySent&&void 0!==a.onBodySent)throw new r("invalid onBodySent method");if(c||"CONNECT"===b){if("function"!=typeof a.onUpgrade)throw new r("invalid onUpgrade method")}else{if("function"!=typeof a.onHeaders)throw new r("invalid onHeaders method");if("function"!=typeof a.onData)throw new r("invalid onData method");if("function"!=typeof a.onComplete)throw new r("invalid onComplete method")}}}function Y(a){return!!(a&&(j.isDisturbed(a)||a[f]))}function Z(a){return{localAddress:a.localAddress,localPort:a.localPort,remoteAddress:a.remoteAddress,remotePort:a.remotePort,remoteFamily:a.remoteFamily,timeout:a.timeout,bytesWritten:a.bytesWritten,bytesRead:a.bytesRead}}function $(a){let b;return new ReadableStream({async start(){b=a[Symbol.asyncIterator]()},pull(a){async function c(){let{done:d,value:e}=await b.next();if(d)queueMicrotask(()=>{a.close(),a.byobRequest?.respond(0)});else{let b=Buffer.isBuffer(e)?e:Buffer.from(e);if(!b.byteLength)return await c();a.enqueue(new Uint8Array(b))}}return c()},async cancel(){await b.return()},type:"bytes"})}function _(a){return a&&"object"==typeof a&&"function"==typeof a.append&&"function"==typeof a.delete&&"function"==typeof a.get&&"function"==typeof a.getAll&&"function"==typeof a.has&&"function"==typeof a.set&&"FormData"===a[Symbol.toStringTag]}function aa(a,b){return"addEventListener"in a?(a.addEventListener("abort",b,{once:!0}),()=>a.removeEventListener("abort",b)):(a.once("abort",b),()=>a.removeListener("abort",b))}let ab="function"==typeof String.prototype.toWellFormed?a=>`${a}`.toWellFormed():m.toUSVString,ac="function"==typeof String.prototype.isWellFormed?a=>`${a}`.isWellFormed():a=>ab(a)===`${a}`;function ad(a){switch(a){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return a>=33&&a<=126}}function ae(a){if(0===a.length)return!1;for(let b=0;b<a.length;++b)if(!ad(a.charCodeAt(b)))return!1;return!0}let af=/[^\t\x20-\x7e\x80-\xff]/;function ag(a){return!af.test(a)}let ah=/^bytes (\d+)-(\d+)\/(\d+)?$/;function ai(a){if(null==a||""===a)return{start:0,end:null,size:null};let b=a?a.match(ah):null;return b?{start:parseInt(b[1]),end:b[2]?parseInt(b[2]):null,size:b[3]?parseInt(b[3]):null}:null}function aj(a,b,c){return(a[g]??=[]).push([b,c]),a.on(b,c),a}function ak(a){if(null!=a[g]){for(let[b,c]of a[g])a.removeListener(b,c);a[g]=null}return a}function al(a,b,c){try{b.onError(c),d(b.aborted)}catch(b){a.emit("error",b)}}let am="win32"===process.platform?(a,b)=>{if(!b.timeout)return y;let c=null,d=null,e=q.setFastTimeout(()=>{c=setImmediate(()=>{d=setImmediate(()=>an(a.deref(),b))})},b.timeout);return()=>{q.clearFastTimeout(e),clearImmediate(c),clearImmediate(d)}}:(a,b)=>{if(!b.timeout)return y;let c=null,d=q.setFastTimeout(()=>{c=setImmediate(()=>{an(a.deref(),b)})},b.timeout);return()=>{q.clearFastTimeout(d),clearImmediate(c)}};function an(a,b){if(null==a)return;let c="Connect Timeout Error";Array.isArray(a.autoSelectFamilyAttemptedAddresses)?c+=` (attempted addresses: ${a.autoSelectFamilyAttemptedAddresses.join(", ")},`:c+=` (attempted address: ${b.hostname}:${b.port},`,O(a,new s(c+=` timeout: ${b.timeout}ms)`))}let ao=Object.create(null);ao.enumerable=!0;let ap={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"},aq={...ap,patch:"patch",PATCH:"PATCH"};Object.setPrototypeOf(ap,null),Object.setPrototypeOf(aq,null),a.exports={kEnumerableProperty:ao,isDisturbed:Y,toUSVString:ab,isUSVString:ac,isBlobLike:B,parseOrigin:G,parseURL:F,getServerName:I,isStream:A,isIterable:L,isAsyncIterable:K,isDestroyed:N,headerNameToString:R,bufferToLowerCasedHeaderName:S,addListener:aj,removeAllListeners:ak,errorRequest:al,parseRawHeaders:U,encodeRawHeaders:V,parseHeaders:T,parseKeepAliveTimeout:Q,destroy:O,bodyLength:M,deepClone:J,ReadableStreamFrom:$,isBuffer:W,assertRequestHandler:X,getSocketInfo:Z,isFormDataLike:_,serializePathWithQuery:C,addAbortListener:aa,isValidHTTPToken:ae,isValidHeaderValue:ag,isTokenCharCode:ad,parseRangeHeader:ai,normalizedMethodRecordsBase:ap,normalizedMethodRecords:aq,isValidPort:D,isHttpOrHttpsPrefixed:E,nodeMajor:v,nodeMinor:w,safeHTTPMethods:Object.freeze(["GET","HEAD","OPTIONS","TRACE"]),wrapRequestBody:z,setupConnectTimeout:am}},81399:(a,b,c)=>{"use strict";let{types:d,inspect:e}=c(57975),{markAsUncloneable:f}=c(75919),{toUSVString:g}=c(81350),h=1,i=2,j=3,k=4,l=5,m=6,o=7,p=8,q=Function.call.bind(Function.prototype[Symbol.hasInstance]),r={converters:{},util:{},errors:{},is:{}};r.errors.exception=function(a){return TypeError(`${a.header}: ${a.message}`)},r.errors.conversionFailed=function(a){let b=1===a.types.length?"":" one of",c=`${a.argument} could not be converted to${b}: ${a.types.join(", ")}.`;return r.errors.exception({header:a.prefix,message:c})},r.errors.invalidArgument=function(a){return r.errors.exception({header:a.prefix,message:`"${a.value}" is an invalid ${a.type}.`})},r.brandCheck=function(a,b){if(!q(b,a)){let a=TypeError("Illegal invocation");throw a.code="ERR_INVALID_THIS",a}},r.brandCheckMultiple=function(a){let b=a.map(a=>r.util.MakeTypeAssertion(a));return a=>{if(b.every(b=>!b(a))){let a=TypeError("Illegal invocation");throw a.code="ERR_INVALID_THIS",a}}},r.argumentLengthCheck=function({length:a},b,c){if(a<b)throw r.errors.exception({message:`${b} argument${1!==b?"s":""} required, but${a?" only":""} ${a} found.`,header:c})},r.illegalConstructor=function(){throw r.errors.exception({header:"TypeError",message:"Illegal constructor"})},r.util.MakeTypeAssertion=function(a){return b=>q(a,b)},r.util.Type=function(a){switch(typeof a){case"undefined":return h;case"boolean":return i;case"string":return j;case"symbol":return k;case"number":return l;case"bigint":return m;case"function":case"object":if(null===a)return o;return p}},r.util.Types={UNDEFINED:h,BOOLEAN:i,STRING:j,SYMBOL:k,NUMBER:l,BIGINT:m,NULL:o,OBJECT:p},r.util.TypeValueToString=function(a){switch(r.util.Type(a)){case h:return"Undefined";case i:return"Boolean";case j:return"String";case k:return"Symbol";case l:return"Number";case m:return"BigInt";case o:return"Null";case p:return"Object"}},r.util.markAsUncloneable=f||(()=>{}),r.util.ConvertToInt=function(a,b,c,d){let e,f;64===b?(e=0x1fffffffffffff,f="unsigned"===c?0:-0x1fffffffffffff):"unsigned"===c?(f=0,e=Math.pow(2,b)-1):(f=Math.pow(-2,b)-1,e=Math.pow(2,b-1)-1);let g=Number(a);if(0===g&&(g=0),d?.enforceRange===!0){if(Number.isNaN(g)||g===1/0||g===-1/0)throw r.errors.exception({header:"Integer conversion",message:`Could not convert ${r.util.Stringify(a)} to an integer.`});if((g=r.util.IntegerPart(g))<f||g>e)throw r.errors.exception({header:"Integer conversion",message:`Value must be between ${f}-${e}, got ${g}.`});return g}return Number.isNaN(g)||d?.clamp!==!0?Number.isNaN(g)||0===g&&Object.is(0,g)||g===1/0||g===-1/0?0:(g=r.util.IntegerPart(g)%Math.pow(2,b),"signed"===c&&g>=Math.pow(2,b)-1)?g-Math.pow(2,b):g:g=Math.floor(g=Math.min(Math.max(g,f),e))%2==0?Math.floor(g):Math.ceil(g)},r.util.IntegerPart=function(a){let b=Math.floor(Math.abs(a));return a<0?-1*b:b},r.util.Stringify=function(a){switch(r.util.Type(a)){case k:return`Symbol(${a.description})`;case p:return e(a);case j:return`"${a}"`;default:return`${a}`}},r.sequenceConverter=function(a){return(b,c,d,e)=>{if(r.util.Type(b)!==p)throw r.errors.exception({header:c,message:`${d} (${r.util.Stringify(b)}) is not iterable.`});let f="function"==typeof e?e():b?.[Symbol.iterator]?.(),g=[],h=0;if(void 0===f||"function"!=typeof f.next)throw r.errors.exception({header:c,message:`${d} is not iterable.`});for(;;){let{done:b,value:e}=f.next();if(b)break;g.push(a(e,c,`${d}[${h++}]`))}return g}},r.recordConverter=function(a,b){return(c,e,f)=>{if(r.util.Type(c)!==p)throw r.errors.exception({header:e,message:`${f} ("${r.util.TypeValueToString(c)}") is not an Object.`});let g={};if(!d.isProxy(c)){for(let d of[...Object.getOwnPropertyNames(c),...Object.getOwnPropertySymbols(c)]){let h=r.util.Stringify(d),i=a(d,e,`Key ${h} in ${f}`),j=b(c[d],e,`${f}[${h}]`);g[i]=j}return g}for(let d of Reflect.ownKeys(c)){let h=Reflect.getOwnPropertyDescriptor(c,d);if(h?.enumerable){let h=a(d,e,f),i=b(c[d],e,f);g[h]=i}}return g}},r.interfaceConverter=function(a,b){return(c,d,e)=>{if(!a(c))throw r.errors.exception({header:d,message:`Expected ${e} ("${r.util.Stringify(c)}") to be an instance of ${b}.`});return c}},r.dictionaryConverter=function(a){return(b,c,d)=>{let e={};if(null!=b&&r.util.Type(b)!==p)throw r.errors.exception({header:c,message:`Expected ${b} to be one of: Null, Undefined, Object.`});for(let f of a){let{key:a,defaultValue:g,required:h,converter:i}=f;if(!0===h&&(null==b||!Object.hasOwn(b,a)))throw r.errors.exception({header:c,message:`Missing required key "${a}".`});let j=b?.[a],k=void 0!==g;if(k&&void 0===j&&(j=g()),h||k||void 0!==j){if(j=i(j,c,`${d}.${a}`),f.allowedValues&&!f.allowedValues.includes(j))throw r.errors.exception({header:c,message:`${j} is not an accepted type. Expected one of ${f.allowedValues.join(", ")}.`});e[a]=j}}return e}},r.nullableConverter=function(a){return(b,c,d)=>null===b?b:a(b,c,d)},r.is.ReadableStream=r.util.MakeTypeAssertion(ReadableStream),r.is.Blob=r.util.MakeTypeAssertion(Blob),r.is.URLSearchParams=r.util.MakeTypeAssertion(URLSearchParams),r.is.File=r.util.MakeTypeAssertion(globalThis.File??c(4573).File),r.is.URL=r.util.MakeTypeAssertion(URL),r.is.AbortSignal=r.util.MakeTypeAssertion(AbortSignal),r.is.MessagePort=r.util.MakeTypeAssertion(MessagePort),r.converters.DOMString=function(a,b,c,d){if(null===a&&d?.legacyNullToEmptyString)return"";if("symbol"==typeof a)throw r.errors.exception({header:b,message:`${c} is a symbol, which cannot be converted to a DOMString.`});return String(a)},r.converters.ByteString=function(a,b,c){if("symbol"==typeof a)throw r.errors.exception({header:b,message:`${c} is a symbol, which cannot be converted to a ByteString.`});let d=String(a);for(let a=0;a<d.length;a++)if(d.charCodeAt(a)>255)throw TypeError(`Cannot convert argument to a ByteString because the character at index ${a} has a value of ${d.charCodeAt(a)} which is greater than 255.`);return d},r.converters.USVString=g,r.converters.boolean=function(a){return!!a},r.converters.any=function(a){return a},r.converters["long long"]=function(a,b,c){return r.util.ConvertToInt(a,64,"signed",void 0,b,c)},r.converters["unsigned long long"]=function(a,b,c){return r.util.ConvertToInt(a,64,"unsigned",void 0,b,c)},r.converters["unsigned long"]=function(a,b,c){return r.util.ConvertToInt(a,32,"unsigned",void 0,b,c)},r.converters["unsigned short"]=function(a,b,c,d){return r.util.ConvertToInt(a,16,"unsigned",d,b,c)},r.converters.ArrayBuffer=function(a,b,c,e){if(r.util.Type(a)!==p||!d.isAnyArrayBuffer(a))throw r.errors.conversionFailed({prefix:b,argument:`${c} ("${r.util.Stringify(a)}")`,types:["ArrayBuffer"]});if(e?.allowShared===!1&&d.isSharedArrayBuffer(a))throw r.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(a.resizable||a.growable)throw r.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return a},r.converters.TypedArray=function(a,b,c,e,f){if(r.util.Type(a)!==p||!d.isTypedArray(a)||a.constructor.name!==b.name)throw r.errors.conversionFailed({prefix:c,argument:`${e} ("${r.util.Stringify(a)}")`,types:[b.name]});if(f?.allowShared===!1&&d.isSharedArrayBuffer(a.buffer))throw r.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(a.buffer.resizable||a.buffer.growable)throw r.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return a},r.converters.DataView=function(a,b,c,e){if(r.util.Type(a)!==p||!d.isDataView(a))throw r.errors.exception({header:b,message:`${c} is not a DataView.`});if(e?.allowShared===!1&&d.isSharedArrayBuffer(a.buffer))throw r.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(a.buffer.resizable||a.buffer.growable)throw r.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return a},r.converters["sequence<ByteString>"]=r.sequenceConverter(r.converters.ByteString),r.converters["sequence<sequence<ByteString>>"]=r.sequenceConverter(r.converters["sequence<ByteString>"]),r.converters["record<ByteString, ByteString>"]=r.recordConverter(r.converters.ByteString,r.converters.ByteString),r.converters.Blob=r.interfaceConverter(r.is.Blob,"Blob"),r.converters.AbortSignal=r.interfaceConverter(r.is.AbortSignal,"AbortSignal"),a.exports={webidl:r}},81422:(a,b,c)=>{"use strict";let{Writable:d}=c(57075),e=c(34589),{parserStates:f,opcodes:g,states:h,emptyBuffer:i,sentCloseFrameState:j}=c(90406),{channels:k}=c(84372),{isValidStatusCode:l,isValidOpcode:m,websocketMessageReceived:o,utf8Decode:p,isControlFrame:q,isTextBinaryFrame:r,isContinuationFrame:s}=c(92803),{failWebsocketConnection:t}=c(44255),{WebsocketFrameSend:u}=c(21438),{PerMessageDeflate:v}=c(19435);class w extends d{#a5=[];#a6=0;#a7=0;#a8=!1;#aa=f.INFO;#a9={};#ba=[];#F;#a;constructor(a,b){super(),this.#a=a,this.#F=null==b?new Map:b,this.#F.has("permessage-deflate")&&this.#F.set("permessage-deflate",new v(b))}_write(a,b,c){this.#a5.push(a),this.#a7+=a.length,this.#a8=!0,this.run(c)}run(a){for(;this.#a8;)if(this.#aa===f.INFO){if(this.#a7<2)return a();let b=this.consume(2),c=(128&b[0])!=0,d=15&b[0],e=(128&b[1])==128,h=!c&&d!==g.CONTINUATION,i=127&b[1],j=64&b[0],k=32&b[0],l=16&b[0];if(!m(d))return t(this.#a,1002,"Invalid opcode received"),a();if(e)return t(this.#a,1002,"Frame cannot be masked"),a();if(0!==j&&!this.#F.has("permessage-deflate"))return void t(this.#a,1002,"Expected RSV1 to be clear.");if(0!==k||0!==l)return void t(this.#a,1002,"RSV1, RSV2, RSV3 must be clear");if(h&&!r(d))return void t(this.#a,1002,"Invalid frame type was fragmented.");if(r(d)&&this.#ba.length>0)return void t(this.#a,1002,"Expected continuation frame");if(this.#a9.fragmented&&h)return void t(this.#a,1002,"Fragmented frame exceeded 125 bytes.");if((i>125||h)&&q(d))return void t(this.#a,1002,"Control frame either too large or fragmented");if(s(d)&&0===this.#ba.length&&!this.#a9.compressed)return void t(this.#a,1002,"Unexpected continuation frame");i<=125?(this.#a9.payloadLength=i,this.#aa=f.READ_DATA):126===i?this.#aa=f.PAYLOADLENGTH_16:127===i&&(this.#aa=f.PAYLOADLENGTH_64),r(d)&&(this.#a9.binaryType=d,this.#a9.compressed=0!==j),this.#a9.opcode=d,this.#a9.masked=e,this.#a9.fin=c,this.#a9.fragmented=h}else if(this.#aa===f.PAYLOADLENGTH_16){if(this.#a7<2)return a();let b=this.consume(2);this.#a9.payloadLength=b.readUInt16BE(0),this.#aa=f.READ_DATA}else if(this.#aa===f.PAYLOADLENGTH_64){if(this.#a7<8)return a();let b=this.consume(8),c=b.readUInt32BE(0);if(c>0x80000000-1)return void t(this.#a,1009,"Received payload length > 2^31 bytes.");let d=b.readUInt32BE(4);this.#a9.payloadLength=(c<<8)+d,this.#aa=f.READ_DATA}else if(this.#aa===f.READ_DATA){if(this.#a7<this.#a9.payloadLength)return a();let b=this.consume(this.#a9.payloadLength);if(q(this.#a9.opcode))this.#a8=this.parseControlFrame(b),this.#aa=f.INFO;else if(this.#a9.compressed){this.#F.get("permessage-deflate").decompress(b,this.#a9.fin,(b,c)=>{if(b)return void t(this.#a,1007,b.message);if(this.writeFragments(c),!this.#a9.fin){this.#aa=f.INFO,this.#a8=!0,this.run(a);return}o(this.#a,this.#a9.binaryType,this.consumeFragments()),this.#a8=!0,this.#aa=f.INFO,this.run(a)}),this.#a8=!1;break}else this.writeFragments(b),!this.#a9.fragmented&&this.#a9.fin&&o(this.#a,this.#a9.binaryType,this.consumeFragments()),this.#aa=f.INFO}}consume(a){if(a>this.#a7)throw Error("Called consume() before buffers satiated.");if(0===a)return i;this.#a7-=a;let b=this.#a5[0];if(b.length>a)return this.#a5[0]=b.subarray(a,b.length),b.subarray(0,a);{if(b.length===a)return this.#a5.shift();let c=0,d=Buffer.allocUnsafeSlow(a);for(;c!==a;){let b=this.#a5[0],e=b.length;if(e+c===a){d.set(this.#a5.shift(),c);break}if(e+c>a){d.set(b.subarray(0,a-c),c),this.#a5[0]=b.subarray(a-c);break}d.set(this.#a5.shift(),c),c+=e}return d}}writeFragments(a){this.#a6+=a.length,this.#ba.push(a)}consumeFragments(){let a=this.#ba;if(1===a.length)return this.#a6=0,a.shift();let b=0,c=Buffer.allocUnsafeSlow(this.#a6);for(let d=0;d<a.length;++d){let e=a[d];c.set(e,b),b+=e.length}return this.#ba=[],this.#a6=0,c}parseCloseBody(a){let b;if(e(1!==a.length),a.length>=2&&(b=a.readUInt16BE(0)),void 0!==b&&!l(b))return{code:1002,reason:"Invalid status code",error:!0};let c=a.subarray(2);239===c[0]&&187===c[1]&&191===c[2]&&(c=c.subarray(3));try{c=p(c)}catch{return{code:1007,reason:"Invalid UTF-8",error:!0}}return{code:b,reason:c,error:!1}}parseControlFrame(a){let{opcode:b,payloadLength:c}=this.#a9;if(b===g.CLOSE){if(1===c)return t(this.#a,1002,"Received close frame with a 1-byte body."),!1;if(this.#a9.closeInfo=this.parseCloseBody(a),this.#a9.closeInfo.error){let{code:a,reason:b}=this.#a9.closeInfo;return t(this.#a,a,b),!1}if(!this.#a.closeState.has(j.SENT)&&!this.#a.closeState.has(j.RECEIVED)){let a=i;this.#a9.closeInfo.code&&(a=Buffer.allocUnsafe(2)).writeUInt16BE(this.#a9.closeInfo.code,0);let b=new u(a);this.#a.socket.write(b.createFrame(g.CLOSE)),this.#a.closeState.add(j.SENT)}return this.#a.readyState=h.CLOSING,this.#a.closeState.add(j.RECEIVED),!1}if(b===g.PING){if(!this.#a.closeState.has(j.RECEIVED)){let b=new u(a);this.#a.socket.write(b.createFrame(g.PONG)),k.ping.hasSubscribers&&k.ping.publish({payload:a})}}else b===g.PONG&&k.pong.hasSubscribers&&k.pong.publish({payload:a});return!0}get closingInfo(){return this.#a9.closeInfo}}a.exports={ByteParser:w}},81529:(a,b,c)=>{"use strict";c.d(b,{v4:()=>h});var d=c(55511),e=c.n(d);let f=e().randomUUID.bind(e()),g=Array.from({length:256},(a,b)=>b.toString(16).padStart(2,"0")),h=()=>{if(f)return f();let a=new Uint8Array(16);return crypto.getRandomValues(a),a[6]=15&a[6]|64,a[8]=63&a[8]|128,g[a[0]]+g[a[1]]+g[a[2]]+g[a[3]]+"-"+g[a[4]]+g[a[5]]+"-"+g[a[6]]+g[a[7]]+"-"+g[a[8]]+g[a[9]]+"-"+g[a[10]]+g[a[11]]+g[a[12]]+g[a[13]]+g[a[14]]+g[a[15]]}},81766:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.preProcessRows=b.preProcessColumns=void 0;let d=c(97556),e=a=>{a.computedColumns.length&&a.computedColumns.forEach(b=>{a.addColumn(b),a.rows.forEach(a=>{a.text[b.name]=b.function(a.text)})})},f=a=>{a.enabledColumns.length&&(a.columns=a.columns.filter(b=>a.enabledColumns.includes(b.name)))},g=a=>{a.disabledColumns.length&&(a.columns=a.columns.filter(b=>!a.disabledColumns.includes(b.name)))},h=a=>{a.columns.forEach(b=>{b.length=(0,d.findLenOfColumn)(b,a.rows,a.charLength)})};b.preProcessColumns=a=>{e(a),g(a),f(a),h(a)},b.preProcessRows=a=>{let b=a.rows.filter(b=>a.filterFunction(b.text)).sort((b,c)=>a.sortFunction(b.text,c.text));a.rows=b}},82116:(a,b,c)=>{"use strict";a.exports=h;let{LOGGER_KEYS:d}=c(51874),e=c(44757),f=c(14466),g=c(3930);function h({log:a,context:b}){let{EOL:c,IDENT:h,errorProps:i,messageKey:j}=b,k=f({input:a.stack,ident:h,eol:c}),l=`${h}${k}${c}`;if(i.length>0){let f,k=d.concat(j,"type","stack");f="*"===i[0]?Object.keys(a).filter(a=>!1===k.includes(a)):i.filter(a=>!1===k.includes(a));for(let d=0;d<f.length;d+=1){let i=f[d];if(i in a!=!1){if(e(a[i])){let d=g({log:a[i],excludeLoggerKeys:!1,context:{...b,IDENT:h+h}});l=`${l}${h}${i}: {${c}${d}${h}}${c}`;continue}l=`${l}${h}${i}: ${a[i]}${c}`}}}return l}},82302:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});let e=d(c(56183)),f=d(c(83e3));b.default=a=>0===a?0:a<32||a>=127&&a<160?-1:f.default(a,e.default,e.default.length-1)?0:1+Number(a>=4352&&(a<=4447||9001===a||9002===a||a>=11904&&a<=42191&&12351!==a||a>=44032&&a<=55203||a>=63744&&a<=64255||a>=65040&&a<=65049||a>=65072&&a<=65135||a>=65280&&a<=65376||a>=65504&&a<=65510||a>=131072&&a<=196605||a>=196608&&a<=262141))},82332:(a,b,c)=>{"use strict";let d=Symbol.for("pino.metadata"),e=c(93738),{Duplex:f}=c(27910),{parentPort:g,workerData:h}=c(73566);function i(){let a,b,c=new Promise((c,d)=>{a=c,b=d});return c.resolve=a,c.reject=b,c}function j(a,b){process.nextTick(b,a)}a.exports=function(a,b={}){let c=!0===b.expectPinoConfig&&h?.workerData?.pinoWillSendConfig===!0,k="lines"===b.parse,l="function"==typeof b.parseLine?b.parseLine:JSON.parse,m=b.close||j,o=e(function(a){let b;try{b=l(a)}catch(b){this.emit("unknown",a,b);return}return null===b?void this.emit("unknown",a,"Null value ignored"):("object"!=typeof b&&(b={data:b,time:Date.now()}),o[d]&&(o.lastTime=b.time,o.lastLevel=b.level,o.lastObj=b),k)?a:b},{autoDestroy:!0});if(o._destroy=function(a,b){let c=m(a,b);c&&"function"==typeof c.then&&c.then(b,b)},!0===b.expectPinoConfig&&h?.workerData?.pinoWillSendConfig!==!0&&setImmediate(()=>{o.emit("error",Error("This transport is not compatible with the current version of pino. Please upgrade pino to the latest version."))}),!1!==b.metadata&&(o[d]=!0,o.lastTime=0,o.lastLevel=0,o.lastObj=null),c){let a={},b=i();return g.on("message",function c(d){"PINO_CONFIG"===d.code&&(a=d.config,b.resolve(),g.off("message",c))}),Object.defineProperties(o,{levels:{get:()=>a.levels},messageKey:{get:()=>a.messageKey},errorKey:{get:()=>a.errorKey}}),b.then(p)}return p();function p(){let c=a(o);if(c&&"function"==typeof c.catch)c.catch(a=>{o.destroy(a)}),c=null;else if(b.enablePipelining&&c)return f.from({writable:o,readable:c});return o}}},82397:(a,b,c)=>{"use strict";c.d(b,{T:()=>f,r:()=>e});var d=c(69718);function e(a){let{data:b,payload:{config:c}}=a;if(b){let d,e,g=a.locale,h=a.fallbackLocale;if(!g&&b?.locale&&"string"==typeof b.locale&&(d=b.locale),!h&&(b?.["fallback-locale"]&&"string"==typeof b?.["fallback-locale"]&&(e=b["fallback-locale"]),b?.fallbackLocale&&"string"==typeof b?.fallbackLocale&&(e=b.fallbackLocale)),!g||!h){let{fallbackLocale:b,locale:g}=f({fallbackLocale:e,locale:d,localization:c.localization});d&&(a.locale=g),e&&(a.fallbackLocale=b)}}}let f=({fallbackLocale:a,locale:b,localization:c})=>(c&&(a=(0,d.m)({fallbackLocale:a,locale:b,localization:c})),["*","all"].includes(b)?b="all":c&&!c.localeCodes.includes(b)&&c.fallback&&(b=c.defaultLocale),{fallbackLocale:a,locale:b})},82455:a=>{"use strict";let b=["nodebuffer","arraybuffer","fragments"],c="undefined"!=typeof Blob;c&&b.push("blob"),a.exports={BINARY_TYPES:b,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:c,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},82459:(a,b,c)=>{"use strict";c.d(b,{u:()=>i});var d=c(36267),e=c(95176),f=c(20674);let g="***SensitiveInformation***";function h(a,b){if(null==b)return b;let c=f.l.of(a);if(c.getMergedTraits().sensitive)return g;if(c.isListSchema()){if(c.getValueSchema().getMergedTraits().sensitive)return g}else if(c.isMapSchema()){if(c.getKeySchema().getMergedTraits().sensitive||c.getValueSchema().getMergedTraits().sensitive)return g}else if(c.isStructSchema()&&"object"==typeof b){let a=b,d={};for(let[b,e]of c.structIterator())null!=a[b]&&(d[b]=h(e,a[b]));return d}return b}class i{middlewareStack=(0,d.o)();schema;static classBuilder(){return new j}resolveMiddlewareWithContext(a,b,c,{middlewareFn:d,clientName:f,commandName:g,inputFilterSensitiveLog:h,outputFilterSensitiveLog:i,smithyContext:j,additionalContext:k,CommandCtor:l}){for(let e of d.bind(this)(l,a,b,c))this.middlewareStack.use(e);let m=a.concat(this.middlewareStack),{logger:o}=b,p={logger:o,clientName:f,commandName:g,inputFilterSensitiveLog:h,outputFilterSensitiveLog:i,[e.V]:{commandInstance:this,...j},...k},{requestHandler:q}=b;return m.resolve(a=>q.handle(a.request,c||{}),p)}}class j{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(a){this._init=a}ep(a){return this._ep=a,this}m(a){return this._middlewareFn=a,this}s(a,b,c={}){return this._smithyContext={service:a,operation:b,...c},this}c(a={}){return this._additionalContext=a,this}n(a,b){return this._clientName=a,this._commandName=b,this}f(a=a=>a,b=a=>a){return this._inputFilterSensitiveLog=a,this._outputFilterSensitiveLog=b,this}ser(a){return this._serializer=a,this}de(a){return this._deserializer=a,this}sc(a){return this._operationSchema=a,this._smithyContext.operationSchema=a,this}build(){let a,b=this;return a=class extends i{input;static getEndpointParameterInstructions(){return b._ep}constructor(...[a]){super(),this.input=a??{},b._init(this),this.schema=b._operationSchema}resolveMiddleware(c,d,e){let f=b._operationSchema,g=f?.[4]??f?.input,i=f?.[5]??f?.output;return this.resolveMiddlewareWithContext(c,d,e,{CommandCtor:a,middlewareFn:b._middlewareFn,clientName:b._clientName,commandName:b._commandName,inputFilterSensitiveLog:b._inputFilterSensitiveLog??(f?h.bind(null,g):a=>a),outputFilterSensitiveLog:b._outputFilterSensitiveLog??(f?h.bind(null,i):a=>a),smithyContext:b._smithyContext,additionalContext:b._additionalContext})}serialize=b._serializer;deserialize=b._deserializer}}}},82509:(a,b,c)=>{"use strict";c.d(b,{k:()=>B});var d=c(35183),e=c(96683),f=c(7282),g=c(24401),h=c(70404);class i extends h.L{constructor(a,b){super(a?`${a(b?"error:usernameOrPasswordIncorrect":"error:emailOrPasswordIncorrect")}`:f.en.translations.error.emailOrPasswordIncorrect,g.h.UNAUTHORIZED)}}class j extends h.L{constructor(a){super(a?a("error:userLocked"):f.en.translations.error.userLocked,g.h.UNAUTHORIZED)}}var k=c(90639);class l extends h.L{constructor({t:a}){super(a?a("error:unverifiedEmail"):f.en.translations.error.unverifiedEmail,g.h.FORBIDDEN)}}var m=c(1276),o=c(86069),p=c(10353),q=c(66089),r=c(71462),s=c(5556),t=c(48240);let u=a=>!!a&&a.getTime()>Date.now();var v=c(85144),w=c(52096),x=c(9198);let y=async({collection:a,payload:b,req:c,user:d})=>{let{auth:{lockTime:e,maxLoginAttempts:f}}=a,g=Date.now(),h=null,i=null;if(d.lockUntil&&!u(new Date(d.lockUntil))){let e=await b.db.updateOne({id:d.id,collection:a.slug,data:{lockUntil:null,loginAttempts:1},req:c,select:{lockUntil:!0,loginAttempts:!0}});h=e.lockUntil,i=e.loginAttempts,d.lockUntil=h}else{let c={loginAttempts:{$inc:1}};"number"==typeof d.loginAttempts&&d.loginAttempts+1>=f&&(c.lockUntil=new Date(g+e).toISOString());let j=await b.db.updateOne({id:d.id,collection:a.slug,data:c,select:{lockUntil:!0,loginAttempts:!0}});h=j.lockUntil,i=j.loginAttempts}if(null===i)throw Error("Failed to update login attempts or lockUntil for user");let j="number"==typeof i&&i-1>=f,k="number"==typeof i&&i>=f;if(j&&(d.lockUntil=h),d.loginAttempts=i-1,k&&(!h||!u(new Date(h)))){let c=new Date(g+e).toISOString();if(await b.db.updateOne({id:d.id,collection:a.slug,data:{lockUntil:c},returning:!1}),j&&(d.lockUntil=c),a.auth.useSessions){let c=await b.db.findOne({collection:a.slug,select:{sessions:!0},where:{id:{equals:d.id}}});c?.sessions?.length&&(c.sessions=c.sessions.filter(a=>new Date(a.createdAt)<=new Date(g-2e4)),d.sessions=c.sessions,d.updatedAt=new Date().toISOString(),await b.db.updateOne({id:d.id,collection:a.slug,data:d,returning:!1}))}}};var z=c(10689);let A=({loggingInWithUsername:a,req:b,user:c})=>{if(!c)throw new i(b.t,!!a);if(u(new Date(c.lockUntil)))throw new j(b.t)},B=async a=>{let b=a;if(b.collection.config.auth.disableLocalStrategy)throw new o.c(b.req.t);try{let{collection:{config:a},data:c,depth:f,overrideAccess:g,req:h,req:{fallbackLocale:j,locale:o,payload:q,payload:{secret:u}},showHiddenFields:B}=b=await (0,e.v)({args:b,collection:b.collection.config,operation:"login"}),{email:C,password:D}=c,E=a.auth.loginWithUsername,F="string"==typeof C?C.toLowerCase().trim():null,G="username"in c&&"string"==typeof c?.username?c.username.toLowerCase().trim():null,{canLoginWithEmail:H,canLoginWithUsername:I}=(0,t.Y)(E);if(!H&&!G)throw new k.y({collection:a.slug,errors:[{message:h.i18n.t("validation:required"),path:"username"}]});if(!I&&!F)throw new k.y({collection:a.slug,errors:[{message:h.i18n.t("validation:required"),path:"email"}]});if(!G&&!F)throw new k.y({collection:a.slug,errors:[{message:h.i18n.t("validation:required"),path:"email"},{message:h.i18n.t("validation:required"),path:"username"}]});if("string"!=typeof D||""===D.trim())throw new k.y({collection:a.slug,errors:[{message:h.i18n.t("validation:required"),path:"password"}]});let J={},K={email:{equals:F}},L={username:{equals:G}};H&&I&&(G||F)?J=G?{or:[L,{email:{equals:G}}]}:{or:[K,{username:{equals:F}}]}:H&&F?J=K:I&&G&&(J=L),J=(0,p.v)({enableTrash:a.trash,trash:!1,where:J});let M=await q.db.findOne({collection:a.slug,req:h,where:J});A({loggingInWithUsername:!!(I&&G),req:h,user:M}),M.collection=a.slug,M._strategy="local-jwt";let N=await (0,x.Q)({doc:M,password:D});M=(0,r.E)(M);let O=b.collection.config.auth.maxLoginAttempts>0;if(!N)throw O&&(await y({collection:a,payload:h.payload,req:h,user:M}),A({loggingInWithUsername:!!(I&&G),req:h,user:M})),new i(h.t);if(a.auth.verify&&!1===M._verified)throw new l({t:h.t});if(O){let{lockUntil:b,loginAttempts:c}=await q.db.findOne({collection:a.slug,req:h,select:{lockUntil:!0,loginAttempts:!0},where:{id:{equals:M.id}}});M.lockUntil=b,M.loginAttempts=c,A({req:h,user:M})}let P={collectionConfig:a,email:F,user:M},{sid:Q}=await (0,w.A)({collectionConfig:a,payload:q,req:h,user:M});Q&&(P.sid=Q);let R=(0,s.C)(P);if(O&&await (0,z.Z)({collection:a,doc:M,payload:h.payload,req:h}),a.hooks?.beforeLogin?.length)for(let c of a.hooks.beforeLogin)M=await c({collection:b.collection?.config,context:b.req.context,req:b.req,user:M})||M;let{exp:S,token:T}=await (0,v.h)({fieldsToSign:R,secret:u,tokenExpiration:a.auth.tokenExpiration});if(h.user=M,a.hooks?.afterLogin?.length)for(let c of a.hooks.afterLogin)M=await c({collection:b.collection?.config,context:b.req.context,req:b.req,token:T,user:M})||M;if(M=await (0,m.v)({collection:a,context:h.context,depth:f,doc:M,draft:void 0,fallbackLocale:j,global:null,locale:o,overrideAccess:g,req:h,showHiddenFields:B}),a.hooks?.afterRead?.length)for(let c of a.hooks.afterRead)M=await c({collection:b.collection?.config,context:h.context,doc:M,req:h})||M;let U={exp:S,token:T,user:M};return U=await (0,d.E)({args:b,collection:b.collection?.config,operation:"login",result:U})}catch(a){throw await (0,q.J)(b.req),a}}},82545:(a,b,c)=>{"use strict";c.d(b,{M:()=>g});var d=c(7282),e=c(24401),f=c(70404);class g extends f.L{constructor(a){super(a?a("general:notFound"):d.en.translations.general.notFound,e.h.NOT_FOUND)}}},82665:(a,b,c)=>{"use strict";let d=c(85558),e=c(42319),f=c(13576),g=f.style,h=f.clear,i=c(40821),j=i.cursor,k=i.erase;class l extends e{constructor(a={}){super(a),this.msg=a.message,this.value=!!a.initial,this.active=a.active||"on",this.inactive=a.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(a,b){if(" "===a)this.value=!this.value;else if("1"===a)this.value=!0;else{if("0"!==a)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(j.hide):this.out.write(h(this.outputText,this.out.columns)),super.render(),this.outputText=[g.symbol(this.done,this.aborted),d.bold(this.msg),g.delimiter(this.done),this.value?this.inactive:d.cyan().underline(this.inactive),d.gray("/"),this.value?d.cyan().underline(this.active):this.active].join(" "),this.out.write(k.line+j.to(0)+this.outputText))}}a.exports=l},83e3:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=(a,b,c)=>{let d,e=0,f=c;if(a<b[0].first||a>b[f].last)return 0;for(;f>=e;)if(a>b[d=Math.floor((e+f)/2)].last)e=d+1;else{if(!(a<b[d].first))return 1;f=d-1}return 0}},83222:(a,b,c)=>{"use strict";let d=c(91513);class e extends d{constructor(a={}){super(a)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(a){this.date.setMilliseconds(parseInt(a.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}a.exports=e},83630:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(26582),e=c(47934),f=c(34414);b.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:a}})=>(0,e.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,e._)`{missingProperty: ${a}}`},code(a){let{gen:b,schema:c,schemaCode:g,data:h,$data:i,it:j}=a,{opts:k}=j;if(!i&&0===c.length)return;let l=c.length>=k.loopRequired;if(j.allErrors?m():o(),k.strictRequired){let b=a.parentSchema.properties,{definedProperties:d}=a.it;for(let a of c)if((null==b?void 0:b[a])===void 0&&!d.has(a)){let b=j.schemaEnv.baseId+j.errSchemaPath,c=`required property "${a}" is not defined at "${b}" (strictRequired)`;(0,f.checkStrictMode)(j,c,j.opts.strictRequired)}}function m(){if(l||i)a.block$data(e.nil,p);else for(let b of c)(0,d.checkReportMissingProp)(a,b)}function o(){let e=b.let("missing");if(l||i){let c=b.let("valid",!0);a.block$data(c,()=>q(e,c)),a.ok(c)}else b.if((0,d.checkMissingProp)(a,c,e)),(0,d.reportMissingProp)(a,e),b.else()}function p(){b.forOf("prop",g,c=>{a.setParams({missingProperty:c}),b.if((0,d.noPropertyInData)(b,h,c,k.ownProperties),()=>a.error())})}function q(c,f){a.setParams({missingProperty:c}),b.forOf(c,g,()=>{b.assign(f,(0,d.propertyInData)(b,h,c,k.ownProperties)),b.if((0,e.not)(f),()=>{a.error(),b.break()})},e.nil)}}}},83646:(a,b,c)=>{"use strict";let d=c(27910).Stream,e=c(68573),f=c(55511),g=c(49026);class h extends d{constructor(a,b){if(super(),this.options=a||{},a&&a.serviceClient){if(!a.privateKey||!a.user)return void setImmediate(()=>this.emit("error",Error('Options "privateKey" and "user" are required for service account!')));let b=Math.min(Math.max(Number(this.options.serviceRequestTimeout)||0,0),3600);this.options.serviceRequestTimeout=b||300}if(this.logger=g.getLogger({logger:b},{component:this.options.component||"OAuth2"}),this.provisionCallback="function"==typeof this.options.provisionCallback&&this.options.provisionCallback,this.options.accessUrl=this.options.accessUrl||"https://accounts.google.com/o/oauth2/token",this.options.customHeaders=this.options.customHeaders||{},this.options.customParams=this.options.customParams||{},this.accessToken=this.options.accessToken||!1,this.options.expires&&Number(this.options.expires))this.expires=this.options.expires;else{let a=Math.max(Number(this.options.timeout)||0,0);this.expires=a&&Date.now()+1e3*a||0}this.renewing=!1,this.renewalQueue=[]}getToken(a,b){if(!a&&this.accessToken&&(!this.expires||this.expires>Date.now()))return this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"reuse"},"Reusing existing access token for %s",this.options.user),b(null,this.accessToken);if(!this.provisionCallback&&!this.options.refreshToken&&!this.options.serviceClient)return this.accessToken?(this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"reuse"},"Reusing existing access token (no refresh capability) for %s",this.options.user),b(null,this.accessToken)):(this.logger.error({tnx:"OAUTH2",user:this.options.user,action:"renew"},"Cannot renew access token for %s: No refresh mechanism available",this.options.user),b(Error("Can't create new access token for user")));if(this.renewing)return this.renewalQueue.push({renew:a,callback:b});this.renewing=!0;let c=(a,c)=>{this.renewalQueue.forEach(b=>b.callback(a,c)),this.renewalQueue=[],this.renewing=!1,a?this.logger.error({err:a,tnx:"OAUTH2",user:this.options.user,action:"renew"},"Failed generating new Access Token for %s",this.options.user):this.logger.info({tnx:"OAUTH2",user:this.options.user,action:"renew"},"Generated new Access Token for %s",this.options.user),b(a,c)};this.provisionCallback?this.provisionCallback(this.options.user,!!a,(a,b,d)=>{!a&&b&&(this.accessToken=b,this.expires=d||0),c(a,b)}):this.generateToken(c)}updateToken(a,b){this.accessToken=a,b=Math.max(Number(b)||0,0),this.expires=b&&Date.now()+1e3*b||0,this.emit("token",{user:this.options.user,accessToken:a||"",expires:this.expires})}generateToken(a){let b,c;if(this.options.serviceClient){let d,e=Math.floor(Date.now()/1e3),f={iss:this.options.serviceClient,scope:this.options.scope||"https://mail.google.com/",sub:this.options.user,aud:this.options.accessUrl,iat:e,exp:e+this.options.serviceRequestTimeout};try{d=this.jwtSignRS256(f)}catch(b){return a(Error("Can't generate token. Check your auth options"))}b={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:d},c={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:f}}else{if(!this.options.refreshToken)return a(Error("Can't create new access token for user"));b={client_id:this.options.clientId||"",client_secret:this.options.clientSecret||"",refresh_token:this.options.refreshToken,grant_type:"refresh_token"},c={client_id:this.options.clientId||"",client_secret:(this.options.clientSecret||"").substr(0,6)+"...",refresh_token:(this.options.refreshToken||"").substr(0,6)+"...",grant_type:"refresh_token"}}Object.keys(this.options.customParams).forEach(a=>{b[a]=this.options.customParams[a],c[a]=this.options.customParams[a]}),this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"generate"},"Requesting token using: %s",JSON.stringify(c)),this.postRequest(this.options.accessUrl,b,this.options,(b,c)=>{let d;if(b)return a(b);try{d=JSON.parse(c.toString())}catch(b){return a(b)}if(!d||"object"!=typeof d)return this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"post"},"Response: %s",(c||"").toString()),a(Error("Invalid authentication response"));let e={};if(Object.keys(d).forEach(a=>{"access_token"!==a?e[a]=d[a]:e[a]=(d[a]||"").toString().substr(0,6)+"..."}),this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"post"},"Response: %s",JSON.stringify(e)),d.error){let b=d.error;return d.error_description&&(b+=": "+d.error_description),d.error_uri&&(b+=" ("+d.error_uri+")"),a(Error(b))}return d.access_token?(this.updateToken(d.access_token,d.expires_in),a(null,this.accessToken)):a(Error("No access token"))})}buildXOAuth2Token(a){let b=["user="+(this.options.user||""),"auth=Bearer "+(a||this.accessToken),"",""];return Buffer.from(b.join("\x01"),"utf-8").toString("base64")}postRequest(a,b,c,d){let f=!1,g=[],h=0,i=e(a,{method:"post",headers:c.customHeaders,body:b,allowErrorResponse:!0});i.on("readable",()=>{let a;for(;null!==(a=i.read());)g.push(a),h+=a.length}),i.once("error",a=>{if(!f)return f=!0,d(a)}),i.once("end",()=>{if(!f)return f=!0,d(null,Buffer.concat(g,h))})}toBase64URL(a){return"string"==typeof a&&(a=Buffer.from(a)),a.toString("base64").replace(/[=]+/g,"").replace(/\+/g,"-").replace(/\//g,"_")}jwtSignRS256(a){a=['{"alg":"RS256","typ":"JWT"}',JSON.stringify(a)].map(a=>this.toBase64URL(a)).join(".");let b=f.createSign("RSA-SHA256").update(a).sign(this.options.privateKey);return a+"."+this.toBase64URL(b)}}a.exports=h},83927:(a,b,c)=>{"use strict";let{InvalidArgumentError:d}=c(64737),{kClients:e,kRunning:f,kClose:g,kDestroy:h,kDispatch:i,kUrl:j}=c(10257),k=c(60647),l=c(24626),m=c(77531),o=c(81350),p=Symbol("onConnect"),q=Symbol("onDisconnect"),r=Symbol("onConnectionError"),s=Symbol("onDrain"),t=Symbol("factory"),u=Symbol("options");function v(a,b){return b&&1===b.connections?new m(a,b):new l(a,b)}class w extends k{constructor({factory:a=v,connect:b,...c}={}){if("function"!=typeof a)throw new d("factory must be a function.");if(null!=b&&"function"!=typeof b&&"object"!=typeof b)throw new d("connect must be a function or an object");super(),b&&"function"!=typeof b&&(b={...b}),this[u]={...o.deepClone(c),connect:b},this[t]=a,this[e]=new Map,this[s]=(a,b)=>{this.emit("drain",a,[this,...b])},this[p]=(a,b)=>{let c=this[e].get(a);c&&(c.count+=1),this.emit("connect",a,[this,...b])},this[q]=(a,b,c)=>{let d=this[e].get(a);d&&(d.count-=1,d.count<=0&&(this[e].delete(a),d.dispatcher.destroy())),this.emit("disconnect",a,[this,...b],c)},this[r]=(a,b,c)=>{this.emit("connectionError",a,[this,...b],c)}}get[f](){let a=0;for(let{dispatcher:b}of this[e].values())a+=b[f];return a}[i](a,b){let c;if(a.origin&&("string"==typeof a.origin||a.origin instanceof URL))c=String(a.origin);else throw new d("opts.origin must be a non-empty string or URL.");let f=this[e].get(c),g=f&&f.dispatcher;return g||(g=this[t](a.origin,this[u]).on("drain",this[s]).on("connect",this[p]).on("disconnect",this[q]).on("connectionError",this[r]),this[e].set(c,{count:0,dispatcher:g})),g.dispatch(a,b)}async [g](){let a=[];for(let{dispatcher:b}of this[e].values())a.push(b.close());this[e].clear(),await Promise.all(a)}async [h](a){let b=[];for(let{dispatcher:c}of this[e].values())b.push(c.destroy(a));this[e].clear(),await Promise.all(b)}get stats(){let a={};for(let{dispatcher:b}of this[e].values())b.stats&&(a[b[j].origin]=b.stats);return a}}a.exports=w},84140:(a,b,c)=>{"use strict";let d=c(96501),e=process.env;function f(a){return"string"==typeof a?!!e[a]:"env"in a?e[a.env]&&e[a.env].includes(a.includes):"any"in a?a.any.some(function(a){return!!e[a]}):Object.keys(a).every(function(b){return e[b]===a[b]})}function g(a){switch(typeof a.pr){case"string":return!!e[a.pr];case"object":if("env"in a.pr)if("any"in a.pr)return a.pr.any.some(function(b){return e[a.pr.env]===b});else return a.pr.env in e&&e[a.pr.env]!==a.pr.ne;if("any"in a.pr)return a.pr.any.some(function(a){return!!e[a]});return f(a.pr);default:return null}}Object.defineProperty(b,"_vendors",{value:d.map(function(a){return a.constant})}),b.name=null,b.isPR=null,b.id=null,d.forEach(function(a){let c=(Array.isArray(a.env)?a.env:[a.env]).every(function(a){return f(a)});b[a.constant]=c,c&&(b.name=a.name,b.isPR=g(a),b.id=a.constant)}),b.isCI=!!("false"!==e.CI&&(e.BUILD_ID||e.BUILD_NUMBER||e.CI||e.CI_APP_ID||e.CI_BUILD_ID||e.CI_BUILD_NUMBER||e.CI_NAME||e.CONTINUOUS_INTEGRATION||e.RUN_ID||b.name))},84225:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateTuple=void 0;let d=c(47934),e=c(34414),f=c(26582),g={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){let{schema:b,it:c}=a;if(Array.isArray(b))return h(a,"additionalItems",b);c.items=!0,(0,e.alwaysValidSchema)(c,b)||a.ok((0,f.validateArray)(a))}};function h(a,b,c=a.schema){let{gen:f,parentSchema:g,data:i,keyword:j,it:k}=a;o(g),k.opts.unevaluated&&c.length&&!0!==k.items&&(k.items=e.mergeEvaluated.items(f,c.length,k.items));let l=f.name("valid"),m=f.const("len",(0,d._)`${i}.length`);function o(a){let{opts:d,errSchemaPath:f}=k,g=c.length,h=g===a.minItems&&(g===a.maxItems||!1===a[b]);if(d.strictTuples&&!h){let a=`"${j}" is ${g}-tuple, but minItems or maxItems/${b} are not specified or different at path "${f}"`;(0,e.checkStrictMode)(k,a,d.strictTuples)}}c.forEach((b,c)=>{(0,e.alwaysValidSchema)(k,b)||(f.if((0,d._)`${m} > ${c}`,()=>a.subschema({keyword:j,schemaProp:c,dataProp:c},l)),a.ok(l))})}b.validateTuple=h,b.default=g},84331:a=>{"use strict";a.exports=(a,b={})=>{let c=Number.isSafeInteger(parseInt(b.margin))?Array(parseInt(b.margin)).fill(" ").join(""):b.margin||"",d=b.width;return(a||"").split(/\r?\n/g).map(a=>a.split(/\s+/g).reduce((a,b)=>(b.length+c.length>=d||a[a.length-1].length+b.length+1<d?a[a.length-1]+=` ${b}`:a.push(`${c}${b}`),a),[c]).join("\n")).join("\n")}},84351:(a,b,c)=>{"use strict";c.d(b,{Z:()=>b5});var d=c(85088),e=c(18669),f=c(6955),g=c(21641);function h(a,b){return a.map(a=>{if("relationship"===a.type){let c=a,d=c.filterOptions;return c.filterOptions=async a=>{let{relationTo:c,req:e,user:f}=a,h="function"==typeof d?await d(a):d??!0;if(!1===h)return!1;let i=b.collections.find(({slug:a})=>a===c)?.admin,j=i?.hidden;if("function"==typeof j&&j({user:f}))return!1;let k=i?.baseFilter??i?.baseListFilter,l=await k?.({limit:0,page:1,req:e,sort:"id"});return l?!0===h?l:(0,g.h)([h,l],"and"):h},c}if("fields"in a&&a.fields)return{...a,fields:h(a.fields,b)};if("tabs"===a.type&&"tabs"in a)return{...a,tabs:a.tabs.map(a=>({...a,fields:h(a.fields,b)}))};if("blocks"===a.type){let c=a.blockReferences??a.blocks??[];return{...a,blocks:c.map(a=>"string"==typeof a?a:{...a,fields:h(a.fields,b)})}}return a})}var i=c(78164),j=c(6722),k=c(9764);let l=a=>({context:b,currentDepth:c,depth:d,draft:e,editorPopulationPromises:f,field:g,fieldPromises:h,findMany:i,flattenLocales:j,node:l,overrideAccess:m,parentIsLocalized:o,populationPromises:p,req:q,showHiddenFields:r})=>{let s=l.fields,t=a.find(a=>a.slug===s.blockType);t&&t?.fields?.length&&s&&(0,k.V)({context:b,currentDepth:c,data:s,depth:d,draft:e,editorPopulationPromises:f,fieldPromises:h,fields:t.fields,findMany:i,flattenLocales:j,overrideAccess:m,parentIsLocalized:o||g.localized||!1,populationPromises:p,req:q,showHiddenFields:r,siblingDoc:s})},m={ar:{inlineBlocks:{create:" {{label}}",edit:" {{label}}",label:" ",remove:" {{label}}"},label:""},az:{inlineBlocks:{create:"Yarat {{label}}",edit:"{{label}} redakt et",label:"Sral Bloklar",remove:"{{label}} silin"},label:"Bloklar"},bg:{inlineBlocks:{create:" {{label}}",edit:" {{label}}",label:" ",remove:" {{label}}"},label:""},cs:{inlineBlocks:{create:"Vytvote {{label}}",edit:"Upravit {{label}}",label:"Inline bloky",remove:"Odstrate {{label}}"},label:"Bloky"},da:{inlineBlocks:{create:"Opret {{label}}",edit:"Rediger {{label}}",label:"Indlejrede blokke",remove:"Fjern {{label}}"},label:"Blokke"},de:{inlineBlocks:{create:"Erstelle {{label}}",edit:"Bearbeite {{label}}",label:"Inline-Bl\xf6cke",remove:"Entferne {{label}}"},label:"Bl\xf6cke"},en:{inlineBlocks:{create:"Create {{label}}",edit:"Edit {{label}}",label:"Inline Blocks",remove:"Remove {{label}}"},label:"Blocks"},es:{inlineBlocks:{create:"Crear {{label}}",edit:"Editar {{label}}",label:"Bloques en l\xednea",remove:"Eliminar {{label}}"},label:"Bloques"},et:{inlineBlocks:{create:"Loo {{label}}",edit:"Muuda {{label}}",label:"Sisseehitatud plokid",remove:"Eemalda {{label}}"},label:"Plokk"},fa:{inlineBlocks:{create:" {{label}}",edit:" {{label}}",label:"  ",remove:" {{label}}"},label:" "},fr:{inlineBlocks:{create:"Cr\xe9er {{label}}",edit:"Modifier {{label}}",label:"Blocs en ligne",remove:"Supprimer {{label}}"},label:"Blocs"},he:{inlineBlocks:{create:" {{label}}",edit:" {{label}}",label:" ",remove:" {{label}}"},label:""},hr:{inlineBlocks:{create:"Stvori {{label}}",edit:"Uredi {{label}}",label:"Unutranji blokovi",remove:"Ukloni {{label}}"},label:"Blokovi"},hu:{inlineBlocks:{create:"Hozzon l\xe9tre {{label}}",edit:"Szerkeszt\xe9s {{label}}",label:"Be\xe1gyazott blokkok",remove:"T\xe1vol\xedtsa el a {{label}}"},label:"Blokkok"},is:{inlineBlocks:{create:"Skr\xe1 {{label}}",edit:"Breyta {{label}}",label:"L\xednublokkir",remove:"Fjarl\xe6gja {{label}}"},label:"Blokkir"},it:{inlineBlocks:{create:"Crea {{label}}",edit:"Modifica {{label}}",label:"Blocchi in linea",remove:"Rimuovi {{label}}"},label:"Blocchi"},ja:{inlineBlocks:{create:"{{label}}",edit:"{{label}}",label:"",remove:"{{label}}"},label:""},ko:{inlineBlocks:{create:"{{label}} ",edit:"{{label}} ",label:" ",remove:"{{label}} "},label:""},my:{inlineBlocks:{create:"Cipta {{label}}",edit:"Sunting {{label}}",label:"Inline Blocks [SKIPPED]",remove:"Buang {{label}}"},label:""},nb:{inlineBlocks:{create:"Opprett {{label}}",edit:"Rediger {{label}}",label:"In-line blokker",remove:"Fjern {{label}}"},label:"Blokker"},nl:{inlineBlocks:{create:"Maak {{label}}",edit:"Bewerk {{label}}",label:"Inline Blocks",remove:"Verwijder {{label}}"},label:"Blokken"},pl:{inlineBlocks:{create:"Utw\xf3rz {{label}}",edit:"Edytuj {{label}}",label:"Blokowanie w linii",remove:"Usu {{label}}"},label:"Bloki"},pt:{inlineBlocks:{create:"Crie {{label}}",edit:"Editar {{label}}",label:"Blocos em linha",remove:"Remova {{label}}"},label:"Blocos"},ro:{inlineBlocks:{create:"Creeaz {{label}}",edit:"Editai {{label}}",label:"Blocuri in linie",remove:"tergei {{label}}"},label:"Blocuri"},rs:{inlineBlocks:{create:" {{label}}",edit:" {{label}}",label:" ",remove:" {{label}}"},label:""},"rs-latin":{inlineBlocks:{create:"Kreiraj {{label}}",edit:"Izmeni {{label}}",label:"Umetnuti blokovi",remove:"Ukloni {{label}}"},label:"Blokovi"},ru:{inlineBlocks:{create:" {{label}}",edit:" {{label}}",label:" ",remove:" {{label}}"},label:""},sk:{inlineBlocks:{create:"Vytvorte {{label}}",edit:"Upravi {{label}}",label:"Inline bloky",remove:"Odstr\xe1te {{label}}"},label:"Bloky"},sl:{inlineBlocks:{create:"Ustvari {{label}}",edit:"Uredi {{label}}",label:"Vrstini bloki",remove:"Odstrani {{label}}"},label:"Bloki"},sv:{inlineBlocks:{create:"Skapa {{label}}",edit:"Redigera {{label}}",label:"Inline-blockar",remove:"Ta bort {{label}}"},label:"Block"},ta:{inlineBlocks:{create:"{{label}} ",edit:"{{label}} ",label:" ",remove:"{{label}} "},label:""},th:{inlineBlocks:{create:" {{label}}",edit:" {{label}}",label:"",remove:" {{label}}"},label:""},tr:{inlineBlocks:{create:"{{label}} oluturun",edit:"{{label}}'i d\xfczenleyin",label:"Satr \xe7i Bloklar",remove:"{{label}} kaldrn"},label:"Bloklar"},uk:{inlineBlocks:{create:" {{label}}",edit:" {{label}}",label:" ",remove:" {{label}}"},label:""},vi:{inlineBlocks:{create:"To {{label}}",edit:"Chnh sa {{label}}",label:"Khi ni tuyn",remove:"X\xf3a {{label}}"},label:"Khi"},zh:{inlineBlocks:{create:"{{label}}",edit:" {{label}}",label:"",remove:"{{label}}"},label:""},"zh-TW":{inlineBlocks:{create:" {{label}}",edit:" {{label}}",label:"",remove:" {{label}}"},label:""}};var o=c(34318);function p({nodes:a}){return a.map(a=>"node"in a?a.node:a)}let q=JSON;if(void 0===r)var r={};let s=r||{};r.JSOX=s,s.version="1.2.121";let t="function"==typeof BigInt,u=!1,v=-1,w=0,x=1,y=2,z=3,A=4,B=5,C=6,D=7,E=8,F=9,G=10,H=12,I=13,J=["ab","u8","cu8","s8","u16","s16","u32","s32","u64","s64","f32","f64"],K=null,L=null,M=[ArrayBuffer,Uint8Array,Uint8ClampedArray,Int8Array,Uint16Array,Int16Array,Uint32Array,Int32Array,null,null,Float32Array,Float64Array],N=0,O=1,P=2,Q=3,R=5,S=6,T=7,U=8,V=9,W=10,X=11,Y=12,Z=13,$=14,_=15,aa=16,ab=17,ac=18,ad=19,ae=20,af=21,ag=22,ah=23,ai=24,aj=25,ak=26,al=27,am=28,an=29,ao=30,ap=31,aq=32,ar=0,as=1,at=2,au=3,av=4,aw=5,ax=6,ay={true:!0,false:!1,null:null,NaN:NaN,Infinity:1/0,undefined:void 0};class az extends Date{constructor(a,b){super(a),this.ns=b||0}}s.DateNS=az;let aA=[];function aB(){let a=aA.pop();return a||(a={context:ar,current_proto:null,current_class:null,current_class_field:0,arrayType:-1,valueType:w,elements:null}),a}function aC(a){aA.push(a)}s.updateContext=function(){};let aD=[];function aE(){let a=aD.pop();return a?a.n=0:a={buf:null,n:0},a}function aF(a){aD.push(a)}s.escape=function(a){let b,c="";if(!a)return a;for(b=0;b<a.length;b++)('"'==a[b]||"\\"==a[b]||"`"==a[b]||"'"==a[b])&&(c+="\\"),c+=a[b];return c};let aG=new WeakMap,aH=new Map,aI=new Map,aJ=[];s.reset=function a(){aG=new WeakMap,aH=new Map,aI=new Map,aJ=[]},s.begin=function(a,b){let c,d={name:null,value_type:w,string:"",contains:null,className:null},e={line:1,col:1},f=0,g=new Map,h=N,i=!0,j=!1,k=!1,l=null,m=null,o,p={first:null,last:null,saved:null,push(a){let b=this.saved;b?(this.saved=b.next,b.node=a,b.next=null,b.prior=this.last):b={node:a,next:null,prior:this.last},this.last?this.last.next=b:this.first=b,this.last=b,this.length++},pop(){let a=this.last;return(this.last=a.prior)||(this.first=null),a.next=this.saved,this.last&&(this.last.next=null),a.next||(a.first=null),this.saved=a,this.length--,a.node},length:0},q=[],r={},s=null,K=null,L=0,ay=-1,aA=ar,aD=0,aG=!1,aH=!1,aJ=!1,aK=!1,aL=!1,aM={first:null,last:null,saved:null,push(a){let b=this.saved;b?(this.saved=b.next,b.node=a,b.next=null,b.prior=this.last):b={node:a,next:null,prior:this.last},this.last?this.last.next=b:this.first=b,this.last=b},shift(){let a=this.first;return a?((this.first=a.next)||(this.last=null),a.next=this.saved,this.saved=a,a.node):null},unshift(a){let b=this.saved;this.saved=b.next,b.node=a,b.next=this.first,b.prior=null,this.first||(this.last=b),this.first=b}},aN=null,aO=!1,aP=!1,aS=!1,aT=!1,aU=!1,aV=!1,aW=!1,aX=0,aY=0,aZ=!1,a$=!1,a_=!1;function a0(a){throw Error(`${a} at ${f} [${e.line}:${e.col}]`)}return{fromJSOX(a,b,c){if(g.get(a))throw Error("Existing fromJSOX has been registered for prototype");function d(){}if(b||(b=d),b&&!("constructor"in b))throw Error("Please pass a prototype like thing...");g.set(a,{protoCon:b.prototype.constructor,cb:c})},registerFromJSOX(a,b){throw Error("registerFromJSOX is deprecated, please update to use fromJSOX instead:"+a+b.toString())},finalError(){0!==aD&&(1===aD&&a0("Comment began at end of document"),3===aD&&a0("Open comment '/*' is missing close at end of document"),4===aD&&a0("Incomplete '/* *' close at end of document")),aO&&a0("Incomplete string")},value(){this.finalError();let a=l;return l=void 0,a},reset(){h=N,i=!0,aM.last&&(aM.last.next=aM.save),aM.save=aM.first,aM.first=aM.last=null,p.last&&(p.last.next=p.save),p.length=0,p.save=aM.first,p.first=p.last=null,o=void 0,aA=ar,q=[],r={},s=null,K=null,L=0,d.value_type=w,d.name=null,d.string="",d.className=null,e.line=1,e.col=1,k=!1,aD=0,aZ=!1,aO=!1,aS=!1,aT=!1,a$=!1},usePrototype(a,b){r[a]=b},write(c){let d;if("string"!=typeof c&&void 0!==c&&(c=String(c)),!i)throw Error("Parser is still in an error state, please reset before resuming");for(d=this._write(c,!1);d>0&&("function"==typeof b&&function a(c,d){let e,f,g=c[d];if(g&&"object"==typeof g)for(e in g)Object.prototype.hasOwnProperty.call(g,e)&&(void 0!==(f=a(g,e))?g[e]=f:delete g[e]);return b.call(c,d,g)}({"":l},""),l=a(l),!(d<2));d=this._write());},parse(a,b){"string"!=typeof a&&(a=String(a)),this.reset();let c=this._write(a,!0);if(c>0){let a=this.value();if(void 0===a&&c>1)throw Error("Pending value could not complete");return"function"==typeof b?function a(c,d){let e,f,g=c[d];if(g&&"object"==typeof g)for(e in g)Object.prototype.hasOwnProperty.call(g,e)&&(void 0!==(f=a(g,e))?g[e]=f:delete g[e]);return b.call(c,d,g)}({"":a},""):a}this.finalError()},_write(a,b){let r,a0,a1,a2=0;function a3(a,b){throw Error(`${a} '${String.fromCodePoint(b)}' unexpected at ${f} (near '${a1.substr(f>4?f-4:0,f>4?3:f-1)}[${String.fromCodePoint(b)}]${a1.substr(f,10)}') [${e.line}:${e.col}]`)}function a4(){d.value_type=w,d.string="",d.contains=null}function a5(){let a=null;switch(d.value_type){case B:if(!(d.string.length>13)&&(13!=d.string.length||!(d[0]>"2"))||a$||aL||aK||aH||(a_=!0),a_)if(t)return BigInt(d.string);else throw Error("no builtin BigInt()",0);if(a$){let a=d.string.match(/\.(\d\d\d\d*)/),b=a?a[1]:null;if(!b||b.length<4){let a=new Date(d.string);return isNaN(a.getTime())&&a3("Bad Date format",r),a}{let a=b.substr(3);for(;a.length<6;)a+="0";let c=new az(d.string,Number(a));return isNaN(c.getTime())&&a3("Bad DateNS format"+c+c.getTime(),r),c}}return(k?-1:1)*Number(d.string);case A:if(d.className){if((a=g.get(d.className))||(a=aI.get(d.className)),a&&a.cb)return d.className=null,a.cb.call(d.string);throw Error("Double string error, no constructor for: new "+d.className+"("+d.string+")")}return d.string;case y:return!0;case z:return!1;case D:case E:return NaN;case F:return-1/0;case G:return 1/0;case x:return null;case v:case H:return;case C:if(d.className&&((a=g.get(d.className))||(a=aI.get(d.className)),d.className=null,a&&a.cb))return d.contains=a.cb.call(d.contains);return d.contains;case I:if(ay>=0){let a;if(a=d.contains.length?aQ(d.contains[0]):aQ(d.string),0===ay)return ay=-1,a;{let b=new M[ay](a);return ay=-1,b}}if(-2===ay){let a,b=m,c=d.contains.length;for(a=0;a<c;a++){let e=d.contains[a],f=b[e];if(!f){let e=p.first,g=0;for(;e&&g<c&&g<p.length;){let c=d.contains[g];if(!e.next||c!==e.next.node.name)break;if(e.next)if("number"==typeof c){let a=e.next.node.elements;if(a&&c>=a.length)if(g===p.length-1){console.log("This is actually at the current object so use that",g,d.contains,o),f=o,g++,e=e.next;break}else{if(e.next.next&&c===a.length){f=e.next.next.node.elements,e=e.next,g++,b=f;continue}f=o,g++;break}}else if(c!==e.next.node.name){f=e.next.node.elements[c],a=g;break}else f=e.next.next?e.next.next.node.elements:o;else f=f[c];e=e.next,g++}a=g<c?g-1:g}if("object"==typeof f&&!f)throw Error("Path did not resolve properly:"+d.contains+" at "+e+"("+a+")");b=f}return ay=-3,b}if(d.className&&((a=g.get(d.className))||(a=aI.get(d.className)),d.className=null,a&&a.cb))return a.cb.call(d.contains);return d.contains;default:console.log("Unhandled value conversion.",d)}}function a6(){if(-3==ay){d.value_type===C&&o.push(d.contains),ay=-1;return}d.value_type===H?(o.push(void 0),delete o[o.length-1]):o.push(a5()),a4()}function a7(){if(-3===ay&&d.value_type===I){a4(),ay=-1;return}if(d.value_type===H)return;!d.name&&K&&(d.name=K.fields[L++]);let a=a5();s&&s.protoDef&&s.protoDef.cb?(a=s.protoDef.cb.call(o,d.name,a))&&(o[d.name]=a):o[d.name]=a,a4()}function a8(a){if(h!==N){switch(k&&a3("Negative outside of quotes, being converted to a string (would lose count of leading '-' characters)",a),h){case ap:switch(d.value_type){case y:d.string+="true";break;case z:d.string+="false";break;case x:d.string+="null";break;case G:d.string+="Infinity";break;case F:d.string+="-Infinity",a3("Negative outside of quotes, being converted to a string",a);break;case E:d.string+="NaN";break;case D:d.string+="-NaN",a3("Negative outside of quotes, being converted to a string",a);break;case v:d.string+="undefined";break;case A:case w:break;default:console.log("Value of type "+d.value_type+" is not restored...")}break;case O:d.string+="t";break;case P:d.string+="tr";break;case Q:d.string+="tru";break;case R:d.string+="f";break;case S:d.string+="fa";break;case T:d.string+="fal";break;case U:d.string+="fals";break;case V:d.string+="n";break;case W:d.string+="nu";break;case X:d.string+="nul";break;case Y:d.string+="u";break;case Z:d.string+="un";break;case $:d.string+="und";break;case _:d.string+="unde";break;case aa:d.string+="undef";break;case ab:d.string+="undefi";break;case ac:d.string+="undefin";break;case ad:d.string+="undefine";break;case ae:d.string+="N";break;case af:d.string+="Na";break;case ag:d.string+="I";break;case ah:d.string+="In";break;case ai:d.string+="Inf";break;case aj:d.string+="Infi";break;case ak:d.string+="Infin";break;case al:d.string+="Infini";break;case am:d.string+="Infinit";break;case N:case an:case ao:break;case aq:a3("String-keyword recovery fail (after whitespace)",a)}d.value_type=A,h<an&&(h=ap)}else h=ap,d.value_type=A;if(123==a)bb();else if(91==a)bc();else if(44==a);else{if(32==a||13==a||10==a||9==a||65279==a||8232==a||8233==a)return;44==a||125==a||93==a||58==a?a3("Invalid character near identifier",a):d.string+=c}}function a9(a){let b=0;for(;0==b&&f<a1.length;){c=a1.charAt(f);let g=a1.codePointAt(f++);if(g>=65536&&(c+=a1.charAt(f),f++),e.col++,g==a)aS?(aW?a3("Incomplete hexidecimal sequence",g):aV?a3("Incomplete long unicode sequence",g):aU&&a3("Incomplete unicode sequence",g),aT?(aT=!1,b=1):d.string+=c,aS=!1):b=1;else if(aS){if(aU){if(125==g){d.string+=String.fromCodePoint(aX),aU=!1,aV=!1,aS=!1;continue}aX*=16,g>=48&&g<=57?aX+=g-48:g>=65&&g<=70?aX+=g-65+10:g>=97&&g<=102?aX+=g-97+10:(a3("(escaped character, parsing hex of \\u)",g),b=-1,aU=!1,aS=!1);continue}if(aW||aV){if(0===aY&&123===g){aU=!0;continue}if(aY<2||aV&&aY<4){if(aX*=16,g>=48&&g<=57)aX+=g-48;else if(g>=65&&g<=70)aX+=g-65+10;else if(g>=97&&g<=102)aX+=g-97+10;else{a3(aV?"(escaped character, parsing hex of \\u)":"(escaped character, parsing hex of \\x)",g),b=-1,aW=!1,aS=!1;continue}aY++,aV?4==aY&&(d.string+=String.fromCodePoint(aX),aV=!1,aS=!1):2==aY&&(d.string+=String.fromCodePoint(aX),aW=!1,aS=!1);continue}}switch(g){case 13:aT=!0,e.col=1;continue;case 8232:case 8233:e.col=1;case 10:aT?aT=!1:e.col=1,e.line++;break;case 116:d.string+="	";break;case 98:d.string+="\b";break;case 110:d.string+="\n";break;case 114:d.string+="\r";break;case 102:d.string+="\f";break;case 118:d.string+="\v";break;case 48:d.string+="\0";break;case 120:aW=!0,aY=0,aX=0;continue;case 117:aV=!0,aY=0,aX=0;continue;default:d.string+=c}aS=!1}else 92===g?aS?(d.string+="\\",aS=!1):(aS=!0,aX=0,aY=0):(aT&&(aT=!1,e.line++,e.col=2),d.string+=c)}return b}function ba(){let a;for(;(a=f)<a1.length;){c=a1.charAt(a);let g=a1.codePointAt(f++);if(g>=256){e.col-=f-a,f=a;break}if(95!=g)if(e.col++,g>=48&&g<=57)aJ&&(aL=!0),d.string+=c;else if(45==g||43==g)0!=d.string.length&&(!aJ||aK||aL)?(k&&(d.string="-"+d.string,k=!1),d.string+=c,a$=!0):(45!=g||aJ||(k=!k),d.string+=c,aK=!0);else if(78==g){if(h==N){aP=!1,h=ae;return}a3("fault while parsing number;",g);break}else if(73==g){if(h==N){aP=!1,h=ag;return}a3("fault while parsing number;",g);break}else if(58==g&&a$)k&&(d.string="-"+d.string,k=!1),d.string+=c,a$=!0;else if(84==g&&a$)k&&(d.string="-"+d.string,k=!1),d.string+=c,a$=!0;else if(90==g&&a$)k&&(d.string="-"+d.string,k=!1),d.string+=c,a$=!0;else if(46==g)if(aH||aG||aJ){i=!1,a3("fault while parsing number;",g);break}else d.string+=c,aH=!0;else if(110==g){a_=!0;break}else if(aG&&(g>=95&&g<=102||g>=65&&g<=70))d.string+=c;else if(120==g||98==g||111==g||88==g||66==g||79==g)if(aG||"0"!=d.string){i=!1,a3("fault while parsing number;",g);break}else aG=!0,d.string+=c;else if(101==g||69==g)if(aJ){i=!1,a3("fault while parsing number;",g);break}else d.string+=c,aJ=!0;else if(32==g||13==g||10==g||9==g||47==g||35==g||44==g||125==g||93==g||123==g||91==g||34==g||39==g||96==g||58==g){e.col-=f-a,f=a;break}else{b&&(i=!1,a3("fault while parsing number;",g));break}}b||f!=a1.length?(aP=!1,d.value_type=B,aA==ar&&(aZ=!0)):aP=!0}function bb(){let a,b=at,c=null,e={};if(h>N&&h<an&&a8(123),a=bd(),aA==ar)if(h==an||h==ap&&(a||d.string.length)){if(a&&a.protoDef&&a.protoDef.protoCon&&(e=new a.protoDef.protoCon),!a||!a.protoDef&&d.string){if(c=q.find(a=>a.name===d.string))j?(c.fields.length=0,b=av):(e=new c.protoCon,b=aw);else{function f(){}q.push(c={name:d.string,protoCon:a&&a.protoDef&&a.protoDef.protoCon||f.constructor,fields:[]}),b=av}j=!1}K=c,h=N}else h=an;else if(h==an||aA===as||aA===au||aA==aw)if(h!=N||d.value_type==A){if(a&&a.protoDef)e=new a.protoDef.protoCon;else if(c=q.find(a=>a.name===d.string))b=aw,e={};else{function k(){}g.set(d.string,{protoCon:k.prototype.constructor,cb:null}),e=new k}h=N}else h=N;else if(aA==at&&h==N)return a3("fault while parsing; getting field name unexpected ",r),i=!1,!1;let l=aB();return d.value_type=C,aA===ar?o=e:aA==as?d.name=o.length:(aA==au||aA==aw)&&(!d.name&&K&&(d.name=K.fields[L++]),o[d.name]=e),l.context=aA,l.elements=o,l.name=d.name,l.current_proto=s,l.current_class=K,l.current_class_field=L,l.valueType=d.value_type,l.arrayType=ay,l.className=d.className,d.className=null,d.name=null,s=a,K=c,L=0,o=e,m||(m=o),p.push(l),a4(),aA=b,!0}function bc(){if(h>N&&h<an&&a8(91),h==ap&&d.string.length){let a=J.findIndex(a=>a===d.string);h=N,a>=0?(ay=a,d.className=d.string,d.string=null):"ref"===d.string?(d.className=null,ay=-2):g.get(d.string)||aI.get(d.string)?d.className=d.string:a3(`Unknown type '${d.string}' specified for array`,r)}else if(aA==at||h==an||h==ao)return a3("Fault while parsing; while getting field name unexpected",r),i=!1,!1;{let a=aB();d.value_type=I;let b=[];if(aA==ar)o=b;else if(aA==as)-1==ay&&o.push(b),d.name=o.length;else if(aA==au)if(d.name||(console.log("This says it's resolved......."),ay=-3),s&&s.protoDef)if(s.protoDef.cb){let a=s.protoDef.cb.call(o,d.name,b);void 0!==a&&(b=o[d.name]=a)}else o[d.name]=b;else o[d.name]=b;a.context=aA,a.elements=o,a.name=d.name,a.current_proto=s,a.current_class=K,a.current_class_field=L,a.valueType=d.value_type,a.arrayType=-1==ay?-3:ay,a.className=d.className,ay=-1,d.className=null,d.name=null,s=null,K=null,L=0,o=b,m||(m=b),p.push(a),a4(),aA=as}return!0}function bd(){let a={protoDef:null,cls:null};return(a.protoDef=g.get(d.string))?d.className||(d.className=d.string,d.string=null):(a.protoDef=aI.get(d.string))&&!d.className&&(d.className=d.string,d.string=null),d.string&&(a.cls=q.find(a=>a.name===d.string),!a.protoDef&&!a.cls),a.protoDef||a.cls?a:null}if(!i)return -1;for(a&&a.length?((a0=aE()).buf=a,aM.push(a0)):(aP&&(aP=!1,d.value_type=B,aA==ar&&(aZ=!0),a2=1),aA!==ar&&a3("Unclosed object at end of stream.",r));i&&(a0=aM.shift());){if(f=a0.n,a1=a0.buf,aO){let a=a9(aN);a<0?i=!1:a>0&&(aO=!1,i&&(d.value_type=A))}for(aP&&ba();!aZ&&i&&f<a1.length;){if(c=a1.charAt(f),(r=a1.codePointAt(f++))>=65536&&(c+=a1.charAt(f),f++),e.col++,aD){if(1==aD)if(42==r)aD=3;else{if(47!=r)return a3("fault while parsing;",r);aD=2}else 2==aD?(10==r||13==r)&&(aD=0):3==aD?42==r&&(aD=4):aD=3*(47!=r);continue}switch(r){case 35:aD=2;break;case 47:aD=1;break;case 123:bb();break;case 91:bc();break;case 58:if(aA==aw)h=N,d.name=d.string,d.string="",d.value_type=w;else if(aA==at||aA==av)if(aA==av){if(!Object.keys(o).length){console.log("This is a full object, not a class def...",d.className);let a=()=>{};g.set(p.last.node.current_class.name,{protoCon:a.prototype.constructor,cb:null}),o=new a,aA=au,d.name=d.string,h=N,d.string="",d.value_type=w,console.log("don't do default;s do a revive...")}}else h!=N&&h!=ap&&h!=an&&h!=ao&&a8(32),h=N,d.name=d.string,d.string="",aA=aA===at?au:ax,d.value_type=w;else aA==ar?(console.log("Override colon found, allow class redefinition",aA),j=!0):(aA==as?a3("(in array, got colon out of string):parsing fault;",r):aA==au?a3("String unexpected",r):a3("(outside any object, got colon out of string):parsing fault;",r),i=!1);break;case 125:if(h==ap&&(h=N),aA==av)if(K){d.string&&K.fields.push(d.string),a4();let a=p.pop();aA=ar,h=N,d.name=a.name,o=a.elements,K=a.current_class,L=a.current_class_field,ay=a.arrayType,d.value_type=a.valueType,d.className=a.className,m=null,aC(a)}else a3("State error; gathering class fields, and lost the class",r);else if(aA==at||aA==aw){d.value_type!=w&&(K&&(d.name=K.fields[L++]),a7()),d.value_type=C,s&&s.protoDef&&(console.log("SOMETHING SHOULD AHVE BEEN REPLACED HERE??",s),console.log("The other version only revives on init"),o=new s.protoDef.cb(o,void 0,void 0)),d.contains=o,d.string="";let a=p.pop();aA=a.context,d.name=a.name,o=a.elements,K=a.current_class,s=a.current_proto,L=a.current_class_field,ay=a.arrayType,d.value_type=a.valueType,d.className=a.className,aC(a),aA==ar&&(aZ=!0)}else if(aA==au){d.value_type===w&&a3("Fault while parsing; unexpected",r),a7(),d.value_type=C,d.contains=o,h=N;let a=p.pop();aA=a.context,d.name=a.name,o=a.elements,s=a.current_proto,K=a.current_class,L=a.current_class_field,ay=a.arrayType,d.value_type=a.valueType,d.className=a.className,aC(a),aA==ar&&(aZ=!0)}else a3("Fault while parsing; unexpected",r),i=!1;k=!1;break;case 93:if(h>=ao&&(h=N),aA==as){d.value_type!=w&&a6(),d.contains=o;{let a=p.pop();d.name=a.name,d.className=a.className,aA=a.context,o=a.elements,s=a.current_proto,K=a.current_class,L=a.current_class_field,ay=a.arrayType,d.value_type=a.valueType,aC(a)}d.value_type=I,aA==ar&&(aZ=!0)}else a3(`bad context ${aA}; fault while parsing`,r),i=!1;k=!1;break;case 44:h<ao&&h!=N&&a8(r),(h==ap||h==an)&&(h=N),aA==av?K?(K.fields.push(d.string),d.string="",h=an):a3("State error; gathering class fields, and lost the class",r):aA==at?K?(d.name=K.fields[L++],d.value_type!=w&&(a7(),a4())):(d.string||d.value_type)&&a3("State error; comma in field name and/or lost the class",r):aA==aw?(K?(-3==ay||d.name||(d.name=K.fields[L++]),d.value_type!=w&&(-3!=ay&&a7(),a4())):d.value_type!=w&&(a7(),a4()),d.name=null):aA==as?(d.value_type==w&&(d.value_type=H),a6(),a4(),h=N):aA==au&&d.value_type!=w?(aA=at,d.value_type!=w&&(a7(),a4()),h=N):(i=!1,a3("bad context; excessive commas while parsing;",r)),k=!1;break;default:switch(r){default:if(aA==ar||aA==au&&h==an||aA==at||h==an||aA==av)switch(r){case 96:case 34:case 39:h==N||h==an?(d.string.length&&(console.log("IN ARRAY AND FIXING?"),d.className=d.string,d.string=""),a9(r)?d.value_type=A:(aN=r,aO=!0)):a3("fault while parsing; quote not at start of field name",r);break;case 10:e.line++,e.col=1;case 13:case 32:case 8232:case 8233:case 9:case 65279:if(aA===ar&&h===ap){h=N,aA===ar&&(aZ=!0);break}if(h===N||h===ao)aA==ar&&d.value_type&&(aZ=!0);else if(h===an){if(aA===ar){h=N,aZ=!0;break}d.string.length&&console.log("STEP TO NEXT TOKEN."),h=ao}else i=!1,a3("fault while parsing; whitepsace unexpected",r);break;default:if(u){let a=aR.find(a=>a.firstChar>=r&&a.lastChar>r);if(a&&a.bits[(r-a.firstChar)/24]&1<<(r-a.firstChar)%24){i=!1,a3(`fault while parsing object field name; \\u${r}`,r);break}}if(h==N&&(r>=48&&r<=57||43==r||46==r||45==r)){aG=!1,aJ=!1,a$=!1,a_=!1,aK=!1,aL=!1,aH=!1,d.string=c,a0.n=f,ba();break}if(h===ao&&(i=!1,a3("fault while parsing; character unexpected",r)),h===N){h=an,d.value_type=A,d.string+=c;break}if(d.value_type==w)h!==N&&h!==ap&&a8(r);else{if(h===ap||h===an){d.string+=c;break}if(aA==at){if(h==an){d.string+=c;break}a3("Multiple values found in field name",r)}aA==au&&a3("String unexpected",r)}}else h==N&&(r>=48&&r<=57||43==r||46==r||45==r)?(aG=!1,aJ=!1,a$=!1,a_=!1,aK=!1,aL=!1,aH=!1,d.string=c,a0.n=f,ba()):d.value_type==w?h!=N?a8(r):(h=ap,d.string+=c,d.value_type=A):aA==at?a3("Multiple values found in field name",r):aA==au?(d.value_type!=A&&((d.value_type==C||d.value_type==I)&&a3("String unexpected",r),a8(r)),h==ao?bd()?d.string=c:a3("String unexpected",r):h==ap?d.string+=c:a3("String unexpected",r)):aA==as&&(h==ao?(d.className||(d.className=d.string,d.string=""),d.string+=c):h==ap&&(d.string+=c));break;case 96:case 34:case 39:d.string&&(d.className=d.string),d.string="",a9(r)?(d.value_type=A,h=ap):(aN=r,aO=!0);break;case 10:e.line++,e.col=1;case 32:case 9:case 13:case 8232:case 8233:case 65279:if(h==ap){if(aA==ar){h=N,aZ=!0;break}else if(aA==au){h=aq;break}else if(aA==at){h=ao;break}else if(aA==as){h=ao;break}}h==N||h==ao||(h==an?d.string.length&&(h=ao):h<ap&&a8(r));break;case 116:h==N?h=O:h==al?h=am:a8(r);break;case 114:h==O?h=P:a8(r);break;case 117:h==P?h=Q:h==V?h=W:h==N?h=Y:a8(r);break;case 101:h==Q?(d.value_type=y,h=ap):h==U?(d.value_type=z,h=ap):h==$?h=_:h==ac?h=ad:a8(r);break;case 110:h==N?h=V:h==Y?h=Z:h==ab?h=ac:h==ag?h=ah:h==aj?h=ak:a8(r);break;case 100:h==Z?h=$:h==ad?(d.value_type=v,h=ap):a8(r);break;case 105:h==aa?h=ab:h==ai?h=aj:h==ak?h=al:a8(r);break;case 108:h==W?h=X:h==X?(d.value_type=x,h=ap):h==S?h=T:a8(r);break;case 102:h==N?h=R:h==_?h=aa:h==ah?h=ai:a8(r);break;case 97:h==R?h=S:h==ae?h=af:a8(r);break;case 115:h==T?h=U:a8(r);break;case 73:h==N?h=ag:a8(r);break;case 78:h==N?h=ae:h==af?(d.value_type=k?D:E,k=!1,h=ap):a8(r);break;case 121:h==am?(d.value_type=k?F:G,k=!1,h=ap):a8(r);break;case 45:h==N?k=!k:a8(r);break;case 43:h!==N&&a8(r)}}if(aZ){h==ap&&(h=N);break}}if(f==a1.length?(aF(a0),aO||aP||aA==at?a2=0:aA==ar&&(d.value_type!=w||l)&&(aZ=!0,a2=1)):(a0.n=f,aM.unshift(a0),a2=2),aZ){m=null;break}}return i?(aZ&&d.value_type!=w&&(h=N,l=a5(),k=!1,d.string="",d.value_type=w),aZ=!1,a2):-1}}};let aK=[Object.freeze(s.begin())],aL=0;function aM(){return this&&this.valueOf()}s.parse=function(a,b){let c,d=aL++;aK.length<=d&&aK.push(Object.freeze(s.begin())),c=aK[d],"string"!=typeof a&&(a=String(a)),c.reset();let e=c._write(a,!0);if(e>0){let a=c.value();if(void 0===a&&e>1)throw Error("Pending value could not complete");return a="function"==typeof b?function a(c,d){let e,f,g=c[d];if(g&&"object"==typeof g)for(e in g)Object.prototype.hasOwnProperty.call(g,e)&&(void 0!==(f=a(g,e))?g[e]=f:delete g[e]);return b.call(c,d,g)}({"":a},""):a,aL--,a}c.finalError()},s.defineClass=function(a,b){let c,d=Object.keys(b);for(let a=1;a<d.length;a++){let b,c;(b=d[a-1])>(c=d[a])&&(d[a-1]=c,d[a]=b,a?a-=2:a--)}aJ.push(c={name:a,tag:d.toString(),proto:Object.getPrototypeOf(b),fields:Object.keys(b)});for(let a=1;a<c.fields.length;a++)if(c.fields[a]<c.fields[a-1]){let b=c.fields[a-1];c.fields[a-1]=c.fields[a],c.fields[a]=b,a>1&&(a-=2)}c.proto===Object.getPrototypeOf({})&&(c.proto=null)},s.toJSOX=s.registerToJSOX=function(a,b,c){if(b.prototype&&b.prototype===Object.prototype){let d=Object.keys(b).toString();if(aH.get(d))throw Error("Existing toJSOX has been registered for object type");aH.set(d,{external:!0,name:a,cb:c})}else{if(aG.get(b.prototype))throw Error("Existing toJSOX has been registered for prototype");aG.set(b.prototype,{external:!0,name:a||c.constructor.name,cb:c})}},s.fromJSOX=function(a,b,c){function d(){}if(b||(b=d.prototype),aI.get(a))throw Error("Existing fromJSOX has been registered for prototype");if(b&&!("constructor"in b))throw Error("Please pass a prototype like thing...");aI.set(a,{protoCon:b.prototype.constructor,cb:c})},s.registerFromJSOX=function(a,b){throw Error("deprecated; please adjust code to use fromJSOX:"+a+b.toString())},s.addType=function(a,b,c,d){s.toJSOX(a,b,c),s.fromJSOX(a,b,d)},s.registerToFrom=function(a,b){throw Error("registerToFrom deprecated; please use addType:"+a+b.toString())},s.stringifier=function(){let a=[],b='"',c=new WeakMap,d=[],e=[],f=new WeakMap,g=new Map,h=null,i=[],j=!1;function k(a){return"string"==typeof a&&""===a?'""':"number"!=typeof a||isNaN(a)?a.includes("\uFEFF")||a in ay||/[0-9\-]/.test(a[0])||/[\n\r\t #\[\]{}()<>\~!+*/.:,\-"'`]/.test(a)?b+s.escape(a)+b:a:"'"+a.toString()+"'"}aG.get(Object.prototype)||(aG.set(Object.prototype,{external:!1,name:Object.prototype.constructor.name,cb:null}),aG.set(Date.prototype,{external:!1,name:"Date",cb:function(){if(-621672192e5===this.getTime())return"0000-01-01T00:00:00.000Z";let a=-this.getTimezoneOffset(),b=a>=0?"+":"-",c=function(a){let b=Math.floor(Math.abs(a));return(b<10?"0":"")+b},d=function(a){let b=Math.floor(Math.abs(a));return(b<100?"0":"")+(b<10?"0":"")+b};return this.getFullYear()+"-"+c(this.getMonth()+1)+"-"+c(this.getDate())+"T"+c(this.getHours())+":"+c(this.getMinutes())+":"+c(this.getSeconds())+"."+d(this.getMilliseconds())+b+c(a/60)+":"+c(a%60)}}),aG.set(az.prototype,{external:!1,name:"DateNS",cb:function(){let a=-this.getTimezoneOffset(),b=a>=0?"+":"-",c=function(a){let b=Math.floor(Math.abs(a));return(b<10?"0":"")+b},d=function(a){let b=Math.floor(Math.abs(a));return(b<100?"0":"")+(b<10?"0":"")+b},e=function(a){let b=Math.floor(Math.abs(a));return(b<1e5?"0":"")+(b<1e4?"0":"")+(b<1e3?"0":"")+(b<100?"0":"")+(b<10?"0":"")+b};return this.getFullYear()+"-"+c(this.getMonth()+1)+"-"+c(this.getDate())+"T"+c(this.getHours())+":"+c(this.getMinutes())+":"+c(this.getSeconds())+("."+d(this.getMilliseconds()))+e(this.ns)+b+c(a/60)+":"+c(a%60)}}),aG.set(Boolean.prototype,{external:!1,name:"Boolean",cb:aM}),aG.set(Number.prototype,{external:!1,name:"Number",cb:function(){return isNaN(this)?"NaN":isFinite(this)?String(this):this<0?"-Infinity":"Infinity"}}),aG.set(String.prototype,{external:!1,name:"String",cb:function(){return'"'+s.escape(aM.apply(this))+'"'}}),"function"==typeof BigInt&&aG.set(BigInt.prototype,{external:!1,name:"BigInt",cb:function(){return this+"n"}}),aG.set(ArrayBuffer.prototype,{external:!0,name:"ab",cb:function(){return"["+k(aP(this))+"]"}}),aG.set(Uint8Array.prototype,{external:!0,name:"u8",cb:function(){return"["+k(aP(this.buffer))+"]"}}),aG.set(Uint8ClampedArray.prototype,{external:!0,name:"uc8",cb:function(){return"["+k(aP(this.buffer))+"]"}}),aG.set(Int8Array.prototype,{external:!0,name:"s8",cb:function(){return"["+k(aP(this.buffer))+"]"}}),aG.set(Uint16Array.prototype,{external:!0,name:"u16",cb:function(){return"["+k(aP(this.buffer))+"]"}}),aG.set(Int16Array.prototype,{external:!0,name:"s16",cb:function(){return"["+k(aP(this.buffer))+"]"}}),aG.set(Uint32Array.prototype,{external:!0,name:"u32",cb:function(){return"["+k(aP(this.buffer))+"]"}}),aG.set(Int32Array.prototype,{external:!0,name:"s32",cb:function(){return"["+k(aP(this.buffer))+"]"}}),aG.set(Float32Array.prototype,{external:!0,name:"f32",cb:function(){return"["+k(aP(this.buffer))+"]"}}),aG.set(Float64Array.prototype,{external:!0,name:"f64",cb:function(){return"["+k(aP(this.buffer))+"]"}}),aG.set(Float64Array.prototype,{external:!0,name:"f64",cb:function(){return"["+k(aP(this.buffer))+"]"}}),aG.set(RegExp.prototype,L={external:!0,name:"regex",cb:function(a,b){return"'"+escape(this.source)+"'"}}),aI.set("regex",{protoCon:RegExp,cb:function(a,b){return new RegExp(this)}}),aG.set(Map.prototype,L={external:!0,name:"map",cb:null}),aI.set("map",{protoCon:Map,cb:function(a,b){return a?void this.set(a,b):this}}),aG.set(Array.prototype,K={external:!1,name:Array.prototype.constructor.name,cb:null}));let l={defineClass(b,c){let d,e=Object.keys(c);for(let a=1;a<e.length;a++){let b,c;(b=e[a-1])>(c=e[a])&&(e[a-1]=c,e[a]=b,a?a-=2:a--)}a.push(d={name:b,tag:e.toString(),proto:Object.getPrototypeOf(c),fields:Object.keys(c)});for(let a=1;a<d.fields.length;a++)if(d.fields[a]<d.fields[a-1]){let b=d.fields[a-1];d.fields[a-1]=d.fields[a],d.fields[a]=b,a>1&&(a-=2)}d.proto===Object.getPrototypeOf({})&&(d.proto=null)},setDefaultObjectToJSOX(a){h=a},isEncoding:a=>!!e.find((b,c)=>b===a&&c<e.length-1),encodeObject(a){return h?h.apply(a,[this]):a},stringify:(a,b,c)=>p(a,b,c),setQuote(a){b=a},registerToJSOX(a,b,c){return this.toJSOX(a,b,c)},toJSOX(a,b,c){if(b.prototype&&b.prototype!==Object.prototype){if(f.get(b.prototype))throw Error("Existing toJSOX has been registered for prototype");f.set(b.prototype,{external:!0,name:a||c.constructor.name,cb:c})}else{let d=Object.keys(b).toString();if(g.get(d))throw Error("Existing toJSOX has been registered for object type");g.set(d,{external:!0,name:a,cb:c})}},get ignoreNonEnumerable(){return j},set ignoreNonEnumerable(val){j=val}};return l;function m(a){if(null===a)return;let b=c.get(a);return b?"ref"+b:void c.set(a,q.stringify(d))}function o(b,c){let d,e,f=Object.getPrototypeOf(b);if(e=a.find(a=>{if(a.proto&&a.proto===f)return!0}))return e;if(a.length||aJ.length){if(c)d=(c=c.map(a=>"string"==typeof a?a:void 0)).toString();else{let a=Object.keys(b);for(let b=1;b<a.length;b++){let c,d;(c=a[b-1])>(d=a[b])&&(a[b-1]=d,a[b]=c,b?b-=2:b--)}d=a.toString()}(e=a.find(a=>{if(a.tag===d)return!0}))||(e=aJ.find(a=>{if(a.tag===d)return!0}))}return e}function p(b,p,q){let r,s,t,u;if(void 0===b)return"undefined";if(null===b)return;let v=typeof q,w=typeof p;if(r="",s="","number"===v)for(u=0;u<q;u+=1)s+=" ";else"string"===v&&(s=q);if(t=p,p&&"function"!==w&&("object"!==w||"number"!=typeof p.length))throw Error("JSOX.stringify");d.length=0,c=new WeakMap;let x=y("",{"":b});return aJ.length=0,x;function y(b,c){var p=r;let q=K.cb,u=L.cb;K.cb=w,L.cb=x;let v=z(b,c);return K.cb=q,L.cb=u,v;function w(){let a=[],b=d.length;for(let c=0;c<this.length;c+=1)d[b]=c,a[c]=y(c,this)||"null";return d.length=b,e.length=b,0===a.length?"[]":r?"[\n"+r+a.join(",\n"+r)+"\n"+p+"]":"["+a.join(",")+"]"}function x(){let a={tmp:null},b="{",c=!0;for(let[e,f]of this){a.tmp=f;let g=d.length;d[g]=e,b+=(c?"":",")+k(e)+":"+y("tmp",a),d.length=g,c=!1}return b+"}"}function z(b,c){let q,u,v,w,x,z,A,B=d.length,C=!0,D=c[b],E="object"==typeof D;E&&null!==D&&h&&!i.find(a=>a===D)&&(i.push(D),e[B]=D,C=!1,E="object"==typeof(D=h.apply(D,[l])),i.pop(),e.length=B,E="object"==typeof D);let F=null!=D&&Object.getPrototypeOf(D),G=F&&(f.get(F)||aG.get(F)||null),H=!G&&null!=D&&(g.get(Object.keys(D).toString())||aH.get(Object.keys(D).toString())||null);"function"==typeof t&&(C=!1,D=t.call(c,b,D));let I=G&&G.cb||H&&H.cb;if(null!=D&&"object"==typeof D&&"function"==typeof I)if(i.find(a=>a===D))v=m(D);else{if("object"==typeof D&&(v=m(D)))return v;i.push(D),e[B]=D,D=I.call(D,l),C=!1,i.pop(),G&&G.name&&"string"==typeof D&&"-"!==D[0]&&(D[0]<"0"||D[0]>"9")&&'"'!==D[0]&&"'"!==D[0]&&"`"!==D[0]&&"["!==D[0]&&"{"!==D[0]&&(D=" "+D),e.length=B}else if("object"==typeof D&&(v=m(D)))return v;switch(typeof D){case"bigint":return D+"n";case"string":{D=C?k(D):D;let c="";if(""===b&&(c=a.map(a=>a.name+"{"+a.fields.join(",")+"}").join(r?"\n":"")+aJ.map(a=>a.name+"{"+a.fields.join(",")+"}").join(r?"\n":"")+(r?"\n":"")),G&&G.external)return c+G.name+D;if(H&&H.external)return c+H.name+D;return c+D}case"number":case"boolean":case"null":return String(D);case"object":if(v)return"ref"+v;if(!D)return"null";if(r+=s,x=null,z=[],t&&"object"==typeof t){for(q=0,w=t.length,x=o(D,t);q<w;q+=1)"string"==typeof t[q]&&(u=t[q],d[B]=u,void 0!==(v=y(u,D))&&(x?z.push(v):z.push(k(u)+(r?": ":":")+v)));d.splice(B,1)}else{x=o(D);let a=[];for(u in D)if((!j||Object.prototype.propertyIsEnumerable.call(D,u))&&Object.prototype.hasOwnProperty.call(D,u)){let b;for(b=0;b<a.length;b++)if(a[b]>u){a.splice(b,0,u);break}b==a.length&&a.push(u)}for(let b=0;b<a.length;b++)u=a[b],Object.prototype.hasOwnProperty.call(D,u)&&(d[B]=u,void 0!==(v=y(u,D))&&(x?z.push(v):z.push(k(u)+(r?": ":":")+v)));d.splice(B,1)}A=""===b?(a.map(a=>a.name+"{"+a.fields.join(",")+"}").join(r?"\n":"")||aJ.map(a=>a.name+"{"+a.fields.join(",")+"}").join(r?"\n":""))+(r?"\n":""):"",G&&G.external&&(A+=k(G.name));let J=null;return x&&(J=k(x.name)),v=A+(0===z.length?"{}":r?(x?J:"")+"{\n"+r+z.join(",\n"+r)+"\n"+p+"}":(x?J:"")+"{"+z.join(",")+"}"),r=p,v}}}}};let aN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789$_",aO={"~":-1,"=":-1,$:62,_:63,"+":62,"-":62,".":62,"/":63,",":63};for(let a=0;a<aN.length;a++)aO[aN[a]]=a;function aP(a){let b,c,d,e,f,g="",h=new Uint8Array(a),i=h.byteLength,j=i%3,k=i-j;for(let a=0;a<k;a+=3)b=(0xfc0000&(f=h[a]<<16|h[a+1]<<8|h[a+2]))>>18,c=(258048&f)>>12,d=(4032&f)>>6,e=63&f,g+=aN[b]+aN[c]+aN[d]+aN[e];return 1==j?(b=(252&(f=h[k]))>>2,c=(3&f)<<4,g+=aN[b]+aN[c]+"=="):2==j&&(b=(64512&(f=h[k]<<8|h[k+1]))>>10,c=(1008&f)>>4,d=(15&f)<<2,g+=aN[b]+aN[c]+aN[d]+"="),g}function aQ(a){let b,c,d=new ArrayBuffer(b=a.length%4==1?((a.length+3)/4|0)*3-3:a.length%4==2?((a.length+3)/4|0)*3-2:a.length%4==3?((a.length+3)/4|0)*3-1:-1==aO[a[a.length-3]]?((a.length+3)/4|0)*3-3:-1==aO[a[a.length-2]]?((a.length+3)/4|0)*3-2:-1==aO[a[a.length-1]]?((a.length+3)/4|0)*3-1:((a.length+3)/4|0)*3),e=new Uint8Array(d),f=a.length+3>>2;for(c=0;c<f;c++){let b=aO[a[4*c]],d=4*c+1<a.length?aO[a[4*c+1]]:-1,f=d>=0&&4*c+2<a.length?aO[a[4*c+2]]:-1,g=f>=0&&4*c+3<a.length?aO[a[4*c+3]]:-1;d>=0&&(e[3*c+0]=b<<2|d>>4),f>=0&&(e[3*c+1]=d<<4|f>>2&15),g>=0&&(e[3*c+2]=f<<6|63&g)}return d}Object.freeze(aO),s.stringify=function(a,b,c){return s.stringifier().stringify(a,b,c)};let aR=[[0,256,[0xffd9ff,0xff6aff,130048,3670016,0,0xfffff8,0xffffff,8388607]]].map(a=>({firstChar:a[0],lastChar:a[1],bits:a[2]}));function aS({propsString:a}){let b={},c="",d=!0;for(let e=0;e<a.length;e++){let f=a[e];if(d)"="===f||" "===f?c&&(" "===f?(b[c]=!0,c=""):d=!1):c+=f;else{let f=aT(a,e);b[c]=f.value,e=f.newIndex,c="",d=!0}}return c&&(b[c]=!0),b}function aT(a,b){let c=a[b];return'"'===c?aV(a,b):"'"===c?aV(a,b,!0):"{"===c?aW(a,b):"["===c?aU(a,b):aY(a,b)}function aU(a,b){let c=1,d="",e=b+1;for(;e<a.length&&c>0;)"["===a[e]?c++:"]"===a[e]&&c--,c>0&&(d+=a[e]),e++;return{newIndex:e,value:s.parse(`[${d}]`)}}function aV(a,b,c=!1){let d="",e=b+1;for(;e<a.length&&(a[e]!==(c?"'":'"')||"\\"===a[e-1]);)d+=a[e],e++;return{newIndex:e,value:d}}function aW(a,b){let c=1,d="",e=b+1;for(;e<a.length&&c>0;)"{"===a[e]?c++:"}"===a[e]&&c--,c>0&&(d+=a[e]),e++;return{newIndex:e,value:aX(d)}}function aX(a){return"{"!==a[0]?s.parse(a):s.parse(a.replace(/(\w+):/g,'"$1":'))}function aY(a,b){let c="",d=b;for(;d<a.length&&" "!==a[d];)c+=a[d],d++;return{newIndex:d-1,value:c}}function aZ({props:a}){let b=[];for(let[c,d]of Object.entries(a))"string"==typeof d?b.push(`${c}="${a$(d)}"`):"number"==typeof d?b.push(`${c}={${d}}`):"boolean"==typeof d?d&&b.push(`${c}`):null!==d&&"object"==typeof d&&(Array.isArray(d)?b.push(`${c}={[${d.map(a=>JSON.stringify(a,a_)).join(", ")}]}`):b.push(`${c}={${JSON.stringify(d,a_)}}`));return b.join(" ")}function a$(a){return a.replace(/"/g,"&quot;")}function a_(a,b){return"string"==typeof b?b.replace(/'/g,"\\'"):b}function a0(a){let b=(0,o.ieJ)(a);return b._headless=!0,["registerDecoratorListener","registerRootListener","registerMutationListener","getRootElement","setRootElement","getElementByKey","focus","blur"].forEach(a=>{b[a]=()=>{throw Error(`${a} is not supported in headless mode`)}}),b}var a1=c(16717),a2=c(48925);let a3={markdownFormatKind:null,regEx:/(?:)/,regExForAutoFormatting:/(?:)/,requiresParagraphStart:!1},a4={...a3,requiresParagraphStart:!0};function a5(a){return(b,c)=>(0,a2.Pi)(b)&&b.getTag()==="h"+a?"#".repeat(a)+" "+c(b):null}a5(1),a5(2),a5(3),a5(4),a5(5),a5(6);function a6(a,b){let c={};for(let d of a){let a=b(d);a&&(c[a]?c[a].push(d):c[a]=[d])}return c}function a7(a){let b=a6(a,a=>a.type);return{element:b.element||[],multilineElement:b["multiline-element"]||[],textFormat:b["text-format"]||[],textMatch:b["text-match"]||[]}}let a8=/[!-/:-@[-`{-~\s]/,a9=/^\s{0,3}$/;function ba(a){if(!(0,o.bSg)(a))return!1;let b=a.getFirstChild();return null==b||1===a.getChildrenSize()&&(0,o.kFe)(b)&&a9.test(b.getTextContent())}function bb(a,b=!1){let c=a7(a),d=[...c.multilineElement,...c.element],e=!b,f=c.textFormat.filter(a=>1===a.format.length).sort((a,b)=>a.format.includes("code")&&!b.format.includes("code")?1:!a.format.includes("code")&&b.format.includes("code")?-1:0);return a=>{let b=[],g=(a||(0,o.NiT)()).getChildren();return g.forEach((a,h)=>{let i=bc(a,d,f,c.textMatch);null!=i&&b.push(e&&h>0&&!ba(a)&&!ba(g[h-1])?"\n".concat(i):i)}),b.join("\n")}}function bc(a,b,c,d){for(let e of b){if(!e.export)continue;let b=e.export(a,a=>bd(a,c,d));if(null!=b)return b}return(0,o.ff4)(a)?bd(a,c,d):(0,o.Cyw)(a)?a.getTextContent():null}function bd(a,b,c,d,e){let f=[],g=a.getChildren();d||(d=[]),e||(e=[]);b:for(let a of g){for(let g of c){if(!g.export)continue;let h=g.export(a,a=>bd(a,b,c,d,[...e,...d]),(a,c)=>be(a,c,b,d,e));if(null!=h){f.push(h);continue b}}(0,o.wH$)(a)?f.push("\n"):(0,o.kFe)(a)?f.push(be(a,a.getTextContent(),b,d,e)):(0,o.ff4)(a)?f.push(bd(a,b,c,d,e)):(0,o.Cyw)(a)&&f.push(a.getTextContent())}return f.join("")}function be(a,b,c,d,e){let f=b.trim(),g=f;a.hasFormat("code")||(g=g.replace(/([*_`~\\])/g,"\\$1"));let h="",i="",j="",k=bf(a,!0),l=bf(a,!1),m=new Set;for(let b of c){let c=b.format[0],e=b.tag;bg(a,c)&&!m.has(c)&&(m.add(c),bg(k,c)&&d.find(a=>a.tag===e)||(d.push({format:c,tag:e}),h+=e))}for(let b=0;b<d.length;b++){let c=d[b],f=bg(a,c.format),g=bg(l,c.format);if(f&&g)continue;let h=[...d];for(;h.length>b;){let a=h.pop();e&&a&&e.find(b=>b.tag===a.tag)||(a&&"string"==typeof a.tag&&(f?g||(j+=a.tag):i+=a.tag),d.pop())}break}return g=h+g+j,i+b.replace(f,()=>g)}function bf(a,b){let c=b?a.getPreviousSibling():a.getNextSibling();if(!c){let d=a.getParentOrThrow();d.isInline()&&(c=b?d.getPreviousSibling():d.getNextSibling())}for(;c;){if((0,o.ff4)(c)){if(!c.isInline())break;let a=b?c.getLastDescendant():c.getFirstDescendant();if((0,o.kFe)(a))return a;c=b?c.getPreviousSibling():c.getNextSibling()}if((0,o.kFe)(c))return c;if(!(0,o.ff4)(c))break}return null}function bg(a,b){return(0,o.kFe)(a)&&a.hasFormat(b)}var bh=c(86861);function bi(a,b){let c=bj(a.getTextContent(),b);if(!c)return null;let d=c.index||0,e=d+c[0].length,f=b.transformersByTag[c[1]];return{endIndex:e,match:c,startIndex:d,transformer:f}}function bj(a,b){let c=a.match(b.openTagsRegExp);if(null==c)return null;for(let d of c){let c=d.replace(/^\s/,""),e=b.fullMatchRegExpByTag[c];if(null==e)continue;let f=a.match(e),g=b.transformersByTag[c];if(null!=f&&null!=g){if(!1!==g.intraword)return f;let{index:b=0}=f,c=a[b-1],d=a[b+f[0].length];if((!c||a8.test(c))&&(!d||a8.test(d)))return f}}return null}function bk(a,b,c,d,e){let f,g,h,i=a.getTextContent();if(e[0]===i?h=a:0===b?[h,f]=a.splitText(c):[g,h,f]=a.splitText(b,c),h.setTextContent(e[2]),d)for(let a of d.format)h.hasFormat(a)||h.toggleFormat(a);return{nodeAfter:f,nodeBefore:g,transformedNode:h}}function bl(a,b){let c,d,e,f,g=a;for(let a of b){if(!a.replace||!a.importRegExp)continue;let b=g.getTextContent().match(a.importRegExp);if(!b)continue;let h=b.index||0,i=a.getEndIndex?a.getEndIndex(g,b):h+b[0].length;!1!==i&&(void 0===c||void 0===d||h<c&&i>d)&&(c=h,d=i,e=a,f=b)}return void 0===c||void 0===d||void 0===e||void 0===f?null:{endIndex:d,match:f,startIndex:c,transformer:e}}function bm(a,b,c,d,e){let f,g,h;return(0===b?[h,f]=a.splitText(c):[g,h,f]=a.splitText(b,c),d.replace)?{nodeAfter:f,nodeBefore:g,transformedNode:(h?d.replace(h,e):void 0)||void 0}:null}function bn(a,b,c){let d=bi(a,b),e=bl(a,c);if(d&&e&&(d.startIndex<=e.startIndex&&d.endIndex>=e.endIndex?e=null:d=null),d){let e=bk(a,d.startIndex,d.endIndex,d.transformer,d.match);e.nodeAfter&&(0,o.kFe)(e.nodeAfter)&&!e.nodeAfter.hasFormat("code")&&bn(e.nodeAfter,b,c),e.nodeBefore&&(0,o.kFe)(e.nodeBefore)&&!e.nodeBefore.hasFormat("code")&&bn(e.nodeBefore,b,c),e.transformedNode&&(0,o.kFe)(e.transformedNode)&&!e.transformedNode.hasFormat("code")&&bn(e.transformedNode,b,c)}else if(e){let d=bm(a,e.startIndex,e.endIndex,e.transformer,e.match);if(!d)return;d.nodeAfter&&(0,o.kFe)(d.nodeAfter)&&!d.nodeAfter.hasFormat("code")&&bn(d.nodeAfter,b,c),d.nodeBefore&&(0,o.kFe)(d.nodeBefore)&&!d.nodeBefore.hasFormat("code")&&bn(d.nodeBefore,b,c),d.transformedNode&&(0,o.kFe)(d.transformedNode)&&!d.transformedNode.hasFormat("code")&&bn(d.transformedNode,b,c)}let f=a.getTextContent().replace(/\\([*_`~])/g,"$1");a.setTextContent(f)}function bo(a,b=!1){let c=a7(a),d=br(c.textFormat);return(a,e)=>{let f=a.split("\n"),g=f.length,h=e||(0,o.NiT)();h.clear();for(let a=0;a<g;a++){let b=f[a],[e,g]=bp(f,a,c.multilineElement,h);if(e){a=g;continue}bq(b,h,c.element,d,c.textMatch)}for(let a of h.getChildren())!b&&ba(a)&&h.getChildrenSize()>1&&a.remove();null!==(0,o.vJq)()&&h.selectStart()}}function bp(a,b,c,d){for(let e of c){let{handleImportAfterStartMatch:c,regExpEnd:f,regExpStart:g,replace:h}=e,i=a[b]?.match(g);if(!i)continue;if(c){let f=c({lines:a,rootNode:d,startLineIndex:b,startMatch:i,transformer:e});if(null===f)continue;if(f)return f}let j="object"==typeof f&&"regExp"in f?f.regExp:f,k=f&&"object"==typeof f&&"optional"in f?f.optional:!f,l=b,m=a.length;for(;l<m;){let c=j?a[l]?.match(j):null;if(!c&&(!k||k&&l<m-1)||c&&b===l&&c.index===i.index){l++;continue}let e=[];if(c&&b===l)e.push(a[b].slice(i[0].length,-c[0].length));else for(let d=b;d<=l;d++){let f=a[d];if(d===b){let a=f.slice(i[0].length);e.push(a)}else if(d===l&&c){let a=f.slice(0,-c[0].length);e.push(a)}else e.push(f)}if(!1!==h(d,null,i,c,e,!0))return[!0,l];break}}return[!1,b]}function bq(a,b,c,d,e){let f=(0,o.sTu)(a),g=(0,o.lJ7)();for(let{regExp:d,replace:e}of(g.append(f),b.append(g),c)){let b=a.match(d);if(b&&(f.setTextContent(a.slice(b[0].length)),!1!==e(g,[f],b,!0)))break}if(bn(f,d,e),g.isAttached()&&a.length>0){let a=g.getPreviousSibling();if((0,o.bSg)(a)||(0,a2.jd)(a)||(0,a1.HY)(a)){let b=a;if((0,a1.HY)(a)){let c=a.getLastDescendant();b=null==c?null:(0,bh.Bt)(c,a1.Mz)}null!=b&&b.getTextContentSize()>0&&(b.splice(b.getChildrenSize(),0,[(0,o.WKo)(),...g.getChildren()]),g.remove())}}}function br(a){let b={},c={},d=[],e="(?<![\\\\])";for(let e of a){let{tag:a}=e;b[a]=e;let f=a.replace(/([*^+])/g,"\\$1");d.push(f),1===a.length?c[a]=RegExp(`(?<![\\\\${f}])(${f})((\\\\${f})?.*?[^${f}\\s](\\\\${f})?)((?<!\\\\)|(?<=\\\\\\\\))(${f})(?![\\\\${f}])`):c[a]=RegExp(`(?<!\\\\)(${f})((\\\\${f})?.*?[^\\s](\\\\${f})?)((?<!\\\\)|(?<=\\\\\\\\))(${f})(?!\\\\)`)}return{fullMatchRegExpByTag:c,openTagsRegExp:RegExp(`${e}(${d.join("|")})`,"g"),transformersByTag:b}}let bs=/^[\t ]*$/,bt=/^(\s*)(\d+)\.\s/,bu=/^(\s*)[-*+]\s/,bv=/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,bw=/^(#{1,6})\s/,bx=/^>\s/,by=/^[ \t]*(\\`\\`\\`|```)(\w+)?/,bz=/[ \t]*(\\`\\`\\`|```)$/,bA=/^[ \t]*```[^`]+(?:(?:`{1,2}|`{4,})[^`]+)*```(?:[^`]|$)/,bB=/^\|(.+)\|\s?$/,bC=/^(\| ?:?-*:? ?)+\|\s?$/,bD=/^[ \t]*<[a-z_][\w-]*(?:\s[^<>]*)?\/?>/i,bE=/^[ \t]*<\/[a-z_][\w-]*\s*>/i,bF=a=>(b,c,d)=>{let e=a(d);e.append(...c),b.replace(e),e.select(0,0)},bG=4;function bH(a){let b=a.match(/\t/g),c=a.match(/ /g),d=0;return b&&(d+=b.length),c&&(d+=Math.floor(c.length/bG)),d}let bI=a=>(b,c,d)=>{let e=b.getPreviousSibling(),f=b.getNextSibling(),g=(0,a1.i)("check"===a?"x"===d[3]:void 0);if((0,a1.HY)(f)&&f.getListType()===a){let a=f.getFirstChild();null!==a?a.insertBefore(g):f.append(g),b.remove()}else if((0,a1.HY)(e)&&e.getListType()===a)e.append(g),b.remove();else{let c=(0,a1.DE)(a,"number"===a?Number(d[2]):void 0);c.append(g),b.replace(c)}g.append(...c),g.select(0,0);let h=bH(d[1]);h&&g.setIndent(h)},bJ=(a,b,c)=>{let d=[],e=a.getChildren(),f=0;for(let g of e)if((0,a1.Mz)(g)){if(1===g.getChildrenSize()){let a=g.getFirstChild();if((0,a1.HY)(a)){d.push(bJ(a,b,c+1));continue}}let e=" ".repeat(c*bG),h=a.getListType(),i="number"===h?`${a.getStart()+f}. `:"check"===h?`- [${g.getChecked()?"x":" "}] `:"- ";d.push(e+i+b(g)),f++}return d.join("\n")},bK={type:"element",dependencies:[a2.jL],export:(a,b)=>{if(!(0,a2.Pi)(a))return null;let c=Number(a.getTag().slice(1));return"#".repeat(c)+" "+b(a)},regExp:bw,replace:bF(a=>{let b="h"+a[1].length;return(0,a2.fi)(b)})},bL={type:"element",dependencies:[a2.dJ],export:(a,b)=>{if(!(0,a2.jd)(a))return null;let c=b(a).split("\n"),d=[];for(let a of c)d.push("> "+a);return d.join("\n")},regExp:bx,replace:(a,b,c,d)=>{if(d){let c=a.getPreviousSibling();if((0,a2.jd)(c)){c.splice(c.getChildrenSize(),0,[(0,o.WKo)(),...b]),c.select(0,0),a.remove();return}}let e=(0,a2.xi)();e.append(...b),a.replace(e),e.select(0,0)}},bM={type:"element",dependencies:[a1.v5,a1.YW],export:(a,b)=>(0,a1.HY)(a)?bJ(a,b,0):null,regExp:bu,replace:bI("bullet")};function bN(a,b){let c=a.split("\n"),d=!1,e=[],f=0;for(let a=0;a<c.length;a++){let g=c[a],h=e[e.length-1];if(bA.test(g)){e.push(g);continue}if(bz.test(g)){0===f&&(d=!0),1===f&&(d=!1),f>0&&f--,e.push(g);continue}if(by.test(g)){d=!0,f++,e.push(g);continue}if(d){e.push(g);continue}bs.test(g)||bs.test(h)||!h||bw.test(h)||bw.test(g)||bx.test(g)||bt.test(g)||bu.test(g)||bv.test(g)||bB.test(g)||bC.test(g)||!b||bD.test(g)||bE.test(g)||bD.test(h)||bE.test(h)||bz.test(h)?e.push(g):e[e.length-1]=h+" "+g.trim()}return e.join("\n")}a1.v5,a1.YW,bI("check");let bO=[bK,bL,bM,{type:"element",dependencies:[a1.v5,a1.YW],export:(a,b)=>(0,a1.HY)(a)?bJ(a,b,0):null,regExp:bt,replace:bI("number")},{type:"text-format",format:["code"],tag:"`"},{type:"text-format",format:["bold","italic"],tag:"***"},{type:"text-format",format:["bold","italic"],intraword:!1,tag:"___"},{type:"text-format",format:["bold"],tag:"**"},{type:"text-format",format:["bold"],intraword:!1,tag:"__"},{type:"text-format",format:["highlight"],tag:"=="},{type:"text-format",format:["italic"],tag:"*"},{type:"text-format",format:["italic"],intraword:!1,tag:"_"},{type:"text-format",format:["strikethrough"],tag:"~~"}];function bP(a,b=bO,c,d=!1,e=!0){let f=d?a:bN(a,e);return bo(b,d)(f,c)}function bQ(a=bO,b,c=!1){return bb(a,c)(b)}function bR(a,b){return({editorState:c})=>{let d=a0({nodes:a});try{d.setEditorState(d.parseEditorState(c))}catch(a){console.error("getLexicalToMarkdown: ERROR parsing editor state",a)}let e="";return d.getEditorState().read(()=>{e=bQ(b)}),e}}function bS(a,b){return({markdown:c})=>{let d=a0({nodes:a});return d.update(()=>{bP(c,b)},{discrete:!0}),d.getEditorState().toJSON()}}var bT=c(4216),bU=c(77208);class bV extends bT.d{__cacheBuster;__fields;constructor({cacheBuster:a,fields:b,format:c,key:d}){super(c,d),this.__fields=b,this.__cacheBuster=a||0}static clone(a){return new this({cacheBuster:a.__cacheBuster,fields:a.__fields,format:a.__format,key:a.__key})}static getType(){return"block"}static importDOM(){return{}}static importJSON(a){1===a.version&&(a={...a,fields:{...a.fields.data},version:2});let b=bW(a.fields);return b.setFormat(a.format),b}static isInline(){return!1}createDOM(a){let b=document.createElement("div");return(0,bh.ZB)(b,a?.theme?.block),b}decorate(a,b){return null}exportDOM(){let a=document.createElement("div"),b=document.createTextNode(this.getTextContent());return a.append(b),{element:a}}exportJSON(){return{...super.exportJSON(),type:"block",fields:this.getFields(),version:2}}getCacheBuster(){return this.getLatest().__cacheBuster}getFields(){return this.getLatest().__fields}getTextContent(){return"Block Field"}setFields(a,b){let c=this.getWritable();c.__fields=a,!b&&c.__cacheBuster++}}function bW(a){return(0,o.pTq)(new bV({fields:{...a,id:a?.id||new bU.default().toHexString()}}))}function bX(a){return a instanceof bV}class bY extends o.Kp7{__cacheBuster;__fields;constructor({cacheBuster:a,fields:b,key:c}){super(c),this.__fields=b,this.__cacheBuster=a||0}static clone(a){return new this({cacheBuster:a.__cacheBuster,fields:a.__fields,key:a.__key})}static getType(){return"inlineBlock"}static importDOM(){return{}}static importJSON(a){return bZ(a.fields)}static isInline(){return!1}canIndent(){return!0}createDOM(a){let b=document.createElement("span");return(0,bh.ZB)(b,a?.theme?.inlineBlock),b}decorate(a,b){return null}exportDOM(){let a=document.createElement("span");a.classList.add("inline-block-container");let b=document.createTextNode(this.getTextContent());return a.append(b),{element:a}}exportJSON(){return{type:"inlineBlock",fields:this.getFields(),version:1}}getCacheBuster(){return this.getLatest().__cacheBuster}getFields(){return this.getLatest().__fields}getTextContent(){return"Block Field"}isInline(){return!0}setFields(a,b){let c=this.getWritable();c.__fields=a,!b&&c.__cacheBuster++}updateDOM(){return!1}}function bZ(a){return(0,o.pTq)(new bY({fields:{...a,id:a?.id||new bU.default().toHexString()}}))}function b$(a){return a instanceof bY}function b_({isEndOptional:a,lines:b,regexpEndRegex:c,startLineIndex:d,startMatch:e,trimChildren:f}){let g="",h="",i=b.slice(d),j=!1,k=0,l=0,m=null,o=!1,p=0,q=i[0].slice(0,e.index),r=0,s=d;b:for(let[d,q]of i.entries()){let t=f?q.trim():q,u=0;if(f)for(let a=0;a<q.length;a++)if(" "===q[a])u++;else break;let v=0;for(0===d&&(v=(e.index??0)+e[0].length-u);v<t.length;){let a=t[v],b=t[v+1];if(j){if("`"===a&&p++,p%2==0)if("<"===a&&"/"===b){if(--k<0){"\n"===h[h.length-1]&&(h=h.slice(0,-1)),s=d;for(let a=v;a<t.length;a++)if(">"===t[a]){r=a+1;break}break b}}else if("/"===a&&">"===b){if(--k<0){"\n"===h[h.length-1]&&(h=h.slice(0,-1)),s=d,r=v+2;break b}}else"<"===a&&"/"!==b&&k++;h+=a}else{if("{"!==a||m?"}"!==a||m?'"'!==a&&"'"!==a||m?a===m&&(m=null):m=a:l--:l++,"/"!==a||">"!==b||0!==l||m){if(">"===a&&0===l&&!m){j=!0,v++;continue}}else{o=!0,s=d,r=v+2;break b}g+=a}v++}if(j?h?.length>0&&d>0&&(h+="\n"):g+="\n",c&&k<0){let a=t.match(c);if(a?.index!==void 0){s=d,r=a.index+a[0].length-1;break}}if(d===i.length-1&&!a&&!o)throw Error("End match not found for lines "+b.join("\n")+"\n\n. Start match: "+JSON.stringify(e))}return{afterEndLine:i[s].trim().slice(r),beforeStartLine:q,content:h,endLineIndex:d+s,endlineLastCharIndex:r,propsString:g}}function b0(a){let b=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),c=`<${b}`,d=`</${b}`,e="\\s*",f=">",g=`${c}(?=\\s|>|$)`;return{regExpEnd:RegExp(`${d}${e}${f}`,"i"),regExpStart:RegExp(g,"i")}}let b1=({blocks:a,inlineBlocks:b})=>{if(!a?.length&&!b?.length)return[];let c=[];if(a?.length)for(let b of a){let a=b2(b,!1);a&&(c=c.concat(a))}if(b?.length)for(let a of b){let b=b2(a,!0);b&&(c=c.concat(b))}return c};function b2(a,b){if(!a.jsx)return null;let c=b0(a.slug),d=[];return b?d.push(({allNodes:b,allTransformers:d})=>({type:"text-match",dependencies:[bY],export:c=>{if(!b$(c)||c.getFields()?.blockType?.toLowerCase()!==a.slug.toLowerCase())return null;let e=c.getFields(),f=bR(p({nodes:b}),d),g=a.jsx.export({fields:e,lexicalToMarkdown:f});if(!1===g)return null;if("string"==typeof g)return g;let h=g.props&&Object.keys(g.props)?.length>0,i=g.props??{};return g?.children?.length?`<${e.blockType}${h?" "+aZ({props:i}):""}>${g.children}</${e.blockType}>`:`<${e.blockType}${h?" "+aZ({props:i}):""}/>`},getEndIndex:(a,b)=>{let{endlineLastCharIndex:d}=b_({isEndOptional:!1,lines:[a.getTextContent()],regexpEndRegex:c.regExpEnd,startLineIndex:0,startMatch:b,trimChildren:!1});return d},importRegExp:a.jsx?.customStartRegex??c.regExpStart,regExp:/___ignoreignoreignore___/g,replace(e,f){let{content:g,propsString:h}=b_({isEndOptional:!1,lines:[e.getTextContent()],regexpEndRegex:c.regExpEnd,startLineIndex:0,startMatch:{...f,index:0},trimChildren:!1});if(!a?.jsx?.import)return;let i=bS(p({nodes:b}),d),j=a.jsx.import({children:g,closeMatch:null,htmlToLexical:null,markdownToLexical:i,openMatch:f,props:h?aS({propsString:h}):{}});if(!1===j)return;let k=bZ({blockType:a.slug,...j});e.replace(k)}})):d.push(({allNodes:b,allTransformers:d})=>({dependencies:[bV],export:c=>{if(!bX(c)||c.getFields()?.blockType?.toLowerCase()!==a.slug.toLowerCase())return null;let e=c.getFields(),f=bR(p({nodes:b}),d),g=a.jsx.export({fields:e,lexicalToMarkdown:f});if(!1===g)return null;if("string"==typeof g)return g;let h=g.props&&Object.keys(g.props)?.length>0,i=g.props??{};if(g?.children?.length){let b=g.children,c="";if(b.includes("\n"))for(let d of b.split("\n")){let b="";a?.jsx?.doNotTrimChildren||""===d||(b="  "),b+=d+"\n",c+=b}else c=(a?.jsx?.doNotTrimChildren?"":"  ")+b+"\n";return`<${e.blockType}${h?" "+aZ({props:i}):""}>
${c}</${e.blockType}>`}return`<${e.blockType}${h?" "+aZ({props:i}):""}/>`},handleImportAfterStartMatch:a.jsx?.customEndRegex?void 0:({lines:c,rootNode:e,startLineIndex:f,startMatch:g,transformer:h})=>{let i="object"==typeof h.regExpEnd&&"regExp"in h.regExpEnd?h.regExpEnd.regExp:h.regExpEnd,{afterEndLine:j,beforeStartLine:k,content:l,endLineIndex:m,propsString:q}=b_({isEndOptional:h.regExpEnd&&"object"==typeof h.regExpEnd&&"optional"in h.regExpEnd?h.regExpEnd.optional:!h.regExpEnd,lines:c,regexpEndRegex:i,startLineIndex:f,startMatch:g,trimChildren:!1}),r="";if(a?.jsx?.doNotTrimChildren)r=l.endsWith("\n")?l.slice(0,-1):l;else if(l.includes("\n")){let a=l.split("\n"),b=0;for(let c of a){if(b++,c.startsWith("  "))r+=c.slice(2);else if(""===c)r+=c;else{r=l.endsWith("\n")?l.slice(0,-1):l;break}r+=b===a.length?"":"\n"}}else r=(l.startsWith("  ")?l.slice(2):l)+"\n";if(!a?.jsx?.import)return[!1,f];let s=bS(p({nodes:b}),d),t=a.jsx.import({children:r,closeMatch:null,htmlToLexical:null,markdownToLexical:s,openMatch:g,props:q?aS({propsString:q}):{}});if(!1===t)return[!1,f];let u=bW({blockType:a.slug,...t});if(u){let a=null,b=null;if(k?.length){a=s({markdown:k})?.root?.children??[];let b=a?.[0];b&&e.append((0,o.GMe)(b))}if(e.append(u),j?.length){b=s({markdown:j})?.root?.children;let a=e.getChildren()[e.getChildren().length-1],c=(0,o.GMe)(b[0])?.getChildren();if(c?.length)for(let b of c)a.append(b)}}return[!0,m]},regExpEnd:a.jsx?.customEndRegex??c.regExpEnd,regExpStart:a.jsx?.customStartRegex??c.regExpStart,type:"multiline-element",replace:(c,e,f,g,h)=>{if(a?.jsx?.import){if(!h){let a="";if(e)for(let b of e)a+=b.getTextContent();h=[a]}let i="";i=a?.jsx?.doNotTrimChildren?h.join("\n"):h.join("\n").trim();let j=f[1]?.trim(),k=bS(p({nodes:b}),d),l=a.jsx.import({children:i,closeMatch:g,htmlToLexical:null,markdownToLexical:k,openMatch:f,props:j?aS({propsString:j}):{}});if(!1===l)return!1;let m=bW({blockType:a.slug,...l});return void(m&&c.append(m))}return!1}})),d}var b3=c(95149);let b4=a=>async({node:b,validation:c})=>{let d=b.fields??{},{options:{id:e,collectionSlug:f,data:g,operation:h,preferences:i,req:j}}=c,k=a.find(a=>a.slug===d.blockType);if(!k)return`Block ${d.blockType} not found`;let l=await (0,b3.d)({id:e,collectionSlug:f,data:d,documentData:g,fields:k.fields,fieldSchemaMap:void 0,initialBlockData:d,operation:"create"===h||"update"===h?h:"update",permissions:{},preferences:i,renderAllFields:!1,req:j,schemaPath:""}),m=new Set;for(let a in l){let b=l[a];if(b?.errorPaths?.length)for(let a of b.errorPaths)m.add(a)}let o=Array.from(m);return!o.length||"The following fields are invalid: "+o.join(", ")},b5=(0,i.m)({feature:async({config:a,isRoot:b,parentIsLocalized:c,props:g})=>{let i=a.collections.map(a=>a.slug)||[],k=await (0,d.b)({config:a,fields:[{name:"lexical_blocks",type:"blocks",blockReferences:g.blocks??[],blocks:[]},{name:"lexical_inline_blocks",type:"blocks",blockReferences:g.inlineBlocks??[],blocks:[]}],parentIsLocalized:c,requireFieldLevelRichTextEditor:b,validRelationships:i}),o=[];for(let b of k[0].blockReferences??k[0].blocks){let c="string"==typeof b?a?.blocks?.find(a=>a.slug===b):b;if(!c)throw Error(`Block not found for slug: ${"string"==typeof b?b:b?.slug}`);o.push({...c,fields:h(c.fields,a)})}let p=[];for(let b of k[1].blockReferences??k[1].blocks){let c="string"==typeof b?a?.blocks?.find(a=>a.slug===b):b;if(!c)throw Error(`Block not found for slug: ${"string"==typeof b?b:b?.slug}`);p.push({...c,fields:h(c.fields,a)})}return{ClientFeature:"@payloadcms/richtext-lexical/client#BlocksFeatureClient",generatedTypes:{modifyOutputSchema:({collectionIDFieldTypes:a,config:b,currentSchema:c,field:d,i18n:g,interfaceNameDefinitions:h})=>{if(!o?.length&&!p?.length)return c;let i=[];return o?.length&&i.push({name:d?.name+"_lexical_blocks",type:"blocks",blocks:o.map(a=>({...a,flattenedFields:(0,e.r)({fields:a.fields})}))}),p?.length&&i.push({name:d?.name+"_lexical_inline_blocks",type:"blocks",blocks:p.map(a=>({...a,flattenedFields:(0,e.r)({fields:a.fields})}))}),i.length&&(0,f.K0)(a,i,h,b,g),c}},generateSchemaMap:({config:a})=>{let b=new Map;if(o?.length)for(let a of o){let c=[...a.fields];a?.admin?.components&&c.unshift({name:"_components",type:"ui",admin:{components:{Block:a.admin?.components?.Block,BlockLabel:a.admin?.components?.Label}}}),b.set(`lexical_blocks.${a.slug}.fields`,{fields:c}),b.set(`lexical_blocks.${a.slug}`,{name:`lexical_blocks_${a.slug}`,type:"blocks",blocks:[a]})}if(p?.length)for(let a of p){let c=[...a.fields];a?.admin?.components&&c.unshift({name:"_components",type:"ui",admin:{components:{Block:a.admin?.components?.Block,BlockLabel:a.admin?.components?.Label}}}),b.set(`lexical_inline_blocks.${a.slug}.fields`,{fields:c}),b.set(`lexical_inline_blocks.${a.slug}`,{name:`lexical_inline_blocks_${a.slug}`,type:"blocks",blocks:[a]})}return b},i18n:m,markdownTransformers:b1({blocks:o,inlineBlocks:p}),nodes:[(0,j.R)({getSubFields:({node:a})=>{if(!a)return o?.length?[{name:"lexical_blocks",type:"blocks",blocks:o}]:[];let b=a.fields.blockType,c=o?.find(a=>a.slug===b);return c?.fields},getSubFieldsData:({node:a})=>a?.fields,graphQLPopulationPromises:[l(o)],node:bV,validations:[b4(o)]}),(0,j.R)({getSubFields:({node:a})=>{if(!a)return p?.length?[{name:"lexical_inline_blocks",type:"blocks",blocks:p}]:[];let b=a.fields.blockType,c=p?.find(a=>a.slug===b);return c?.fields},getSubFieldsData:({node:a})=>a?.fields,graphQLPopulationPromises:[l(p)],node:bY,validations:[b4(p)]})],sanitizedServerFeatureProps:g}},key:"blocks"})},84372:(a,b,c)=>{"use strict";let d=c(53053),e=c(57975),f=e.debuglog("undici"),g=e.debuglog("fetch"),h=e.debuglog("websocket"),i={beforeConnect:d.channel("undici:client:beforeConnect"),connected:d.channel("undici:client:connected"),connectError:d.channel("undici:client:connectError"),sendHeaders:d.channel("undici:client:sendHeaders"),create:d.channel("undici:request:create"),bodySent:d.channel("undici:request:bodySent"),headers:d.channel("undici:request:headers"),trailers:d.channel("undici:request:trailers"),error:d.channel("undici:request:error"),open:d.channel("undici:websocket:open"),close:d.channel("undici:websocket:close"),socketError:d.channel("undici:websocket:socket_error"),ping:d.channel("undici:websocket:ping"),pong:d.channel("undici:websocket:pong")},j=!1;function k(a=f){j||(j=!0,d.subscribe("undici:client:beforeConnect",b=>{let{connectParams:{version:c,protocol:d,port:e,host:f}}=b;a("connecting to %s%s using %s%s",f,e?`:${e}`:"",d,c)}),d.subscribe("undici:client:connected",b=>{let{connectParams:{version:c,protocol:d,port:e,host:f}}=b;a("connected to %s%s using %s%s",f,e?`:${e}`:"",d,c)}),d.subscribe("undici:client:connectError",b=>{let{connectParams:{version:c,protocol:d,port:e,host:f},error:g}=b;a("connection to %s%s using %s%s errored - %s",f,e?`:${e}`:"",d,c,g.message)}),d.subscribe("undici:client:sendHeaders",b=>{let{request:{method:c,path:d,origin:e}}=b;a("sending request to %s %s/%s",c,e,d)}))}let l=!1;function m(a=f){l||(l=!0,d.subscribe("undici:request:headers",b=>{let{request:{method:c,path:d,origin:e},response:{statusCode:f}}=b;a("received response to %s %s/%s - HTTP %d",c,e,d,f)}),d.subscribe("undici:request:trailers",b=>{let{request:{method:c,path:d,origin:e}}=b;a("trailers received from %s %s/%s",c,e,d)}),d.subscribe("undici:request:error",b=>{let{request:{method:c,path:d,origin:e},error:f}=b;a("request to %s %s/%s errored - %s",c,e,d,f.message)}))}let o=!1;function p(a=h){o||(o=!0,d.subscribe("undici:websocket:open",b=>{let{address:{address:c,port:d}}=b;a("connection opened %s%s",c,d?`:${d}`:"")}),d.subscribe("undici:websocket:close",b=>{let{websocket:c,code:d,reason:e}=b;a("closed connection to %s - %s %s",c.url,d,e)}),d.subscribe("undici:websocket:socket_error",b=>{a("connection errored - %s",b.message)}),d.subscribe("undici:websocket:ping",b=>{a("ping received")}),d.subscribe("undici:websocket:pong",b=>{a("pong received")}))}(f.enabled||g.enabled)&&(k(g.enabled?g:f),m(g.enabled?g:f)),h.enabled&&(k(f.enabled?f:h),p(h)),a.exports={channels:i}},84378:(a,b,c)=>{"use strict";let{isUSVString:d,bufferToLowerCasedHeaderName:e}=c(81350),{utf8DecodeBytes:f}=c(51074),{HTTP_TOKEN_CODEPOINTS:g,isomorphicDecode:h}=c(62018),{makeEntry:i}=c(47904),{webidl:j}=c(81399),k=c(34589),{File:l}=c(4573),m=globalThis.File??l,o=Buffer.from('form-data; name="'),p=Buffer.from("filename"),q=Buffer.from("--"),r=Buffer.from("--\r\n");function s(a){for(let b=0;b<a.length;++b)if((-128&a.charCodeAt(b))!=0)return!1;return!0}function t(a,b){let c=null,d=null,f=null,i=null;for(;;){if(13===a[b.position]&&10===a[b.position+1]){if(null===c)throw y("header name is null");return{name:c,filename:d,contentType:f,encoding:i}}let j=v(a=>10!==a&&13!==a&&58!==a,a,b);if(j=w(j,!0,!0,a=>9===a||32===a),!g.test(j.toString()))throw y("header name does not match the field-name token production");if(58!==a[b.position])throw y("expected :");switch(b.position++,v(a=>32===a||9===a,a,b),e(j)){case"content-disposition":if(c=d=null,!x(a,o,b))throw y('expected form-data; name=" for content-disposition header');if(b.position+=17,c=u(a,b),59===a[b.position]&&32===a[b.position+1]){let c={position:b.position+2};if(x(a,p,c))if(42===a[c.position+8]){c.position+=10,v(a=>32===a||9===a,a,c);let e=v(a=>32!==a&&13!==a&&10!==a,a,c);if(117!==e[0]&&85!==e[0]||116!==e[1]&&84!==e[1]||102!==e[2]&&70!==e[2]||45!==e[3]||56!==e[4])throw y("unknown encoding, expected utf-8''");d=decodeURIComponent(new TextDecoder().decode(e.subarray(7))),b.position=c.position}else b.position+=11,v(a=>32===a||9===a,a,b),b.position++,d=u(a,b)}break;case"content-type":{let c=v(a=>10!==a&&13!==a,a,b);f=h(c=w(c,!1,!0,a=>9===a||32===a));break}case"content-transfer-encoding":{let c=v(a=>10!==a&&13!==a,a,b);i=h(c=w(c,!1,!0,a=>9===a||32===a));break}default:v(a=>10!==a&&13!==a,a,b)}if(13!==a[b.position]&&10!==a[b.position+1])throw y("expected CRLF");b.position+=2}}function u(a,b){k(34===a[b.position-1]);let c=v(a=>10!==a&&13!==a&&34!==a,a,b);if(34!==a[b.position])throw y('expected "');return b.position++,c=new TextDecoder().decode(c).replace(/%0A/ig,"\n").replace(/%0D/ig,"\r").replace(/%22/g,'"')}function v(a,b,c){let d=c.position;for(;d<b.length&&a(b[d]);)++d;return b.subarray(c.position,c.position=d)}function w(a,b,c,d){let e=0,f=a.length-1;if(b)for(;e<a.length&&d(a[e]);)e++;if(c)for(;f>0&&d(a[f]);)f--;return 0===e&&f===a.length-1?a:a.subarray(e,f+1)}function x(a,b,c){if(a.length<b.length)return!1;for(let d=0;d<b.length;d++)if(b[d]!==a[c.position+d])return!1;return!0}function y(a){return TypeError("Failed to parse body as FormData.",{cause:TypeError(a)})}a.exports={multipartFormDataParser:function(a,b){k("failure"!==b&&"multipart/form-data"===b.essence);let c=b.parameters.get("boundary");if(void 0===c)throw y("missing boundary in content-type header");let e=Buffer.from(`--${c}`,"utf8"),g=[],h={position:0};for(;13===a[h.position]&&10===a[h.position+1];)h.position+=2;let l=a.length;for(;10===a[l-1]&&13===a[l-2];)l-=2;for(l!==a.length&&(a=a.subarray(0,l));;){let b,c;if(a.subarray(h.position,h.position+e.length).equals(e))h.position+=e.length;else throw y("expected a value starting with -- and the boundary");if(h.position===a.length-2&&x(a,q,h)||h.position===a.length-4&&x(a,r,h))return g;if(13!==a[h.position]||10!==a[h.position+1])throw y("expected CRLF");h.position+=2;let{name:l,filename:o,contentType:p,encoding:u}=t(a,h);h.position+=2;{let c=a.indexOf(e.subarray(2),h.position);if(-1===c)throw y("expected boundary after body");b=a.subarray(h.position,c-4),h.position+=b.length,"base64"===u&&(b=Buffer.from(b.toString(),"base64"))}if(13!==a[h.position]||10!==a[h.position+1])throw y("expected CRLF");h.position+=2,null!==o?(s(p??="text/plain")||(p=""),c=new m([b],o,{type:p})):c=f(Buffer.from(b)),k(d(l)),k("string"==typeof c&&d(c)||j.is.File(c)),g.push(i(l,c,o))}},validateBoundary:function(a){let b=a.length;if(b<27||b>70)return!1;for(let c=0;c<b;++c){let b=a.charCodeAt(c);if(!(b>=48&&b<=57||b>=65&&b<=90||b>=97&&b<=122||39===b||45===b||95===b))return!1}return!0}}},84708:(a,b,c)=>{"use strict";function d(a){let b=!0;for(let c in a)"object"==typeof a[c]?e(a[c])?a[c]=!0:b=!1:!0!==a[c]&&(b=!1);return b}function e(a){let b=a,c=!0;if("blocks"in b&&b.blocks){for(let a in b.blocks)if("object"==typeof b.blocks[a]){for(let e in b.blocks[a])if("fields"===e)b.blocks[a].fields&&(d(b.blocks[a].fields)?b.blocks[a].fields=!0:c=!1);else if("object"==typeof b.blocks[a][e])if(f(b.blocks[a][e]))if(!0!==b.blocks[a][e].permission||"where"in b.blocks[a][e])if(!0===b.blocks[a][e].permission&&"where"in b.blocks[a][e])c=!1;else{c=!1,b.blocks[a][e]=!1,delete b.blocks[a][e];continue}else{b.blocks[a][e]=!0;continue}else throw Error("Unexpected object in block permissions")}else!0!==b.blocks[a]&&(c=!1,delete b.blocks[a]);c&&(b.blocks=!0)}let e=!0;b.fields&&(d(b.fields)?b.fields=!0:e=!1);let g=!0;for(let a in b)if("fields"!==a&&"blocks"!==a)if("object"==typeof b[a])if(f(b[a]))if(!0!==b[a].permission||"where"in b[a])if(!0===b[a].permission&&"where"in b[a])g=!1;else{g=!1,b[a]=!1,delete b[a];continue}else{b[a]=!0;continue}else throw console.error("Unexpected object in fields permissions",b,"key:",a),Error("Unexpected object in fields permissions");else!0!==b[a]&&(g=!1);return e&&c&&g}function f(a){return"object"==typeof a&&"permission"in a&&"boolean"==typeof a.permission}function g(a){Object.keys(a).forEach(b=>{"object"==typeof a[b]&&null!==a[b]?(g(a[b]),0===Object.keys(a[b]).length&&delete a[b]):(null===a[b]||void 0===a[b])&&delete a[b]})}function h(a){if("object"==typeof a)for(let b of Object.values(a))e(b)}function i(a){if("object"==typeof a)for(let b of Object.values(a))e(b)}function j(a){return!1===a.canAccessAdmin&&delete a.canAccessAdmin,a.collections&&h(a.collections),a.globals&&i(a.globals),g(a),a}c.d(b,{yD:()=>j})},84790:(a,b,c)=>{"use strict";c.d(b,{I:()=>d});let d=({req:{user:a}})=>!!a},84806:a=>{"use strict";a.exports=a=>{let b=RegExp("[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)|(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))","g");return"string"==typeof a?a.replace(b,""):a}},84952:(a,b,c)=>{"use strict";let{addAbortListener:d}=c(81350),{RequestAbortedError:e}=c(64737),f=Symbol("kListener"),g=Symbol("kSignal");function h(a){a.abort?a.abort(a[g]?.reason):a.reason=a[g]?.reason??new e,i(a)}function i(a){a[g]&&("removeEventListener"in a[g]?a[g].removeEventListener("abort",a[f]):a[g].removeListener("abort",a[f]),a[g]=null,a[f]=null)}a.exports={addSignal:function(a,b){if(a.reason=null,a[g]=null,a[f]=null,b){if(b.aborted)return void h(a);a[g]=b,a[f]=()=>{h(a)},d(a[g],a[f])}},removeSignal:i}},85088:(a,b,c)=>{"use strict";c.d(b,{b:()=>H});var d=c(61302),e=c(29006),f=c(65540),g=c(70404);class h extends g.L{constructor(a){super(`Field${(0,f.Z7)(a)?` "${a.name}"`:""} is either missing a field type or it does not match an available field type`)}}class i extends g.L{constructor(a,b){super(`Field ${a.label} has invalid name '${b}'. Field names can not include periods (.) and must be alphanumeric.`)}}class j extends g.L{constructor(a,b){super(`Field ${a.label} has invalid relationship '${b}'.`)}}class k extends g.L{constructor(a){super(`A field with the name '${a}' was found multiple times on the same level. Field names must be unique.`)}}var l=c(33576),m=c(72909);class o extends g.L{constructor(a,b){super(`Field ${a.label} has reserved name '${b}'.`)}}var p=c(18669),q=c(8933),r=c(93204),s=c(50775);let t=({name:a,defaultValue:b,options:c,required:d})=>({name:a,type:"select",admin:{hidden:!0},defaultValue:b,options:c,required:d});var u=c(14548);let v=a=>"string"==typeof a&&""!==a.trim(),w=({value:a})=>v(a)?`${a} - Copy`:void 0,x=({req:a,value:b})=>v(b)?`${b} - ${a?.t("general:copy")??"Copy"}`:void 0,y=(a,b)=>{("required"in a&&a.required||a.unique)&&"hooks"in a&&(!a.hooks?.beforeDuplicate||Array.isArray(a.hooks.beforeDuplicate)&&0===a.hooks.beforeDuplicate.length)&&a.unique&&(["email","number","point","relationship","select","upload"].includes(a.type)?a.hooks.beforeDuplicate=[()=>void 0]:["code","json","text","textarea"].includes(a.type)&&(a.hooks.beforeDuplicate=(0,f.Cd)({field:a,parentIsLocalized:b})?[x]:[w]))};var z=c(93462);let A=["salt","hash"],B=[],C=[],D=["file"];class E extends g.L{constructor(a){super(`Invalid join field ${a.name}. The config does not have a field '${a.on}' in collection '${a.collection}'.`)}}var F=c(43835);let G=({config:a,field:b,joinPath:c,joins:d,parentIsLocalized:e,polymorphicJoins:f,validateOnly:h})=>{if(void 0===d)throw new g.L("Join fields cannot be added to arrays, blocks or globals.");void 0===b.maxDepth&&(b.maxDepth=1);let i={field:b,joinPath:`${c?c+".":""}${b.name}`,parentIsLocalized:e,targetField:void 0};if(Array.isArray(b.collection)){for(let g of b.collection)G({config:a,field:{...b,collection:g},joinPath:c,joins:d,parentIsLocalized:e,polymorphicJoins:f,validateOnly:!0});Array.isArray(f)&&f.push(i);return}let j=a.collections?.find(a=>a.slug===b.collection);if(!j)throw new E(b);let k=(0,F.p)({fields:(0,p.r)({cache:!0,fields:j.fields}),path:b.on});if(!k||"relationship"!==k.field.type&&"upload"!==k.field.type)throw new E(i.field);k.pathHasLocalized&&(i.getForeignPath=({locale:a})=>k.localizedPath.replace("<locale>",a)),k.field.index||k.field.unique||(k.field.index=!0),h||(i.targetField=k.field,b.localized=k.field.localized,b.hasMany=k.field.hasMany,b.targetField=i.targetField,d[b.collection]?d[b.collection]?.push(i):d[b.collection]=[i])},H=async({collectionConfig:a,config:b,existingFieldNames:c=new Set,fields:g,globalConfig:v,isTopLevelField:w=!0,joinPath:x="",joins:E,parentIsLocalized:F,polymorphicJoins:I,requireFieldLevelRichTextEditor:J=!1,richTextSanitizationPromises:K,validRelationships:L})=>{if(!g)return[];for(let M=0;M<g.length;M++){let N=g[M];if("_sanitized"in N&&!0===N._sanitized)continue;if("_sanitized"in N&&(N._sanitized=!0),!N.type)throw new h(N);let O=(0,f.Z7)(N);if(w&&O&&N.name){if(a&&a.upload&&D.includes(N.name))throw new o(N,N.name);if(a&&a.auth&&"object"==typeof a.auth&&!a.auth.disableLocalStrategy&&(A.includes(N.name)||a.auth.verify&&(C.includes(N.name)||B.includes(N.name))))throw new o(N,N.name)}if(O&&N.name.includes("."))throw new i(N,N.name);if("name"in N&&N.name&&"object"!=typeof N.label&&"string"!=typeof N.label&&"function"!=typeof N.label&&!1!==N.label&&(N.label=(0,q.x4)(N.name)),"checkbox"===N.type&&void 0===N.defaultValue&&!0===N.required&&(N.defaultValue=!1),"join"===N.type&&G({config:b,field:N,joinPath:x,joins:E,parentIsLocalized:F,polymorphicJoins:I}),("relationship"===N.type||"upload"===N.type)&&(L&&(Array.isArray(N.relationTo)?N.relationTo:[N.relationTo]).forEach(a=>{if(!L.includes(a))throw new j(N,a)}),N.min&&!N.minRows&&(console.warn(`(payload): The "min" property is deprecated for the Relationship field "${N.name}" and will be removed in a future version. Please use "minRows" instead.`),N.minRows=N.min),N.max&&!N.maxRows&&(console.warn(`(payload): The "max" property is deprecated for the Relationship field "${N.name}" and will be removed in a future version. Please use "maxRows" instead.`),N.maxRows=N.max)),"upload"!==N.type||N.admin&&"isSortable"in N.admin||(N.admin={isSortable:!0,...N.admin}),"array"===N.type&&N.fields&&(N.fields.some(a=>"name"in a&&"id"===a.name)||N.fields.push(s.Z)),("blocks"===N.type||"array"===N.type)&&N.label&&(N.labels=N.labels||(0,q.h6)(N.name)),O){if(c.has(N.name))throw new k(N.name);if(["blockName","id"].includes(N.name)||c.add(N.name),void 0!==N.localized){let a=!b.localization;"true"!==process.env.NEXT_PUBLIC_PAYLOAD_COMPATIBILITY_allowLocalizedWithinLocalized&&F&&"true"!==process.env.PAYLOAD_DO_NOT_SANITIZE_LOCALIZED_PROPERTY&&(a=!0),a&&delete N.localized}if(void 0===N.validate){let a=z.xV[N.type];a?N.validate=(b,c)=>a(b,{...N,...c}):N.validate=()=>!0}N.hooks||(N.hooks={}),N.access||(N.access={}),y(N,F)}if(N.admin||(N.admin={}),"richText"===N.type){let a=async a=>{if(!N.editor)if(a.editor&&!J)N.editor=a.editor;else throw new l.X(N);"function"==typeof N.editor&&(N.editor=await N.editor({config:a,isRoot:J,parentIsLocalized:F||N.localized})),N.editor.i18n&&Object.keys(N.editor.i18n).length>=0&&(b.i18n.translations=(0,d.p)(b.i18n.translations,N.editor.i18n))};K?K.push(a):await a(b)}if("blocks"===N.type&&N.blocks){if(N.blockReferences&&N.blocks?.length)throw Error("You cannot have both blockReferences and blocks in the same blocks field");let c=[];for(let d of N.blockReferences??N.blocks){let e="string"==typeof d?d:d.slug;if(c.includes(e))throw new k(e);c.push(e),"string"!=typeof d&&!0!==d._sanitized&&(d._sanitized=!0,d.fields=d.fields.concat(r.s),d.labels=d.labels?d.labels:(0,q.h6)(d.slug),d.fields=await H({collectionConfig:a,config:b,existingFieldNames:new Set,fields:d.fields,isTopLevelField:!1,parentIsLocalized:F||N.localized,requireFieldLevelRichTextEditor:J,richTextSanitizationPromises:K,validRelationships:L}))}}if("fields"in N&&N.fields&&(N.fields=await H({collectionConfig:a,config:b,existingFieldNames:O?new Set:c,fields:N.fields,isTopLevelField:w&&!O,joinPath:O?`${x?x+".":""}${N.name}`:x,joins:E,parentIsLocalized:F||(0,f.Yf)(N),polymorphicJoins:I,requireFieldLevelRichTextEditor:J,richTextSanitizationPromises:K,validRelationships:L})),"tabs"===N.type)for(let d=0;d<N.tabs.length;d++){let g=N.tabs[d],h=(0,f.pz)(g);h&&void 0===g.label&&(g.label=(0,q.x4)(g.name)),"admin"in g&&g.admin?.condition&&"function"==typeof g.admin.condition&&!g.id&&(g.id=h?`${g.name}_${(0,e.A)()}`:(0,e.A)()),g.fields=await H({collectionConfig:a,config:b,existingFieldNames:h?new Set:c,fields:g.fields,isTopLevelField:w&&!h,joinPath:h?`${x?x+".":""}${g.name}`:x,joins:E,parentIsLocalized:F||h&&g.localized,polymorphicJoins:I,requireFieldLevelRichTextEditor:J,richTextSanitizationPromises:K,validRelationships:L}),N.tabs[d]=g}if("ui"===N.type&&void 0===N.admin.disableBulkEdit&&(N.admin.disableBulkEdit=!0),g[M]=N,"date"===N.type&&N.timezone){let a=N.name+"_tz",c=N.timezone&&"object"==typeof N.timezone?N.timezone.defaultTimezone:b.admin?.timezones?.defaultTimezone,d=N.required||N.timezone&&"object"==typeof N.timezone&&N.timezone.required,e=N.timezone&&"object"==typeof N.timezone&&N.timezone.supportedTimezones?N.timezone.supportedTimezones:b.admin?.timezones?.supportedTimezones,f="function"==typeof e?e({defaultTimezones:u.Y}):e;f&&1===f.length&&f[0]?.value&&(c=f[0].value);let h=t({name:a,defaultValue:c,options:f,required:d});g.splice(++M,0,h)}if("virtual"in N&&"string"==typeof N.virtual){let c=N,d=(a||v)?.fields;if(d){let e=(0,p.r)({fields:d}),f=N.virtual.split("."),g=!1;for(let[d,h]of f.entries()){let i=e.find(a=>a.name===h);if(!i)break;if("group"===i.type||"tab"===i.type||"array"===i.type)e=i.flattenedFields;else if(("relationship"===i.type||"upload"===i.type)&&d!==f.length-1&&"string"==typeof i.relationTo){if(i.hasMany&&("text"===c.type||"number"===c.type||"select"===c.type)){if(g)throw new m.s(`Virtual field ${c.name} in ${v?`global ${v.slug}`:`collection ${a?.slug}`} references 2 or more hasMany relationships on the path ${c.virtual} which is not allowed.`);g=!0,c.hasMany=!0}let d=b.collections?.find(a=>a.slug===i.relationTo);d&&(e=(0,p.r)({fields:d.fields}))}}}}}return g}},85144:(a,b,c)=>{"use strict";c.d(b,{h:()=>t});var d=c(61213),e=c(75523),f=c(98415),g=c(74492),h=c(71656),i=c(79909),j=c(89985);class k{_payload;_protectedHeader;_unprotectedHeader;constructor(a){if(!(a instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this._payload=a}setProtectedHeader(a){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=a,this}setUnprotectedHeader(a){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=a,this}async sign(a,b){let c;if(!this._protectedHeader&&!this._unprotectedHeader)throw new g.Ye("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!(0,f.A)(this._protectedHeader,this._unprotectedHeader))throw new g.Ye("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let k={...this._protectedHeader,...this._unprotectedHeader},l=(0,j.A)(g.Ye,new Map([["b64",!0]]),b?.crit,this._protectedHeader,k),m=!0;if(l.has("b64")&&"boolean"!=typeof(m=this._protectedHeader.b64))throw new g.Ye('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:o}=k;if("string"!=typeof o||!o)throw new g.Ye('JWS "alg" (Algorithm) Header Parameter missing or invalid');(0,i.I)(o,a,"sign");let p=this._payload;m&&(p=h.Rd.encode((0,d.lF)(p))),c=this._protectedHeader?h.Rd.encode((0,d.lF)(JSON.stringify(this._protectedHeader))):h.Rd.encode("");let q=(0,h.xW)(c,h.Rd.encode("."),p),r=await (0,e.A)(o,a,q),s={signature:(0,d.lF)(r),payload:""};return m&&(s.payload=h.D0.decode(p)),this._unprotectedHeader&&(s.header=this._unprotectedHeader),this._protectedHeader&&(s.protected=h.D0.decode(c)),s}}class l{_flattened;constructor(a){this._flattened=new k(a)}setProtectedHeader(a){return this._flattened.setProtectedHeader(a),this}async sign(a,b){let c=await this._flattened.sign(a,b);if(void 0===c.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${c.protected}.${c.payload}.${c.signature}`}}var m=c(18807),o=c(7e3),p=c(90534);function q(a,b){if(!Number.isFinite(b))throw TypeError(`Invalid ${a} input`);return b}class r{_payload;constructor(a={}){if(!(0,o.A)(a))throw TypeError("JWT Claims Set MUST be an object");this._payload=a}setIssuer(a){return this._payload={...this._payload,iss:a},this}setSubject(a){return this._payload={...this._payload,sub:a},this}setAudience(a){return this._payload={...this._payload,aud:a},this}setJti(a){return this._payload={...this._payload,jti:a},this}setNotBefore(a){return"number"==typeof a?this._payload={...this._payload,nbf:q("setNotBefore",a)}:a instanceof Date?this._payload={...this._payload,nbf:q("setNotBefore",(0,m.A)(a))}:this._payload={...this._payload,nbf:(0,m.A)(new Date)+(0,p.A)(a)},this}setExpirationTime(a){return"number"==typeof a?this._payload={...this._payload,exp:q("setExpirationTime",a)}:a instanceof Date?this._payload={...this._payload,exp:q("setExpirationTime",(0,m.A)(a))}:this._payload={...this._payload,exp:(0,m.A)(new Date)+(0,p.A)(a)},this}setIssuedAt(a){return void 0===a?this._payload={...this._payload,iat:(0,m.A)(new Date)}:a instanceof Date?this._payload={...this._payload,iat:q("setIssuedAt",(0,m.A)(a))}:"string"==typeof a?this._payload={...this._payload,iat:q("setIssuedAt",(0,m.A)(new Date)+(0,p.A)(a))}:this._payload={...this._payload,iat:q("setIssuedAt",a)},this}}class s extends r{_protectedHeader;setProtectedHeader(a){return this._protectedHeader=a,this}async sign(a,b){let c=new l(h.Rd.encode(JSON.stringify(this._payload)));if(c.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new g.Dp("JWTs MUST NOT use unencoded payload");return c.sign(a,b)}}let t=async({fieldsToSign:a,secret:b,tokenExpiration:c})=>{let d=new TextEncoder().encode(b),e=Math.floor(Date.now()/1e3),f=e+c,g=await new s(a).setProtectedHeader({alg:"HS256",typ:"JWT"}).setIssuedAt(e).setExpirationTime(f).sign(d);return{exp:f,token:g}}},85383:(a,b,c)=>{"use strict";let d=c(30124),e=c(49026);class f{constructor(a){a=a||{},this.options=a||{},this.name="StreamTransport",this.version=d.version,this.logger=e.getLogger(this.options,{component:this.options.component||"stream-transport"}),this.winbreak=["win","windows","dos","\r\n"].includes((a.newline||"").toString().toLowerCase())}send(a,b){a.message.keepBcc=!0;let c=a.data.envelope||a.message.getEnvelope(),d=a.message.messageId(),e=[].concat(c.to||[]);e.length>3&&e.push("...and "+e.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:d},"Sending message %s to <%s> using %s line breaks",d,e.join(", "),this.winbreak?"<CR><LF>":"<LF>"),setImmediate(()=>{let c;try{c=a.message.createReadStream()}catch(a){return this.logger.error({err:a,tnx:"send",messageId:d},"Creating send stream failed for %s. %s",d,a.message),b(a)}if(!this.options.buffer)return c.once("error",a=>{this.logger.error({err:a,tnx:"send",messageId:d},"Failed creating message for %s. %s",d,a.message)}),b(null,{envelope:a.data.envelope||a.message.getEnvelope(),messageId:d,message:c});let e=[],f=0;c.on("readable",()=>{let a;for(;null!==(a=c.read());)e.push(a),f+=a.length}),c.once("error",a=>(this.logger.error({err:a,tnx:"send",messageId:d},"Failed creating message for %s. %s",d,a.message),b(a))),c.on("end",()=>b(null,{envelope:a.data.envelope||a.message.getEnvelope(),messageId:d,message:Buffer.concat(e,f)}))})}}a.exports=f},85558:a=>{"use strict";let{FORCE_COLOR:b,NODE_DISABLE_COLORS:c,TERM:d}=process.env,e={enabled:!c&&"dumb"!==d&&"0"!==b,reset:h(0,0),bold:h(1,22),dim:h(2,22),italic:h(3,23),underline:h(4,24),inverse:h(7,27),hidden:h(8,28),strikethrough:h(9,29),black:h(30,39),red:h(31,39),green:h(32,39),yellow:h(33,39),blue:h(34,39),magenta:h(35,39),cyan:h(36,39),white:h(37,39),gray:h(90,39),grey:h(90,39),bgBlack:h(40,49),bgRed:h(41,49),bgGreen:h(42,49),bgYellow:h(43,49),bgBlue:h(44,49),bgMagenta:h(45,49),bgCyan:h(46,49),bgWhite:h(47,49)};function f(a,b){let c=0,d,e="",f="";for(;c<a.length;c++)e+=(d=a[c]).open,f+=d.close,b.includes(d.close)&&(b=b.replace(d.rgx,d.close+d.open));return e+b+f}function g(a,b){let c={has:a,keys:b};return c.reset=e.reset.bind(c),c.bold=e.bold.bind(c),c.dim=e.dim.bind(c),c.italic=e.italic.bind(c),c.underline=e.underline.bind(c),c.inverse=e.inverse.bind(c),c.hidden=e.hidden.bind(c),c.strikethrough=e.strikethrough.bind(c),c.black=e.black.bind(c),c.red=e.red.bind(c),c.green=e.green.bind(c),c.yellow=e.yellow.bind(c),c.blue=e.blue.bind(c),c.magenta=e.magenta.bind(c),c.cyan=e.cyan.bind(c),c.white=e.white.bind(c),c.gray=e.gray.bind(c),c.grey=e.grey.bind(c),c.bgBlack=e.bgBlack.bind(c),c.bgRed=e.bgRed.bind(c),c.bgGreen=e.bgGreen.bind(c),c.bgYellow=e.bgYellow.bind(c),c.bgBlue=e.bgBlue.bind(c),c.bgMagenta=e.bgMagenta.bind(c),c.bgCyan=e.bgCyan.bind(c),c.bgWhite=e.bgWhite.bind(c),c}function h(a,b){let c={open:`\x1b[${a}m`,close:`\x1b[${b}m`,rgx:RegExp(`\\x1b\\[${b}m`,"g")};return function(b){return void 0!==this&&void 0!==this.has?(this.has.includes(a)||(this.has.push(a),this.keys.push(c)),void 0===b?this:e.enabled?f(this.keys,b+""):b+""):void 0===b?g([a],[c]):e.enabled?f([c],b+""):b+""}}a.exports=e},85790:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.serialize=void 0;let d=c(58818),e=new d.Writer,f=a=>{for(let b of(e.addInt16(3).addInt16(0),Object.keys(a)))e.addCString(b).addCString(a[b]);e.addCString("client_encoding").addCString("UTF8");let b=e.addCString("").flush(),c=b.length+4;return new d.Writer().addInt32(c).add(b).flush()},g=()=>{let a=Buffer.allocUnsafe(8);return a.writeInt32BE(8,0),a.writeInt32BE(0x4d2162f,4),a},h=a=>e.addCString(a).flush(112),i=function(a,b){return e.addCString(a).addInt32(Buffer.byteLength(b)).addString(b),e.flush(112)},j=function(a){return e.addString(a).flush(112)},k=a=>e.addCString(a).flush(81),l=[],m=a=>{let b=a.name||"";b.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",b,b.length),console.error("This can cause conflicts and silent errors executing queries"));let c=a.types||l,d=c.length,f=e.addCString(b).addCString(a.text).addInt16(d);for(let a=0;a<d;a++)f.addInt32(c[a]);return e.flush(80)},o=new d.Writer,p=function(a,b){for(let c=0;c<a.length;c++){let d=b?b(a[c],c):a[c];null==d?(e.addInt16(0),o.addInt32(-1)):d instanceof Buffer?(e.addInt16(1),o.addInt32(d.length),o.add(d)):(e.addInt16(0),o.addInt32(Buffer.byteLength(d)),o.addString(d))}},q=(a={})=>{let b=a.portal||"",c=a.statement||"",d=a.binary||!1,f=a.values||l,g=f.length;return e.addCString(b).addCString(c),e.addInt16(g),p(f,a.valueMapper),e.addInt16(g),e.add(o.flush()),e.addInt16(1),e.addInt16(+!!d),e.flush(66)},r=Buffer.from([69,0,0,0,9,0,0,0,0,0]),s=a=>{if(!a||!a.portal&&!a.rows)return r;let b=a.portal||"",c=a.rows||0,d=Buffer.byteLength(b),e=4+d+1+4,f=Buffer.allocUnsafe(1+e);return f[0]=69,f.writeInt32BE(e,1),f.write(b,5,"utf-8"),f[d+5]=0,f.writeUInt32BE(c,f.length-4),f},t=(a,b)=>{let c=Buffer.allocUnsafe(16);return c.writeInt32BE(16,0),c.writeInt16BE(1234,4),c.writeInt16BE(5678,6),c.writeInt32BE(a,8),c.writeInt32BE(b,12),c},u=(a,b)=>{let c=4+Buffer.byteLength(b)+1,d=Buffer.allocUnsafe(1+c);return d[0]=a,d.writeInt32BE(c,1),d.write(b,5,"utf-8"),d[c]=0,d},v=e.addCString("P").flush(68),w=e.addCString("S").flush(68),x=a=>a.name?u(68,`${a.type}${a.name||""}`):"P"===a.type?v:w,y=a=>u(67,`${a.type}${a.name||""}`),z=a=>e.add(a).flush(100),A=a=>u(102,a),B=a=>Buffer.from([a,0,0,0,4]),C=B(72),D=B(83),E=B(88),F=B(99);b.serialize={startup:f,password:h,requestSsl:g,sendSASLInitialResponseMessage:i,sendSCRAMClientFinalMessage:j,query:k,parse:m,bind:q,execute:s,describe:x,close:y,flush:()=>C,sync:()=>D,end:()=>E,copyData:z,copyDone:()=>F,copyFail:A,cancel:t}},85927:(a,b,c)=>{"use strict";let d=a=>a,e={default:d,60:d,50:d,40:d,30:d,20:d,10:d,message:d,greyMessage:d,property:d},{createColors:f}=c(19565),g=c(5870),h=f({useColor:!0}),{white:i,bgRed:j,red:k,yellow:l,green:m,blue:o,gray:p,cyan:q,magenta:r}=h,s={default:i,60:j,50:k,40:l,30:m,20:o,10:p,message:q,greyMessage:p,property:r};function t(a){return a.reduce(function(a,[b,c]){return a[b]="function"==typeof h[c]?h[c]:i,a},{default:i,message:q,greyMessage:p,property:r})}function u(a){return function(b,c,{customLevels:d,customLevelNames:e}={}){let[f,h]=g(a,d,e)(b);return Object.prototype.hasOwnProperty.call(c,h)?c[h](f):c.default(f)}}function v(a){let b=u(a),c=function(a,c){return b(a,e,c)};return c.message=e.message,c.greyMessage=e.greyMessage,c.property=e.property,c.colors=f({useColor:!1}),c}function w(a){let b=u(a),c=function(a,c){return b(a,s,c)};return c.message=s.message,c.property=s.property,c.greyMessage=s.greyMessage,c.colors=h,c}function x(a,b){let c=t(a),d=b?c:Object.assign({},s,c),e=u(b),f=function(a,b){return e(a,d,b)};return f.colors=h,f.message=f.message||d.message,f.property=f.property||d.property,f.greyMessage=f.greyMessage||d.greyMessage,f}a.exports=function(a=!1,b,c){return a&&void 0!==b?x(b,c):a?w(c):v(c)}},86069:(a,b,c)=>{"use strict";c.d(b,{c:()=>g});var d=c(7282),e=c(24401),f=c(70404);class g extends f.L{constructor(a){super(a?a("error:notAllowedToPerformAction"):d.en.translations.error.notAllowedToPerformAction,e.h.FORBIDDEN)}}},86159:(a,b,c)=>{"use strict";c.d(b,{t:()=>d});let d=a=>{if("function"==typeof a)return a;let b=Promise.resolve(a);return()=>b}},86310:(a,b,c)=>{"use strict";let d=c(79646).spawn,e=c(30124),f=c(49026);class g{constructor(a){a=a||{},this._spawn=d,this.options=a||{},this.name="Sendmail",this.version=e.version,this.path="sendmail",this.args=!1,this.winbreak=!1,this.logger=f.getLogger(this.options,{component:this.options.component||"sendmail"}),a&&("string"==typeof a?this.path=a:"object"==typeof a&&(a.path&&(this.path=a.path),Array.isArray(a.args)&&(this.args=a.args),this.winbreak=["win","windows","dos","\r\n"].includes((a.newline||"").toString().toLowerCase())))}send(a,b){let c,d,e;a.message.keepBcc=!0;let f=a.data.envelope||a.message.getEnvelope(),g=a.message.messageId();if([].concat(f.from||[]).concat(f.to||[]).some(a=>/^-/.test(a)))return b(Error("Can not send mail. Invalid envelope addresses."));c=this.args?["-i"].concat(this.args).concat(f.to):["-i"].concat(f.from?["-f",f.from]:[]).concat(f.to);let h=c=>{if(!e&&(e=!0,"function"==typeof b))if(c)return b(c);else return b(null,{envelope:a.data.envelope||a.message.getEnvelope(),messageId:g,response:"Messages queued for delivery"})};try{d=this._spawn(this.path,c)}catch(a){return this.logger.error({err:a,tnx:"spawn",messageId:g},"Error occurred while spawning sendmail. %s",a.message),h(a)}if(!d)return h(Error("sendmail was not found"));{d.on("error",a=>{this.logger.error({err:a,tnx:"spawn",messageId:g},"Error occurred when sending message %s. %s",g,a.message),h(a)}),d.once("exit",a=>{let b;if(!a)return h();b=127===a?Error("Sendmail command not found, process exited with code "+a):Error("Sendmail exited with code "+a),this.logger.error({err:b,tnx:"stdin",messageId:g},"Error sending message %s to sendmail. %s",g,b.message),h(b)}),d.once("close",h),d.stdin.on("error",a=>{this.logger.error({err:a,tnx:"stdin",messageId:g},"Error occurred when piping message %s to sendmail. %s",g,a.message),h(a)});let b=[].concat(f.to||[]);b.length>3&&b.push("...and "+b.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:g},"Sending message %s to <%s>",g,b.join(", "));let c=a.message.createReadStream();c.once("error",a=>{this.logger.error({err:a,tnx:"stdin",messageId:g},"Error occurred when generating message %s. %s",g,a.message),d.kill("SIGINT"),h(a)}),c.pipe(d.stdin)}}}a.exports=g},86336:function(a){"use strict";function b(a,b,c){for(;b<a.length;){let d,e;for(;b<a.length;++b){let c=a.charCodeAt(b);if(32!==c&&9!==c)break}if(b===a.length)break;if(59!==a.charCodeAt(b++))return;for(;b<a.length;++b){let c=a.charCodeAt(b);if(32!==c&&9!==c)break}if(b===a.length)return;let f=b;for(;b<a.length;++b){let c=a.charCodeAt(b);if(1!==g[c]){if(61!==c)return;break}}if(b===a.length||(d=a.slice(f,b),++b===a.length))return;let i="";if(34===a.charCodeAt(b)){e=++b;let c=!1;for(;b<a.length;++b){let d=a.charCodeAt(b);if(92===d){c?(e=b,c=!1):(i+=a.slice(e,b),c=!0);continue}if(34===d){if(c){e=b,c=!1;continue}i+=a.slice(e,b);break}if(c&&(e=b-1,c=!1),1!==h[d])return}if(b===a.length)return;++b}else{for(e=b;b<a.length;++b)if(1!==g[a.charCodeAt(b)]){if(b===e)return;break}i=a.slice(e,b)}void 0===c[d=d.toLowerCase()]&&(c[d]=i)}return c}function c(a,b,c,d){for(;b<a.length;){let e,l,m;for(;b<a.length;++b){let c=a.charCodeAt(b);if(32!==c&&9!==c)break}if(b===a.length)break;if(59!==a.charCodeAt(b++))return;for(;b<a.length;++b){let c=a.charCodeAt(b);if(32!==c&&9!==c)break}if(b===a.length)return;let o=b;for(;b<a.length;++b){let c=a.charCodeAt(b);if(1!==g[c]){if(61===c)break;return}}if(b===a.length)return;let p="";if(42===(e=a.slice(o,b)).charCodeAt(e.length-1)){let c=++b;for(;b<a.length;++b){let c=a.charCodeAt(b);if(1!==i[c]){if(39!==c)return;break}}if(b===a.length)return;for(m=a.slice(c,b),++b;b<a.length&&39!==a.charCodeAt(b);++b);if(b===a.length||++b===a.length)return;l=b;let d=0;for(;b<a.length;++b){let c=a.charCodeAt(b);if(1!==j[c]){if(37===c){let c,e;if(b+2<a.length&&-1!==(c=k[a.charCodeAt(b+1)])&&-1!==(e=k[a.charCodeAt(b+2)])){let f=(c<<4)+e;p+=a.slice(l,b),p+=String.fromCharCode(f),b+=2,l=b+1,f>=128?d=2:0===d&&(d=1);continue}return}break}}if(p+=a.slice(l,b),void 0===(p=f(p,m,d)))return}else{if(++b===a.length)return;if(34===a.charCodeAt(b)){l=++b;let c=!1;for(;b<a.length;++b){let d=a.charCodeAt(b);if(92===d){c?(l=b,c=!1):(p+=a.slice(l,b),c=!0);continue}if(34===d){if(c){l=b,c=!1;continue}p+=a.slice(l,b);break}if(c&&(l=b-1,c=!1),1!==h[d])return}if(b===a.length)return;++b}else{for(l=b;b<a.length;++b)if(1!==g[a.charCodeAt(b)]){if(b===l)return;break}p=a.slice(l,b)}if(void 0===(p=d(p,2)))return}void 0===c[e=e.toLowerCase()]&&(c[e]=p)}return c}function d(a){let b;for(;;)switch(a){case"utf-8":case"utf8":return e.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return e.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return e.utf16le;case"base64":return e.base64;default:if(void 0===b){b=!0,a=a.toLowerCase();continue}return e.other.bind(a)}}let e={utf8:(a,b)=>{if(0===a.length)return"";if("string"==typeof a){if(b<2)return a;a=Buffer.from(a,"latin1")}return a.utf8Slice(0,a.length)},latin1:(a,b)=>0===a.length?"":"string"==typeof a?a:a.latin1Slice(0,a.length),utf16le:(a,b)=>0===a.length?"":("string"==typeof a&&(a=Buffer.from(a,"latin1")),a.ucs2Slice(0,a.length)),base64:(a,b)=>0===a.length?"":("string"==typeof a&&(a=Buffer.from(a,"latin1")),a.base64Slice(0,a.length)),other:(a,b)=>{if(0===a.length)return"";"string"==typeof a&&(a=Buffer.from(a,"latin1"));try{return new TextDecoder(this).decode(a)}catch{}}};function f(a,b,c){let e=d(b);if(e)return e(a,c)}let g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],h=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,0,0,0,0,1,0,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],k=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];a.exports={basename:function(a){if("string"!=typeof a)return"";for(let b=a.length-1;b>=0;--b)switch(a.charCodeAt(b)){case 47:case 92:return".."===(a=a.slice(b+1))||"."===a?"":a}return".."===a||"."===a?"":a},convertToUTF8:f,getDecoder:d,parseContentType:function(a){if(0===a.length)return;let c=Object.create(null),d=0;for(;d<a.length;++d){let b=a.charCodeAt(d);if(1!==g[b]){if(47!==b||0===d)return;break}}if(d===a.length)return;let e=a.slice(0,d).toLowerCase(),f=++d;for(;d<a.length;++d)if(1!==g[a.charCodeAt(d)]){if(d===f||void 0===b(a,d,c))return;break}if(d!==f)return{type:e,subtype:a.slice(f,d).toLowerCase(),params:c}},parseDisposition:function(a,b){if(0===a.length)return;let d=Object.create(null),e=0;for(;e<a.length;++e)if(1!==g[a.charCodeAt(e)]){if(void 0===c(a,e,d,b))return;break}return{type:a.slice(0,e).toLowerCase(),params:d}}}},86442:(a,b,c)=>{"use strict";c.d(b,{H:()=>d});let d=async({id:a,slug:b,payload:c,req:d})=>{try{await c.db.deleteVersions({collection:b,req:d,where:{parent:{equals:a}}})}catch(d){c.logger.error({err:d,msg:`There was an error removing versions for the deleted ${b} document with ID ${a}.`})}}},86739:(a,b,c)=>{"use strict";c.d(b,{M:()=>e});var d=c(92768);let e=async({id:a,collection:b,context:c,data:e,doc:f,global:g,operation:h,overrideAccess:i,req:j})=>(await (0,d.m)({id:a,collection:b,context:c,data:e,doc:f,fields:b?.fields||g?.fields,global:g,operation:h,overrideAccess:i,parentIndexPath:"",parentIsLocalized:!1,parentPath:"",parentSchemaPath:"",req:j,siblingData:e,siblingDoc:f}),e)},86861:(a,b,c)=>{"use strict";c.d(b,{Bt:()=>k,HE:()=>j,ZB:()=>i});var d=c(34318);let e="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,f=e&&"documentMode"in document?document.documentMode:null,g=(e&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),e&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent));function h(...a){let b=[];for(let c of a)if(c&&"string"==typeof c)for(let[a]of c.matchAll(/\S+/g))b.push(a);return b}e&&"InputEvent"in window&&!f&&new window.InputEvent("input"),e&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),e&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,e&&/Android/.test(navigator.userAgent),e&&/^(?=.*Chrome).*/i.test(navigator.userAgent),e&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent);function i(a,...b){let c=h(...b);c.length>0&&a.classList.add(...c)}function j(a,...b){let c=h(...b);c.length>0&&a.classList.remove(...c)}let k=(a,b)=>{let c=a;for(;c!==(0,d.NiT)()&&null!=c;){if(b(c))return c;c=c.getParent()}return null}},87046:(a,b,c)=>{"use strict";c.d(b,{Y:()=>d});let d=a=>a?.replace(/ /g,"-").replace(/[^\w-]+/g,"").toLowerCase()},87285:a=>{"use strict";a.exports=function a(a){let b=[],c=!1,d="";for(let e=0;e<a.length;e++){let f=a.charAt(e);if("\\"===f){c=!0;continue}if(c){c=!1,d+=f;continue}if("."===f){b.push(d),d="";continue}d+=f}return d.length&&b.push(d),b}},87392:(a,b,c)=>{"use strict";let d=c(94735),e=c(20397),f=c(22134),g=c(22345),h=c(49026),i=c(30124);class j extends d{constructor(a){let b;super(),"string"==typeof(a=a||{})&&(a={url:a});let c=a.service;"function"==typeof a.getSocket&&(this.getSocket=a.getSocket),a.url&&(b=h.parseConnectionUrl(a.url),c=c||b.service),this.options=h.assign(!1,a,b,c&&g(c)),this.options.maxConnections=this.options.maxConnections||5,this.options.maxMessages=this.options.maxMessages||100,this.logger=h.getLogger(this.options,{component:this.options.component||"smtp-pool"});let d=new f(this.options);this.name="SMTP (pool)",this.version=i.version+"[client:"+d.version+"]",this._rateLimit={counter:0,timeout:null,waiting:[],checkpoint:!1,delta:Number(this.options.rateDelta)||1e3,limit:Number(this.options.rateLimit)||0},this._closed=!1,this._queue=[],this._connections=[],this._connectionCounter=0,this.idling=!0,setImmediate(()=>{this.idling&&this.emit("idle")})}getSocket(a,b){return setImmediate(()=>b(null,!1))}send(a,b){return!this._closed&&(this._queue.push({mail:a,requeueAttempts:0,callback:b}),this.idling&&this._queue.length>=this.options.maxConnections&&(this.idling=!1),setImmediate(()=>this._processMessages()),!0)}close(){let a,b=this._connections.length;if(this._closed=!0,clearTimeout(this._rateLimit.timeout),!b&&!this._queue.length)return;for(let c=b-1;c>=0;c--)this._connections[c]&&this._connections[c].available&&((a=this._connections[c]).close(),this.logger.info({tnx:"connection",cid:a.id,action:"removed"},"Connection #%s removed",a.id));if(b&&!this._connections.length&&this.logger.debug({tnx:"connection"},"All connections removed"),!this._queue.length)return;let c=()=>{if(!this._queue.length)return void this.logger.debug({tnx:"connection"},"Pending queue entries cleared");let b=this._queue.shift();if(b&&"function"==typeof b.callback)try{b.callback(Error("Connection pool was closed"))}catch(b){this.logger.error({err:b,tnx:"callback",cid:a.id},"Callback error for #%s: %s",a.id,b.message)}setImmediate(c)};setImmediate(c)}_processMessages(){let a,b,c;if(this._closed)return;if(!this._queue.length){this.idling||(this.idling=!0,this.emit("idle"));return}for(b=0,c=this._connections.length;b<c;b++)if(this._connections[b].available){a=this._connections[b];break}if(!a&&this._connections.length<this.options.maxConnections&&(a=this._createConnection()),!a){this.idling=!1;return}!this.idling&&this._queue.length<this.options.maxConnections&&(this.idling=!0,this.emit("idle"));let d=a.queueEntry=this._queue.shift();d.messageId=(a.queueEntry.mail.message.getHeader("message-id")||"").replace(/[<>\s]/g,""),a.available=!1,this.logger.debug({tnx:"pool",cid:a.id,messageId:d.messageId,action:"assign"},"Assigned message <%s> to #%s (%s)",d.messageId,a.id,a.messages+1),this._rateLimit.limit&&(this._rateLimit.counter++,this._rateLimit.checkpoint||(this._rateLimit.checkpoint=Date.now())),a.send(d.mail,(b,c)=>{if(d===a.queueEntry){try{d.callback(b,c)}catch(b){this.logger.error({err:b,tnx:"callback",cid:a.id},"Callback error for #%s: %s",a.id,b.message)}a.queueEntry=!1}})}_createConnection(){let a=new e(this);return a.id=++this._connectionCounter,this.logger.info({tnx:"pool",cid:a.id,action:"conection"},"Created new pool resource #%s",a.id),a.on("available",()=>{this.logger.debug({tnx:"connection",cid:a.id,action:"available"},"Connection #%s became available",a.id),this._closed?this.close():this._processMessages()}),a.once("error",b=>{if("EMAXLIMIT"!==b.code?this.logger.error({err:b,tnx:"pool",cid:a.id},"Pool Error for #%s: %s",a.id,b.message):this.logger.debug({tnx:"pool",cid:a.id,action:"maxlimit"},"Max messages limit exchausted for #%s",a.id),a.queueEntry){try{a.queueEntry.callback(b)}catch(b){this.logger.error({err:b,tnx:"callback",cid:a.id},"Callback error for #%s: %s",a.id,b.message)}a.queueEntry=!1}this._removeConnection(a),this._continueProcessing()}),a.once("close",()=>{this.logger.info({tnx:"connection",cid:a.id,action:"closed"},"Connection #%s was closed",a.id),this._removeConnection(a),a.queueEntry?setTimeout(()=>{a.queueEntry&&(this._shouldRequeuOnConnectionClose(a.queueEntry)?this._requeueEntryOnConnectionClose(a):this._failDeliveryOnConnectionClose(a)),this._continueProcessing()},50):(this._closed||!this.idling||this._connections.length||this.emit("clear"),this._continueProcessing())}),this._connections.push(a),a}_shouldRequeuOnConnectionClose(a){return void 0===this.options.maxRequeues||this.options.maxRequeues<0||a.requeueAttempts<this.options.maxRequeues}_failDeliveryOnConnectionClose(a){if(a.queueEntry&&a.queueEntry.callback){try{a.queueEntry.callback(Error("Reached maximum number of retries after connection was closed"))}catch(b){this.logger.error({err:b,tnx:"callback",messageId:a.queueEntry.messageId,cid:a.id},"Callback error for #%s: %s",a.id,b.message)}a.queueEntry=!1}}_requeueEntryOnConnectionClose(a){a.queueEntry.requeueAttempts=a.queueEntry.requeueAttempts+1,this.logger.debug({tnx:"pool",cid:a.id,messageId:a.queueEntry.messageId,action:"requeue"},"Re-queued message <%s> for #%s. Attempt: #%s",a.queueEntry.messageId,a.id,a.queueEntry.requeueAttempts),this._queue.unshift(a.queueEntry),a.queueEntry=!1}_continueProcessing(){this._closed?this.close():setTimeout(()=>this._processMessages(),100)}_removeConnection(a){let b=this._connections.indexOf(a);-1!==b&&this._connections.splice(b,1)}_checkRateLimit(a){if(!this._rateLimit.limit)return a();let b=Date.now();return this._rateLimit.counter<this._rateLimit.limit?a():(this._rateLimit.waiting.push(a),this._rateLimit.checkpoint<=b-this._rateLimit.delta)?this._clearRateLimit():void(!this._rateLimit.timeout&&(this._rateLimit.timeout=setTimeout(()=>this._clearRateLimit(),this._rateLimit.delta-(b-this._rateLimit.checkpoint)),this._rateLimit.checkpoint=b))}_clearRateLimit(){for(clearTimeout(this._rateLimit.timeout),this._rateLimit.timeout=null,this._rateLimit.counter=0,this._rateLimit.checkpoint=!1;this._rateLimit.waiting.length;)setImmediate(this._rateLimit.waiting.shift())}isIdle(){return this.idling}verify(a){let b;a||(b=new Promise((b,c)=>{a=h.callbackPromise(b,c)}));let c=new e(this).auth;return this.getSocket(this.options,(b,d)=>{if(b)return a(b);let e=this.options;d&&d.connection&&(this.logger.info({tnx:"proxy",remoteAddress:d.connection.remoteAddress,remotePort:d.connection.remotePort,destHost:e.host||"",destPort:e.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",d.connection.remoteAddress,d.connection.remotePort,e.host||"",e.port||""),e=h.assign(!1,e),Object.keys(d).forEach(a=>{e[a]=d[a]}));let g=new f(e),i=!1;g.once("error",b=>{if(!i)return i=!0,g.close(),a(b)}),g.once("end",()=>{if(!i)return i=!0,a(Error("Connection closed"))});let j=()=>{if(!i)return i=!0,g.quit(),a(null,!0)};g.connect(()=>{if(!i)if(c&&(g.allowsAuth||e.forceAuth))g.login(c,b=>{if(!i){if(b)return i=!0,g.close(),a(b);j()}});else if(!c&&g.allowsAuth&&e.forceAuth){let b=Error("Authentication info was not provided");return b.code="NoAuth",i=!0,g.close(),a(b)}else j()})}),b}}a.exports=j},87936:(a,b,c)=>{"use strict";c.d(b,{$:()=>t});var d=c(99408),e=c(10631),f=c(89819),g=c(71898),h=c(82545),i=c(1276),j=c(35597),k=c(55878),l=c(10353),m=c(23042),o=c(66089),p=c(16886),q=c(48445),r=c(35183),s=c(96683);let t=async a=>{let b=a;try{let{id:a,collection:{config:c},currentDepth:o,depth:t,disableErrors:u,draft:v=!1,flattenLocales:w,includeLockStatus:x,joins:y,overrideAccess:z=!1,populate:A,req:{fallbackLocale:B,locale:C,t:D},req:E,select:F,showHiddenFields:G,trash:H=!1}=b=await (0,s.v)({args:b,collection:b.collection.config,operation:"read"}),I=(0,p.Y)({fields:c.flattenedFields,forceSelect:c.forceSelect,select:F}),J=!!z||await (0,d.m)({id:a,disableErrors:u,req:E},c.access.read);if(!1===J)return null;let K={id:{equals:a}},L=(0,e.m)(K,J);L=(0,l.v)({enableTrash:c.trash,trash:H,where:L}),(0,g.D)({fields:c.flattenedFields,payload:b.req.payload,where:L});let M=await (0,f.S)({collectionConfig:c,joins:y,overrideAccess:z,req:E});E.payload.collections[c.slug].customIDType&&await (0,j.d)({collectionConfig:c,overrideAccess:z,req:E,where:K});let N={collection:c.slug,draftsEnabled:v,joins:"GraphQL"!==E.payloadAPI&&M,locale:C,req:{transactionID:E.transactionID},select:I,where:L};if(!N.where?.and?.[0]?.id)throw new h.M(D);let O=await E.payload.db.findOne(N);if(!O&&!b.data){if(!u)throw new h.M(E.t);return null}let P=b.data??O;if(x&&a){let b=null;try{let d=c?.lockDocuments,e=300,f="object"==typeof d?d.duration:e,g=1e3*f,h=await E.payload.find({collection:k.q,depth:1,limit:1,overrideAccess:!1,pagination:!1,req:E,where:{and:[{"document.relationTo":{equals:c.slug}},{"document.value":{equals:a}},{updatedAt:{greater_than:new Date(new Date().getTime()-g)}}]}});h&&h.docs.length>0&&(b=h.docs[0])}catch{}P._isLocked=!!b,P._userEditing=b?.user?.value??null}if(v&&(0,m.gD)(c)&&(P=await (0,q.M)({accessResult:J,doc:P,entity:c,entityType:"collection",overrideAccess:z,req:E,select:I})),c.hooks?.beforeRead?.length)for(let a of c.hooks.beforeRead)P=await a({collection:c,context:E.context,doc:P,query:N.where,req:E})||P;if(P=await (0,i.v)({collection:c,context:E.context,currentDepth:o,depth:t,doc:P,draft:v,fallbackLocale:B,flattenLocales:w,global:null,locale:C,overrideAccess:z,populate:A,req:E,select:I,showHiddenFields:G}),c.hooks?.afterRead?.length)for(let a of c.hooks.afterRead)P=await a({collection:c,context:E.context,doc:P,query:N.where,req:E})||P;return P=await (0,r.E)({args:b,collection:c,operation:"findByID",result:P})}catch(a){throw await (0,o.J)(b.req),a}}},87963:(a,b,c)=>{"use strict";c.d(b,{l:()=>s});var d=c(30500),e=c(15629),f=c(10631),g=c(78584),h=c(1276),i=c(40869),j=c(86739),k=c(46601),l=c(37712),m=c(34611),o=c(48348),p=c(77600),q=c(23042),r=c(58609);let s=async({id:a,accessResults:b,autosave:c,collectionConfig:s,config:t,data:u,depth:v,docWithLocales:w,draftArg:x,fallbackLocale:y,filesToUpload:z,locale:A,overrideAccess:B,overrideLock:C,payload:D,populate:E,publishSpecificLocale:F,req:G,select:H,showHiddenFields:I})=>{let J,K=u?.password,L=!!(x&&(0,q.gD)(s))&&"published"!==u._status,M=!!(K&&s.auth&&(!s.auth.disableLocalStrategy||"object"==typeof s.auth.disableLocalStrategy&&s.auth.disableLocalStrategy.enableFields)&&!L);await (0,p.B)({id:a,collectionSlug:s.slug,lockErrorMessage:`Document with ID ${a} is currently locked by another user and cannot be updated.`,overrideLock:C,req:G});let N=await (0,h.v)({collection:s,context:G.context,depth:0,doc:(0,k.Zt)(w),draft:x,fallbackLocale:a?null:y,global:null,locale:A,overrideAccess:!0,req:G,showHiddenFields:!0}),O=!!N?.deletedAt&&u?._status!=="published";if(s.auth&&(0,d.q)({authOptions:s.auth,collectionSlug:s.slug,data:u,operation:"update",originalDoc:N,req:G}),await (0,m.F)({collectionConfig:s,config:t,doc:w,files:z,overrideDelete:!1,req:G}),u=await (0,j.M)({id:a,collection:s,context:G.context,data:u,doc:N,global:null,operation:"update",overrideAccess:B,req:G}),s.hooks?.beforeValidate?.length)for(let a of s.hooks.beforeValidate)u=await a({collection:s,context:G.context,data:u,operation:"update",originalDoc:N,req:G})||u;if(s.upload.disableLocalStorage||await (0,o.Z)(D,z,G),s.hooks?.beforeChange?.length)for(let a of s.hooks.beforeChange)u=await a({collection:s,context:G.context,data:u,operation:"update",originalDoc:N,req:G})||u;let P={id:a,collection:s,context:G.context,data:{...u,id:a},doc:N,docWithLocales:w,global:null,operation:"update",overrideAccess:B,req:G,skipValidation:L&&!(0,q.wA)(s)||s.trash&&(!!u?.deletedAt||O)},Q=await (0,i.o)(P);t.localization&&s.versions&&F&&(J=(0,k.Zt)(Q),Q=await (0,i.o)({...P,docWithLocales:await (0,r.a)({id:a,config:s,payload:D,published:!0,query:{collection:s.slug,locale:A,req:G,where:(0,f.m)({id:{equals:a}},b)},req:G})||{}}));let R={...Q};if(M&&"string"==typeof K){let{hash:a,salt:b}=await (0,e.$)({collection:s,password:K,req:G});R.salt=b,R.hash=a,delete R.password,delete u.password}if(L||(R.updatedAt=new Date().toISOString(),Q=await G.payload.db.updateOne({id:a,collection:s.slug,data:R,locale:A,req:G})),s.versions&&(Q=await (0,l.U)({id:a,autosave:c,collection:s,docWithLocales:Q,draft:L,operation:"update",payload:D,publishSpecificLocale:F,req:G,snapshot:J})),Q=await (0,h.v)({collection:s,context:G.context,depth:v,doc:Q,draft:x,fallbackLocale:y,global:null,locale:A,overrideAccess:B,populate:E,req:G,select:H,showHiddenFields:I}),s.hooks?.afterRead?.length)for(let a of s.hooks.afterRead)Q=await a({collection:s,context:G.context,doc:Q,req:G})||Q;if(Q=await (0,g.t)({collection:s,context:G.context,data:u,doc:Q,global:null,operation:"update",previousDoc:N,req:G}),s.hooks?.afterChange?.length)for(let a of s.hooks.afterChange)Q=await a({collection:s,context:G.context,data:u,doc:Q,operation:"update",previousDoc:N,req:G})||Q;return Q}},87995:(a,b,c)=>{"use strict";c.d(b,{v:()=>g});var d=c(78164);let e={type:"text-format",format:["italic"],tag:"*"},f={type:"text-format",format:["italic"],intraword:!1,tag:"_"},g=(0,d.m)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#ItalicFeatureClient",markdownTransformers:[e,f]},key:"italic"})},88200:a=>{"use strict";var b=Buffer.from||Buffer;a.exports=function(a){if(/^\\x/.test(a))return b(a.substr(2),"hex");for(var c="",d=0;d<a.length;)if("\\"!==a[d])c+=a[d],++d;else if(/[0-7]{3}/.test(a.substr(d+1,3)))c+=String.fromCharCode(parseInt(a.substr(d+1,3),8)),d+=4;else{for(var e=1;d+e<a.length&&"\\"===a[d+e];)e++;for(var f=0;f<Math.floor(e/2);++f)c+="\\";d+=2*Math.floor(e/2)}return b(c,"binary")}},88392:(a,b,c)=>{"use strict";c.d(b,{u:()=>e});var d=c(95176);let e=a=>a[d.V]||(a[d.V]={})},88453:(a,b,c)=>{"use strict";let d=c(94735),e=c(81630),{Duplex:f}=c(27910),{createHash:g}=c(55511),h=c(66231),i=c(36124),j=c(49048),k=c(90229),{GUID:l,kWebSocket:m}=c(82455),o=/^[+/0-9A-Za-z]{22}==$/,p=0,q=1,r=2;class s extends d{constructor(a,b){if(super(),null==(a={allowSynchronousEvents:!0,autoPong:!0,maxPayload:0x6400000,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:k,...a}).port&&!a.server&&!a.noServer||null!=a.port&&(a.server||a.noServer)||a.server&&a.noServer)throw TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=a.port?(this._server=e.createServer((a,b)=>{let c=e.STATUS_CODES[426];b.writeHead(426,{"Content-Length":c.length,"Content-Type":"text/plain"}),b.end(c)}),this._server.listen(a.port,a.host,a.backlog,b)):a.server&&(this._server=a.server),this._server){let a=this.emit.bind(this,"connection");this._removeListeners=t(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(b,c,d)=>{this.handleUpgrade(b,c,d,a)}})}!0===a.perMessageDeflate&&(a.perMessageDeflate={}),a.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=a,this._state=p}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(a){if(this._state===r){a&&this.once("close",()=>{a(Error("The server is not running"))}),process.nextTick(u,this);return}if(a&&this.once("close",a),this._state!==q)if(this._state=q,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(u,this);else{let a=this._server;this._removeListeners(),this._removeListeners=this._server=null,a.close(()=>{u(this)})}}shouldHandle(a){if(this.options.path){let b=a.url.indexOf("?");if((-1!==b?a.url.slice(0,b):a.url)!==this.options.path)return!1}return!0}handleUpgrade(a,b,c,d){b.on("error",v);let e=a.headers["sec-websocket-key"],f=a.headers.upgrade,g=+a.headers["sec-websocket-version"];if("GET"!==a.method)return void x(this,a,b,405,"Invalid HTTP method");if(void 0===f||"websocket"!==f.toLowerCase())return void x(this,a,b,400,"Invalid Upgrade header");if(void 0===e||!o.test(e))return void x(this,a,b,400,"Missing or invalid Sec-WebSocket-Key header");if(8!==g&&13!==g)return void x(this,a,b,400,"Missing or invalid Sec-WebSocket-Version header");if(!this.shouldHandle(a))return void w(b,400);let k=a.headers["sec-websocket-protocol"],l=new Set;if(void 0!==k)try{l=j.parse(k)}catch(c){x(this,a,b,400,"Invalid Sec-WebSocket-Protocol header");return}let m=a.headers["sec-websocket-extensions"],p={};if(this.options.perMessageDeflate&&void 0!==m){let c=new i(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let a=h.parse(m);a[i.extensionName]&&(c.accept(a[i.extensionName]),p[i.extensionName]=c)}catch(c){x(this,a,b,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let f={origin:a.headers[`${8===g?"sec-websocket-origin":"origin"}`],secure:!!(a.socket.authorized||a.socket.encrypted),req:a};if(2===this.options.verifyClient.length)return void this.options.verifyClient(f,(f,g,h,i)=>{if(!f)return w(b,g||401,h,i);this.completeUpgrade(p,e,l,a,b,c,d)});if(!this.options.verifyClient(f))return w(b,401)}this.completeUpgrade(p,e,l,a,b,c,d)}completeUpgrade(a,b,c,d,e,f,j){if(!e.readable||!e.writable)return e.destroy();if(e[m])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>p)return w(e,503);let k=g("sha1").update(b+l).digest("base64"),o=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${k}`],q=new this.options.WebSocket(null,void 0,this.options);if(c.size){let a=this.options.handleProtocols?this.options.handleProtocols(c,d):c.values().next().value;a&&(o.push(`Sec-WebSocket-Protocol: ${a}`),q._protocol=a)}if(a[i.extensionName]){let b=a[i.extensionName].params,c=h.format({[i.extensionName]:[b]});o.push(`Sec-WebSocket-Extensions: ${c}`),q._extensions=a}this.emit("headers",o,d),e.write(o.concat("\r\n").join("\r\n")),e.removeListener("error",v),q.setSocket(e,f,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(q),q.on("close",()=>{this.clients.delete(q),this._shouldEmitClose&&!this.clients.size&&process.nextTick(u,this)})),j(q,d)}}function t(a,b){for(let c of Object.keys(b))a.on(c,b[c]);return function(){for(let c of Object.keys(b))a.removeListener(c,b[c])}}function u(a){a._state=r,a.emit("close")}function v(){this.destroy()}function w(a,b,c,d){c=c||e.STATUS_CODES[b],d={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(c),...d},a.once("finish",a.destroy),a.end(`HTTP/1.1 ${b} ${e.STATUS_CODES[b]}\r
`+Object.keys(d).map(a=>`${a}: ${d[a]}`).join("\r\n")+"\r\n\r\n"+c)}function x(a,b,c,d,e){if(a.listenerCount("wsClientError")){let d=Error(e);Error.captureStackTrace(d,x),a.emit("wsClientError",d,c,b)}else w(c,d,e)}a.exports=s},88521:(a,b,c)=>{"use strict";function d(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}h.done?b(i):Promise.resolve(i).then(d,e)}function e(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function h(a){d(g,e,f,h,i,"next",a)}function i(a){d(g,e,f,h,i,"throw",a)}h(void 0)})}}let f=c(85558),g=c(42319),h=c(40821),i=h.erase,j=h.cursor,k=c(13576),l=k.style,m=k.clear,o=k.figures,p=k.wrap,q=k.entriesToDisplay,r=(a,b)=>a[b]&&(a[b].value||a[b].title||a[b]),s=(a,b)=>a[b]&&(a[b].title||a[b].value||a[b]),t=(a,b)=>{let c=a.findIndex(a=>a.value===b||a.title===b);return c>-1?c:void 0};class u extends g{constructor(a={}){super(a),this.msg=a.message,this.suggest=a.suggest,this.choices=a.choices,this.initial="number"==typeof a.initial?a.initial:t(a.choices,a.initial),this.select=this.initial||a.cursor||0,this.i18n={noMatches:a.noMatches||"no matches found"},this.fallback=a.fallback||this.initial,this.clearFirst=a.clearFirst||!1,this.suggestions=[],this.input="",this.limit=a.limit||10,this.cursor=0,this.transform=l.render(a.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=m("",this.out.columns),this.complete(this.render),this.render()}set fallback(a){this._fb=Number.isSafeInteger(parseInt(a))?parseInt(a):a}get fallback(){let a;return"number"==typeof this._fb?a=this.choices[this._fb]:"string"==typeof this._fb&&(a={title:this._fb}),a||this._fb||{title:this.i18n.noMatches}}moveSelect(a){this.select=a,this.suggestions.length>0?this.value=r(this.suggestions,a):this.value=this.fallback.value,this.fire()}complete(a){var b=this;return e(function*(){let c=b.completing=b.suggest(b.input,b.choices),d=yield c;if(b.completing!==c)return;b.suggestions=d.map((a,b,c)=>({title:s(c,b),value:r(c,b),description:a.description})),b.completing=!1;let e=Math.max(d.length-1,0);b.moveSelect(Math.min(e,b.select)),a&&a()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(a,b){let c=this.input.slice(0,this.cursor),d=this.input.slice(this.cursor);this.input=`${c}${a}${d}`,this.cursor=c.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let a=this.input.slice(0,this.cursor-1),b=this.input.slice(this.cursor);this.input=`${a}${b}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let a=this.input.slice(0,this.cursor),b=this.input.slice(this.cursor+1);this.input=`${a}${b}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(a,b,c,d){let e,g=c?o.arrowUp:d?o.arrowDown:" ",h=b?f.cyan().underline(a.title):a.title;return g=(b?f.cyan(o.pointer)+" ":"  ")+g,a.description&&(e=` - ${a.description}`,(g.length+h.length+e.length>=this.out.columns||a.description.split(/\r?\n/).length>1)&&(e="\n"+p(a.description,{margin:3,width:this.out.columns}))),g+" "+h+f.gray(e||"")}render(){if(this.closed)return;this.firstRender?this.out.write(j.hide):this.out.write(m(this.outputText,this.out.columns)),super.render();let a=q(this.select,this.choices.length,this.limit),b=a.startIndex,c=a.endIndex;if(this.outputText=[l.symbol(this.done,this.aborted,this.exited),f.bold(this.msg),l.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let a=this.suggestions.slice(b,c).map((a,d)=>this.renderOption(a,this.select===d+b,0===d&&b>0,d+b===c-1&&c<this.choices.length)).join("\n");this.outputText+=`
`+(a||f.gray(this.fallback.title))}this.out.write(i.line+j.to(0)+this.outputText)}}a.exports=u},88550:(a,b,c)=>{"use strict";let d=c(85558),e=c(68794),f=Object.freeze({password:{scale:1,render:a=>"*".repeat(a.length)},emoji:{scale:2,render:a=>"\uD83D\uDE03".repeat(a.length)},invisible:{scale:0,render:a=>""},default:{scale:1,render:a=>`${a}`}}),g=a=>f[a]||f.default,h=Object.freeze({aborted:d.red(e.cross),done:d.green(e.tick),exited:d.yellow(e.cross),default:d.cyan("?")}),i=(a,b,c)=>b?h.aborted:c?h.exited:a?h.done:h.default;a.exports={styles:f,render:g,symbols:h,symbol:i,delimiter:a=>d.gray(a?e.ellipsis:e.pointerSmall),item:(a,b)=>d.gray(a?b?e.pointerSmall:"+":e.line)}},88687:(a,b,c)=>{let d=c(85558),e=c(63190),{erase:f,cursor:g}=c(40821),{style:h,clear:i,lines:j,figures:k}=c(78339);class l extends e{constructor(a={}){super(a),this.transform=h.render(a.style),this.scale=this.transform.scale,this.msg=a.message,this.initial=a.initial||"",this.validator=a.validate||(()=>!0),this.value="",this.errorMsg=a.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=i("",this.out.columns),this.render()}set value(a){!a&&this.initial?(this.placeholder=!0,this.rendered=d.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(a)),this._value=a,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let a=await this.validator(this.value);"string"==typeof a&&(this.errorMsg=a,a=!1),this.error=!a}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(a){this.placeholder||(this.cursor=this.cursor+a,this.cursorOffset+=a)}_(a,b){let c=this.value.slice(0,this.cursor),d=this.value.slice(this.cursor);this.value=`${c}${a}${d}`,this.red=!1,this.cursor=this.placeholder?0:c.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let a=this.value.slice(0,this.cursor-1),b=this.value.slice(this.cursor);this.value=`${a}${b}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let a=this.value.slice(0,this.cursor),b=this.value.slice(this.cursor+1);this.value=`${a}${b}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(g.down(j(this.outputError,this.out.columns)-1)+i(this.outputError,this.out.columns)),this.out.write(i(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[h.symbol(this.done,this.aborted),d.bold(this.msg),h.delimiter(this.done),this.red?d.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((a,b,c)=>a+`
${c?" ":k.pointerSmall} ${d.red().italic(b)}`,"")),this.out.write(f.line+g.to(0)+this.outputText+g.save+this.outputError+g.restore+g.move(this.cursorOffset,0)))}}a.exports=l},89156:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.boolOrEmptySchema=b.topBoolOrEmptySchema=void 0;let d=c(94233),e=c(47934),f=c(10004),g={message:"boolean schema is false"};function h(a,b){let{gen:c,data:e}=a,f={gen:c,keyword:"false schema",data:e,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,d.reportError)(f,g,void 0,b)}b.topBoolOrEmptySchema=function(a){let{gen:b,schema:c,validateName:d}=a;!1===c?h(a,!1):"object"==typeof c&&!0===c.$async?b.return(f.default.data):(b.assign((0,e._)`${d}.errors`,null),b.return(!0))},b.boolOrEmptySchema=function(a,b){let{gen:c,schema:d}=a;!1===d?(c.var(b,!1),h(a)):c.var(b,!0)}},89203:(a,b,c)=>{"use strict";function d(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function e(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?d(Object(c),!0).forEach(function(b){f(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):d(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function g(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=h(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,i=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){i=!0,f=a},f:function(){try{g||null==c.return||c.return()}finally{if(i)throw f}}}}function h(a,b){if(a){if("string"==typeof a)return i(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return i(a,b)}}function i(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}h.done?b(i):Promise.resolve(i).then(d,e)}function k(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){j(f,d,e,g,h,"next",a)}function h(a){j(f,d,e,g,h,"throw",a)}g(void 0)})}}let l=c(4360),m=["suggest","format","onState","validate","onRender","type"],o=()=>{};function p(){return q.apply(this,arguments)}function q(){return(q=k(function*(a=[],{onSubmit:b=o,onCancel:c=o}={}){let d,f,h,i,j,q,s={},t=p._override||{};a=[].concat(a);let u=function(){var a=k(function*(a,b,c=!1){if(c||!a.validate||!0===a.validate(b))return a.format?yield a.format(b,s):b});return function(b,c){return a.apply(this,arguments)}}();var v,w=g(a);try{for(w.s();!(v=w.n()).done;){var x=f=v.value;if(i=x.name,j=x.type,"function"==typeof j&&(j=yield j(d,e({},s),f),f.type=j),j){for(let a in f){if(m.includes(a))continue;let b=f[a];f[a]="function"==typeof b?yield b(d,e({},s),q):b}if(q=f,"string"!=typeof f.message)throw Error("prompt message is required");var y=f;if(i=y.name,j=y.type,void 0===l[j])throw Error(`prompt type (${j}) is not defined`);if(void 0!==t[f.name]&&(d=yield u(f,t[f.name]),void 0!==d)){s[i]=d;continue}try{d=p._injected?r(p._injected,f.initial):yield l[j](f),s[i]=d=yield u(f,d,!0),h=yield b(f,d,s)}catch(a){h=!(yield c(f,s))}if(h)return s}}}catch(a){w.e(a)}finally{w.f()}return s})).apply(this,arguments)}function r(a,b){let c=a.shift();if(c instanceof Error)throw c;return void 0===c?b:c}function s(a){p._injected=(p._injected||[]).concat(a)}function t(a){p._override=Object.assign({},a)}a.exports=Object.assign(p,{prompt:p,prompts:l,inject:s,override:t})},89342:(a,b,c)=>{let{getStream:d,getSecureStream:e}=i();function f(){return{getStream:function(a){return new(c(91645)).Socket},getSecureStream:function(a){return c(34631).connect(a)}}}function g(){return{getStream:function(a){let{CloudflareSocket:b}=c(57126);return new b(a)},getSecureStream:function(a){return a.socket.startTls(a),a.socket}}}function h(){if("object"==typeof navigator&&null!==navigator&&"string"==typeof navigator.userAgent)return"Cloudflare-Workers"===navigator.userAgent;if("function"==typeof Response){let a=new Response(null,{cf:{thing:!0}});if("object"==typeof a.cf&&null!==a.cf&&a.cf.thing)return!0}return!1}function i(){return h()?g():f()}a.exports={getStream:d,getSecureStream:e}},89480:(a,b,c)=>{"use strict";c.d(b,{a:()=>f,n:()=>g});let d={},e={};for(let a=0;a<256;a++){let b=a.toString(16).toLowerCase();1===b.length&&(b=`0${b}`),d[a]=b,e[b]=a}function f(a){if(a.length%2!=0)throw Error("Hex encoded strings must have an even number length");let b=new Uint8Array(a.length/2);for(let c=0;c<a.length;c+=2){let d=a.slice(c,c+2).toLowerCase();if(d in e)b[c/2]=e[d];else throw Error(`Cannot decode unrecognized sequence ${d} as hexadecimal`)}return b}function g(a){let b="";for(let c=0;c<a.byteLength;c++)b+=d[a[c]];return b}},89597:(a,b,c)=>{"use strict";let d=c(49989),{signatureAlgorithmHashFromCertificate:e}=c(17738);function f(a){if("string"!=typeof a)throw TypeError("SASL: text must be a string");return a.split("").map((b,c)=>a.charCodeAt(c)).every(a=>a>=33&&a<=43||a>=45&&a<=126)}function g(a){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(a)}function h(a){if("string"!=typeof a)throw TypeError("SASL: attribute pairs text must be a string");return new Map(a.split(",").map(a=>{if(!/^.=/.test(a))throw Error("SASL: Invalid attribute pair entry");return[a[0],a.substring(2)]}))}function i(a){let b=h(a),c=b.get("r");if(c){if(!f(c))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let d=b.get("s");if(d){if(!g(d))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let e=b.get("i");if(e){if(!/^[1-9][0-9]*$/.test(e))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");return{nonce:c,salt:d,iteration:parseInt(e,10)}}function j(a){let b=h(a).get("v");if(b){if(!g(b))throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:b}}function k(a,b){if(!Buffer.isBuffer(a))throw TypeError("first argument must be a Buffer");if(!Buffer.isBuffer(b))throw TypeError("second argument must be a Buffer");if(a.length!==b.length)throw Error("Buffer lengths must match");if(0===a.length)throw Error("Buffers cannot be empty");return Buffer.from(a.map((c,d)=>a[d]^b[d]))}a.exports={startSession:function(a,b){let c=["SCRAM-SHA-256"];b&&c.unshift("SCRAM-SHA-256-PLUS");let e=c.find(b=>a.includes(b));if(!e)throw Error("SASL: Only mechanism(s) "+c.join(" and ")+" are supported");if("SCRAM-SHA-256-PLUS"===e&&"function"!=typeof b.getPeerCertificate)throw Error("SASL: Mechanism SCRAM-SHA-256-PLUS requires a certificate");let f=d.randomBytes(18).toString("base64"),g="SCRAM-SHA-256-PLUS"===e?"p=tls-server-end-point":b?"y":"n";return{mechanism:e,clientNonce:f,response:g+",,n=*,r="+f,message:"SASLInitialResponse"}},continueSession:async function(a,b,c,f){if("SASLInitialResponse"!==a.message)throw Error("SASL: Last message was not SASLInitialResponse");if("string"!=typeof b)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if(""===b)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a non-empty string");if("string"!=typeof c)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let g=i(c);if(g.nonce.startsWith(a.clientNonce)){if(g.nonce.length===a.clientNonce.length)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");let h="n=*,r="+a.clientNonce,j="r="+g.nonce+",s="+g.salt+",i="+g.iteration,l=f?"eSws":"biws";if("SCRAM-SHA-256-PLUS"===a.mechanism){let a=f.getPeerCertificate().raw,b=e(a);("MD5"===b||"SHA-1"===b)&&(b="SHA-256");let c=await d.hashByName(b,a);l=Buffer.concat([Buffer.from("p=tls-server-end-point,,"),Buffer.from(c)]).toString("base64")}let m="c="+l+",r="+g.nonce,o=h+","+j+","+m,p=Buffer.from(g.salt,"base64"),q=await d.deriveKey(b,p,g.iteration),r=await d.hmacSha256(q,"Client Key"),s=await d.sha256(r),t=await d.hmacSha256(s,o),u=k(Buffer.from(r),Buffer.from(t)).toString("base64"),v=await d.hmacSha256(q,"Server Key"),w=await d.hmacSha256(v,o);a.message="SASLResponse",a.serverSignature=Buffer.from(w).toString("base64"),a.response=m+",p="+u},finalizeSession:function(a,b){if("SASLResponse"!==a.message)throw Error("SASL: Last message was not SASLResponse");if("string"!=typeof b)throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:c}=j(b);if(c!==a.serverSignature)throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}}},89701:(a,b,c)=>{"use strict";function d(a,b,c){return a.$source||(a.$source={}),a.$source[b]=c,a}c.d(b,{g:()=>d})},89819:(a,b,c)=>{"use strict";c.d(b,{S:()=>i});var d=c(99408),e=c(73304),f=c(10631),g=c(35597);let h=async({collectionSlug:a,errors:b,join:c,joinsQuery:e,overrideAccess:h,promises:i,req:j})=>{let{joinPath:k}=c;if(!1===e[k])return;let l=j.payload.collections[a].config,m=!!h||await (0,d.m)({disableErrors:!0,req:j},l.access.read);if(!1===m){e[k]=!1;return}e[k]||(e[k]={});let o=e[k];o.where||(o.where={}),c.field.where&&(o.where=(0,f.m)(o.where,c.field.where)),i.push((0,g.d)({collectionConfig:l,errors:b,overrideAccess:h,polymorphicJoin:Array.isArray(c.field.collection),req:j,where:o.where})),"object"==typeof m&&(o.where=(0,f.m)(o.where,m))},i=async({collectionConfig:a,joins:b,overrideAccess:c,req:d})=>{if(!1===b)return!1;b||(b={});let f=[],g=[];for(let e in a.joins)for(let i of a.joins[e])await h({collectionSlug:e,errors:f,join:i,joinsQuery:b,overrideAccess:c,promises:g,req:d});for(let e of a.polymorphicJoins)for(let a of e.field.collection)await h({collectionSlug:a,errors:f,join:e,joinsQuery:b,overrideAccess:c,promises:g,req:d});if(await Promise.all(g),f.length>0)throw new e.l(f);return b}},89985:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(74492);let e=function(a,b,c,e,f){let g;if(void 0!==f.crit&&e?.crit===void 0)throw new a('"crit" (Critical) Header Parameter MUST be integrity protected');if(!e||void 0===e.crit)return new Set;if(!Array.isArray(e.crit)||0===e.crit.length||e.crit.some(a=>"string"!=typeof a||0===a.length))throw new a('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let h of(g=void 0!==c?new Map([...Object.entries(c),...b.entries()]):b,e.crit)){if(!g.has(h))throw new d.T0(`Extension Header Parameter "${h}" is not recognized`);if(void 0===f[h])throw new a(`Extension Header Parameter "${h}" is missing`);if(g.get(h)&&void 0===e[h])throw new a(`Extension Header Parameter "${h}" MUST be integrity protected`)}return new Set(e.crit)}},90022:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"isDynamicRoute",{enumerable:!0,get:function(){return g}});let d=c(18869),e=/\/[^/]*\[[^/]+\][^/]*(?=\/|$)/,f=/\/\[[^/]+\](?=\/|$)/;function g(a,b){return(void 0===b&&(b=!0),(0,d.isInterceptionRouteAppPath)(a)&&(a=(0,d.extractInterceptionRouteInformation)(a).interceptedRoute),b)?f.test(a):e.test(a)}},90229:(a,b,c)=>{"use strict";let d=c(94735),e=c(55591),f=c(81630),g=c(91645),h=c(34631),{randomBytes:i,createHash:j}=c(55511),{Duplex:k,Readable:l}=c(27910),{URL:m}=c(79551),o=c(36124),p=c(92065),q=c(51969),{isBlob:r}=c(72783),{BINARY_TYPES:s,EMPTY_BUFFER:t,GUID:u,kForOnEventAttribute:v,kListener:w,kStatusCode:x,kWebSocket:y,NOOP:z}=c(82455),{EventTarget:{addEventListener:A,removeEventListener:B}}=c(45186),{format:C,parse:D}=c(66231),{toBuffer:E}=c(53795),F=3e4,G=Symbol("kAborted"),H=[8,13],I=["CONNECTING","OPEN","CLOSING","CLOSED"],J=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class K extends d{constructor(a,b,c){super(),this._binaryType=s[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=t,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=K.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==a?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===b?b=[]:Array.isArray(b)||("object"==typeof b&&null!==b?(c=b,b=[]):b=[b]),L(this,a,b,c)):(this._autoPong=c.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(a){s.includes(a)&&(this._binaryType=a,this._receiver&&(this._receiver._binaryType=a))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(a,b,c){let d=new p({allowSynchronousEvents:c.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:c.maxPayload,skipUTF8Validation:c.skipUTF8Validation}),e=new q(a,this._extensions,c.generateMask);this._receiver=d,this._sender=e,this._socket=a,d[y]=this,e[y]=this,a[y]=this,d.on("conclude",R),d.on("drain",S),d.on("error",T),d.on("message",V),d.on("ping",W),d.on("pong",X),e.onerror=Z,a.setTimeout&&a.setTimeout(0),a.setNoDelay&&a.setNoDelay(),b.length>0&&a.unshift(b),a.on("close",_),a.on("data",aa),a.on("end",ab),a.on("error",ac),this._readyState=K.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=K.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[o.extensionName]&&this._extensions[o.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=K.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(a,b){if(this.readyState!==K.CLOSED){if(this.readyState===K.CONNECTING){let a="WebSocket was closed before the connection was established";P(this,this._req,a);return}if(this.readyState===K.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=K.CLOSING,this._sender.close(a,b,!this._isServer,a=>{!a&&(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),$(this)}}pause(){this.readyState!==K.CONNECTING&&this.readyState!==K.CLOSED&&(this._paused=!0,this._socket.pause())}ping(a,b,c){if(this.readyState===K.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof a?(c=a,a=b=void 0):"function"==typeof b&&(c=b,b=void 0),"number"==typeof a&&(a=a.toString()),this.readyState!==K.OPEN)return void Q(this,a,c);void 0===b&&(b=!this._isServer),this._sender.ping(a||t,b,c)}pong(a,b,c){if(this.readyState===K.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof a?(c=a,a=b=void 0):"function"==typeof b&&(c=b,b=void 0),"number"==typeof a&&(a=a.toString()),this.readyState!==K.OPEN)return void Q(this,a,c);void 0===b&&(b=!this._isServer),this._sender.pong(a||t,b,c)}resume(){this.readyState!==K.CONNECTING&&this.readyState!==K.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(a,b,c){if(this.readyState===K.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof b&&(c=b,b={}),"number"==typeof a&&(a=a.toString()),this.readyState!==K.OPEN)return void Q(this,a,c);let d={binary:"string"!=typeof a,mask:!this._isServer,compress:!0,fin:!0,...b};this._extensions[o.extensionName]||(d.compress=!1),this._sender.send(a||t,d,c)}terminate(){if(this.readyState!==K.CLOSED){if(this.readyState===K.CONNECTING){let a="WebSocket was closed before the connection was established";P(this,this._req,a);return}this._socket&&(this._readyState=K.CLOSING,this._socket.destroy())}}}function L(a,b,c,d){let g,h,k,l,p={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:H[1],maxPayload:0x6400000,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...d,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(a._autoPong=p.autoPong,!H.includes(p.protocolVersion))throw RangeError(`Unsupported protocol version: ${p.protocolVersion} (supported versions: ${H.join(", ")})`);if(b instanceof m)g=b;else try{g=new m(b)}catch(a){throw SyntaxError(`Invalid URL: ${b}`)}"http:"===g.protocol?g.protocol="ws:":"https:"===g.protocol&&(g.protocol="wss:"),a._url=g.href;let q="wss:"===g.protocol,r="ws+unix:"===g.protocol;if("ws:"===g.protocol||q||r?r&&!g.pathname?h="The URL's pathname is empty":g.hash&&(h="The URL contains a fragment identifier"):h='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"',h){let b=SyntaxError(h);if(0!==a._redirects)return void M(a,b);throw b}let s=q?443:80,t=i(16).toString("base64"),v=q?e.request:f.request,w=new Set;if(p.createConnection=p.createConnection||(q?O:N),p.defaultPort=p.defaultPort||s,p.port=g.port||s,p.host=g.hostname.startsWith("[")?g.hostname.slice(1,-1):g.hostname,p.headers={...p.headers,"Sec-WebSocket-Version":p.protocolVersion,"Sec-WebSocket-Key":t,Connection:"Upgrade",Upgrade:"websocket"},p.path=g.pathname+g.search,p.timeout=p.handshakeTimeout,p.perMessageDeflate&&(k=new o(!0!==p.perMessageDeflate?p.perMessageDeflate:{},!1,p.maxPayload),p.headers["Sec-WebSocket-Extensions"]=C({[o.extensionName]:k.offer()})),c.length){for(let a of c){if("string"!=typeof a||!J.test(a)||w.has(a))throw SyntaxError("An invalid or duplicated subprotocol was specified");w.add(a)}p.headers["Sec-WebSocket-Protocol"]=c.join(",")}if(p.origin&&(p.protocolVersion<13?p.headers["Sec-WebSocket-Origin"]=p.origin:p.headers.Origin=p.origin),(g.username||g.password)&&(p.auth=`${g.username}:${g.password}`),r){let a=p.path.split(":");p.socketPath=a[0],p.path=a[1]}if(p.followRedirects){if(0===a._redirects){a._originalIpc=r,a._originalSecure=q,a._originalHostOrSocketPath=r?p.socketPath:g.host;let b=d&&d.headers;if(d={...d,headers:{}},b)for(let[a,c]of Object.entries(b))d.headers[a.toLowerCase()]=c}else if(0===a.listenerCount("redirect")){let b=r?!!a._originalIpc&&p.socketPath===a._originalHostOrSocketPath:!a._originalIpc&&g.host===a._originalHostOrSocketPath;b&&(!a._originalSecure||q)||(delete p.headers.authorization,delete p.headers.cookie,b||delete p.headers.host,p.auth=void 0)}p.auth&&!d.headers.authorization&&(d.headers.authorization="Basic "+Buffer.from(p.auth).toString("base64")),l=a._req=v(p),a._redirects&&a.emit("redirect",a.url,l)}else l=a._req=v(p);p.timeout&&l.on("timeout",()=>{P(a,l,"Opening handshake has timed out")}),l.on("error",b=>{null===l||l[G]||(l=a._req=null,M(a,b))}),l.on("response",e=>{let f=e.headers.location,g=e.statusCode;if(f&&p.followRedirects&&g>=300&&g<400){let e;if(++a._redirects>p.maxRedirects)return void P(a,l,"Maximum redirects exceeded");l.abort();try{e=new m(f,b)}catch(b){M(a,SyntaxError(`Invalid URL: ${f}`));return}L(a,e,c,d)}else a.emit("unexpected-response",l,e)||P(a,l,`Unexpected server response: ${e.statusCode}`)}),l.on("upgrade",(b,c,d)=>{let e;if(a.emit("upgrade",b),a.readyState!==K.CONNECTING)return;l=a._req=null;let f=b.headers.upgrade;if(void 0===f||"websocket"!==f.toLowerCase())return void P(a,c,"Invalid Upgrade header");let g=j("sha1").update(t+u).digest("base64");if(b.headers["sec-websocket-accept"]!==g)return void P(a,c,"Invalid Sec-WebSocket-Accept header");let h=b.headers["sec-websocket-protocol"];if(void 0!==h?w.size?w.has(h)||(e="Server sent an invalid subprotocol"):e="Server sent a subprotocol but none was requested":w.size&&(e="Server sent no subprotocol"),e)return void P(a,c,e);h&&(a._protocol=h);let i=b.headers["sec-websocket-extensions"];if(void 0!==i){let b;if(!k)return void P(a,c,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");try{b=D(i)}catch(b){P(a,c,"Invalid Sec-WebSocket-Extensions header");return}let d=Object.keys(b);if(1!==d.length||d[0]!==o.extensionName)return void P(a,c,"Server indicated an extension that was not requested");try{k.accept(b[o.extensionName])}catch(b){P(a,c,"Invalid Sec-WebSocket-Extensions header");return}a._extensions[o.extensionName]=k}a.setSocket(c,d,{allowSynchronousEvents:p.allowSynchronousEvents,generateMask:p.generateMask,maxPayload:p.maxPayload,skipUTF8Validation:p.skipUTF8Validation})}),p.finishRequest?p.finishRequest(l,a):l.end()}function M(a,b){a._readyState=K.CLOSING,a._errorEmitted=!0,a.emit("error",b),a.emitClose()}function N(a){return a.path=a.socketPath,g.connect(a)}function O(a){return a.path=void 0,a.servername||""===a.servername||(a.servername=g.isIP(a.host)?"":a.host),h.connect(a)}function P(a,b,c){a._readyState=K.CLOSING;let d=Error(c);Error.captureStackTrace(d,P),b.setHeader?(b[G]=!0,b.abort(),b.socket&&!b.socket.destroyed&&b.socket.destroy(),process.nextTick(M,a,d)):(b.destroy(d),b.once("error",a.emit.bind(a,"error")),b.once("close",a.emitClose.bind(a)))}function Q(a,b,c){if(b){let c=r(b)?b.size:E(b).length;a._socket?a._sender._bufferedBytes+=c:a._bufferedAmount+=c}if(c){let b=Error(`WebSocket is not open: readyState ${a.readyState} (${I[a.readyState]})`);process.nextTick(c,b)}}function R(a,b){let c=this[y];c._closeFrameReceived=!0,c._closeMessage=b,c._closeCode=a,void 0!==c._socket[y]&&(c._socket.removeListener("data",aa),process.nextTick(Y,c._socket),1005===a?c.close():c.close(a,b))}function S(){let a=this[y];a.isPaused||a._socket.resume()}function T(a){let b=this[y];void 0!==b._socket[y]&&(b._socket.removeListener("data",aa),process.nextTick(Y,b._socket),b.close(a[x])),b._errorEmitted||(b._errorEmitted=!0,b.emit("error",a))}function U(){this[y].emitClose()}function V(a,b){this[y].emit("message",a,b)}function W(a){let b=this[y];b._autoPong&&b.pong(a,!this._isServer,z),b.emit("ping",a)}function X(a){this[y].emit("pong",a)}function Y(a){a.resume()}function Z(a){let b=this[y];b.readyState!==K.CLOSED&&(b.readyState===K.OPEN&&(b._readyState=K.CLOSING,$(b)),this._socket.end(),b._errorEmitted||(b._errorEmitted=!0,b.emit("error",a)))}function $(a){a._closeTimer=setTimeout(a._socket.destroy.bind(a._socket),F)}function _(){let a,b=this[y];this.removeListener("close",_),this.removeListener("data",aa),this.removeListener("end",ab),b._readyState=K.CLOSING,this._readableState.endEmitted||b._closeFrameReceived||b._receiver._writableState.errorEmitted||null===(a=b._socket.read())||b._receiver.write(a),b._receiver.end(),this[y]=void 0,clearTimeout(b._closeTimer),b._receiver._writableState.finished||b._receiver._writableState.errorEmitted?b.emitClose():(b._receiver.on("error",U),b._receiver.on("finish",U))}function aa(a){this[y]._receiver.write(a)||this.pause()}function ab(){let a=this[y];a._readyState=K.CLOSING,a._receiver.end(),this.end()}function ac(){let a=this[y];this.removeListener("error",ac),this.on("error",z),a&&(a._readyState=K.CLOSING,this.destroy())}Object.defineProperty(K,"CONNECTING",{enumerable:!0,value:I.indexOf("CONNECTING")}),Object.defineProperty(K.prototype,"CONNECTING",{enumerable:!0,value:I.indexOf("CONNECTING")}),Object.defineProperty(K,"OPEN",{enumerable:!0,value:I.indexOf("OPEN")}),Object.defineProperty(K.prototype,"OPEN",{enumerable:!0,value:I.indexOf("OPEN")}),Object.defineProperty(K,"CLOSING",{enumerable:!0,value:I.indexOf("CLOSING")}),Object.defineProperty(K.prototype,"CLOSING",{enumerable:!0,value:I.indexOf("CLOSING")}),Object.defineProperty(K,"CLOSED",{enumerable:!0,value:I.indexOf("CLOSED")}),Object.defineProperty(K.prototype,"CLOSED",{enumerable:!0,value:I.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(a=>{Object.defineProperty(K.prototype,a,{enumerable:!0})}),["open","error","close","message"].forEach(a=>{Object.defineProperty(K.prototype,`on${a}`,{enumerable:!0,get(){for(let b of this.listeners(a))if(b[v])return b[w];return null},set(b){for(let b of this.listeners(a))if(b[v]){this.removeListener(a,b);break}"function"==typeof b&&this.addEventListener(a,b,{[v]:!0})}})}),K.prototype.addEventListener=A,K.prototype.removeEventListener=B,a.exports=K},90406:a=>{"use strict";let b="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",c={enumerable:!0,writable:!1,configurable:!1},d={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},e={SENT:1,RECEIVED:2},f={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},g=65535,h={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4};a.exports={uid:b,sentCloseFrameState:e,staticPropertyDescriptors:c,states:d,opcodes:f,maxUnsigned16Bit:g,parserStates:h,emptyBuffer:Buffer.allocUnsafe(0),sendHints:{text:1,typedArray:2,arrayBuffer:3,blob:4}}},90467:(a,b,c)=>{"use strict";c.d(b,{AG:()=>f,ct:()=>g});var d=c(1573),e=c(92714);function f(a,b){return d(a,b,{arrayMerge:(a,b)=>b})}function g(a,b){return d(a,b,{isMergeableObject:e.Q})}},90519:(a,b,c)=>{"use strict";c.d(b,{l:()=>d});let d=(a,b)=>{let c=new Headers(b);return a.forEach((a,b)=>{c.append(b,a)}),c}},90534:(a,b,c)=>{"use strict";c.d(b,{A:()=>j});let d=60,e=3600,f=86400,g=604800,h=0x1e187e0,i=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,j=a=>{let b,c=i.exec(a);if(!c||c[4]&&c[1])throw TypeError("Invalid time period format");let j=parseFloat(c[2]);switch(c[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":b=Math.round(j);break;case"minute":case"minutes":case"min":case"mins":case"m":b=Math.round(j*d);break;case"hour":case"hours":case"hr":case"hrs":case"h":b=Math.round(j*e);break;case"day":case"days":case"d":b=Math.round(j*f);break;case"week":case"weeks":case"w":b=Math.round(j*g);break;default:b=Math.round(j*h)}return"-"===c[1]||"ago"===c[4]?-b:b}},90639:(a,b,c)=>{"use strict";c.d(b,{h:()=>g,y:()=>h});var d=c(7282),e=c(24401),f=c(70404);let g="ValidationError";class h extends f.L{constructor(a,b){let c=b?b("error:followingFieldsInvalid",{count:a.errors.length}):1===a.errors.length?d.en.translations.error.followingFieldsInvalid_one:d.en.translations.error.followingFieldsInvalid_other,f=a.req;delete a.req,super(`${c} ${a.errors.map(a=>{if(a.label)return"function"==typeof a.label?f&&f.i18n&&f.t?a.label({i18n:f.i18n,t:f.t}):a.path:"object"==typeof a.label?f?.i18n?.language?a.label[f.i18n.language]:a.label[Object.keys(a.label)[0]]:a.label;return a.path}).join(", ")}`,e.h.BAD_REQUEST,a),g=this.constructor.name}}},90699:(a,b,c)=>{"use strict";let d=c(27910).Transform;class e extends d{constructor(a){super(a),this.options=a||{},this._curLine="",this.inByteCount=0,this.outByteCount=0,this.lastByte=!1}_transform(a,b,c){let d,e=[],f=0,g,h,i=0;if(!a||!a.length)return c();for("string"==typeof a&&(a=Buffer.from(a)),this.inByteCount+=a.length,g=0,h=a.length;g<h;g++)46===a[g]?(!g||10!==a[g-1])&&(g||this.lastByte&&10!==this.lastByte)||(d=a.slice(i,g+1),e.push(d),e.push(Buffer.from(".")),f+=d.length+1,i=g+1):10===a[g]&&(g&&13!==a[g-1]||!g&&13!==this.lastByte)&&(g>i?(d=a.slice(i,g),e.push(d),f+=d.length+2):f+=2,e.push(Buffer.from("\r\n")),i=g+1);f?(i<a.length&&(d=a.slice(i),e.push(d),f+=d.length),this.outByteCount+=f,this.push(Buffer.concat(e,f))):(this.outByteCount+=a.length,this.push(a)),this.lastByte=a[a.length-1],c()}_flush(a){let b;b=10===this.lastByte?Buffer.from(".\r\n"):13===this.lastByte?Buffer.from("\n.\r\n"):Buffer.from("\r\n.\r\n"),this.outByteCount+=b.length,this.push(b),a()}}a.exports=e},91035:(a,b,c)=>{"use strict";c.d(b,{t:()=>d});let d=a=>{if("function"==typeof a)return a;let b=Promise.resolve(a);return()=>b}},91099:(a,b,c)=>{var d=c(2426),e=function(a,b,c,d,e){c=c||0,d=d||!1,e=e||function(a,b,c){return a*Math.pow(2,c)+b};var f=c>>3,g=function(a){return d?255&~a:a},h=255,i=8-c%8;b<i&&(h=255<<8-b&255,i=b),c&&(h>>=c%8);var j=0;c%8+b>=8&&(j=e(0,g(a[f])&h,i));for(var k=b+c>>3,l=f+1;l<k;l++)j=e(j,g(a[l]),8);var m=(b+c)%8;return m>0&&(j=e(j,g(a[k])>>8-m,m)),j},f=function(a,b,c){var d=Math.pow(2,c-1)-1,f=e(a,1),g=e(a,c,1);if(0===g)return 0;var h=1,i=e(a,b,c+1,!1,function(a,b,c){0===a&&(a=1);for(var d=1;d<=c;d++)h/=2,(b&1<<c-d)>0&&(a+=h);return a});return g==Math.pow(2,c+1)-1?0===i?0===f?1/0:-1/0:NaN:(0===f?1:-1)*Math.pow(2,g-d)*i},g=function(a){return 1==e(a,1)?-1*(e(a,15,1,!0)+1):e(a,15,1)},h=function(a){return 1==e(a,1)?-1*(e(a,31,1,!0)+1):e(a,31,1)},i=function(a){return f(a,23,8)},j=function(a){return f(a,52,11)},k=function(a){var b=e(a,16,32);if(49152==b)return NaN;for(var c=Math.pow(1e4,e(a,16,16)),d=0,f=e(a,16),g=0;g<f;g++)d+=e(a,16,64+16*g)*c,c/=1e4;var h=Math.pow(10,e(a,16,48));return(0===b?1:-1)*Math.round(d*h)/h},l=function(a,b){var c=e(b,1),d=e(b,63,1),f=new Date((0===c?1:-1)*d/1e3+9466848e5);return a||f.setTime(f.getTime()+6e4*f.getTimezoneOffset()),f.usec=d%1e3,f.getMicroSeconds=function(){return this.usec},f.setMicroSeconds=function(a){this.usec=a},f.getUTCMicroSeconds=function(){return this.usec},f},m=function(a){var b=e(a,32);e(a,32,32);for(var c=e(a,32,64),d=96,f=[],g=0;g<b;g++)f[g]=e(a,32,d),d+=64;var h=function(b){var c,f=e(a,32,d);return(d+=32,0xffffffff==f)?null:23==b||20==b?(c=e(a,8*f,d),d+=8*f,c):25==b?c=a.toString(this.encoding,d>>3,(d+=f<<3)>>3):void console.log("ERROR: ElementType not implemented: "+b)},i=function(a,b){var c,d=[];if(a.length>1){var e=a.shift();for(c=0;c<e;c++)d[c]=i(a,b);a.unshift(e)}else for(c=0;c<a[0];c++)d[c]=h(b);return d};return i(f,c)},o=function(a){return a.toString("utf8")},p=function(a){return null===a?null:e(a,8)>0};a.exports={init:function(a){a(20,d),a(21,g),a(23,h),a(26,h),a(1700,k),a(700,i),a(701,j),a(16,p),a(1114,l.bind(null,!1)),a(1184,l.bind(null,!0)),a(1e3,m),a(1007,m),a(1016,m),a(1008,m),a(1009,m),a(25,o)}}},91146:(a,b,c)=>{"use strict";let d=c(27910).Transform;function e(a){let b;"string"==typeof a&&(a=Buffer.from(a,"utf-8"));let c=[[9],[10],[13],[32,60],[62,126]],d="";for(let e=0,f=a.length;e<f;e++){if(g(b=a[e],c)&&(32!==b&&9!==b||e!==f-1&&10!==a[e+1]&&13!==a[e+1])){d+=String.fromCharCode(b);continue}d+="="+(b<16?"0":"")+b.toString(16).toUpperCase()}return d}function f(a,b){let c,d,e;if(a=(a||"").toString(),b=b||76,a.length<=b)return a;let f=0,g=a.length,h=Math.floor(b/3),i="";for(;f<g;){if(c=(e=a.substr(f,b)).match(/\r\n/)){i+=e=e.substr(0,c.index+c[0].length),f+=e.length;continue}if("\n"===e.substr(-1)){i+=e,f+=e.length;continue}if(c=e.substr(-h).match(/\n.*?$/)){i+=e=e.substr(0,e.length-(c[0].length-1)),f+=e.length;continue}if(e.length>b-h&&(c=e.substr(-h).match(/[ \t.,!?][^ \t.,!?]*$/)))e=e.substr(0,e.length-(c[0].length-1));else if(e.match(/[=][\da-f]{0,2}$/i))for((c=e.match(/[=][\da-f]{0,1}$/i))&&(e=e.substr(0,e.length-c[0].length));e.length>3&&e.length<g-f&&!e.match(/^(?:=[\da-f]{2}){1,4}$/i)&&(c=e.match(/[=][\da-f]{2}$/gi))&&!((d=parseInt(c[0].substr(1,2),16))<128)&&(e=e.substr(0,e.length-3),!(d>=192)););f+e.length<g&&"\n"!==e.substr(-1)?(e.length===b&&e.match(/[=][\da-f]{2}$/i)?e=e.substr(0,e.length-3):e.length===b&&(e=e.substr(0,e.length-1)),f+=e.length,e+="=\r\n"):f+=e.length,i+=e}return i}function g(a,b){for(let c=b.length-1;c>=0;c--)if(b[c].length&&(1===b[c].length&&a===b[c][0]||2===b[c].length&&a>=b[c][0]&&a<=b[c][1]))return!0;return!1}class h extends d{constructor(a){super(),this.options=a||{},!1!==this.options.lineLength&&(this.options.lineLength=this.options.lineLength||76),this._curLine="",this.inputBytes=0,this.outputBytes=0}_transform(a,b,c){let d;if("buffer"!==b&&(a=Buffer.from(a,b)),!a||!a.length)return c();this.inputBytes+=a.length,this.options.lineLength?(d=(d=f(d=this._curLine+e(a),this.options.lineLength)).replace(/(^|\n)([^\n]*)$/,(a,b,c)=>(this._curLine=c,b)))&&(this.outputBytes+=d.length,this.push(d)):(d=e(a),this.outputBytes+=d.length,this.push(d,"ascii")),c()}_flush(a){this._curLine&&(this.outputBytes+=this._curLine.length,this.push(this._curLine,"ascii")),a()}}a.exports={encode:e,wrap:f,Encoder:h}},91202:(a,b,c)=>{"use strict";var d;d={value:!0},Object.defineProperty(b,"e",{enumerable:!0,get:function(){return l}});let e=c(30007),f=c(54063),g=c(29294),h=c(63033),i=c(93293),j=0;async function k(a,b,c,d,f,g,h){await b.set(c,{kind:i.CachedRouteKind.FETCH,data:{headers:{},body:JSON.stringify(a),status:200,url:""},revalidate:"number"!=typeof f?e.CACHE_ONE_YEAR:f},{fetchCache:!0,tags:d,fetchIdx:g,fetchUrl:h})}function l(a,b,c={}){if(0===c.revalidate)throw Object.defineProperty(Error(`Invariant revalidate: 0 can not be passed to unstable_cache(), must be "false" or "> 0" ${a.toString()}`),"__NEXT_ERROR_CODE",{value:"E57",enumerable:!1,configurable:!0});let d=c.tags?(0,f.validateTags)(c.tags,`unstable_cache ${a.toString()}`):[];(0,f.validateRevalidate)(c.revalidate,`unstable_cache ${a.name||a.toString()}`);let e=`${a.toString()}-${Array.isArray(b)&&b.join(",")}`;return async(...b)=>{let f=g.workAsyncStorage.getStore(),l=h.workUnitAsyncStorage.getStore(),m=(null==f?void 0:f.incrementalCache)||globalThis.__incrementalCache;if(!m)throw Object.defineProperty(Error(`Invariant: incrementalCache missing in unstable_cache ${a.toString()}`),"__NEXT_ERROR_CODE",{value:"E469",enumerable:!1,configurable:!0});let o=m,p=l&&"prerender"===l.type?l.cacheSignal:null;p&&p.beginRead();try{let g=l&&"request"===l.type?l:void 0,m=(null==g?void 0:g.url.pathname)??(null==f?void 0:f.route)??"",p=new URLSearchParams((null==g?void 0:g.url.search)??""),q=[...p.keys()].sort((a,b)=>a.localeCompare(b)).map(a=>`${a}=${p.get(a)}`).join("&"),r=`${e}-${JSON.stringify(b)}`,s=await o.generateCacheKey(r),t=`unstable_cache ${m}${q.length?"?":""}${q} ${a.name?` ${a.name}`:s}`,u=(f?f.nextFetchId:j)??1,v=null==l?void 0:l.implicitTags,w={type:"unstable-cache",phase:"render",implicitTags:v,draftMode:l&&f&&(0,h.getDraftModeProviderForCacheScope)(f,l)};if(f){if(f.nextFetchId=u+1,l&&("cache"===l.type||"prerender"===l.type||"prerender-ppr"===l.type||"prerender-legacy"===l.type)){"number"==typeof c.revalidate&&(l.revalidate<c.revalidate||(l.revalidate=c.revalidate));let a=l.tags;if(null===a)l.tags=d.slice();else for(let b of d)a.includes(b)||a.push(b)}if(!(l&&"unstable-cache"===l.type)&&"force-no-store"!==f.fetchCache&&!f.isOnDemandRevalidate&&!o.isOnDemandRevalidate&&!f.isDraftMode){let e=await o.get(s,{kind:i.IncrementalCacheKind.FETCH,revalidate:c.revalidate,tags:d,softTags:null==v?void 0:v.tags,fetchIdx:u,fetchUrl:t});if(e&&e.value)if(e.value.kind!==i.CachedRouteKind.FETCH)console.error(`Invariant invalid cacheEntry returned for ${r}`);else{let g=void 0!==e.value.data.body?JSON.parse(e.value.data.body):void 0;if(e.isStale){if(f.pendingRevalidates||(f.pendingRevalidates={}),!f.pendingRevalidates[r]){let e=h.workUnitAsyncStorage.run(w,a,...b).then(async a=>(await k(a,o,s,d,c.revalidate,u,t),a)).catch(a=>(console.error(`revalidating cache with key: ${r}`,a),g));f.isRevalidate&&e.catch(()=>{}),f.pendingRevalidates[r]=e}if(f.isRevalidate)return f.pendingRevalidates[r]}return g}}let e=await h.workUnitAsyncStorage.run(w,a,...b);return f.isDraftMode||(f.pendingRevalidates||(f.pendingRevalidates={}),f.pendingRevalidates[r]=k(e,o,s,d,c.revalidate,u,t)),e}{if(j+=1,!o.isOnDemandRevalidate){let a=await o.get(s,{kind:i.IncrementalCacheKind.FETCH,revalidate:c.revalidate,tags:d,fetchIdx:u,fetchUrl:t,softTags:null==v?void 0:v.tags});if(a&&a.value){if(a.value.kind!==i.CachedRouteKind.FETCH)console.error(`Invariant invalid cacheEntry returned for ${r}`);else if(!a.isStale)return void 0!==a.value.data.body?JSON.parse(a.value.data.body):void 0}}let e=await h.workUnitAsyncStorage.run(w,a,...b);return await k(e,o,s,d,c.revalidate,u,t),e}}finally{p&&p.endRead()}}}},91316:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateSchemaDeps=b.validatePropertyDeps=b.error=void 0;let d=c(47934),e=c(34414),f=c(26582);b.error={message:({params:{property:a,depsCount:b,deps:c}})=>{let e=1===b?"property":"properties";return(0,d.str)`must have ${e} ${c} when property ${a} is present`},params:({params:{property:a,depsCount:b,deps:c,missingProperty:e}})=>(0,d._)`{property: ${a},
    missingProperty: ${e},
    depsCount: ${b},
    deps: ${c}}`};let g={keyword:"dependencies",type:"object",schemaType:"object",error:b.error,code(a){let[b,c]=h(a);i(a,b),j(a,c)}};function h({schema:a}){let b={},c={};for(let d in a)"__proto__"!==d&&((Array.isArray(a[d])?b:c)[d]=a[d]);return[b,c]}function i(a,b=a.schema){let{gen:c,data:e,it:g}=a;if(0===Object.keys(b).length)return;let h=c.let("missing");for(let i in b){let j=b[i];if(0===j.length)continue;let k=(0,f.propertyInData)(c,e,i,g.opts.ownProperties);a.setParams({property:i,depsCount:j.length,deps:j.join(", ")}),g.allErrors?c.if(k,()=>{for(let b of j)(0,f.checkReportMissingProp)(a,b)}):(c.if((0,d._)`${k} && (${(0,f.checkMissingProp)(a,j,h)})`),(0,f.reportMissingProp)(a,h),c.else())}}function j(a,b=a.schema){let{gen:c,data:d,keyword:g,it:h}=a,i=c.name("valid");for(let j in b)(0,e.alwaysValidSchema)(h,b[j])||(c.if((0,f.propertyInData)(c,d,j,h.opts.ownProperties),()=>{let b=a.subschema({keyword:g,schemaProp:j},i);a.mergeValidEvaluated(b,i)},()=>c.var(i,!0)),a.ok(i))}b.validatePropertyDeps=i,b.validateSchemaDeps=j,b.default=g},91340:(a,b)=>{"use strict";function c(a){let b,c=a.length,d=0,e=0;for(;e<c;)d++,(b=a.charCodeAt(e++))>=55296&&b<=56319&&e<c&&(64512&(b=a.charCodeAt(e)))==56320&&e++;return d}Object.defineProperty(b,"__esModule",{value:!0}),b.default=c,c.code='require("ajv/dist/runtime/ucs2length").default'},91513:a=>{"use strict";class b{constructor({token:a,date:b,parts:c,locales:d}){this.token=a,this.date=b||new Date,this.parts=c||[this],this.locales=d||{}}up(){}down(){}next(){let a=this.parts.indexOf(this);return this.parts.find((c,d)=>d>a&&c instanceof b)}setTo(a){}prev(){let a=[].concat(this.parts).reverse(),c=a.indexOf(this);return a.find((a,d)=>d>c&&a instanceof b)}toString(){return String(this.date)}}a.exports=b},91611:(a,b,c)=>{"use strict";let d=c(16532),e=c(429),f=c(55511);function g(a,b,c,f,g){let h=["v=1","a=rsa-"+f,"c=relaxed/relaxed","d="+d.toASCII(a),"q=dns/txt","s="+b,"bh="+g,"h="+c].join("; ");return e.foldLines("DKIM-Signature: "+h,76)+";\r\n b="}function h(a,b,c){let d=new Set,e=new Set,f=new Map;(c||"").toLowerCase().split(":").forEach(a=>{e.add(a.trim())}),(b||"").toLowerCase().split(":").filter(a=>!e.has(a.trim())).forEach(a=>{d.add(a.trim())});for(let b=a.length-1;b>=0;b--){let c=a[b];d.has(c.key)&&!f.has(c.key)&&f.set(c.key,i(c.line))}let g=[],h=[];return d.forEach(a=>{f.has(a)&&(h.push(a),g.push(a+":"+f.get(a)))}),{headers:g.join("\r\n")+"\r\n",fieldNames:h.join(":")}}function i(a){return a.substr(a.indexOf(":")+1).replace(/\r?\n/g,"").replace(/\s+/g," ").trim()}a.exports=(a,b,c,d)=>{let e,j,k="From:Sender:Reply-To:Subject:Date:Message-ID:To:Cc:MIME-Version:Content-Type:Content-Transfer-Encoding:Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:In-Reply-To:References:List-Id:List-Help:List-Unsubscribe:List-Subscribe:List-Post:List-Owner:List-Archive",l=h(a,(d=d||{}).headerFieldNames||k,d.skipFields),m=g(d.domainName,d.keySelector,l.fieldNames,b,c);l.headers+="dkim-signature:"+i(m),(e=f.createSign(("rsa-"+b).toUpperCase())).update(l.headers);try{j=e.sign(d.privateKey,"base64")}catch(a){return!1}return m+j.replace(/(^.{73}|.{75}(?!\r?\n|\r))/g,"$&\r\n ").trim()},a.exports.relaxedHeaders=h},91959:(a,b,c)=>{"use strict";c.d(b,{t:()=>i});var d=c(20674),e=c(60629),f=c(15796),g=c(64746),h=c(32151);class i extends h.f{options;constructor(a){super(),this.options=a}getRequestType(){return f.K}getResponseType(){return g.c}setSerdeContext(a){this.serdeContext=a,this.serializer.setSerdeContext(a),this.deserializer.setSerdeContext(a),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(a)}updateServiceEndpoint(a,b){if(!("url"in b))return a.protocol=b.protocol,a.hostname=b.hostname,a.port=b.port?Number(b.port):void 0,a.path=b.path,a.query={...b.query},a;for(let[c,d]of(a.protocol=b.url.protocol,a.hostname=b.url.hostname,a.port=b.url.port?Number(b.url.port):void 0,a.path=b.url.pathname,a.fragment=b.url.hash||void 0,a.username=b.url.username||void 0,a.password=b.url.password||void 0,a.query||(a.query={}),b.url.searchParams.entries()))a.query[c]=d;return a}setHostPrefix(a,b,c){let f=d.l.of(b.input),g=(0,e.c)(b.traits??{});if(g.endpoint){let b=g.endpoint?.[0];if("string"==typeof b){for(let[a]of[...f.structIterator()].filter(([,a])=>a.getMergedTraits().hostLabel)){let d=c[a];if("string"!=typeof d)throw Error(`@smithy/core/schema - ${a} in input must be a string as hostLabel.`);b=b.replace(`{${a}}`,d)}a.hostname=b+a.hostname}}}deserializeMetadata(a){return{httpStatusCode:a.statusCode,requestId:a.headers["x-amzn-requestid"]??a.headers["x-amzn-request-id"]??a.headers["x-amz-request-id"],extendedRequestId:a.headers["x-amz-id-2"],cfId:a.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:a,requestSchema:b,initialRequest:c}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:a,requestSchema:b,initialRequest:c})}async deserializeEventStream({response:a,responseSchema:b,initialResponseContainer:c}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:a,responseSchema:b,initialResponseContainer:c})}async loadEventStreamCapability(){let{EventStreamSerde:a}=await c.e(4925).then(c.bind(c,24925));return new a({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(a,b,c,d,e){return[]}getEventStreamMarshaller(){let a=this.serdeContext;if(!a.eventStreamMarshaller)throw Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return a.eventStreamMarshaller}}},91974:(a,b,c)=>{a.exports=c(!function(a){a=(Array.isArray(a)?a:a.split(".")).map(Number);let b=0,c=process.versions.node.split(".").map(Number);for(;b<a.length&&!(c[b]>a[b]);b++)if(a[b]>c[b])return!0;return!1}("8.6.0")?9618:89203)},92062:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.extendSubschemaMode=b.extendSubschemaData=b.getSubschema=void 0;let d=c(47934),e=c(34414);b.getSubschema=function(a,{keyword:b,schemaProp:c,schema:f,schemaPath:g,errSchemaPath:h,topSchemaRef:i}){if(void 0!==b&&void 0!==f)throw Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==b){let f=a.schema[b];return void 0===c?{schema:f,schemaPath:(0,d._)`${a.schemaPath}${(0,d.getProperty)(b)}`,errSchemaPath:`${a.errSchemaPath}/${b}`}:{schema:f[c],schemaPath:(0,d._)`${a.schemaPath}${(0,d.getProperty)(b)}${(0,d.getProperty)(c)}`,errSchemaPath:`${a.errSchemaPath}/${b}/${(0,e.escapeFragment)(c)}`}}if(void 0!==f){if(void 0===g||void 0===h||void 0===i)throw Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:f,schemaPath:g,topSchemaRef:i,errSchemaPath:h}}throw Error('either "keyword" or "schema" must be passed')},b.extendSubschemaData=function(a,b,{dataProp:c,dataPropType:f,data:g,dataTypes:h,propertyName:i}){if(void 0!==g&&void 0!==c)throw Error('both "data" and "dataProp" passed, only one allowed');let{gen:j}=b;if(void 0!==c){let{errorPath:g,dataPathArr:h,opts:i}=b;k(j.let("data",(0,d._)`${b.data}${(0,d.getProperty)(c)}`,!0)),a.errorPath=(0,d.str)`${g}${(0,e.getErrorPath)(c,f,i.jsPropertySyntax)}`,a.parentDataProperty=(0,d._)`${c}`,a.dataPathArr=[...h,a.parentDataProperty]}function k(c){a.data=c,a.dataLevel=b.dataLevel+1,a.dataTypes=[],b.definedProperties=new Set,a.parentData=b.data,a.dataNames=[...b.dataNames,c]}void 0!==g&&(k(g instanceof d.Name?g:j.let("data",g,!0)),void 0!==i&&(a.propertyName=i)),h&&(a.dataTypes=h)},b.extendSubschemaMode=function(a,{jtdDiscriminator:b,jtdMetadata:c,compositeRule:d,createErrors:e,allErrors:f}){void 0!==d&&(a.compositeRule=d),void 0!==e&&(a.createErrors=e),void 0!==f&&(a.allErrors=f),a.jtdDiscriminator=b,a.jtdMetadata=c}},92065:(a,b,c)=>{"use strict";let{Writable:d}=c(27910),e=c(36124),{BINARY_TYPES:f,EMPTY_BUFFER:g,kStatusCode:h,kWebSocket:i}=c(82455),{concat:j,toArrayBuffer:k,unmask:l}=c(53795),{isValidStatusCode:m,isValidUTF8:o}=c(72783),p=Buffer[Symbol.species],q=0,r=1,s=2,t=3,u=4,v=5,w=6;class x extends d{constructor(a={}){super(),this._allowSynchronousEvents=void 0===a.allowSynchronousEvents||a.allowSynchronousEvents,this._binaryType=a.binaryType||f[0],this._extensions=a.extensions||{},this._isServer=!!a.isServer,this._maxPayload=0|a.maxPayload,this._skipUTF8Validation=!!a.skipUTF8Validation,this[i]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=q}_write(a,b,c){if(8===this._opcode&&this._state==q)return c();this._bufferedBytes+=a.length,this._buffers.push(a),this.startLoop(c)}consume(a){if(this._bufferedBytes-=a,a===this._buffers[0].length)return this._buffers.shift();if(a<this._buffers[0].length){let b=this._buffers[0];return this._buffers[0]=new p(b.buffer,b.byteOffset+a,b.length-a),new p(b.buffer,b.byteOffset,a)}let b=Buffer.allocUnsafe(a);do{let c=this._buffers[0],d=b.length-a;a>=c.length?b.set(this._buffers.shift(),d):(b.set(new Uint8Array(c.buffer,c.byteOffset,a),d),this._buffers[0]=new p(c.buffer,c.byteOffset+a,c.length-a)),a-=c.length}while(a>0);return b}startLoop(a){this._loop=!0;do switch(this._state){case q:this.getInfo(a);break;case r:this.getPayloadLength16(a);break;case s:this.getPayloadLength64(a);break;case t:this.getMask();break;case u:this.getData(a);break;case v:case w:this._loop=!1;return}while(this._loop);this._errored||a()}getInfo(a){if(this._bufferedBytes<2){this._loop=!1;return}let b=this.consume(2);if((48&b[0])!=0)return void a(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"));let c=(64&b[0])==64;if(c&&!this._extensions[e.extensionName])return void a(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(this._fin=(128&b[0])==128,this._opcode=15&b[0],this._payloadLength=127&b[1],0===this._opcode){if(c)return void a(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(!this._fragmented)return void a(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"));this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return void a(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));this._compressed=c}else{if(!(this._opcode>7)||!(this._opcode<11))return void a(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));if(!this._fin)return void a(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"));if(c)return void a(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength)return void a(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"))}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&b[1])==128,this._isServer){if(!this._masked)return void a(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"))}else if(this._masked)return void a(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"));126===this._payloadLength?this._state=r:127===this._payloadLength?this._state=s:this.haveLength(a)}getPayloadLength16(a){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(a)}getPayloadLength64(a){if(this._bufferedBytes<8){this._loop=!1;return}let b=this.consume(8),c=b.readUInt32BE(0);if(c>2097151)return void a(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH"));this._payloadLength=0x100000000*c+b.readUInt32BE(4),this.haveLength(a)}haveLength(a){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return void a(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._masked?this._state=t:this._state=u}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=u}getData(a){let b=g;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}b=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!=0&&l(b,this._mask)}if(this._opcode>7)return void this.controlMessage(b,a);if(this._compressed){this._state=v,this.decompress(b,a);return}b.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(b)),this.dataMessage(a)}decompress(a,b){this._extensions[e.extensionName].decompress(a,this._fin,(a,c)=>{if(a)return b(a);if(c.length){if(this._messageLength+=c.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return void b(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(c)}this.dataMessage(b),this._state===q&&this.startLoop(b)})}dataMessage(a){if(!this._fin){this._state=q;return}let b=this._messageLength,c=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let d;d="nodebuffer"===this._binaryType?j(c,b):"arraybuffer"===this._binaryType?k(j(c,b)):"blob"===this._binaryType?new Blob(c):c,this._allowSynchronousEvents?(this.emit("message",d,!0),this._state=q):(this._state=w,setImmediate(()=>{this.emit("message",d,!0),this._state=q,this.startLoop(a)}))}else{let d=j(c,b);if(!this._skipUTF8Validation&&!o(d))return void a(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));this._state===v||this._allowSynchronousEvents?(this.emit("message",d,!1),this._state=q):(this._state=w,setImmediate(()=>{this.emit("message",d,!1),this._state=q,this.startLoop(a)}))}}controlMessage(a,b){if(8===this._opcode){if(0===a.length)this._loop=!1,this.emit("conclude",1005,g),this.end();else{let c=a.readUInt16BE(0);if(!m(c))return void b(this.createError(RangeError,`invalid status code ${c}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE"));let d=new p(a.buffer,a.byteOffset+2,a.length-2);if(!this._skipUTF8Validation&&!o(d))return void b(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));this._loop=!1,this.emit("conclude",c,d),this.end()}this._state=q;return}this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",a),this._state=q):(this._state=w,setImmediate(()=>{this.emit(9===this._opcode?"ping":"pong",a),this._state=q,this.startLoop(b)}))}createError(a,b,c,d,e){this._loop=!1,this._errored=!0;let f=new a(c?`Invalid WebSocket frame: ${b}`:b);return Error.captureStackTrace(f,this.createError),f.code=e,f[h]=d,f}}a.exports=x},92309:function(a,b,c){"use strict";var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0}),b.printSimpleTable=b.renderSimpleTable=b.renderTable=void 0;let e=d(c(51313)),f=c(39607),g=c(55432),h=c(97556),i=d(c(39196)),j=c(81766),k=(a,b,c,d,i,j,k,l)=>{let m=new e.default(k);return m.addCharsWithColor("",a.vertical),b.forEach(b=>{let e=c<d[b.name].length?(0,h.cellText)(d[b.name][c]):"";m.addCharsWithColor(g.DEFAULT_ROW_FONT_COLOR," "),m.addCharsWithColor(i&&g.DEFAULT_HEADER_FONT_COLOR||b.color||j.color,(0,f.textWithPadding)(e,b.alignment||g.DEFAULT_ROW_ALIGNMENT,b.length||g.DEFAULT_COLUMN_LEN,l)),m.addCharsWithColor("",` ${a.vertical}`)}),m.renderConsole()},l=(a,b,c,d,e,f)=>{let g=(0,h.getWidthLimitedColumnsArray)(b,c,f),i=Object.values(g).reduce((a,b)=>Math.max(a,b.length),0),j=[];for(let h=0;h<i;h+=1){let i=k(a,b,h,g,e,c,d,f);j.push(i)}return j},m=(a,b)=>{let c=[];return c.concat(l(a.tableStyle,a.columns,b,a.colorMap,void 0,a.charLength))},o=a=>{let b=[];if(void 0===a.title)return b;let c=()=>{let b=(a,b)=>a+b+2+1;return a.columns.map(a=>a.length||g.DEFAULT_COLUMN_LEN).reduce(b,1)},d=(0,f.textWithPadding)(a.title,g.DEFAULT_HEADER_ALIGNMENT,c()),h=new e.default(a.colorMap);return h.addCharsWithColor(g.DEFAULT_HEADER_FONT_COLOR,d),b.push(h.renderConsole()),b},p=a=>{let b=[];b.push((0,h.renderTableHorizontalBorders)(a.tableStyle.headerTop,a.columns.map(a=>a.length||g.DEFAULT_COLUMN_LEN)));let c=(0,h.createHeaderAsRow)(h.createRow,a.columns);return(b=b.concat(l(a.tableStyle,a.columns,c,a.colorMap,!0))).push((0,h.renderTableHorizontalBorders)(a.tableStyle.headerBottom,a.columns.map(a=>a.length||g.DEFAULT_COLUMN_LEN))),b},q=a=>{let b=[];return b.push((0,h.renderTableHorizontalBorders)(a.tableStyle.tableBottom,a.columns.map(a=>a.length||g.DEFAULT_COLUMN_LEN))),b},r=(a,b)=>{let c=[],d=a.rows.length-1;return a.rows.indexOf(b)!==d&&b.separator&&c.push((0,h.renderTableHorizontalBorders)(a.tableStyle.rowSeparator,a.columns.map(a=>a.length||g.DEFAULT_COLUMN_LEN))),c};b.renderTable=a=>{(0,j.preProcessColumns)(a),(0,j.preProcessRows)(a);let b=[];return o(a).forEach(a=>b.push(a)),p(a).forEach(a=>b.push(a)),a.rows.forEach(c=>{m(a,c).forEach(a=>b.push(a)),r(a,c).forEach(a=>b.push(a))}),q(a).forEach(a=>b.push(a)),b.join("\n")};let s=a=>{let c=new i.default;return c.addRows(a),(0,b.renderTable)(c)};b.renderSimpleTable=s;let t=a=>{console.log((0,b.renderSimpleTable)(a))};b.printSimpleTable=t},92461:(a,b,c)=>{"use strict";c.d(b,{o:()=>e});let d=RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),e=a=>d.test(a)||a.startsWith("[")&&a.endsWith("]")},92659:(a,b)=>{"use strict";function c(a){return a.startsWith("/")?a:"/"+a}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"ensureLeadingSlash",{enumerable:!0,get:function(){return c}})},92714:(a,b,c)=>{"use strict";c.d(b,{Q:()=>e});var d=c(71883);function e(a){return!(0,d.yd)(a)&&"object"==typeof a&&null!==a&&!(a instanceof RegExp)&&!(a instanceof Date)}},92741:a=>{"use strict";let b="undefined"!=typeof Buffer,c=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,d=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function e(a,e,g){null==g&&null!==e&&"object"==typeof e&&(g=e,e=void 0),b&&Buffer.isBuffer(a)&&(a=a.toString()),a&&65279===a.charCodeAt(0)&&(a=a.slice(1));let h=JSON.parse(a,e);if(null===h||"object"!=typeof h)return h;let i=g&&g.protoAction||"error",j=g&&g.constructorAction||"error";if("ignore"===i&&"ignore"===j)return h;if("ignore"!==i&&"ignore"!==j){if(!1===c.test(a)&&!1===d.test(a))return h}else if("ignore"!==i&&"ignore"===j){if(!1===c.test(a))return h}else if(!1===d.test(a))return h;return f(h,{protoAction:i,constructorAction:j,safe:g&&g.safe})}function f(a,{protoAction:b="error",constructorAction:c="error",safe:d}={}){let e=[a];for(;e.length;){let a=e;for(let f of(e=[],a)){if("ignore"!==b&&Object.prototype.hasOwnProperty.call(f,"__proto__")){if(!0===d)return null;if("error"===b)throw SyntaxError("Object contains forbidden prototype property");delete f.__proto__}if("ignore"!==c&&Object.prototype.hasOwnProperty.call(f,"constructor")&&null!==f.constructor&&"object"==typeof f.constructor&&Object.prototype.hasOwnProperty.call(f.constructor,"prototype")){if(!0===d)return null;if("error"===c)throw SyntaxError("Object contains forbidden prototype property");delete f.constructor}for(let a in f){let b=f[a];b&&"object"==typeof b&&e.push(b)}}}return a}function g(a,b,c){let{stackTraceLimit:d}=Error;Error.stackTraceLimit=0;try{return e(a,b,c)}finally{Error.stackTraceLimit=d}}function h(a,b){let{stackTraceLimit:c}=Error;Error.stackTraceLimit=0;try{return e(a,b,{safe:!0})}catch{return}finally{Error.stackTraceLimit=c}}a.exports=g,a.exports.default=g,a.exports.parse=g,a.exports.safeParse=h,a.exports.scan=f},92768:(a,b,c)=>{"use strict";c.d(b,{m:()=>l});var d=c(33576),e=c(65540),f=c(898),g=c(26182),h=c(56336);let i=a=>Array.isArray(a)?a.map(a=>"object"==typeof a&&null!=a?{...a}:a):"object"==typeof a&&null!==a?{...a}:a;async function j({field:a,req:b,siblingDoc:c}){let d;return"name"in a&&a.name&&(void 0!==c[a.name]?d=i(c[a.name]):"defaultValue"in a&&void 0!==a.defaultValue&&(d=await (0,h.B)({defaultValue:a.defaultValue,locale:b.locale||"",req:b,user:b.user}))),d}let k=async({id:a,blockData:b,collection:c,context:h,data:i,doc:k,field:m,fieldIndex:o,global:p,operation:q,overrideAccess:r,parentIndexPath:s,parentIsLocalized:t,parentPath:u,parentSchemaPath:v,req:w,siblingData:x,siblingDoc:y,siblingFields:z})=>{let{indexPath:A,path:B,schemaPath:C}=(0,f.I)({field:m,index:o,parentIndexPath:s,parentPath:u,parentSchemaPath:v}),D=B?B.split("."):[],E=C?C.split("."):[],F=A?A.split("-").filter(Boolean)?.map(Number):[];if((0,e.Z7)(m)){if("id"===m.name){if("number"===m.type&&"string"==typeof x[m.name]){let a=x[m.name];x[m.name]=parseFloat(a)}"text"===m.type&&"function"==typeof x[m.name]?.toString&&"string"!=typeof x[m.name]&&(x[m.name]=x[m.name].toString())}switch(m.type){case"array":case"blocks":("0"===x[m.name]||0===x[m.name])&&(x[m.name]=[]);break;case"checkbox":"true"===x[m.name]&&(x[m.name]=!0),"false"===x[m.name]&&(x[m.name]=!1),""===x[m.name]&&(x[m.name]=!1);break;case"number":if("string"==typeof x[m.name]){let a=x[m.name].trim();x[m.name]=0===a.length?null:parseFloat(a)}break;case"point":Array.isArray(x[m.name])&&(x[m.name]=x[m.name].map((a,b)=>{if("string"==typeof a){let a=x[m.name][b].trim();return 0===a.length?null:parseFloat(a)}return a}));break;case"relationship":case"upload":{(""===x[m.name]||"none"===x[m.name]||"null"===x[m.name]||null===x[m.name])&&(!0===m.hasMany?x[m.name]=[]:x[m.name]=null);let a=x[m.name];if(Array.isArray(m.relationTo)){if(Array.isArray(a)&&a.forEach((a,b)=>{let c=w.payload.collections?.[a.relationTo]?.config;if("object"==typeof a.value&&a.value&&"id"in a.value&&(a.value=a.value.id),c?.fields){let d=c.fields.find(a=>(0,e.Z7)(a)&&"id"===a.name);d?.type==="number"&&(x[m.name][b]={...a,value:parseFloat(a.value)})}}),!0!==m.hasMany&&(0,e.b_)(a)){let b=w.payload.collections?.[a.relationTo]?.config;if("object"==typeof a.value&&a.value&&"id"in a.value&&(a.value=a.value.id),b?.fields){let c=b.fields.find(a=>(0,e.Z7)(a)&&"id"===a.name);c?.type==="number"&&(x[m.name]={...a,value:parseFloat(a.value)})}}}else if(Array.isArray(a)&&a.forEach((b,c)=>{let d=Array.isArray(m.relationTo)?void 0:w.payload.collections?.[m.relationTo]?.config;if("object"==typeof b&&b&&"id"in b&&(a[c]=b.id),d?.fields){let a=d.fields.find(a=>(0,e.Z7)(a)&&"id"===a.name);a?.type==="number"&&(x[m.name][c]=parseFloat(b))}}),!0!==m.hasMany&&a){let b=w.payload.collections?.[m.relationTo]?.config;if("object"==typeof a&&a&&"id"in a&&(x[m.name]=a.id),b?.fields){let c=b.fields.find(a=>(0,e.Z7)(a)&&"id"===a.name);c?.type==="number"&&(x[m.name]=parseFloat(a))}}break}case"richText":if("string"==typeof x[m.name])try{let a=JSON.parse(x[m.name]);x[m.name]=a}catch{}}let d={executed:!1,value:void 0};if(void 0===x[m.name]&&(d.value=await j({field:m,req:w,siblingDoc:y}),d.executed=!0),"hooks"in m&&m.hooks?.beforeValidate)for(let a of m.hooks.beforeValidate){let e=await a({blockData:b,collection:c,context:h,data:i,field:m,global:p,indexPath:F,operation:q,originalDoc:k,overrideAccess:r,path:D,previousSiblingDoc:y,previousValue:y[m.name],req:w,schemaPath:E,siblingData:x,siblingFields:z,value:void 0===x[m.name]?d.value:x[m.name]});void 0!==e&&(x[m.name]=e)}m.access&&m.access[q]&&(r||await m.access[q]({id:a,blockData:b,data:i,doc:k,req:w,siblingData:x})||delete x[m.name]),void 0===x[m.name]&&(x[m.name]=d.executed?d.value:await j({field:m,req:w,siblingDoc:y}))}switch(m.type){case"array":{let d=x[m.name];if(Array.isArray(d)){let e=[];d.forEach((d,f)=>{e.push(l({id:a,blockData:b,collection:c,context:h,data:i,doc:k,fields:m.fields,global:p,operation:q,overrideAccess:r,parentIndexPath:"",parentIsLocalized:t||m.localized,parentPath:B+"."+f,parentSchemaPath:C,req:w,siblingData:d,siblingDoc:(0,g.G)(d,y[m.name])}))}),await Promise.all(e)}break}case"blocks":{let b=x[m.name];if(Array.isArray(b)){let d=[];b.forEach((b,e)=>{let f=(0,g.G)(b,y[m.name]),j=b.blockType||f.blockType,o=w.payload.blocks[j]??(m.blockReferences??m.blocks).find(a=>"string"!=typeof a&&a.slug===j);o&&(b.blockType=j,d.push(l({id:a,blockData:b,collection:c,context:h,data:i,doc:k,fields:o.fields,global:p,operation:q,overrideAccess:r,parentIndexPath:"",parentIsLocalized:t||m.localized,parentPath:B+"."+e,parentSchemaPath:C+"."+o.slug,req:w,siblingData:b,siblingDoc:f})))}),await Promise.all(d)}break}case"collapsible":case"row":await l({id:a,blockData:b,collection:c,context:h,data:i,doc:k,fields:m.fields,global:p,operation:q,overrideAccess:r,parentIndexPath:A,parentIsLocalized:t,parentPath:u,parentSchemaPath:C,req:w,siblingData:x,siblingDoc:y});break;case"group":{let d=x,f=y,g=(0,e.Z7)(m);g&&("object"!=typeof x[m.name]&&(x[m.name]={}),"object"!=typeof y[m.name]&&(y[m.name]={}),d=x[m.name],f=y[m.name]),await l({id:a,blockData:b,collection:c,context:h,data:i,doc:k,fields:m.fields,global:p,operation:q,overrideAccess:r,parentIndexPath:g?"":A,parentIsLocalized:t||m.localized,parentPath:g?B:u,parentSchemaPath:C,req:w,siblingData:d,siblingDoc:f});break}case"richText":{if(!m?.editor)throw new d.X(m);if("function"==typeof m?.editor)throw Error("Attempted to access unsanitized rich text editor.");let a=m?.editor;if(a?.hooks?.beforeValidate?.length)for(let b of a.hooks.beforeValidate){let a=await b({collection:c,context:h,data:i,field:m,global:p,indexPath:F,operation:q,originalDoc:k,overrideAccess:r,parentIsLocalized:t,path:D,previousSiblingDoc:y,previousValue:x[m.name],req:w,schemaPath:E,siblingData:x,value:x[m.name]});void 0!==a&&(x[m.name]=a)}break}case"tab":{let d,f,g=(0,e.pz)(m);g?("object"!=typeof x[m.name]&&(x[m.name]={}),"object"!=typeof y[m.name]&&(y[m.name]={}),d=x[m.name],f=y[m.name]):(d=x,f=y),await l({id:a,blockData:b,collection:c,context:h,data:i,doc:k,fields:m.fields,global:p,operation:q,overrideAccess:r,parentIndexPath:g?"":A,parentIsLocalized:t||m.localized,parentPath:g?B:u,parentSchemaPath:C,req:w,siblingData:d,siblingDoc:f});break}case"tabs":await l({id:a,blockData:b,collection:c,context:h,data:i,doc:k,fields:m.tabs.map(a=>({...a,type:"tab"})),global:p,operation:q,overrideAccess:r,parentIndexPath:A,parentIsLocalized:t,parentPath:B,parentSchemaPath:C,req:w,siblingData:x,siblingDoc:y})}},l=async({id:a,blockData:b,collection:c,context:d,data:e,doc:f,fields:g,global:h,operation:i,overrideAccess:j,parentIndexPath:l,parentIsLocalized:m,parentPath:o,parentSchemaPath:p,req:q,siblingData:r,siblingDoc:s})=>{let t=[];g.forEach((u,v)=>{t.push(k({id:a,blockData:b,collection:c,context:d,data:e,doc:f,field:u,fieldIndex:v,global:h,operation:i,overrideAccess:j,parentIndexPath:l,parentIsLocalized:m,parentPath:o,parentSchemaPath:p,req:q,siblingData:r,siblingDoc:s,siblingFields:g}))}),await Promise.all(t)}},92803:(a,b,c)=>{"use strict";let{states:d,opcodes:e}=c(90406),{isUtf8:f}=c(4573),{collectASequenceOfCodePointsFast:g,removeHTTPWhitespace:h}=c(62018);function i(a){return a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer}function j(a){return a===e.CLOSE||a===e.PING||a===e.PONG}function k(a){return a===e.CONTINUATION}function l(a){return a===e.TEXT||a===e.BINARY}function m(a){return l(a)||k(a)||j(a)}function o(a){let b={position:0},c=new Map;for(;b.position<a.length;){let[d,e=""]=g(";",a,b).split("=",2);c.set(h(d,!0,!1),h(e,!1,!0)),b.position++}return c}function p(a){for(let b=0;b<a.length;b++){let c=a.charCodeAt(b);if(c<48||c>57)return!1}return!0}function q(a,b){let c;try{c=new URL(a,b)}catch(a){throw new DOMException(a,"SyntaxError")}if("http:"===c.protocol?c.protocol="ws:":"https:"===c.protocol&&(c.protocol="wss:"),"ws:"!==c.protocol&&"wss:"!==c.protocol)throw new DOMException("expected a ws: or wss: url","SyntaxError");if(c.hash.length||c.href.endsWith("#"))throw new DOMException("hash","SyntaxError");return c}function r(a,b){if(null!==a&&1e3!==a&&(a<3e3||a>4999))throw new DOMException("invalid code","InvalidAccessError");if(null!==b){let a=Buffer.byteLength(b);if(a>123)throw new DOMException(`Reason must be less than 123 bytes; received ${a}`,"SyntaxError")}}a.exports={isConnecting:function a(a){return a===d.CONNECTING},isEstablished:function a(a){return a===d.OPEN},isClosing:function a(a){return a===d.CLOSING},isClosed:function a(a){return a===d.CLOSED},fireEvent:function a(b,c,d=(a,b)=>new Event(a,b),e={}){let f=d(b,e);c.dispatchEvent(f)},isValidSubprotocol:function a(a){if(0===a.length)return!1;for(let b=0;b<a.length;++b){let c=a.charCodeAt(b);if(c<33||c>126||34===c||40===c||41===c||44===c||47===c||58===c||59===c||60===c||61===c||62===c||63===c||64===c||91===c||92===c||93===c||123===c||125===c)return!1}return!0},isValidStatusCode:function a(a){return a>=1e3&&a<1015?1004!==a&&1005!==a&&1006!==a:a>=3e3&&a<=4999},websocketMessageReceived:function a(a,b,c){a.onMessage(b,c)},utf8Decode:(()=>{if("string"==typeof process.versions.icu){let a=new TextDecoder("utf-8",{fatal:!0});return a.decode.bind(a)}return function(a){if(f(a))return a.toString("utf-8");throw TypeError("Invalid utf-8 received.")}})(),isControlFrame:j,isContinuationFrame:k,isTextBinaryFrame:l,isValidOpcode:m,parseExtensions:o,isValidClientWindowBits:p,toArrayBuffer:i,getURLRecord:q,validateCloseCodeAndReason:r}},93204:(a,b,c)=>{"use strict";c.d(b,{s:()=>d});let d=[c(50775).Z,{name:"blockName",type:"text",admin:{disabled:!0},label:"Block Name",required:!1}]},93462:(a,b,c)=>{"use strict";c.d(b,{C5:()=>j,Rp:()=>k,XC:()=>o,Xh:()=>l,wJ:()=>i,xV:()=>q});var d=c(69321),e=c(77208),f=c(20876),g=c(61718);let h="default"in e?e.default:e,i=(a,{maxLength:b,minLength:c=3,req:{payload:{config:d},t:e},required:f})=>{let g;return("number"==typeof d?.defaultMaxTextLength&&(g=d.defaultMaxTextLength),"number"==typeof b&&(g=b),a&&g&&a.length>g)?e("validation:shorterThanMax",{maxLength:g}):a&&c&&a.length<c?e("validation:longerThanMin",{minLength:c}):!f||!!a||e("validation:required")},j=(a,{req:{t:b},required:c,siblingData:d})=>c&&!a?b("validation:required"):!a||a===d.password||b("fields:passwordsDoNotMatch"),k=(a,{collectionSlug:b,req:{payload:{collections:c,config:d},t:e},required:f,siblingData:g})=>{if(b){let f=c?.[b]?.config??d.collections.find(({slug:a})=>a===b);if(f.auth.loginWithUsername&&!f.auth.loginWithUsername?.requireUsername&&!f.auth.loginWithUsername?.requireEmail&&!a&&!g?.username)return e("validation:required")}let h=/^(?!.*\.\.)[\w!#$%&'*+/=?^`{|}~-](?:[\w!#$%&'*+/=?^`{|}~.-]*[\w!#$%&'*+/=?^`{|}~-])?@[a-z0-9](?:[a-z0-9-]*[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)*\.[a-z]{2,}$/i;return(!a||!!h.test(a))&&(!!a||!f)||e("validation:emailAddress")},l=(a,{collectionSlug:b,req:{payload:{collections:c,config:d},t:e},required:f,siblingData:g})=>{let h;if(b){let f=c?.[b]?.config??d.collections.find(({slug:a})=>a===b);if(f.auth.loginWithUsername&&!f.auth.loginWithUsername?.requireUsername&&!f.auth.loginWithUsername?.requireEmail&&!a&&!g?.email)return e("validation:required")}return("number"==typeof d?.defaultMaxTextLength&&(h=d.defaultMaxTextLength),a&&h&&a.length>h)?e("validation:shorterThanMax",{maxLength:h}):!!a||!f||e("validation:required")},m=(a,b)=>{let{maxRows:c,minRows:d,required:e,t:f}=b,g=Array.isArray(a)?a.length:a||0;return!e&&0===g||(d&&g<d?f("validation:requiresAtLeast",{count:d,label:f("general:rows")}):c&&g>c?f("validation:requiresNoMoreThan",{count:c,label:f("general:rows")}):!e||!!g||f("validation:requiresAtLeast",{count:1,label:f("general:row")}))};async function o({id:a,data:b,filterOptions:c,req:d,siblingData:e,value:f}){let g,h=Array.isArray(f)?f.map(a=>a.blockType).filter(a=>!!a):[];if("function"==typeof c){let f=await c({id:a,data:b,req:d,siblingData:e,user:d.user});!0!==f&&Array.isArray(f)&&(g=f)}else Array.isArray(c)&&(g=c);let i=[];if(g)for(let a of h)g.includes(a)||i.push(a);return{allBlockSlugs:h,allowedBlockSlugs:g,invalidBlockSlugs:i}}let p=async(a,{id:b,blockData:c,data:d,filterOptions:e,relationTo:f,req:g,req:{t:i,user:j},siblingData:k})=>{if(void 0!==e&&a){let l={},m=[],o=Array.isArray(f)?f:[f],p=Array.isArray(a)?a:[a];for(let a of o)try{let f="function"==typeof e?await e({id:b,blockData:c,data:d,relationTo:a,req:g,siblingData:k,user:j}):e;!0===f&&(f=null);let i=[];if(p.forEach(a=>{"object"==typeof a&&(a?.value?i.push(a.value):h.isValid(a)&&i.push(new h(a).toHexString())),("string"==typeof a||"number"==typeof a)&&i.push(a)}),i.length>0){let b={and:[{id:{in:i}}]};f&&!0!==f&&b.and?.push(f),!1===f&&m.push(a);let c=await g.payloadDataLoader.find({collection:a,depth:0,limit:0,pagination:!1,req:g,where:b});l[a]=c.docs.map(a=>a.id)}else l[a]=[]}catch(b){g.payload.logger.error({err:b,msg:`Error validating filter options for collection ${a}`}),l[a]=[]}let q=p.filter(a=>{let b,c;return"string"==typeof f&&(b=f,("string"==typeof a||"number"==typeof a)&&(c=a),"object"==typeof a&&h.isValid(a)&&(c=new h(a).toHexString())),Array.isArray(f)&&"object"==typeof a&&a?.relationTo&&(b=a.relationTo,c=a.value),!!m.find(a=>f===a)||!l[b]||-1===l[b].indexOf(c)});if(q.length>0)return q.reduce((a,b,c)=>`${a} ${JSON.stringify(b)}${q.length===c+1?",":""} `,i("validation:invalidSelections"))}return!0},q={array:(a,{maxRows:b,minRows:c,req:{t:d},required:e})=>m(a,{maxRows:b,minRows:c,required:e,t:d}),blocks:async(a,{id:b,data:c,filterOptions:d,maxRows:e,minRows:f,req:{t:g},req:h,required:i,siblingData:j})=>{let k=m(a,{maxRows:e,minRows:f,required:i,t:g});if("string"==typeof k)return k;if(d){let{invalidBlockSlugs:e}=await o({id:b,data:c,filterOptions:d,req:h,siblingData:j,value:a});if(e?.length)return g("validation:invalidBlocks",{blocks:e.join(", ")})}return!0},checkbox:(a,{req:{t:b},required:c})=>(!a||"boolean"==typeof a)&&(!c||"boolean"==typeof a)||b("validation:trueOrFalse"),code:(a,{req:{t:b},required:c})=>!c||void 0!==a||b("validation:required"),confirmPassword:j,date:(a,{name:b,req:{t:c},required:d,siblingData:e,timezone:f})=>{let g=a&&!isNaN(Date.parse(a.toString())),h=f&&d,i=e?.[`${b}_tz`],j=!h||!!i;return!!g&&!!j||(g&&!j?c("validation:timezoneRequired"):a?c("validation:notValidDate",{value:a}):!d||c("validation:required"))},email:k,json:(a,{jsonError:b,jsonSchema:c,req:{t:e},required:f})=>{let g=a=>!(null==a||Array.isArray(a)&&0===a.length)&&("object"!=typeof a||0!==Object.keys(a).length),h=({schema:a,uri:b})=>b&&a?a:fetch(b).then(a=>{if(!a.ok)throw Error("Network response was not ok");return a.json()}).then(a=>{let b=a,c={id:void 0,$id:b.id,$schema:"http://json-schema.org/draft-07/schema#"};return Object.assign(b,c)});if(f&&!a)return e("validation:required");if(void 0!==b)return e("validation:invalidInput");if(c&&g(a))try{c.schema=h(c);let{schema:b}=c,e=new d;if(!e.validate(b,a))return e.errorsText()}catch(a){return a instanceof Error?a.message:"Unknown error"}return!0},number:(a,{hasMany:b,max:c,maxRows:d,min:e,minRows:g,req:{t:h},required:i})=>{if(!0===b){let b=m(a,{maxRows:d,minRows:g,required:i,t:h});if("string"==typeof b)return b}if(!a&&!(0,f.E)(a)){if(i)return h("validation:required");if(!i)return!0}for(let b of Array.isArray(a)?a:[a]){if(!(0,f.E)(b))return h("validation:enterNumber");let d=parseFloat(b);if("number"==typeof c&&d>c)return h("validation:greaterThanMax",{label:h("general:value"),max:c,value:a});if("number"==typeof e&&d<e)return h("validation:lessThanMin",{label:h("general:value"),min:e,value:a})}return!0},password:i,point:(a=["",""],{req:{t:b},required:c})=>{if(null===a)return!c||b("validation:required");let d=parseFloat(String(a[0])),e=parseFloat(String(a[1]));return c&&(a[0]&&a[1]&&"number"!=typeof d&&"number"!=typeof e||Number.isNaN(d)||Number.isNaN(e)||Array.isArray(a)&&2!==a.length)?b("validation:requiresTwoNumbers"):a[1]&&Number.isNaN(d)||a[0]&&Number.isNaN(e)?b("validation:invalidInput"):a[0]&&!Number.isNaN(d)&&(d<-180||d>180)?b("validation:longitudeOutOfBounds"):!a[1]||!!Number.isNaN(e)||!(e<-90)&&!(e>90)||b("validation:latitudeOutOfBounds")},radio:(a,{options:b,req:{t:c},required:d})=>a?b.some(b=>b===a||"string"!=typeof b&&b.value===a)||c("validation:invalidSelection"):!d||c("validation:required"),relationship:async(a,b)=>{let{event:c,maxRows:d,minRows:e,relationTo:f,req:{payload:h,t:i},required:j}=b;if((!a&&"number"!=typeof a||Array.isArray(a)&&0===a.length)&&j)return i("validation:required");if(Array.isArray(a)&&a.length>0){if(e&&a.length<e)return i("validation:lessThanMin",{label:i("general:rows"),min:e,value:a.length});if(d&&a.length>d)return i("validation:greaterThanMax",{label:i("general:rows"),max:d,value:a.length})}if(null!=a){let b=(Array.isArray(a)?a:[a]).filter(a=>{let b,c;if("string"==typeof f&&(b=f,(a||"number"==typeof a)&&(c=a)),Array.isArray(f)&&"object"==typeof a&&a?.relationTo&&(b=a.relationTo,c=a.value),null===c)return!1;let d=h.collections[b]?.customIDType||h?.db?.defaultIDType||"text";return!(0,g.m)(c,d)});if(b.length>0)return`This relationship field has the following invalid relationships: ${b.map((a,b)=>`${a} ${JSON.stringify(b)}`).join(", ")}`}return"onChange"===c||p(a,b)},richText:async(a,b)=>{if(!b?.editor)throw Error("richText field has no editor property.");if("function"==typeof b?.editor)throw Error("Attempted to access unsanitized rich text editor.");return(b?.editor).validate(a,b)},select:(a,{data:b,filterOptions:c,hasMany:d,options:e,req:f,req:{t:g},required:h,siblingData:i})=>{let j="function"==typeof c?c({data:b,options:e,req:f,siblingData:i}):e;return Array.isArray(a)&&a.some(a=>!j.some(b=>b===a||"string"!=typeof b&&b?.value===a))||"string"==typeof a&&!j.some(b=>b===a||"string"!=typeof b&&b.value===a)?g("validation:invalidSelection"):!(h&&(null==a||d&&Array.isArray(a)&&a?.length===0))||g("validation:required")},text:(a,{hasMany:b,maxLength:c,maxRows:d,minLength:e,minRows:f,req:{payload:{config:g},t:h},required:i})=>{let j;if(!i&&null==a)return!0;if(!0===b){let b=m(a,{maxRows:d,minRows:f,required:i,t:h});if("string"==typeof b)return b}for(let b of("number"==typeof g?.defaultMaxTextLength&&(j=g.defaultMaxTextLength),"number"==typeof c&&(j=c),Array.isArray(a)?a:[a])){let a=b?.length||0;if("number"==typeof j&&a>j)return h("validation:shorterThanMax",{label:h("general:value"),maxLength:j,stringValue:b});if("number"==typeof e&&a<e)return h("validation:longerThanMin",{label:h("general:value"),minLength:e,stringValue:b})}return!i||!!("string"==typeof a||Array.isArray(a))&&a?.length!==0||h("validation:required")},textarea:(a,{maxLength:b,minLength:c,req:{payload:{config:d},t:e},required:f})=>{let g;return("number"==typeof d?.defaultMaxTextLength&&(g=d.defaultMaxTextLength),"number"==typeof b&&(g=b),a&&g&&a.length>g)?e("validation:shorterThanMax",{maxLength:g}):a&&c&&a.length<c?e("validation:longerThanMin",{minLength:c}):!f||!!a||e("validation:required")},upload:async(a,b)=>{let{event:c,maxRows:d,minRows:e,relationTo:f,req:{payload:h,t:i},required:j}=b;if((!a&&"number"!=typeof a||Array.isArray(a)&&0===a.length)&&j)return i("validation:required");if(Array.isArray(a)&&a.length>0){if(e&&a.length<e)return i("validation:lessThanMin",{label:i("general:rows"),min:e,value:a.length});if(d&&a.length>d)return i("validation:greaterThanMax",{label:i("general:rows"),max:d,value:a.length})}if(null!=a){let b=(Array.isArray(a)?a:[a]).filter(a=>{let b,c;if("string"==typeof f&&(b=f,(a||"number"==typeof a)&&(c=a)),Array.isArray(f)&&"object"==typeof a&&a?.relationTo&&(b=a.relationTo,c=a.value),null===c)return!1;let d=h.collections[b]?.customIDType||h?.db?.defaultIDType||"text";return!(0,g.m)(c,d)});if(b.length>0)return`This relationship field has the following invalid relationships: ${b.map((a,b)=>`${a} ${JSON.stringify(b)}`).join(", ")}`}return"onChange"===c||p(a,b)}}},93514:(a,b,c)=>{"use strict";c.d(b,{M:()=>j});var d=c(61213);d.lF;let e=d.D4;var f=c(71656),g=c(7e3),h=c(74492);function i(a){let b,c;if("string"!=typeof a)throw new h.Dp("JWTs must use Compact JWS serialization, JWT must be a string");let{1:d,length:i}=a.split(".");if(5===i)throw new h.Dp("Only JWTs using Compact JWS serialization can be decoded");if(3!==i)throw new h.Dp("Invalid JWT");if(!d)throw new h.Dp("JWTs must contain a payload");try{b=e(d)}catch{throw new h.Dp("Failed to base64url decode the payload")}try{c=JSON.parse(f.D0.decode(b))}catch{throw new h.Dp("Failed to parse the decoded payload as JSON")}if(!(0,g.A)(c))throw new h.Dp("Invalid JWT Claims Set");return c}let j=async a=>{let{collection:b,currentToken:c,depth:d,draft:e,joins:f,populate:g,req:h,select:j}=a,k={user:null};if(h.user){let{pathname:l}=h,m=l===`/api${h.payload.config.routes.graphQL}`,o=await h.payload.findByID({id:h.user.id,collection:b.config.slug,depth:m?0:d??b.config.auth.depth,draft:e,joins:f,overrideAccess:!1,populate:g,req:h,select:j,showHiddenFields:!1});if(o&&(o.collection=b.config.slug,o._strategy=h.user._strategy),h.user.collection!==b.config.slug)return{user:null};for(let c of b.config.hooks.me){let b=await c({args:a,user:o});if(b){k.user=b.user,k.exp=b.exp;break}}if(k.collection=h.user.collection,k.strategy=h.user._strategy,!k.user&&(k.user=o,c)){let a=i(c);a&&(k.exp=a.exp),b.config.auth.removeTokenFromResponses||(k.token=c)}}if(b.config.hooks?.afterMe?.length)for(let a of b.config.hooks.afterMe)k=await a({collection:b?.config,context:h.context,req:h,response:k})||k;return k}},93618:a=>{"use strict";let b=a=>a&&"string"==typeof a.message,c=a=>{if(!a)return;let c=a.cause;if("function"!=typeof c)return b(c)?c:void 0;{let c=a.cause();return b(c)?c:void 0}},d=(a,e)=>{if(!b(a))return"";let f=a.stack||"";if(e.has(a))return f+"\ncauses have become circular...";let g=c(a);return g?(e.add(a),f+"\ncaused by: "+d(g,e)):f},e=(a,d,f)=>{if(!b(a))return"";let g=f?"":a.message||"";if(d.has(a))return g+": ...";let h=c(a);if(!h)return g;{d.add(a);let b="function"==typeof a.cause;return g+(b?"":": ")+e(h,d,b)}};a.exports={isErrorLike:b,getErrorCause:c,stackWithCauses:a=>d(a,new Set),messageWithCauses:a=>e(a,new Set)}},93695:a=>{"use strict";a.exports=JSON.parse('{"126":{"description":"126 Mail (NetEase)","host":"smtp.126.com","port":465,"secure":true},"163":{"description":"163 Mail (NetEase)","host":"smtp.163.com","port":465,"secure":true},"1und1":{"description":"1&1 Mail (German hosting provider)","host":"smtp.1und1.de","port":465,"secure":true,"authMethod":"LOGIN"},"Aliyun":{"description":"Alibaba Cloud Mail","domains":["aliyun.com"],"host":"smtp.aliyun.com","port":465,"secure":true},"AliyunQiye":{"description":"Alibaba Cloud Enterprise Mail","host":"smtp.qiye.aliyun.com","port":465,"secure":true},"AOL":{"description":"AOL Mail","domains":["aol.com"],"host":"smtp.aol.com","port":587},"Aruba":{"description":"Aruba PEC (Italian email provider)","domains":["aruba.it","pec.aruba.it"],"aliases":["Aruba PEC"],"host":"smtps.aruba.it","port":465,"secure":true,"authMethod":"LOGIN"},"Bluewin":{"description":"Bluewin (Swiss email provider)","host":"smtpauths.bluewin.ch","domains":["bluewin.ch"],"port":465},"BOL":{"description":"BOL Mail (Brazilian provider)","domains":["bol.com.br"],"host":"smtp.bol.com.br","port":587,"requireTLS":true},"DebugMail":{"description":"DebugMail (email testing service)","host":"debugmail.io","port":25},"Disroot":{"description":"Disroot (privacy-focused provider)","domains":["disroot.org"],"host":"disroot.org","port":587,"secure":false,"authMethod":"LOGIN"},"DynectEmail":{"description":"Dyn Email Delivery","aliases":["Dynect"],"host":"smtp.dynect.net","port":25},"ElasticEmail":{"description":"Elastic Email","aliases":["Elastic Email"],"host":"smtp.elasticemail.com","port":465,"secure":true},"Ethereal":{"description":"Ethereal Email (email testing service)","aliases":["ethereal.email"],"host":"smtp.ethereal.email","port":587},"FastMail":{"description":"FastMail","domains":["fastmail.fm"],"host":"smtp.fastmail.com","port":465,"secure":true},"Feishu Mail":{"description":"Feishu Mail (Lark)","aliases":["Feishu","FeishuMail"],"domains":["www.feishu.cn"],"host":"smtp.feishu.cn","port":465,"secure":true},"Forward Email":{"description":"Forward Email (email forwarding service)","aliases":["FE","ForwardEmail"],"domains":["forwardemail.net"],"host":"smtp.forwardemail.net","port":465,"secure":true},"GandiMail":{"description":"Gandi Mail","aliases":["Gandi","Gandi Mail"],"host":"mail.gandi.net","port":587},"Gmail":{"description":"Gmail","aliases":["Google Mail"],"domains":["gmail.com","googlemail.com"],"host":"smtp.gmail.com","port":465,"secure":true},"GMX":{"description":"GMX Mail","domains":["gmx.com","gmx.net","gmx.de"],"host":"mail.gmx.com","port":587},"Godaddy":{"description":"GoDaddy Email (US)","host":"smtpout.secureserver.net","port":25},"GodaddyAsia":{"description":"GoDaddy Email (Asia)","host":"smtp.asia.secureserver.net","port":25},"GodaddyEurope":{"description":"GoDaddy Email (Europe)","host":"smtp.europe.secureserver.net","port":25},"hot.ee":{"description":"Hot.ee (Estonian email provider)","host":"mail.hot.ee"},"Hotmail":{"description":"Outlook.com / Hotmail","aliases":["Outlook","Outlook.com","Hotmail.com"],"domains":["hotmail.com","outlook.com"],"host":"smtp-mail.outlook.com","port":587},"iCloud":{"description":"iCloud Mail","aliases":["Me","Mac"],"domains":["me.com","mac.com"],"host":"smtp.mail.me.com","port":587},"Infomaniak":{"description":"Infomaniak Mail (Swiss hosting provider)","host":"mail.infomaniak.com","domains":["ik.me","ikmail.com","etik.com"],"port":587},"KolabNow":{"description":"KolabNow (secure email service)","domains":["kolabnow.com"],"aliases":["Kolab"],"host":"smtp.kolabnow.com","port":465,"secure":true,"authMethod":"LOGIN"},"Loopia":{"description":"Loopia (Swedish hosting provider)","host":"mailcluster.loopia.se","port":465},"Loops":{"description":"Loops","host":"smtp.loops.so","port":587},"mail.ee":{"description":"Mail.ee (Estonian email provider)","host":"smtp.mail.ee"},"Mail.ru":{"description":"Mail.ru","host":"smtp.mail.ru","port":465,"secure":true},"Mailcatch.app":{"description":"Mailcatch (email testing service)","host":"sandbox-smtp.mailcatch.app","port":2525},"Maildev":{"description":"MailDev (local email testing)","port":1025,"ignoreTLS":true},"MailerSend":{"description":"MailerSend","host":"smtp.mailersend.net","port":587},"Mailgun":{"description":"Mailgun","host":"smtp.mailgun.org","port":465,"secure":true},"Mailjet":{"description":"Mailjet","host":"in.mailjet.com","port":587},"Mailosaur":{"description":"Mailosaur (email testing service)","host":"mailosaur.io","port":25},"Mailtrap":{"description":"Mailtrap","host":"live.smtp.mailtrap.io","port":587},"Mandrill":{"description":"Mandrill (by Mailchimp)","host":"smtp.mandrillapp.com","port":587},"Naver":{"description":"Naver Mail (Korean email provider)","host":"smtp.naver.com","port":587},"OhMySMTP":{"description":"OhMySMTP (email delivery service)","host":"smtp.ohmysmtp.com","port":587,"secure":false},"One":{"description":"One.com Email","host":"send.one.com","port":465,"secure":true},"OpenMailBox":{"description":"OpenMailBox","aliases":["OMB","openmailbox.org"],"host":"smtp.openmailbox.org","port":465,"secure":true},"Outlook365":{"description":"Microsoft 365 / Office 365","host":"smtp.office365.com","port":587,"secure":false},"Postmark":{"description":"Postmark","aliases":["PostmarkApp"],"host":"smtp.postmarkapp.com","port":2525},"Proton":{"description":"Proton Mail","aliases":["ProtonMail","Proton.me","Protonmail.com","Protonmail.ch"],"domains":["proton.me","protonmail.com","pm.me","protonmail.ch"],"host":"smtp.protonmail.ch","port":587,"requireTLS":true},"qiye.aliyun":{"description":"Alibaba Mail Enterprise Edition","host":"smtp.mxhichina.com","port":"465","secure":true},"QQ":{"description":"QQ Mail","domains":["qq.com"],"host":"smtp.qq.com","port":465,"secure":true},"QQex":{"description":"QQ Enterprise Mail","aliases":["QQ Enterprise"],"domains":["exmail.qq.com"],"host":"smtp.exmail.qq.com","port":465,"secure":true},"Resend":{"description":"Resend","host":"smtp.resend.com","port":465,"secure":true},"Runbox":{"description":"Runbox (Norwegian email provider)","domains":["runbox.com"],"host":"smtp.runbox.com","port":465,"secure":true},"SendCloud":{"description":"SendCloud (Chinese email delivery)","host":"smtp.sendcloud.net","port":2525},"SendGrid":{"description":"SendGrid","host":"smtp.sendgrid.net","port":587},"SendinBlue":{"description":"Brevo (formerly Sendinblue)","aliases":["Brevo"],"host":"smtp-relay.brevo.com","port":587},"SendPulse":{"description":"SendPulse","host":"smtp-pulse.com","port":465,"secure":true},"SES":{"description":"AWS SES US East (N. Virginia)","host":"email-smtp.us-east-1.amazonaws.com","port":465,"secure":true},"SES-AP-NORTHEAST-1":{"description":"AWS SES Asia Pacific (Tokyo)","host":"email-smtp.ap-northeast-1.amazonaws.com","port":465,"secure":true},"SES-AP-NORTHEAST-2":{"description":"AWS SES Asia Pacific (Seoul)","host":"email-smtp.ap-northeast-2.amazonaws.com","port":465,"secure":true},"SES-AP-NORTHEAST-3":{"description":"AWS SES Asia Pacific (Osaka)","host":"email-smtp.ap-northeast-3.amazonaws.com","port":465,"secure":true},"SES-AP-SOUTH-1":{"description":"AWS SES Asia Pacific (Mumbai)","host":"email-smtp.ap-south-1.amazonaws.com","port":465,"secure":true},"SES-AP-SOUTHEAST-1":{"description":"AWS SES Asia Pacific (Singapore)","host":"email-smtp.ap-southeast-1.amazonaws.com","port":465,"secure":true},"SES-AP-SOUTHEAST-2":{"description":"AWS SES Asia Pacific (Sydney)","host":"email-smtp.ap-southeast-2.amazonaws.com","port":465,"secure":true},"SES-CA-CENTRAL-1":{"description":"AWS SES Canada (Central)","host":"email-smtp.ca-central-1.amazonaws.com","port":465,"secure":true},"SES-EU-CENTRAL-1":{"description":"AWS SES Europe (Frankfurt)","host":"email-smtp.eu-central-1.amazonaws.com","port":465,"secure":true},"SES-EU-NORTH-1":{"description":"AWS SES Europe (Stockholm)","host":"email-smtp.eu-north-1.amazonaws.com","port":465,"secure":true},"SES-EU-WEST-1":{"description":"AWS SES Europe (Ireland)","host":"email-smtp.eu-west-1.amazonaws.com","port":465,"secure":true},"SES-EU-WEST-2":{"description":"AWS SES Europe (London)","host":"email-smtp.eu-west-2.amazonaws.com","port":465,"secure":true},"SES-EU-WEST-3":{"description":"AWS SES Europe (Paris)","host":"email-smtp.eu-west-3.amazonaws.com","port":465,"secure":true},"SES-SA-EAST-1":{"description":"AWS SES South America (S\xe3o Paulo)","host":"email-smtp.sa-east-1.amazonaws.com","port":465,"secure":true},"SES-US-EAST-1":{"description":"AWS SES US East (N. Virginia)","host":"email-smtp.us-east-1.amazonaws.com","port":465,"secure":true},"SES-US-EAST-2":{"description":"AWS SES US East (Ohio)","host":"email-smtp.us-east-2.amazonaws.com","port":465,"secure":true},"SES-US-GOV-EAST-1":{"description":"AWS SES GovCloud (US-East)","host":"email-smtp.us-gov-east-1.amazonaws.com","port":465,"secure":true},"SES-US-GOV-WEST-1":{"description":"AWS SES GovCloud (US-West)","host":"email-smtp.us-gov-west-1.amazonaws.com","port":465,"secure":true},"SES-US-WEST-1":{"description":"AWS SES US West (N. California)","host":"email-smtp.us-west-1.amazonaws.com","port":465,"secure":true},"SES-US-WEST-2":{"description":"AWS SES US West (Oregon)","host":"email-smtp.us-west-2.amazonaws.com","port":465,"secure":true},"Seznam":{"description":"Seznam Email (Czech email provider)","aliases":["Seznam Email"],"domains":["seznam.cz","email.cz","post.cz","spoluzaci.cz"],"host":"smtp.seznam.cz","port":465,"secure":true},"SMTP2GO":{"description":"SMTP2GO","host":"mail.smtp2go.com","port":2525},"Sparkpost":{"description":"SparkPost","aliases":["SparkPost","SparkPost Mail"],"domains":["sparkpost.com"],"host":"smtp.sparkpostmail.com","port":587,"secure":false},"Tipimail":{"description":"Tipimail (email delivery service)","host":"smtp.tipimail.com","port":587},"Tutanota":{"description":"Tutanota (Tuta Mail)","domains":["tutanota.com","tuta.com","tutanota.de","tuta.io"],"host":"smtp.tutanota.com","port":465,"secure":true},"Yahoo":{"description":"Yahoo Mail","domains":["yahoo.com"],"host":"smtp.mail.yahoo.com","port":465,"secure":true},"Yandex":{"description":"Yandex Mail","domains":["yandex.ru"],"host":"smtp.yandex.ru","port":465,"secure":true},"Zimbra":{"description":"Zimbra Mail Server","aliases":["Zimbra Collaboration"],"host":"smtp.zimbra.com","port":587,"requireTLS":true},"Zoho":{"description":"Zoho Mail","host":"smtp.zoho.com","port":465,"secure":true,"authMethod":"LOGIN"}}')},93738:(a,b,c)=>{"use strict";let{Transform:d}=c(27910),{StringDecoder:e}=c(41204),f=Symbol("last"),g=Symbol("decoder");function h(a,b,c){let d;if(this.overflow){if(1===(d=this[g].write(a).split(this.matcher)).length)return c();d.shift(),this.overflow=!1}else this[f]+=this[g].write(a),d=this[f].split(this.matcher);this[f]=d.pop();for(let a=0;a<d.length;a++)try{j(this,this.mapper(d[a]))}catch(a){return c(a)}if(this.overflow=this[f].length>this.maxLength,this.overflow&&!this.skipOverflow)return void c(Error("maximum buffer reached"));c()}function i(a){if(this[f]+=this[g].end(),this[f])try{j(this,this.mapper(this[f]))}catch(b){return a(b)}a()}function j(a,b){void 0!==b&&a.push(b)}function k(a){return a}a.exports=function(a,b,c){switch(a=a||/\r?\n/,b=b||k,c=c||{},arguments.length){case 1:"function"==typeof a?(b=a,a=/\r?\n/):"object"!=typeof a||a instanceof RegExp||a[Symbol.split]||(c=a,a=/\r?\n/);break;case 2:"function"==typeof a?(c=b,b=a,a=/\r?\n/):"object"==typeof b&&(c=b,b=k)}(c=Object.assign({},c)).autoDestroy=!0,c.transform=h,c.flush=i,c.readableObjectMode=!0;let j=new d(c);return j[f]="",j[g]=new e("utf8"),j.matcher=a,j.mapper=b,j.maxLength=c.maxLength,j.skipOverflow=c.skipOverflow||!1,j.overflow=!1,j._destroy=function(a,b){this._writableState.errorEmitted=!1,b(a)},j}},94190:(a,b,c)=>{"use strict";c.d(b,{h:()=>e});var d=c(48071);let e=async a=>{let{id:b,...c}=a;return(0,d.k)({...c,data:a?.data||{},duplicateFromID:b})}},94233:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.extendErrors=b.resetErrorsCount=b.reportExtraError=b.reportError=b.keyword$DataError=b.keywordError=void 0;let d=c(47934),e=c(34414),f=c(10004);function g(a,c=b.keywordError,e,f){let{it:h}=a,{gen:k,compositeRule:m,allErrors:o}=h,p=l(a,c,e);(null!=f?f:m||o)?i(k,p):j(h,(0,d._)`[${p}]`)}function h(a,c=b.keywordError,d){let{it:e}=a,{gen:g,compositeRule:k,allErrors:m}=e;i(g,l(a,c,d)),k||m||j(e,f.default.vErrors)}function i(a,b){let c=a.const("err",b);a.if((0,d._)`${f.default.vErrors} === null`,()=>a.assign(f.default.vErrors,(0,d._)`[${c}]`),(0,d._)`${f.default.vErrors}.push(${c})`),a.code((0,d._)`${f.default.errors}++`)}function j(a,b){let{gen:c,validateName:e,schemaEnv:f}=a;f.$async?c.throw((0,d._)`new ${a.ValidationError}(${b})`):(c.assign((0,d._)`${e}.errors`,b),c.return(!1))}b.keywordError={message:({keyword:a})=>(0,d.str)`must pass "${a}" keyword validation`},b.keyword$DataError={message:({keyword:a,schemaType:b})=>b?(0,d.str)`"${a}" keyword must be ${b} ($data)`:(0,d.str)`"${a}" keyword is invalid ($data)`},b.reportError=g,b.reportExtraError=h,b.resetErrorsCount=function(a,b){a.assign(f.default.errors,b),a.if((0,d._)`${f.default.vErrors} !== null`,()=>a.if(b,()=>a.assign((0,d._)`${f.default.vErrors}.length`,b),()=>a.assign(f.default.vErrors,null)))},b.extendErrors=function({gen:a,keyword:b,schemaValue:c,data:e,errsCount:g,it:h}){if(void 0===g)throw Error("ajv implementation error");let i=a.name("err");a.forRange("i",g,f.default.errors,g=>{a.const(i,(0,d._)`${f.default.vErrors}[${g}]`),a.if((0,d._)`${i}.instancePath === undefined`,()=>a.assign((0,d._)`${i}.instancePath`,(0,d.strConcat)(f.default.instancePath,h.errorPath))),a.assign((0,d._)`${i}.schemaPath`,(0,d.str)`${h.errSchemaPath}/${b}`),h.opts.verbose&&(a.assign((0,d._)`${i}.schema`,c),a.assign((0,d._)`${i}.data`,e))})};let k={keyword:new d.Name("keyword"),schemaPath:new d.Name("schemaPath"),params:new d.Name("params"),propertyName:new d.Name("propertyName"),message:new d.Name("message"),schema:new d.Name("schema"),parentSchema:new d.Name("parentSchema")};function l(a,b,c){let{createErrors:e}=a.it;return!1===e?(0,d._)`{}`:m(a,b,c)}function m(a,b,c={}){let{gen:d,it:e}=a,f=[o(e,c),p(a,c)];return q(a,b,f),d.object(...f)}function o({errorPath:a},{instancePath:b}){let c=b?(0,d.str)`${a}${(0,e.getErrorPath)(b,e.Type.Str)}`:a;return[f.default.instancePath,(0,d.strConcat)(f.default.instancePath,c)]}function p({keyword:a,it:{errSchemaPath:b}},{schemaPath:c,parentSchema:f}){let g=f?b:(0,d.str)`${b}/${a}`;return c&&(g=(0,d.str)`${g}${(0,e.getErrorPath)(c,e.Type.Str)}`),[k.schemaPath,g]}function q(a,{params:b,message:c},e){let{keyword:g,data:h,schemaValue:i,it:j}=a,{opts:l,propertyName:m,topSchemaRef:o,schemaPath:p}=j;e.push([k.keyword,g],[k.params,"function"==typeof b?b(a):b||(0,d._)`{}`]),l.messages&&e.push([k.message,"function"==typeof c?c(a):c]),l.verbose&&e.push([k.schema,i],[k.parentSchema,(0,d._)`${o}${p}`],[f.default.data,h]),m&&e.push([k.propertyName,m])}},94337:(a,b,c)=>{var d=c(27574),e=c(73334),f=c(15162),g=c(58649),h=c(88200);function i(a){return function(b){return null===b?b:a(b)}}function j(a){return null===a?a:"TRUE"===a||"t"===a||"true"===a||"y"===a||"yes"===a||"on"===a||"1"===a}function k(a){return a?d.parse(a,j):null}function l(a){return parseInt(a,10)}function m(a){return a?d.parse(a,i(l)):null}function o(a){return a?d.parse(a,i(function(a){return w(a).trim()})):null}var p=function(a){return a?e.create(a,function(a){return null!==a&&(a=y(a)),a}).parse():null},q=function(a){return a?e.create(a,function(a){return null!==a&&(a=parseFloat(a)),a}).parse():null},r=function(a){return a?e.create(a).parse():null},s=function(a){return a?e.create(a,function(a){return null!==a&&(a=f(a)),a}).parse():null},t=function(a){return a?e.create(a,function(a){return null!==a&&(a=g(a)),a}).parse():null},u=function(a){return a?d.parse(a,i(h)):null},v=function(a){return parseInt(a,10)},w=function(a){var b=String(a);return/^\d+$/.test(b)?b:a},x=function(a){return a?d.parse(a,i(JSON.parse)):null},y=function(a){return"("!==a[0]?null:{x:parseFloat((a=a.substring(1,a.length-1).split(","))[0]),y:parseFloat(a[1])}},z=function(a){if("<"!==a[0]&&"("!==a[1])return null;for(var b="(",c="",d=!1,e=2;e<a.length-1;e++){if(d||(b+=a[e]),")"===a[e]){d=!0;continue}d&&","!==a[e]&&(c+=a[e])}var f=y(b);return f.radius=parseFloat(c),f};a.exports={init:function(a){a(20,w),a(21,v),a(23,v),a(26,v),a(700,parseFloat),a(701,parseFloat),a(16,j),a(1082,f),a(1114,f),a(1184,f),a(600,y),a(651,r),a(718,z),a(1e3,k),a(1001,u),a(1005,m),a(1007,m),a(1028,m),a(1016,o),a(1017,p),a(1021,q),a(1022,q),a(1231,q),a(1014,r),a(1015,r),a(1008,r),a(1009,r),a(1040,r),a(1041,r),a(1115,s),a(1182,s),a(1185,s),a(1186,g),a(1187,t),a(17,h),a(114,JSON.parse.bind(JSON)),a(3802,JSON.parse.bind(JSON)),a(199,x),a(3807,x),a(3907,r),a(2951,r),a(791,r),a(1183,r),a(1270,r)}}},94521:(a,b,c)=>{"use strict";let d=c(9334),e=c(1483),f=c(55511);function g(a,b,c,f,g){let h=["v=1","a=rsa-"+f,"c=relaxed/relaxed","d="+d.toASCII(a),"q=dns/txt","s="+b,"bh="+g,"h="+c].join("; ");return e.foldLines("DKIM-Signature: "+h,76)+";\r\n b="}function h(a,b,c){let d=new Set,e=new Set,f=new Map;(c||"").toLowerCase().split(":").forEach(a=>{e.add(a.trim())}),(b||"").toLowerCase().split(":").filter(a=>!e.has(a.trim())).forEach(a=>{d.add(a.trim())});for(let b=a.length-1;b>=0;b--){let c=a[b];d.has(c.key)&&!f.has(c.key)&&f.set(c.key,i(c.line))}let g=[],h=[];return d.forEach(a=>{f.has(a)&&(h.push(a),g.push(a+":"+f.get(a)))}),{headers:g.join("\r\n")+"\r\n",fieldNames:h.join(":")}}function i(a){return a.substr(a.indexOf(":")+1).replace(/\r?\n/g,"").replace(/\s+/g," ").trim()}a.exports=(a,b,c,d)=>{let e,j,k="From:Sender:Reply-To:Subject:Date:Message-ID:To:Cc:MIME-Version:Content-Type:Content-Transfer-Encoding:Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:In-Reply-To:References:List-Id:List-Help:List-Unsubscribe:List-Subscribe:List-Post:List-Owner:List-Archive",l=h(a,(d=d||{}).headerFieldNames||k,d.skipFields),m=g(d.domainName,d.keySelector,l.fieldNames,b,c);l.headers+="dkim-signature:"+i(m),(e=f.createSign(("rsa-"+b).toUpperCase())).update(l.headers);try{j=e.sign(d.privateKey,"base64")}catch(a){return!1}return m+j.replace(/(^.{73}|.{75}(?!\r?\n|\r))/g,"$&\r\n ").trim()},a.exports.relaxedHeaders=h},95149:(a,b,c)=>{"use strict";c.d(b,{d:()=>u});var d=c(6260),e=c(56336),f=c(59540),g=c(65540);let h=async({id:a,data:b,field:c,locale:h,req:j,select:k,selectMode:l,siblingData:m,user:o})=>{if((0,d.e)({field:c,select:k,selectMode:l,siblingDoc:m})){if((0,g.Z7)(c)&&void 0===m[c.name]&&void 0!==c.defaultValue)try{m[c.name]=await (0,e.B)({defaultValue:c.defaultValue,locale:h,req:j,user:o,value:m[c.name]})}catch(a){j.payload.logger.error({err:a,msg:`Error calculating default value for field: ${c.name}`})}switch(c.type){case"array":{let d=m[c.name];if(Array.isArray(d)){let e=[],f=k?.[c.name];d.forEach(d=>{e.push(i({id:a,data:b,fields:c.fields,locale:h,req:j,select:"object"==typeof f?f:void 0,selectMode:l,siblingData:d,user:o}))}),await Promise.all(e)}break}case"blocks":{let d=m[c.name];if(Array.isArray(d)){let e=[];d.forEach(d=>{let g=d.blockType,m=j.payload.blocks[g]??(c.blockReferences??c.blocks).find(a=>"string"!=typeof a&&a.slug===g),{blockSelect:p,blockSelectMode:q}=(0,f.c)({block:m,select:k?.[c.name],selectMode:l});m&&(d.blockType=g,e.push(i({id:a,data:b,fields:m.fields,locale:h,req:j,select:"object"==typeof p?p:void 0,selectMode:q,siblingData:d,user:o})))}),await Promise.all(e)}break}case"collapsible":case"row":await i({id:a,data:b,fields:c.fields,locale:h,req:j,select:k,selectMode:l,siblingData:m,user:o});break;case"group":if((0,g.Z7)(c)){"object"!=typeof m[c.name]&&(m[c.name]={});let d=m[c.name],e=k?.[c.name];await i({id:a,data:b,fields:c.fields,locale:h,req:j,select:"object"==typeof e?e:void 0,selectMode:l,siblingData:d,user:o})}else await i({id:a,data:b,fields:c.fields,locale:h,req:j,select:k,selectMode:l,siblingData:m,user:o});break;case"tab":{let d,e;(0,g.pz)(c)?("object"!=typeof m[c.name]&&(m[c.name]={}),d=m[c.name],"object"==typeof k?.[c.name]&&(e=k?.[c.name])):(d=m,e=k),await i({id:a,data:b,fields:c.fields,locale:h,req:j,select:e,selectMode:l,siblingData:d,user:o});break}case"tabs":await i({id:a,data:b,fields:c.tabs.map(a=>({...a,type:"tab"})),locale:h,req:j,select:k,selectMode:l,siblingData:m,user:o})}}},i=async({id:a,data:b,fields:c,locale:d,req:e,select:f,selectMode:g,siblingData:i,user:j})=>{let k=[];c.forEach(c=>{k.push(h({id:a,data:b,field:c,locale:d,req:e,select:f,selectMode:g,siblingData:i,user:j}))}),await Promise.all(k)},j=async({id:a,data:b,fields:c,locale:d,req:e,select:f,selectMode:g,user:h})=>(await i({id:a,data:b,fields:c,locale:d,req:e,select:f,selectMode:g,siblingData:b,user:h}),b);var k=c(898),l=c(77208),m=c(93462),o=c(46601),p=c(42926);function q({collapsedPrefs:a,field:b,previousRow:c,row:d}){return c&&"collapsed"in c?c.collapsed??!1:void 0!==a?a.includes(d.id):b.admin.initCollapsed}let r="default"in l?l.default:l,s=async a=>{let{id:b,addErrorPathToParent:c,anyParentLocalized:e=!1,blockData:h,clientFieldSchemaMap:i,collectionSlug:j,data:l,field:s,fieldSchemaMap:u,filter:v,forceFullValue:w=!1,fullData:x,includeSchema:y=!1,indexPath:z,mockRSCs:A,omitParents:B=!1,operation:C,parentPath:D,parentPermissions:E,parentSchemaPath:F,passesCondition:G,path:H,preferences:I,previousFormState:J,readOnly:K,renderAllFields:L,renderFieldFn:M,req:N,schemaPath:O,select:P,selectMode:Q,skipConditionChecks:R=!1,skipValidation:S=!1,state:T}=a;!a.clientFieldSchemaMap&&a.renderFieldFn&&console.warn("clientFieldSchemaMap is not passed to addFieldStatePromise - this will reduce performance");let U=!0,V={},W=J?.[H]?.lastRenderedPath;W&&(V.lastRenderedPath=W);let X=!L&&!J?.[H];if(X&&(V.addedByServer=!0),!1===G&&(V.passesCondition=!1),y&&(V.fieldSchema=s),(0,g.Z7)(s)&&!(0,g.I2)(s)){let d=!0===(U=!0===E?E:(0,o.Zt)(E?.[s.name]))||(0,o.Zt)(U?.read);if(!(d="function"!=typeof s?.access?.read||await s.access.read({id:b,blockData:h,data:x,req:N,siblingData:l})))return;let k=s.validate,z=!0;if("function"==typeof k&&!S&&G){let a;if("json"===s.type&&"string"==typeof l[s.name])try{JSON.parse(l[s.name])}catch(b){a=b}try{z=await k(l?.[s.name],{...s,id:b,blockData:h,collectionSlug:j,data:x,event:"onChange",jsonError:a,operation:C,preferences:I,previousValue:J?.[H]?.initialValue,req:N,siblingData:l})}catch(a){z=`Error validating field at path: ${H}`,N.payload.logger.error({err:a,msg:z})}}let D=a=>{"function"==typeof c&&c(a),V.errorPaths||(V.errorPaths=[]),V.errorPaths.includes(a)||(V.errorPaths.push(a),V.valid=!1)};switch("string"==typeof z&&(V.errorMessage=z,V.valid=!1,D(H)),s.type){case"array":{let c=Array.isArray(l[s.name])?l[s.name]:[],d=P?.[s.name],{promises:f,rows:k}=c.reduce((c,f,k)=>{let l=H+"."+k;if(f.id=f?.id||new r().toHexString(),!B&&(!v||v(a))){let a=l+".id";T[a]={initialValue:f.id,value:f.id},y&&(T[a].fieldSchema=s.fields.find(a=>(0,g.uT)(a)))}c.promises.push(t({id:b,addErrorPathToParent:D,anyParentLocalized:s.localized||e,blockData:h,clientFieldSchemaMap:i,collectionSlug:j,data:f,fields:s.fields,fieldSchemaMap:u,filter:v,forceFullValue:w,fullData:x,includeSchema:y,mockRSCs:A,omitParents:B,operation:C,parentIndexPath:"",parentPassesCondition:G,parentPath:l,parentSchemaPath:O,permissions:!0===U?U:U?.fields||{},preferences:I,previousFormState:J,readOnly:K,renderAllFields:L,renderFieldFn:M,req:N,select:"object"==typeof d?d:void 0,selectMode:Q,skipConditionChecks:R,skipValidation:S,state:T})),c.rows||(c.rows=[]);let m=(J?.[H]?.rows||[]).find(a=>a.id===f.id),o={id:f.id,isLoading:!1};return m?.lastRenderedPath&&(o.lastRenderedPath=m.lastRenderedPath),m||(o.addedByServer=!0),q({collapsedPrefs:I?.fields?.[H]?.collapsed,field:s,previousRow:m,row:f})&&(o.collapsed=!0),c.rows.push(o),c},{promises:[],rows:[]});await Promise.all(f),k&&(V.rows=k),null!==l[s.name]&&(V.value=w?c:c.length,V.initialValue=w?c:c.length,c.length>0&&(V.disableFormData=!0)),!B&&(!v||v(a))&&(T[H]=V);break}case"blocks":{let c=Array.isArray(l[s.name])?l[s.name]:[],d=null;s.filterOptions&&(V.blocksFilterOptions=(d=await (0,m.XC)({id:b,data:x,filterOptions:s.filterOptions,req:N,siblingData:l,value:l[s.name]})).allowedBlockSlugs);let{promises:h,rowMetadata:k}=c.reduce((c,h,k)=>{let l=h.blockType,m=N.payload.blocks[l]??(s.blockReferences??s.blocks).find(a=>"string"!=typeof a&&a.slug===l);if(!m)throw Error(`Block with type "${h.blockType}" was found in block data, but no block with that type is defined in the config for field with schema path ${O}.`);let{blockSelect:o,blockSelectMode:p}=(0,f.c)({block:m,select:P?.[s.name],selectMode:Q}),z=H+"."+k;if(m){if(h.id=h?.id||new r().toHexString(),!B&&(!v||v(a))){let a=z+".id";T[a]={initialValue:h.id,value:h.id},d?.invalidBlockSlugs?.length&&d.invalidBlockSlugs.includes(h.blockType)&&(T[a].errorMessage=N.t("validation:invalidBlock",{block:h.blockType}),T[a].valid=!1,D(a),V.errorPaths=V.errorPaths.filter(a=>a!==H)),y&&(T[a].fieldSchema=y?m.fields.find(a=>(0,g.uT)(a)):void 0);let b=z+".blockType";T[b]={initialValue:h.blockType,value:h.blockType},X&&(T[b].addedByServer=X),y&&(T[b].fieldSchema=m.fields.find(a=>"name"in a&&"blockType"===a.name));let c=z+".blockName";T[c]={},h.blockName&&(T[c].initialValue=h.blockName,T[c].value=h.blockName),y&&(T[c].fieldSchema=m.fields.find(a=>"name"in a&&"blockName"===a.name))}c.promises.push(t({id:b,addErrorPathToParent:D,anyParentLocalized:s.localized||e,blockData:h,clientFieldSchemaMap:i,collectionSlug:j,data:h,fields:m.fields,fieldSchemaMap:u,filter:v,forceFullValue:w,fullData:x,includeSchema:y,mockRSCs:A,omitParents:B,operation:C,parentIndexPath:"",parentPassesCondition:G,parentPath:z,parentSchemaPath:O+"."+m.slug,permissions:!0===U?U:E?.[s.name]?.blocks?.[m.slug]===!0||E?.[s.name]?.blocks?.[m.slug]?.fields||{},preferences:I,previousFormState:J,readOnly:K,renderAllFields:L,renderFieldFn:M,req:N,select:"object"==typeof o?o:void 0,selectMode:p,skipConditionChecks:R,skipValidation:S,state:T}));let f=(J?.[H]?.rows||[]).find(a=>a.id===h.id),k={id:h.id,blockType:h.blockType,isLoading:!1};f?.lastRenderedPath&&(k.lastRenderedPath=f.lastRenderedPath),c.rowMetadata.push(k),q({collapsedPrefs:I?.fields?.[H]?.collapsed,field:s,previousRow:f,row:h})&&(c.rowMetadata[c.rowMetadata.length-1].collapsed=!0)}return c},{promises:[],rowMetadata:[]});await Promise.all(h),null===l[s.name]?(V.value=null,V.initialValue=null):(V.value=w?c:c.length,V.initialValue=w?c:c.length,c.length>0&&(V.disableFormData=!0)),V.rows=k,!B&&(!v||v(a))&&(T[H]=V);break}case"group":{(!v||v(a))&&(V.disableFormData=!0,T[H]=V);let c=P?.[s.name];await t({id:b,addErrorPathToParent:D,anyParentLocalized:s.localized||e,blockData:h,clientFieldSchemaMap:i,collectionSlug:j,data:l?.[s.name]||{},fields:s.fields,fieldSchemaMap:u,filter:v,forceFullValue:w,fullData:x,includeSchema:y,mockRSCs:A,omitParents:B,operation:C,parentIndexPath:"",parentPassesCondition:G,parentPath:H,parentSchemaPath:O,permissions:"boolean"==typeof U?U:U?.fields,preferences:I,previousFormState:J,readOnly:K,renderAllFields:L,renderFieldFn:M,req:N,select:"object"==typeof c?c:void 0,selectMode:Q,skipConditionChecks:R,skipValidation:S,state:T});break}case"relationship":case"upload":if(s.filterOptions&&("object"==typeof s.filterOptions&&("string"==typeof s.relationTo?V.filterOptions={[s.relationTo]:s.filterOptions}:V.filterOptions=s.relationTo.reduce((a,b)=>(a[b]=s.filterOptions,a),{})),"function"==typeof s.filterOptions&&(V.filterOptions=await (0,p.r)(s.filterOptions,{id:b,blockData:h,data:x,relationTo:s.relationTo,req:N,siblingData:l,user:N.user}))),s.hasMany){let a=Array.isArray(l[s.name])?l[s.name].map(a=>Array.isArray(s.relationTo)?{relationTo:a.relationTo,value:a.value&&"object"==typeof a.value?a.value?.id:a.value}:"object"==typeof a&&null!==a?a.id:a):void 0;V.value=a,V.initialValue=a}else if(Array.isArray(s.relationTo)){if(l[s.name]&&"object"==typeof l[s.name]&&"relationTo"in l[s.name]&&"value"in l[s.name]){let a="object"==typeof l[s.name]?.value&&l[s.name]?.value&&"id"in l[s.name].value?l[s.name].value.id:l[s.name].value,b={relationTo:l[s.name]?.relationTo,value:a};V.value=b,V.initialValue=b}}else{let a=l[s.name]&&"object"==typeof l[s.name]&&"id"in l[s.name]?l[s.name].id:l[s.name];V.value=a,V.initialValue=a}(!v||v(a))&&(T[H]=V);break;case"select":"function"==typeof s.filterOptions&&(V.selectFilterOptions=s.filterOptions({data:x,options:s.options,req:N,siblingData:l})),void 0!==l[s.name]&&(V.value=l[s.name],V.initialValue=l[s.name]),(!v||v(a))&&(T[H]=V);break;default:void 0!==l[s.name]&&(V.value=l[s.name],V.initialValue=l[s.name]),(!v||v(a))&&(T[H]=V)}}else if((0,g.sd)(s)&&!(0,g.Z7)(s))(!v||v(a))&&(T[H]={disableFormData:!0},!1===G&&(T[H].passesCondition=!1)),await t({id:b,mockRSCs:A,select:P,selectMode:Q,addErrorPathToParent:c,anyParentLocalized:(0,g.Yf)(s)||e,blockData:h,clientFieldSchemaMap:i,collectionSlug:j,data:l,fields:s.fields,fieldSchemaMap:u,filter:v,forceFullValue:w,fullData:x,includeSchema:y,omitParents:B,operation:C,parentIndexPath:z,parentPassesCondition:G,parentPath:D,parentSchemaPath:F,permissions:E,preferences:I,previousFormState:J,readOnly:K,renderAllFields:L,renderFieldFn:M,req:N,skipConditionChecks:R,skipValidation:S,state:T});else if("tabs"===s.type){let a=s.tabs.map((a,f)=>{let m,o,p=(0,g.pz)(a),q={...a,type:"tab"},{indexPath:r,path:s,schemaPath:O}=(0,k.Z)({field:q,index:f,parentIndexPath:z,parentPath:D,parentSchemaPath:F});if(p){if(!(0,d.e)({field:q,select:P,selectMode:Q,siblingDoc:l?.[a.name]||{}}))return;if(!0===E)o=!0;else{let b=E?.[a.name];o=!0===b||b?.fields}"object"==typeof P?.[a.name]&&(m=P?.[a.name])}else o=E,m=P;let U=H?H.split("."):[],V=G;return G&&"function"==typeof a.admin?.condition&&(V=a.admin.condition(x,l,{blockData:h,operation:C,path:U,user:N.user})),a?.id&&(T[a.id]={passesCondition:V}),t({id:b,addErrorPathToParent:c,anyParentLocalized:a.localized||e,blockData:h,clientFieldSchemaMap:i,collectionSlug:j,data:p?l?.[a.name]||{}:l,fields:a.fields,fieldSchemaMap:u,filter:v,forceFullValue:w,fullData:x,includeSchema:y,mockRSCs:A,omitParents:B,operation:C,parentIndexPath:p?"":r,parentPassesCondition:V,parentPath:p?s:D,parentSchemaPath:p?O:F,permissions:o,preferences:I,previousFormState:J,readOnly:K,renderAllFields:L,renderFieldFn:M,req:N,select:m,selectMode:Q,skipConditionChecks:R,skipValidation:S,state:T})});await Promise.all(a)}else"ui"===s.type&&(!v||v(a))&&(T[H]=V,T[H].disableFormData=!0);if(M&&!(0,g.I2)(s)){let a=u.get(O);if(!a&&!A)if(O.endsWith(".blockType"))return;else throw Error(`Field config not found for ${O}`);if(!T[H])return;X&&(T[H].addedByServer=X),M({id:b,clientFieldSchemaMap:i,collectionSlug:j,data:x,fieldConfig:a,fieldSchemaMap:u,fieldState:T[H],formState:T,indexPath:z,lastRenderedPath:W,mockRSCs:A,operation:C,parentPath:D,parentSchemaPath:F,path:H,permissions:U,preferences:I,previousFieldState:J?.[H],readOnly:K,renderAllFields:L,req:N,schemaPath:O,siblingData:l})}},t=async({id:a,addErrorPathToParent:b,anyParentLocalized:c=!1,blockData:e,clientFieldSchemaMap:f,collectionSlug:g,data:h,fields:i,fieldSchemaMap:j,filter:l,forceFullValue:m=!1,fullData:o,includeSchema:p=!1,mockRSCs:q,omitParents:r=!1,operation:t,parentIndexPath:u,parentPassesCondition:v=!0,parentPath:w,parentSchemaPath:x,permissions:y,preferences:z,previousFormState:A,readOnly:B,renderAllFields:C,renderFieldFn:D,req:E,select:F,selectMode:G,skipConditionChecks:H=!1,skipValidation:I=!1,state:J={}})=>{let K=[];i.forEach((i,L)=>{let M=!0,{indexPath:N,path:O,schemaPath:P}=(0,k.Z)({field:i,index:L,parentIndexPath:"name"in i?"":u,parentPath:w,parentSchemaPath:x});if("id"!==O&&!(0,d.e)({field:i,select:F,selectMode:G,siblingDoc:h}))return;let Q=O?O.split("."):[];if(!H)try{M=!!((!i?.admin?.condition||i.admin.condition(o||{},h||{},{blockData:e,operation:t,path:Q,user:E.user}))&&v)}catch(a){M=!1,E.payload.logger.error({err:a,msg:`Error evaluating field condition at path: ${O}`})}K.push(s({id:a,addErrorPathToParent:b,anyParentLocalized:c,blockData:e,clientFieldSchemaMap:f,collectionSlug:g,data:h,field:i,fieldIndex:L,fieldSchemaMap:j,filter:l,forceFullValue:m,fullData:o,includeSchema:p,indexPath:N,mockRSCs:q,omitParents:r,operation:t,parentIndexPath:u,parentPath:w,parentPermissions:y,parentSchemaPath:x,passesCondition:M,path:O,preferences:z,previousFormState:A,readOnly:B,renderAllFields:C,renderFieldFn:D,req:E,schemaPath:P,select:F,selectMode:G,skipConditionChecks:H,skipValidation:I,state:J}))}),await Promise.all(K)},u=async({id:a,clientFieldSchemaMap:b,collectionSlug:c,data:d={},documentData:e,fields:f,fieldSchemaMap:g,initialBlockData:h,mockRSCs:i,operation:k,permissions:l,preferences:m,previousFormState:o,readOnly:p,renderAllFields:q,renderFieldFn:r,req:s,schemaPath:u,select:v,selectMode:w,skipValidation:x})=>{if(!b&&r&&console.warn("clientFieldSchemaMap is not passed to fieldSchemasToFormState - this will reduce performance"),f&&f.length){let y={},z={...d};await j({id:a,data:z,fields:f,locale:s.locale,req:s,select:v,selectMode:w,siblingData:z,user:s.user});let A=z;return e&&(A=e),await t({id:a,addErrorPathToParent:null,blockData:h,clientFieldSchemaMap:b,collectionSlug:c,data:z,fields:f,fieldSchemaMap:g,fullData:A,mockRSCs:i,operation:k,parentIndexPath:"",parentPassesCondition:!0,parentPath:"",parentSchemaPath:u,permissions:l,preferences:m,previousFormState:o,readOnly:p,renderAllFields:q,renderFieldFn:r,req:s,select:v,selectMode:w,skipValidation:x,state:y}),y}return{}}},95176:(a,b,c)=>{"use strict";c.d(b,{V:()=>d});let d="__smithy_context"},95662:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(37175),e=c(47934),f=c(34414),g=c(56965);b.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:a,j:b}})=>(0,e.str)`must NOT have duplicate items (items ## ${b} and ${a} are identical)`,params:({params:{i:a,j:b}})=>(0,e._)`{i: ${a}, j: ${b}}`},code(a){let{gen:b,data:c,$data:h,schema:i,parentSchema:j,schemaCode:k,it:l}=a;if(!h&&!i)return;let m=b.let("valid"),o=j.items?(0,d.getSchemaTypes)(j.items):[];function p(){let d=b.let("i",(0,e._)`${c}.length`),f=b.let("j");a.setParams({i:d,j:f}),b.assign(m,!0),b.if((0,e._)`${d} > 1`,()=>(q()?r:s)(d,f))}function q(){return o.length>0&&!o.some(a=>"object"===a||"array"===a)}function r(f,g){let h=b.name("item"),i=(0,d.checkDataTypes)(o,h,l.opts.strictNumbers,d.DataType.Wrong),j=b.const("indices",(0,e._)`{}`);b.for((0,e._)`;${f}--;`,()=>{b.let(h,(0,e._)`${c}[${f}]`),b.if(i,(0,e._)`continue`),o.length>1&&b.if((0,e._)`typeof ${h} == "string"`,(0,e._)`${h} += "_"`),b.if((0,e._)`typeof ${j}[${h}] == "number"`,()=>{b.assign(g,(0,e._)`${j}[${h}]`),a.error(),b.assign(m,!1).break()}).code((0,e._)`${j}[${h}] = ${f}`)})}function s(d,h){let i=(0,f.useFunc)(b,g.default),j=b.name("outer");b.label(j).for((0,e._)`;${d}--;`,()=>b.for((0,e._)`${h} = ${d}; ${h}--;`,()=>b.if((0,e._)`${i}(${c}[${d}], ${c}[${h}])`,()=>{a.error(),b.assign(m,!1).break(j)})))}a.block$data(m,p,(0,e._)`${k} === false`),a.ok(m)}}},95808:(a,b,c)=>{"use strict";var d;function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}!function(f){var g=arguments,h=function(){var a=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,c=/[^-+\dA-Z]/g;return function(d,e,f,o){if(1!==g.length||"string"!==m(d)||/\d/.test(d)||(e=d,d=void 0),(d=d||0===d?d:new Date)instanceof Date||(d=new Date(d)),isNaN(d))throw TypeError("Invalid date");var p=(e=String(h.masks[e]||e||h.masks.default)).slice(0,4);("UTC:"===p||"GMT:"===p)&&(e=e.slice(4),f=!0,"GMT:"===p&&(o=!0));var q=function(){return f?"getUTC":"get"},r=function(){return d[q()+"Date"]()},s=function(){return d[q()+"Day"]()},t=function(){return d[q()+"Month"]()},u=function(){return d[q()+"FullYear"]()},v=function(){return d[q()+"Hours"]()},w=function(){return d[q()+"Minutes"]()},x=function(){return d[q()+"Seconds"]()},y=function(){return d[q()+"Milliseconds"]()},z=function(){return f?0:d.getTimezoneOffset()},A=function(){return k(d)},B=function(){return l(d)},C={d:function(){return r()},dd:function(){return i(r())},ddd:function(){return h.i18n.dayNames[s()]},DDD:function(){return j({y:u(),m:t(),d:r(),_:q(),dayName:h.i18n.dayNames[s()],short:!0})},dddd:function(){return h.i18n.dayNames[s()+7]},DDDD:function(){return j({y:u(),m:t(),d:r(),_:q(),dayName:h.i18n.dayNames[s()+7]})},m:function(){return t()+1},mm:function(){return i(t()+1)},mmm:function(){return h.i18n.monthNames[t()]},mmmm:function(){return h.i18n.monthNames[t()+12]},yy:function(){return String(u()).slice(2)},yyyy:function(){return i(u(),4)},h:function(){return v()%12||12},hh:function(){return i(v()%12||12)},H:function(){return v()},HH:function(){return i(v())},M:function(){return w()},MM:function(){return i(w())},s:function(){return x()},ss:function(){return i(x())},l:function(){return i(y(),3)},L:function(){return i(Math.floor(y()/10))},t:function(){return 12>v()?h.i18n.timeNames[0]:h.i18n.timeNames[1]},tt:function(){return 12>v()?h.i18n.timeNames[2]:h.i18n.timeNames[3]},T:function(){return 12>v()?h.i18n.timeNames[4]:h.i18n.timeNames[5]},TT:function(){return 12>v()?h.i18n.timeNames[6]:h.i18n.timeNames[7]},Z:function(){return o?"GMT":f?"UTC":(String(d).match(b)||[""]).pop().replace(c,"").replace(/GMT\+0000/g,"UTC")},o:function(){return(z()>0?"-":"+")+i(100*Math.floor(Math.abs(z())/60)+Math.abs(z())%60,4)},p:function(){return(z()>0?"-":"+")+i(Math.floor(Math.abs(z())/60),2)+":"+i(Math.floor(Math.abs(z())%60),2)},S:function(){return["th","st","nd","rd"][r()%10>3?0:(r()%100-r()%10!=10)*r()%10]},W:function(){return A()},WW:function(){return i(A())},N:function(){return B()}};return e.replace(a,function(a){return a in C?C[a]():a.slice(1,a.length-1)})}}();h.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},h.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};var i=function(a,b){for(a=String(a),b=b||2;a.length<b;)a="0"+a;return a},j=function(a){var b=a.y,c=a.m,d=a.d,e=a._,f=a.dayName,g=a.short,h=void 0!==g&&g,i=new Date,j=new Date;j.setDate(j[e+"Date"]()-1);var k=new Date;k.setDate(k[e+"Date"]()+1);var l=function(){return i[e+"Date"]()},m=function(){return i[e+"Month"]()},o=function(){return j[e+"Date"]()},p=function(){return j[e+"Month"]()},q=function(){return j[e+"FullYear"]()},r=function(){return k[e+"Date"]()},s=function(){return k[e+"Month"]()},t=function(){return k[e+"FullYear"]()};return function(){return i[e+"FullYear"]()}()===b&&m()===c&&l()===d?h?"Tdy":"Today":q()===b&&p()===c&&o()===d?h?"Ysd":"Yesterday":t()===b&&s()===c&&r()===d?h?"Tmw":"Tomorrow":f},k=function(a){var b=new Date(a.getFullYear(),a.getMonth(),a.getDate());b.setDate(b.getDate()-(b.getDay()+6)%7+3);var c=new Date(b.getFullYear(),0,4);c.setDate(c.getDate()-(c.getDay()+6)%7+3);var d=b.getTimezoneOffset()-c.getTimezoneOffset();return b.setHours(b.getHours()-d),1+Math.floor((b-c)/(864e5*7))},l=function(a){var b=a.getDay();return 0===b&&(b=7),b},m=function(a){return null===a?"null":void 0===a?"undefined":"object"!==e(a)?e(a):Array.isArray(a)?"array":({}).toString.call(a).slice(8,-1).toLowerCase()};void 0===(d=(function(){return h}).call(b,c,b,a))||(a.exports=d)}(void 0)},95940:(a,b,c)=>{"use strict";let{Readable:d,Duplex:e,PassThrough:f}=c(57075),g=c(34589),{AsyncResource:h}=c(16698),{InvalidArgumentError:i,InvalidReturnValueError:j,RequestAbortedError:k}=c(64737),l=c(81350),{addSignal:m,removeSignal:o}=c(84952);function p(){}let q=Symbol("resume");class r extends d{constructor(){super({autoDestroy:!0}),this[q]=null}_read(){let{[q]:a}=this;a&&(this[q]=null,a())}_destroy(a,b){this._read(),b(a)}}class s extends d{constructor(a){super({autoDestroy:!0}),this[q]=a}_read(){this[q]()}_destroy(a,b){a||this._readableState.endEmitted||(a=new k),b(a)}}class t extends h{constructor(a,b){if(!a||"object"!=typeof a)throw new i("invalid opts");if("function"!=typeof b)throw new i("invalid handler");let{signal:c,method:d,opaque:f,onInfo:g,responseHeaders:h}=a;if(c&&"function"!=typeof c.on&&"function"!=typeof c.addEventListener)throw new i("signal must be an EventEmitter or EventTarget");if("CONNECT"===d)throw new i("invalid method");if(g&&"function"!=typeof g)throw new i("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=f||null,this.responseHeaders=h||null,this.handler=b,this.abort=null,this.context=null,this.onInfo=g||null,this.req=new r().on("error",p),this.ret=new e({readableObjectMode:a.objectMode,autoDestroy:!0,read:()=>{let{body:a}=this;a?.resume&&a.resume()},write:(a,b,c)=>{let{req:d}=this;d.push(a,b)||d._readableState.destroyed?c():d[q]=c},destroy:(a,b)=>{let{body:c,req:d,res:e,ret:f,abort:g}=this;a||f._readableState.endEmitted||(a=new k),g&&a&&g(),l.destroy(c,a),l.destroy(d,a),l.destroy(e,a),o(this),b(a)}}).on("prefinish",()=>{let{req:a}=this;a.push(null)}),this.res=null,m(this,c)}onConnect(a,b){let{res:c}=this;if(this.reason)return void a(this.reason);g(!c,"pipeline cannot be retried"),this.abort=a,this.context=b}onHeaders(a,b,c){let d,{opaque:e,handler:f,context:g}=this;if(a<200){if(this.onInfo){let c="raw"===this.responseHeaders?l.parseRawHeaders(b):l.parseHeaders(b);this.onInfo({statusCode:a,headers:c})}return}this.res=new s(c);try{this.handler=null;let c="raw"===this.responseHeaders?l.parseRawHeaders(b):l.parseHeaders(b);d=this.runInAsyncScope(f,null,{statusCode:a,headers:c,opaque:e,body:this.res,context:g})}catch(a){throw this.res.on("error",p),a}if(!d||"function"!=typeof d.on)throw new j("expected Readable");d.on("data",a=>{let{ret:b,body:c}=this;!b.push(a)&&c.pause&&c.pause()}).on("error",a=>{let{ret:b}=this;l.destroy(b,a)}).on("end",()=>{let{ret:a}=this;a.push(null)}).on("close",()=>{let{ret:a}=this;a._readableState.ended||l.destroy(a,new k)}),this.body=d}onData(a){let{res:b}=this;return b.push(a)}onComplete(a){let{res:b}=this;b.push(null)}onError(a){let{ret:b}=this;this.handler=null,l.destroy(b,a)}}a.exports=function(a,b){try{let c=new t(a,b);return this.dispatch({...a,body:c.req},c),c.ret}catch(a){return new f().destroy(a)}}},96062:(a,b,c)=>{"use strict";let d=c(27910).Transform;class e extends d{constructor(a){super(a),this.options=a||{}}_transform(a,b,c){let d,e=0;for(let b=0,c=a.length;b<c;b++)13===a[b]&&(d=a.slice(e,b),e=b+1,this.push(d));e&&e<a.length?(d=a.slice(e),this.push(d)):e||this.push(a),c()}}a.exports=e},96238:(a,b,c)=>{"use strict";let d=c(94735),e=c(24404),f=c(32488),g=c(70045),h=c(39072);class i extends d{constructor(a){super(),a=a||{},this.options=a||{},this.ses=this.options.SES,this.name="SESTransport",this.version=e.version,this.logger=f.getLogger(this.options,{component:this.options.component||"ses-transport"})}getRegion(a){return this.ses.sesClient.config&&"function"==typeof this.ses.sesClient.config.region?this.ses.sesClient.config.region().then(b=>a(null,b)).catch(b=>a(b)):a(null,!1)}send(a,b){let c={ts:Date.now(),pending:!0},d=a.message._headers.find(a=>/^from$/i.test(a.key));if(d){let a=new h("text/plain");d=a._convertAddresses(a._parseAddresses(d.value))}let e=a.data.envelope||a.message.getEnvelope(),f=a.message.messageId(),i=[].concat(e.to||[]);i.length>3&&i.push("...and "+i.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:f},"Sending message %s to <%s>",f,i.join(", "));let j=b=>{a.data._dkim||(a.data._dkim={}),a.data._dkim.skipFields&&"string"==typeof a.data._dkim.skipFields?a.data._dkim.skipFields+=":date:message-id":a.data._dkim.skipFields="date:message-id";let c=a.message.createReadStream(),d=c.pipe(new g),e=[],f=0;d.on("readable",()=>{let a;for(;null!==(a=d.read());)e.push(a),f+=a.length}),c.once("error",a=>d.emit("error",a)),d.once("error",a=>{b(a)}),d.once("end",()=>b(null,Buffer.concat(e,f)))};setImmediate(()=>j((g,h)=>{if(g)return this.logger.error({err:g,tnx:"send",messageId:f},"Failed creating message for %s. %s",f,g.message),c.pending=!1,b(g);let i={Content:{Raw:{Data:h}},FromEmailAddress:d||e.from,Destination:{ToAddresses:e.to}};Object.keys(a.data.ses||{}).forEach(b=>{i[b]=a.data.ses[b]}),this.getRegion((a,d)=>{(a||!d)&&(d="us-east-1");let g=new this.ses.SendEmailCommand(i);this.ses.sesClient.send(g).then(a=>{"us-east-1"===d&&(d="email"),c.pending=!0,b(null,{envelope:{from:e.from,to:e.to},messageId:"<"+a.MessageId+(/@/.test(a.MessageId)?"":"@"+d+".amazonses.com")+">",response:a.MessageId,raw:h})}).catch(a=>{this.logger.error({err:a,tnx:"send"},"Send error for %s: %s",f,a.message),c.pending=!1,b(a)})})}))}verify(a){let b;a||(b=new Promise((b,c)=>{a=f.callbackPromise(b,c)}));let c=b=>b&&!["InvalidParameterValue","MessageRejected"].includes(b.code||b.Code||b.name)?a(b):a(null,!0),d={Content:{Raw:{Data:Buffer.from("From: <invalid@invalid>\r\nTo: <invalid@invalid>\r\n Subject: Invalid\r\n\r\nInvalid")}},FromEmailAddress:"invalid@invalid",Destination:{ToAddresses:["invalid@invalid"]}};return this.getRegion((a,b)=>{(a||!b)&&(b="us-east-1");let e=new this.ses.SendEmailCommand(d);this.ses.sesClient.send(e).then(a=>c(null,a)).catch(a=>c(a))}),b}}a.exports=i},96366:(a,b,c)=>{"use strict";c.d(b,{k:()=>i});var d=c(60175),e=c(54031);let f="AWS_ENDPOINT_URL",g="endpoint_url",h=a=>({environmentVariableSelector:b=>{let c=b[[f,...a.split(" ").map(a=>a.toUpperCase())].join("_")];if(c)return c;let d=b[f];if(d)return d},configFileSelector:(b,c)=>{if(c&&b.services){let d=c[["services",b.services].join(e.Q)];if(d){let b=d[[a.split(" ").map(a=>a.toLowerCase()).join("_"),g].join(e.Q)];if(b)return b}}let d=b[g];if(d)return d},default:void 0}),i=async a=>(0,d.Z)(h(a??""))()},96493:(a,b,c)=>{"use strict";c.d(b,{Y:()=>g,h:()=>i});var d=c(30701),e=c(61718);let f=a=>async b=>{let{payload:c}=a,d=b.map(()=>null),f={};for(let a of b){let[b,d,g,h,i,j,k,l,m,o,p,q]=JSON.parse(a),r=JSON.stringify([b,d,h,i,j,k,l,m,o,p,q]),s=c.collections?.[d]?.customIDType||c.db.defaultIDType,t="number"===s?parseFloat(g):g;(0,e.m)(t,s)&&(f[r]=[...f[r]||[],t])}for(let[e,g]of Object.entries(f)){let[f,h,j,k,l,m,o,p,q,r,s]=JSON.parse(e);for(let e of(a.transactionID=f,(await c.find({collection:h,currentDepth:k,depth:j,disableErrors:!0,draft:q,fallbackLocale:m,locale:l,overrideAccess:!!o,pagination:!1,populate:s,req:a,select:r,showHiddenFields:!!p,where:{id:{in:g}}})).docs)){let c=i({collectionSlug:h,currentDepth:k,depth:j,docID:e.id,draft:q,fallbackLocale:m,locale:l,overrideAccess:o,populate:s,select:r,showHiddenFields:p,transactionID:a.transactionID}),f=b.findIndex(a=>a===c);f>-1&&(d[f]=e)}}return d},g=a=>{let b=new Map,c=new d(f(a));return c.find=c=>{let d=h(c),e=b.get(d);if(e)return e;let f=a.payload.find(c);return b.set(d,f),f},c},h=({collection:a,currentDepth:b,depth:c,disableErrors:d,draft:e,includeLockStatus:f,joins:g,limit:h,overrideAccess:i,page:j,pagination:k,populate:l,req:m,select:o,showHiddenFields:p,sort:q,where:r})=>JSON.stringify([a,b,c,d,e,f,g,h,i,j,k,l,m?.locale,m?.fallbackLocale,m?.user?.id,m?.transactionID,o,p,q,r]),i=({collectionSlug:a,currentDepth:b,depth:c,docID:d,draft:e,fallbackLocale:f,locale:g,overrideAccess:h,populate:i,select:j,showHiddenFields:k,transactionID:l})=>JSON.stringify([l,a,d,c,b,g,f,h,k,e,j,i])},96501:a=>{"use strict";a.exports=JSON.parse('[{"name":"Agola CI","constant":"AGOLA","env":"AGOLA_GIT_REF","pr":"AGOLA_PULL_REQUEST_ID"},{"name":"Appcircle","constant":"APPCIRCLE","env":"AC_APPCIRCLE","pr":{"env":"AC_GIT_PR","ne":"false"}},{"name":"AppVeyor","constant":"APPVEYOR","env":"APPVEYOR","pr":"APPVEYOR_PULL_REQUEST_NUMBER"},{"name":"AWS CodeBuild","constant":"CODEBUILD","env":"CODEBUILD_BUILD_ARN","pr":{"env":"CODEBUILD_WEBHOOK_EVENT","any":["PULL_REQUEST_CREATED","PULL_REQUEST_UPDATED","PULL_REQUEST_REOPENED"]}},{"name":"Azure Pipelines","constant":"AZURE_PIPELINES","env":"TF_BUILD","pr":{"BUILD_REASON":"PullRequest"}},{"name":"Bamboo","constant":"BAMBOO","env":"bamboo_planKey"},{"name":"Bitbucket Pipelines","constant":"BITBUCKET","env":"BITBUCKET_COMMIT","pr":"BITBUCKET_PR_ID"},{"name":"Bitrise","constant":"BITRISE","env":"BITRISE_IO","pr":"BITRISE_PULL_REQUEST"},{"name":"Buddy","constant":"BUDDY","env":"BUDDY_WORKSPACE_ID","pr":"BUDDY_EXECUTION_PULL_REQUEST_ID"},{"name":"Buildkite","constant":"BUILDKITE","env":"BUILDKITE","pr":{"env":"BUILDKITE_PULL_REQUEST","ne":"false"}},{"name":"CircleCI","constant":"CIRCLE","env":"CIRCLECI","pr":"CIRCLE_PULL_REQUEST"},{"name":"Cirrus CI","constant":"CIRRUS","env":"CIRRUS_CI","pr":"CIRRUS_PR"},{"name":"Cloudflare Pages","constant":"CLOUDFLARE_PAGES","env":"CF_PAGES"},{"name":"Codefresh","constant":"CODEFRESH","env":"CF_BUILD_ID","pr":{"any":["CF_PULL_REQUEST_NUMBER","CF_PULL_REQUEST_ID"]}},{"name":"Codemagic","constant":"CODEMAGIC","env":"CM_BUILD_ID","pr":"CM_PULL_REQUEST"},{"name":"Codeship","constant":"CODESHIP","env":{"CI_NAME":"codeship"}},{"name":"Drone","constant":"DRONE","env":"DRONE","pr":{"DRONE_BUILD_EVENT":"pull_request"}},{"name":"dsari","constant":"DSARI","env":"DSARI"},{"name":"Earthly","constant":"EARTHLY","env":"EARTHLY_CI"},{"name":"Expo Application Services","constant":"EAS","env":"EAS_BUILD"},{"name":"Gerrit","constant":"GERRIT","env":"GERRIT_PROJECT"},{"name":"Gitea Actions","constant":"GITEA_ACTIONS","env":"GITEA_ACTIONS"},{"name":"GitHub Actions","constant":"GITHUB_ACTIONS","env":"GITHUB_ACTIONS","pr":{"GITHUB_EVENT_NAME":"pull_request"}},{"name":"GitLab CI","constant":"GITLAB","env":"GITLAB_CI","pr":"CI_MERGE_REQUEST_ID"},{"name":"GoCD","constant":"GOCD","env":"GO_PIPELINE_LABEL"},{"name":"Google Cloud Build","constant":"GOOGLE_CLOUD_BUILD","env":"BUILDER_OUTPUT"},{"name":"Harness CI","constant":"HARNESS","env":"HARNESS_BUILD_ID"},{"name":"Heroku","constant":"HEROKU","env":{"env":"NODE","includes":"/app/.heroku/node/bin/node"}},{"name":"Hudson","constant":"HUDSON","env":"HUDSON_URL"},{"name":"Jenkins","constant":"JENKINS","env":["JENKINS_URL","BUILD_ID"],"pr":{"any":["ghprbPullId","CHANGE_ID"]}},{"name":"LayerCI","constant":"LAYERCI","env":"LAYERCI","pr":"LAYERCI_PULL_REQUEST"},{"name":"Magnum CI","constant":"MAGNUM","env":"MAGNUM"},{"name":"Netlify CI","constant":"NETLIFY","env":"NETLIFY","pr":{"env":"PULL_REQUEST","ne":"false"}},{"name":"Nevercode","constant":"NEVERCODE","env":"NEVERCODE","pr":{"env":"NEVERCODE_PULL_REQUEST","ne":"false"}},{"name":"Prow","constant":"PROW","env":"PROW_JOB_ID"},{"name":"ReleaseHub","constant":"RELEASEHUB","env":"RELEASE_BUILD_ID"},{"name":"Render","constant":"RENDER","env":"RENDER","pr":{"IS_PULL_REQUEST":"true"}},{"name":"Sail CI","constant":"SAIL","env":"SAILCI","pr":"SAIL_PULL_REQUEST_NUMBER"},{"name":"Screwdriver","constant":"SCREWDRIVER","env":"SCREWDRIVER","pr":{"env":"SD_PULL_REQUEST","ne":"false"}},{"name":"Semaphore","constant":"SEMAPHORE","env":"SEMAPHORE","pr":"PULL_REQUEST_NUMBER"},{"name":"Sourcehut","constant":"SOURCEHUT","env":{"CI_NAME":"sourcehut"}},{"name":"Strider CD","constant":"STRIDER","env":"STRIDER"},{"name":"TaskCluster","constant":"TASKCLUSTER","env":["TASK_ID","RUN_ID"]},{"name":"TeamCity","constant":"TEAMCITY","env":"TEAMCITY_VERSION"},{"name":"Travis CI","constant":"TRAVIS","env":"TRAVIS","pr":{"env":"TRAVIS_PULL_REQUEST","ne":"false"}},{"name":"Vela","constant":"VELA","env":"VELA","pr":{"VELA_PULL_REQUEST":"1"}},{"name":"Vercel","constant":"VERCEL","env":{"any":["NOW_BUILDER","VERCEL"]},"pr":"VERCEL_GIT_PULL_REQUEST_ID"},{"name":"Visual Studio App Center","constant":"APPCENTER","env":"APPCENTER_BUILD_ID"},{"name":"Woodpecker","constant":"WOODPECKER","env":{"CI":"woodpecker"},"pr":{"CI_BUILD_EVENT":"pull_request"}},{"name":"Xcode Cloud","constant":"XCODE_CLOUD","env":"CI_XCODE_PROJECT","pr":"CI_PULL_REQUEST_NUMBER"},{"name":"Xcode Server","constant":"XCODE_SERVER","env":"XCS"}]')},96577:(a,b,c)=>{"use strict";a.exports.request=c(34049),a.exports.stream=c(23934),a.exports.pipeline=c(95940),a.exports.upgrade=c(51416),a.exports.connect=c(61730)},96683:(a,b,c)=>{"use strict";c.d(b,{v:()=>e});let d={count:"count",countVersions:"countVersions",create:"create",delete:"delete",deleteByID:"delete",find:"read",findByID:"read",findDistinct:"readDistinct",findVersionByID:"read",findVersions:"read",forgotPassword:"forgotPassword",login:"login",read:"read",readDistinct:"readDistinct",refresh:"refresh",resetPassword:"resetPassword",restoreVersion:"restoreVersion",unlock:"unlock",update:"update",updateByID:"update"};async function e(a){let{args:b,collection:c,operation:e}=a,f=b;if(b.collection.config.hooks?.beforeOperation?.length){let a=d[e];for(let d of b.collection.config.hooks.beforeOperation){let e=await d({args:f,collection:c,context:b.req.context,operation:a,req:b.req});void 0!==e&&(f=e)}}return f}},96781:(a,b,c)=>{"use strict";let d=c(94735).EventEmitter,e=c(73885),f=c(89597),g=c(55778),h=c(21439),i=c(80004),j=c(79448),k=c(20386),l=c(49989);class m extends d{constructor(a){super(),this.connectionParameters=new h(a),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;let b=a||{};this._Promise=b.Promise||global.Promise,this._types=new g(b.types),this._ending=!1,this._ended=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.enableChannelBinding=!!b.enableChannelBinding,this.connection=b.connection||new k({stream:b.stream,ssl:this.connectionParameters.ssl,keepAlive:b.keepAlive||!1,keepAliveInitialDelayMillis:b.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=b.binary||j.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=b.connectionTimeoutMillis||0}_errorAllQueries(a){let b=b=>{process.nextTick(()=>{b.handleError(a,this.connection)})};this.activeQuery&&(b(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(b),this.queryQueue.length=0}_connect(a){let b=this,c=this.connection;if(this._connectionCallback=a,this._connecting||this._connected){let b=Error("Client has already been connected. You cannot reuse a client.");process.nextTick(()=>{a(b)});return}this._connecting=!0,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{c._ending=!0,c.stream.destroy(Error("timeout expired"))},this._connectionTimeoutMillis),this.connectionTimeoutHandle.unref&&this.connectionTimeoutHandle.unref()),this.host&&0===this.host.indexOf("/")?c.connect(this.host+"/.s.PGSQL."+this.port):c.connect(this.port,this.host),c.on("connect",function(){b.ssl?c.requestSsl():c.startup(b.getStartupConf())}),c.on("sslconnect",function(){c.startup(b.getStartupConf())}),this._attachListeners(c),c.once("end",()=>{let a=this._ending?Error("Connection terminated"):Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(a),this._ended=!0,!this._ending&&(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(a):this._handleErrorEvent(a):this._connectionError||this._handleErrorEvent(a)),process.nextTick(()=>{this.emit("end")})})}connect(a){return a?void this._connect(a):new this._Promise((a,b)=>{this._connect(c=>{c?b(c):a()})})}_attachListeners(a){a.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),a.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),a.on("authenticationSASL",this._handleAuthSASL.bind(this)),a.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),a.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),a.on("backendKeyData",this._handleBackendKeyData.bind(this)),a.on("error",this._handleErrorEvent.bind(this)),a.on("errorMessage",this._handleErrorMessage.bind(this)),a.on("readyForQuery",this._handleReadyForQuery.bind(this)),a.on("notice",this._handleNotice.bind(this)),a.on("rowDescription",this._handleRowDescription.bind(this)),a.on("dataRow",this._handleDataRow.bind(this)),a.on("portalSuspended",this._handlePortalSuspended.bind(this)),a.on("emptyQuery",this._handleEmptyQuery.bind(this)),a.on("commandComplete",this._handleCommandComplete.bind(this)),a.on("parseComplete",this._handleParseComplete.bind(this)),a.on("copyInResponse",this._handleCopyInResponse.bind(this)),a.on("copyData",this._handleCopyData.bind(this)),a.on("notification",this._handleNotification.bind(this))}_checkPgPass(a){let b=this.connection;if("function"==typeof this.password)this._Promise.resolve().then(()=>this.password()).then(c=>{if(void 0!==c){if("string"!=typeof c)return void b.emit("error",TypeError("Password must be a string"));this.connectionParameters.password=this.password=c}else this.connectionParameters.password=this.password=null;a()}).catch(a=>{b.emit("error",a)});else if(null!==this.password)a();else try{c(74232)(this.connectionParameters,b=>{void 0!==b&&(this.connectionParameters.password=this.password=b),a()})}catch(a){this.emit("error",a)}}_handleAuthCleartextPassword(a){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(a){this._checkPgPass(async()=>{try{let b=await l.postgresMd5PasswordHash(this.user,this.password,a.salt);this.connection.password(b)}catch(a){this.emit("error",a)}})}_handleAuthSASL(a){this._checkPgPass(()=>{try{this.saslSession=f.startSession(a.mechanisms,this.enableChannelBinding&&this.connection.stream),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)}catch(a){this.connection.emit("error",a)}})}async _handleAuthSASLContinue(a){try{await f.continueSession(this.saslSession,this.password,a.data,this.enableChannelBinding&&this.connection.stream),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}catch(a){this.connection.emit("error",a)}}_handleAuthSASLFinal(a){try{f.finalizeSession(this.saslSession,a.data),this.saslSession=null}catch(a){this.connection.emit("error",a)}}_handleBackendKeyData(a){this.processID=a.processID,this.secretKey=a.secretKey}_handleReadyForQuery(a){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:b}=this;this.activeQuery=null,this.readyForQuery=!0,b&&b.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(a){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(a);this.emit("error",a)}}_handleErrorEvent(a){if(this._connecting)return this._handleErrorWhileConnecting(a);this._queryable=!1,this._errorAllQueries(a),this.emit("error",a)}_handleErrorMessage(a){if(this._connecting)return this._handleErrorWhileConnecting(a);let b=this.activeQuery;if(!b)return void this._handleErrorEvent(a);this.activeQuery=null,b.handleError(a,this.connection)}_handleRowDescription(a){this.activeQuery.handleRowDescription(a)}_handleDataRow(a){this.activeQuery.handleDataRow(a)}_handlePortalSuspended(a){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(a){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(a){if(null==this.activeQuery){let a=Error("Received unexpected commandComplete message from backend.");this._handleErrorEvent(a);return}this.activeQuery.handleCommandComplete(a,this.connection)}_handleParseComplete(){if(null==this.activeQuery){let a=Error("Received unexpected parseComplete message from backend.");this._handleErrorEvent(a);return}this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(a){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(a){this.activeQuery.handleCopyData(a,this.connection)}_handleNotification(a){this.emit("notification",a)}_handleNotice(a){this.emit("notice",a)}getStartupConf(){let a=this.connectionParameters,b={user:a.user,database:a.database},c=a.application_name||a.fallback_application_name;return c&&(b.application_name=c),a.replication&&(b.replication=""+a.replication),a.statement_timeout&&(b.statement_timeout=String(parseInt(a.statement_timeout,10))),a.lock_timeout&&(b.lock_timeout=String(parseInt(a.lock_timeout,10))),a.idle_in_transaction_session_timeout&&(b.idle_in_transaction_session_timeout=String(parseInt(a.idle_in_transaction_session_timeout,10))),a.options&&(b.options=a.options),b}cancel(a,b){if(a.activeQuery===b){let b=this.connection;this.host&&0===this.host.indexOf("/")?b.connect(this.host+"/.s.PGSQL."+this.port):b.connect(this.port,this.host),b.on("connect",function(){b.cancel(a.processID,a.secretKey)})}else -1!==a.queryQueue.indexOf(b)&&a.queryQueue.splice(a.queryQueue.indexOf(b),1)}setTypeParser(a,b,c){return this._types.setTypeParser(a,b,c)}getTypeParser(a,b){return this._types.getTypeParser(a,b)}escapeIdentifier(a){return e.escapeIdentifier(a)}escapeLiteral(a){return e.escapeLiteral(a)}_pulseQueryQueue(){if(!0===this.readyForQuery)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let a=this.activeQuery.submit(this.connection);a&&process.nextTick(()=>{this.activeQuery.handleError(a,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(a,b,c){let d,e,f,g,h;if(null==a)throw TypeError("Client was passed a null or undefined query");return("function"==typeof a.submit?(f=a.query_timeout||this.connectionParameters.query_timeout,e=d=a,"function"==typeof b&&(d.callback=d.callback||b)):(f=a.query_timeout||this.connectionParameters.query_timeout,(d=new i(a,b,c)).callback||(e=new this._Promise((a,b)=>{d.callback=(c,d)=>c?b(c):a(d)}).catch(a=>{throw Error.captureStackTrace(a),a}))),f&&(h=d.callback,g=setTimeout(()=>{let a=Error("Query read timeout");process.nextTick(()=>{d.handleError(a,this.connection)}),h(a),d.callback=()=>{};let b=this.queryQueue.indexOf(d);b>-1&&this.queryQueue.splice(b,1),this._pulseQueryQueue()},f),d.callback=(a,b)=>{clearTimeout(g),h(a,b)}),this.binary&&!d.binary&&(d.binary=!0),d._result&&!d._result._types&&(d._result._types=this._types),this._queryable)?this._ending?process.nextTick(()=>{d.handleError(Error("Client was closed and is not queryable"),this.connection)}):(this.queryQueue.push(d),this._pulseQueryQueue()):process.nextTick(()=>{d.handleError(Error("Client has encountered a connection error and is not queryable"),this.connection)}),e}ref(){this.connection.ref()}unref(){this.connection.unref()}end(a){if(this._ending=!0,!this.connection._connecting||this._ended)if(!a)return this._Promise.resolve();else a();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),!a)return new this._Promise(a=>{this.connection.once("end",a)});this.connection.once("end",a)}}m.Query=i,a.exports=m},96824:(a,b,c)=>{"use strict";c.d(b,{wq:()=>l});var d=c(64746),e=c(88392);let f=(a,b,c,d,e)=>({name:b,namespace:a,traits:c,input:d,output:e}),g=a=>(b,c)=>async g=>{let{response:i}=await b(g),{operationSchema:j}=(0,e.u)(c),[,k,l,m,o,p]=j??[];try{let b=await a.protocol.deserializeResponse(f(k,l,m,o,p),{...a,...c},i);return{response:i,output:b}}catch(a){if(Object.defineProperty(a,"$response",{value:i,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in a)){let b="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{a.message+="\n  "+b}catch(a){c.logger&&c.logger?.constructor?.name!=="NoOpLogger"?c.logger?.warn?.(b):console.warn(b)}void 0!==a.$responseBodyText&&a.$response&&(a.$response.body=a.$responseBodyText);try{if(d.c.isInstance(i)){let{headers:b={}}=i,c=Object.entries(b);a.$metadata={httpStatusCode:i.statusCode,requestId:h(/^x-[\w-]+-request-?id$/,c),extendedRequestId:h(/^x-[\w-]+-id-2$/,c),cfId:h(/^x-[\w-]+-cf-id$/,c)}}}catch(a){}}throw a}},h=(a,b)=>(b.find(([b])=>b.match(a))||[void 0,void 0])[1],i=a=>(b,c)=>async d=>{let{operationSchema:g}=(0,e.u)(c),[,h,i,j,k,l]=g??[],m=c.endpointV2?.url&&a.urlParser?async()=>a.urlParser(c.endpointV2.url):a.endpoint,o=await a.protocol.serializeRequest(f(h,i,j,k,l),d.input,{...a,...c,endpoint:m});return b({...d,request:o})},j={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},k={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function l(a){return{applyToStack:b=>{b.add(i(a),k),b.add(g(a),j),a.protocol.setSerdeContext(a)}}}},96867:(a,b,c)=>{"use strict";c.d(b,{qs:()=>p,kN:()=>t,$z:()=>q});var d=c(91035),e=c(62445),f=c(99398);class g{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(a){this.beta=a?.beta??.7,this.minCapacity=a?.minCapacity??1,this.minFillRate=a?.minFillRate??.5,this.scaleConstant=a?.scaleConstant??.4,this.smooth=a?.smooth??.8;let b=this.getCurrentTimeInSeconds();this.lastThrottleTime=b,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(a){if(this.enabled){if(this.refillTokenBucket(),a>this.currentCapacity){let b=(a-this.currentCapacity)/this.fillRate*1e3;await new Promise(a=>g.setTimeoutFn(a,b))}this.currentCapacity=this.currentCapacity-a}}refillTokenBucket(){let a=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=a;return}let b=(a-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+b),this.lastTimestamp=a}updateClientSendingRate(a){let b;if(this.updateMeasuredRate(),(0,f.Qb)(a)){let a=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=a,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),b=this.cubicThrottle(a),this.enableTokenBucket()}else this.calculateTimeWindow(),b=this.cubicSuccess(this.getCurrentTimeInSeconds());let c=Math.min(b,2*this.measuredTxRate);this.updateTokenBucketRate(c)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(a){return this.getPrecise(a*this.beta)}cubicSuccess(a){return this.getPrecise(this.scaleConstant*Math.pow(a-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(a){this.refillTokenBucket(),this.fillRate=Math.max(a,this.minFillRate),this.maxCapacity=Math.max(a,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let a=Math.floor(2*this.getCurrentTimeInSeconds())/2;if(this.requestCount++,a>this.lastTxRateBucket){let b=this.requestCount/(a-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(b*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=a}}getPrecise(a){return parseFloat(a.toFixed(8))}}var h=c(71550);let i=()=>{let a=h.bp;return{computeNextBackoffDelay:b=>Math.floor(Math.min(h.G8,Math.random()*2**b*a)),setDelayBase:b=>{a=b}}},j=({retryDelay:a,retryCount:b,retryCost:c})=>({getRetryCount:()=>b,getRetryDelay:()=>Math.min(h.G8,a),getRetryCost:()=>c});class k{maxAttempts;mode=e.cm.STANDARD;capacity=h.Df;retryBackoffStrategy=i();maxAttemptsProvider;constructor(a){this.maxAttempts=a,this.maxAttemptsProvider="function"==typeof a?a:async()=>a}async acquireInitialRetryToken(a){return j({retryDelay:h.bp,retryCount:0})}async refreshRetryTokenForRetry(a,b){let c=await this.getMaxAttempts();if(this.shouldRetry(a,b,c)){let c=b.errorType;this.retryBackoffStrategy.setDelayBase("THROTTLING"===c?h.jh:h.bp);let d=this.retryBackoffStrategy.computeNextBackoffDelay(a.getRetryCount()),e=b.retryAfterHint?Math.max(b.retryAfterHint.getTime()-Date.now()||0,d):d,f=this.getCapacityCost(c);return this.capacity-=f,j({retryDelay:e,retryCount:a.getRetryCount()+1,retryCost:f})}throw Error("No retry token available")}recordSuccess(a){this.capacity=Math.max(h.Df,this.capacity+(a.getRetryCost()??h.XP))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(a){return console.warn(`Max attempts provider could not resolve. Using default of ${e.Gz}`),e.Gz}}shouldRetry(a,b,c){return a.getRetryCount()+1<c&&this.capacity>=this.getCapacityCost(b.errorType)&&this.isRetryableError(b.errorType)}getCapacityCost(a){return"TRANSIENT"===a?h.Rn:h.XS}isRetryableError(a){return"THROTTLING"===a||"TRANSIENT"===a}}class l{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=e.cm.ADAPTIVE;constructor(a,b){this.maxAttemptsProvider=a;let{rateLimiter:c}=b??{};this.rateLimiter=c??new g,this.standardRetryStrategy=new k(a)}async acquireInitialRetryToken(a){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(a)}async refreshRetryTokenForRetry(a,b){return this.rateLimiter.updateClientSendingRate(b),this.standardRetryStrategy.refreshRetryTokenForRetry(a,b)}recordSuccess(a){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(a)}}let m="AWS_MAX_ATTEMPTS",o="max_attempts",p={environmentVariableSelector:a=>{let b=a[m];if(!b)return;let c=parseInt(b);if(Number.isNaN(c))throw Error(`Environment variable ${m} mast be a number, got "${b}"`);return c},configFileSelector:a=>{let b=a[o];if(!b)return;let c=parseInt(b);if(Number.isNaN(c))throw Error(`Shared config file entry ${o} mast be a number, got "${b}"`);return c},default:e.Gz},q=a=>{let{retryStrategy:b,retryMode:c,maxAttempts:f}=a,g=(0,d.t)(f??e.Gz);return Object.assign(a,{maxAttempts:g,retryStrategy:async()=>b||(await (0,d.t)(c)()===e.cm.ADAPTIVE?new l(g):new k(g))})},r="AWS_RETRY_MODE",s="retry_mode",t={environmentVariableSelector:a=>a[r],configFileSelector:a=>a[s],default:e.L0}},97238:(a,b,c)=>{"use strict";c.d(b,{m:()=>m});var d=c(33576),e=c(93462),f=c(90467),g=c(9085),h=c(65540),i=c(898),j=c(26182);function k(a,b){if(!b)return a;let c=b.charAt(0).toUpperCase()+b.slice(1);return a&&c?`${a} > ${c}`:c||a}let l=async({id:a,blockData:b,collection:c,context:l,data:o,doc:p,docWithLocales:q,errors:r,field:s,fieldIndex:t,fieldLabelPath:u,global:v,mergeLocaleActions:w,operation:x,overrideAccess:y,parentIndexPath:z,parentIsLocalized:A,parentPath:B,parentSchemaPath:C,req:D,siblingData:E,siblingDoc:F,siblingDocWithLocales:G,siblingFields:H,skipValidation:I})=>{let{indexPath:J,path:K,schemaPath:L}=(0,i.I)({field:s,index:t,parentIndexPath:z,parentPath:B,parentSchemaPath:C}),{localization:M}=D.payload.config,N=M?M?.defaultLocale:"en",O=D.locale||N,P=K?K.split("."):[],Q=L?L.split("."):[],R=J?J.split("-").filter(Boolean)?.map(Number):[],S=!s.admin?.condition||!!s.admin.condition(o,E,{blockData:b,operation:x,path:P,user:D.user}),T=I||!S;if((0,h.Z7)(s)){if((0,h.Cd)({field:s,parentIsLocalized:A})&&O!==N&&["array","blocks"].includes(s.type)&&null===E[s.name]&&(T=!0),"hooks"in s&&s.hooks?.beforeChange)for(let a of s.hooks.beforeChange){let d=await a({blockData:b,collection:c,context:l,data:o,field:s,global:v,indexPath:R,operation:x,originalDoc:p,path:P,previousSiblingDoc:F,previousValue:F[s.name],req:D,schemaPath:Q,siblingData:E,siblingDocWithLocales:G,siblingFields:H,value:E[s.name]});void 0!==d&&(E[s.name]=d)}if(!T&&"validate"in s&&s.validate){let d,h=E[s.name];if("json"===s.type&&"string"==typeof E[s.name])try{JSON.parse(E[s.name])}catch(a){d=a}let i=s.validate,j=await i(h,{...s,id:a,blockData:b,collectionSlug:c?.slug,data:(0,f.AG)(p,o),event:"submit",jsonError:d,operation:x,overrideAccess:y,path:P,preferences:{fields:{}},previousValue:F[s.name],req:D,siblingData:(0,f.AG)(F,E)});if("string"==typeof j){let b=!1;if("blocks"===s.type&&s.filterOptions){let c=await (0,e.XC)({id:a,data:o,filterOptions:s.filterOptions,req:D,siblingData:E,value:E[s.name]});if(c?.invalidBlockSlugs?.length){b=!0;let a=-1;for(let b of E[s.name])if(a++,c.invalidBlockSlugs.includes(b.blockType)){let c=(s.blockReferences??s.blocks).find(a=>"string"==typeof a?a===b.blockType:a.slug===b.blockType),d="string"!=typeof c?c:D.payload.config?.blocks?.[c],e=s?.label===!1?u:k(u,`${(0,g.B)(s?.label||s?.name,D.i18n)} > ${D.t("fields:block")} ${a+1} (${(0,g.B)(d?.labels?.singular||b.blockType,D.i18n)})`);r.push({label:e,message:D.t("validation:invalidBlock",{block:b.blockType}),path:`${K}.${a}.id`})}}}if(!b){let a=k(u,(0,g.B)(s?.label||s?.name,D.i18n));r.push({label:a,message:j,path:K})}}}M&&(0,h.Cd)({field:s,parentIsLocalized:A})&&w.push(()=>{let a={};for(let b of M.localeCodes){let c=b===D.locale?E[s.name]:G?.[s.name]?.[b];void 0!==c&&(a[b]=c)}Object.keys(a).length>0&&(E[s.name]=a)})}switch(s.type){case"array":{let d=E[s.name];if(Array.isArray(d)){let e=[];d.forEach((d,f)=>{e.push(m({id:a,blockData:b,collection:c,context:l,data:o,doc:p,docWithLocales:q,errors:r,fieldLabelPath:s?.label===!1?u:k(u,`${(0,g.B)(s?.label||s?.name,D.i18n)} ${f+1}`),fields:s.fields,global:v,mergeLocaleActions:w,operation:x,overrideAccess:y,parentIndexPath:"",parentIsLocalized:A||s.localized,parentPath:K+"."+f,parentSchemaPath:L,req:D,siblingData:d,siblingDoc:(0,j.G)(d,F[s.name]),siblingDocWithLocales:(0,j.G)(d,G?.[s.name]),skipValidation:T}))}),await Promise.all(e)}break}case"blocks":{let b=E[s.name];if(Array.isArray(b)){let d=[];b.forEach((b,e)=>{let f=(0,j.G)(b,F[s.name]),h=(0,j.G)(b,G?G[s.name]:{}),i=b.blockType||f.blockType,t=D.payload.blocks[i]??(s.blockReferences??s.blocks).find(a=>"string"!=typeof a&&a.slug===i),z=s?.label===!1?u:k(u,`${(0,g.B)(s?.label||s?.name,D.i18n)} > ${D.t("fields:block")} ${e+1} (${(0,g.B)(t?.labels?.singular||i,D.i18n)})`);t&&d.push(m({id:a,blockData:b,collection:c,context:l,data:o,doc:p,docWithLocales:q,errors:r,fieldLabelPath:z,fields:t.fields,global:v,mergeLocaleActions:w,operation:x,overrideAccess:y,parentIndexPath:"",parentIsLocalized:A||s.localized,parentPath:K+"."+e,parentSchemaPath:L+"."+t.slug,req:D,siblingData:b,siblingDoc:f,siblingDocWithLocales:h,skipValidation:T}))}),await Promise.all(d)}break}case"collapsible":case"row":await m({id:a,blockData:b,collection:c,context:l,data:o,doc:p,docWithLocales:q,errors:r,fieldLabelPath:"row"===s.type||s?.label===!1?u:k(u,(0,g.B)(s?.label||s?.type,D.i18n)),fields:s.fields,global:v,mergeLocaleActions:w,operation:x,overrideAccess:y,parentIndexPath:J,parentIsLocalized:A,parentPath:B,parentSchemaPath:L,req:D,siblingData:E,siblingDoc:F,siblingDocWithLocales:G,skipValidation:T});break;case"group":{let d=E,e=F,f=G,i=(0,h.Z7)(s);i&&("object"!=typeof E[s.name]&&(E[s.name]={}),"object"!=typeof F[s.name]&&(F[s.name]={}),"object"!=typeof G[s.name]&&(G[s.name]={}),"object"!=typeof E[s.name]&&(E[s.name]={}),"object"!=typeof F[s.name]&&(F[s.name]={}),"object"!=typeof G[s.name]&&(G[s.name]={}),d=E[s.name],e=F[s.name],f=G[s.name]);let j=s?.label||(i?s.name:s?.type);await m({id:a,blockData:b,collection:c,context:l,data:o,doc:p,docWithLocales:q,errors:r,fieldLabelPath:s?.label===!1?u:k(u,(0,g.B)(j,D.i18n)),fields:s.fields,global:v,mergeLocaleActions:w,operation:x,overrideAccess:y,parentIndexPath:i?"":J,parentIsLocalized:A||s.localized,parentPath:i?K:B,parentSchemaPath:L,req:D,siblingData:d,siblingDoc:e,siblingDocWithLocales:f,skipValidation:T});break}case"point":Array.isArray(E[s.name])&&null!==E[s.name][0]&&null!==E[s.name][1]&&(E[s.name]={type:"Point",coordinates:[parseFloat(E[s.name][0]),parseFloat(E[s.name][1])]});break;case"richText":{if(!s?.editor)throw new d.X(s);if("function"==typeof s?.editor)throw Error("Attempted to access unsanitized rich text editor.");let a=s?.editor;if(a?.hooks?.beforeChange?.length)for(let b of a.hooks.beforeChange){let a=await b({collection:c,context:l,data:o,docWithLocales:q,errors:r,field:s,fieldLabelPath:s?.label===!1?u:k(u,(0,g.B)(s?.label||s?.name,D.i18n)),global:v,indexPath:R,mergeLocaleActions:w,operation:x,originalDoc:p,overrideAccess:y,parentIsLocalized:A,path:P,previousSiblingDoc:F,previousValue:F[s.name],req:D,schemaPath:Q,siblingData:E,siblingDocWithLocales:G,skipValidation:I,value:E[s.name]});void 0!==a&&(E[s.name]=a)}break}case"tab":{let d=E,e=F,f=G,i=(0,h.pz)(s);i&&("object"!=typeof E[s.name]&&(E[s.name]={}),"object"!=typeof F[s.name]&&(F[s.name]={}),"object"!=typeof G[s.name]&&(G[s.name]={}),d=E[s.name],e=F[s.name],f=G[s.name]),await m({id:a,blockData:b,collection:c,context:l,data:o,doc:p,docWithLocales:q,errors:r,fieldLabelPath:s?.label===!1?u:k(u,(0,g.B)(s?.label||s.name,D.i18n)),fields:s.fields,global:v,mergeLocaleActions:w,operation:x,overrideAccess:y,parentIndexPath:i?"":J,parentIsLocalized:A||s.localized,parentPath:i?K:B,parentSchemaPath:L,req:D,siblingData:d,siblingDoc:e,siblingDocWithLocales:f,skipValidation:T});break}case"tabs":await m({id:a,blockData:b,collection:c,context:l,data:o,doc:p,docWithLocales:q,errors:r,fieldLabelPath:s?.label===!1?u:k(u,(0,g.B)(s?.label||"",D.i18n)),fields:s.tabs.map(a=>({...a,type:"tab"})),global:v,mergeLocaleActions:w,operation:x,overrideAccess:y,parentIndexPath:J,parentIsLocalized:A,parentPath:K,parentSchemaPath:L,req:D,siblingData:E,siblingDoc:F,siblingDocWithLocales:G,skipValidation:T})}},m=async({id:a,blockData:b,collection:c,context:d,data:e,doc:f,docWithLocales:g,errors:h,fieldLabelPath:i,fields:j,global:k,mergeLocaleActions:m,operation:o,overrideAccess:p,parentIndexPath:q,parentIsLocalized:r,parentPath:s,parentSchemaPath:t,req:u,siblingData:v,siblingDoc:w,siblingDocWithLocales:x,skipValidation:y})=>{let z=[];j.forEach((A,B)=>{z.push(l({id:a,blockData:b,collection:c,context:d,data:e,doc:f,docWithLocales:g,errors:h,field:A,fieldIndex:B,fieldLabelPath:i,global:k,mergeLocaleActions:m,operation:o,overrideAccess:p,parentIndexPath:q,parentIsLocalized:r,parentPath:s,parentSchemaPath:t,req:u,siblingData:v,siblingDoc:w,siblingDocWithLocales:x,siblingFields:j,skipValidation:y}))}),await Promise.all(z)}},97402:(a,b,c)=>{"use strict";let{promisify:d}=c(57975),e=c(24626),{buildMockDispatch:f}=c(67899),{kDispatches:g,kMockAgent:h,kClose:i,kOriginalClose:j,kOrigin:k,kOriginalDispatch:l,kConnected:m,kIgnoreTrailingSlash:o}=c(59343),{MockInterceptor:p}=c(74657),q=c(10257),{InvalidArgumentError:r}=c(64737);class s extends e{constructor(a,b){if(!b||!b.agent||"function"!=typeof b.agent.dispatch)throw new r("Argument opts.agent must implement Agent");super(a,b),this[h]=b.agent,this[k]=a,this[o]=b.ignoreTrailingSlash??!1,this[g]=[],this[m]=1,this[l]=this.dispatch,this[j]=this.close.bind(this),this.dispatch=f.call(this),this.close=this[i]}get[q.kConnected](){return this[m]}intercept(a){return new p(a&&{ignoreTrailingSlash:this[o],...a},this[g])}async [i](){await d(this[j])(),this[m]=0,this[h][q.kClients].delete(this[k])}}a.exports=s},97556:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getWidthLimitedColumnsArray=b.createHeaderAsRow=b.renderTableHorizontalBorders=b.findLenOfColumn=b.createRow=b.createColumFromComputedColumn=b.createColumFromOnlyName=b.createTableHorizontalBorders=b.convertRawRowOptionsToStandard=b.cellText=void 0;let d=c(47699),e=c(62717),f=c(39607),g=c(55432),h=(a,b)=>Math.max(a,b);b.cellText=a=>null==a?"":`${a}`,b.convertRawRowOptionsToStandard=a=>{if(a)return{color:a.color,separator:a.separator||g.DEFAULT_ROW_SEPARATOR}},b.createTableHorizontalBorders=({left:a,mid:b,right:c,other:d},e)=>{let f=a;return e.forEach(a=>{f+=d.repeat(a+2),f+=b}),f=f.slice(0,-b.length)+c},b.createColumFromOnlyName=a=>({name:a,title:a}),b.createColumFromComputedColumn=a=>{var b;return Object.assign(Object.assign(Object.assign(Object.assign({name:a.name,title:null!=(b=a.title)?b:a.name},(0,d.objIfExists)("color",a.color)),(0,d.objIfExists)("maxLen",a.maxLen)),(0,d.objIfExists)("minLen",a.minLen)),{alignment:a.alignment||g.DEFAULT_ROW_ALIGNMENT})},b.createRow=(a,b,c)=>({color:a,separator:c,text:b});let i=(a,c,d)=>{let g=a.name,i=a.title,j=h(0,(null==a?void 0:a.minLen)||0);return a.maxLen?(j=h(j,h(a.maxLen,(0,f.biggestWordInSentence)(i,d))),j=c.reduce((a,c)=>h(a,(0,f.biggestWordInSentence)((0,b.cellText)(c.text[g]),d)),j)):(j=h(j,(0,e.findWidthInConsole)(i,d)),c.forEach(a=>{j=h(j,(0,e.findWidthInConsole)((0,b.cellText)(a.text[g]),d))}),j)};b.findLenOfColumn=i;let j=(a,c)=>(0,b.createTableHorizontalBorders)(a,c);b.renderTableHorizontalBorders=j,b.createHeaderAsRow=(a,b)=>{let c=a(g.DEFAULT_HEADER_FONT_COLOR,{},!1);return b.forEach(a=>{c.text[a.name]=a.title}),c};let k=(a,c,d)=>{let e={};return a.forEach(a=>{e[a.name]=(0,f.splitTextIntoTextsOfMinLen)((0,b.cellText)(c.text[a.name]),a.length||g.DEFAULT_COLUMN_LEN,d)}),e};b.getWidthLimitedColumnsArray=k},97703:(a,b,c)=>{let d={unstable_cache:c(91202).e,revalidateTag:c(48758).revalidateTag,revalidatePath:c(48758).revalidatePath,unstable_expireTag:c(48758).unstable_expireTag,unstable_expirePath:c(48758).unstable_expirePath,unstable_noStore:c(24769).M,unstable_cacheLife:c(55896).F,unstable_cacheTag:c(14892).z};a.exports=d,b.unstable_cache=d.unstable_cache,b.revalidatePath=d.revalidatePath,b.revalidateTag=d.revalidateTag,b.unstable_expireTag=d.unstable_expireTag,b.unstable_expirePath=d.unstable_expirePath,b.unstable_noStore=d.unstable_noStore,b.unstable_cacheLife=d.unstable_cacheLife,b.unstable_cacheTag=d.unstable_cacheTag},97715:(a,b,c)=>{"use strict";let{BalancedPoolMissingUpstreamError:d,InvalidArgumentError:e}=c(64737),{PoolBase:f,kClients:g,kNeedDrain:h,kAddClient:i,kRemoveClient:j,kGetDispatcher:k}=c(6082),l=c(24626),{kUrl:m}=c(10257),{parseOrigin:o}=c(81350),p=Symbol("factory"),q=Symbol("options"),r=Symbol("kGreatestCommonDivisor"),s=Symbol("kCurrentWeight"),t=Symbol("kIndex"),u=Symbol("kWeight"),v=Symbol("kMaxWeightPerServer"),w=Symbol("kErrorPenalty");function x(a,b){if(0===a)return b;for(;0!==b;){let c=b;b=a%b,a=c}return a}function y(a,b){return new l(a,b)}class z extends f{constructor(a=[],{factory:b=y,...c}={}){if("function"!=typeof b)throw new e("factory must be a function.");for(let d of(super(),this[q]=c,this[t]=-1,this[s]=0,this[v]=this[q].maxWeightPerServer||100,this[w]=this[q].errorPenalty||15,Array.isArray(a)||(a=[a]),this[p]=b,a))this.addUpstream(d);this._updateBalancedPoolStats()}addUpstream(a){let b=o(a).origin;if(this[g].find(a=>a[m].origin===b&&!0!==a.closed&&!0!==a.destroyed))return this;let c=this[p](b,Object.assign({},this[q]));for(let a of(this[i](c),c.on("connect",()=>{c[u]=Math.min(this[v],c[u]+this[w])}),c.on("connectionError",()=>{c[u]=Math.max(1,c[u]-this[w]),this._updateBalancedPoolStats()}),c.on("disconnect",(...a)=>{let b=a[2];b&&"UND_ERR_SOCKET"===b.code&&(c[u]=Math.max(1,c[u]-this[w]),this._updateBalancedPoolStats())}),this[g]))a[u]=this[v];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){let a=0;for(let b=0;b<this[g].length;b++)a=x(this[g][b][u],a);this[r]=a}removeUpstream(a){let b=o(a).origin,c=this[g].find(a=>a[m].origin===b&&!0!==a.closed&&!0!==a.destroyed);return c&&this[j](c),this}get upstreams(){return this[g].filter(a=>!0!==a.closed&&!0!==a.destroyed).map(a=>a[m].origin)}[k](){if(0===this[g].length)throw new d;if(!this[g].find(a=>!a[h]&&!0!==a.closed&&!0!==a.destroyed)||this[g].map(a=>a[h]).reduce((a,b)=>a&&b,!0))return;let a=0,b=this[g].findIndex(a=>!a[h]);for(;a++<this[g].length;){this[t]=(this[t]+1)%this[g].length;let a=this[g][this[t]];if(a[u]>this[g][b][u]&&!a[h]&&(b=this[t]),0===this[t]&&(this[s]=this[s]-this[r],this[s]<=0&&(this[s]=this[v])),a[u]>=this[s]&&!a[h])return a}return this[s]=this[g][b][u],this[t]=b,this[g][b]}}a.exports=z},97827:a=>{"use strict";var b=a.exports=function(a,b,d){"function"==typeof b&&(d=b,b={});var e="function"==typeof(d=b.cb||d)?d:d.pre||function(){};c(b,e,d.post||function(){},a,"",a)};function c(a,e,f,g,h,i,j,k,l,m){if(g&&"object"==typeof g&&!Array.isArray(g)){for(var o in e(g,h,i,j,k,l,m),g){var p=g[o];if(Array.isArray(p)){if(o in b.arrayKeywords)for(var q=0;q<p.length;q++)c(a,e,f,p[q],h+"/"+o+"/"+q,i,h,o,g,q)}else if(o in b.propsKeywords){if(p&&"object"==typeof p)for(var r in p)c(a,e,f,p[r],h+"/"+o+"/"+d(r),i,h,o,g,r)}else(o in b.keywords||a.allKeys&&!(o in b.skipKeywords))&&c(a,e,f,p,h+"/"+o,i,h,o,g)}f(g,h,i,j,k,l,m)}}function d(a){return a.replace(/~/g,"~0").replace(/\//g,"~1")}b.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},b.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},b.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},b.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},97833:(a,b,c)=>{"use strict";c.d(b,{L:()=>o});var d=c(99408),e=c(10631),f=c(82545),g=c(86069),h=c(1276),i=c(46601),j=c(66089),k=c(16886),l=c(41144),m=c(79983);let o=async a=>{let{id:b,currentDepth:c,depth:o,disableErrors:p,globalConfig:q,overrideAccess:r,populate:s,req:{fallbackLocale:t,locale:u,payload:v},req:w,select:x,showHiddenFields:y}=a;try{let a=!!r||await (0,d.m)({id:b,disableErrors:p,req:w},q.access.readVersions);if(!1===a)return null;let j="object"==typeof a,z=(0,k.Y)({fields:(0,l.p)(v.config,q,!0),forceSelect:(0,m.V)({select:q.forceSelect}),select:x,versions:!0}),A={global:q.slug,limit:1,locale:u,req:w,select:z,where:(0,e.m)({id:{equals:b}},a)};if(!A.where?.and?.[0]?.id)throw new f.M(w.t);let{docs:B}=await v.db.findGlobalVersions(A);if(!B||B?.length===0){if(!p){if(!j)throw new f.M(w.t);if(j)throw new g.c(w.t)}return null}let C=(0,i.Zt)(B[0]);if(C.version||(C.version={}),C.version.globalType=q.slug,q.hooks?.beforeRead?.length)for(let a of q.hooks.beforeRead)C=await a({context:w.context,doc:C.version,global:q,req:w})||C.version;if(C.version=await (0,h.v)({collection:null,context:w.context,currentDepth:c,depth:o,doc:C.version,draft:void 0,fallbackLocale:t,global:q,locale:u,overrideAccess:r,populate:s,req:w,select:"object"==typeof z?.version?z.version:void 0,showHiddenFields:y}),q.hooks?.afterRead?.length)for(let a of q.hooks.afterRead)C.version=await a({context:w.context,doc:C.version,global:q,query:A.where,req:w})||C.version;return C}catch(a){throw await (0,j.J)(w),a}}},97853:a=>{a.exports={DEFAULT_LEVELS:{trace:10,debug:20,info:30,warn:40,error:50,fatal:60},SORTING_ORDER:{ASC:"ASC",DESC:"DESC"}}},97885:(a,b,c)=>{"use strict";c.d(b,{N:()=>d});class d{trace(){}debug(){}info(){}warn(){}error(){}}},97947:(a,b,c)=>{"use strict";a.exports=r;let d=c(92741),e=c(44757),f=c(82116),g=c(28327),h=c(53962),i=c(4992),j=c(3930),k=c(92),l=c(11660),{LEVELS:m,LEVEL_KEY:o,LEVEL_NAMES:p}=c(51874),q=a=>{try{return{value:d.parse(a,{protoAction:"remove"})}}catch(a){return{err:a}}};function r(a){let b;if(e(a))b=a;else{let c=q(a);if(c.err||!e(c.value))return a+this.EOL;b=c.value}if(this.minimumLevel){let a,c;if((c=(a=this.useOnlyCustomProps?this.customLevels:void 0!==this.customLevelNames[this.minimumLevel])?this.customLevelNames[this.minimumLevel]:p[this.minimumLevel])||(c="string"==typeof this.minimumLevel?p[this.minimumLevel]:p[m[this.minimumLevel].toLowerCase()]),b[void 0===this.levelKey?o:this.levelKey]<c)return}let c=h({log:b,context:this.context});(this.ignoreKeys||this.includeKeys)&&(b=l({log:b,context:this.context}));let d=g({log:b,context:{...this.context,...this.context.customProperties}}),r=i({log:b,context:this.context}),s=k({log:b,context:this.context}),t="";if(this.levelFirst&&d&&(t=`${d}`),s&&""===t?t=`${s}`:s&&(t=`${t} ${s}`),!this.levelFirst&&d&&(t=t.length>0?`${t} ${d}`:d),r&&(t=t.length>0?`${t} ${r}:`:r),!1===t.endsWith(":")&&""!==t&&(t+=":"),void 0!==c&&(t=t.length>0?`${t} ${c}`:c),t.length>0&&!this.singleLine&&(t+=this.EOL),"Error"===b.type&&"string"==typeof b.stack){let a=f({log:b,context:this.context});this.singleLine&&(t+=this.EOL),t+=a}else if(!1===this.hideObject){let a=[this.messageKey,this.levelKey,this.timestampKey].map(a=>a.replaceAll(/\\/g,"")).filter(a=>"string"==typeof b[a]||"number"==typeof b[a]||"boolean"==typeof b[a]),c=j({log:b,skipKeys:a,context:this.context});this.singleLine&&!/^\s$/.test(c)&&(t+=" "),t+=c}return t}},97955:(a,b,c)=>{"use strict";let d=c(85558),{cursor:e}=c(40821),f=c(1575),{clear:g,style:h,figures:i}=c(78339);class j extends f{constructor(a={}){a.overrideRender=!0,super(a),this.inputValue="",this.clear=g("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(a=>a.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let a=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(a=>!this.inputValue||!!("string"==typeof a.title&&a.title.toLowerCase().includes(this.inputValue.toLowerCase())||"string"==typeof a.value&&a.value.toLowerCase().includes(this.inputValue.toLowerCase())));let b=this.filteredOptions.findIndex(b=>b===a);this.cursor=b<0?0:b,this.render()}handleSpaceToggle(){let a=this.filteredOptions[this.cursor];if(a.selected)a.selected=!1,this.render();else{if(a.disabled||this.value.filter(a=>a.selected).length>=this.maxChoices)return this.bell();a.selected=!0,this.render()}}handleInputChange(a){this.inputValue=this.inputValue+a,this.updateFilteredOptions()}_(a,b){" "===a?this.handleSpaceToggle():this.handleInputChange(a)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`
Instructions:
    ${i.arrowUp}/${i.arrowDown}: Highlight option
    ${i.arrowLeft}/${i.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:d.gray("Enter something to filter")}
`}renderOption(a,b,c){let e;return e=b.disabled?a===c?d.gray().underline(b.title):d.strikethrough().gray(b.title):a===c?d.cyan().underline(b.title):b.title,(b.selected?d.green(i.radioOn):i.radioOff)+"  "+e}renderDoneOrInstructions(){if(this.done)return this.value.filter(a=>a.selected).map(a=>a.title).join(", ");let a=[d.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&a.push(d.yellow(this.warn)),a.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let a=[h.symbol(this.done,this.aborted),d.bold(this.msg),h.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(a+=d.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),a+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+a),this.clear=g(a,this.out.columns)}}a.exports=j},98114:(a,b,c)=>{"use strict";let{kConstruct:d}=c(10257),{kEnumerableProperty:e}=c(81350),{iteratorMixin:f,isValidHeaderName:g,isValidHeaderValue:h}=c(51074),{webidl:i}=c(81399),j=c(34589),k=c(57975);function l(a){return 10===a||13===a||9===a||32===a}function m(a){let b=0,c=a.length;for(;c>b&&l(a.charCodeAt(c-1));)--c;for(;c>b&&l(a.charCodeAt(b));)++b;return 0===b&&c===a.length?a:a.substring(b,c)}function o(a,b){if(Array.isArray(b))for(let c=0;c<b.length;++c){let d=b[c];if(2!==d.length)throw i.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${d.length}.`});p(a,d[0],d[1])}else if("object"==typeof b&&null!==b){let c=Object.keys(b);for(let d=0;d<c.length;++d)p(a,c[d],b[c[d]])}else throw i.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}function p(a,b,c){if(c=m(c),g(b)){if(!h(c))throw i.errors.invalidArgument({prefix:"Headers.append",value:c,type:"header value"})}else throw i.errors.invalidArgument({prefix:"Headers.append",value:b,type:"header name"});if("immutable"===u(a))throw TypeError("immutable");return w(a).append(b,c,!1)}function q(a){let b=w(a);if(!b)return[];if(b.sortedMap)return b.sortedMap;let c=[],d=b.toSortedArray(),e=b.cookies;if(null===e||1===e.length)return b.sortedMap=d;for(let a=0;a<d.length;++a){let{0:b,1:f}=d[a];if("set-cookie"===b)for(let a=0;a<e.length;++a)c.push([b,e[a]]);else c.push([b,f])}return b.sortedMap=c}function r(a,b){return a[0]<b[0]?-1:1}class s{cookies=null;sortedMap;headersMap;constructor(a){a instanceof s?(this.headersMap=new Map(a.headersMap),this.sortedMap=a.sortedMap,this.cookies=null===a.cookies?null:[...a.cookies]):(this.headersMap=new Map(a),this.sortedMap=null)}contains(a,b){return this.headersMap.has(b?a:a.toLowerCase())}clear(){this.headersMap.clear(),this.sortedMap=null,this.cookies=null}append(a,b,c){this.sortedMap=null;let d=c?a:a.toLowerCase(),e=this.headersMap.get(d);if(e){let a="cookie"===d?"; ":", ";this.headersMap.set(d,{name:e.name,value:`${e.value}${a}${b}`})}else this.headersMap.set(d,{name:a,value:b});"set-cookie"===d&&(this.cookies??=[]).push(b)}set(a,b,c){this.sortedMap=null;let d=c?a:a.toLowerCase();"set-cookie"===d&&(this.cookies=[b]),this.headersMap.set(d,{name:a,value:b})}delete(a,b){this.sortedMap=null,b||(a=a.toLowerCase()),"set-cookie"===a&&(this.cookies=null),this.headersMap.delete(a)}get(a,b){return this.headersMap.get(b?a:a.toLowerCase())?.value??null}*[Symbol.iterator](){for(let{0:a,1:{value:b}}of this.headersMap)yield[a,b]}get entries(){let a={};if(0!==this.headersMap.size)for(let{name:b,value:c}of this.headersMap.values())a[b]=c;return a}rawValues(){return this.headersMap.values()}get entriesList(){let a=[];if(0!==this.headersMap.size)for(let{0:b,1:{name:c,value:d}}of this.headersMap)if("set-cookie"===b)for(let b of this.cookies)a.push([c,b]);else a.push([c,d]);return a}toSortedArray(){let a=this.headersMap.size,b=Array(a);if(a<=32){if(0===a)return b;let c=this.headersMap[Symbol.iterator](),d=c.next().value;b[0]=[d[0],d[1].value],j(null!==d[1].value);for(let d=1,e=0,f=0,g=0,h=0,i,k;d<a;++d){for(k=c.next().value,j(null!==(i=b[d]=[k[0],k[1].value])[1]),g=0,f=d;g<f;)b[h=g+(f-g>>1)][0]<=i[0]?g=h+1:f=h;if(d!==h){for(e=d;e>g;)b[e]=b[--e];b[g]=i}}if(!c.next().done)throw TypeError("Unreachable");return b}{let a=0;for(let{0:c,1:{value:d}}of this.headersMap)b[a++]=[c,d],j(null!==d);return b.sort(r)}}}class t{#bb;#bc;constructor(a){if(i.util.markAsUncloneable(this),a===d)return;this.#bc=new s,this.#bb="none",void 0!==a&&o(this,a=i.converters.HeadersInit(a,"Headers constructor","init"))}append(a,b){i.brandCheck(this,t),i.argumentLengthCheck(arguments,2,"Headers.append");let c="Headers.append";return a=i.converters.ByteString(a,c,"name"),b=i.converters.ByteString(b,c,"value"),p(this,a,b)}delete(a){i.brandCheck(this,t),i.argumentLengthCheck(arguments,1,"Headers.delete");let b="Headers.delete";if(!g(a=i.converters.ByteString(a,b,"name")))throw i.errors.invalidArgument({prefix:"Headers.delete",value:a,type:"header name"});if("immutable"===this.#bb)throw TypeError("immutable");this.#bc.contains(a,!1)&&this.#bc.delete(a,!1)}get(a){i.brandCheck(this,t),i.argumentLengthCheck(arguments,1,"Headers.get");let b="Headers.get";if(!g(a=i.converters.ByteString(a,b,"name")))throw i.errors.invalidArgument({prefix:b,value:a,type:"header name"});return this.#bc.get(a,!1)}has(a){i.brandCheck(this,t),i.argumentLengthCheck(arguments,1,"Headers.has");let b="Headers.has";if(!g(a=i.converters.ByteString(a,b,"name")))throw i.errors.invalidArgument({prefix:b,value:a,type:"header name"});return this.#bc.contains(a,!1)}set(a,b){i.brandCheck(this,t),i.argumentLengthCheck(arguments,2,"Headers.set");let c="Headers.set";if(a=i.converters.ByteString(a,c,"name"),b=m(b=i.converters.ByteString(b,c,"value")),g(a)){if(!h(b))throw i.errors.invalidArgument({prefix:c,value:b,type:"header value"})}else throw i.errors.invalidArgument({prefix:c,value:a,type:"header name"});if("immutable"===this.#bb)throw TypeError("immutable");this.#bc.set(a,b,!1)}getSetCookie(){i.brandCheck(this,t);let a=this.#bc.cookies;return a?[...a]:[]}[k.inspect.custom](a,b){return b.depth??=a,`Headers ${k.formatWithOptions(b,this.#bc.entries)}`}static getHeadersGuard(a){return a.#bb}static setHeadersGuard(a,b){a.#bb=b}static getHeadersList(a){return a.#bc}static setHeadersList(a,b){a.#bc=b}}let{getHeadersGuard:u,setHeadersGuard:v,getHeadersList:w,setHeadersList:x}=t;Reflect.deleteProperty(t,"getHeadersGuard"),Reflect.deleteProperty(t,"setHeadersGuard"),Reflect.deleteProperty(t,"getHeadersList"),Reflect.deleteProperty(t,"setHeadersList"),f("Headers",t,q,0,1),Object.defineProperties(t.prototype,{append:e,delete:e,get:e,has:e,set:e,getSetCookie:e,[Symbol.toStringTag]:{value:"Headers",configurable:!0},[k.inspect.custom]:{enumerable:!1}}),i.converters.HeadersInit=function(a,b,c){if(i.util.Type(a)===i.util.Types.OBJECT){let d=Reflect.get(a,Symbol.iterator);if(!k.types.isProxy(a)&&d===t.prototype.entries)try{return w(a).entriesList}catch{}return"function"==typeof d?i.converters["sequence<sequence<ByteString>>"](a,b,c,d.bind(a)):i.converters["record<ByteString, ByteString>"](a,b,c)}throw i.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})},a.exports={fill:o,compareHeaderName:r,Headers:t,HeadersList:s,getHeadersGuard:u,setHeadersGuard:v,setHeadersList:x,getHeadersList:w}},98198:(a,b,c)=>{"use strict";c.d(b,{L6:()=>k});var d=c(36136),e=c(21463),f=c(65679);let g=async({jobStats:a,queueable:b,req:c})=>{let d={...a?.stats?.scheduledRuns?.queues?.[b.scheduleConfig.queue]||{}};b.taskConfig?(d.tasks??={})[b.taskConfig.slug]={lastScheduledRun:(0,f.AV)().toISOString()}:b.workflowConfig&&((d.workflows??={})[b.workflowConfig.slug]={lastScheduledRun:(0,f.AV)().toISOString()}),a?await c.payload.db.updateGlobal({slug:e.Z,data:{...a||{},stats:{...a?.stats||{},scheduledRuns:{...a?.stats?.scheduledRuns||{},queues:{...a?.stats?.scheduledRuns?.queues||{},[b.scheduleConfig.queue]:d}}},updatedAt:new Date().toISOString()},req:c,returning:!1}):await c.payload.db.createGlobal({slug:e.Z,data:{createdAt:(0,f.AV)().toISOString(),stats:{scheduledRuns:{queues:{[b.scheduleConfig.queue]:d}}}},req:c,returning:!1})};async function h({onlyScheduled:a=!1,queue:b,req:c,taskSlug:d,workflowSlug:e}){let f=[{queue:{equals:b}},{completedAt:{exists:!1}},{error:{exists:!1}}];return d?f.push({taskSlug:{equals:d}}):e&&f.push({workflowSlug:{equals:e}}),a&&f.push({"meta.scheduled":{equals:!0}}),(await c.payload.db.count({collection:"payload-jobs",req:c,where:{and:f}})).totalDocs}let i=async({queueable:a,req:b})=>({input:{},shouldSchedule:0===await h({onlyScheduled:!0,queue:a.scheduleConfig.queue,req:b,taskSlug:a.taskConfig?.slug,workflowSlug:a.workflowConfig?.slug}),waitUntil:a.waitUntil}),j=({jobsConfig:a})=>{let b=a.tasks?.filter(a=>a.schedule?.length)??[],c=a.workflows?.filter(a=>a.schedule?.length)??[],d={};for(let a of b)for(let b of a.schedule??[])(d[b.queue]??={schedules:[]}).schedules.push({scheduleConfig:b,taskConfig:a});for(let a of c)for(let b of a.schedule??[])(d[b.queue]??={schedules:[]}).schedules.push({scheduleConfig:b,workflowConfig:a});return d};async function k({allQueues:a=!1,queue:b,req:c}){let d=b??"default",f=j({jobsConfig:c.payload.config.jobs});if(0===Object.keys(f).length)return{errored:[],queued:[],skipped:[]};let g=await c.payload.db.findGlobal({slug:e.Z,req:c}),h=[];for(let[b,{schedules:c}]of Object.entries(f))if(a||b===d)for(let a of c){let c=l({queue:b,scheduleConfig:a.scheduleConfig,stats:g,taskConfig:a.taskConfig,workflowConfig:a.workflowConfig});c&&h.push(c)}let i=[],k=[],o=[];for(let a of h){let{status:b}=await m({queueable:a,req:c,stats:g});switch(b){case"error":o.push(a);break;case"skipped":k.push(a);break;case"success":i.push(a)}}return{errored:o,queued:i,skipped:k}}function l({queue:a,scheduleConfig:b,stats:c,taskConfig:e,workflowConfig:f}){let g=c?.stats?.scheduledRuns?.queues?.[a],h=e?g?.tasks?.[e.slug]?.lastScheduledRun:g?.workflows?.[f?.slug??""]?.lastScheduledRun,i=new d.l4(b.cron).nextRun(h??void 0);return!!i&&{scheduleConfig:b,taskConfig:e,waitUntil:i,workflowConfig:f}}async function m({queueable:a,req:b,stats:c}){if(!a.taskConfig&&!a.workflowConfig)return{status:"error"};let d=a.scheduleConfig.hooks?.beforeSchedule,e=a.scheduleConfig.hooks?.afterSchedule;try{let f=await (d??i)({defaultBeforeSchedule:d?i:null,jobStats:c,queueable:a,req:b});if(!f.shouldSchedule)return await (e??g)({defaultAfterSchedule:e?g:null,jobStats:c,queueable:a,req:b,status:"skipped"}),{status:"skipped"};let h=await b.payload.jobs.queue({input:f.input??{},meta:{scheduled:!0},queue:a.scheduleConfig.queue,req:b,task:a?.taskConfig?.slug,waitUntil:f.waitUntil,workflow:a.workflowConfig?.slug});return await (e??g)({defaultAfterSchedule:e?g:null,job:h,jobStats:c,queueable:a,req:b,status:"success"}),{status:"success"}}catch(d){return await (e??g)({defaultAfterSchedule:e?g:null,error:d,jobStats:c,queueable:a,req:b,status:"error"}),{status:"error"}}}},98290:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(26582),e=c(47934),f=c(34414),g=c(34414);b.default={keyword:"patternProperties",type:"object",schemaType:"object",code(a){let{gen:b,schema:c,data:h,parentSchema:i,it:j}=a,{opts:k}=j,l=(0,d.allSchemaProperties)(c),m=l.filter(a=>(0,f.alwaysValidSchema)(j,c[a]));if(0===l.length||m.length===l.length&&(!j.opts.unevaluated||!0===j.props))return;let o=k.strictSchema&&!k.allowMatchingProperties&&i.properties,p=b.name("valid");!0===j.props||j.props instanceof e.Name||(j.props=(0,g.evaluatedPropsToName)(b,j.props));let{props:q}=j;function r(a){for(let b in o)new RegExp(a).test(b)&&(0,f.checkStrictMode)(j,`property ${b} matches pattern ${a} (use allowMatchingProperties)`)}function s(c){b.forIn("key",h,f=>{b.if((0,e._)`${(0,d.usePattern)(a,c)}.test(${f})`,()=>{let d=m.includes(c);d||a.subschema({keyword:"patternProperties",schemaProp:c,dataProp:f,dataPropType:g.Type.Str},p),j.opts.unevaluated&&!0!==q?b.assign((0,e._)`${q}[${f}]`,!0):d||j.allErrors||b.if((0,e.not)(p),()=>b.break())})})}(function a(){for(let a of l)o&&r(a),j.allErrors?s(a):(b.var(p,!0),s(a),b.if(p))})()}}},98415:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(...a)=>{let b,c=a.filter(Boolean);if(0===c.length||1===c.length)return!0;for(let a of c){let c=Object.keys(a);if(!b||0===b.size){b=new Set(c);continue}for(let a of c){if(b.has(a))return!1;b.add(a)}}return!0}},98427:(a,b,c)=>{"use strict";let d=c(24328),e=c(32488).assign,f=c(67552),g=c(94735);class h extends g{constructor(a){if(super(),this.pool=a,this.options=a.options,this.logger=this.pool.logger,this.options.auth)switch((this.options.auth.type||"").toString().toUpperCase()){case"OAUTH2":{let a=new f(this.options.auth,this.logger);a.provisionCallback=this.pool.mailer&&this.pool.mailer.get("oauth2_provision_cb")||a.provisionCallback,this.auth={type:"OAUTH2",user:this.options.auth.user,oauth2:a,method:"XOAUTH2"},a.on("token",a=>this.pool.mailer.emit("token",a)),a.on("error",a=>this.emit("error",a));break}default:if(!this.options.auth.user&&!this.options.auth.pass)break;this.auth={type:(this.options.auth.type||"").toString().toUpperCase()||"LOGIN",user:this.options.auth.user,credentials:{user:this.options.auth.user||"",pass:this.options.auth.pass,options:this.options.auth.options},method:(this.options.auth.method||"").trim().toUpperCase()||this.options.authMethod||!1}}this._connection=!1,this._connected=!1,this.messages=0,this.available=!0}connect(a){this.pool.getSocket(this.options,(b,c)=>{if(b)return a(b);let f=!1,g=this.options;c&&c.connection&&(this.logger.info({tnx:"proxy",remoteAddress:c.connection.remoteAddress,remotePort:c.connection.remotePort,destHost:g.host||"",destPort:g.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",c.connection.remoteAddress,c.connection.remotePort,g.host||"",g.port||""),g=e(!1,g),Object.keys(c).forEach(a=>{g[a]=c[a]})),this.connection=new d(g),this.connection.once("error",b=>{if(this.emit("error",b),!f)return f=!0,a(b)}),this.connection.once("end",()=>{if(this.close(),f)return;f=!0;let b=setTimeout(()=>{if(f)return;let b=Error("Unexpected socket close");this.connection&&this.connection._socket&&this.connection._socket.upgrading&&(b.code="ETLS"),a(b)},1e3);try{b.unref()}catch(a){}}),this.connection.connect(()=>{if(!f)if(!this.auth||!this.connection.allowsAuth&&!g.forceAuth)return f=!0,this._connected=!0,a(null,!0);else this.connection.login(this.auth,b=>{if(!f){if(f=!0,b)return this.connection.close(),this.emit("error",b),a(b);this._connected=!0,a(null,!0)}})})})}send(a,b){if(!this._connected)return this.connect(c=>c?b(c):this.send(a,b));let c=a.message.getEnvelope(),d=a.message.messageId(),e=[].concat(c.to||[]);e.length>3&&e.push("...and "+e.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:d,cid:this.id},"Sending message %s using #%s to <%s>",d,this.id,e.join(", ")),a.data.dsn&&(c.dsn=a.data.dsn),a.data.requireTLSExtensionEnabled&&(c.requireTLSExtensionEnabled=a.data.requireTLSExtensionEnabled),this.connection.send(c,a.message.createReadStream(),(a,e)=>{if(this.messages++,a)return this.connection.close(),this.emit("error",a),b(a);e.envelope={from:c.from,to:c.to},e.messageId=d,setImmediate(()=>{let a;this.messages>=this.options.maxMessages?((a=Error("Resource exhausted")).code="EMAXLIMIT",this.connection.close(),this.emit("error",a)):this.pool._checkRateLimit(()=>{this.available=!0,this.emit("available")})}),b(null,e)})}close(){this._connected=!1,this.auth&&this.auth.oauth2&&this.auth.oauth2.removeAllListeners(),this.connection&&this.connection.close(),this.emit("close")}}a.exports=h},98481:(a,b,c)=>{"use strict";c.d(b,{ey:()=>s});var d=c(15796),e=c(64746),f=c(99398),g=c(97885),h=c(71550),i=c(81529),j=c(27910);let k=a=>a?.body instanceof j.Readable||"undefined"!=typeof ReadableStream&&a?.body instanceof ReadableStream,l=a=>a instanceof Error?a:a instanceof Object?Object.assign(Error(),a):"string"==typeof a?Error(a):Error(`AWS SDK error wrapper for ${a}`),m=a=>(b,c)=>async e=>{let f=await a.retryStrategy(),j=await a.maxAttempts();if(!o(f))return f?.mode&&(c.userAgent=[...c.userAgent||[],["cfg/retry-mode",f.mode]]),f.retry(b,e);{let a=await f.acquireInitialRetryToken(c.partition_id),m=Error(),o=0,q=0,{request:r}=e,s=d.K.isInstance(r);for(s&&(r.headers[h.l5]=(0,i.v4)());;)try{s&&(r.headers[h.ok]=`attempt=${o+1}; max=${j}`);let{response:c,output:d}=await b(e);return f.recordSuccess(a),d.$metadata.attempts=o+1,d.$metadata.totalRetryDelay=q,{response:c,output:d}}catch(e){let b=p(e);if(m=l(e),s&&k(r))throw(c.logger instanceof g.N?console:c.logger)?.warn("An error was encountered in a non-retryable streaming request."),m;try{a=await f.refreshRetryTokenForRetry(a,b)}catch(a){throw m.$metadata||(m.$metadata={}),m.$metadata.attempts=o+1,m.$metadata.totalRetryDelay=q,m}o=a.getRetryCount();let d=a.getRetryDelay();q+=d,await new Promise(a=>setTimeout(a,d))}}},o=a=>void 0!==a.acquireInitialRetryToken&&void 0!==a.refreshRetryTokenForRetry&&void 0!==a.recordSuccess,p=a=>{let b={error:a,errorType:q(a)},c=t(a.$response);return c&&(b.retryAfterHint=c),b},q=a=>(0,f.Qb)(a)?"THROTTLING":(0,f.bV)(a)?"TRANSIENT":(0,f.GQ)(a)?"SERVER_ERROR":"CLIENT_ERROR",r={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},s=a=>({applyToStack:b=>{b.add(m(a),r)}}),t=a=>{if(!e.c.isInstance(a))return;let b=Object.keys(a.headers).find(a=>"retry-after"===a.toLowerCase());if(!b)return;let c=a.headers[b],d=Number(c);return new Date(Number.isNaN(d)?c:1e3*d)}},98550:(a,b,c)=>{"use strict";c.d(b,{Ko:()=>h});var d=c(98927),e=c(5239);let f="AWS_USE_FIPS_ENDPOINT",g="use_fips_endpoint",h={environmentVariableSelector:a=>(0,d.Q)(a,f,e.c.ENV),configFileSelector:a=>(0,d.Q)(a,g,e.c.CONFIG),default:!1}},98703:(a,b,c)=>{"use strict";let d=c(94735),e=c(22134),f=c(22345),g=c(49026),h=c(83646),i=c(30124);class j extends d{constructor(a){let b;super(),"string"==typeof(a=a||{})&&(a={url:a});let c=a.service;"function"==typeof a.getSocket&&(this.getSocket=a.getSocket),a.url&&(b=g.parseConnectionUrl(a.url),c=c||b.service),this.options=g.assign(!1,a,b,c&&f(c)),this.logger=g.getLogger(this.options,{component:this.options.component||"smtp-transport"});let d=new e(this.options);this.name="SMTP",this.version=i.version+"[client:"+d.version+"]",this.options.auth&&(this.auth=this.getAuth({}))}getSocket(a,b){return setImmediate(()=>b(null,!1))}getAuth(a){if(!a)return this.auth;let b=!1,c={};if(this.options.auth&&"object"==typeof this.options.auth&&Object.keys(this.options.auth).forEach(a=>{b=!0,c[a]=this.options.auth[a]}),a&&"object"==typeof a&&Object.keys(a).forEach(d=>{b=!0,c[d]=a[d]}),!b)return!1;if("OAUTH2"!==(c.type||"").toString().toUpperCase())return{type:(c.type||"").toString().toUpperCase()||"LOGIN",user:c.user,credentials:{user:c.user||"",pass:c.pass,options:c.options},method:(c.method||"").trim().toUpperCase()||this.options.authMethod||!1};{if(!c.service&&!c.user)return!1;let a=new h(c,this.logger);return a.provisionCallback=this.mailer&&this.mailer.get("oauth2_provision_cb")||a.provisionCallback,a.on("token",a=>this.mailer.emit("token",a)),a.on("error",a=>this.emit("error",a)),{type:"OAUTH2",user:c.user,oauth2:a,method:"XOAUTH2"}}}send(a,b){this.getSocket(this.options,(c,d)=>{if(c)return b(c);let f=!1,h=this.options;d&&d.connection&&(this.logger.info({tnx:"proxy",remoteAddress:d.connection.remoteAddress,remotePort:d.connection.remotePort,destHost:h.host||"",destPort:h.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",d.connection.remoteAddress,d.connection.remotePort,h.host||"",h.port||""),h=g.assign(!1,h),Object.keys(d).forEach(a=>{h[a]=d[a]}));let i=new e(h);i.once("error",a=>{if(!f)return f=!0,i.close(),b(a)}),i.once("end",()=>{if(f)return;let a=setTimeout(()=>{if(f)return;f=!0;let a=Error("Unexpected socket close");i&&i._socket&&i._socket.upgrading&&(a.code="ETLS"),b(a)},1e3);try{a.unref()}catch(a){}});let j=()=>{let c=a.message.getEnvelope(),d=a.message.messageId(),e=[].concat(c.to||[]);e.length>3&&e.push("...and "+e.splice(2).length+" more"),a.data.dsn&&(c.dsn=a.data.dsn),this.logger.info({tnx:"send",messageId:d},"Sending message %s to <%s>",d,e.join(", ")),i.send(c,a.message.createReadStream(),(a,e)=>{if(f=!0,i.close(),a)return this.logger.error({err:a,tnx:"send"},"Send error for %s: %s",d,a.message),b(a);e.envelope={from:c.from,to:c.to},e.messageId=d;try{return b(null,e)}catch(a){this.logger.error({err:a,tnx:"callback"},"Callback error for %s: %s",d,a.message)}})};i.connect(()=>{if(f)return;let c=this.getAuth(a.data.auth);c&&(i.allowsAuth||h.forceAuth)?i.login(c,a=>{if(c&&c!==this.auth&&c.oauth2&&c.oauth2.removeAllListeners(),!f){if(a)return f=!0,i.close(),b(a);j()}}):j()})})}verify(a){let b;return a||(b=new Promise((b,c)=>{a=g.callbackPromise(b,c)})),this.getSocket(this.options,(b,c)=>{if(b)return a(b);let d=this.options;c&&c.connection&&(this.logger.info({tnx:"proxy",remoteAddress:c.connection.remoteAddress,remotePort:c.connection.remotePort,destHost:d.host||"",destPort:d.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",c.connection.remoteAddress,c.connection.remotePort,d.host||"",d.port||""),d=g.assign(!1,d),Object.keys(c).forEach(a=>{d[a]=c[a]}));let f=new e(d),h=!1;f.once("error",b=>{if(!h)return h=!0,f.close(),a(b)}),f.once("end",()=>{if(!h)return h=!0,a(Error("Connection closed"))});let i=()=>{if(!h)return h=!0,f.quit(),a(null,!0)};f.connect(()=>{if(h)return;let b=this.getAuth({});if(b&&(f.allowsAuth||d.forceAuth))f.login(b,b=>{if(!h){if(b)return h=!0,f.close(),a(b);i()}});else if(!b&&f.allowsAuth&&d.forceAuth){let b=Error("Authentication info was not provided");return b.code="NoAuth",h=!0,f.close(),a(b)}else i()})}),b}close(){this.auth&&this.auth.oauth2&&this.auth.oauth2.removeAllListeners(),this.emit("close")}}a.exports=j},98789:(a,b,c)=>{"use strict";let d=c(91513);class e extends d{constructor(a={}){super(a)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(a){this.date.setFullYear(a.substr(-4))}toString(){let a=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?a.substr(-2):a}}a.exports=e},98927:(a,b,c)=>{"use strict";c.d(b,{Q:()=>d});let d=(a,b,c)=>{if(b in a){if("true"===a[b])return!0;if("false"===a[b])return!1;throw Error(`Cannot load ${c} "${b}". Expected "true" or "false", got ${a[b]}.`)}}},99162:(a,b,c)=>{"use strict";c.d(b,{I:()=>e});let d=!1,e=a=>{a&&!d&&16>parseInt(a.substring(1,a.indexOf(".")))&&(d=!0)}},99398:(a,b,c)=>{"use strict";c.d(b,{GQ:()=>o,Qb:()=>l,bV:()=>m});let d=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],e=["TimeoutError","RequestTimeout","RequestTimeoutException"],f=[500,502,503,504],g=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],h=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],i=a=>a?.$retryable!==void 0,j=a=>a.$metadata?.clockSkewCorrected,k=a=>{let b=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return!!(a&&a instanceof TypeError)&&b.has(a.message)},l=a=>a.$metadata?.httpStatusCode===429||d.includes(a.name)||a.$retryable?.throttling==!0,m=(a,b=0)=>i(a)||j(a)||e.includes(a.name)||g.includes(a?.code||"")||h.includes(a?.code||"")||f.includes(a.$metadata?.httpStatusCode||0)||k(a)||void 0!==a.cause&&b<=10&&m(a.cause,b+1),o=a=>{if(a.$metadata?.httpStatusCode!==void 0){let b=a.$metadata.httpStatusCode;if(500<=b&&b<=599&&!m(a))return!0}return!1}},99408:(a,b,c)=>{"use strict";c.d(b,{m:()=>e});var d=c(86069);let e=async({id:a,data:b,disableErrors:c,isReadingStaticFile:e=!1,req:f},g)=>{if(g){let h=await g({id:a,data:b,isReadingStaticFile:e,req:f});if(!h&&!c)throw new d.c(f.t);return h}if(f.user)return!0;if(!c)throw new d.c(f.t);return!1}},99421:(a,b,c)=>{"use strict";let d=c(94735),e=c(24328),f=c(31143),g=c(32488),h=c(67552),i=c(24404);class j extends d{constructor(a){let b;super(),"string"==typeof(a=a||{})&&(a={url:a});let c=a.service;"function"==typeof a.getSocket&&(this.getSocket=a.getSocket),a.url&&(b=g.parseConnectionUrl(a.url),c=c||b.service),this.options=g.assign(!1,a,b,c&&f(c)),this.logger=g.getLogger(this.options,{component:this.options.component||"smtp-transport"});let d=new e(this.options);this.name="SMTP",this.version=i.version+"[client:"+d.version+"]",this.options.auth&&(this.auth=this.getAuth({}))}getSocket(a,b){return setImmediate(()=>b(null,!1))}getAuth(a){if(!a)return this.auth;let b=!1,c={};if(this.options.auth&&"object"==typeof this.options.auth&&Object.keys(this.options.auth).forEach(a=>{b=!0,c[a]=this.options.auth[a]}),a&&"object"==typeof a&&Object.keys(a).forEach(d=>{b=!0,c[d]=a[d]}),!b)return!1;if("OAUTH2"!==(c.type||"").toString().toUpperCase())return{type:(c.type||"").toString().toUpperCase()||"LOGIN",user:c.user,credentials:{user:c.user||"",pass:c.pass,options:c.options},method:(c.method||"").trim().toUpperCase()||this.options.authMethod||!1};{if(!c.service&&!c.user)return!1;let a=new h(c,this.logger);return a.provisionCallback=this.mailer&&this.mailer.get("oauth2_provision_cb")||a.provisionCallback,a.on("token",a=>this.mailer.emit("token",a)),a.on("error",a=>this.emit("error",a)),{type:"OAUTH2",user:c.user,oauth2:a,method:"XOAUTH2"}}}send(a,b){this.getSocket(this.options,(c,d)=>{if(c)return b(c);let f=!1,h=this.options;d&&d.connection&&(this.logger.info({tnx:"proxy",remoteAddress:d.connection.remoteAddress,remotePort:d.connection.remotePort,destHost:h.host||"",destPort:h.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",d.connection.remoteAddress,d.connection.remotePort,h.host||"",h.port||""),h=g.assign(!1,h),Object.keys(d).forEach(a=>{h[a]=d[a]}));let i=new e(h);i.once("error",a=>{if(!f)return f=!0,i.close(),b(a)}),i.once("end",()=>{if(f)return;let a=setTimeout(()=>{if(f)return;f=!0;let a=Error("Unexpected socket close");i&&i._socket&&i._socket.upgrading&&(a.code="ETLS"),b(a)},1e3);try{a.unref()}catch(a){}});let j=()=>{let c=a.message.getEnvelope(),d=a.message.messageId(),e=[].concat(c.to||[]);e.length>3&&e.push("...and "+e.splice(2).length+" more"),a.data.dsn&&(c.dsn=a.data.dsn),a.data.requireTLSExtensionEnabled&&(c.requireTLSExtensionEnabled=a.data.requireTLSExtensionEnabled),this.logger.info({tnx:"send",messageId:d},"Sending message %s to <%s>",d,e.join(", ")),i.send(c,a.message.createReadStream(),(a,e)=>{if(f=!0,i.close(),a)return this.logger.error({err:a,tnx:"send"},"Send error for %s: %s",d,a.message),b(a);e.envelope={from:c.from,to:c.to},e.messageId=d;try{return b(null,e)}catch(a){this.logger.error({err:a,tnx:"callback"},"Callback error for %s: %s",d,a.message)}})};i.connect(()=>{if(f)return;let c=this.getAuth(a.data.auth);c&&(i.allowsAuth||h.forceAuth)?i.login(c,a=>{if(c&&c!==this.auth&&c.oauth2&&c.oauth2.removeAllListeners(),!f){if(a)return f=!0,i.close(),b(a);j()}}):j()})})}verify(a){let b;return a||(b=new Promise((b,c)=>{a=g.callbackPromise(b,c)})),this.getSocket(this.options,(b,c)=>{if(b)return a(b);let d=this.options;c&&c.connection&&(this.logger.info({tnx:"proxy",remoteAddress:c.connection.remoteAddress,remotePort:c.connection.remotePort,destHost:d.host||"",destPort:d.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",c.connection.remoteAddress,c.connection.remotePort,d.host||"",d.port||""),d=g.assign(!1,d),Object.keys(c).forEach(a=>{d[a]=c[a]}));let f=new e(d),h=!1;f.once("error",b=>{if(!h)return h=!0,f.close(),a(b)}),f.once("end",()=>{if(!h)return h=!0,a(Error("Connection closed"))});let i=()=>{if(!h)return h=!0,f.quit(),a(null,!0)};f.connect(()=>{if(h)return;let b=this.getAuth({});if(b&&(f.allowsAuth||d.forceAuth))f.login(b,b=>{if(!h){if(b)return h=!0,f.close(),a(b);i()}});else if(!b&&f.allowsAuth&&d.forceAuth){let b=Error("Authentication info was not provided");return b.code="NoAuth",h=!0,f.close(),a(b)}else i()})}),b}close(){this.auth&&this.auth.oauth2&&this.auth.oauth2.removeAllListeners(),this.emit("close")}}a.exports=j},99495:a=>{"use strict";let b,c={exit:[],beforeExit:[]},d={exit:h,beforeExit:i};function e(){void 0===b&&(b=new FinalizationRegistry(k))}function f(a){c[a].length>0||process.on(a,d[a])}function g(a){c[a].length>0||(process.removeListener(a,d[a]),0===c.exit.length&&0===c.beforeExit.length&&(b=void 0))}function h(){j("exit")}function i(){j("beforeExit")}function j(a){for(let b of c[a]){let c=b.deref(),d=b.fn;void 0!==c&&d(c,a)}c[a]=[]}function k(a){for(let b of["exit","beforeExit"]){let d=c[b].indexOf(a);c[b].splice(d,d+1),g(b)}}function l(a,d,g){if(void 0===d)throw Error("the object can't be undefined");f(a);let h=new WeakRef(d);h.fn=g,e(),b.register(d,h),c[a].push(h)}a.exports={register:function(a,b){l("exit",a,b)},registerBeforeExit:function(a,b){l("beforeExit",a,b)},unregister:function(a){if(void 0!==b)for(let d of(b.unregister(a),["exit","beforeExit"]))c[d]=c[d].filter(b=>{let c=b.deref();return c&&c!==a}),g(d)}}},99679:(a,b,c)=>{"use strict";let d,e=c(34589),f=c(81350),{channels:g}=c(84372),h=c(26089),{RequestContentLengthMismatchError:i,ResponseContentLengthMismatchError:j,RequestAbortedError:k,HeadersTimeoutError:l,HeadersOverflowError:m,SocketError:o,InformationalError:p,BodyTimeoutError:q,HTTPParserError:r,ResponseExceededMaxSizeError:s}=c(64737),{kUrl:t,kReset:u,kClient:v,kParser:w,kBlocking:x,kRunning:y,kPending:z,kSize:A,kWriting:B,kQueue:C,kNoRef:D,kKeepAliveDefaultTimeout:E,kHostHeader:F,kPendingIdx:G,kRunningIdx:H,kError:I,kPipelining:J,kSocket:K,kKeepAliveTimeoutValue:L,kMaxHeadersSize:M,kKeepAliveMaxTimeout:N,kKeepAliveTimeoutThreshold:O,kHeadersTimeout:P,kBodyTimeout:Q,kStrictContentLength:R,kMaxRequests:S,kCounter:T,kMaxResponseSize:U,kOnError:V,kResume:W,kHTTPContext:X,kClosed:Y}=c(10257),Z=c(61966),$=Buffer.alloc(0),_=Buffer[Symbol.species],aa=f.removeAllListeners,ab=null,ac=async function(){let a,b=process.env.JEST_WORKER_ID?c(79056):void 0;try{a=await WebAssembly.compile(c(3016))}catch(d){a=await WebAssembly.compile(b||c(79056))}return await WebAssembly.instantiate(a,{env:{wasm_on_url:(a,b,c)=>0,wasm_on_status:(a,b,c)=>{e(ad.ptr===a);let d=b-ag+ae.byteOffset;return ad.onStatus(new _(ae.buffer,d,c))},wasm_on_message_begin:a=>(e(ad.ptr===a),ad.onMessageBegin()),wasm_on_header_field:(a,b,c)=>{e(ad.ptr===a);let d=b-ag+ae.byteOffset;return ad.onHeaderField(new _(ae.buffer,d,c))},wasm_on_header_value:(a,b,c)=>{e(ad.ptr===a);let d=b-ag+ae.byteOffset;return ad.onHeaderValue(new _(ae.buffer,d,c))},wasm_on_headers_complete:(a,b,c,d)=>(e(ad.ptr===a),ad.onHeadersComplete(b,1===c,1===d)),wasm_on_body:(a,b,c)=>{e(ad.ptr===a);let d=b-ag+ae.byteOffset;return ad.onBody(new _(ae.buffer,d,c))},wasm_on_message_complete:a=>(e(ad.ptr===a),ad.onMessageComplete())}})}();ac.catch();let ad=null,ae=null,af=0,ag=null,ah=1,ai=3,aj=5,ak=8;class al{constructor(a,b,{exports:c}){this.llhttp=c,this.ptr=this.llhttp.llhttp_alloc(Z.TYPE.RESPONSE),this.client=a,this.socket=b,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=0,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=a[M],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=a[U]}setTimeout(a,b){a!==this.timeoutValue||b&ah^this.timeoutType&ah?(this.timeout&&(h.clearTimeout(this.timeout),this.timeout=null),a&&(b&ah?this.timeout=h.setFastTimeout(am,a,new WeakRef(this)):(this.timeout=setTimeout(am,a,new WeakRef(this)),this.timeout.unref())),this.timeoutValue=a):this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.timeoutType=b}resume(){!this.socket.destroyed&&this.paused&&(e(null!=this.ptr),e(null===ad),this.llhttp.llhttp_resume(this.ptr),e(this.timeoutType===aj),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||$),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let a=this.socket.read();if(null===a)break;this.execute(a)}}execute(a){e(null===ad),e(null!=this.ptr),e(!this.paused);let{socket:b,llhttp:c}=this;a.length>af&&(ag&&c.free(ag),af=4096*Math.ceil(a.length/4096),ag=c.malloc(af)),new Uint8Array(c.memory.buffer,ag,af).set(a);try{let d;try{ae=a,ad=this,d=c.llhttp_execute(this.ptr,ag,a.length)}catch(a){throw a}finally{ad=null,ae=null}if(d!==Z.ERROR.OK){let e=a.subarray(c.llhttp_get_error_pos(this.ptr)-ag);if(d===Z.ERROR.PAUSED_UPGRADE)this.onUpgrade(e);else if(d===Z.ERROR.PAUSED)this.paused=!0,b.unshift(e);else{let a=c.llhttp_get_error_reason(this.ptr),b="";if(a){let d=new Uint8Array(c.memory.buffer,a).indexOf(0);b="Response does not match the HTTP/1.1 protocol ("+Buffer.from(c.memory.buffer,a,d).toString()+")"}throw new r(b,Z.ERROR[d],e)}}}catch(a){f.destroy(b,a)}}destroy(){e(null===ad),e(null!=this.ptr),this.llhttp.llhttp_free(this.ptr),this.ptr=null,this.timeout&&h.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(a){return this.statusText=a.toString(),0}onMessageBegin(){let{socket:a,client:b}=this;if(a.destroyed)return -1;let c=b[C][b[H]];return c?(c.onResponseStarted(),0):-1}onHeaderField(a){let b=this.headers.length;return(1&b)==0?this.headers.push(a):this.headers[b-1]=Buffer.concat([this.headers[b-1],a]),this.trackHeader(a.length),0}onHeaderValue(a){let b=this.headers.length;(1&b)==1?(this.headers.push(a),b+=1):this.headers[b-1]=Buffer.concat([this.headers[b-1],a]);let c=this.headers[b-2];if(10===c.length){let b=f.bufferToLowerCasedHeaderName(c);"keep-alive"===b?this.keepAlive+=a.toString():"connection"===b&&(this.connection+=a.toString())}else 14===c.length&&"content-length"===f.bufferToLowerCasedHeaderName(c)&&(this.contentLength+=a.toString());return this.trackHeader(a.length),0}trackHeader(a){this.headersSize+=a,this.headersSize>=this.headersMaxSize&&f.destroy(this.socket,new m)}onUpgrade(a){let{upgrade:b,client:c,socket:d,headers:g,statusCode:h}=this;e(b),e(c[K]===d),e(!d.destroyed),e(!this.paused),e((1&g.length)==0);let i=c[C][c[H]];e(i),e(i.upgrade||"CONNECT"===i.method),this.statusCode=0,this.statusText="",this.shouldKeepAlive=!1,this.headers=[],this.headersSize=0,d.unshift(a),d[w].destroy(),d[w]=null,d[v]=null,d[I]=null,aa(d),c[K]=null,c[X]=null,c[C][c[H]++]=null,c.emit("disconnect",c[t],[c],new p("upgrade"));try{i.onUpgrade(h,g,d)}catch(a){f.destroy(d,a)}c[W]()}onHeadersComplete(a,b,c){let{client:d,socket:g,headers:h,statusText:i}=this;if(g.destroyed)return -1;let j=d[C][d[H]];if(!j)return -1;if(e(!this.upgrade),e(this.statusCode<200),100===a)return f.destroy(g,new o("bad response",f.getSocketInfo(g))),-1;if(b&&!j.upgrade)return f.destroy(g,new o("bad upgrade",f.getSocketInfo(g))),-1;if(e(this.timeoutType===ai),this.statusCode=a,this.shouldKeepAlive=c||"HEAD"===j.method&&!g[u]&&"keep-alive"===this.connection.toLowerCase(),this.statusCode>=200){let a=null!=j.bodyTimeout?j.bodyTimeout:d[Q];this.setTimeout(a,aj)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if("CONNECT"===j.method||b)return e(1===d[y]),this.upgrade=!0,2;if(e((1&this.headers.length)==0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&d[J]){let a=this.keepAlive?f.parseKeepAliveTimeout(this.keepAlive):null;if(null!=a){let b=Math.min(a-d[O],d[N]);b<=0?g[u]=!0:d[L]=b}else d[L]=d[E]}else g[u]=!0;let k=!1===j.onHeaders(a,h,this.resume,i);return j.aborted?-1:"HEAD"===j.method||a<200?1:(g[x]&&(g[x]=!1,d[W]()),k?Z.ERROR.PAUSED:0)}onBody(a){let{client:b,socket:c,statusCode:d,maxResponseSize:g}=this;if(c.destroyed)return -1;let h=b[C][b[H]];return(e(h),e(this.timeoutType===aj),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),e(d>=200),g>-1&&this.bytesRead+a.length>g)?(f.destroy(c,new s),-1):(this.bytesRead+=a.length,!1===h.onData(a))?Z.ERROR.PAUSED:0}onMessageComplete(){let{client:a,socket:b,statusCode:c,upgrade:d,headers:g,contentLength:h,bytesRead:i,shouldKeepAlive:k}=this;if(b.destroyed&&(!c||k))return -1;if(d)return 0;e(c>=100),e((1&this.headers.length)==0);let l=a[C][a[H]];return(e(l),this.statusCode=0,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",this.headers=[],this.headersSize=0,c<200)?0:"HEAD"!==l.method&&h&&i!==parseInt(h,10)?(f.destroy(b,new j),-1):(l.onComplete(g),a[C][a[H]++]=null,b[B])?(e(0===a[y]),f.destroy(b,new p("reset")),Z.ERROR.PAUSED):k?b[u]&&0===a[y]?(f.destroy(b,new p("reset")),Z.ERROR.PAUSED):(null==a[J]||1===a[J]?setImmediate(()=>a[W]()):a[W](),0):(f.destroy(b,new p("reset")),Z.ERROR.PAUSED)}}function am(a){let{socket:b,timeoutType:c,client:d,paused:g}=a.deref();c===ai?(!b[B]||b.writableNeedDrain||d[y]>1)&&(e(!g,"cannot be paused while waiting for headers"),f.destroy(b,new l)):c===aj?g||f.destroy(b,new q):c===ak&&(e(0===d[y]&&d[L]),f.destroy(b,new p("socket idle timeout")))}async function an(a,b){if(a[K]=b,!ab){let a=()=>{};b.on("error",a),ab=await ac,ac=null,b.off("error",a)}if(b.errored)throw b.errored;if(b.destroyed)throw new o("destroyed");return b[D]=!1,b[B]=!1,b[u]=!1,b[x]=!1,b[w]=new al(a,b,ab),f.addListener(b,"error",ao),f.addListener(b,"readable",ap),f.addListener(b,"end",aq),f.addListener(b,"close",ar),b[Y]=!1,b.on("close",as),{version:"h1",defaultPipelining:1,write:b=>av(a,b),resume(){at(a)},destroy(a,c){b[Y]?queueMicrotask(c):(b.on("close",c),b.destroy(a))},get destroyed(){return b.destroyed},busy:c=>!!(b[B]||b[u]||b[x]||c&&(a[y]>0&&!c.idempotent||a[y]>0&&(c.upgrade||"CONNECT"===c.method)||a[y]>0&&0!==f.bodyLength(c.body)&&(f.isStream(c.body)||f.isAsyncIterable(c.body)||f.isFormDataLike(c.body))))||!1}}function ao(a){e("ERR_TLS_CERT_ALTNAME_INVALID"!==a.code);let b=this[w];if("ECONNRESET"===a.code&&b.statusCode&&!b.shouldKeepAlive)return void b.onMessageComplete();this[I]=a,this[v][V](a)}function ap(){this[w]?.readMore()}function aq(){let a=this[w];if(a.statusCode&&!a.shouldKeepAlive)return void a.onMessageComplete();f.destroy(this,new o("other side closed",f.getSocketInfo(this)))}function ar(){let a=this[w];a&&(this[I]||!a.statusCode||a.shouldKeepAlive||a.onMessageComplete(),this[w].destroy(),this[w]=null);let b=this[I]||new o("closed",f.getSocketInfo(this)),c=this[v];if(c[K]=null,c[X]=null,c.destroyed){e(0===c[z]);let a=c[C].splice(c[H]);for(let d=0;d<a.length;d++){let e=a[d];f.errorRequest(c,e,b)}}else if(c[y]>0&&"UND_ERR_INFO"!==b.code){let a=c[C][c[H]];c[C][c[H]++]=null,f.errorRequest(c,a,b)}c[G]=c[H],e(0===c[y]),c.emit("disconnect",c[t],[c],b),c[W]()}function as(){this[Y]=!0}function at(a){let b=a[K];if(b&&!b.destroyed){if(0===a[A]?!b[D]&&b.unref&&(b.unref(),b[D]=!0):b[D]&&b.ref&&(b.ref(),b[D]=!1),0===a[A])b[w].timeoutType!==ak&&b[w].setTimeout(a[L],ak);else if(a[y]>0&&b[w].statusCode<200&&b[w].timeoutType!==ai){let c=a[C][a[H]],d=null!=c.headersTimeout?c.headersTimeout:a[P];b[w].setTimeout(d,ai)}}}function au(a){return"GET"!==a&&"HEAD"!==a&&"OPTIONS"!==a&&"TRACE"!==a&&"CONNECT"!==a}function av(a,b){let{method:h,path:j,host:l,upgrade:m,blocking:o,reset:q}=b,{body:r,headers:s,contentLength:t}=b,v="PUT"===h||"POST"===h||"PATCH"===h||"QUERY"===h||"PROPFIND"===h||"PROPPATCH"===h;if(f.isFormDataLike(r)){d||(d=c(33518).extractBody);let[a,e]=d(r);null==b.contentType&&s.push("content-type",e),r=a.stream,t=a.length}else f.isBlobLike(r)&&null==b.contentType&&r.type&&s.push("content-type",r.type);r&&"function"==typeof r.read&&r.read(0);let w=f.bodyLength(r);if(null===(t=w??t)&&(t=b.contentLength),0!==t||v||(t=null),au(h)&&t>0&&null!==b.contentLength&&b.contentLength!==t){if(a[R])return f.errorRequest(a,b,new i),!1;process.emitWarning(new i)}let y=a[K],z=c=>{b.aborted||b.completed||(f.errorRequest(a,b,c||new k),f.destroy(r),f.destroy(y,new p("aborted")))};try{b.onConnect(z)}catch(c){f.errorRequest(a,b,c)}if(b.aborted)return!1;"HEAD"===h&&(y[u]=!0),(m||"CONNECT"===h)&&(y[u]=!0),null!=q&&(y[u]=q),a[S]&&y[T]++>=a[S]&&(y[u]=!0),o&&(y[x]=!0);let A=`${h} ${j} HTTP/1.1\r
`;if("string"==typeof l?A+=`host: ${l}\r
`:A+=a[F],m?A+=`connection: upgrade\r
upgrade: ${m}\r
`:a[J]&&!y[u]?A+="connection: keep-alive\r\n":A+="connection: close\r\n",Array.isArray(s))for(let a=0;a<s.length;a+=2){let b=s[a+0],c=s[a+1];if(Array.isArray(c))for(let a=0;a<c.length;a++)A+=`${b}: ${c[a]}\r
`;else A+=`${b}: ${c}\r
`}return g.sendHeaders.hasSubscribers&&g.sendHeaders.publish({request:b,headers:A,socket:y}),r&&0!==w?f.isBuffer(r)?ax(z,r,a,b,y,t,A,v):f.isBlobLike(r)?"function"==typeof r.stream?az(z,r.stream(),a,b,y,t,A,v):ay(z,r,a,b,y,t,A,v):f.isStream(r)?aw(z,r,a,b,y,t,A,v):f.isIterable(r)?az(z,r,a,b,y,t,A,v):e(!1):ax(z,null,a,b,y,t,A,v),!0}function aw(a,b,c,d,g,h,i,j){e(0!==h||0===c[y],"stream body cannot be pipelined");let l=!1,m=new aA({abort:a,socket:g,request:d,contentLength:h,client:c,expectsPayload:j,header:i}),o=function(a){if(!l)try{!m.write(a)&&this.pause&&this.pause()}catch(a){f.destroy(this,a)}},p=function(){!l&&b.resume&&b.resume()},q=function(){if(queueMicrotask(()=>{b.removeListener("error",r)}),!l){let a=new k;queueMicrotask(()=>r(a))}},r=function(a){if(!l){if(l=!0,e(g.destroyed||g[B]&&c[y]<=1),g.off("drain",p).off("error",r),b.removeListener("data",o).removeListener("end",r).removeListener("close",q),!a)try{m.end()}catch(b){a=b}m.destroy(a),a&&("UND_ERR_INFO"!==a.code||"reset"!==a.message)?f.destroy(b,a):f.destroy(b)}};b.on("data",o).on("end",r).on("error",r).on("close",q),b.resume&&b.resume(),g.on("drain",p).on("error",r),b.errorEmitted??b.errored?setImmediate(()=>r(b.errored)):(b.endEmitted??b.readableEnded)&&setImmediate(()=>r(null)),(b.closeEmitted??b.closed)&&setImmediate(q)}function ax(a,b,c,d,g,h,i,j){try{b?f.isBuffer(b)&&(e(h===b.byteLength,"buffer body must have content length"),g.cork(),g.write(`${i}content-length: ${h}\r
\r
`,"latin1"),g.write(b),g.uncork(),d.onBodySent(b),j||!1===d.reset||(g[u]=!0)):0===h?g.write(`${i}content-length: 0\r
\r
`,"latin1"):(e(null===h,"no body must not have content length"),g.write(`${i}\r
`,"latin1")),d.onRequestSent(),c[W]()}catch(b){a(b)}}async function ay(a,b,c,d,f,g,h,j){e(g===b.size,"blob body must have content length");try{if(null!=g&&g!==b.size)throw new i;let a=Buffer.from(await b.arrayBuffer());f.cork(),f.write(`${h}content-length: ${g}\r
\r
`,"latin1"),f.write(a),f.uncork(),d.onBodySent(a),d.onRequestSent(),j||!1===d.reset||(f[u]=!0),c[W]()}catch(b){a(b)}}async function az(a,b,c,d,f,g,h,i){e(0!==g||0===c[y],"iterator body cannot be pipelined");let j=null;function k(){if(j){let a=j;j=null,a()}}let l=()=>new Promise((a,b)=>{e(null===j),f[I]?b(f[I]):j=a});f.on("close",k).on("drain",k);let m=new aA({abort:a,socket:f,request:d,contentLength:g,client:c,expectsPayload:i,header:h});try{for await(let a of b){if(f[I])throw f[I];m.write(a)||await l()}m.end()}catch(a){m.destroy(a)}finally{f.off("close",k).off("drain",k)}}class aA{constructor({abort:a,socket:b,request:c,contentLength:d,client:e,expectsPayload:f,header:g}){this.socket=b,this.request=c,this.contentLength=d,this.client=e,this.bytesWritten=0,this.expectsPayload=f,this.header=g,this.abort=a,b[B]=!0}write(a){let{socket:b,request:c,contentLength:d,client:e,bytesWritten:f,expectsPayload:g,header:h}=this;if(b[I])throw b[I];if(b.destroyed)return!1;let j=Buffer.byteLength(a);if(!j)return!0;if(null!==d&&f+j>d){if(e[R])throw new i;process.emitWarning(new i)}b.cork(),0===f&&(g||!1===c.reset||(b[u]=!0),null===d?b.write(`${h}transfer-encoding: chunked\r
`,"latin1"):b.write(`${h}content-length: ${d}\r
\r
`,"latin1")),null===d&&b.write(`\r
${j.toString(16)}\r
`,"latin1"),this.bytesWritten+=j;let k=b.write(a);return b.uncork(),c.onBodySent(a),!k&&b[w].timeout&&b[w].timeoutType===ai&&b[w].timeout.refresh&&b[w].timeout.refresh(),k}end(){let{socket:a,contentLength:b,client:c,bytesWritten:d,expectsPayload:e,header:f,request:g}=this;if(g.onRequestSent(),a[B]=!1,a[I])throw a[I];if(!a.destroyed){if(0===d?e?a.write(`${f}content-length: 0\r
\r
`,"latin1"):a.write(`${f}\r
`,"latin1"):null===b&&a.write("\r\n0\r\n\r\n","latin1"),null!==b&&d!==b)if(c[R])throw new i;else process.emitWarning(new i);a[w].timeout&&a[w].timeoutType===ai&&a[w].timeout.refresh&&a[w].timeout.refresh(),c[W]()}}destroy(a){let{socket:b,client:c,abort:d}=this;b[B]=!1,a&&(e(c[y]<=1,"pipeline should only contain this request"),d(a))}}a.exports=an},99741:(a,b,c)=>{"use strict";c.d(b,{k:()=>f});var d=c(27910);class e extends d.Writable{bufferedBytes=[];_write(a,b,c){this.bufferedBytes.push(a),c()}}let f=a=>g(a)?h(a):new Promise((b,c)=>{let d=new e;a.pipe(d),a.on("error",a=>{d.end(),c(a)}),d.on("error",c),d.on("finish",function(){b(new Uint8Array(Buffer.concat(this.bufferedBytes)))})}),g=a=>"function"==typeof ReadableStream&&a instanceof ReadableStream;async function h(a){let b=[],c=a.getReader(),d=!1,e=0;for(;!d;){let{done:a,value:f}=await c.read();f&&(b.push(f),e+=f.length),d=a}let f=new Uint8Array(e),g=0;for(let a of b)f.set(a,g),g+=a.length;return f}},99899:(a,b,c)=>{"use strict";c.d(b,{O:()=>h});var d=c(53294),e=c(66089),f=c(84708);let g=["create","read","update","delete"];async function h(a){let{id:b,collection:{config:c},data:h,req:i}=a,j=[...g];c.auth&&void 0!==c.auth.maxLoginAttempts&&0!==c.auth.maxLoginAttempts&&j.push("unlock"),c.versions&&j.push("readVersions");try{let a=await (0,d.a)({id:b,blockReferencesPermissions:{},data:h,entity:c,entityType:"collection",fetchData:!!b,operations:j,req:i}),e=(0,f.yD)({collections:{[c.slug]:a}});return e?.collections?.[c.slug]??{fields:{}}}catch(a){throw await (0,e.J)(i),a}}}};