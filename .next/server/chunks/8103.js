"use strict";exports.id=8103,exports.ids=[8103],exports.modules={68103:(a,b,c)=>{c.r(b),c.d(b,{RelationshipComponent:()=>q});var d=c(69028),e=c(7552),f=c(9975),g=c(96447),h=c(21179),i=c(62345),j=c(2478),k=c(64498),l=c(82239),m=c(2840),n=c(92936),o=c(11106),p={depth:0},q=a=>{let{className:b,data:{relationTo:c,value:q},nodeKey:r}=a;if("object"==typeof q)throw Error("Relationship value should be a string or number. The Lexical Relationship component should not receive the populated value object.");let s=(0,o.useRef)(null),[t]=(0,g.DF)(),u=(0,h.a)(),{config:{routes:{api:v},serverURL:w},getEntityConfig:x}=(0,j.c)(),[y]=(0,o.useState)(()=>x({collectionSlug:c})),{i18n:z,t:A}=(0,k.d)(),[B,C]=(0,o.useReducer)(a=>a+1,0),[{data:D},{setParams:E}]=(0,l.usePayloadAPI)((0,n.Q)({apiRoute:v,path:`/${y.slug}/${q}`,serverURL:w}),{initialParams:p}),{closeDocumentDrawer:F,DocumentDrawer:G,DocumentDrawerToggler:H}=(0,e.a)({id:q,collectionSlug:y.slug}),I=(0,o.useCallback)(()=>{t.update(()=>{(0,m.nsf)(r)?.remove()})},[t,r]),J=o.useCallback(()=>{E({...p,cacheBust:B}),F(),C()},[B,E,F]);return(0,f.jsxs)("div",{className:`${b}__contents`,contentEditable:!1,ref:s,children:[(0,f.jsxs)("div",{className:`${b}__wrap`,children:[(0,f.jsx)("p",{className:`${b}__label`,children:A("fields:labelRelationship",{label:y.labels?.singular?(0,i.s)(y.labels?.singular,z):y.slug})}),(0,f.jsx)(H,{className:`${b}__doc-drawer-toggler`,children:(0,f.jsx)("p",{className:`${b}__title`,children:D?D[y?.admin?.useAsTitle||"id"]:q})})]}),u&&(0,f.jsxs)("div",{className:`${b}__actions`,children:[(0,f.jsx)(l.Button,{buttonStyle:"icon-label",className:`${b}__swapButton`,disabled:!u,el:"button",icon:"swap",onClick:()=>{r&&t.dispatchCommand(d.a,{replace:{nodeKey:r}})},round:!0,tooltip:A("fields:swapRelationship")}),(0,f.jsx)(l.Button,{buttonStyle:"icon-label",className:`${b}__removeButton`,disabled:!u,icon:"x",onClick:a=>{a.preventDefault(),I()},round:!0,tooltip:A("fields:removeRelationship")})]}),!!q&&(0,f.jsx)(G,{onSave:J})]})}}};