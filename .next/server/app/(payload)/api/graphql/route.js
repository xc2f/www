(()=>{var a={};a.id=3271,a.ids=[3271],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},643:a=>{"use strict";a.exports=require("node:perf_hooks")},1708:a=>{"use strict";a.exports=require("node:process")},4573:a=>{"use strict";a.exports=require("node:buffer")},4984:a=>{"use strict";a.exports=require("readline")},8086:a=>{"use strict";a.exports=require("module")},9288:a=>{"use strict";a.exports=require("sharp")},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:a=>{"use strict";a.exports=require("assert")},14985:a=>{"use strict";a.exports=require("dns")},16698:a=>{"use strict";a.exports=require("node:async_hooks")},19771:a=>{"use strict";a.exports=require("process")},21820:a=>{"use strict";a.exports=require("os")},27910:a=>{"use strict";a.exports=require("stream")},28354:a=>{"use strict";a.exports=require("util")},29021:a=>{"use strict";a.exports=require("fs")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32467:a=>{"use strict";a.exports=require("node:http2")},33873:a=>{"use strict";a.exports=require("path")},34589:a=>{"use strict";a.exports=require("node:assert")},34631:a=>{"use strict";a.exports=require("tls")},37067:a=>{"use strict";a.exports=require("node:http")},37540:a=>{"use strict";a.exports=require("node:console")},37830:a=>{"use strict";a.exports=require("node:stream/web")},38522:a=>{"use strict";a.exports=require("node:zlib")},40610:a=>{"use strict";a.exports=require("node:dns")},41204:a=>{"use strict";a.exports=require("string_decoder")},41692:a=>{"use strict";a.exports=require("node:tls")},41792:a=>{"use strict";a.exports=require("node:querystring")},44870:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},48161:a=>{"use strict";a.exports=require("node:os")},48855:()=>{},51455:a=>{"use strict";a.exports=require("node:fs/promises")},53053:a=>{"use strict";a.exports=require("node:diagnostics_channel")},55511:a=>{"use strict";a.exports=require("crypto")},55591:a=>{"use strict";a.exports=require("https")},57075:a=>{"use strict";a.exports=require("node:stream")},57975:a=>{"use strict";a.exports=require("node:util")},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65086:(a,b,c)=>{"use strict";c.r(b),c.d(b,{handler:()=>by,patchFetch:()=>bx,routeModule:()=>bt,serverHooks:()=>bw,workAsyncStorage:()=>bu,workUnitAsyncStorage:()=>bv});var d={};c.r(d),c.d(d,{OPTIONS:()=>bs,POST:()=>br});var e=c(8119),f=c(97936),g=c(54063),h=c(90615),i=c(71345),j=c(261),k=c(59795),l=c(4701),m=c(13295),n=c(67116),o=c(64826),p=c(56368),q=c(96626),r=c(30007),s=c(86439),t=c(93293),u=c(86508);let v=require("graphql");var w=c.t(v,2);let x=require("graphql/execution/values.js");class y{complexity;context;estimators;includeDirectiveDef;OperationDefinition;options;requestContext;skipDirectiveDef;variableValues;constructor(a,b){if(!("number"==typeof b.maximumComplexity&&b.maximumComplexity>0))throw Error("Maximum query complexity must be a positive number");this.context=a,this.complexity=0,this.options=b,this.includeDirectiveDef=this.context.getSchema().getDirective("include"),this.skipDirectiveDef=this.context.getSchema().getDirective("skip"),this.estimators=b.estimators,this.variableValues={},this.requestContext=b.context,this.OperationDefinition={enter:this.onOperationDefinitionEnter,leave:this.onOperationDefinitionLeave}}createError(){var a,b;return"function"==typeof this.options.createError?this.options.createError(this.options.maximumComplexity,this.complexity):new v.GraphQLError((a=this.options.maximumComplexity,b=this.complexity,`The query exceeds the maximum complexity of ${a}. Actual complexity is ${b}`))}nodeComplexity(a,b){if(a.selectionSet){let c,d={};(b instanceof v.GraphQLObjectType||b instanceof v.GraphQLInterfaceType)&&(d=b.getFields()),c=(0,v.isAbstractType)(b)?this.context.getSchema().getPossibleTypes(b).map(a=>a.name):[b.name];let e=a.selectionSet.selections.reduce((a,e)=>{let f=a,g=!0,h=!1;for(let a of e.directives??[])switch(a.name.value){case"include":{let a=(0,x.getDirectiveValues)(this.includeDirectiveDef,e,this.variableValues||{});"boolean"==typeof a.if&&(g=a.if);break}case"skip":{let a=(0,x.getDirectiveValues)(this.skipDirectiveDef,e,this.variableValues||{});"boolean"==typeof a.if&&(h=a.if)}}if(!g||h)return a;switch(e.kind){case v.Kind.FIELD:{let g,h=d[e.name.value];if(!h)break;let i=(0,v.getNamedType)(h.type);try{g=(0,x.getArgumentValues)(h,e,this.variableValues||{})}catch(b){return this.context.reportError(b),a}let j=0;(0,v.isCompositeType)(i)&&(j=this.nodeComplexity(e,i));let k={type:b,args:g,childComplexity:j,context:this.requestContext,field:h,node:e};if(!this.estimators.find(b=>{let d=b(k);return!("number"!=typeof d||isNaN(d))&&(f=z(d,a,c),!0)}))return this.context.reportError(new v.GraphQLError(`No complexity could be calculated for field ${b.name}.${h.name}. At least one complexity estimator has to return a complexity score.`)),a;break}case v.Kind.FRAGMENT_SPREAD:{let b=this.context.getFragment(e.name.value);if(!b)break;let c=this.context.getSchema().getType(b.typeCondition.name.value);if(!(0,v.isCompositeType)(c))break;let d=this.nodeComplexity(b,c);f=(0,v.isAbstractType)(c)?z(d,a,this.context.getSchema().getPossibleTypes(c).map(a=>a.name)):z(d,a,[c.name]);break}case v.Kind.INLINE_FRAGMENT:{let c=b;if(e.typeCondition&&e.typeCondition.name&&(c=this.context.getSchema().getType(e.typeCondition.name.value),!(0,v.isCompositeType)(c)))break;let d=this.nodeComplexity(e,c);f=(0,v.isAbstractType)(c)?z(d,a,this.context.getSchema().getPossibleTypes(c).map(a=>a.name)):z(d,a,[c.name]);break}default:f=z(this.nodeComplexity(e,b),a,c)}return f},{});return e?Math.max(...Object.values(e),0):NaN}return 0}onOperationDefinitionEnter(a){if("string"==typeof this.options.operationName&&this.options.operationName!==a.name.value)return;let{coerced:b,errors:c}=(0,x.getVariableValues)(this.context.getSchema(),a.variableDefinitions?[...a.variableDefinitions]:[],this.options.variables??{});if(c&&c.length)return void c.forEach(a=>this.context.reportError(a));switch(this.variableValues=b,a.operation){case"mutation":this.complexity+=this.nodeComplexity(a,this.context.getSchema().getMutationType());break;case"query":this.complexity+=this.nodeComplexity(a,this.context.getSchema().getQueryType());break;case"subscription":this.complexity+=this.nodeComplexity(a,this.context.getSchema().getSubscriptionType());break;default:throw Error(`Query complexity could not be calculated for operation of type ${a.operation}`)}}onOperationDefinitionLeave(a){if(("string"!=typeof this.options.operationName||this.options.operationName===a.name.value)&&(this.options.onComplete&&this.options.onComplete(this.complexity),this.complexity>this.options.maximumComplexity))return this.context.reportError(this.createError())}}function z(a,b,c){for(let d of c)Object.prototype.hasOwnProperty.call(b,d)?b[d]+=a:b[d]=a;return b}var A=c(81126),B=c(10782);let C=["0","1","2","3","4","5","6","7","8","9"],D=a=>{let b=String(a),c=b.substring(0,1);return C.indexOf(c)>-1&&(b=`_${b}`),b.normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/\./g,"_").replace(/-|\//g,"_").replace(/\+/g,"_").replace(/,/g,"_").replace(/\(/g,"_").replace(/\)/g,"_").replace(/'/g,"_").replace(/ /g,"").replace(/\[|\]/g,"_")||"_"},E=(a,b)=>{let c={...a};return b.forEach(({slug:a})=>{let b={...c[a]||{}};delete c[a],c[D(a)]=b}),c};var F=c(8933);let G=require("graphql/language/index.js");function H(a){return a}function I(a){if("object"!=typeof a||null===a||Array.isArray(a))throw TypeError(`JSONObject cannot represent non-object value: ${a}`);return a}function J(a,b,c){let d=Object.create(null);return b.fields.forEach(b=>{d[b.name.value]=K(a,b.value,c)}),d}function K(a,b,c){switch(b.kind){case G.Kind.BOOLEAN:case G.Kind.STRING:return b.value;case G.Kind.FLOAT:case G.Kind.INT:return parseFloat(b.value);case G.Kind.LIST:return b.values.map(b=>K(a,b,c));case G.Kind.NULL:return null;case G.Kind.OBJECT:return J(a,b,c);case G.Kind.VARIABLE:return c?c[b.name.value]:void 0;default:throw TypeError(`${a} cannot represent value: ${(0,G.print)(b)}`)}}let L=new v.GraphQLScalarType({name:"JSON",description:"The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).",parseLiteral:(a,b)=>K("JSON",a,b),parseValue:H,serialize:H,specifiedByURL:"http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf"}),M=new v.GraphQLScalarType({name:"JSONObject",description:"The `JSONObject` scalar type represents JSON objects as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).",parseLiteral:(a,b)=>{if(a.kind!==G.Kind.OBJECT)throw TypeError(`JSONObject cannot represent non-object value: ${(0,G.print)(a)}`);return J("JSONObject",a,b)},parseValue:I,serialize:I,specifiedByURL:"http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf"}),N=(a,b)=>b.reduce((b,c)=>{if(!c.hidden&&"ui"!==c.type){if(c.name){let d=D(c.name),e=["create","read","update","delete"].reduce((b,c)=>{let e=c.charAt(0).toUpperCase()+c.slice(1);return{...b,[c]:{type:new v.GraphQLObjectType({name:`${a}_${d}_${e}`,fields:{permission:{type:new v.GraphQLNonNull(v.GraphQLBoolean)}}})}}},{});return c.fields&&(e.fields={type:new v.GraphQLObjectType({name:`${a}_${d}_Fields`,fields:N(`${a}_${d}`,c.fields)})}),{...b,[D(c.name)]:{type:new v.GraphQLObjectType({name:`${a}_${d}`,fields:e})}}}if(!c.name&&c.fields&&c.fields.length){let d=N(a,c.fields);return{...b,...d}}if("tabs"===c.type)return c.tabs.reduce((b,c)=>{if("name"in c){if(c.fields.length){let d=D(c.name);b[d]={type:new v.GraphQLObjectType({name:`${a}_${d}`,fields:N(`${a}_${d}`,c.fields)})}}return b}return{...b,...N(a,c.fields)}},{...b})}return b},{}),O=a=>{let{name:b,entityFields:c,operations:d,scope:e}=a,f=(0,F.x4)(`${b}-${e||""}-Fields`,!0),g={fields:{type:new v.GraphQLObjectType({name:f,fields:N(f,c)})}};return d.forEach(a=>{let c=(0,F.x4)(`${b}-${a}-${e||"Access"}`,!0);g[a]={type:new v.GraphQLObjectType({name:c,fields:{permission:{type:new v.GraphQLNonNull(v.GraphQLBoolean)},where:{type:M}}})}}),g};function P(a){let{type:b,entity:c,scope:d,typeSuffix:e}=a,{slug:f,fields:g,graphQL:h,versions:i}=c,j=[];if(!1===h)return null;if("collection"===b){j=["create","read","update","delete"],c.auth&&"object"==typeof c.auth&&void 0!==c.auth.maxLoginAttempts&&0!==c.auth.maxLoginAttempts&&j.push("unlock"),i&&j.push("readVersions");let a=D(`${f}${e||""}`);return new v.GraphQLObjectType({name:a,fields:O({name:f,entityFields:g,operations:j,scope:d})})}j=["read","update"],c.versions&&j.push("readVersions");let k=D(`${global?.graphQL?.name||f}${e||""}`);return new v.GraphQLObjectType({name:k,fields:O({name:c.graphQL&&c?.graphQL?.name||f,entityFields:c.fields,operations:j,scope:d})})}var Q=c(73077),R=c(35355),S=c(65540),T=c(48240),U=c(34952),V=c(42200),W=c(82509),X=c(75058),Y=c(41728),Z=c(24635),$=c(93514),_=c(62503),aa=c(68398),ab=c(72818),ac=c(30951),ad=c(31052),ae=c(48071),af=c(32952),ag=c(99899),ah=c(94190),ai=c(45912);function aj(a){return al(a).docs}function ak(a,b){if(b){let c=[],d=b=>{let e=b.key,f=a.schema.getType(b.typename);if(f){let a=f?.getFields()?.[e]?.extensions?.field;a?.type==="join"&&(b=b.prev,c.unshift("docs")),a?.type==="relationship"&&Array.isArray(a.relationTo)&&(b=b.prev,c.unshift("value")),a&&c.unshift(a.name)}b.prev&&d(b.prev)};d(a.path),c.forEach(a=>{b=b?.[a]})}return b}function al(a){let b=(0,v.getNamedType)(a.returnType),c=a.fieldNodes[0].selectionSet;if(b)return function a(b,c,d){let e=d.getFields?.(),f={};for(let g of c.selections)switch(g.kind){case v.Kind.FIELD:{let c=g.name.value,d=e?.[c],h=d?.extensions?.field,i=h?.name||c;if("__typename"===c||void 0==d)continue;if(g.selectionSet){let c=(0,v.getNamedType)(d.type);if((0,v.isObjectType)(c)||(0,v.isInterfaceType)(c)||(0,v.isUnionType)(c)){f[i]=a(b,g.selectionSet,c);continue}}f[i]=!0;break}case v.Kind.FRAGMENT_SPREAD:{let c=g.name.value,d=b.fragments[c],e=d&&b.schema.getType(d.typeCondition.name.value);e&&Object.assign(f,a(b,d.selectionSet,e));break}case v.Kind.INLINE_FRAGMENT:{let c=g.typeCondition?b.schema.getType(g.typeCondition.name.value):d;c&&Object.assign(f,a(b,g.selectionSet,c))}}return f}(a,c,b)}var am=c(87936),an=c(47566),ao=c(52765),ap=c(75041),aq=c(69138);let ar=(a,b)=>D(`${a?`${a}_`:""}${b}`),as=a=>"type"in a&&"group"===a.type?a.fields.some(a=>(0,S.Z7)(a)&&"required"in a&&a.required||as(a)):"fields"in a&&"name"in a&&a.fields.some(a=>as(a)),at=({type:a,field:b,forceNullable:c,parentIsLocalized:d})=>{let e=b.access&&b.access.read,f=b.admin&&b.admin.condition,g="createdAt"===b.name||"updatedAt"===b.name;return!c&&"required"in b&&b.required&&(!b.localized||d)&&!f&&!e&&!g?new v.GraphQLNonNull(a):a},au={number:v.GraphQLInt,text:v.GraphQLString},av=(a,b)=>{let c=(0,Q.L)(b.fields).find(a=>(0,S.Z7)(a)&&"id"===a.name);return c?au[c.type]:au[a]};function aw({name:a,config:b,fields:c,forceNullable:d=!1,graphqlResult:e,parentIsLocalized:f,parentName:g}){let h={array:(a,c)=>{let h=ar(g,(0,F.x4)(c.name,!0)),i=aw({name:h,config:b,fields:c.fields,graphqlResult:e,parentIsLocalized:f||c.localized,parentName:h});return i?(i=new v.GraphQLList(at({type:i,field:c,forceNullable:d,parentIsLocalized:f})),{...a,[D(c.name)]:{type:i}}):a},blocks:(a,b)=>({...a,[D(b.name)]:{type:L}}),checkbox:(a,b)=>({...a,[D(b.name)]:{type:v.GraphQLBoolean}}),code:(a,b)=>({...a,[D(b.name)]:{type:at({type:v.GraphQLString,field:b,forceNullable:d,parentIsLocalized:f})}}),collapsible:(a,b)=>b.fields.reduce((a,b)=>{let c=h[b.type];return c?c(a,b):a},a),date:(a,b)=>({...a,[D(b.name)]:{type:at({type:v.GraphQLString,field:b,forceNullable:d,parentIsLocalized:f})}}),email:(a,b)=>({...a,[D(b.name)]:{type:at({type:v.GraphQLString,field:b,forceNullable:d,parentIsLocalized:f})}}),group:(a,c)=>{if(!(0,S.Z7)(c))return c.fields.reduce((a,b)=>{let c=h[b.type];return c?c(a,b):a},a);{let d=as(c),h=ar(g,(0,F.x4)(c.name,!0)),i=aw({name:h,config:b,fields:c.fields,graphqlResult:e,parentIsLocalized:f||c.localized,parentName:h});return i?(d&&(i=new v.GraphQLNonNull(i)),{...a,[D(c.name)]:{type:i}}):a}},json:(a,b)=>({...a,[D(b.name)]:{type:at({type:L,field:b,forceNullable:d,parentIsLocalized:f})}}),number:(a,b)=>{let c="id"===b.name?v.GraphQLInt:v.GraphQLFloat;return{...a,[D(b.name)]:{type:at({type:!0===b.hasMany?new v.GraphQLList(c):c,field:b,forceNullable:d,parentIsLocalized:f})}}},point:(a,b)=>({...a,[D(b.name)]:{type:at({type:new v.GraphQLList(v.GraphQLFloat),field:b,forceNullable:d,parentIsLocalized:f})}}),radio:(a,b)=>({...a,[D(b.name)]:{type:at({type:v.GraphQLString,field:b,forceNullable:d,parentIsLocalized:f})}}),relationship:(a,c)=>{let d,{relationTo:f}=c;if(Array.isArray(f)){let a=`${ar(g,(0,F.x4)(c.name,!0))}RelationshipInput`;d=new v.GraphQLInputObjectType({name:a,fields:{relationTo:{type:new v.GraphQLEnumType({name:`${a}RelationTo`,values:f.reduce((a,b)=>({...a,[D(b)]:{value:b}}),{})})},value:{type:L}}})}else d=av(b.db.defaultIDType,e.collections[f].config);return{...a,[D(c.name)]:{type:c.hasMany?new v.GraphQLList(d):d}}},richText:(a,b)=>({...a,[D(b.name)]:{type:at({type:L,field:b,forceNullable:d,parentIsLocalized:f})}}),row:(a,b)=>b.fields.reduce((a,b)=>{let c=h[b.type];return c?c(a,b):a},a),select:(a,b)=>{let c=`${ar(g,b.name)}_MutationInput`,e=new v.GraphQLEnumType({name:c,values:b.options.reduce((a,b)=>(0,S.vs)(b)?{...a,[D(b.value)]:{value:b.value}}:{...a,[D(b)]:{value:b}},{})});return e=at({type:e=b.hasMany?new v.GraphQLList(e):e,field:b,forceNullable:d,parentIsLocalized:f}),{...a,[D(b.name)]:{type:e}}},tabs:(a,c)=>c.tabs.reduce((a,d)=>{if((0,S.pz)(d)){let h=ar(g,(0,F.x4)(d.name,!0)),i=as(c),j=aw({name:h,config:b,fields:d.fields,graphqlResult:e,parentIsLocalized:f||d.localized,parentName:h});return j?(i&&(j=new v.GraphQLNonNull(j)),{...a,[d.name]:{type:j}}):a}return{...a,...d.fields.reduce((a,b)=>{let c=h[b.type];return c?c(a,b):a},a)}},a),text:(a,b)=>({...a,[D(b.name)]:{type:at({type:!0===b.hasMany?new v.GraphQLList(v.GraphQLString):v.GraphQLString,field:b,forceNullable:d,parentIsLocalized:f})}}),textarea:(a,b)=>({...a,[D(b.name)]:{type:at({type:v.GraphQLString,field:b,forceNullable:d,parentIsLocalized:f})}}),upload:(a,c)=>{let d,{relationTo:f}=c;if(Array.isArray(f)){let a=`${ar(g,(0,F.x4)(c.name,!0))}RelationshipInput`;d=new v.GraphQLInputObjectType({name:a,fields:{relationTo:{type:new v.GraphQLEnumType({name:`${a}RelationTo`,values:f.reduce((a,b)=>({...a,[D(b)]:{value:b}}),{})})},value:{type:L}}})}else d=av(b.db.defaultIDType,e.collections[f].config);return{...a,[D(c.name)]:{type:c.hasMany?new v.GraphQLList(d):d}}}},i=D(a),j=c.reduce((a,b)=>{let c=h[b.type];return"function"!=typeof c||0===Object.keys(c(a,b)).length?a:{...a,...c(a,b)}},{});return 0===Object.keys(j).length?null:new v.GraphQLInputObjectType({name:`mutation${i}Input`,fields:j})}function ax(a,b){return v.versionInfo.major>=17?new v.GraphQLError(a,b):new v.GraphQLError(a,null==b?void 0:b.nodes,null==b?void 0:b.source,null==b?void 0:b.positions,null==b?void 0:b.path,null==b?void 0:b.originalError,null==b?void 0:b.extensions)}let ay=a=>new Date(a),az=a=>a%4==0&&a%100!=0||a%400==0,aA=a=>{if(a=null==a?void 0:a.toUpperCase(),!/^(\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60))(\.\d{1,})?(([Z])|([+|-]([01][0-9]|2[0-3]):[0-5][0-9]))$/.test(a))return!1;let b=Date.parse(a);if(b!=b)return!1;let c=a.indexOf("T"),d=a.substr(0,c),e=a.substr(c+1);return(a=>{if(!/^(\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01]))$/.test(a))return!1;let b=Number(a.substr(0,4)),c=Number(a.substr(5,2)),d=Number(a.substr(8,2));switch(c){case 2:if(az(b)&&d>29||!az(b)&&d>28)return!1;break;case 4:case 6:case 9:case 11:if(d>30)return!1}return!0})(d)&&(a=>(a=null==a?void 0:a.toUpperCase(),/^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])(\.\d{1,})?(([Z])|([+|-]([01][0-9]|2[0-3]):[0-5][0-9]))$/.test(a)))(e)},aB=a=>{let b=a.getTime();return b==b},aC=new v.GraphQLScalarType({name:"DateTime",description:"A date-time string at UTC, such as 2007-12-03T10:15:30Z, compliant with the `date-time` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.",serialize(a){if(a instanceof Date){if(aB(a))return a;throw ax("DateTime cannot represent an invalid Date instance")}if("string"==typeof a){if(aA(a))return ay(a);throw ax(`DateTime cannot represent an invalid date-time-string ${a}.`)}if("number"==typeof a)try{return new Date(a)}catch(b){throw ax("DateTime cannot represent an invalid Unix timestamp "+a)}throw ax("DateTime cannot be serialized from a non string, non numeric or non Date type "+JSON.stringify(a))},parseValue(a){if(a instanceof Date){if(aB(a))return a;throw ax("DateTime cannot represent an invalid Date instance")}if("string"==typeof a){if(aA(a))return ay(a);throw ax(`DateTime cannot represent an invalid date-time-string ${a}.`)}throw ax(`DateTime cannot represent non string or Date type ${JSON.stringify(a)}`)},parseLiteral(a){if(a.kind!==v.Kind.STRING)throw ax(`DateTime cannot represent non string or Date type ${"value"in a&&a.value}`,{nodes:a});let{value:b}=a;if(aA(b))return ay(b);throw ax(`DateTime cannot represent an invalid date-time-string ${String(b)}.`,{nodes:a})},extensions:{codegenScalarType:"Date | string",jsonSchema:{type:"string",format:"date-time"}}}),aD=(a,b)=>{if("string"!=typeof a)throw ax(`Value is not string: ${a}`,{nodes:b});if(!/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a))throw ax(`Value is not a valid email address: ${a}`,{nodes:b});return a},aE="https://html.spec.whatwg.org/multipage/input.html#valid-e-mail-address",aF=new v.GraphQLScalarType({name:"EmailAddress",description:"A field whose value conforms to the standard internet email address format as specified in HTML Spec: https://html.spec.whatwg.org/multipage/input.html#valid-e-mail-address.",serialize:aD,parseValue:aD,parseLiteral(a){if(a.kind!==v.Kind.STRING)throw ax(`Can only validate strings as email addresses but got a: ${a.kind}`,{nodes:a});return aD(a.value,a)},specifiedByURL:aE,specifiedByUrl:aE,extensions:{codegenScalarType:"string",jsonSchema:{type:"string",format:"email"}}});var aG=c(10631),aH=c(96493),aI=c(33576);let aJ=a=>a.options.reduce((a,b)=>"object"==typeof b?{...a,[D(b.value)]:{value:b.value}}:{...a,[D(b)]:{value:b}},{}),aK=({field:a,forceNullable:b,parentIsLocalized:c})=>{let d=a.access&&a.access.read,e=a.admin&&a.admin.condition;return!(b&&(0,S.Z7)(a)&&"required"in a&&a.required&&(!a.localized||c)&&!e&&!d)};function aL({field:a,...b}){return"name"in a&&D(a.name)!==a.name?{...b,extensions:{...b.extensions,field:a},resolve:b=>b[a.name]}:b}let aM={array:({config:a,field:b,forceNullable:c,graphqlResult:d,objectTypeConfig:e,parentIsLocalized:f,parentName:g})=>{let h=b?.interfaceName||ar(g,(0,F.x4)(b.name,!0));if(!d.types.arrayTypes[h]){let e=aN({name:h,config:a,fields:b.fields,forceNullable:aK({field:b,forceNullable:c,parentIsLocalized:f}),graphqlResult:d,parentIsLocalized:b.localized||f,parentName:h});Object.keys(e.getFields()).length&&(d.types.arrayTypes[h]=e)}if(!d.types.arrayTypes[h])return e;let i=new v.GraphQLList(new v.GraphQLNonNull(d.types.arrayTypes[h]));return{...e,[D(b.name)]:aL({type:at({type:i,field:b,parentIsLocalized:f}),field:b})}},blocks:({config:a,field:b,forceNullable:c,graphqlResult:d,objectTypeConfig:e,parentIsLocalized:f,parentName:g})=>{let h=(b.blockReferences??b.blocks).reduce((b,e)=>{let g="string"==typeof e?e:e.slug;if(!d.types.blockTypes[g]){let b="string"==typeof e?a.blocks.find(a=>a.slug===e):e,g=b?.interfaceName||b?.graphQL?.singularName||(0,F.x4)(b.slug,!0),h=aN({name:g,config:a,fields:[...b.fields,{name:"blockType",type:"text"}],forceNullable:c,graphqlResult:d,parentIsLocalized:f,parentName:g});Object.keys(h.getFields()).length&&(d.types.blockTypes[b.slug]=h)}return d.types.blockTypes[g]&&b.push(d.types.blockTypes[g]),b},[]);if(0===h.length)return e;let i=ar(g,(0,F.x4)(b.name,!0)),j=new v.GraphQLList(new v.GraphQLNonNull(new v.GraphQLUnionType({name:i,resolveType:a=>d.types.blockTypes[a.blockType].name,types:h})));return{...e,[D(b.name)]:aL({type:at({type:j,field:b,parentIsLocalized:f}),field:b})}},checkbox:({field:a,forceNullable:b,objectTypeConfig:c,parentIsLocalized:d})=>({...c,[D(a.name)]:aL({type:at({type:v.GraphQLBoolean,field:a,forceNullable:b,parentIsLocalized:d}),field:a})}),code:({field:a,forceNullable:b,objectTypeConfig:c,parentIsLocalized:d})=>({...c,[D(a.name)]:aL({type:at({type:v.GraphQLString,field:a,forceNullable:b,parentIsLocalized:d}),field:a})}),collapsible:({collectionSlug:a,config:b,field:c,forceNullable:d,graphqlResult:e,newlyCreatedBlockType:f,objectTypeConfig:g,parentIsLocalized:h,parentName:i})=>c.fields.reduce((c,g)=>{let j=aM[g.type];return j?j({collectionSlug:a,config:b,field:g,forceNullable:d,graphqlResult:e,newlyCreatedBlockType:f,objectTypeConfig:c,parentIsLocalized:h,parentName:i}):c},g),date:({field:a,forceNullable:b,objectTypeConfig:c,parentIsLocalized:d})=>({...c,[D(a.name)]:aL({type:at({type:aC,field:a,forceNullable:b,parentIsLocalized:d}),field:a})}),email:({field:a,forceNullable:b,objectTypeConfig:c,parentIsLocalized:d})=>({...c,[D(a.name)]:aL({type:at({type:aF,field:a,forceNullable:b,parentIsLocalized:d}),field:a})}),group:({collectionSlug:a,config:b,field:c,forceNullable:d,graphqlResult:e,newlyCreatedBlockType:f,objectTypeConfig:g,parentIsLocalized:h,parentName:i})=>{if(!(0,S.Z7)(c))return c.fields.reduce((c,g)=>{let j=aM[g.type];return j?j({collectionSlug:a,config:b,field:g,forceNullable:d,graphqlResult:e,newlyCreatedBlockType:f,objectTypeConfig:c,parentIsLocalized:h,parentName:i}):c},g);{let a=c?.interfaceName||ar(i,(0,F.x4)(c.name,!0));if(!e.types.groupTypes[a]){let f=aN({name:a,config:b,fields:c.fields,forceNullable:aK({field:c,forceNullable:d,parentIsLocalized:h}),graphqlResult:e,parentIsLocalized:c.localized||h,parentName:a});Object.keys(f.getFields()).length&&(e.types.groupTypes[a]=f)}return e.types.groupTypes[a]?{...g,[D(c.name)]:{type:e.types.groupTypes[a],extensions:{field:c},resolve:(a,b,d)=>({...a[c.name],_id:a._id??a.id})}}:g}},join:({collectionSlug:a,field:b,graphqlResult:c,objectTypeConfig:d,parentName:e})=>{let f=ar(e,(0,F.x4)(b.name,!0)),g={type:new v.GraphQLObjectType({name:f,fields:{docs:{type:new v.GraphQLNonNull(Array.isArray(b.collection)?L:new v.GraphQLList(new v.GraphQLNonNull(c.collections[b.collection].graphQL.type)))},hasNextPage:{type:new v.GraphQLNonNull(v.GraphQLBoolean)},totalDocs:{type:v.GraphQLInt}}}),args:{count:{type:v.GraphQLBoolean},limit:{type:v.GraphQLInt},page:{type:v.GraphQLInt},sort:{type:v.GraphQLString},where:{type:Array.isArray(b.collection)?L:c.collections[b.collection].graphQL.whereInputType}},extensions:{complexity:"number"==typeof b?.graphQL?.complexity?b.graphQL.complexity:10,field:b},async resolve(c,d,e,f){let{collection:g}=b,{count:h=!1,limit:i,page:j,sort:k,where:l}=d,{req:m}=e,n=!!(d.draft??e.req.query?.draft),o=ak(f,e.select),p=b.targetField,q=(0,aG.m)(l,Array.isArray(p.relationTo)?{[b.on]:{equals:{relationTo:a,value:c._id??c.id}}}:{[b.on]:{equals:c._id??c.id}});if(Array.isArray(g))throw Error("GraphQL with array of join.field.collection is not implemented");let{docs:r,totalDocs:s}=await m.payload.find({collection:g,depth:0,draft:n,fallbackLocale:m.fallbackLocale,limit:"number"==typeof i&&i>0?i+1:0,locale:m.locale,overrideAccess:!1,page:j,pagination:!!h,req:m,select:o,sort:k,where:q}),t=!1;return"number"==typeof i&&0!==i&&i<r.length&&(t=!0),{docs:t?r.slice(0,-1):r,hasNextPage:0!==i&&i<r.length,...h?{totalDocs:s}:{}}}};return{...d,[D(b.name)]:g}},json:({field:a,forceNullable:b,objectTypeConfig:c,parentIsLocalized:d})=>({...c,[D(a.name)]:aL({type:at({type:L,field:a,forceNullable:b,parentIsLocalized:d}),field:a})}),number:({field:a,forceNullable:b,objectTypeConfig:c,parentIsLocalized:d})=>{let e=a?.name==="id"?v.GraphQLInt:v.GraphQLFloat;return{...c,[D(a.name)]:aL({type:at({type:a?.hasMany===!0?new v.GraphQLList(new v.GraphQLNonNull(e)):e,field:a,forceNullable:b,parentIsLocalized:d}),field:a})}},point:({field:a,forceNullable:b,objectTypeConfig:c,parentIsLocalized:d})=>({...c,[D(a.name)]:aL({type:at({type:new v.GraphQLList(new v.GraphQLNonNull(v.GraphQLFloat)),field:a,forceNullable:b,parentIsLocalized:d}),field:a})}),radio:({field:a,forceNullable:b,objectTypeConfig:c,parentIsLocalized:d,parentName:e})=>({...c,[D(a.name)]:aL({type:at({type:new v.GraphQLEnumType({name:ar(e,a.name),values:aJ(a)}),field:a,forceNullable:b,parentIsLocalized:d}),field:a})}),relationship:({config:a,field:b,forceNullable:c,graphqlResult:d,newlyCreatedBlockType:e,objectTypeConfig:f,parentIsLocalized:g,parentName:h})=>{let i,{relationTo:j}=b,k=Array.isArray(j),l=b.hasMany,m=ar(h,(0,F.x4)(b.name,!0)),n=null,o=a.collections.filter(a=>!1!==a.graphQL);if(Array.isArray(j)){n=new v.GraphQLEnumType({name:`${m}_RelationTo`,values:j.filter(a=>o.some(b=>b.slug===a)).reduce((a,b)=>({...a,[D(b)]:{value:b}}),{})});let a=j.filter(a=>o.some(b=>b.slug===a)).map(a=>d.collections[a]?.graphQL.type);i=new v.GraphQLObjectType({name:`${m}_Relationship`,fields:{relationTo:{type:n},value:{type:new v.GraphQLUnionType({name:m,resolveType:a=>d.collections[a.collection].graphQL.type.name,types:a})}}})}else({type:i}=d.collections[j].graphQL);i=i||e;let p={};(Array.isArray(j)?j:[j]).filter(a=>o.some(b=>b.slug===a)).some(a=>d.collections[a].config.versions?.drafts)&&(p.draft={type:v.GraphQLBoolean}),a.localization&&(p.locale={type:d.types.localeInputType},p.fallbackLocale={type:d.types.fallbackLocaleInputType});let q={type:at({type:l?new v.GraphQLList(new v.GraphQLNonNull(i)):i,field:b,forceNullable:c,parentIsLocalized:g}),args:p,extensions:{complexity:"number"==typeof b?.graphQL?.complexity?b.graphQL.complexity:10,field:b},async resolve(a,c,d,e){let f=a[b.name],g=c.locale||d.req.locale,h=c.fallbackLocale||d.req.fallbackLocale,i=b.relationTo,j=!!(c.draft??d.req.query?.draft),m=ak(e,d.select);if(l){let a=[],c=[],e=async(c,e)=>{let f=c,i=b.relationTo;if(k?o.some(a=>i.includes(a.slug)):o.some(a=>i===a.slug)){k&&(i=c.relationTo,f=c.value);let b=await d.req.payloadDataLoader.load((0,aH.h)({collectionSlug:i,currentDepth:0,depth:0,docID:f,draft:j,fallbackLocale:h,locale:g,overrideAccess:!1,select:m,showHiddenFields:!1,transactionID:d.req.transactionID}));b&&(k?a.push({relationTo:i,value:{...b,collection:i}}):a.push(b))}};return f&&f.forEach((a,b)=>{c.push(e(a,b))}),await Promise.all(c),a}let n=f;if(k&&f&&(n=f.value,i=f.relationTo),n&&o.some(a=>a.slug===i)){let a=await d.req.payloadDataLoader.load((0,aH.h)({collectionSlug:i,currentDepth:0,depth:0,docID:n,draft:j,fallbackLocale:h,locale:g,overrideAccess:!1,select:m,showHiddenFields:!1,transactionID:d.req.transactionID}));if(a)return k?{relationTo:i,value:{...a,collection:i}}:a}return null}};return{...f,[D(b.name)]:q}},richText:({config:a,field:b,forceNullable:c,objectTypeConfig:d,parentIsLocalized:e})=>({...d,[D(b.name)]:{type:at({type:L,field:b,forceNullable:c,parentIsLocalized:e}),args:{depth:{type:v.GraphQLInt}},extensions:{field:b},async resolve(c,d,f){let g=a.defaultDepth;if(void 0!==d.depth&&(g=d.depth),!b?.editor)throw new aI.X(b);if("function"==typeof b?.editor)throw Error("Attempted to access unsanitized rich text editor.");let h=b?.editor;if(h?.graphQLPopulationPromises){let a=[],i=[],j=b?.maxDepth!==void 0&&b?.maxDepth<g?b?.maxDepth:g;h?.graphQLPopulationPromises({context:f,depth:j,draft:d.draft,field:b,fieldPromises:a,findMany:!1,flattenLocales:!1,overrideAccess:!1,parentIsLocalized:e,populationPromises:i,req:f.req,showHiddenFields:!1,siblingDoc:c}),await Promise.all(a),await Promise.all(i)}return c[b.name]}}}),row:({field:a,objectTypeConfig:b,...c})=>a.fields.reduce((a,b)=>{let d=aM[b.type];return d?d({field:b,objectTypeConfig:a,...c}):a},b),select:({field:a,forceNullable:b,objectTypeConfig:c,parentIsLocalized:d,parentName:e})=>{let f=ar(e,a.name),g=new v.GraphQLEnumType({name:f,values:aJ(a)});return g=at({type:g=a.hasMany?new v.GraphQLList(new v.GraphQLNonNull(g)):g,field:a,forceNullable:b,parentIsLocalized:d}),{...c,[D(a.name)]:aL({type:g,field:a})}},tabs:({collectionSlug:a,config:b,field:c,forceNullable:d,graphqlResult:e,newlyCreatedBlockType:f,objectTypeConfig:g,parentIsLocalized:h,parentName:i})=>c.tabs.reduce((c,g)=>{if((0,S.pz)(g)){let f=g?.interfaceName||ar(i,(0,F.x4)(g.name,!0));if(!e.types.groupTypes[f]){let c=aN({name:f,collectionSlug:a,config:b,fields:g.fields,forceNullable:d,graphqlResult:e,parentIsLocalized:g.localized||h,parentName:f});Object.keys(c.getFields()).length&&(e.types.groupTypes[f]=c)}return e.types.groupTypes[f]?{...c,[g.name]:{type:e.types.groupTypes[f],resolve:(a,b,c)=>({...a[g.name],_id:a._id??a.id})}}:c}return{...c,...g.fields.reduce((c,g)=>{let j=aM[g.type];return j?j({collectionSlug:a,config:b,field:g,forceNullable:d,graphqlResult:e,newlyCreatedBlockType:f,objectTypeConfig:c,parentIsLocalized:h,parentName:i}):c},c)}},g),text:({field:a,forceNullable:b,objectTypeConfig:c,parentIsLocalized:d})=>({...c,[D(a.name)]:aL({type:at({type:!0===a.hasMany?new v.GraphQLList(new v.GraphQLNonNull(v.GraphQLString)):v.GraphQLString,field:a,forceNullable:b,parentIsLocalized:d}),field:a})}),textarea:({field:a,forceNullable:b,objectTypeConfig:c,parentIsLocalized:d})=>({...c,[D(a.name)]:aL({type:at({type:v.GraphQLString,field:a,forceNullable:b,parentIsLocalized:d}),field:a})}),upload:({config:a,field:b,forceNullable:c,graphqlResult:d,newlyCreatedBlockType:e,objectTypeConfig:f,parentIsLocalized:g,parentName:h})=>{let i,{relationTo:j}=b,k=Array.isArray(j),l=b.hasMany,m=ar(h,(0,F.x4)(b.name,!0)),n=null,o=a.collections.filter(a=>!1!==a.graphQL);if(Array.isArray(j)){n=new v.GraphQLEnumType({name:`${m}_RelationTo`,values:j.reduce((a,b)=>({...a,[D(b)]:{value:b}}),{})});let a=j.map(a=>d.collections[a].graphQL.type);i=new v.GraphQLObjectType({name:`${m}_Relationship`,fields:{relationTo:{type:n},value:{type:new v.GraphQLUnionType({name:m,resolveType:a=>d.collections[a.collection].graphQL.type.name,types:a})}}})}else({type:i}=d.collections[j].graphQL);i=i||e;let p={};(Array.isArray(j)?j:[j]).some(a=>d.collections[a].config.versions?.drafts)&&(p.draft={type:v.GraphQLBoolean}),a.localization&&(p.locale={type:d.types.localeInputType},p.fallbackLocale={type:d.types.fallbackLocaleInputType});let q={type:at({type:l?new v.GraphQLList(new v.GraphQLNonNull(i)):i,field:b,forceNullable:c,parentIsLocalized:g}),args:p,extensions:{complexity:"number"==typeof b?.graphQL?.complexity?b.graphQL.complexity:10,field:b},async resolve(a,c,d,e){let f=a[b.name],g=c.locale||d.req.locale,h=c.fallbackLocale||d.req.fallbackLocale,i=b.relationTo,j=!!(c.draft??d.req.query?.draft),m=ak(e,d.select);if(l){let a=[],c=[],e=async(c,e)=>{let f=c,i=b.relationTo;if(k?o.some(a=>i.includes(a.slug)):o.some(a=>i===a.slug)){k&&(i=c.relationTo,f=c.value);let b=await d.req.payloadDataLoader.load((0,aH.h)({collectionSlug:i,currentDepth:0,depth:0,docID:f,draft:j,fallbackLocale:h,locale:g,overrideAccess:!1,select:m,showHiddenFields:!1,transactionID:d.req.transactionID}));b&&(k?a.push({relationTo:i,value:{...b,collection:i}}):a.push(b))}};return f&&f.forEach((a,b)=>{c.push(e(a,b))}),await Promise.all(c),a}let n=f;if(k&&f&&(n=f.value,i=f.relationTo),n&&o.some(a=>a.slug===i)){let a=await d.req.payloadDataLoader.load((0,aH.h)({collectionSlug:i,currentDepth:0,depth:0,docID:n,draft:j,fallbackLocale:h,locale:g,overrideAccess:!1,select:m,showHiddenFields:!1,transactionID:d.req.transactionID}));if(a)return k?{relationTo:i,value:{...a,collection:i}}:a}return null}};return{...f,[D(b.name)]:q}}};function aN({name:a,baseFields:b={},collectionSlug:c,config:d,fields:e,forceNullable:f,graphqlResult:g,parentIsLocalized:h,parentName:i}){let j=new v.GraphQLObjectType({name:a,fields:()=>e.reduce((a,b)=>{let e=aM[b.type];return"function"!=typeof e?a:{...a,...e({collectionSlug:c,config:d,field:b,forceNullable:f,graphqlResult:g,newlyCreatedBlockType:j,objectTypeConfig:a,parentIsLocalized:h,parentName:i})}},b)});return j}let aO=(a,b)=>new v.GraphQLObjectType({name:a,fields:{docs:{type:new v.GraphQLNonNull(new v.GraphQLList(new v.GraphQLNonNull(b)))},hasNextPage:{type:new v.GraphQLNonNull(v.GraphQLBoolean)},hasPrevPage:{type:new v.GraphQLNonNull(v.GraphQLBoolean)},limit:{type:new v.GraphQLNonNull(v.GraphQLInt)},nextPage:{type:v.GraphQLInt},offset:{type:v.GraphQLInt},page:{type:new v.GraphQLNonNull(v.GraphQLInt)},pagingCounter:{type:new v.GraphQLNonNull(v.GraphQLInt)},prevPage:{type:v.GraphQLInt},totalDocs:{type:new v.GraphQLNonNull(v.GraphQLInt)},totalPages:{type:new v.GraphQLNonNull(v.GraphQLInt)}}}),aP=({field:a,nestedFieldName2:b,parentName:c})=>{let d=((0,S.Z7)(a)?a.name:void 0)||b;return"tabs"===a.type?a.tabs.reduce((a,b)=>(a.push(...aP({field:{...b,..."name"in b?{name:`${d?`${d}__`:""}${b.name}`,type:"group"}:{type:"row"}},nestedFieldName2:d,parentName:c})),a),[]):a.fields.reduce((a,b)=>{if(!(0,S.aO)(b)){if(!(0,S.Z7)(b))return[...a,...aP({field:b,nestedFieldName2:d,parentName:c})];let e=(0,S.Z7)(b)?`${d?`${d}__`:""}${b.name}`:void 0,f=aW({nestedFieldName:d,parentName:c})[b.type];if(f){let c=f({...b,name:e});return Array.isArray(c)?[...a,...c]:[...a,{type:c,key:e}]}}return a},[])},aQ={comparison:["greater_than_equal","greater_than","less_than_equal","less_than"],contains:["in","not_in","all"],equality:["equals","not_equals"],geo:["near"],geojson:["within","intersects"],partial:["like","contains"]},aR=new v.GraphQLInputObjectType({name:"GeoJSONObject",fields:{type:{type:v.GraphQLString},coordinates:{type:L}}}),aS={checkbox:{operators:[...aQ.equality.map(a=>({name:a,type:v.GraphQLBoolean}))]},code:{operators:[...[...aQ.equality,...aQ.partial].map(a=>({name:a,type:v.GraphQLString}))]},date:{operators:[...[...aQ.equality,...aQ.comparison,"like"].map(a=>({name:a,type:aC}))]},email:{operators:[...[...aQ.equality,...aQ.partial,...aQ.contains].map(a=>({name:a,type:aF}))]},json:{operators:[...[...aQ.equality,...aQ.partial,...aQ.geojson].map(a=>({name:a,type:L}))]},number:{operators:[...[...aQ.equality,...aQ.comparison].map(a=>({name:a,type:a=>a?.name==="id"?v.GraphQLInt:v.GraphQLFloat}))]},point:{operators:[...[...aQ.equality,...aQ.comparison,...aQ.geo].map(a=>({name:a,type:new v.GraphQLList(v.GraphQLFloat)})),...aQ.geojson.map(a=>({name:a,type:aR}))]},radio:{operators:[...[...aQ.equality,...aQ.partial].map(a=>({name:a,type:(a,b)=>new v.GraphQLEnumType({name:`${ar(b,a.name)}_Input`,values:a.options.reduce((a,b)=>(0,S.vs)(b)?{...a,[D(b.value)]:{value:b.value}}:{...a,[D(b)]:{value:b}},{})})}))]},relationship:{operators:[...[...aQ.equality,...aQ.contains].map(a=>({name:a,type:L}))]},richText:{operators:[...[...aQ.equality,...aQ.partial].map(a=>({name:a,type:L}))]},select:{operators:[...[...aQ.equality,...aQ.contains].map(a=>({name:a,type:(a,b)=>new v.GraphQLEnumType({name:`${ar(b,a.name)}_Input`,values:a.options.reduce((a,b)=>(0,S.vs)(b)?{...a,[D(b.value)]:{value:b.value}}:{...a,[D(b)]:{value:b}},{})})}))]},text:{operators:[...[...aQ.equality,...aQ.partial,...aQ.contains].map(a=>({name:a,type:v.GraphQLString}))]},textarea:{operators:[...[...aQ.equality,...aQ.partial].map(a=>({name:a,type:v.GraphQLString}))]},upload:{operators:[...[...aQ.equality,...aQ.contains].map(a=>({name:a,type:L}))]}},aT=["in","not_in","all"],aU={},aV=(a,b)=>{if(!aS?.[a.type])throw Error(`Error: ${a.type} has no defaults configured.`);let c=`${ar(b,a.name)}_operator`,d=[...aS[a.type].operators];return"required"in a&&a.required||d.push({name:"exists",type:d[0].type}),new v.GraphQLInputObjectType({name:c,fields:d.reduce((c,d)=>{let e="function"==typeof d.type?d.type(a,b):d.type;return"function"==typeof d.type&&"name"in e&&(aU[e.name]?e=aU[e.name]:aU[e.name]=e),aT.includes(d.name)?e=new v.GraphQLList(e):"exists"===d.name&&(e=v.GraphQLBoolean),{...c,[d.name]:{type:e}}},{})})},aW=({nestedFieldName:a,parentName:b})=>({array:c=>aP({field:c,nestedFieldName2:a,parentName:b}),checkbox:a=>({type:aV(a,b)}),code:a=>({type:aV(a,b)}),collapsible:c=>aP({field:c,nestedFieldName2:a,parentName:b}),date:a=>({type:aV(a,b)}),email:a=>({type:aV(a,b)}),group:c=>aP({field:c,nestedFieldName2:a,parentName:b}),json:a=>({type:aV(a,b)}),number:a=>({type:aV(a,b)}),point:a=>({type:aV(a,b)}),radio:a=>({type:aV(a,b)}),relationship:a=>Array.isArray(a.relationTo)?{type:new v.GraphQLInputObjectType({name:`${ar(b,a.name)}_Relation`,fields:{relationTo:{type:new v.GraphQLEnumType({name:`${ar(b,a.name)}_Relation_RelationTo`,values:a.relationTo.reduce((a,b)=>({...a,[D(b)]:{value:b}}),{})})},value:{type:L}}})}:{type:aV(a,b)},richText:a=>({type:aV(a,b)}),row:c=>aP({field:c,nestedFieldName2:a,parentName:b}),select:a=>({type:aV(a,b)}),tabs:c=>aP({field:c,nestedFieldName2:a,parentName:b}),text:a=>({type:aV(a,b)}),textarea:a=>({type:aV(a,b)}),upload:a=>Array.isArray(a.relationTo)?{type:new v.GraphQLInputObjectType({name:`${ar(b,a.name)}_Relation`,fields:{relationTo:{type:new v.GraphQLEnumType({name:`${ar(b,a.name)}_Relation_RelationTo`,values:a.relationTo.reduce((a,b)=>({...a,[D(b)]:{value:b}}),{})})},value:{type:L}}})}:{type:aV(a,b)}}),aX=({name:a,fields:b,parentName:c})=>{let d=(0,Q.L)(b).find(a=>(0,S.Z7)(a)&&"id"===a.name),e=b.reduce((a,b)=>{if(!(0,S.aO)(b)&&!b.hidden){let d=aW({parentName:c})[b.type];if(d){let c=d(b);return(0,S.sd)(b)||"tabs"===b.type?{...a,...c.reduce((a,b)=>({...a,[D(b.key)]:b.type}),{})}:{...a,[D(b.name)]:c}}}return a},{});d||(e.id={type:aV({name:"id",type:"text"},c)});let f=D(a),g={AND:{type:new v.GraphQLList(new v.GraphQLInputObjectType({name:`${f}_where_and`,fields:()=>({...e,...g})}))},OR:{type:new v.GraphQLList(new v.GraphQLInputObjectType({name:`${f}_where_or`,fields:()=>({...e,...g})}))}};return new v.GraphQLInputObjectType({name:`${f}_where`,fields:{...e,...g}})};var aY=c(58468),aZ=c(41144),a$=c(23042),a_=c(42740),a0=c(35305),a1=c(97833),a2=c(51960),a3=c(47892),a4=c(79234);let{singular:a5}=aY;function a6(a){for(let b in a)a[b].resolve&&(a[b].resolve=function(a){return(b,c,d,e)=>a(b,c,{...d,req:(0,A.i)(d.req,"transactionID")},e)}(a[b].resolve));return a}let a7=a=>({Field(b){("__schema"===b.name.value||"__type"===b.name.value)&&a.reportError(new v.GraphQLError("GraphQL introspection is not allowed, but the query contained __schema or __type",{nodes:[b]}))}});function a8(a){return"object"==typeof a&&null!==a}function a9(a){if(!Array.isArray(a)||"string"!=typeof a[0]&&null!==a[0]||!a8(a[1]))return!1;let b=a[1];return(!b.status||"number"==typeof b.status)&&(!b.statusText||"string"==typeof b.statusText)&&(!b.headers||!!a8(b.headers))}async function ba(a){var b,c;let d=a.method;if("GET"!==d&&"POST"!==d)return[null,{status:405,statusText:"Method Not Allowed",headers:{allow:"GET, POST"}}];let[e,f="charset=utf-8"]=(bc(a,"content-type")||"").replace(/\s/g,"").toLowerCase().split(";"),g={};switch(!0){case"GET"===d:try{let[,d]=a.url.split("?"),e=new URLSearchParams(d);g.operationName=null!=(b=e.get("operationName"))?b:void 0,g.query=null!=(c=e.get("query"))?c:void 0;let f=e.get("variables");f&&(g.variables=JSON.parse(f));let h=e.get("extensions");h&&(g.extensions=JSON.parse(h))}catch(a){throw Error("Unparsable URL")}break;case"POST"===d&&"application/json"===e&&"charset=utf-8"===f:{let b;if(!a.body)throw Error("Missing body");try{let c="function"==typeof a.body?await a.body():a.body;b="string"==typeof c?JSON.parse(c):c}catch(a){throw Error("Unparsable JSON body")}if(!a8(b))throw Error("JSON body must be an object");g.operationName=b.operationName,g.query=b.query,g.variables=b.variables,g.extensions=b.extensions;break}default:return[null,{status:415,statusText:"Unsupported Media Type"}]}if(null==g.query)throw Error("Missing query");if("string"!=typeof g.query)throw Error("Invalid query");if(null!=g.variables&&("object"!=typeof g.variables||Array.isArray(g.variables)))throw Error("Invalid variables");if(null!=g.operationName&&"string"!=typeof g.operationName)throw Error("Invalid operationName");if(null!=g.extensions&&("object"!=typeof g.extensions||Array.isArray(g.extensions)))throw Error("Invalid extensions");return g}function bb(a,b,c){if(a instanceof Error&&!be(a))return[JSON.stringify({errors:[c(a)]},bf),{status:400,statusText:"Bad Request",headers:{"content-type":"application/json; charset=utf-8"}}];let d=be(a)?[a]:bd(a)?a:null;return d?[JSON.stringify({errors:d.map(c)},bf),Object.assign(Object.assign({},"application/json"===b?{status:200,statusText:"OK"}:{status:400,statusText:"Bad Request"}),{headers:{"content-type":"application/json"===b?"application/json; charset=utf-8":"application/graphql-response+json; charset=utf-8"}})]:[JSON.stringify("errors"in a&&a.errors?Object.assign(Object.assign({},a),{errors:a.errors.map(c)}):a,bf),{status:200,statusText:"OK",headers:{"content-type":"application/json"===b?"application/json; charset=utf-8":"application/graphql-response+json; charset=utf-8"}}]}function bc(a,b){return"function"==typeof a.headers.get?a.headers.get(b):Object(a.headers)[b]}function bd(a){return Array.isArray(a)&&a.length>0&&a.some(be)}function be(a){return a instanceof v.GraphQLError}function bf(a,b){return b instanceof Error&&!be(b)?{message:b.message}:b}var bg=c(24401),bh=c(60133),bi=c(21590),bj=c(50510),bk=c(82397),bl=c(8906),bm=c(90519);let bn=async({err:a,payload:b,req:c})=>{let d=a.originalError.status||bg.h.INTERNAL_SERVER_ERROR,e=a.message;(0,bh.v)({err:a,payload:b}),b.config.debug||d!==bg.h.INTERNAL_SERVER_ERROR||(e="Something went wrong.");let f={extensions:{name:a?.originalError?.name||void 0,data:a&&a.originalError&&a.originalError.data||void 0,stack:b.config.debug?a.stack:void 0,statusCode:d},locations:a.locations,message:e,path:a.path};return await b.config.hooks.afterError?.reduce(async(b,d)=>{await b;let e=await d({context:c.context,error:a,graphqlResult:f,req:c});e&&(f=e.graphqlResult||f)},Promise.resolve()),f},bo=global._payload_graphql;bo||(bo=global._payload_graphql={graphql:null,promise:null});let bp=async a=>{if(bo.graphql)return bo.graphql;if(!bo.promise){let b=await a;bo.promise=new Promise(a=>{let c=function(a){let b={collections:a.collections.reduce((a,b)=>(a[b.slug]={config:b},a),{}),globals:{config:a.globals},Mutation:{name:"Mutation",fields:{}},Query:{name:"Query",fields:{}},types:{arrayTypes:{},blockInputTypes:{},blockTypes:{},groupTypes:{},tabTypes:{}}};if(a.localization){let c,d;b.types.localeInputType=(c=a.localization,new v.GraphQLEnumType({name:"LocaleInputType",values:c.localeCodes.reduce((a,b)=>({...a,[D(b)]:{value:b}}),{})})),b.types.fallbackLocaleInputType=(d=a.localization,new v.GraphQLEnumType({name:"FallbackLocaleInputType",values:[...d.localeCodes,"none"].reduce((a,b)=>({...a,[D(b)]:{value:b}}),{})}))}if(!function({config:a,graphqlResult:b}){Object.keys(b.collections).forEach(c=>{var d;let e,f,g=b.collections[c],{config:h,config:{fields:i,graphQL:j={},versions:k}}=g;if(!j)return;let l=(0,F.EI)(g.config.slug);(e=j.singularName?(0,F.x4)(j.singularName,!0):l.singular)===(f=j.pluralName?(0,F.x4)(j.pluralName,!0):l.plural)&&(f=`all${e}`),g.graphQL={};let m=(0,Q.L)(i).findIndex(a=>(0,S.Z7)(a)&&"id"===a.name)>-1,n=av(a.db.defaultIDType,h),o={},p=[...i];m||(o.id={type:new v.GraphQLNonNull(n)},p.push({name:"id",type:a.db.defaultIDType}));let q=!!k?.drafts;g.graphQL.type=aN({name:e,baseFields:o,collectionSlug:h.slug,config:a,fields:i,forceNullable:q,graphqlResult:b,parentName:e}),g.graphQL.paginatedType=aO(f,g.graphQL.type),g.graphQL.whereInputType=aX({name:e,fields:p,parentName:e});let r=[...i];h.auth&&(!h.auth.disableLocalStrategy||"object"==typeof h.auth.disableLocalStrategy&&h.auth.disableLocalStrategy.optionalPassword)&&r.push({name:"password",type:"text",label:"Password",required:!("object"==typeof h.auth.disableLocalStrategy&&h.auth.disableLocalStrategy.optionalPassword)});let s=r;a.db.allowIDOnCreate&&!h.flattenedFields.some(a=>"id"===a.name)&&(s=[...s,{name:"id",type:a.db.defaultIDType}]);let t=aw({name:e,config:a,fields:s,graphqlResult:b,parentIsLocalized:!1,parentName:e});t&&(g.graphQL.mutationInputType=new v.GraphQLNonNull(t));let u=aw({name:`${e}Update`,config:a,fields:r.filter(a=>!((0,S.Z7)(a)&&"id"===a.name)),forceNullable:!0,graphqlResult:b,parentIsLocalized:!1,parentName:`${e}Update`});u&&(g.graphQL.updateMutationInputType=new v.GraphQLNonNull(u));let w="object"!=typeof h.graphQL||!h.graphQL.disableQueries,x="object"!=typeof h.graphQL||!h.graphQL.disableMutations;if(w&&(b.Query.fields[e]={type:g.graphQL.type,args:{id:{type:new v.GraphQLNonNull(n)},draft:{type:v.GraphQLBoolean},...a.localization?{fallbackLocale:{type:b.types.fallbackLocaleInputType},locale:{type:b.types.localeInputType}}:{},select:{type:v.GraphQLBoolean},trash:{type:v.GraphQLBoolean}},resolve:async function(a,b,c,d){let e=c.req=(0,A.i)(c.req,["locale","fallbackLocale","transactionID"]),f=c.select=b.select?al(d):void 0;e.locale=b.locale||e.locale,e.fallbackLocale=b.fallbackLocale||e.fallbackLocale,e.query=e.query||{};let h=!(b.draft??e.query?.draft==="false")&&(e.query?.draft==="true"||void 0);"boolean"==typeof h&&(e.query.draft=String(h));let i={id:b.id,collection:g,depth:0,draft:b.draft,req:e,select:f,trash:b.trash};return await (0,am.$)(i)}},b.Query.fields[f]={type:aO(f,g.graphQL.type),args:{draft:{type:v.GraphQLBoolean},where:{type:g.graphQL.whereInputType},...a.localization?{fallbackLocale:{type:b.types.fallbackLocaleInputType},locale:{type:b.types.localeInputType}}:{},limit:{type:v.GraphQLInt},page:{type:v.GraphQLInt},pagination:{type:v.GraphQLBoolean},select:{type:v.GraphQLBoolean},sort:{type:v.GraphQLString},trash:{type:v.GraphQLBoolean}},resolve:async function(a,b,c,d){let e=c.req=(0,A.i)(c.req,["locale","fallbackLocale","transactionID"]),f=c.select=b.select?aj(d):void 0;e.locale=b.locale||e.locale,e.fallbackLocale=b.fallbackLocale||e.fallbackLocale,e.query=e.query||{};let h=!(b.draft??e.query?.draft==="false")&&(e.query?.draft==="true"||void 0);"boolean"==typeof h&&(e.query.draft=String(h));let{sort:i}=b,j={collection:g,depth:0,draft:b.draft,limit:b.limit,page:b.page,pagination:b.pagination,req:e,select:f,sort:i&&"string"==typeof i?i.split(","):void 0,trash:b.trash,where:b.where};return await (0,ai.L)(j)}},b.Query.fields[`count${f}`]={type:new v.GraphQLObjectType({name:`count${f}`,fields:{totalDocs:{type:v.GraphQLInt}}}),args:{draft:{type:v.GraphQLBoolean},trash:{type:v.GraphQLBoolean},where:{type:g.graphQL.whereInputType},...a.localization?{locale:{type:b.types.localeInputType}}:{}},resolve:async function(a,b,c){let{req:d}=c,e=d.locale,f=d.fallbackLocale;d=(0,A.i)(d,"locale"),(d=(0,A.i)(d,"fallbackLocale")).locale=b.locale||e,d.fallbackLocale=f,c.req=d;let h={collection:g,req:(0,A.i)(d,"transactionID"),trash:b.trash,where:b.where};return await (0,ad.R)(h)}},b.Query.fields[`docAccess${e}`]={type:P({type:"collection",entity:h,scope:"docAccess",typeSuffix:"DocAccess"}),args:{id:{type:new v.GraphQLNonNull(n)}},resolve:async function(a,b,c){return(0,ag.O)({id:b.id,collection:g,req:(0,A.i)(c.req,"transactionID")})}}),x&&(b.Mutation.fields[`create${e}`]={type:g.graphQL.type,args:{...t?{data:{type:g.graphQL.mutationInputType}}:{},draft:{type:v.GraphQLBoolean},...a.localization?{locale:{type:b.types.localeInputType}}:{}},resolve:async function(a,b,c){return b.locale&&(c.req.locale=b.locale),await (0,ae.k)({collection:g,data:b.data,depth:0,draft:b.draft,req:(0,A.i)(c.req,"transactionID")})}},b.Mutation.fields[`update${e}`]={type:g.graphQL.type,args:{id:{type:new v.GraphQLNonNull(n)},autosave:{type:v.GraphQLBoolean},...u?{data:{type:g.graphQL.updateMutationInputType}}:{},draft:{type:v.GraphQLBoolean},...a.localization?{locale:{type:b.types.localeInputType}}:{},trash:{type:v.GraphQLBoolean}},resolve:async function(a,b,c){let{req:d}=c,e=d.locale,f=d.fallbackLocale;d=(0,A.i)(d,"locale"),(d=(0,A.i)(d,"fallbackLocale")).locale=b.locale||e,d.fallbackLocale=b.fallbackLocale||f,d.query||(d.query={});let h=!(b.draft??d.query?.draft==="false")&&(d.query?.draft==="true"||void 0);"boolean"==typeof h&&(d.query.draft=String(h)),c.req=d;let i={id:b.id,autosave:b.autosave,collection:g,data:b.data,depth:0,draft:b.draft,req:(0,A.i)(d,"transactionID"),trash:b.trash};return await (0,aq.Z)(i)}},b.Mutation.fields[`delete${e}`]={type:g.graphQL.type,args:{id:{type:new v.GraphQLNonNull(n)},trash:{type:v.GraphQLBoolean}},resolve:async function(a,b,c){let{req:d}=c,e=d.locale,f=d.fallbackLocale;d=(0,A.i)(d,"locale"),(d=(0,A.i)(d,"fallbackLocale")).locale=b.locale||e,d.fallbackLocale=b.fallbackLocale||f,d.query||(d.query={});let h=!(b.draft??d.query?.draft==="false")&&(d.query?.draft==="true"||void 0);"boolean"==typeof h&&(d.query.draft=String(h)),c.req=d;let i={id:b.id,collection:g,depth:0,req:(0,A.i)(d,"transactionID"),trash:b.trash};return await (0,af.l)(i)}},!0!==h.disableDuplicate&&(b.Mutation.fields[`duplicate${e}`]={type:g.graphQL.type,args:{id:{type:new v.GraphQLNonNull(n)},...t?{data:{type:g.graphQL.mutationInputType}}:{}},resolve:async function(a,b,c){let{req:d}=c,e=d.locale,f=d.fallbackLocale;return d.locale=b.locale||e,d.fallbackLocale=b.fallbackLocale||f,c.req=d,await (0,ah.h)({id:b.id,collection:g,data:b.data,depth:0,draft:b.draft,req:(0,A.i)(d,"transactionID")})}})),h.versions){let c="text"===a.db.defaultIDType?v.GraphQLString:v.GraphQLInt,d=[...(0,R.c)(a,h),{name:"id",type:a.db.defaultIDType},{name:"createdAt",type:"date",label:({t:a})=>a("general:createdAt")},{name:"updatedAt",type:"date",label:({t:a})=>a("general:updatedAt")}];g.graphQL.versionType=aN({name:`${e}Version`,collectionSlug:h.slug,config:a,fields:d,forceNullable:q,graphqlResult:b,parentName:`${e}Version`}),w&&(b.Query.fields[`version${D(e)}`]={type:g.graphQL.versionType,args:{id:{type:c},...a.localization?{fallbackLocale:{type:b.types.fallbackLocaleInputType},locale:{type:b.types.localeInputType}}:{},trash:{type:v.GraphQLBoolean}},resolve:async function(a,b,c,d){let e=c.req=(0,A.i)(c.req,["locale","fallbackLocale","transactionID"]),f=c.select=b.select?al(d):void 0;e.locale=b.locale||e.locale,e.fallbackLocale=b.fallbackLocale||e.fallbackLocale,e.query=e.query||{};let h={id:b.id,collection:g,depth:0,req:e,select:f,trash:b.trash};return await (0,an.L)(h)}},b.Query.fields[`versions${f}`]={type:aO(`versions${D(f)}`,g.graphQL.versionType),args:{where:{type:aX({name:`versions${e}`,fields:d,parentName:`versions${e}`})},...a.localization?{fallbackLocale:{type:b.types.fallbackLocaleInputType},locale:{type:b.types.localeInputType}}:{},limit:{type:v.GraphQLInt},page:{type:v.GraphQLInt},pagination:{type:v.GraphQLBoolean},select:{type:v.GraphQLBoolean},sort:{type:v.GraphQLString},trash:{type:v.GraphQLBoolean}},resolve:async function(a,b,c,d){let e=c.req=(0,A.i)(c.req,["locale","fallbackLocale","transactionID"]),f=c.select=b.select?aj(d):void 0;e.locale=b.locale||e.locale,e.fallbackLocale=b.fallbackLocale||e.fallbackLocale,e.query=e.query||{};let h=!(b.draft??e.query?.draft==="false")&&(e.query?.draft==="true"||void 0);"boolean"==typeof h&&(e.query.draft=String(h));let{sort:i}=b,j={collection:g,depth:0,limit:b.limit,page:b.page,pagination:b.pagination,req:e,select:f,sort:i&&"string"==typeof i?i.split(","):void 0,trash:b.trash,where:b.where};return await (0,ao.s)(j)}}),x&&(b.Mutation.fields[`restoreVersion${D(e)}`]={type:g.graphQL.type,args:{id:{type:c},draft:{type:v.GraphQLBoolean}},resolve:async function(a,b,c){let d={id:b.id,collection:g,depth:0,draft:b.draft,req:(0,A.i)(c.req,"transactionID")};return await (0,ap.c)(d)}})}if(h.auth){let f=h.auth.disableLocalStrategy||h.auth.loginWithUsername&&!h.auth.loginWithUsername.allowEmailLogin&&!h.auth.loginWithUsername.requireEmail?[]:[{name:"email",type:"email",required:!0}];if((g.graphQL.JWT=aN({name:D(`${c}JWT`),config:a,fields:[...h.fields.filter(a=>(0,S.Z7)(a)&&a.saveToJWT),...f,{name:"collection",type:"text",required:!0}],graphqlResult:b,parentName:D(`${c}JWT`)}),w&&(b.Query.fields[`me${e}`]={type:new v.GraphQLObjectType({name:D(`${c}Me`),fields:{collection:{type:v.GraphQLString},exp:{type:v.GraphQLInt},strategy:{type:v.GraphQLString},token:{type:v.GraphQLString},user:{type:g.graphQL.type}}}),resolve:async function(a,b,c){let d={collection:g,currentToken:(0,Z.p)(c.req),depth:0,req:(0,A.i)(c.req,"transactionID")},e=await (0,$.M)(d);return g.config.auth.removeTokenFromResponses&&delete e.token,e}},b.Query.fields[`initialized${e}`]={type:v.GraphQLBoolean,resolve:(d=g.config.slug,async function(a,b,c){let e={collection:d,req:(0,A.i)(c.req,"transactionID")};return(0,V.M)(e)})}),x)&&(b.Mutation.fields[`refreshToken${e}`]={type:new v.GraphQLObjectType({name:D(`${c}Refreshed${e}`),fields:{exp:{type:v.GraphQLInt},refreshedToken:{type:v.GraphQLString},strategy:{type:v.GraphQLString},user:{type:g.graphQL.JWT}}}),resolve:async function(a,b,c){let d={collection:g,depth:0,req:(0,A.i)(c.req,"transactionID")},e=await (0,_.r)(d),f=(0,X.IS)({collectionAuthConfig:g.config.auth,cookiePrefix:c.req.payload.config.cookiePrefix,token:e.refreshedToken});return c.headers["Set-Cookie"]=f,g.config.auth.removeTokenFromResponses&&delete e.refreshedToken,e}},b.Mutation.fields[`logout${e}`]={type:v.GraphQLString,args:{allSessions:{type:v.GraphQLBoolean}},resolve:async function(a,b,c){let d={allSessions:b.allSessions,collection:g,req:(0,A.i)(c.req,"transactionID")},e=await (0,Y.u)(d),f=(0,X.DN)({collectionAuthConfig:g.config.auth,config:c.req.payload.config,cookiePrefix:c.req.payload.config.cookiePrefix});return c.headers["Set-Cookie"]=f,e}},!h.auth.disableLocalStrategy)){let a={},{canLoginWithEmail:d,canLoginWithUsername:f}=(0,T.Y)(h.auth.loginWithUsername);d&&(a.email={type:new v.GraphQLNonNull(v.GraphQLString)}),f&&(a.username={type:new v.GraphQLNonNull(v.GraphQLString)}),h.auth.maxLoginAttempts>0&&(b.Mutation.fields[`unlock${e}`]={type:new v.GraphQLNonNull(v.GraphQLBoolean),args:a,resolve:async function(a,b,c){let d={collection:g,data:{email:b.email,username:b.username},req:(0,A.i)(c.req,"transactionID")};return await (0,ab.k)(d)}}),b.Mutation.fields[`login${e}`]={type:new v.GraphQLObjectType({name:D(`${c}LoginResult`),fields:{exp:{type:v.GraphQLInt},token:{type:v.GraphQLString},user:{type:g.graphQL.type}}}),args:{...a,password:{type:v.GraphQLString}},resolve:async function(a,b,c){let d={collection:g,data:{email:b.email,password:b.password,username:b.username},depth:0,req:(0,A.i)(c.req,"transactionID")},e=await (0,W.k)(d),f=(0,X.IS)({collectionAuthConfig:g.config.auth,cookiePrefix:c.req.payload.config.cookiePrefix,token:e.token});return c.headers["Set-Cookie"]=f,g.config.auth.removeTokenFromResponses&&delete e.token,e}},b.Mutation.fields[`forgotPassword${e}`]={type:new v.GraphQLNonNull(v.GraphQLBoolean),args:{disableEmail:{type:v.GraphQLBoolean},expiration:{type:v.GraphQLInt},...a},resolve:async function(a,b,c){let d={collection:g,data:{email:b.email,username:b.username},disableEmail:b.disableEmail,expiration:b.expiration,req:(0,A.i)(c.req,"transactionID")};return await (0,U.g)(d),!0}},b.Mutation.fields[`resetPassword${e}`]={type:new v.GraphQLObjectType({name:D(`${c}ResetPassword`),fields:{token:{type:v.GraphQLString},user:{type:g.graphQL.type}}}),args:{password:{type:v.GraphQLString},token:{type:v.GraphQLString}},resolve:async function(a,b,c){b.locale&&(c.req.locale=b.locale),b.fallbackLocale&&(c.req.fallbackLocale=b.fallbackLocale);let d={api:"GraphQL",collection:g,data:b,depth:0,req:(0,A.i)(c.req,"transactionID")},e=await (0,aa.q)(d),f=(0,X.IS)({collectionAuthConfig:g.config.auth,cookiePrefix:c.req.payload.config.cookiePrefix,token:e.token});return c.headers["Set-Cookie"]=f,g.config.auth.removeTokenFromResponses&&delete e.token,e}},b.Mutation.fields[`verifyEmail${e}`]={type:v.GraphQLBoolean,args:{token:{type:v.GraphQLString}},resolve:async function(a,b,c){b.locale&&(c.req.locale=b.locale),b.fallbackLocale&&(c.req.fallbackLocale=b.fallbackLocale);let d={api:"GraphQL",collection:g,req:(0,A.i)(c.req,"transactionID"),token:b.token};return await (0,ac.p)(d)}}}}})}({config:a,graphqlResult:b}),!function({config:a,graphqlResult:b}){Object.keys(b.globals.config).forEach(c=>{let d=b.globals.config[c],{fields:e,graphQL:f}=d;if(!1===f)return;let g=f?.name?f.name:a5((0,F.x4)(d.slug,!0)),h=(0,a$.gD)(d);b.globals.graphQL||(b.globals.graphQL={});let i=aw({name:g,config:a,fields:e,graphqlResult:b,parentIsLocalized:!1,parentName:g});b.globals.graphQL[c]={type:aN({name:g,config:a,fields:e,forceNullable:h,graphqlResult:b,parentName:g}),mutationInputType:i?new v.GraphQLNonNull(i):null};let j="object"!=typeof d.graphQL||!d.graphQL.disableQueries,k="object"!=typeof d.graphQL||!d.graphQL.disableMutations;if(j&&(b.Query.fields[g]={type:b.globals.graphQL[c].type,args:{draft:{type:v.GraphQLBoolean},...a.localization?{fallbackLocale:{type:b.types.fallbackLocaleInputType},locale:{type:b.types.localeInputType}}:{},select:{type:v.GraphQLBoolean}},resolve:async function(a,b,c,e){let f=c.req=(0,A.i)(c.req,["locale","fallbackLocale","transactionID"]),g=c.select=b.select?al(e):void 0,{slug:h}=d;f.locale=b.locale||f.locale,f.fallbackLocale=b.fallbackLocale||f.fallbackLocale,f.query=f.query||{};let i={slug:h,depth:0,draft:b.draft,globalConfig:d,req:f,select:g};return await (0,a0.j)(i)}},b.Query.fields[`docAccess${g}`]={type:P({type:"global",entity:d,scope:"docAccess",typeSuffix:"DocAccess"}),resolve:async function(a,b){return(0,a_.O)({globalConfig:d,req:(0,A.i)(b.req,"transactionID")})}}),k&&(b.Mutation.fields[`update${g}`]={type:b.globals.graphQL[c].type,args:{...i?{data:{type:b.globals.graphQL[c].mutationInputType}}:{},draft:{type:v.GraphQLBoolean},...a.localization?{locale:{type:b.types.localeInputType}}:{}},resolve:async function(a,b,c){b.locale&&(c.req.locale=b.locale),b.fallbackLocale&&(c.req.fallbackLocale=b.fallbackLocale);let{slug:e}=d,f={slug:e,data:b.data,depth:0,draft:b.draft,globalConfig:d,req:(0,A.i)(c.req,"transactionID")};return await (0,a4.L)(f)}}),d.versions){let e="number"===a.db.defaultIDType?v.GraphQLInt:v.GraphQLString,f=[...(0,aZ.p)(a,d),{name:"id",type:a.db.defaultIDType},{name:"createdAt",type:"date",label:"Created At"},{name:"updatedAt",type:"date",label:"Updated At"}];b.globals.graphQL[c].versionType=aN({name:`${g}Version`,config:a,fields:f,forceNullable:h,graphqlResult:b,parentName:`${g}Version`}),j&&(b.Query.fields[`version${D(g)}`]={type:b.globals.graphQL[c].versionType,args:{id:{type:e},draft:{type:v.GraphQLBoolean},...a.localization?{fallbackLocale:{type:b.types.fallbackLocaleInputType},locale:{type:b.types.localeInputType}}:{},select:{type:v.GraphQLBoolean}},resolve:async function(a,b,c,e){let f=c.req=(0,A.i)(c.req,["locale","fallbackLocale","transactionID"]),g=c.select=b.select?al(e):void 0;f.locale=b.locale||f.locale,f.fallbackLocale=b.fallbackLocale||f.fallbackLocale,f.query=f.query||{};let h={id:b.id,depth:0,draft:b.draft,globalConfig:d,req:f,select:g};return await (0,a1.L)(h)}},b.Query.fields[`versions${g}`]={type:aO(`versions${D(g)}`,b.globals.graphQL[c].versionType),args:{where:{type:aX({name:`versions${g}`,fields:f,parentName:`versions${g}`})},...a.localization?{fallbackLocale:{type:b.types.fallbackLocaleInputType},locale:{type:b.types.localeInputType}}:{},limit:{type:v.GraphQLInt},page:{type:v.GraphQLInt},pagination:{type:v.GraphQLBoolean},select:{type:v.GraphQLBoolean},sort:{type:v.GraphQLString}},resolve:async function(a,b,c,e){let f=c.req=(0,A.i)(c.req,["locale","fallbackLocale","transactionID"]),g=c.select=b.select?aj(e):void 0;f.locale=b.locale||f.locale,f.fallbackLocale=b.fallbackLocale||f.fallbackLocale,f.query=f.query||{};let{sort:h}=b,i={depth:0,globalConfig:d,limit:b.limit,page:b.page,pagination:b.pagination,req:f,select:g,sort:h&&"string"==typeof h?h.split(","):void 0,where:b.where};return await (0,a2.s)(i)}}),k&&(b.Mutation.fields[`restoreVersion${D(g)}`]={type:b.globals.graphQL[c].type,args:{id:{type:e},draft:{type:v.GraphQLBoolean}},resolve:async function(a,b,c){let e={id:b.id,depth:0,draft:b.draft,globalConfig:d,req:(0,A.i)(c.req,"transactionID")};return await (0,a3.c)(e)}})}})}({config:a,graphqlResult:b}),b.Query.fields.Access={type:function(a){let b={canAccessAdmin:{type:new v.GraphQLNonNull(v.GraphQLBoolean)}};return Object.values(a.collections).forEach(a=>{if(!1===a.graphQL)return;let c=P({type:"collection",entity:a,typeSuffix:"Access"});b[D(a.slug)]={type:c}}),Object.values(a.globals).forEach(a=>{if(!1===a.graphQL)return;let c=P({type:"global",entity:a,typeSuffix:"Access"});b[D(a.slug)]={type:c}}),new v.GraphQLObjectType({name:"Access",fields:b})}(a),resolve:async function(b,c,d){let e={req:(0,A.i)(d.req,"transactionID")},f=await (0,B.m)(e);return{...f,...E(f.collections,a.collections),...E(f.globals,a.globals)}}},"function"==typeof a.graphQL.queries){let c=a.graphQL.queries(w,{...b,config:a});b.Query={...b.Query,fields:{...b.Query.fields,...a6(c||{})}}}if("function"==typeof a.graphQL.mutations){let c=a.graphQL.mutations(w,{...b,config:a});b.Mutation={...b.Mutation,fields:{...b.Mutation.fields,...a6(c||{})}}}let c=new v.GraphQLObjectType(b.Query),d=new v.GraphQLObjectType(b.Mutation);return{schema:new v.GraphQLSchema({mutation:d,query:c}),validationRules:b=>{var c;return[(c={estimators:[a=>{if(a.field.extensions){if("number"==typeof a.field.extensions.complexity)return a.childComplexity+a.field.extensions.complexity;else if("function"==typeof a.field.extensions.complexity)return a.field.extensions.complexity(a)}},(a=>{let b=a&&"number"==typeof a.defaultComplexity?a.defaultComplexity:1;return a=>b+a.childComplexity})({defaultComplexity:1})],maximumComplexity:a.graphQL.maxComplexity,variables:b.variableValues},a=>new y(a,c)),...a.graphQL.disableIntrospectionInProduction?[a7]:[],..."function"==typeof a?.graphQL?.validationRules?a.graphQL.validationRules(b):[]]}}}(b);a(bo.graphql||c)})}try{bo.graphql=await bo.promise}catch(a){throw bo.promise=null,a}return bo.graphql};var bq=c(61759);let br=(a=>async b=>{let c=b.clone(),d=await (0,bi.o)({canSetHeaders:!0,config:a,request:b});await (0,bj.z)(d),(0,bk.r)(d);let{schema:e,validationRules:f}=await bp(a),{payload:g}=d,h={},i=await (function(a,b={}){let c={Response:b.Response||Response,TextEncoder:b.TextEncoder||TextEncoder,ReadableStream:b.ReadableStream||ReadableStream},d=function(a){let{schema:b,context:c,validate:d=v.validate,validationRules:e=[],execute:f=v.execute,parse:g=v.parse,getOperationAST:h=v.getOperationAST,rootValue:i,onSubscribe:j,onOperation:k,formatError:l=a=>a,parseRequestParams:m=ba}=a;return async function(a){let n,o,p,q=null;for(let b of(bc(a,"accept")||"*/*").replace(/\s/g,"").toLowerCase().split(",")){let[a,...c]=b.split(";"),d=(null==c?void 0:c.find(a=>a.includes("charset=")))||"charset=utf-8";if("application/graphql-response+json"===a&&"charset=utf-8"===d){q="application/graphql-response+json";break}if(("application/json"===a||"application/*"===a||"*/*"===a)&&("charset=utf-8"===d||"charset=utf8"===d)){q="application/json";break}}if(!q)return[null,{status:406,statusText:"Not Acceptable",headers:{accept:"application/graphql-response+json; charset=utf-8, application/json; charset=utf-8"}}];try{let b=await m(a);if(b||(b=await ba(a)),a9(b))return b;n=b}catch(a){return bb(a,q,l)}let r=await (null==j?void 0:j(a,n));if(a9(r))return r;if(a8(r)&&("data"in r||"data"in r&&null==r.data&&"errors"in r)||bd(r))return bb(r,q,l);if(r)o=r;else{let f;if(!b)throw Error("The GraphQL schema is not provided");let{operationName:h,query:i,variables:j}=n;try{f=g(i)}catch(a){return bb(a,q,l)}let k="function"==typeof c?await c(a,n):c;if(a9(k))return k;let m={operationName:h,document:f,variableValues:j,contextValue:k};if("function"==typeof b){let c=await b(a,m);if(a9(c))return c;o=Object.assign(Object.assign({},m),{schema:c})}else o=Object.assign(Object.assign({},m),{schema:b});let p=v.specifiedRules;p="function"==typeof e?await e(a,o,v.specifiedRules):[...p,...e];let r=d(o.schema,o.document,p);if(r.length)return bb(r,q,l)}try{let a=h(o.document,o.operationName);if(!a)throw null;p=a.operation}catch(a){return bb(new v.GraphQLError("Unable to detect operation AST"),q,l)}if("subscription"===p)return bb(new v.GraphQLError("Subscriptions are not supported"),q,l);if("mutation"===p&&"GET"===a.method)return[JSON.stringify({errors:[new v.GraphQLError("Cannot perform mutations over GET")]}),{status:405,statusText:"Method Not Allowed",headers:{allow:"POST"}}];if("rootValue"in o||(o.rootValue=i),!("contextValue"in o)){let b="function"==typeof c?await c(a,n):c;if(a9(b))return b;o.contextValue=b}let s=await f(o),t=await (null==k?void 0:k(a,o,s));return a9(t)?t:(t&&(s=t),"function"==typeof Object(s)[Symbol.asyncIterator]?bb(new v.GraphQLError("Subscriptions are not supported"),q,l):bb(s,q,l))}}(a);return async function(a){try{let[b,e]=await d(function(a,b={}){return{method:a.method,url:a.url,headers:a.headers,body:()=>a.text(),raw:a,context:{Response:b.Response||Response,TextEncoder:b.TextEncoder||TextEncoder,ReadableStream:b.ReadableStream||ReadableStream}}}(a,c));return new c.Response(b,e)}catch(a){return console.error("Internal error occurred during request handling. Please check your implementation.",a),new c.Response(null,{status:500})}}})({context:{headers:h,req:d},onOperation:async(a,b,c)=>{let e="function"==typeof g.extensions?await g.extensions({args:b,req:a,result:c}):c;if(e.errors){let a=await Promise.all(c.errors.map(a=>bn({err:a,payload:g,req:d})));return{...e,errors:a}}return e},schema:e,validationRules:(a,b,c)=>c.concat(f(b))})(c),j=(0,bl.y)({headers:new Headers(i.headers),req:d});for(let a in h)j.append(a,h[a]);return new Response(i.body,{headers:d.responseHeaders?(0,bm.l)(d.responseHeaders,j):j,status:i.status})})(u.A),bs=(0,bq.lw)(u.A),bt=new e.AppRouteRouteModule({definition:{kind:f.RouteKind.APP_ROUTE,page:"/(payload)/api/graphql/route",pathname:"/api/graphql",filename:"route",bundlePath:"app/(payload)/api/graphql/route"},distDir:".next",projectDir:"",resolvedPagePath:"/home/node/app/src/app/(payload)/api/graphql/route.ts",nextConfigOutput:"",userland:d}),{workAsyncStorage:bu,workUnitAsyncStorage:bv,serverHooks:bw}=bt;function bx(){return(0,g.patchFetch)({workAsyncStorage:bu,workUnitAsyncStorage:bv})}async function by(a,b,c){var d;let e="/(payload)/api/graphql/route";"/index"===e&&(e="/");let g=await bt.prepare(a,b,{srcPage:e,multiZoneDraftMode:"false"});if(!g)return b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve()),null;let{buildId:u,params:v,nextConfig:w,isDraftMode:x,prerenderManifest:y,routerServerContext:z,isOnDemandRevalidate:A,revalidateOnlyGenerated:B,resolvedPathname:C}=g,D=(0,j.normalizeAppPath)(e),E=!!(y.dynamicRoutes[D]||y.routes[C]);if(E&&!x){let a=!!y.routes[C],b=y.dynamicRoutes[D];if(b&&!1===b.fallback&&!a)throw new s.NoFallbackError}let F=null;!E||bt.isDev||x||(F="/index"===(F=C)?"/":F);let G=!0===bt.isDev||!E,H=E&&!G,I=a.method||"GET",J=(0,i.getTracer)(),K=J.getActiveScopeSpan(),L={params:v,prerenderManifest:y,renderOpts:{experimental:{dynamicIO:!!w.experimental.dynamicIO,authInterrupts:!!w.experimental.authInterrupts},supportsDynamicResponse:G,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:null==(d=w.experimental)?void 0:d.cacheLife,isRevalidate:H,waitUntil:c.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:void 0,onInstrumentationRequestError:(b,c,d)=>bt.onRequestError(a,b,d,z)},sharedContext:{buildId:u}},M=new k.NodeNextRequest(a),N=new k.NodeNextResponse(b),O=l.NextRequestAdapter.fromNodeNextRequest(M,(0,l.signalFromNodeResponse)(b));try{let d=async c=>bt.handle(O,L).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=J.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==m.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${I} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${I} ${a.url}`)}),g=async g=>{var i,j;let k=async({previousCacheEntry:f})=>{try{if(!(0,h.getRequestMeta)(a,"minimalMode")&&A&&B&&!f)return b.statusCode=404,b.setHeader("x-nextjs-cache","REVALIDATED"),b.end("This page could not be found"),null;let e=await d(g);a.fetchMetrics=L.renderOpts.fetchMetrics;let i=L.renderOpts.pendingWaitUntil;i&&c.waitUntil&&(c.waitUntil(i),i=void 0);let j=L.renderOpts.collectedTags;if(!E)return await (0,o.I)(M,N,e,L.renderOpts.pendingWaitUntil),null;{let a=await e.blob(),b=(0,p.toNodeOutgoingHttpHeaders)(e.headers);j&&(b[r.NEXT_CACHE_TAGS_HEADER]=j),!b["content-type"]&&a.type&&(b["content-type"]=a.type);let c=void 0!==L.renderOpts.collectedRevalidate&&!(L.renderOpts.collectedRevalidate>=r.INFINITE_CACHE)&&L.renderOpts.collectedRevalidate,d=void 0===L.renderOpts.collectedExpire||L.renderOpts.collectedExpire>=r.INFINITE_CACHE?void 0:L.renderOpts.collectedExpire;return{value:{kind:t.CachedRouteKind.APP_ROUTE,status:e.status,body:Buffer.from(await a.arrayBuffer()),headers:b},cacheControl:{revalidate:c,expire:d}}}}catch(b){throw(null==f?void 0:f.isStale)&&await bt.onRequestError(a,b,{routerKind:"App Router",routePath:e,routeType:"route",revalidateReason:(0,n.c)({isRevalidate:H,isOnDemandRevalidate:A})},z),b}},l=await bt.handleResponse({req:a,nextConfig:w,cacheKey:F,routeKind:f.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:y,isRoutePPREnabled:!1,isOnDemandRevalidate:A,revalidateOnlyGenerated:B,responseGenerator:k,waitUntil:c.waitUntil});if(!E)return null;if((null==l||null==(i=l.value)?void 0:i.kind)!==t.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==l||null==(j=l.value)?void 0:j.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});(0,h.getRequestMeta)(a,"minimalMode")||b.setHeader("x-nextjs-cache",A?"REVALIDATED":l.isMiss?"MISS":l.isStale?"STALE":"HIT"),x&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let m=(0,p.fromNodeOutgoingHttpHeaders)(l.value.headers);return(0,h.getRequestMeta)(a,"minimalMode")&&E||m.delete(r.NEXT_CACHE_TAGS_HEADER),!l.cacheControl||b.getHeader("Cache-Control")||m.get("Cache-Control")||m.set("Cache-Control",(0,q.getCacheControlHeader)(l.cacheControl)),await (0,o.I)(M,N,new Response(l.value.body,{headers:m,status:l.value.status||200})),null};K?await g(K):await J.withPropagatedContext(a.headers,()=>J.trace(m.BaseServerSpan.handleRequest,{spanName:`${I} ${a.url}`,kind:i.SpanKind.SERVER,attributes:{"http.method":I,"http.target":a.url}},g))}catch(b){if(K||b instanceof s.NoFallbackError||await bt.onRequestError(a,b,{routerKind:"App Router",routePath:D,routeType:"route",revalidateReason:(0,n.c)({isRevalidate:H,isOnDemandRevalidate:A})}),E)throw b;return await (0,o.I)(M,N,new Response(null,{status:500})),null}}},73024:a=>{"use strict";a.exports=require("node:fs")},73136:a=>{"use strict";a.exports=require("node:url")},73429:a=>{"use strict";a.exports=require("node:util/types")},73566:a=>{"use strict";a.exports=require("worker_threads")},74075:a=>{"use strict";a.exports=require("zlib")},75919:a=>{"use strict";a.exports=require("node:worker_threads")},76760:a=>{"use strict";a.exports=require("node:path")},77030:a=>{"use strict";a.exports=require("node:net")},77598:a=>{"use strict";a.exports=require("node:crypto")},78474:a=>{"use strict";a.exports=require("node:events")},79428:a=>{"use strict";a.exports=require("buffer")},79551:a=>{"use strict";a.exports=require("url")},79646:a=>{"use strict";a.exports=require("child_process")},79748:a=>{"use strict";a.exports=require("fs/promises")},79868:a=>{"use strict";a.exports=require("node:sqlite")},81630:a=>{"use strict";a.exports=require("http")},83725:a=>{"use strict";a.exports=import("next/dist/compiled/@vercel/og/index.node.js")},83997:a=>{"use strict";a.exports=require("tty")},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},88607:()=>{},91645:a=>{"use strict";a.exports=require("net")},94735:a=>{"use strict";a.exports=require("events")},98995:a=>{"use strict";a.exports=require("node:module")}};var b=require("../../../../webpack-runtime.js");b.C(a);var c=b.X(0,[9617,8973,9842,5328,6150],()=>b(b.s=65086));module.exports=c})();